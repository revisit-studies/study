function zSe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function SL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var rX={exports:{}},yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=Symbol.for("react.element"),VSe=Symbol.for("react.portal"),USe=Symbol.for("react.fragment"),HSe=Symbol.for("react.strict_mode"),WSe=Symbol.for("react.profiler"),qSe=Symbol.for("react.provider"),GSe=Symbol.for("react.context"),KSe=Symbol.for("react.forward_ref"),YSe=Symbol.for("react.suspense"),QSe=Symbol.for("react.memo"),XSe=Symbol.for("react.lazy"),rV=Symbol.iterator;function JSe(e){return e===null||typeof e!="object"?null:(e=rV&&e[rV]||e["@@iterator"],typeof e=="function"?e:null)}var iX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sX=Object.assign,oX={};function Dy(e,t,n){this.props=e,this.context=t,this.refs=oX,this.updater=n||iX}Dy.prototype.isReactComponent={};Dy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function aX(){}aX.prototype=Dy.prototype;function xL(e,t,n){this.props=e,this.context=t,this.refs=oX,this.updater=n||iX}var EL=xL.prototype=new aX;EL.constructor=xL;sX(EL,Dy.prototype);EL.isPureReactComponent=!0;var iV=Array.isArray,lX=Object.prototype.hasOwnProperty,IL={current:null},uX={key:!0,ref:!0,__self:!0,__source:!0};function cX(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)lX.call(t,r)&&!uX.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Rw,type:e,key:s,ref:o,props:i,_owner:IL.current}}function ZSe(e,t){return{$$typeof:Rw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function OL(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rw}function exe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sV=/\/+/g;function Jk(e,t){return typeof e=="object"&&e!==null&&e.key!=null?exe(""+e.key):t.toString(36)}function lx(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rw:case VSe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Jk(o,0):r,iV(i)?(n="",e!=null&&(n=e.replace(sV,"$&/")+"/"),lx(i,t,n,"",function(u){return u})):i!=null&&(OL(i)&&(i=ZSe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sV,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",iV(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Jk(s,a);o+=lx(s,t,n,l,i)}else if(l=JSe(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Jk(s,a++),o+=lx(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ub(e,t,n){if(e==null)return e;var r=[],i=0;return lx(e,r,"","",function(s){return t.call(n,s,i++)}),r}function txe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var eo={current:null},ux={transition:null},nxe={ReactCurrentDispatcher:eo,ReactCurrentBatchConfig:ux,ReactCurrentOwner:IL};yn.Children={map:Ub,forEach:function(e,t,n){Ub(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ub(e,function(){t++}),t},toArray:function(e){return Ub(e,function(t){return t})||[]},only:function(e){if(!OL(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yn.Component=Dy;yn.Fragment=USe;yn.Profiler=WSe;yn.PureComponent=xL;yn.StrictMode=HSe;yn.Suspense=YSe;yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nxe;yn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sX({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=IL.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)lX.call(t,l)&&!uX.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Rw,type:e.type,key:i,ref:s,props:r,_owner:o}};yn.createContext=function(e){return e={$$typeof:GSe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qSe,_context:e},e.Consumer=e};yn.createElement=cX;yn.createFactory=function(e){var t=cX.bind(null,e);return t.type=e,t};yn.createRef=function(){return{current:null}};yn.forwardRef=function(e){return{$$typeof:KSe,render:e}};yn.isValidElement=OL;yn.lazy=function(e){return{$$typeof:XSe,_payload:{_status:-1,_result:e},_init:txe}};yn.memo=function(e,t){return{$$typeof:QSe,type:e,compare:t===void 0?null:t}};yn.startTransition=function(e){var t=ux.transition;ux.transition={};try{e()}finally{ux.transition=t}};yn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};yn.useCallback=function(e,t){return eo.current.useCallback(e,t)};yn.useContext=function(e){return eo.current.useContext(e)};yn.useDebugValue=function(){};yn.useDeferredValue=function(e){return eo.current.useDeferredValue(e)};yn.useEffect=function(e,t){return eo.current.useEffect(e,t)};yn.useId=function(){return eo.current.useId()};yn.useImperativeHandle=function(e,t,n){return eo.current.useImperativeHandle(e,t,n)};yn.useInsertionEffect=function(e,t){return eo.current.useInsertionEffect(e,t)};yn.useLayoutEffect=function(e,t){return eo.current.useLayoutEffect(e,t)};yn.useMemo=function(e,t){return eo.current.useMemo(e,t)};yn.useReducer=function(e,t,n){return eo.current.useReducer(e,t,n)};yn.useRef=function(e){return eo.current.useRef(e)};yn.useState=function(e){return eo.current.useState(e)};yn.useSyncExternalStore=function(e,t,n){return eo.current.useSyncExternalStore(e,t,n)};yn.useTransition=function(){return eo.current.useTransition()};yn.version="18.2.0";rX.exports=yn;var O=rX.exports;const Ka=Uu(O),hp=zSe({__proto__:null,default:Ka},[O]);var MR={},fX={exports:{}},ga={},dX={exports:{}},hX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,oe){var X=Z.length;Z.push(oe);e:for(;0<X;){var k=X-1>>>1,A=Z[k];if(0<i(A,oe))Z[k]=oe,Z[X]=A,X=k;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var oe=Z[0],X=Z.pop();if(X!==oe){Z[0]=X;e:for(var k=0,A=Z.length,K=A>>>1;k<K;){var D=2*(k+1)-1,R=Z[D],Y=D+1,fe=Z[Y];if(0>i(R,X))Y<A&&0>i(fe,R)?(Z[k]=fe,Z[Y]=X,k=Y):(Z[k]=R,Z[D]=X,k=D);else if(Y<A&&0>i(fe,X))Z[k]=fe,Z[Y]=X,k=Y;else break e}}return oe}function i(Z,oe){var X=Z.sortIndex-oe.sortIndex;return X!==0?X:Z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Z){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=Z)r(u),oe.sortIndex=oe.expirationTime,t(l,oe);else break;oe=n(u)}}function x(Z){if(y=!1,S(Z),!g)if(n(l)!==null)g=!0,le($);else{var oe=n(u);oe!==null&&pe(x,oe.startTime-Z)}}function $(Z,oe){g=!1,y&&(y=!1,v(T),T=-1),m=!0;var X=h;try{for(S(oe),d=n(l);d!==null&&(!(d.expirationTime>oe)||Z&&!z());){var k=d.callback;if(typeof k=="function"){d.callback=null,h=d.priorityLevel;var A=k(d.expirationTime<=oe);oe=e.unstable_now(),typeof A=="function"?d.callback=A:d===n(l)&&r(l),S(oe)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var D=n(u);D!==null&&pe(x,D.startTime-oe),K=!1}return K}finally{d=null,h=X,m=!1}}var E=!1,I=null,T=-1,M=5,U=-1;function z(){return!(e.unstable_now()-U<M)}function H(){if(I!==null){var Z=e.unstable_now();U=Z;var oe=!0;try{oe=I(!0,Z)}finally{oe?q():(E=!1,I=null)}}else E=!1}var q;if(typeof b=="function")q=function(){b(H)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ue=B.port2;B.port1.onmessage=H,q=function(){ue.postMessage(null)}}else q=function(){_(H,0)};function le(Z){I=Z,E||(E=!0,q())}function pe(Z,oe){T=_(function(){Z(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,le($))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var X=h;h=oe;try{return Z()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var X=h;h=Z;try{return oe()}finally{h=X}},e.unstable_scheduleCallback=function(Z,oe,X){var k=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?k+X:k):X=k,Z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=X+A,Z={id:c++,callback:oe,priorityLevel:Z,startTime:X,expirationTime:A,sortIndex:-1},X>k?(Z.sortIndex=X,t(u,Z),n(l)===null&&Z===n(u)&&(y?(v(T),T=-1):y=!0,pe(x,X-k))):(Z.sortIndex=A,t(l,Z),g||m||(g=!0,le($))),Z},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(Z){var oe=h;return function(){var X=h;h=oe;try{return Z.apply(this,arguments)}finally{h=X}}}})(hX);dX.exports=hX;var rxe=dX.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pX=O,ua=rxe;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mX=new Set,b_={};function zp(e,t){jg(e,t),jg(e+"Capture",t)}function jg(e,t){for(b_[e]=t,e=0;e<t.length;e++)mX.add(t[e])}var Rc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LR=Object.prototype.hasOwnProperty,ixe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oV={},aV={};function sxe(e){return LR.call(aV,e)?!0:LR.call(oV,e)?!1:ixe.test(e)?aV[e]=!0:(oV[e]=!0,!1)}function oxe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function axe(e,t,n,r){if(t===null||typeof t>"u"||oxe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function to(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ds={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ds[e]=new to(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ds[t]=new to(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ds[e]=new to(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ds[e]=new to(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ds[e]=new to(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ds[e]=new to(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ds[e]=new to(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ds[e]=new to(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ds[e]=new to(e,5,!1,e.toLowerCase(),null,!1,!1)});var $L=/[\-:]([a-z])/g;function CL(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($L,CL);ds[t]=new to(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($L,CL);ds[t]=new to(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($L,CL);ds[t]=new to(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ds[e]=new to(e,1,!1,e.toLowerCase(),null,!1,!1)});ds.xlinkHref=new to("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ds[e]=new to(e,1,!1,e.toLowerCase(),null,!0,!0)});function PL(e,t,n,r){var i=ds.hasOwnProperty(t)?ds[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(axe(t,n,i,r)&&(n=null),r||i===null?sxe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tf=pX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hb=Symbol.for("react.element"),Vm=Symbol.for("react.portal"),Um=Symbol.for("react.fragment"),TL=Symbol.for("react.strict_mode"),FR=Symbol.for("react.profiler"),gX=Symbol.for("react.provider"),yX=Symbol.for("react.context"),kL=Symbol.for("react.forward_ref"),jR=Symbol.for("react.suspense"),BR=Symbol.for("react.suspense_list"),AL=Symbol.for("react.memo"),Nf=Symbol.for("react.lazy"),vX=Symbol.for("react.offscreen"),lV=Symbol.iterator;function Dv(e){return e===null||typeof e!="object"?null:(e=lV&&e[lV]||e["@@iterator"],typeof e=="function"?e:null)}var Vr=Object.assign,Zk;function v0(e){if(Zk===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zk=t&&t[1]||""}return`
`+Zk+e}var eA=!1;function tA(e,t){if(!e||eA)return"";eA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{eA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?v0(e):""}function lxe(e){switch(e.tag){case 5:return v0(e.type);case 16:return v0("Lazy");case 13:return v0("Suspense");case 19:return v0("SuspenseList");case 0:case 2:case 15:return e=tA(e.type,!1),e;case 11:return e=tA(e.type.render,!1),e;case 1:return e=tA(e.type,!0),e;default:return""}}function zR(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Um:return"Fragment";case Vm:return"Portal";case FR:return"Profiler";case TL:return"StrictMode";case jR:return"Suspense";case BR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yX:return(e.displayName||"Context")+".Consumer";case gX:return(e._context.displayName||"Context")+".Provider";case kL:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case AL:return t=e.displayName||null,t!==null?t:zR(e.type)||"Memo";case Nf:t=e._payload,e=e._init;try{return zR(e(t))}catch{}}return null}function uxe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zR(t);case 8:return t===TL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _d(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _X(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cxe(e){var t=_X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wb(e){e._valueTracker||(e._valueTracker=cxe(e))}function wX(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_X(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function aE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function VR(e,t){var n=t.checked;return Vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_d(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bX(e,t){t=t.checked,t!=null&&PL(e,"checked",t,!1)}function UR(e,t){bX(e,t);var n=_d(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?HR(e,t.type,n):t.hasOwnProperty("defaultValue")&&HR(e,t.type,_d(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function HR(e,t,n){(t!=="number"||aE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _0=Array.isArray;function pg(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_d(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function WR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fV(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Me(92));if(_0(n)){if(1<n.length)throw Error(Me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_d(n)}}function SX(e,t){var n=_d(t.value),r=_d(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xX(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xX(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qb,EX=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qb=qb||document.createElement("div"),qb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function S_(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var F0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fxe=["Webkit","ms","Moz","O"];Object.keys(F0).forEach(function(e){fxe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),F0[t]=F0[e]})});function IX(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||F0.hasOwnProperty(e)&&F0[e]?(""+t).trim():t+"px"}function OX(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=IX(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var dxe=Vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GR(e,t){if(t){if(dxe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function KR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YR=null;function NL(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var QR=null,mg=null,gg=null;function hV(e){if(e=Lw(e)){if(typeof QR!="function")throw Error(Me(280));var t=e.stateNode;t&&(t=eC(t),QR(e.stateNode,e.type,t))}}function $X(e){mg?gg?gg.push(e):gg=[e]:mg=e}function CX(){if(mg){var e=mg,t=gg;if(gg=mg=null,hV(e),t)for(e=0;e<t.length;e++)hV(t[e])}}function PX(e,t){return e(t)}function TX(){}var nA=!1;function kX(e,t,n){if(nA)return e(t,n);nA=!0;try{return PX(e,t,n)}finally{nA=!1,(mg!==null||gg!==null)&&(TX(),CX())}}function x_(e,t){var n=e.stateNode;if(n===null)return null;var r=eC(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Me(231,t,typeof n));return n}var XR=!1;if(Rc)try{var Mv={};Object.defineProperty(Mv,"passive",{get:function(){XR=!0}}),window.addEventListener("test",Mv,Mv),window.removeEventListener("test",Mv,Mv)}catch{XR=!1}function hxe(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var j0=!1,lE=null,uE=!1,JR=null,pxe={onError:function(e){j0=!0,lE=e}};function mxe(e,t,n,r,i,s,o,a,l){j0=!1,lE=null,hxe.apply(pxe,arguments)}function gxe(e,t,n,r,i,s,o,a,l){if(mxe.apply(this,arguments),j0){if(j0){var u=lE;j0=!1,lE=null}else throw Error(Me(198));uE||(uE=!0,JR=u)}}function Vp(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function AX(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pV(e){if(Vp(e)!==e)throw Error(Me(188))}function yxe(e){var t=e.alternate;if(!t){if(t=Vp(e),t===null)throw Error(Me(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pV(i),e;if(s===r)return pV(i),t;s=s.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?e:t}function NX(e){return e=yxe(e),e!==null?RX(e):null}function RX(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=RX(e);if(t!==null)return t;e=e.sibling}return null}var DX=ua.unstable_scheduleCallback,mV=ua.unstable_cancelCallback,vxe=ua.unstable_shouldYield,_xe=ua.unstable_requestPaint,oi=ua.unstable_now,wxe=ua.unstable_getCurrentPriorityLevel,RL=ua.unstable_ImmediatePriority,MX=ua.unstable_UserBlockingPriority,cE=ua.unstable_NormalPriority,bxe=ua.unstable_LowPriority,LX=ua.unstable_IdlePriority,Q$=null,Ou=null;function Sxe(e){if(Ou&&typeof Ou.onCommitFiberRoot=="function")try{Ou.onCommitFiberRoot(Q$,e,void 0,(e.current.flags&128)===128)}catch{}}var Nl=Math.clz32?Math.clz32:Ixe,xxe=Math.log,Exe=Math.LN2;function Ixe(e){return e>>>=0,e===0?32:31-(xxe(e)/Exe|0)|0}var Gb=64,Kb=4194304;function w0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=w0(a):(s&=o,s!==0&&(r=w0(s)))}else o=n&~i,o!==0?r=w0(o):s!==0&&(r=w0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nl(t),i=1<<n,r|=e[n],t&=~i;return r}function Oxe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $xe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Nl(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Oxe(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ZR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function FX(){var e=Gb;return Gb<<=1,!(Gb&4194240)&&(Gb=64),e}function rA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nl(t),e[t]=n}function Cxe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nl(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function DL(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nl(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Jn=0;function jX(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var BX,ML,zX,VX,UX,e2=!1,Yb=[],td=null,nd=null,rd=null,E_=new Map,I_=new Map,jf=[],Pxe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gV(e,t){switch(e){case"focusin":case"focusout":td=null;break;case"dragenter":case"dragleave":nd=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":E_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":I_.delete(t.pointerId)}}function Lv(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Lw(t),t!==null&&ML(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Txe(e,t,n,r,i){switch(t){case"focusin":return td=Lv(td,e,t,n,r,i),!0;case"dragenter":return nd=Lv(nd,e,t,n,r,i),!0;case"mouseover":return rd=Lv(rd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return E_.set(s,Lv(E_.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,I_.set(s,Lv(I_.get(s)||null,e,t,n,r,i)),!0}return!1}function HX(e){var t=Bh(e.target);if(t!==null){var n=Vp(t);if(n!==null){if(t=n.tag,t===13){if(t=AX(n),t!==null){e.blockedOn=t,UX(e.priority,function(){zX(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=t2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);YR=r,n.target.dispatchEvent(r),YR=null}else return t=Lw(n),t!==null&&ML(t),e.blockedOn=n,!1;t.shift()}return!0}function yV(e,t,n){cx(e)&&n.delete(t)}function kxe(){e2=!1,td!==null&&cx(td)&&(td=null),nd!==null&&cx(nd)&&(nd=null),rd!==null&&cx(rd)&&(rd=null),E_.forEach(yV),I_.forEach(yV)}function Fv(e,t){e.blockedOn===t&&(e.blockedOn=null,e2||(e2=!0,ua.unstable_scheduleCallback(ua.unstable_NormalPriority,kxe)))}function O_(e){function t(i){return Fv(i,e)}if(0<Yb.length){Fv(Yb[0],e);for(var n=1;n<Yb.length;n++){var r=Yb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(td!==null&&Fv(td,e),nd!==null&&Fv(nd,e),rd!==null&&Fv(rd,e),E_.forEach(t),I_.forEach(t),n=0;n<jf.length;n++)r=jf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jf.length&&(n=jf[0],n.blockedOn===null);)HX(n),n.blockedOn===null&&jf.shift()}var yg=tf.ReactCurrentBatchConfig,dE=!0;function Axe(e,t,n,r){var i=Jn,s=yg.transition;yg.transition=null;try{Jn=1,LL(e,t,n,r)}finally{Jn=i,yg.transition=s}}function Nxe(e,t,n,r){var i=Jn,s=yg.transition;yg.transition=null;try{Jn=4,LL(e,t,n,r)}finally{Jn=i,yg.transition=s}}function LL(e,t,n,r){if(dE){var i=t2(e,t,n,r);if(i===null)hA(e,t,r,hE,n),gV(e,r);else if(Txe(i,e,t,n,r))r.stopPropagation();else if(gV(e,r),t&4&&-1<Pxe.indexOf(e)){for(;i!==null;){var s=Lw(i);if(s!==null&&BX(s),s=t2(e,t,n,r),s===null&&hA(e,t,r,hE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hA(e,t,r,null,n)}}var hE=null;function t2(e,t,n,r){if(hE=null,e=NL(r),e=Bh(e),e!==null)if(t=Vp(e),t===null)e=null;else if(n=t.tag,n===13){if(e=AX(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hE=e,null}function WX(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wxe()){case RL:return 1;case MX:return 4;case cE:case bxe:return 16;case LX:return 536870912;default:return 16}default:return 16}}var Yf=null,FL=null,fx=null;function qX(){if(fx)return fx;var e,t=FL,n=t.length,r,i="value"in Yf?Yf.value:Yf.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return fx=i.slice(e,1<r?1-r:void 0)}function dx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qb(){return!0}function vV(){return!1}function ya(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qb:vV,this.isPropagationStopped=vV,this}return Vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qb)},persist:function(){},isPersistent:Qb}),t}var My={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jL=ya(My),Mw=Vr({},My,{view:0,detail:0}),Rxe=ya(Mw),iA,sA,jv,X$=Vr({},Mw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jv&&(jv&&e.type==="mousemove"?(iA=e.screenX-jv.screenX,sA=e.screenY-jv.screenY):sA=iA=0,jv=e),iA)},movementY:function(e){return"movementY"in e?e.movementY:sA}}),_V=ya(X$),Dxe=Vr({},X$,{dataTransfer:0}),Mxe=ya(Dxe),Lxe=Vr({},Mw,{relatedTarget:0}),oA=ya(Lxe),Fxe=Vr({},My,{animationName:0,elapsedTime:0,pseudoElement:0}),jxe=ya(Fxe),Bxe=Vr({},My,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zxe=ya(Bxe),Vxe=Vr({},My,{data:0}),wV=ya(Vxe),Uxe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hxe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wxe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qxe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wxe[e])?!!t[e]:!1}function BL(){return qxe}var Gxe=Vr({},Mw,{key:function(e){if(e.key){var t=Uxe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hxe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BL,charCode:function(e){return e.type==="keypress"?dx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kxe=ya(Gxe),Yxe=Vr({},X$,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bV=ya(Yxe),Qxe=Vr({},Mw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BL}),Xxe=ya(Qxe),Jxe=Vr({},My,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zxe=ya(Jxe),eEe=Vr({},X$,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tEe=ya(eEe),nEe=[9,13,27,32],zL=Rc&&"CompositionEvent"in window,B0=null;Rc&&"documentMode"in document&&(B0=document.documentMode);var rEe=Rc&&"TextEvent"in window&&!B0,GX=Rc&&(!zL||B0&&8<B0&&11>=B0),SV=String.fromCharCode(32),xV=!1;function KX(e,t){switch(e){case"keyup":return nEe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YX(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hm=!1;function iEe(e,t){switch(e){case"compositionend":return YX(t);case"keypress":return t.which!==32?null:(xV=!0,SV);case"textInput":return e=t.data,e===SV&&xV?null:e;default:return null}}function sEe(e,t){if(Hm)return e==="compositionend"||!zL&&KX(e,t)?(e=qX(),fx=FL=Yf=null,Hm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GX&&t.locale!=="ko"?null:t.data;default:return null}}var oEe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oEe[e.type]:t==="textarea"}function QX(e,t,n,r){$X(r),t=pE(t,"onChange"),0<t.length&&(n=new jL("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var z0=null,$_=null;function aEe(e){aJ(e,0)}function J$(e){var t=Gm(e);if(wX(t))return e}function lEe(e,t){if(e==="change")return t}var XX=!1;if(Rc){var aA;if(Rc){var lA="oninput"in document;if(!lA){var IV=document.createElement("div");IV.setAttribute("oninput","return;"),lA=typeof IV.oninput=="function"}aA=lA}else aA=!1;XX=aA&&(!document.documentMode||9<document.documentMode)}function OV(){z0&&(z0.detachEvent("onpropertychange",JX),$_=z0=null)}function JX(e){if(e.propertyName==="value"&&J$($_)){var t=[];QX(t,$_,e,NL(e)),kX(aEe,t)}}function uEe(e,t,n){e==="focusin"?(OV(),z0=t,$_=n,z0.attachEvent("onpropertychange",JX)):e==="focusout"&&OV()}function cEe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return J$($_)}function fEe(e,t){if(e==="click")return J$(t)}function dEe(e,t){if(e==="input"||e==="change")return J$(t)}function hEe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zl=typeof Object.is=="function"?Object.is:hEe;function C_(e,t){if(zl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!LR.call(t,i)||!zl(e[i],t[i]))return!1}return!0}function $V(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function CV(e,t){var n=$V(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$V(n)}}function ZX(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZX(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eJ(){for(var e=window,t=aE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=aE(e.document)}return t}function VL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pEe(e){var t=eJ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ZX(n.ownerDocument.documentElement,n)){if(r!==null&&VL(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=CV(n,s);var o=CV(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mEe=Rc&&"documentMode"in document&&11>=document.documentMode,Wm=null,n2=null,V0=null,r2=!1;function PV(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r2||Wm==null||Wm!==aE(r)||(r=Wm,"selectionStart"in r&&VL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),V0&&C_(V0,r)||(V0=r,r=pE(n2,"onSelect"),0<r.length&&(t=new jL("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wm)))}function Xb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qm={animationend:Xb("Animation","AnimationEnd"),animationiteration:Xb("Animation","AnimationIteration"),animationstart:Xb("Animation","AnimationStart"),transitionend:Xb("Transition","TransitionEnd")},uA={},tJ={};Rc&&(tJ=document.createElement("div").style,"AnimationEvent"in window||(delete qm.animationend.animation,delete qm.animationiteration.animation,delete qm.animationstart.animation),"TransitionEvent"in window||delete qm.transitionend.transition);function Z$(e){if(uA[e])return uA[e];if(!qm[e])return e;var t=qm[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tJ)return uA[e]=t[n];return e}var nJ=Z$("animationend"),rJ=Z$("animationiteration"),iJ=Z$("animationstart"),sJ=Z$("transitionend"),oJ=new Map,TV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jd(e,t){oJ.set(e,t),zp(t,[e])}for(var cA=0;cA<TV.length;cA++){var fA=TV[cA],gEe=fA.toLowerCase(),yEe=fA[0].toUpperCase()+fA.slice(1);jd(gEe,"on"+yEe)}jd(nJ,"onAnimationEnd");jd(rJ,"onAnimationIteration");jd(iJ,"onAnimationStart");jd("dblclick","onDoubleClick");jd("focusin","onFocus");jd("focusout","onBlur");jd(sJ,"onTransitionEnd");jg("onMouseEnter",["mouseout","mouseover"]);jg("onMouseLeave",["mouseout","mouseover"]);jg("onPointerEnter",["pointerout","pointerover"]);jg("onPointerLeave",["pointerout","pointerover"]);zp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zp("onBeforeInput",["compositionend","keypress","textInput","paste"]);zp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var b0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vEe=new Set("cancel close invalid load scroll toggle".split(" ").concat(b0));function kV(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gxe(r,t,void 0,e),e.currentTarget=null}function aJ(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kV(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kV(i,a,u),s=l}}}if(uE)throw e=JR,uE=!1,JR=null,e}function _r(e,t){var n=t[l2];n===void 0&&(n=t[l2]=new Set);var r=e+"__bubble";n.has(r)||(lJ(t,e,2,!1),n.add(r))}function dA(e,t,n){var r=0;t&&(r|=4),lJ(n,e,r,t)}var Jb="_reactListening"+Math.random().toString(36).slice(2);function P_(e){if(!e[Jb]){e[Jb]=!0,mX.forEach(function(n){n!=="selectionchange"&&(vEe.has(n)||dA(n,!1,e),dA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jb]||(t[Jb]=!0,dA("selectionchange",!1,t))}}function lJ(e,t,n,r){switch(WX(t)){case 1:var i=Axe;break;case 4:i=Nxe;break;default:i=LL}n=i.bind(null,t,n,e),i=void 0,!XR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function hA(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bh(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kX(function(){var u=s,c=NL(n),d=[];e:{var h=oJ.get(e);if(h!==void 0){var m=jL,g=e;switch(e){case"keypress":if(dx(n)===0)break e;case"keydown":case"keyup":m=Kxe;break;case"focusin":g="focus",m=oA;break;case"focusout":g="blur",m=oA;break;case"beforeblur":case"afterblur":m=oA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_V;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Mxe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Xxe;break;case nJ:case rJ:case iJ:m=jxe;break;case sJ:m=Zxe;break;case"scroll":m=Rxe;break;case"wheel":m=tEe;break;case"copy":case"cut":case"paste":m=zxe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bV}var y=(t&4)!==0,_=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,S;b!==null;){S=b;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,v!==null&&(x=x_(b,v),x!=null&&y.push(T_(b,x,S)))),_)break;b=b.return}0<y.length&&(h=new m(h,g,null,n,c),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==YR&&(g=n.relatedTarget||n.fromElement)&&(Bh(g)||g[Dc]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Bh(g):null,g!==null&&(_=Vp(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=_V,x="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=bV,x="onPointerLeave",v="onPointerEnter",b="pointer"),_=m==null?h:Gm(m),S=g==null?h:Gm(g),h=new y(x,b+"leave",m,n,c),h.target=_,h.relatedTarget=S,x=null,Bh(c)===u&&(y=new y(v,b+"enter",g,n,c),y.target=S,y.relatedTarget=_,x=y),_=x,m&&g)t:{for(y=m,v=g,b=0,S=y;S;S=bm(S))b++;for(S=0,x=v;x;x=bm(x))S++;for(;0<b-S;)y=bm(y),b--;for(;0<S-b;)v=bm(v),S--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=bm(y),v=bm(v)}y=null}else y=null;m!==null&&AV(d,h,m,y,!1),g!==null&&_!==null&&AV(d,_,g,y,!0)}}e:{if(h=u?Gm(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var $=lEe;else if(EV(h))if(XX)$=dEe;else{$=cEe;var E=uEe}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&($=fEe);if($&&($=$(e,u))){QX(d,$,n,c);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&HR(h,"number",h.value)}switch(E=u?Gm(u):window,e){case"focusin":(EV(E)||E.contentEditable==="true")&&(Wm=E,n2=u,V0=null);break;case"focusout":V0=n2=Wm=null;break;case"mousedown":r2=!0;break;case"contextmenu":case"mouseup":case"dragend":r2=!1,PV(d,n,c);break;case"selectionchange":if(mEe)break;case"keydown":case"keyup":PV(d,n,c)}var I;if(zL)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Hm?KX(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(GX&&n.locale!=="ko"&&(Hm||T!=="onCompositionStart"?T==="onCompositionEnd"&&Hm&&(I=qX()):(Yf=c,FL="value"in Yf?Yf.value:Yf.textContent,Hm=!0)),E=pE(u,T),0<E.length&&(T=new wV(T,e,null,n,c),d.push({event:T,listeners:E}),I?T.data=I:(I=YX(n),I!==null&&(T.data=I)))),(I=rEe?iEe(e,n):sEe(e,n))&&(u=pE(u,"onBeforeInput"),0<u.length&&(c=new wV("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}aJ(d,t)})}function T_(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=x_(e,n),s!=null&&r.unshift(T_(e,s,i)),s=x_(e,t),s!=null&&r.push(T_(e,s,i))),e=e.return}return r}function bm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function AV(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=x_(n,s),l!=null&&o.unshift(T_(n,l,a))):i||(l=x_(n,s),l!=null&&o.push(T_(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _Ee=/\r\n?/g,wEe=/\u0000|\uFFFD/g;function NV(e){return(typeof e=="string"?e:""+e).replace(_Ee,`
`).replace(wEe,"")}function Zb(e,t,n){if(t=NV(t),NV(e)!==t&&n)throw Error(Me(425))}function mE(){}var i2=null,s2=null;function o2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a2=typeof setTimeout=="function"?setTimeout:void 0,bEe=typeof clearTimeout=="function"?clearTimeout:void 0,RV=typeof Promise=="function"?Promise:void 0,SEe=typeof queueMicrotask=="function"?queueMicrotask:typeof RV<"u"?function(e){return RV.resolve(null).then(e).catch(xEe)}:a2;function xEe(e){setTimeout(function(){throw e})}function pA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),O_(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);O_(t)}function id(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function DV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ly=Math.random().toString(36).slice(2),fu="__reactFiber$"+Ly,k_="__reactProps$"+Ly,Dc="__reactContainer$"+Ly,l2="__reactEvents$"+Ly,EEe="__reactListeners$"+Ly,IEe="__reactHandles$"+Ly;function Bh(e){var t=e[fu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dc]||n[fu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=DV(e);e!==null;){if(n=e[fu])return n;e=DV(e)}return t}e=n,n=e.parentNode}return null}function Lw(e){return e=e[fu]||e[Dc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Me(33))}function eC(e){return e[k_]||null}var u2=[],Km=-1;function Bd(e){return{current:e}}function Er(e){0>Km||(e.current=u2[Km],u2[Km]=null,Km--)}function gr(e,t){Km++,u2[Km]=e.current,e.current=t}var wd={},Ds=Bd(wd),Ao=Bd(!1),pp=wd;function Bg(e,t){var n=e.type.contextTypes;if(!n)return wd;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return e=e.childContextTypes,e!=null}function gE(){Er(Ao),Er(Ds)}function MV(e,t,n){if(Ds.current!==wd)throw Error(Me(168));gr(Ds,t),gr(Ao,n)}function uJ(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Me(108,uxe(e)||"Unknown",i));return Vr({},n,r)}function yE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wd,pp=Ds.current,gr(Ds,e),gr(Ao,Ao.current),!0}function LV(e,t,n){var r=e.stateNode;if(!r)throw Error(Me(169));n?(e=uJ(e,t,pp),r.__reactInternalMemoizedMergedChildContext=e,Er(Ao),Er(Ds),gr(Ds,e)):Er(Ao),gr(Ao,n)}var fc=null,tC=!1,mA=!1;function cJ(e){fc===null?fc=[e]:fc.push(e)}function OEe(e){tC=!0,cJ(e)}function zd(){if(!mA&&fc!==null){mA=!0;var e=0,t=Jn;try{var n=fc;for(Jn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fc=null,tC=!1}catch(i){throw fc!==null&&(fc=fc.slice(e+1)),DX(RL,zd),i}finally{Jn=t,mA=!1}}return null}var Ym=[],Qm=0,vE=null,_E=0,Ma=[],La=0,mp=null,vc=1,_c="";function wh(e,t){Ym[Qm++]=_E,Ym[Qm++]=vE,vE=e,_E=t}function fJ(e,t,n){Ma[La++]=vc,Ma[La++]=_c,Ma[La++]=mp,mp=e;var r=vc;e=_c;var i=32-Nl(r)-1;r&=~(1<<i),n+=1;var s=32-Nl(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vc=1<<32-Nl(t)+i|n<<i|r,_c=s+e}else vc=1<<s|n<<i|r,_c=e}function UL(e){e.return!==null&&(wh(e,1),fJ(e,1,0))}function HL(e){for(;e===vE;)vE=Ym[--Qm],Ym[Qm]=null,_E=Ym[--Qm],Ym[Qm]=null;for(;e===mp;)mp=Ma[--La],Ma[La]=null,_c=Ma[--La],Ma[La]=null,vc=Ma[--La],Ma[La]=null}var sa=null,ta=null,kr=!1,Ol=null;function dJ(e,t){var n=Wa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function FV(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sa=e,ta=id(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sa=e,ta=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mp!==null?{id:vc,overflow:_c}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sa=e,ta=null,!0):!1;default:return!1}}function c2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function f2(e){if(kr){var t=ta;if(t){var n=t;if(!FV(e,t)){if(c2(e))throw Error(Me(418));t=id(n.nextSibling);var r=sa;t&&FV(e,t)?dJ(r,n):(e.flags=e.flags&-4097|2,kr=!1,sa=e)}}else{if(c2(e))throw Error(Me(418));e.flags=e.flags&-4097|2,kr=!1,sa=e}}}function jV(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sa=e}function eS(e){if(e!==sa)return!1;if(!kr)return jV(e),kr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o2(e.type,e.memoizedProps)),t&&(t=ta)){if(c2(e))throw hJ(),Error(Me(418));for(;t;)dJ(e,t),t=id(t.nextSibling)}if(jV(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ta=id(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ta=null}}else ta=sa?id(e.stateNode.nextSibling):null;return!0}function hJ(){for(var e=ta;e;)e=id(e.nextSibling)}function zg(){ta=sa=null,kr=!1}function WL(e){Ol===null?Ol=[e]:Ol.push(e)}var $Ee=tf.ReactCurrentBatchConfig;function xl(e,t){if(e&&e.defaultProps){t=Vr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wE=Bd(null),bE=null,Xm=null,qL=null;function GL(){qL=Xm=bE=null}function KL(e){var t=wE.current;Er(wE),e._currentValue=t}function d2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vg(e,t){bE=e,qL=Xm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Io=!0),e.firstContext=null)}function Za(e){var t=e._currentValue;if(qL!==e)if(e={context:e,memoizedValue:t,next:null},Xm===null){if(bE===null)throw Error(Me(308));Xm=e,bE.dependencies={lanes:0,firstContext:e}}else Xm=Xm.next=e;return t}var zh=null;function YL(e){zh===null?zh=[e]:zh.push(e)}function pJ(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,YL(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mc(e,r)}function Mc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rf=!1;function QL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mJ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $c(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Rn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mc(e,n)}return i=r.interleaved,i===null?(t.next=t,YL(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mc(e,n)}function hx(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,DL(e,n)}}function BV(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function SE(e,t,n,r){var i=e.updateQueue;Rf=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,y=a;switch(h=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,d,h):g,h==null)break e;d=Vr({},d,h);break e;case 2:Rf=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);yp|=o,e.lanes=o,e.memoizedState=d}}function zV(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var gJ=new pX.Component().refs;function h2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Vr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nC={isMounted:function(e){return(e=e._reactInternals)?Vp(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gs(),i=ad(e),s=$c(r,i);s.payload=t,n!=null&&(s.callback=n),t=sd(e,s,i),t!==null&&(Rl(t,e,i,r),hx(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gs(),i=ad(e),s=$c(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=sd(e,s,i),t!==null&&(Rl(t,e,i,r),hx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gs(),r=ad(e),i=$c(n,r);i.tag=2,t!=null&&(i.callback=t),t=sd(e,i,r),t!==null&&(Rl(t,e,r,n),hx(t,e,r))}};function VV(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!C_(n,r)||!C_(i,s):!0}function yJ(e,t,n){var r=!1,i=wd,s=t.contextType;return typeof s=="object"&&s!==null?s=Za(s):(i=No(t)?pp:Ds.current,r=t.contextTypes,s=(r=r!=null)?Bg(e,i):wd),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nC,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function UV(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nC.enqueueReplaceState(t,t.state,null)}function p2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=gJ,QL(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Za(s):(s=No(t)?pp:Ds.current,i.context=Bg(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(h2(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&nC.enqueueReplaceState(i,i.state,null),SE(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bv(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===gJ&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,e))}return e}function tS(e,t){throw e=Object.prototype.toString.call(t),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function HV(e){var t=e._init;return t(e._payload)}function vJ(e){function t(v,b){if(e){var S=v.deletions;S===null?(v.deletions=[b],v.flags|=16):S.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=ld(v,b),v.index=0,v.sibling=null,v}function s(v,b,S){return v.index=S,e?(S=v.alternate,S!==null?(S=S.index,S<b?(v.flags|=2,b):S):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,b,S,x){return b===null||b.tag!==6?(b=SA(S,v.mode,x),b.return=v,b):(b=i(b,S),b.return=v,b)}function l(v,b,S,x){var $=S.type;return $===Um?c(v,b,S.props.children,x,S.key):b!==null&&(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Nf&&HV($)===b.type)?(x=i(b,S.props),x.ref=Bv(v,b,S),x.return=v,x):(x=_x(S.type,S.key,S.props,null,v.mode,x),x.ref=Bv(v,b,S),x.return=v,x)}function u(v,b,S,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=xA(S,v.mode,x),b.return=v,b):(b=i(b,S.children||[]),b.return=v,b)}function c(v,b,S,x,$){return b===null||b.tag!==7?(b=np(S,v.mode,x,$),b.return=v,b):(b=i(b,S),b.return=v,b)}function d(v,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=SA(""+b,v.mode,S),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hb:return S=_x(b.type,b.key,b.props,null,v.mode,S),S.ref=Bv(v,null,b),S.return=v,S;case Vm:return b=xA(b,v.mode,S),b.return=v,b;case Nf:var x=b._init;return d(v,x(b._payload),S)}if(_0(b)||Dv(b))return b=np(b,v.mode,S,null),b.return=v,b;tS(v,b)}return null}function h(v,b,S,x){var $=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return $!==null?null:a(v,b,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hb:return S.key===$?l(v,b,S,x):null;case Vm:return S.key===$?u(v,b,S,x):null;case Nf:return $=S._init,h(v,b,$(S._payload),x)}if(_0(S)||Dv(S))return $!==null?null:c(v,b,S,x,null);tS(v,S)}return null}function m(v,b,S,x,$){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(S)||null,a(b,v,""+x,$);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hb:return v=v.get(x.key===null?S:x.key)||null,l(b,v,x,$);case Vm:return v=v.get(x.key===null?S:x.key)||null,u(b,v,x,$);case Nf:var E=x._init;return m(v,b,S,E(x._payload),$)}if(_0(x)||Dv(x))return v=v.get(S)||null,c(b,v,x,$,null);tS(b,x)}return null}function g(v,b,S,x){for(var $=null,E=null,I=b,T=b=0,M=null;I!==null&&T<S.length;T++){I.index>T?(M=I,I=null):M=I.sibling;var U=h(v,I,S[T],x);if(U===null){I===null&&(I=M);break}e&&I&&U.alternate===null&&t(v,I),b=s(U,b,T),E===null?$=U:E.sibling=U,E=U,I=M}if(T===S.length)return n(v,I),kr&&wh(v,T),$;if(I===null){for(;T<S.length;T++)I=d(v,S[T],x),I!==null&&(b=s(I,b,T),E===null?$=I:E.sibling=I,E=I);return kr&&wh(v,T),$}for(I=r(v,I);T<S.length;T++)M=m(I,v,T,S[T],x),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?T:M.key),b=s(M,b,T),E===null?$=M:E.sibling=M,E=M);return e&&I.forEach(function(z){return t(v,z)}),kr&&wh(v,T),$}function y(v,b,S,x){var $=Dv(S);if(typeof $!="function")throw Error(Me(150));if(S=$.call(S),S==null)throw Error(Me(151));for(var E=$=null,I=b,T=b=0,M=null,U=S.next();I!==null&&!U.done;T++,U=S.next()){I.index>T?(M=I,I=null):M=I.sibling;var z=h(v,I,U.value,x);if(z===null){I===null&&(I=M);break}e&&I&&z.alternate===null&&t(v,I),b=s(z,b,T),E===null?$=z:E.sibling=z,E=z,I=M}if(U.done)return n(v,I),kr&&wh(v,T),$;if(I===null){for(;!U.done;T++,U=S.next())U=d(v,U.value,x),U!==null&&(b=s(U,b,T),E===null?$=U:E.sibling=U,E=U);return kr&&wh(v,T),$}for(I=r(v,I);!U.done;T++,U=S.next())U=m(I,v,T,U.value,x),U!==null&&(e&&U.alternate!==null&&I.delete(U.key===null?T:U.key),b=s(U,b,T),E===null?$=U:E.sibling=U,E=U);return e&&I.forEach(function(H){return t(v,H)}),kr&&wh(v,T),$}function _(v,b,S,x){if(typeof S=="object"&&S!==null&&S.type===Um&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hb:e:{for(var $=S.key,E=b;E!==null;){if(E.key===$){if($=S.type,$===Um){if(E.tag===7){n(v,E.sibling),b=i(E,S.props.children),b.return=v,v=b;break e}}else if(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Nf&&HV($)===E.type){n(v,E.sibling),b=i(E,S.props),b.ref=Bv(v,E,S),b.return=v,v=b;break e}n(v,E);break}else t(v,E);E=E.sibling}S.type===Um?(b=np(S.props.children,v.mode,x,S.key),b.return=v,v=b):(x=_x(S.type,S.key,S.props,null,v.mode,x),x.ref=Bv(v,b,S),x.return=v,v=x)}return o(v);case Vm:e:{for(E=S.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(v,b.sibling),b=i(b,S.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=xA(S,v.mode,x),b.return=v,v=b}return o(v);case Nf:return E=S._init,_(v,b,E(S._payload),x)}if(_0(S))return g(v,b,S,x);if(Dv(S))return y(v,b,S,x);tS(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,S),b.return=v,v=b):(n(v,b),b=SA(S,v.mode,x),b.return=v,v=b),o(v)):n(v,b)}return _}var Vg=vJ(!0),_J=vJ(!1),Fw={},$u=Bd(Fw),A_=Bd(Fw),N_=Bd(Fw);function Vh(e){if(e===Fw)throw Error(Me(174));return e}function XL(e,t){switch(gr(N_,t),gr(A_,e),gr($u,Fw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qR(t,e)}Er($u),gr($u,t)}function Ug(){Er($u),Er(A_),Er(N_)}function wJ(e){Vh(N_.current);var t=Vh($u.current),n=qR(t,e.type);t!==n&&(gr(A_,e),gr($u,n))}function JL(e){A_.current===e&&(Er($u),Er(A_))}var Fr=Bd(0);function xE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gA=[];function ZL(){for(var e=0;e<gA.length;e++)gA[e]._workInProgressVersionPrimary=null;gA.length=0}var px=tf.ReactCurrentDispatcher,yA=tf.ReactCurrentBatchConfig,gp=0,Br=null,Ei=null,ji=null,EE=!1,U0=!1,R_=0,CEe=0;function ws(){throw Error(Me(321))}function eF(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zl(e[n],t[n]))return!1;return!0}function tF(e,t,n,r,i,s){if(gp=s,Br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,px.current=e===null||e.memoizedState===null?AEe:NEe,e=n(r,i),U0){s=0;do{if(U0=!1,R_=0,25<=s)throw Error(Me(301));s+=1,ji=Ei=null,t.updateQueue=null,px.current=REe,e=n(r,i)}while(U0)}if(px.current=IE,t=Ei!==null&&Ei.next!==null,gp=0,ji=Ei=Br=null,EE=!1,t)throw Error(Me(300));return e}function nF(){var e=R_!==0;return R_=0,e}function ru(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?Br.memoizedState=ji=e:ji=ji.next=e,ji}function el(){if(Ei===null){var e=Br.alternate;e=e!==null?e.memoizedState:null}else e=Ei.next;var t=ji===null?Br.memoizedState:ji.next;if(t!==null)ji=t,Ei=e;else{if(e===null)throw Error(Me(310));Ei=e,e={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},ji===null?Br.memoizedState=ji=e:ji=ji.next=e}return ji}function D_(e,t){return typeof t=="function"?t(e):t}function vA(e){var t=el(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=Ei,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((gp&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Br.lanes|=c,yp|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,zl(r,t.memoizedState)||(Io=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Br.lanes|=s,yp|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _A(e){var t=el(),n=t.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);zl(s,t.memoizedState)||(Io=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function bJ(){}function SJ(e,t){var n=Br,r=el(),i=t(),s=!zl(r.memoizedState,i);if(s&&(r.memoizedState=i,Io=!0),r=r.queue,rF(IJ.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ji!==null&&ji.memoizedState.tag&1){if(n.flags|=2048,M_(9,EJ.bind(null,n,r,i,t),void 0,null),zi===null)throw Error(Me(349));gp&30||xJ(n,t,i)}return i}function xJ(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function EJ(e,t,n,r){t.value=n,t.getSnapshot=r,OJ(t)&&$J(e)}function IJ(e,t,n){return n(function(){OJ(t)&&$J(e)})}function OJ(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zl(e,n)}catch{return!0}}function $J(e){var t=Mc(e,1);t!==null&&Rl(t,e,1,-1)}function WV(e){var t=ru();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:e},t.queue=e,e=e.dispatch=kEe.bind(null,Br,e),[t.memoizedState,e]}function M_(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function CJ(){return el().memoizedState}function mx(e,t,n,r){var i=ru();Br.flags|=e,i.memoizedState=M_(1|t,n,void 0,r===void 0?null:r)}function rC(e,t,n,r){var i=el();r=r===void 0?null:r;var s=void 0;if(Ei!==null){var o=Ei.memoizedState;if(s=o.destroy,r!==null&&eF(r,o.deps)){i.memoizedState=M_(t,n,s,r);return}}Br.flags|=e,i.memoizedState=M_(1|t,n,s,r)}function qV(e,t){return mx(8390656,8,e,t)}function rF(e,t){return rC(2048,8,e,t)}function PJ(e,t){return rC(4,2,e,t)}function TJ(e,t){return rC(4,4,e,t)}function kJ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function AJ(e,t,n){return n=n!=null?n.concat([e]):null,rC(4,4,kJ.bind(null,t,e),n)}function iF(){}function NJ(e,t){var n=el();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&eF(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function RJ(e,t){var n=el();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&eF(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function DJ(e,t,n){return gp&21?(zl(n,t)||(n=FX(),Br.lanes|=n,yp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Io=!0),e.memoizedState=n)}function PEe(e,t){var n=Jn;Jn=n!==0&&4>n?n:4,e(!0);var r=yA.transition;yA.transition={};try{e(!1),t()}finally{Jn=n,yA.transition=r}}function MJ(){return el().memoizedState}function TEe(e,t,n){var r=ad(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LJ(e))FJ(t,n);else if(n=pJ(e,t,n,r),n!==null){var i=Gs();Rl(n,e,r,i),jJ(n,t,r)}}function kEe(e,t,n){var r=ad(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LJ(e))FJ(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,zl(a,o)){var l=t.interleaved;l===null?(i.next=i,YL(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=pJ(e,t,i,r),n!==null&&(i=Gs(),Rl(n,e,r,i),jJ(n,t,r))}}function LJ(e){var t=e.alternate;return e===Br||t!==null&&t===Br}function FJ(e,t){U0=EE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jJ(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,DL(e,n)}}var IE={readContext:Za,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},AEe={readContext:Za,useCallback:function(e,t){return ru().memoizedState=[e,t===void 0?null:t],e},useContext:Za,useEffect:qV,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mx(4194308,4,kJ.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mx(4194308,4,e,t)},useInsertionEffect:function(e,t){return mx(4,2,e,t)},useMemo:function(e,t){var n=ru();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ru();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=TEe.bind(null,Br,e),[r.memoizedState,e]},useRef:function(e){var t=ru();return e={current:e},t.memoizedState=e},useState:WV,useDebugValue:iF,useDeferredValue:function(e){return ru().memoizedState=e},useTransition:function(){var e=WV(!1),t=e[0];return e=PEe.bind(null,e[1]),ru().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Br,i=ru();if(kr){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=t(),zi===null)throw Error(Me(349));gp&30||xJ(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qV(IJ.bind(null,r,s,e),[e]),r.flags|=2048,M_(9,EJ.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ru(),t=zi.identifierPrefix;if(kr){var n=_c,r=vc;n=(r&~(1<<32-Nl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=R_++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=CEe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NEe={readContext:Za,useCallback:NJ,useContext:Za,useEffect:rF,useImperativeHandle:AJ,useInsertionEffect:PJ,useLayoutEffect:TJ,useMemo:RJ,useReducer:vA,useRef:CJ,useState:function(){return vA(D_)},useDebugValue:iF,useDeferredValue:function(e){var t=el();return DJ(t,Ei.memoizedState,e)},useTransition:function(){var e=vA(D_)[0],t=el().memoizedState;return[e,t]},useMutableSource:bJ,useSyncExternalStore:SJ,useId:MJ,unstable_isNewReconciler:!1},REe={readContext:Za,useCallback:NJ,useContext:Za,useEffect:rF,useImperativeHandle:AJ,useInsertionEffect:PJ,useLayoutEffect:TJ,useMemo:RJ,useReducer:_A,useRef:CJ,useState:function(){return _A(D_)},useDebugValue:iF,useDeferredValue:function(e){var t=el();return Ei===null?t.memoizedState=e:DJ(t,Ei.memoizedState,e)},useTransition:function(){var e=_A(D_)[0],t=el().memoizedState;return[e,t]},useMutableSource:bJ,useSyncExternalStore:SJ,useId:MJ,unstable_isNewReconciler:!1};function Hg(e,t){try{var n="",r=t;do n+=lxe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function m2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DEe=typeof WeakMap=="function"?WeakMap:Map;function BJ(e,t,n){n=$c(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$E||($E=!0,I2=r),m2(e,t)},n}function zJ(e,t,n){n=$c(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){m2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){m2(e,t),typeof r!="function"&&(od===null?od=new Set([this]):od.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function GV(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new DEe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=YEe.bind(null,e,t,n),t.then(e,e))}function KV(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function YV(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$c(-1,1),t.tag=2,sd(n,t,1))),n.lanes|=1),e)}var MEe=tf.ReactCurrentOwner,Io=!1;function Hs(e,t,n,r){t.child=e===null?_J(t,null,n,r):Vg(t,e.child,n,r)}function QV(e,t,n,r,i){n=n.render;var s=t.ref;return vg(t,i),r=tF(e,t,n,r,s,i),n=nF(),e!==null&&!Io?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lc(e,t,i)):(kr&&n&&UL(t),t.flags|=1,Hs(e,t,r,i),t.child)}function XV(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!dF(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,VJ(e,t,s,r,i)):(e=_x(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:C_,n(o,r)&&e.ref===t.ref)return Lc(e,t,i)}return t.flags|=1,e=ld(s,r),e.ref=t.ref,e.return=t,t.child=e}function VJ(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(C_(s,r)&&e.ref===t.ref)if(Io=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Io=!0);else return t.lanes=e.lanes,Lc(e,t,i)}return g2(e,t,n,r,i)}function UJ(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(Zm,Xo),Xo|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gr(Zm,Xo),Xo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,gr(Zm,Xo),Xo|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,gr(Zm,Xo),Xo|=r;return Hs(e,t,i,n),t.child}function HJ(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function g2(e,t,n,r,i){var s=No(n)?pp:Ds.current;return s=Bg(t,s),vg(t,i),n=tF(e,t,n,r,s,i),r=nF(),e!==null&&!Io?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lc(e,t,i)):(kr&&r&&UL(t),t.flags|=1,Hs(e,t,n,i),t.child)}function JV(e,t,n,r,i){if(No(n)){var s=!0;yE(t)}else s=!1;if(vg(t,i),t.stateNode===null)gx(e,t),yJ(t,n,r),p2(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Za(u):(u=No(n)?pp:Ds.current,u=Bg(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&UV(t,o,r,u),Rf=!1;var h=t.memoizedState;o.state=h,SE(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ao.current||Rf?(typeof c=="function"&&(h2(t,n,c,r),l=t.memoizedState),(a=Rf||VV(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mJ(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xl(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Za(l):(l=No(n)?pp:Ds.current,l=Bg(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&UV(t,o,r,l),Rf=!1,h=t.memoizedState,o.state=h,SE(t,r,o,i);var g=t.memoizedState;a!==d||h!==g||Ao.current||Rf?(typeof m=="function"&&(h2(t,n,m,r),g=t.memoizedState),(u=Rf||VV(t,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return y2(e,t,n,r,s,i)}function y2(e,t,n,r,i,s){HJ(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&LV(t,n,!1),Lc(e,t,s);r=t.stateNode,MEe.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vg(t,e.child,null,s),t.child=Vg(t,null,a,s)):Hs(e,t,a,s),t.memoizedState=r.state,i&&LV(t,n,!0),t.child}function WJ(e){var t=e.stateNode;t.pendingContext?MV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&MV(e,t.context,!1),XL(e,t.containerInfo)}function ZV(e,t,n,r,i){return zg(),WL(i),t.flags|=256,Hs(e,t,n,r),t.child}var v2={dehydrated:null,treeContext:null,retryLane:0};function _2(e){return{baseLanes:e,cachePool:null,transitions:null}}function qJ(e,t,n){var r=t.pendingProps,i=Fr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),gr(Fr,i&1),e===null)return f2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=oC(o,r,0,null),e=np(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_2(n),t.memoizedState=v2,e):sF(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LEe(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ld(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ld(a,s):(s=np(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?_2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=v2,r}return s=e.child,e=s.sibling,r=ld(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sF(e,t){return t=oC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nS(e,t,n,r){return r!==null&&WL(r),Vg(t,e.child,null,n),e=sF(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LEe(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=wA(Error(Me(422))),nS(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=oC({mode:"visible",children:r.children},i,0,null),s=np(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vg(t,e.child,null,o),t.child.memoizedState=_2(o),t.memoizedState=v2,s);if(!(t.mode&1))return nS(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Me(419)),r=wA(s,r,void 0),nS(e,t,o,r)}if(a=(o&e.childLanes)!==0,Io||a){if(r=zi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mc(e,i),Rl(r,e,i,-1))}return fF(),r=wA(Error(Me(421))),nS(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=QEe.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ta=id(i.nextSibling),sa=t,kr=!0,Ol=null,e!==null&&(Ma[La++]=vc,Ma[La++]=_c,Ma[La++]=mp,vc=e.id,_c=e.overflow,mp=t),t=sF(t,r.children),t.flags|=4096,t)}function eU(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),d2(e.return,t,n)}function bA(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function GJ(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Hs(e,t,r.children,n),r=Fr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eU(e,n,t);else if(e.tag===19)eU(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(gr(Fr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xE(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bA(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xE(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bA(t,!0,n,null,s);break;case"together":bA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Me(153));if(t.child!==null){for(e=t.child,n=ld(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ld(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function FEe(e,t,n){switch(t.tag){case 3:WJ(t),zg();break;case 5:wJ(t);break;case 1:No(t.type)&&yE(t);break;case 4:XL(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;gr(wE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(gr(Fr,Fr.current&1),t.flags|=128,null):n&t.child.childLanes?qJ(e,t,n):(gr(Fr,Fr.current&1),e=Lc(e,t,n),e!==null?e.sibling:null);gr(Fr,Fr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return GJ(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gr(Fr,Fr.current),r)break;return null;case 22:case 23:return t.lanes=0,UJ(e,t,n)}return Lc(e,t,n)}var KJ,w2,YJ,QJ;KJ=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w2=function(){};YJ=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vh($u.current);var s=null;switch(n){case"input":i=VR(e,i),r=VR(e,r),s=[];break;case"select":i=Vr({},i,{value:void 0}),r=Vr({},r,{value:void 0}),s=[];break;case"textarea":i=WR(e,i),r=WR(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mE)}GR(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(b_.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(b_.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_r("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};QJ=function(e,t,n,r){n!==r&&(t.flags|=4)};function zv(e,t){if(!kr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jEe(e,t,n){var r=t.pendingProps;switch(HL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bs(t),null;case 1:return No(t.type)&&gE(),bs(t),null;case 3:return r=t.stateNode,Ug(),Er(Ao),Er(Ds),ZL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(eS(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ol!==null&&(C2(Ol),Ol=null))),w2(e,t),bs(t),null;case 5:JL(t);var i=Vh(N_.current);if(n=t.type,e!==null&&t.stateNode!=null)YJ(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Me(166));return bs(t),null}if(e=Vh($u.current),eS(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fu]=t,r[k_]=s,e=(t.mode&1)!==0,n){case"dialog":_r("cancel",r),_r("close",r);break;case"iframe":case"object":case"embed":_r("load",r);break;case"video":case"audio":for(i=0;i<b0.length;i++)_r(b0[i],r);break;case"source":_r("error",r);break;case"img":case"image":case"link":_r("error",r),_r("load",r);break;case"details":_r("toggle",r);break;case"input":uV(r,s),_r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_r("invalid",r);break;case"textarea":fV(r,s),_r("invalid",r)}GR(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zb(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zb(r.textContent,a,e),i=["children",""+a]):b_.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_r("scroll",r)}switch(n){case"input":Wb(r),cV(r,s,!0);break;case"textarea":Wb(r),dV(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xX(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[fu]=t,e[k_]=r,KJ(e,t,!1,!1),t.stateNode=e;e:{switch(o=KR(n,r),n){case"dialog":_r("cancel",e),_r("close",e),i=r;break;case"iframe":case"object":case"embed":_r("load",e),i=r;break;case"video":case"audio":for(i=0;i<b0.length;i++)_r(b0[i],e);i=r;break;case"source":_r("error",e),i=r;break;case"img":case"image":case"link":_r("error",e),_r("load",e),i=r;break;case"details":_r("toggle",e),i=r;break;case"input":uV(e,r),i=VR(e,r),_r("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Vr({},r,{value:void 0}),_r("invalid",e);break;case"textarea":fV(e,r),i=WR(e,r),_r("invalid",e);break;default:i=r}GR(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?OX(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EX(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&S_(e,l):typeof l=="number"&&S_(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(b_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_r("scroll",e):l!=null&&PL(e,s,l,o))}switch(n){case"input":Wb(e),cV(e,r,!1);break;case"textarea":Wb(e),dV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_d(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?pg(e,!!r.multiple,s,!1):r.defaultValue!=null&&pg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=mE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bs(t),null;case 6:if(e&&t.stateNode!=null)QJ(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Me(166));if(n=Vh(N_.current),Vh($u.current),eS(t)){if(r=t.stateNode,n=t.memoizedProps,r[fu]=t,(s=r.nodeValue!==n)&&(e=sa,e!==null))switch(e.tag){case 3:Zb(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zb(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fu]=t,t.stateNode=r}return bs(t),null;case 13:if(Er(Fr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kr&&ta!==null&&t.mode&1&&!(t.flags&128))hJ(),zg(),t.flags|=98560,s=!1;else if(s=eS(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Me(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[fu]=t}else zg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bs(t),s=!1}else Ol!==null&&(C2(Ol),Ol=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fr.current&1?Ci===0&&(Ci=3):fF())),t.updateQueue!==null&&(t.flags|=4),bs(t),null);case 4:return Ug(),w2(e,t),e===null&&P_(t.stateNode.containerInfo),bs(t),null;case 10:return KL(t.type._context),bs(t),null;case 17:return No(t.type)&&gE(),bs(t),null;case 19:if(Er(Fr),s=t.memoizedState,s===null)return bs(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)zv(s,!1);else{if(Ci!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xE(e),o!==null){for(t.flags|=128,zv(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return gr(Fr,Fr.current&1|2),t.child}e=e.sibling}s.tail!==null&&oi()>Wg&&(t.flags|=128,r=!0,zv(s,!1),t.lanes=4194304)}else{if(!r)if(e=xE(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zv(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!kr)return bs(t),null}else 2*oi()-s.renderingStartTime>Wg&&n!==1073741824&&(t.flags|=128,r=!0,zv(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=oi(),t.sibling=null,n=Fr.current,gr(Fr,r?n&1|2:n&1),t):(bs(t),null);case 22:case 23:return cF(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xo&1073741824&&(bs(t),t.subtreeFlags&6&&(t.flags|=8192)):bs(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function BEe(e,t){switch(HL(t),t.tag){case 1:return No(t.type)&&gE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ug(),Er(Ao),Er(Ds),ZL(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return JL(t),null;case 13:if(Er(Fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));zg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Er(Fr),null;case 4:return Ug(),null;case 10:return KL(t.type._context),null;case 22:case 23:return cF(),null;case 24:return null;default:return null}}var rS=!1,Ts=!1,zEe=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Jm(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qr(e,t,r)}else n.current=null}function b2(e,t,n){try{n()}catch(r){qr(e,t,r)}}var tU=!1;function VEe(e,t){if(i2=dE,e=eJ(),VL(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(s2={focusedElem:e,selectionRange:n},dE=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:xl(t.type,y),_);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(x){qr(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return g=tU,tU=!1,g}function H0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&b2(t,n,s)}i=i.next}while(i!==r)}}function iC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function S2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XJ(e){var t=e.alternate;t!==null&&(e.alternate=null,XJ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fu],delete t[k_],delete t[l2],delete t[EEe],delete t[IEe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JJ(e){return e.tag===5||e.tag===3||e.tag===4}function nU(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JJ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function x2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mE));else if(r!==4&&(e=e.child,e!==null))for(x2(e,t,n),e=e.sibling;e!==null;)x2(e,t,n),e=e.sibling}function E2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(E2(e,t,n),e=e.sibling;e!==null;)E2(e,t,n),e=e.sibling}var ts=null,El=!1;function xf(e,t,n){for(n=n.child;n!==null;)ZJ(e,t,n),n=n.sibling}function ZJ(e,t,n){if(Ou&&typeof Ou.onCommitFiberUnmount=="function")try{Ou.onCommitFiberUnmount(Q$,n)}catch{}switch(n.tag){case 5:Ts||Jm(n,t);case 6:var r=ts,i=El;ts=null,xf(e,t,n),ts=r,El=i,ts!==null&&(El?(e=ts,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ts.removeChild(n.stateNode));break;case 18:ts!==null&&(El?(e=ts,n=n.stateNode,e.nodeType===8?pA(e.parentNode,n):e.nodeType===1&&pA(e,n),O_(e)):pA(ts,n.stateNode));break;case 4:r=ts,i=El,ts=n.stateNode.containerInfo,El=!0,xf(e,t,n),ts=r,El=i;break;case 0:case 11:case 14:case 15:if(!Ts&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&b2(n,t,o),i=i.next}while(i!==r)}xf(e,t,n);break;case 1:if(!Ts&&(Jm(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qr(n,t,a)}xf(e,t,n);break;case 21:xf(e,t,n);break;case 22:n.mode&1?(Ts=(r=Ts)||n.memoizedState!==null,xf(e,t,n),Ts=r):xf(e,t,n);break;default:xf(e,t,n)}}function rU(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zEe),t.forEach(function(r){var i=XEe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ts=a.stateNode,El=!1;break e;case 3:ts=a.stateNode.containerInfo,El=!0;break e;case 4:ts=a.stateNode.containerInfo,El=!0;break e}a=a.return}if(ts===null)throw Error(Me(160));ZJ(s,o,i),ts=null,El=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eZ(t,e),t=t.sibling}function eZ(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),Zl(e),r&4){try{H0(3,e,e.return),iC(3,e)}catch(y){qr(e,e.return,y)}try{H0(5,e,e.return)}catch(y){qr(e,e.return,y)}}break;case 1:vl(t,e),Zl(e),r&512&&n!==null&&Jm(n,n.return);break;case 5:if(vl(t,e),Zl(e),r&512&&n!==null&&Jm(n,n.return),e.flags&32){var i=e.stateNode;try{S_(i,"")}catch(y){qr(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bX(i,s),KR(a,o);var u=KR(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?OX(i,d):c==="dangerouslySetInnerHTML"?EX(i,d):c==="children"?S_(i,d):PL(i,c,d,u)}switch(a){case"input":UR(i,s);break;case"textarea":SX(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?pg(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?pg(i,!!s.multiple,s.defaultValue,!0):pg(i,!!s.multiple,s.multiple?[]:"",!1))}i[k_]=s}catch(y){qr(e,e.return,y)}}break;case 6:if(vl(t,e),Zl(e),r&4){if(e.stateNode===null)throw Error(Me(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){qr(e,e.return,y)}}break;case 3:if(vl(t,e),Zl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{O_(t.containerInfo)}catch(y){qr(e,e.return,y)}break;case 4:vl(t,e),Zl(e);break;case 13:vl(t,e),Zl(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lF=oi())),r&4&&rU(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ts=(u=Ts)||c,vl(t,e),Ts=u):vl(t,e),Zl(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(tt=e,c=e.child;c!==null;){for(d=tt=c;tt!==null;){switch(h=tt,m=h.child,h.tag){case 0:case 11:case 14:case 15:H0(4,h,h.return);break;case 1:Jm(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){qr(r,n,y)}}break;case 5:Jm(h,h.return);break;case 22:if(h.memoizedState!==null){sU(d);continue}}m!==null?(m.return=h,tt=m):sU(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=IX("display",o))}catch(y){qr(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){qr(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vl(t,e),Zl(e),r&4&&rU(e);break;case 21:break;default:vl(t,e),Zl(e)}}function Zl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(JJ(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(S_(i,""),r.flags&=-33);var s=nU(e);E2(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nU(e);x2(e,a,o);break;default:throw Error(Me(161))}}catch(l){qr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function UEe(e,t,n){tt=e,tZ(e)}function tZ(e,t,n){for(var r=(e.mode&1)!==0;tt!==null;){var i=tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rS;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ts;a=rS;var u=Ts;if(rS=o,(Ts=l)&&!u)for(tt=i;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?oU(i):l!==null?(l.return=o,tt=l):oU(i);for(;s!==null;)tt=s,tZ(s),s=s.sibling;tt=i,rS=a,Ts=u}iU(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,tt=s):iU(e)}}function iU(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ts||iC(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ts)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&zV(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zV(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&O_(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Ts||t.flags&512&&S2(t)}catch(h){qr(t,t.return,h)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function sU(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function oU(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iC(4,t)}catch(l){qr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){qr(t,i,l)}}var s=t.return;try{S2(t)}catch(l){qr(t,s,l)}break;case 5:var o=t.return;try{S2(t)}catch(l){qr(t,o,l)}}}catch(l){qr(t,t.return,l)}if(t===e){tt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,tt=a;break}tt=t.return}}var HEe=Math.ceil,OE=tf.ReactCurrentDispatcher,oF=tf.ReactCurrentOwner,Ya=tf.ReactCurrentBatchConfig,Rn=0,zi=null,gi=null,us=0,Xo=0,Zm=Bd(0),Ci=0,L_=null,yp=0,sC=0,aF=0,W0=null,_o=null,lF=0,Wg=1/0,lc=null,$E=!1,I2=null,od=null,iS=!1,Qf=null,CE=0,q0=0,O2=null,yx=-1,vx=0;function Gs(){return Rn&6?oi():yx!==-1?yx:yx=oi()}function ad(e){return e.mode&1?Rn&2&&us!==0?us&-us:$Ee.transition!==null?(vx===0&&(vx=FX()),vx):(e=Jn,e!==0||(e=window.event,e=e===void 0?16:WX(e.type)),e):1}function Rl(e,t,n,r){if(50<q0)throw q0=0,O2=null,Error(Me(185));Dw(e,n,r),(!(Rn&2)||e!==zi)&&(e===zi&&(!(Rn&2)&&(sC|=n),Ci===4&&Bf(e,us)),Ro(e,r),n===1&&Rn===0&&!(t.mode&1)&&(Wg=oi()+500,tC&&zd()))}function Ro(e,t){var n=e.callbackNode;$xe(e,t);var r=fE(e,e===zi?us:0);if(r===0)n!==null&&mV(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mV(n),t===1)e.tag===0?OEe(aU.bind(null,e)):cJ(aU.bind(null,e)),SEe(function(){!(Rn&6)&&zd()}),n=null;else{switch(jX(r)){case 1:n=RL;break;case 4:n=MX;break;case 16:n=cE;break;case 536870912:n=LX;break;default:n=cE}n=uZ(n,nZ.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nZ(e,t){if(yx=-1,vx=0,Rn&6)throw Error(Me(327));var n=e.callbackNode;if(_g()&&e.callbackNode!==n)return null;var r=fE(e,e===zi?us:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=PE(e,r);else{t=r;var i=Rn;Rn|=2;var s=iZ();(zi!==e||us!==t)&&(lc=null,Wg=oi()+500,tp(e,t));do try{GEe();break}catch(a){rZ(e,a)}while(1);GL(),OE.current=s,Rn=i,gi!==null?t=0:(zi=null,us=0,t=Ci)}if(t!==0){if(t===2&&(i=ZR(e),i!==0&&(r=i,t=$2(e,i))),t===1)throw n=L_,tp(e,0),Bf(e,r),Ro(e,oi()),n;if(t===6)Bf(e,r);else{if(i=e.current.alternate,!(r&30)&&!WEe(i)&&(t=PE(e,r),t===2&&(s=ZR(e),s!==0&&(r=s,t=$2(e,s))),t===1))throw n=L_,tp(e,0),Bf(e,r),Ro(e,oi()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Me(345));case 2:bh(e,_o,lc);break;case 3:if(Bf(e,r),(r&130023424)===r&&(t=lF+500-oi(),10<t)){if(fE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=a2(bh.bind(null,e,_o,lc),t);break}bh(e,_o,lc);break;case 4:if(Bf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Nl(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=oi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HEe(r/1960))-r,10<r){e.timeoutHandle=a2(bh.bind(null,e,_o,lc),r);break}bh(e,_o,lc);break;case 5:bh(e,_o,lc);break;default:throw Error(Me(329))}}}return Ro(e,oi()),e.callbackNode===n?nZ.bind(null,e):null}function $2(e,t){var n=W0;return e.current.memoizedState.isDehydrated&&(tp(e,t).flags|=256),e=PE(e,t),e!==2&&(t=_o,_o=n,t!==null&&C2(t)),e}function C2(e){_o===null?_o=e:_o.push.apply(_o,e)}function WEe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zl(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bf(e,t){for(t&=~aF,t&=~sC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nl(t),r=1<<n;e[n]=-1,t&=~r}}function aU(e){if(Rn&6)throw Error(Me(327));_g();var t=fE(e,0);if(!(t&1))return Ro(e,oi()),null;var n=PE(e,t);if(e.tag!==0&&n===2){var r=ZR(e);r!==0&&(t=r,n=$2(e,r))}if(n===1)throw n=L_,tp(e,0),Bf(e,t),Ro(e,oi()),n;if(n===6)throw Error(Me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bh(e,_o,lc),Ro(e,oi()),null}function uF(e,t){var n=Rn;Rn|=1;try{return e(t)}finally{Rn=n,Rn===0&&(Wg=oi()+500,tC&&zd())}}function vp(e){Qf!==null&&Qf.tag===0&&!(Rn&6)&&_g();var t=Rn;Rn|=1;var n=Ya.transition,r=Jn;try{if(Ya.transition=null,Jn=1,e)return e()}finally{Jn=r,Ya.transition=n,Rn=t,!(Rn&6)&&zd()}}function cF(){Xo=Zm.current,Er(Zm)}function tp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bEe(n)),gi!==null)for(n=gi.return;n!==null;){var r=n;switch(HL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gE();break;case 3:Ug(),Er(Ao),Er(Ds),ZL();break;case 5:JL(r);break;case 4:Ug();break;case 13:Er(Fr);break;case 19:Er(Fr);break;case 10:KL(r.type._context);break;case 22:case 23:cF()}n=n.return}if(zi=e,gi=e=ld(e.current,null),us=Xo=t,Ci=0,L_=null,aF=sC=yp=0,_o=W0=null,zh!==null){for(t=0;t<zh.length;t++)if(n=zh[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zh=null}return e}function rZ(e,t){do{var n=gi;try{if(GL(),px.current=IE,EE){for(var r=Br.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}EE=!1}if(gp=0,ji=Ei=Br=null,U0=!1,R_=0,oF.current=null,n===null||n.return===null){Ci=1,L_=t,gi=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=us,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=KV(o);if(m!==null){m.flags&=-257,YV(m,o,a,s,t),m.mode&1&&GV(s,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){GV(s,u,t),fF();break e}l=Error(Me(426))}}else if(kr&&a.mode&1){var _=KV(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),YV(_,o,a,s,t),WL(Hg(l,a));break e}}s=l=Hg(l,a),Ci!==4&&(Ci=2),W0===null?W0=[s]:W0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=BJ(s,l,t);BV(s,v);break e;case 1:a=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(od===null||!od.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=zJ(s,a,t);BV(s,x);break e}}s=s.return}while(s!==null)}oZ(n)}catch($){t=$,gi===n&&n!==null&&(gi=n=n.return);continue}break}while(1)}function iZ(){var e=OE.current;return OE.current=IE,e===null?IE:e}function fF(){(Ci===0||Ci===3||Ci===2)&&(Ci=4),zi===null||!(yp&268435455)&&!(sC&268435455)||Bf(zi,us)}function PE(e,t){var n=Rn;Rn|=2;var r=iZ();(zi!==e||us!==t)&&(lc=null,tp(e,t));do try{qEe();break}catch(i){rZ(e,i)}while(1);if(GL(),Rn=n,OE.current=r,gi!==null)throw Error(Me(261));return zi=null,us=0,Ci}function qEe(){for(;gi!==null;)sZ(gi)}function GEe(){for(;gi!==null&&!vxe();)sZ(gi)}function sZ(e){var t=lZ(e.alternate,e,Xo);e.memoizedProps=e.pendingProps,t===null?oZ(e):gi=t,oF.current=null}function oZ(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BEe(n,t),n!==null){n.flags&=32767,gi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ci=6,gi=null;return}}else if(n=jEe(n,t,Xo),n!==null){gi=n;return}if(t=t.sibling,t!==null){gi=t;return}gi=t=e}while(t!==null);Ci===0&&(Ci=5)}function bh(e,t,n){var r=Jn,i=Ya.transition;try{Ya.transition=null,Jn=1,KEe(e,t,n,r)}finally{Ya.transition=i,Jn=r}return null}function KEe(e,t,n,r){do _g();while(Qf!==null);if(Rn&6)throw Error(Me(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Me(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cxe(e,s),e===zi&&(gi=zi=null,us=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iS||(iS=!0,uZ(cE,function(){return _g(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ya.transition,Ya.transition=null;var o=Jn;Jn=1;var a=Rn;Rn|=4,oF.current=null,VEe(e,n),eZ(n,e),pEe(s2),dE=!!i2,s2=i2=null,e.current=n,UEe(n),_xe(),Rn=a,Jn=o,Ya.transition=s}else e.current=n;if(iS&&(iS=!1,Qf=e,CE=i),s=e.pendingLanes,s===0&&(od=null),Sxe(n.stateNode),Ro(e,oi()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($E)throw $E=!1,e=I2,I2=null,e;return CE&1&&e.tag!==0&&_g(),s=e.pendingLanes,s&1?e===O2?q0++:(q0=0,O2=e):q0=0,zd(),null}function _g(){if(Qf!==null){var e=jX(CE),t=Ya.transition,n=Jn;try{if(Ya.transition=null,Jn=16>e?16:e,Qf===null)var r=!1;else{if(e=Qf,Qf=null,CE=0,Rn&6)throw Error(Me(331));var i=Rn;for(Rn|=4,tt=e.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(tt=u;tt!==null;){var c=tt;switch(c.tag){case 0:case 11:case 15:H0(8,c,s)}var d=c.child;if(d!==null)d.return=c,tt=d;else for(;tt!==null;){c=tt;var h=c.sibling,m=c.return;if(XJ(c),c===u){tt=null;break}if(h!==null){h.return=m,tt=h;break}tt=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:H0(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,tt=v;break e}tt=s.return}}var b=e.current;for(tt=b;tt!==null;){o=tt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,tt=S;else e:for(o=b;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:iC(9,a)}}catch($){qr(a,a.return,$)}if(a===o){tt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,tt=x;break e}tt=a.return}}if(Rn=i,zd(),Ou&&typeof Ou.onPostCommitFiberRoot=="function")try{Ou.onPostCommitFiberRoot(Q$,e)}catch{}r=!0}return r}finally{Jn=n,Ya.transition=t}}return!1}function lU(e,t,n){t=Hg(n,t),t=BJ(e,t,1),e=sd(e,t,1),t=Gs(),e!==null&&(Dw(e,1,t),Ro(e,t))}function qr(e,t,n){if(e.tag===3)lU(e,e,n);else for(;t!==null;){if(t.tag===3){lU(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(od===null||!od.has(r))){e=Hg(n,e),e=zJ(t,e,1),t=sd(t,e,1),e=Gs(),t!==null&&(Dw(t,1,e),Ro(t,e));break}}t=t.return}}function YEe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gs(),e.pingedLanes|=e.suspendedLanes&n,zi===e&&(us&n)===n&&(Ci===4||Ci===3&&(us&130023424)===us&&500>oi()-lF?tp(e,0):aF|=n),Ro(e,t)}function aZ(e,t){t===0&&(e.mode&1?(t=Kb,Kb<<=1,!(Kb&130023424)&&(Kb=4194304)):t=1);var n=Gs();e=Mc(e,t),e!==null&&(Dw(e,t,n),Ro(e,n))}function QEe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),aZ(e,n)}function XEe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(t),aZ(e,n)}var lZ;lZ=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ao.current)Io=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Io=!1,FEe(e,t,n);Io=!!(e.flags&131072)}else Io=!1,kr&&t.flags&1048576&&fJ(t,_E,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gx(e,t),e=t.pendingProps;var i=Bg(t,Ds.current);vg(t,n),i=tF(null,t,r,e,i,n);var s=nF();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(s=!0,yE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QL(t),i.updater=nC,t.stateNode=i,i._reactInternals=t,p2(t,r,e,n),t=y2(null,t,r,!0,s,n)):(t.tag=0,kr&&s&&UL(t),Hs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gx(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ZEe(r),e=xl(r,e),i){case 0:t=g2(null,t,r,e,n);break e;case 1:t=JV(null,t,r,e,n);break e;case 11:t=QV(null,t,r,e,n);break e;case 14:t=XV(null,t,r,xl(r.type,e),n);break e}throw Error(Me(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xl(r,i),g2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xl(r,i),JV(e,t,r,i,n);case 3:e:{if(WJ(t),e===null)throw Error(Me(387));r=t.pendingProps,s=t.memoizedState,i=s.element,mJ(e,t),SE(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Hg(Error(Me(423)),t),t=ZV(e,t,r,n,i);break e}else if(r!==i){i=Hg(Error(Me(424)),t),t=ZV(e,t,r,n,i);break e}else for(ta=id(t.stateNode.containerInfo.firstChild),sa=t,kr=!0,Ol=null,n=_J(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zg(),r===i){t=Lc(e,t,n);break e}Hs(e,t,r,n)}t=t.child}return t;case 5:return wJ(t),e===null&&f2(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,o2(r,i)?o=null:s!==null&&o2(r,s)&&(t.flags|=32),HJ(e,t),Hs(e,t,o,n),t.child;case 6:return e===null&&f2(t),null;case 13:return qJ(e,t,n);case 4:return XL(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vg(t,null,r,n):Hs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xl(r,i),QV(e,t,r,i,n);case 7:return Hs(e,t,t.pendingProps,n),t.child;case 8:return Hs(e,t,t.pendingProps.children,n),t.child;case 12:return Hs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,gr(wE,r._currentValue),r._currentValue=o,s!==null)if(zl(s.value,o)){if(s.children===i.children&&!Ao.current){t=Lc(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$c(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),d2(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),d2(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vg(t,n),i=Za(i),r=r(i),t.flags|=1,Hs(e,t,r,n),t.child;case 14:return r=t.type,i=xl(r,t.pendingProps),i=xl(r.type,i),XV(e,t,r,i,n);case 15:return VJ(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xl(r,i),gx(e,t),t.tag=1,No(r)?(e=!0,yE(t)):e=!1,vg(t,n),yJ(t,r,i),p2(t,r,i,n),y2(null,t,r,!0,e,n);case 19:return GJ(e,t,n);case 22:return UJ(e,t,n)}throw Error(Me(156,t.tag))};function uZ(e,t){return DX(e,t)}function JEe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(e,t,n,r){return new JEe(e,t,n,r)}function dF(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZEe(e){if(typeof e=="function")return dF(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kL)return 11;if(e===AL)return 14}return 2}function ld(e,t){var n=e.alternate;return n===null?(n=Wa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _x(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")dF(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Um:return np(n.children,i,s,t);case TL:o=8,i|=8;break;case FR:return e=Wa(12,n,t,i|2),e.elementType=FR,e.lanes=s,e;case jR:return e=Wa(13,n,t,i),e.elementType=jR,e.lanes=s,e;case BR:return e=Wa(19,n,t,i),e.elementType=BR,e.lanes=s,e;case vX:return oC(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gX:o=10;break e;case yX:o=9;break e;case kL:o=11;break e;case AL:o=14;break e;case Nf:o=16,r=null;break e}throw Error(Me(130,e==null?e:typeof e,""))}return t=Wa(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function np(e,t,n,r){return e=Wa(7,e,r,t),e.lanes=n,e}function oC(e,t,n,r){return e=Wa(22,e,r,t),e.elementType=vX,e.lanes=n,e.stateNode={isHidden:!1},e}function SA(e,t,n){return e=Wa(6,e,null,t),e.lanes=n,e}function xA(e,t,n){return t=Wa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eIe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rA(0),this.expirationTimes=rA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hF(e,t,n,r,i,s,o,a,l){return e=new eIe(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wa(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},QL(s),e}function tIe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vm,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cZ(e){if(!e)return wd;e=e._reactInternals;e:{if(Vp(e)!==e||e.tag!==1)throw Error(Me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(e.tag===1){var n=e.type;if(No(n))return uJ(e,n,t)}return t}function fZ(e,t,n,r,i,s,o,a,l){return e=hF(n,r,!0,e,i,s,o,a,l),e.context=cZ(null),n=e.current,r=Gs(),i=ad(n),s=$c(r,i),s.callback=t??null,sd(n,s,i),e.current.lanes=i,Dw(e,i,r),Ro(e,r),e}function aC(e,t,n,r){var i=t.current,s=Gs(),o=ad(i);return n=cZ(n),t.context===null?t.context=n:t.pendingContext=n,t=$c(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sd(i,t,o),e!==null&&(Rl(e,i,o,s),hx(e,i,o)),o}function TE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uU(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pF(e,t){uU(e,t),(e=e.alternate)&&uU(e,t)}function nIe(){return null}var dZ=typeof reportError=="function"?reportError:function(e){console.error(e)};function mF(e){this._internalRoot=e}lC.prototype.render=mF.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Me(409));aC(e,t,null,null)};lC.prototype.unmount=mF.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vp(function(){aC(null,e,null,null)}),t[Dc]=null}};function lC(e){this._internalRoot=e}lC.prototype.unstable_scheduleHydration=function(e){if(e){var t=VX();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jf.length&&t!==0&&t<jf[n].priority;n++);jf.splice(n,0,e),n===0&&HX(e)}};function gF(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cU(){}function rIe(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=TE(o);s.call(u)}}var o=fZ(t,r,e,0,null,!1,!1,"",cU);return e._reactRootContainer=o,e[Dc]=o.current,P_(e.nodeType===8?e.parentNode:e),vp(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=TE(l);a.call(u)}}var l=hF(e,0,!1,null,null,!1,!1,"",cU);return e._reactRootContainer=l,e[Dc]=l.current,P_(e.nodeType===8?e.parentNode:e),vp(function(){aC(t,l,n,r)}),l}function cC(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=TE(o);a.call(l)}}aC(t,o,e,i)}else o=rIe(n,t,e,i,r);return TE(o)}BX=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=w0(t.pendingLanes);n!==0&&(DL(t,n|1),Ro(t,oi()),!(Rn&6)&&(Wg=oi()+500,zd()))}break;case 13:vp(function(){var r=Mc(e,1);if(r!==null){var i=Gs();Rl(r,e,1,i)}}),pF(e,1)}};ML=function(e){if(e.tag===13){var t=Mc(e,134217728);if(t!==null){var n=Gs();Rl(t,e,134217728,n)}pF(e,134217728)}};zX=function(e){if(e.tag===13){var t=ad(e),n=Mc(e,t);if(n!==null){var r=Gs();Rl(n,e,t,r)}pF(e,t)}};VX=function(){return Jn};UX=function(e,t){var n=Jn;try{return Jn=e,t()}finally{Jn=n}};QR=function(e,t,n){switch(t){case"input":if(UR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=eC(r);if(!i)throw Error(Me(90));wX(r),UR(r,i)}}}break;case"textarea":SX(e,n);break;case"select":t=n.value,t!=null&&pg(e,!!n.multiple,t,!1)}};PX=uF;TX=vp;var iIe={usingClientEntryPoint:!1,Events:[Lw,Gm,eC,$X,CX,uF]},Vv={findFiberByHostInstance:Bh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sIe={bundleType:Vv.bundleType,version:Vv.version,rendererPackageName:Vv.rendererPackageName,rendererConfig:Vv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NX(e),e===null?null:e.stateNode},findFiberByHostInstance:Vv.findFiberByHostInstance||nIe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sS.isDisabled&&sS.supportsFiber)try{Q$=sS.inject(sIe),Ou=sS}catch{}}ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iIe;ga.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gF(t))throw Error(Me(200));return tIe(e,t,null,n)};ga.createRoot=function(e,t){if(!gF(e))throw Error(Me(299));var n=!1,r="",i=dZ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hF(e,1,!1,null,null,n,!1,r,i),e[Dc]=t.current,P_(e.nodeType===8?e.parentNode:e),new mF(t)};ga.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Me(188)):(e=Object.keys(e).join(","),Error(Me(268,e)));return e=NX(t),e=e===null?null:e.stateNode,e};ga.flushSync=function(e){return vp(e)};ga.hydrate=function(e,t,n){if(!uC(t))throw Error(Me(200));return cC(null,e,t,!0,n)};ga.hydrateRoot=function(e,t,n){if(!gF(e))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=dZ;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=fZ(t,null,e,1,n??null,i,!1,s,o),e[Dc]=t.current,P_(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lC(t)};ga.render=function(e,t,n){if(!uC(t))throw Error(Me(200));return cC(null,e,t,!1,n)};ga.unmountComponentAtNode=function(e){if(!uC(e))throw Error(Me(40));return e._reactRootContainer?(vp(function(){cC(null,null,e,!1,function(){e._reactRootContainer=null,e[Dc]=null})}),!0):!1};ga.unstable_batchedUpdates=uF;ga.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uC(n))throw Error(Me(200));if(e==null||e._reactInternals===void 0)throw Error(Me(38));return cC(e,t,n,!1,r)};ga.version="18.2.0-next-9e3b772b8-20220608";function hZ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hZ)}catch(e){console.error(e)}}hZ(),fX.exports=ga;var jw=fX.exports,fU=jw;MR.createRoot=fU.createRoot,MR.hydrateRoot=fU.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F_.apply(this,arguments)}var Xf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xf||(Xf={}));const dU="popstate";function oIe(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return P2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pZ(i)}return lIe(t,n,null,e)}function Pi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aIe(){return Math.random().toString(36).substr(2,8)}function hU(e,t){return{usr:e.state,key:e.key,idx:t}}function P2(e,t,n,r){return n===void 0&&(n=null),F_({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fy(t):t,{state:n,key:t&&t.key||r||aIe()})}function pZ(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fy(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lIe(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Xf.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(F_({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Xf.Pop;let _=c(),v=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:v})}function h(_,v){a=Xf.Push;let b=P2(y.location,_,v);n&&n(b,_),u=c()+1;let S=hU(b,u),x=y.createHref(b);try{o.pushState(S,"",x)}catch{i.location.assign(x)}s&&l&&l({action:a,location:y.location,delta:1})}function m(_,v){a=Xf.Replace;let b=P2(y.location,_,v);n&&n(b,_),u=c();let S=hU(b,u),x=y.createHref(b);o.replaceState(S,"",x),s&&l&&l({action:a,location:y.location,delta:0})}function g(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof _=="string"?_:pZ(_);return Pi(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let y={get action(){return a},get location(){return e(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dU,d),l=_,()=>{i.removeEventListener(dU,d),l=null}},createHref(_){return t(i,_)},createURL:g,encodeLocation(_){let v=g(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(_){return o.go(_)}};return y}var pU;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pU||(pU={}));function uIe(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Fy(t):t,i=yZ(r.pathname||"/",n);if(i==null)return null;let s=mZ(e);cIe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=_Ie(s[a],SIe(i));return o}function mZ(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Pi(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=rp([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Pi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mZ(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:yIe(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of gZ(s.path))i(s,o,l)}),t}function gZ(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=gZ(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function cIe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vIe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fIe=/^:\w+$/,dIe=3,hIe=2,pIe=1,mIe=10,gIe=-2,mU=e=>e==="*";function yIe(e,t){let n=e.split("/"),r=n.length;return n.some(mU)&&(r+=gIe),t&&(r+=hIe),n.filter(i=>!mU(i)).reduce((i,s)=>i+(fIe.test(s)?dIe:s===""?pIe:mIe),r)}function vIe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function _Ie(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=wIe({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:rp([i,c.pathname]),pathnameBase:CIe(rp([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=rp([i,c.pathnameBase]))}return s}function wIe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=bIe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=xIe(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function bIe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function SIe(e){try{return decodeURI(e)}catch(t){return yF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xIe(e,t){try{return decodeURIComponent(e)}catch(n){return yF(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function yZ(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function EIe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Fy(e):e;return{pathname:n?n.startsWith("/")?n:IIe(n,t):t,search:PIe(r),hash:TIe(i)}}function IIe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function EA(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OIe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $Ie(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Fy(e):(i=F_({},e),Pi(!i.pathname||!i.pathname.includes("?"),EA("?","pathname","search",i)),Pi(!i.pathname||!i.pathname.includes("#"),EA("#","pathname","hash",i)),Pi(!i.search||!i.search.includes("#"),EA("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=t.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=EIe(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const rp=e=>e.join("/").replace(/\/\/+/g,"/"),CIe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PIe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TIe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kIe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var vZ={exports:{}},fC={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AIe=O,NIe=Symbol.for("react.element"),RIe=Symbol.for("react.fragment"),DIe=Object.prototype.hasOwnProperty,MIe=AIe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LIe={key:!0,ref:!0,__self:!0,__source:!0};function _Z(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)DIe.call(t,r)&&!LIe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:NIe,type:e,key:s,ref:o,props:i,_owner:MIe.current}}fC.Fragment=RIe;fC.jsx=_Z;fC.jsxs=_Z;vZ.exports=fC;var vF=vZ.exports;const Zn=vF.Fragment,P=vF.jsx,$e=vF.jsxs;/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function FIe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const jIe=typeof Object.is=="function"?Object.is:FIe,{useState:BIe,useEffect:zIe,useLayoutEffect:VIe,useDebugValue:UIe}=hp;function HIe(e,t,n){const r=t(),[{inst:i},s]=BIe({inst:{value:r,getSnapshot:t}});return VIe(()=>{i.value=r,i.getSnapshot=t,IA(i)&&s({inst:i})},[e,r,t]),zIe(()=>(IA(i)&&s({inst:i}),e(()=>{IA(i)&&s({inst:i})})),[e]),UIe(r),r}function IA(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!jIe(n,r)}catch{return!0}}function WIe(e,t,n){return t()}const qIe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GIe=!qIe,KIe=GIe?WIe:HIe;"useSyncExternalStore"in hp&&(e=>e.useSyncExternalStore)(hp);const wZ=O.createContext(null),_F=O.createContext(null),wF=O.createContext(null),dC=O.createContext(null),Up=O.createContext({outlet:null,matches:[]}),bZ=O.createContext(null);function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T2.apply(this,arguments)}function Bw(){return O.useContext(dC)!=null}function Vd(){return Bw()||Pi(!1),O.useContext(dC).location}function Ud(){Bw()||Pi(!1);let{basename:e,navigator:t}=O.useContext(wF),{matches:n}=O.useContext(Up),{pathname:r}=Vd(),i=JSON.stringify(OIe(n).map(a=>a.pathnameBase)),s=O.useRef(!1);return O.useEffect(()=>{s.current=!0}),O.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let u=$Ie(a,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:rp([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}const YIe=O.createContext(null);function QIe(e){let t=O.useContext(Up).outlet;return t&&P(YIe.Provider,{value:e,children:t})}function zw(){let{matches:e}=O.useContext(Up),t=e[e.length-1];return t?t.params:{}}function SZ(e,t){Bw()||Pi(!1);let{navigator:n}=O.useContext(wF),r=O.useContext(_F),{matches:i}=O.useContext(Up),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Vd(),u;if(t){var c;let y=typeof t=="string"?Fy(t):t;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Pi(!1),u=y}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",m=uIe(e,{pathname:h}),g=eOe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:rp([a,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:rp([a,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r||void 0);return t&&g?P(dC.Provider,{value:{location:T2({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xf.Pop},children:g}):g}function XIe(){let e=iOe(),t=kIe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null;return $e(Zn,{children:[P("h2",{children:"Unexpected Application Error!"}),P("h3",{style:{fontStyle:"italic"},children:t}),n?P("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:n}):null,null]})}class JIe extends O.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?P(Up.Provider,{value:this.props.routeContext,children:P(bZ.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function ZIe(e){let{routeContext:t,match:n,children:r}=e,i=O.useContext(wZ);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P(Up.Provider,{value:t,children:r})}function eOe(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Pi(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=O.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=P(XIe,{}));let c=t.concat(r.slice(0,a+1)),d=()=>{let h=s;return l?h=u:o.route.Component?h=O.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),P(ZIe,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?P(JIe,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var gU;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(gU||(gU={}));var kE;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(kE||(kE={}));function tOe(e){let t=O.useContext(_F);return t||Pi(!1),t}function nOe(e){let t=O.useContext(Up);return t||Pi(!1),t}function rOe(e){let t=nOe(),n=t.matches[t.matches.length-1];return n.route.id||Pi(!1),n.route.id}function iOe(){var e;let t=O.useContext(bZ),n=tOe(kE.UseRouteError),r=rOe(kE.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function sOe(e){let{to:t,replace:n,state:r,relative:i}=e;Bw()||Pi(!1);let s=O.useContext(_F),o=Ud();return O.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function oOe(e){return QIe(e.context)}function k2(e){Pi(!1)}function aOe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Xf.Pop,navigator:s,static:o=!1}=e;Bw()&&Pi(!1);let a=t.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Fy(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:m="default"}=r,g=O.useMemo(()=>{let y=yZ(u,a);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:m},navigationType:i}},[a,u,c,d,h,m,i]);return g==null?null:P(wF.Provider,{value:l,children:P(dC.Provider,{children:n,value:g})})}function lOe(e){let{children:t,location:n}=e,r=O.useContext(wZ),i=r&&!t?r.router.routes:A2(t);return SZ(i,n)}var yU;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(yU||(yU={}));new Promise(()=>{});function A2(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(r,i)=>{if(!O.isValidElement(r))return;let s=[...t,i];if(r.type===O.Fragment){n.push.apply(n,A2(r.props.children,s));return}r.type!==k2&&Pi(!1),!r.props.index||!r.props.children||Pi(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=A2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function uOe(e,t){let n=N2(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function cOe(e){let{basename:t,children:n,window:r}=e,i=O.useRef();i.current==null&&(i.current=oIe({window:r,v5Compat:!0}));let s=i.current,[o,a]=O.useState({action:s.action,location:s.location});return O.useLayoutEffect(()=>s.listen(a),[s]),P(aOe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var vU;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(vU||(vU={}));var _U;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_U||(_U={}));function fOe(e){let t=O.useRef(N2(e)),n=O.useRef(!1),r=Vd(),i=O.useMemo(()=>uOe(r.search,n.current?null:t.current),[r.search]),s=Ud(),o=O.useCallback((a,l)=>{const u=N2(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}function AE(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function dOe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function hOe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function pOe(e,t,n){return AE(e,n)===AE(t,n)}function mOe({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var l;n==null||n(a);const u=Array.from(((l=AE(a.currentTarget,e))==null?void 0:l.querySelectorAll(t))||[]).filter(y=>pOe(a.currentTarget,y,e)),c=u.findIndex(y=>a.currentTarget===y),d=hOe(c,u,r),h=dOe(c,u,r),m=s==="rtl"?h:d,g=s==="rtl"?d:h;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[m].focus(),i&&u[m].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[g].focus(),i&&u[g].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[d].focus(),i&&u[d].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const y=u.length-1;!u[y].disabled&&u[y].focus();break}}}}function gOe(e,t,n){var r;return n?Array.from(((r=AE(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function xZ(e){const t=O.createContext(null);return[({children:i,value:s})=>P(t.Provider,{value:s,children:i}),()=>{const i=O.useContext(t);if(i===null)throw new Error(e);return i}]}function _p(e){return Array.isArray(e)?e:[e]}const yOe=()=>{};function vOe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||yOe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function wc(e,t){return n=>{e==null||e(n),t==null||t(n)}}function _Oe(){const[e,t]=O.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function EZ({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function Vw(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==Ka.Fragment:!1}function IZ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=IZ(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function OZ(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=IZ(t))&&(r&&(r+=" "),r+=n);return r}const wOe={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function bOe(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var SOe=Object.defineProperty,wU=Object.getOwnPropertySymbols,xOe=Object.prototype.hasOwnProperty,EOe=Object.prototype.propertyIsEnumerable,bU=(e,t,n)=>t in e?SOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SU=(e,t)=>{for(var n in t||(t={}))xOe.call(t,n)&&bU(e,n,t[n]);if(wU)for(var n of wU(t))EOe.call(t,n)&&bU(e,n,t[n]);return e};function IOe(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:SU({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:SU({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function Uw(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function bF(e){const t=Uw(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,l]=n.split("."),u=parseInt(l,10);if(a in e.colors&&u>=0&&u<10)return e.colors[a][typeof r=="number"&&!s?r:u]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function $Z(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function OOe(e,...t){return`linear-gradient(${e}deg, ${$Z(t)})`}function $Oe(...e){return`radial-gradient(circle, ${$Z(e)})`}function CZ(e){const t=bF(e),n=Uw(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function SF(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function COe(e){return t=>`@media (min-width: ${SF({size:t,sizes:e.breakpoints})}px)`}function POe(e){return t=>`@media (max-width: ${SF({size:t,sizes:e.breakpoints})-1}px)`}function TOe(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function kOe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function AOe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function xF(e){return TOe(e)?kOe(e):e.startsWith("rgb")?AOe(e):{r:0,g:0,b:0,a:1}}function Nm(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=xF(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function NOe(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function ROe(e,t){const{r:n,g:r,b:i,a:s}=xF(e),o=1-t,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function DOe(e,t){const{r:n,g:r,b:i,a:s}=xF(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function MOe(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function LOe(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function FOe(e){const t=bF(e),n=Uw(e),r=CZ(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const l=LOe(s,e);switch(i){case"light":return{border:"transparent",background:Nm(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Nm(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Nm(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Nm(t(s,5,a,!1),.05):Nm(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const u=n(),c=l.isSplittedColor?l.shade:u,d=l.isSplittedColor?l.key:s;return{border:"transparent",background:t(d,c,a),color:e.white,hover:t(d,c===9?8:c+1)}}}}}function jOe(e){return t=>{const n=Uw(e)(t);return e.colors[e.primaryColor][n]}}function BOe(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const Li={fontStyles:bOe,themeColor:bF,focusStyles:IOe,linearGradient:OOe,radialGradient:$Oe,smallerThan:POe,largerThan:COe,rgba:Nm,size:SF,cover:NOe,darken:ROe,lighten:DOe,radius:MOe,variant:FOe,primaryShade:Uw,hover:BOe,gradient:CZ,primaryColor:jOe};var zOe=Object.defineProperty,VOe=Object.defineProperties,UOe=Object.getOwnPropertyDescriptors,xU=Object.getOwnPropertySymbols,HOe=Object.prototype.hasOwnProperty,WOe=Object.prototype.propertyIsEnumerable,EU=(e,t,n)=>t in e?zOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qOe=(e,t)=>{for(var n in t||(t={}))HOe.call(t,n)&&EU(e,n,t[n]);if(xU)for(var n of xU(t))WOe.call(t,n)&&EU(e,n,t[n]);return e},GOe=(e,t)=>VOe(e,UOe(t));function KOe(e){return GOe(qOe({},e),{fn:{fontStyles:Li.fontStyles(e),themeColor:Li.themeColor(e),focusStyles:Li.focusStyles(e),largerThan:Li.largerThan(e),smallerThan:Li.smallerThan(e),radialGradient:Li.radialGradient,linearGradient:Li.linearGradient,gradient:Li.gradient(e),rgba:Li.rgba,size:Li.size,cover:Li.cover,lighten:Li.lighten,darken:Li.darken,primaryShade:Li.primaryShade(e),radius:Li.radius(e),variant:Li.variant(e),hover:Li.hover,primaryColor:Li.primaryColor(e)}})}const YOe=["xs","sm","md","lg","xl"],QOe={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:wOe,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},PZ=KOe(QOe);function XOe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function JOe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ZOe=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(JOe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=XOe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),$s="-ms-",NE="-moz-",Vn="-webkit-",TZ="comm",EF="rule",IF="decl",e$e="@import",kZ="@keyframes",t$e=Math.abs,hC=String.fromCharCode,n$e=Object.assign;function r$e(e,t){return os(e,0)^45?(((t<<2^os(e,0))<<2^os(e,1))<<2^os(e,2))<<2^os(e,3):0}function AZ(e){return e.trim()}function i$e(e,t){return(e=t.exec(e))?e[0]:e}function qn(e,t,n){return e.replace(t,n)}function R2(e,t){return e.indexOf(t)}function os(e,t){return e.charCodeAt(t)|0}function j_(e,t,n){return e.slice(t,n)}function uu(e){return e.length}function OF(e){return e.length}function oS(e,t){return t.push(e),e}function s$e(e,t){return e.map(t).join("")}var pC=1,qg=1,NZ=0,Do=0,pi=0,jy="";function mC(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:pC,column:qg,length:o,return:""}}function Uv(e,t){return n$e(mC("",null,null,"",null,null,0),e,{length:-e.length},t)}function o$e(){return pi}function a$e(){return pi=Do>0?os(jy,--Do):0,qg--,pi===10&&(qg=1,pC--),pi}function oa(){return pi=Do<NZ?os(jy,Do++):0,qg++,pi===10&&(qg=1,pC++),pi}function Cu(){return os(jy,Do)}function wx(){return Do}function Hw(e,t){return j_(jy,e,t)}function B_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RZ(e){return pC=qg=1,NZ=uu(jy=e),Do=0,[]}function DZ(e){return jy="",e}function bx(e){return AZ(Hw(Do-1,D2(e===91?e+2:e===40?e+1:e)))}function l$e(e){for(;(pi=Cu())&&pi<33;)oa();return B_(e)>2||B_(pi)>3?"":" "}function u$e(e,t){for(;--t&&oa()&&!(pi<48||pi>102||pi>57&&pi<65||pi>70&&pi<97););return Hw(e,wx()+(t<6&&Cu()==32&&oa()==32))}function D2(e){for(;oa();)switch(pi){case e:return Do;case 34:case 39:e!==34&&e!==39&&D2(pi);break;case 40:e===41&&D2(e);break;case 92:oa();break}return Do}function c$e(e,t){for(;oa()&&e+pi!==47+10;)if(e+pi===42+42&&Cu()===47)break;return"/*"+Hw(t,Do-1)+"*"+hC(e===47?e:oa())}function f$e(e){for(;!B_(Cu());)oa();return Hw(e,Do)}function d$e(e){return DZ(Sx("",null,null,null,[""],e=RZ(e),0,[0],e))}function Sx(e,t,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,m=0,g=0,y=1,_=1,v=1,b=0,S="",x=i,$=s,E=r,I=S;_;)switch(g=b,b=oa()){case 40:if(g!=108&&os(I,d-1)==58){R2(I+=qn(bx(b),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:I+=bx(b);break;case 9:case 10:case 13:case 32:I+=l$e(g);break;case 92:I+=u$e(wx()-1,7);continue;case 47:switch(Cu()){case 42:case 47:oS(h$e(c$e(oa(),wx()),t,n),l);break;default:I+="/"}break;case 123*y:a[u++]=uu(I)*v;case 125*y:case 59:case 0:switch(b){case 0:case 125:_=0;case 59+c:m>0&&uu(I)-d&&oS(m>32?OU(I+";",r,n,d-1):OU(qn(I," ","")+";",r,n,d-2),l);break;case 59:I+=";";default:if(oS(E=IU(I,t,n,u,c,i,a,S,x=[],$=[],d),s),b===123)if(c===0)Sx(I,t,E,E,x,s,d,a,$);else switch(h===99&&os(I,3)===110?100:h){case 100:case 109:case 115:Sx(e,E,E,r&&oS(IU(e,E,E,0,0,i,a,S,i,x=[],d),$),i,$,d,a,r?x:$);break;default:Sx(I,E,E,E,[""],$,0,a,$)}}u=c=m=0,y=v=1,S=I="",d=o;break;case 58:d=1+uu(I),m=g;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&a$e()==125)continue}switch(I+=hC(b),b*y){case 38:v=c>0?1:(I+="\f",-1);break;case 44:a[u++]=(uu(I)-1)*v,v=1;break;case 64:Cu()===45&&(I+=bx(oa())),h=Cu(),c=d=uu(S=I+=f$e(wx())),b++;break;case 45:g===45&&uu(I)==2&&(y=0)}}return s}function IU(e,t,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],m=OF(h),g=0,y=0,_=0;g<r;++g)for(var v=0,b=j_(e,d+1,d=t$e(y=o[g])),S=e;v<m;++v)(S=AZ(y>0?h[v]+" "+b:qn(b,/&\f/g,h[v])))&&(l[_++]=S);return mC(e,t,n,i===0?EF:a,l,u,c)}function h$e(e,t,n){return mC(e,t,n,TZ,hC(o$e()),j_(e,2,-2),0)}function OU(e,t,n,r){return mC(e,t,n,IF,j_(e,0,r),j_(e,r+1,-1),r)}function wg(e,t){for(var n="",r=OF(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function p$e(e,t,n,r){switch(e.type){case e$e:case IF:return e.return=e.return||e.value;case TZ:return"";case kZ:return e.return=e.value+"{"+wg(e.children,r)+"}";case EF:e.value=e.props.join(",")}return uu(n=wg(e.children,r))?e.return=e.value+"{"+n+"}":""}function m$e(e){var t=OF(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function g$e(e){return function(t){t.root||(t=t.return)&&e(t)}}function y$e(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var v$e=function(t,n,r){for(var i=0,s=0;i=s,s=Cu(),i===38&&s===12&&(n[r]=1),!B_(s);)oa();return Hw(t,Do)},_$e=function(t,n){var r=-1,i=44;do switch(B_(i)){case 0:i===38&&Cu()===12&&(n[r]=1),t[r]+=v$e(Do-1,n,r);break;case 2:t[r]+=bx(i);break;case 4:if(i===44){t[++r]=Cu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=hC(i)}while(i=oa());return t},w$e=function(t,n){return DZ(_$e(RZ(t),n))},$U=new WeakMap,b$e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!$U.get(r))&&!i){$U.set(t,!0);for(var s=[],o=w$e(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},S$e=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function MZ(e,t){switch(r$e(e,t)){case 5103:return Vn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Vn+e+NE+e+$s+e+e;case 6828:case 4268:return Vn+e+$s+e+e;case 6165:return Vn+e+$s+"flex-"+e+e;case 5187:return Vn+e+qn(e,/(\w+).+(:[^]+)/,Vn+"box-$1$2"+$s+"flex-$1$2")+e;case 5443:return Vn+e+$s+"flex-item-"+qn(e,/flex-|-self/,"")+e;case 4675:return Vn+e+$s+"flex-line-pack"+qn(e,/align-content|flex-|-self/,"")+e;case 5548:return Vn+e+$s+qn(e,"shrink","negative")+e;case 5292:return Vn+e+$s+qn(e,"basis","preferred-size")+e;case 6060:return Vn+"box-"+qn(e,"-grow","")+Vn+e+$s+qn(e,"grow","positive")+e;case 4554:return Vn+qn(e,/([^-])(transform)/g,"$1"+Vn+"$2")+e;case 6187:return qn(qn(qn(e,/(zoom-|grab)/,Vn+"$1"),/(image-set)/,Vn+"$1"),e,"")+e;case 5495:case 3959:return qn(e,/(image-set\([^]*)/,Vn+"$1$`$1");case 4968:return qn(qn(e,/(.+:)(flex-)?(.*)/,Vn+"box-pack:$3"+$s+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vn+e+e;case 4095:case 3583:case 4068:case 2532:return qn(e,/(.+)-inline(.+)/,Vn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(uu(e)-1-t>6)switch(os(e,t+1)){case 109:if(os(e,t+4)!==45)break;case 102:return qn(e,/(.+:)(.+)-([^]+)/,"$1"+Vn+"$2-$3$1"+NE+(os(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~R2(e,"stretch")?MZ(qn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(os(e,t+1)!==115)break;case 6444:switch(os(e,uu(e)-3-(~R2(e,"!important")&&10))){case 107:return qn(e,":",":"+Vn)+e;case 101:return qn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vn+(os(e,14)===45?"inline-":"")+"box$3$1"+Vn+"$2$3$1"+$s+"$2box$3")+e}break;case 5936:switch(os(e,t+11)){case 114:return Vn+e+$s+qn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Vn+e+$s+qn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Vn+e+$s+qn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Vn+e+$s+e+e}return e}var x$e=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case IF:t.return=MZ(t.value,t.length);break;case kZ:return wg([Uv(t,{value:qn(t.value,"@","@"+Vn)})],i);case EF:if(t.length)return s$e(t.props,function(s){switch(i$e(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wg([Uv(t,{props:[qn(s,/:(read-\w+)/,":"+NE+"$1")]})],i);case"::placeholder":return wg([Uv(t,{props:[qn(s,/:(plac\w+)/,":"+Vn+"input-$1")]}),Uv(t,{props:[qn(s,/:(plac\w+)/,":"+NE+"$1")]}),Uv(t,{props:[qn(s,/:(plac\w+)/,$s+"input-$1")]})],i)}return""})}},E$e=[x$e],I$e=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||E$e,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)s[_[v]]=!0;a.push(y)});var l,u=[b$e,S$e];{var c,d=[p$e,g$e(function(y){c.insert(y)})],h=m$e(u.concat(i,d)),m=function(_){return wg(d$e(_),h)};l=function(_,v,b,S){c=b,m(_?_+"{"+v.styles+"}":v.styles),S&&(g.inserted[v.name]=!0)}}var g={key:n,sheet:new ZOe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};const LZ=I$e;function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(this,arguments)}var FZ={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi=typeof Symbol=="function"&&Symbol.for,$F=Wi?Symbol.for("react.element"):60103,CF=Wi?Symbol.for("react.portal"):60106,gC=Wi?Symbol.for("react.fragment"):60107,yC=Wi?Symbol.for("react.strict_mode"):60108,vC=Wi?Symbol.for("react.profiler"):60114,_C=Wi?Symbol.for("react.provider"):60109,wC=Wi?Symbol.for("react.context"):60110,PF=Wi?Symbol.for("react.async_mode"):60111,bC=Wi?Symbol.for("react.concurrent_mode"):60111,SC=Wi?Symbol.for("react.forward_ref"):60112,xC=Wi?Symbol.for("react.suspense"):60113,O$e=Wi?Symbol.for("react.suspense_list"):60120,EC=Wi?Symbol.for("react.memo"):60115,IC=Wi?Symbol.for("react.lazy"):60116,$$e=Wi?Symbol.for("react.block"):60121,C$e=Wi?Symbol.for("react.fundamental"):60117,P$e=Wi?Symbol.for("react.responder"):60118,T$e=Wi?Symbol.for("react.scope"):60119;function va(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $F:switch(e=e.type,e){case PF:case bC:case gC:case vC:case yC:case xC:return e;default:switch(e=e&&e.$$typeof,e){case wC:case SC:case IC:case EC:case _C:return e;default:return t}}case CF:return t}}}function jZ(e){return va(e)===bC}er.AsyncMode=PF;er.ConcurrentMode=bC;er.ContextConsumer=wC;er.ContextProvider=_C;er.Element=$F;er.ForwardRef=SC;er.Fragment=gC;er.Lazy=IC;er.Memo=EC;er.Portal=CF;er.Profiler=vC;er.StrictMode=yC;er.Suspense=xC;er.isAsyncMode=function(e){return jZ(e)||va(e)===PF};er.isConcurrentMode=jZ;er.isContextConsumer=function(e){return va(e)===wC};er.isContextProvider=function(e){return va(e)===_C};er.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$F};er.isForwardRef=function(e){return va(e)===SC};er.isFragment=function(e){return va(e)===gC};er.isLazy=function(e){return va(e)===IC};er.isMemo=function(e){return va(e)===EC};er.isPortal=function(e){return va(e)===CF};er.isProfiler=function(e){return va(e)===vC};er.isStrictMode=function(e){return va(e)===yC};er.isSuspense=function(e){return va(e)===xC};er.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gC||e===bC||e===vC||e===yC||e===xC||e===O$e||typeof e=="object"&&e!==null&&(e.$$typeof===IC||e.$$typeof===EC||e.$$typeof===_C||e.$$typeof===wC||e.$$typeof===SC||e.$$typeof===C$e||e.$$typeof===P$e||e.$$typeof===T$e||e.$$typeof===$$e)};er.typeOf=va;FZ.exports=er;var k$e=FZ.exports,BZ=k$e,A$e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},N$e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zZ={};zZ[BZ.ForwardRef]=A$e;zZ[BZ.Memo]=N$e;var R$e=!0;function D$e(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var M$e=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||R$e===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},VZ=function(t,n,r){M$e(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function L$e(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var F$e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},j$e=/[A-Z]|^ms/g,B$e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,UZ=function(t){return t.charCodeAt(1)===45},CU=function(t){return t!=null&&typeof t!="boolean"},OA=y$e(function(e){return UZ(e)?e:e.replace(j$e,"-$&").toLowerCase()}),PU=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(B$e,function(r,i,s){return cu={name:i,styles:s,next:cu},i})}return F$e[t]!==1&&!UZ(t)&&typeof n=="number"&&n!==0?n+"px":n};function z_(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return cu={name:n.name,styles:n.styles,next:cu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)cu={name:r.name,styles:r.styles,next:cu},r=r.next;var i=n.styles+";";return i}return z$e(e,t,n)}case"function":{if(e!==void 0){var s=cu,o=n(e);return cu=s,z_(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function z$e(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=z_(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":CU(o)&&(r+=OA(s)+":"+PU(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)CU(o[a])&&(r+=OA(s)+":"+PU(s,o[a])+";");else{var l=z_(e,t,o);switch(s){case"animation":case"animationName":{r+=OA(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var TU=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cu,TF=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";cu=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=z_(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=z_(r,n,t[a]),i&&(s+=o[a]);TU.lastIndex=0;for(var l="",u;(u=TU.exec(s))!==null;)l+="-"+u[1];var c=L$e(s)+l;return{name:c,styles:s,next:cu}},V$e=hp["useInsertionEffect"]?hp["useInsertionEffect"]:!1,kU=V$e||O.useLayoutEffect,HZ=O.createContext(typeof HTMLElement<"u"?LZ({key:"css"}):null);HZ.Provider;var U$e=function(t){return O.forwardRef(function(n,r){var i=O.useContext(HZ);return t(n,i,r)})},H$e=O.createContext({}),W$e=U$e(function(e,t){var n=e.styles,r=TF([n],void 0,O.useContext(H$e)),i=O.useRef();return kU(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[t]),kU(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&VZ(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function WZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return TF(t)}var q$e=function(){var t=WZ.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function qZ(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var G$e=Object.defineProperty,AU=Object.getOwnPropertySymbols,K$e=Object.prototype.hasOwnProperty,Y$e=Object.prototype.propertyIsEnumerable,NU=(e,t,n)=>t in e?G$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$A=(e,t)=>{for(var n in t||(t={}))K$e.call(t,n)&&NU(e,n,t[n]);if(AU)for(var n of AU(t))Y$e.call(t,n)&&NU(e,n,t[n]);return e};const GZ=O.createContext({theme:PZ});function Ls(){var e;return((e=O.useContext(GZ))==null?void 0:e.theme)||PZ}function Q$e(e){const t=Ls(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function KZ(){var e;return(e=O.useContext(GZ))==null?void 0:e.emotionCache}function $t(e,t,n){var r;const s=(r=Ls().components[e])==null?void 0:r.defaultProps;return $A($A($A({},t),s),qZ(n))}const YZ=O.createContext({classNames:{},styles:{},unstyled:!1});function QZ({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return P(YZ.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i},children:e})}function Ww(){return O.useContext(YZ)}const X$e={app:100,modal:200,popover:300,overlay:400,max:9999};function _a(e){return X$e[e]}function J$e(e,t){const n=O.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const Z$e=LZ({key:"mantine",prepend:!0});function eCe(){return KZ()||Z$e}var tCe=Object.defineProperty,RU=Object.getOwnPropertySymbols,nCe=Object.prototype.hasOwnProperty,rCe=Object.prototype.propertyIsEnumerable,DU=(e,t,n)=>t in e?tCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iCe=(e,t)=>{for(var n in t||(t={}))nCe.call(t,n)&&DU(e,n,t[n]);if(RU)for(var n of RU(t))rCe.call(t,n)&&DU(e,n,t[n]);return e};const CA="ref";function sCe(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(CA in n))return{args:e,ref:t};t=n[CA];const r=iCe({},n);return delete r[CA],{args:[r],ref:t}}const{cssFactory:oCe}=(()=>{function e(n,r,i){const s=[],o=D$e(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:l}=sCe(o),u=TF(l,r.registered);return VZ(r,u,!1),`${r.key}-${u.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,OZ(o))}}return{cssFactory:t}})();function XZ(){const e=eCe();return J$e(()=>oCe({cache:e}),[e])}function aCe({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,l)=>(Object.keys(l.classNames).forEach(u=>{typeof a[u]!="string"?a[u]=`${l.classNames[u]}`:a[u]=`${a[u]} ${l.classNames[u]}`}),a),{});return Object.keys(t).reduce((a,l)=>(a[l]=e(t[l],o[l],r!=null&&r[l],Array.isArray(i)?i.filter(Boolean).map(u=>`${(s==null?void 0:s.key)||"mantine"}-${u}-${l}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${l}`:null),a),{})}var lCe=Object.defineProperty,MU=Object.getOwnPropertySymbols,uCe=Object.prototype.hasOwnProperty,cCe=Object.prototype.propertyIsEnumerable,LU=(e,t,n)=>t in e?lCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PA=(e,t)=>{for(var n in t||(t={}))uCe.call(t,n)&&LU(e,n,t[n]);if(MU)for(var n of MU(t))cCe.call(t,n)&&LU(e,n,t[n]);return e};function fCe(e){return`__mantine-ref-${e||""}`}function FU(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=PA(PA({},i[o]),s[o]):i[o]=PA({},s[o])}),i),{}):r(e)}function wt(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Ls(),o=Q$e(i==null?void 0:i.name),a=KZ(),{css:l,cx:u}=XZ(),c=t(s,r,fCe),d=FU(i==null?void 0:i.styles,s,r),h=FU(o,s,r),m=Object.fromEntries(Object.keys(c).map(g=>{const y=u({[l(c[g])]:!(i!=null&&i.unstyled)},l(h[g]),l(d[g]));return[g,y]}));return{classes:aCe({cx:u,classes:m,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:u,theme:s}}return n}function JZ({styles:e}){const t=Ls();return P(W$e,{styles:WZ(typeof e=="function"?e(t):e)})}var dCe=Object.defineProperty,hCe=Object.defineProperties,pCe=Object.getOwnPropertyDescriptors,jU=Object.getOwnPropertySymbols,mCe=Object.prototype.hasOwnProperty,gCe=Object.prototype.propertyIsEnumerable,BU=(e,t,n)=>t in e?dCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hv=(e,t)=>{for(var n in t||(t={}))mCe.call(t,n)&&BU(e,n,t[n]);if(jU)for(var n of jU(t))gCe.call(t,n)&&BU(e,n,t[n]);return e},Wv=(e,t)=>hCe(e,pCe(t));const qv={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},aS={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:Wv(Hv({},qv),{common:{transformOrigin:"center center"}}),"pop-bottom-left":Wv(Hv({},qv),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":Wv(Hv({},qv),{common:{transformOrigin:"bottom right"}}),"pop-top-left":Wv(Hv({},qv),{common:{transformOrigin:"top left"}}),"pop-top-right":Wv(Hv({},qv),{common:{transformOrigin:"top right"}})},zU=["mousedown","touchstart"];function yCe(e,t,n){const r=O.useRef();return O.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o);n.every(u=>!!u&&!u.contains(o))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||zU).forEach(s=>document.addEventListener(s,i)),()=>{(t||zU).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function vCe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function _Ce(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function wCe(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=O.useState(n?!1:_Ce(e,t)),s=O.useRef();return O.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),vCe(s.current,o=>i(o.matches))},[e]),r}function ud(e,t,n){return Math.min(Math.max(e,t),n)}const kF=typeof document<"u"?O.useLayoutEffect:O.useEffect;function aa(e,t){const n=O.useRef(!1);O.useEffect(()=>()=>{n.current=!1},[]),O.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function ZZ({opened:e,shouldReturnFocus:t=!0}){const n=O.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return aa(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const bCe=/input|select|textarea|button|object/,eee="a, input, select, textarea, button, object, [tabindex]";function SCe(e){return e.style.display==="none"}function xCe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(SCe(n))return!1;n=n.parentNode}return!0}function tee(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function M2(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(tee(e));return(bCe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&xCe(e)}function nee(e){const t=tee(e);return(Number.isNaN(t)||t>=0)&&M2(e)}function ECe(e){return Array.from(e.querySelectorAll(eee)).filter(nee)}function ICe(e,t){const n=ECe(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function OCe(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function ree(e=!0){const t=O.useRef(),n=O.useRef(null),r=O.useCallback(i=>{if(e&&i!==null&&(n.current=OCe(i),t.current!==i))if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(eee));o=a.find(nee)||a.find(M2)||null,!o&&M2(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&s()}),t.current=i}else t.current=null},[e]);return O.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&ICe(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const $Ce=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,CCe=Ka["useId".toString()]||(()=>{});function PCe(){const[e,t]=O.useState("");return kF(()=>{t($Ce())},[]),e}function TCe(){const e=CCe();return e?`mantine-${e.replace(/:/g,"")}`:""}function nf(e){return typeof e=="string"?e:TCe()||PCe()}function L2(e,t,n){O.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function iee(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function kCe(...e){return t=>{e.forEach(n=>iee(n,t))}}function sl(...e){return O.useCallback(kCe(...e),e)}function see(e,t,n="ltr"){const r=O.useRef(),i=O.useRef(!1),s=O.useRef(!1),o=O.useRef(0),[a,l]=O.useState(!1);return O.useEffect(()=>{i.current=!0},[]),O.useEffect(()=>{const u=({x:b,y:S})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const x=r.current.getBoundingClientRect();if(x.width&&x.height){const $=ud((b-x.left)/x.width,0,1);e({x:n==="ltr"?$:1-$,y:ud((S-x.top)/x.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",y),document.addEventListener("mouseup",m),document.addEventListener("touchmove",v),document.addEventListener("touchend",m)},d=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",m)},h=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),c())},m=()=>{s.current&&i.current&&(s.current=!1,l(!1),d(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},g=b=>{h(),y(b)},y=b=>u({x:b.clientX,y:b.clientY}),_=b=>{b.cancelable&&b.preventDefault(),h(),v(b)},v=b=>{b.cancelable&&b.preventDefault(),u({x:b.changedTouches[0].clientX,y:b.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",g),r.current.addEventListener("touchstart",_,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",g),r.current.removeEventListener("touchstart",_))}},[n,e]),{ref:r,active:a}}function Vl({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=O.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function AF(e,t){return wCe("(prefers-reduced-motion: reduce)",e,t)}const ACe=e=>e<.5?2*e*e:-1+(4-2*e)*e,NCe=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,l=(n||document.body).getBoundingClientRect(),u=t.getBoundingClientRect(),c=d=>u[d]-l[d];if(e==="y"){const d=c("top");if(d===0)return 0;if(r==="start"){const m=d-i;return m<=u.height*(s?0:1)||!s?m:0}const h=o?l.height:window.innerHeight;if(r==="end"){const m=d+i-h+u.height;return m>=-u.height*(s?0:1)||!s?m:0}return r==="center"?d-h/2+u.height/2:0}if(e==="x"){const d=c("left");if(d===0)return 0;if(r==="start"){const m=d-i;return m<=u.width||!s?m:0}const h=o?l.width:window.innerWidth;if(r==="end"){const m=d+i-h+u.width;return m>=-u.width||!s?m:0}return r==="center"?d-h/2+u.width/2:0}return 0},RCe=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},DCe=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function oee({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=ACe,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=O.useRef(0),l=O.useRef(0),u=O.useRef(!1),c=O.useRef(null),d=O.useRef(null),h=AF(),m=()=>{a.current&&cancelAnimationFrame(a.current)},g=O.useCallback(({alignment:_="start"}={})=>{var v;u.current=!1,a.current&&m();const b=(v=RCe({parent:c.current,axis:t}))!=null?v:0,S=NCe({parent:c.current,target:d.current,axis:t,alignment:_,offset:i,isList:o})-(c.current?0:b);function x(){l.current===0&&(l.current=performance.now());const E=performance.now()-l.current,I=h||e===0?1:E/e,T=b+S*r(I);DCe({parent:c.current,axis:t,distance:T}),!u.current&&I<1?a.current=requestAnimationFrame(x):(typeof n=="function"&&n(),l.current=0,a.current=0,m())}x()},[t,e,r,o,i,n,h]),y=()=>{s&&(u.current=!0)};return L2("wheel",y,{passive:!0}),L2("touchmove",y,{passive:!0}),O.useEffect(()=>m,[]),{scrollableRef:c,targetRef:d,scrollIntoView:g,cancel:m}}const MCe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function G0(){const e=O.useRef(0),t=O.useRef(null),[n,r]=O.useState(MCe),i=O.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return O.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function LCe(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const FCe=({disableBodyPadding:e})=>{const t=e?null:LCe();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function jCe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BCe(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function zCe(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function VCe(e,t={disableBodyPadding:!1}){const[n,r]=O.useState(e||!1),i=O.useRef(0),{disableBodyPadding:s}=t,o=O.useRef(null),a=()=>{i.current=window.scrollY;const u=FCe({disableBodyPadding:s}),c=zCe();jCe(c,u),BCe(c),o.current=c},l=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return O.useEffect(()=>(n?a():l(),l),[n]),O.useEffect(()=>{e!==void 0&&r(e)},[e]),O.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}function UCe(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function HCe(){return typeof window<"u"?UCe():"undetermined"}function WCe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function aee(e){const[t,n]=O.useState(e);return[t,WCe(n)]}function lee(e,t){const[n,r]=O.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},s=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:s,toggle:()=>{n?s():i()}}]}function qCe(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var VU=Object.getOwnPropertySymbols,GCe=Object.prototype.hasOwnProperty,KCe=Object.prototype.propertyIsEnumerable,YCe=(e,t)=>{var n={};for(var r in e)GCe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VU)for(var r of VU(e))t.indexOf(r)<0&&KCe.call(e,r)&&(n[r]=e[r]);return n};function Hp(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:l,p:u,px:c,py:d,pt:h,pb:m,pl:g,pr:y,bg:_,c:v,opacity:b,ff:S,fz:x,fw:$,lts:E,ta:I,lh:T,fs:M,tt:U,td:z,w:H,miw:q,maw:B,h:ue,mih:le,mah:pe,bgsz:Z,bgp:oe,bgr:X,bga:k,pos:A,top:K,left:D,bottom:R,right:Y,inset:fe,display:he}=t,ge=YCe(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:qZ({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:l,p:u,px:c,py:d,pt:h,pb:m,pl:g,pr:y,bg:_,c:v,opacity:b,ff:S,fz:x,fw:$,lts:E,ta:I,lh:T,fs:M,tt:U,td:z,w:H,miw:q,maw:B,h:ue,mih:le,mah:pe,bgsz:Z,bgp:oe,bgr:X,bga:k,pos:A,top:K,left:D,bottom:R,right:Y,inset:fe,display:he}),rest:ge}}function QCe(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function XCe({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return QCe(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const u=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=u}),o):(o[r]=u,o)}const l=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(u=>{o[t.fn.largerThan(a)][u]=l}),o):(o[t.fn.largerThan(a)]={[r]:l},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function JCe(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function ZCe(e){return e}function ePe(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const tPe=["-xs","-sm","-md","-lg","-xl"];function nPe(e,t){return tPe.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const rPe={color:JCe,default:ZCe,fontSize:ePe,spacing:nPe},iPe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var sPe=Object.defineProperty,UU=Object.getOwnPropertySymbols,oPe=Object.prototype.hasOwnProperty,aPe=Object.prototype.propertyIsEnumerable,HU=(e,t,n)=>t in e?sPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WU=(e,t)=>{for(var n in t||(t={}))oPe.call(t,n)&&HU(e,n,t[n]);if(UU)for(var n of UU(t))aPe.call(t,n)&&HU(e,n,t[n]);return e};function F2(e,t,n=iPe){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(XCe({value:e[s],getValue:rPe[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=WU(WU({},i[o]),s[o]):i[o]=s[o]}),i),{})}function qU(e,t){return typeof e=="function"?e(t):e}function lPe(e,t,n){const r=Ls(),{css:i,cx:s}=XZ();return Array.isArray(e)?s(n,i(F2(t,r)),e.map(o=>i(qU(o,r)))):s(n,i(qU(e,r)),i(F2(t,r)))}var uPe=Object.defineProperty,RE=Object.getOwnPropertySymbols,uee=Object.prototype.hasOwnProperty,cee=Object.prototype.propertyIsEnumerable,GU=(e,t,n)=>t in e?uPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cPe=(e,t)=>{for(var n in t||(t={}))uee.call(t,n)&&GU(e,n,t[n]);if(RE)for(var n of RE(t))cee.call(t,n)&&GU(e,n,t[n]);return e},fPe=(e,t)=>{var n={};for(var r in e)uee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RE)for(var r of RE(e))t.indexOf(r)<0&&cee.call(e,r)&&(n[r]=e[r]);return n};const fee=O.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=fPe(n,["className","component","style","sx"]);const{systemStyles:l,rest:u}=Hp(a);return P(i||"div",{...cPe({ref:t,className:lPe(o,l,r),style:s},u)})});fee.displayName="@mantine/core/Box";const xt=fee;var dPe=Object.defineProperty,hPe=Object.defineProperties,pPe=Object.getOwnPropertyDescriptors,KU=Object.getOwnPropertySymbols,mPe=Object.prototype.hasOwnProperty,gPe=Object.prototype.propertyIsEnumerable,YU=(e,t,n)=>t in e?dPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QU=(e,t)=>{for(var n in t||(t={}))mPe.call(t,n)&&YU(e,n,t[n]);if(KU)for(var n of KU(t))gPe.call(t,n)&&YU(e,n,t[n]);return e},yPe=(e,t)=>hPe(e,pPe(t)),vPe=wt(e=>({root:yPe(QU(QU({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const _Pe=vPe;var wPe=Object.defineProperty,DE=Object.getOwnPropertySymbols,dee=Object.prototype.hasOwnProperty,hee=Object.prototype.propertyIsEnumerable,XU=(e,t,n)=>t in e?wPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bPe=(e,t)=>{for(var n in t||(t={}))dee.call(t,n)&&XU(e,n,t[n]);if(DE)for(var n of DE(t))hee.call(t,n)&&XU(e,n,t[n]);return e},SPe=(e,t)=>{var n={};for(var r in e)dee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DE)for(var r of DE(e))t.indexOf(r)<0&&hee.call(e,r)&&(n[r]=e[r]);return n};const pee=O.forwardRef((e,t)=>{const n=$t("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=SPe(n,["className","component","unstyled"]),{classes:a,cx:l}=_Pe(null,{name:"UnstyledButton",unstyled:s});return P(xt,{...bPe({component:i,ref:t,className:l(a.root,r),type:i==="button"?"button":void 0},o)})});pee.displayName="@mantine/core/UnstyledButton";const NF=pee;var xPe=Object.defineProperty,EPe=Object.defineProperties,IPe=Object.getOwnPropertyDescriptors,JU=Object.getOwnPropertySymbols,OPe=Object.prototype.hasOwnProperty,$Pe=Object.prototype.propertyIsEnumerable,ZU=(e,t,n)=>t in e?xPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mee=(e,t)=>{for(var n in t||(t={}))OPe.call(t,n)&&ZU(e,n,t[n]);if(JU)for(var n of JU(t))$Pe.call(t,n)&&ZU(e,n,t[n]);return e},CPe=(e,t)=>EPe(e,IPe(t));const S0={xs:18,sm:22,md:28,lg:34,xl:44};function PPe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:mee({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var TPe=wt((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:CPe(mee({},PPe({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:S0}),minHeight:e.fn.size({size:n,sizes:S0}),width:e.fn.size({size:n,sizes:S0}),minWidth:e.fn.size({size:n,sizes:S0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const kPe=TPe;var APe=Object.defineProperty,ME=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty,yee=Object.prototype.propertyIsEnumerable,e8=(e,t,n)=>t in e?APe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NPe=(e,t)=>{for(var n in t||(t={}))gee.call(t,n)&&e8(e,n,t[n]);if(ME)for(var n of ME(t))yee.call(t,n)&&e8(e,n,t[n]);return e},RPe=(e,t)=>{var n={};for(var r in e)gee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&yee.call(e,r)&&(n[r]=e[r]);return n};function DPe(e){var t=e,{size:n,color:r}=t,i=RPe(t,["size","color"]);return $e("svg",{...NPe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),children:[$e("rect",{y:"10",width:"15",height:"120",rx:"6",children:[P("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),P("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),$e("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6",children:[P("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),P("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),$e("rect",{x:"60",width:"15",height:"140",rx:"6",children:[P("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),P("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),$e("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6",children:[P("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),P("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),$e("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6",children:[P("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),P("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]})]})}var MPe=Object.defineProperty,LE=Object.getOwnPropertySymbols,vee=Object.prototype.hasOwnProperty,_ee=Object.prototype.propertyIsEnumerable,t8=(e,t,n)=>t in e?MPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LPe=(e,t)=>{for(var n in t||(t={}))vee.call(t,n)&&t8(e,n,t[n]);if(LE)for(var n of LE(t))_ee.call(t,n)&&t8(e,n,t[n]);return e},FPe=(e,t)=>{var n={};for(var r in e)vee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&_ee.call(e,r)&&(n[r]=e[r]);return n};function jPe(e){var t=e,{size:n,color:r}=t,i=FPe(t,["size","color"]);return P("svg",{...LPe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),children:P("g",{fill:"none",fillRule:"evenodd",children:$e("g",{transform:"translate(2.5 2.5)",strokeWidth:"5",children:[P("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),P("path",{d:"M32 16c0-9.94-8.06-16-16-16",children:P("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})})]})})})}var BPe=Object.defineProperty,FE=Object.getOwnPropertySymbols,wee=Object.prototype.hasOwnProperty,bee=Object.prototype.propertyIsEnumerable,n8=(e,t,n)=>t in e?BPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zPe=(e,t)=>{for(var n in t||(t={}))wee.call(t,n)&&n8(e,n,t[n]);if(FE)for(var n of FE(t))bee.call(t,n)&&n8(e,n,t[n]);return e},VPe=(e,t)=>{var n={};for(var r in e)wee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&bee.call(e,r)&&(n[r]=e[r]);return n};function UPe(e){var t=e,{size:n,color:r}=t,i=VPe(t,["size","color"]);return $e("svg",{...zPe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),children:[$e("circle",{cx:"15",cy:"15",r:"15",children:[P("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),P("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]}),$e("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3",children:[P("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),P("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]}),$e("circle",{cx:"105",cy:"15",r:"15",children:[P("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),P("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]})]})}var HPe=Object.defineProperty,jE=Object.getOwnPropertySymbols,See=Object.prototype.hasOwnProperty,xee=Object.prototype.propertyIsEnumerable,r8=(e,t,n)=>t in e?HPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WPe=(e,t)=>{for(var n in t||(t={}))See.call(t,n)&&r8(e,n,t[n]);if(jE)for(var n of jE(t))xee.call(t,n)&&r8(e,n,t[n]);return e},qPe=(e,t)=>{var n={};for(var r in e)See.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&xee.call(e,r)&&(n[r]=e[r]);return n};const TA={bars:DPe,oval:jPe,dots:UPe},GPe={xs:18,sm:22,md:36,lg:44,xl:58},KPe={size:"md"};function qw(e){const t=$t("Loader",KPe,e),{size:n,color:r,variant:i}=t,s=qPe(t,["size","color","variant"]),o=Ls(),a=i in TA?i:o.loader;return P(xt,{...WPe({role:"presentation",component:TA[a]||TA.bars,size:o.fn.size({size:n,sizes:GPe}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s)})}qw.displayName="@mantine/core/Loader";var YPe=Object.defineProperty,BE=Object.getOwnPropertySymbols,Eee=Object.prototype.hasOwnProperty,Iee=Object.prototype.propertyIsEnumerable,i8=(e,t,n)=>t in e?YPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s8=(e,t)=>{for(var n in t||(t={}))Eee.call(t,n)&&i8(e,n,t[n]);if(BE)for(var n of BE(t))Iee.call(t,n)&&i8(e,n,t[n]);return e},QPe=(e,t)=>{var n={};for(var r in e)Eee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&Iee.call(e,r)&&(n[r]=e[r]);return n};const XPe={color:"gray",size:"md",variant:"subtle",loading:!1},Oee=O.forwardRef((e,t)=>{const n=$t("ActionIcon",XPe,e),{className:r,color:i,children:s,radius:o,size:a,variant:l,gradient:u,disabled:c,loaderProps:d,loading:h,unstyled:m}=n,g=QPe(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:y,cx:_,theme:v}=kPe({size:a,radius:o,color:i,variant:l,gradient:u},{name:"ActionIcon",unstyled:m}),b=v.fn.variant({color:i,variant:l}),S=P(qw,{...s8({color:b.color,size:v.fn.size({size:a,sizes:S0})-12},d)});return P(NF,{...s8({className:_(y.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":h||void 0,unstyled:m},g),children:h?S:s})});Oee.displayName="@mantine/core/ActionIcon";const RF=Oee;function $ee(e){const{children:t,target:n,className:r}=$t("Portal",{},e),i=Ls(),[s,o]=O.useState(!1),a=O.useRef();return kF(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?jw.createPortal(P("div",{className:r,dir:i.dir,children:t}),a.current):null}$ee.displayName="@mantine/core/Portal";var JPe=Object.defineProperty,zE=Object.getOwnPropertySymbols,Cee=Object.prototype.hasOwnProperty,Pee=Object.prototype.propertyIsEnumerable,o8=(e,t,n)=>t in e?JPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZPe=(e,t)=>{for(var n in t||(t={}))Cee.call(t,n)&&o8(e,n,t[n]);if(zE)for(var n of zE(t))Pee.call(t,n)&&o8(e,n,t[n]);return e},eTe=(e,t)=>{var n={};for(var r in e)Cee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&Pee.call(e,r)&&(n[r]=e[r]);return n};function Gw(e){var t=e,{withinPortal:n=!0,children:r}=t,i=eTe(t,["withinPortal","children"]);return n?P($ee,{...ZPe({},i),children:r}):P(Zn,{children:r})}Gw.displayName="@mantine/core/OptionalPortal";var tTe=Object.defineProperty,a8=Object.getOwnPropertySymbols,nTe=Object.prototype.hasOwnProperty,rTe=Object.prototype.propertyIsEnumerable,l8=(e,t,n)=>t in e?tTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iTe=(e,t)=>{for(var n in t||(t={}))nTe.call(t,n)&&l8(e,n,t[n]);if(a8)for(var n of a8(t))rTe.call(t,n)&&l8(e,n,t[n]);return e};function Tee(e){return P("svg",{...iTe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),children:P("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}Tee.displayName="@mantine/core/CloseIcon";var sTe=Object.defineProperty,VE=Object.getOwnPropertySymbols,kee=Object.prototype.hasOwnProperty,Aee=Object.prototype.propertyIsEnumerable,u8=(e,t,n)=>t in e?sTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oTe=(e,t)=>{for(var n in t||(t={}))kee.call(t,n)&&u8(e,n,t[n]);if(VE)for(var n of VE(t))Aee.call(t,n)&&u8(e,n,t[n]);return e},aTe=(e,t)=>{var n={};for(var r in e)kee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&Aee.call(e,r)&&(n[r]=e[r]);return n};const lTe={xs:12,sm:14,md:16,lg:20,xl:24},uTe={size:"md"},Nee=O.forwardRef((e,t)=>{const n=$t("CloseButton",uTe,e),{iconSize:r,size:i="md"}=n,s=aTe(n,["iconSize","size"]),o=Ls(),a=r||o.fn.size({size:i,sizes:lTe});return P(RF,{...oTe({size:i,ref:t},s),children:P(Tee,{width:a,height:a})})});Nee.displayName="@mantine/core/CloseButton";const DF=Nee;var cTe=Object.defineProperty,fTe=Object.defineProperties,dTe=Object.getOwnPropertyDescriptors,c8=Object.getOwnPropertySymbols,hTe=Object.prototype.hasOwnProperty,pTe=Object.prototype.propertyIsEnumerable,f8=(e,t,n)=>t in e?cTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lS=(e,t)=>{for(var n in t||(t={}))hTe.call(t,n)&&f8(e,n,t[n]);if(c8)for(var n of c8(t))pTe.call(t,n)&&f8(e,n,t[n]);return e},mTe=(e,t)=>fTe(e,dTe(t));function gTe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function yTe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function vTe(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var _Te=wt((e,{color:t,variant:n,size:r,lineClamp:i,inline:s,inherit:o,underline:a,gradient:l,weight:u,transform:c,align:d,strikethrough:h,italic:m})=>{const g=e.fn.variant({variant:"gradient",gradient:l});return{root:lS(mTe(lS(lS(lS({},e.fn.fontStyles()),e.fn.focusStyles()),vTe(i)),{color:yTe({color:t,theme:e,variant:n}),fontFamily:o?"inherit":e.fontFamily,fontSize:o||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:o?"inherit":s?1:e.lineHeight,textDecoration:gTe({underline:a,strikethrough:h}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":u,textTransform:c,textAlign:d,fontStyle:m?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:g.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const wTe=_Te;var bTe=Object.defineProperty,UE=Object.getOwnPropertySymbols,Ree=Object.prototype.hasOwnProperty,Dee=Object.prototype.propertyIsEnumerable,d8=(e,t,n)=>t in e?bTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,STe=(e,t)=>{for(var n in t||(t={}))Ree.call(t,n)&&d8(e,n,t[n]);if(UE)for(var n of UE(t))Dee.call(t,n)&&d8(e,n,t[n]);return e},xTe=(e,t)=>{var n={};for(var r in e)Ree.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&Dee.call(e,r)&&(n[r]=e[r]);return n};const ETe={variant:"text"},Mee=O.forwardRef((e,t)=>{const n=$t("Text",ETe,e),{className:r,size:i,weight:s,transform:o,color:a,align:l,variant:u,lineClamp:c,gradient:d,inline:h,inherit:m,underline:g,strikethrough:y,italic:_,classNames:v,styles:b,unstyled:S,span:x}=n,$=xTe(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:E,cx:I}=wTe({variant:u,color:a,size:i,lineClamp:c,inline:h,inherit:m,underline:g,strikethrough:y,italic:_,weight:s,transform:o,align:l,gradient:d},{unstyled:S,name:"Text"});return P(xt,{...STe({ref:t,className:I(E.root,{[E.gradient]:u==="gradient"},r),component:x?"span":"div"},$)})});Mee.displayName="@mantine/core/Text";const Bt=Mee;var ITe=wt(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const OTe=ITe;var $Te=Object.defineProperty,HE=Object.getOwnPropertySymbols,Lee=Object.prototype.hasOwnProperty,Fee=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?$Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p8=(e,t)=>{for(var n in t||(t={}))Lee.call(t,n)&&h8(e,n,t[n]);if(HE)for(var n of HE(t))Fee.call(t,n)&&h8(e,n,t[n]);return e},CTe=(e,t)=>{var n={};for(var r in e)Lee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&Fee.call(e,r)&&(n[r]=e[r]);return n};const PTe={},jee=O.forwardRef((e,t)=>{const n=$t("Anchor",PTe,e),{component:r,className:i,unstyled:s}=n,o=CTe(n,["component","className","unstyled"]),{classes:a,cx:l}=OTe(null,{name:"Anchor",unstyled:s}),u=r==="button"?{type:"button"}:null;return P(Bt,{...p8(p8({component:r||"a",variant:"link",ref:t,className:l(a.root,i)},u),o)})});jee.displayName="@mantine/core/Anchor";const Bee=jee,zee=O.createContext({}),TTe=zee.Provider;function Vee(){return O.useContext(zee)}function OC(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var kTe=Object.defineProperty,ATe=Object.defineProperties,NTe=Object.getOwnPropertyDescriptors,m8=Object.getOwnPropertySymbols,RTe=Object.prototype.hasOwnProperty,DTe=Object.prototype.propertyIsEnumerable,g8=(e,t,n)=>t in e?kTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uS=(e,t)=>{for(var n in t||(t={}))RTe.call(t,n)&&g8(e,n,t[n]);if(m8)for(var n of m8(t))DTe.call(t,n)&&g8(e,n,t[n]);return e},y8=(e,t)=>ATe(e,NTe(t)),MTe=wt((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:l})=>{const u=typeof n=="object"&&n!==null?OC(n,e).reduce((d,[h,m])=>(d[`@media (min-width: ${h}px)`]={width:m,minWidth:m},d),{}):null,c=l?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:y8(uS(uS(y8(uS(uS({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),u),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const LTe=MTe;var FTe=Object.defineProperty,WE=Object.getOwnPropertySymbols,Uee=Object.prototype.hasOwnProperty,Hee=Object.prototype.propertyIsEnumerable,v8=(e,t,n)=>t in e?FTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_8=(e,t)=>{for(var n in t||(t={}))Uee.call(t,n)&&v8(e,n,t[n]);if(WE)for(var n of WE(t))Hee.call(t,n)&&v8(e,n,t[n]);return e},jTe=(e,t)=>{var n={};for(var r in e)Uee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&Hee.call(e,r)&&(n[r]=e[r]);return n};const MF=O.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a=_a("app"),hiddenBreakpoint:l="md",hidden:u=!1,withBorder:c=!0,className:d,classNames:h,styles:m,children:g,section:y,__staticSelector:_,unstyled:v}=n,b=jTe(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const S=Vee(),{classes:x,cx:$,theme:E}=LTe({width:r,height:i,fixed:S.fixed||s,position:o,hiddenBreakpoint:l,zIndex:S.zIndex||a,section:y,withBorder:c},{classNames:h,styles:m,name:_,unstyled:v}),I=OC(r,E).reduce((T,[M,U])=>(T[`@media (min-width: ${M}px)`]={[`--mantine-${y}-width`]:`${U}px`},T),{});return $e(xt,{..._8({component:y==="navbar"?"nav":"aside",ref:t,"data-hidden":u||void 0,className:$(x.root,d)},b),children:[g,P(JZ,{styles:()=>({":root":_8({[`--mantine-${y}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},I)})})]})});MF.displayName="@mantine/core/HorizontalSection";var BTe=Object.defineProperty,qE=Object.getOwnPropertySymbols,Wee=Object.prototype.hasOwnProperty,qee=Object.prototype.propertyIsEnumerable,w8=(e,t,n)=>t in e?BTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zTe=(e,t)=>{for(var n in t||(t={}))Wee.call(t,n)&&w8(e,n,t[n]);if(qE)for(var n of qE(t))qee.call(t,n)&&w8(e,n,t[n]);return e},VTe=(e,t)=>{var n={};for(var r in e)Wee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&qee.call(e,r)&&(n[r]=e[r]);return n};const Gee=O.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=VTe(n,["children","grow","sx"]);return P(xt,{...zTe({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},..._p(s)]},o),children:r})});Gee.displayName="@mantine/core/Section";const Kee=Gee;var UTe=Object.defineProperty,b8=Object.getOwnPropertySymbols,HTe=Object.prototype.hasOwnProperty,WTe=Object.prototype.propertyIsEnumerable,S8=(e,t,n)=>t in e?UTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qTe=(e,t)=>{for(var n in t||(t={}))HTe.call(t,n)&&S8(e,n,t[n]);if(b8)for(var n of b8(t))WTe.call(t,n)&&S8(e,n,t[n]);return e};const GTe={fixed:!1,position:{top:0,left:0},zIndex:_a("app"),hiddenBreakpoint:"md",hidden:!1},K0=O.forwardRef((e,t)=>{const n=$t("Navbar",GTe,e);return P(MF,{...qTe({section:"navbar",__staticSelector:"Navbar",ref:t},n)})});K0.Section=Kee;K0.displayName="@mantine/core/Navbar";var KTe=Object.defineProperty,YTe=Object.defineProperties,QTe=Object.getOwnPropertyDescriptors,x8=Object.getOwnPropertySymbols,XTe=Object.prototype.hasOwnProperty,JTe=Object.prototype.propertyIsEnumerable,E8=(e,t,n)=>t in e?KTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kA=(e,t)=>{for(var n in t||(t={}))XTe.call(t,n)&&E8(e,n,t[n]);if(x8)for(var n of x8(t))JTe.call(t,n)&&E8(e,n,t[n]);return e},I8=(e,t)=>YTe(e,QTe(t)),ZTe=wt((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s})=>{const o=typeof t=="object"&&t!==null?OC(t,e).reduce((a,[l,u])=>(a[`@media (min-width: ${l}px)`]={height:u,minHeight:u},a),{}):null;return{root:I8(kA(I8(kA(kA({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),o),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const eke=ZTe;var tke=Object.defineProperty,GE=Object.getOwnPropertySymbols,Yee=Object.prototype.hasOwnProperty,Qee=Object.prototype.propertyIsEnumerable,O8=(e,t,n)=>t in e?tke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$8=(e,t)=>{for(var n in t||(t={}))Yee.call(t,n)&&O8(e,n,t[n]);if(GE)for(var n of GE(t))Qee.call(t,n)&&O8(e,n,t[n]);return e},nke=(e,t)=>{var n={};for(var r in e)Yee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&Qee.call(e,r)&&(n[r]=e[r]);return n};const Xee=O.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:l=!1,withBorder:u=!0,position:c,zIndex:d=_a("app"),section:h,unstyled:m,__staticSelector:g}=n,y=nke(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const _=Vee(),{classes:v,cx:b,theme:S}=eke({height:a,fixed:_.fixed||l,position:c,zIndex:_.zIndex||d,borderPosition:u?h==="header"?"bottom":"top":"none"},{name:g,classNames:s,styles:o,unstyled:m}),x=typeof a=="object"&&a!==null?OC(a,S).reduce(($,[E,I])=>($[`@media (min-width: ${E}px)`]={[`--mantine-${h}-height`]:`${I}px`},$),{}):null;return $e(xt,{...$8({component:h==="header"?"header":"footer",className:b(v.root,i),ref:t},y),children:[r,P(JZ,{styles:()=>({":root":$8({[`--mantine-${h}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},x)})})]})});Xee.displayName="@mantine/core/VerticalSection";var rke=Object.defineProperty,ike=Object.defineProperties,ske=Object.getOwnPropertyDescriptors,C8=Object.getOwnPropertySymbols,oke=Object.prototype.hasOwnProperty,ake=Object.prototype.propertyIsEnumerable,P8=(e,t,n)=>t in e?rke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lke=(e,t)=>{for(var n in t||(t={}))oke.call(t,n)&&P8(e,n,t[n]);if(C8)for(var n of C8(t))ake.call(t,n)&&P8(e,n,t[n]);return e},uke=(e,t)=>ike(e,ske(t));const cke={fixed:!1,position:{top:0,left:0,right:0},zIndex:_a("app")},Jee=O.forwardRef((e,t)=>{const n=$t("Header",cke,e);return P(Xee,{...uke(lke({section:"header",__staticSelector:"Header"},n),{ref:t})})});Jee.displayName="@mantine/core/Header";var fke=Object.defineProperty,T8=Object.getOwnPropertySymbols,dke=Object.prototype.hasOwnProperty,hke=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?fke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pke=(e,t)=>{for(var n in t||(t={}))dke.call(t,n)&&k8(e,n,t[n]);if(T8)for(var n of T8(t))hke.call(t,n)&&k8(e,n,t[n]);return e};const mke={fixed:!1,position:{top:0,right:0},zIndex:_a("app"),hiddenBreakpoint:"md",hidden:!1},eg=O.forwardRef((e,t)=>{const n=$t("Aside",mke,e);return P(MF,{...pke({section:"aside",__staticSelector:"Aside",ref:t},n)})});eg.Section=Kee;eg.displayName="@mantine/core/Aside";var gke=Object.defineProperty,A8=Object.getOwnPropertySymbols,yke=Object.prototype.hasOwnProperty,vke=Object.prototype.propertyIsEnumerable,N8=(e,t,n)=>t in e?gke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_ke=(e,t)=>{for(var n in t||(t={}))yke.call(t,n)&&N8(e,n,t[n]);if(A8)for(var n of A8(t))vke.call(t,n)&&N8(e,n,t[n]);return e};function wke(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var bke=wt((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:_ke({flex:1,width:"100vw",boxSizing:"border-box"},wke(t,e))}));const Ske=bke;var xke=Object.defineProperty,KE=Object.getOwnPropertySymbols,Zee=Object.prototype.hasOwnProperty,ete=Object.prototype.propertyIsEnumerable,R8=(e,t,n)=>t in e?xke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eke=(e,t)=>{for(var n in t||(t={}))Zee.call(t,n)&&R8(e,n,t[n]);if(KE)for(var n of KE(t))ete.call(t,n)&&R8(e,n,t[n]);return e},Ike=(e,t)=>{var n={};for(var r in e)Zee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&ete.call(e,r)&&(n[r]=e[r]);return n};const Oke={fixed:!0,zIndex:_a("app"),padding:"md"},tte=O.forwardRef((e,t)=>{const n=$t("AppShell",Oke,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:l,zIndex:u,padding:c,navbarOffsetBreakpoint:d,asideOffsetBreakpoint:h,className:m,styles:g,classNames:y,unstyled:_,hidden:v}=n,b=Ike(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:S,cx:x}=Ske({padding:c,fixed:l,navbarOffsetBreakpoint:d,asideOffsetBreakpoint:h},{styles:g,classNames:y,unstyled:_,name:"AppShell"});return v?P(Zn,{children:r}):P(TTe,{value:{fixed:l,zIndex:u},children:$e(xt,{...Eke({className:x(S.root,m),ref:t},b),children:[s,$e("div",{className:S.body,children:[i,P("main",{className:S.main,children:r}),a]}),o]})})});tte.displayName="@mantine/core/AppShell";const cS={xs:1,sm:2,md:3,lg:4,xl:5};function fS(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var $ke=wt((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:cS})}px ${n} ${fS(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:cS})}px ${n} ${fS(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:cS}),borderTopColor:fS(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:cS}),borderLeftColor:fS(e,r),borderLeftStyle:n}}));const Cke=$ke;var Pke=Object.defineProperty,Tke=Object.defineProperties,kke=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,nte=Object.prototype.hasOwnProperty,rte=Object.prototype.propertyIsEnumerable,D8=(e,t,n)=>t in e?Pke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M8=(e,t)=>{for(var n in t||(t={}))nte.call(t,n)&&D8(e,n,t[n]);if(YE)for(var n of YE(t))rte.call(t,n)&&D8(e,n,t[n]);return e},Ake=(e,t)=>Tke(e,kke(t)),Nke=(e,t)=>{var n={};for(var r in e)nte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&rte.call(e,r)&&(n[r]=e[r]);return n};const Rke={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},j2=O.forwardRef((e,t)=>{const n=$t("Divider",Rke,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:l,labelProps:u,variant:c,styles:d,classNames:h,unstyled:m}=n,g=Nke(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:y,cx:_}=Cke({color:i,size:o,variant:c},{classNames:h,styles:d,unstyled:m,name:"Divider"}),v=s==="vertical",b=s==="horizontal",S=!!a&&b,x=!(u!=null&&u.color);return P(xt,{...M8({ref:t,className:_(y.root,{[y.vertical]:v,[y.horizontal]:b,[y.withLabel]:S},r),role:"separator"},g),children:S&&P(Bt,{...Ake(M8({},u),{size:(u==null?void 0:u.size)||"xs",sx:{marginTop:2},className:_(y.label,y[l],{[y.labelDefaultStyles]:x})}),children:a})})});j2.displayName="@mantine/core/Divider";var Dke=Object.defineProperty,Mke=Object.defineProperties,Lke=Object.getOwnPropertyDescriptors,L8=Object.getOwnPropertySymbols,Fke=Object.prototype.hasOwnProperty,jke=Object.prototype.propertyIsEnumerable,F8=(e,t,n)=>t in e?Dke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j8=(e,t)=>{for(var n in t||(t={}))Fke.call(t,n)&&F8(e,n,t[n]);if(L8)for(var n of L8(t))jke.call(t,n)&&F8(e,n,t[n]);return e},Bke=(e,t)=>Mke(e,Lke(t)),zke=wt((e,{size:t})=>({item:Bke(j8({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":j8({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const Vke=zke;var Uke=Object.defineProperty,B8=Object.getOwnPropertySymbols,Hke=Object.prototype.hasOwnProperty,Wke=Object.prototype.propertyIsEnumerable,z8=(e,t,n)=>t in e?Uke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qke=(e,t)=>{for(var n in t||(t={}))Hke.call(t,n)&&z8(e,n,t[n]);if(B8)for(var n of B8(t))Wke.call(t,n)&&z8(e,n,t[n]);return e};function LF({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:l,itemsRefs:u,itemComponent:c,size:d,nothingFound:h,creatable:m,createLabel:g,unstyled:y}){const{classes:_}=Vke({size:d},{classNames:n,styles:r,unstyled:y,name:o}),v=[],b=[];let S=null;const x=(E,I)=>{const T=typeof i=="function"?i(E.value):!1;return P(c,{...qke({key:E.value,className:_.item,"data-disabled":E.disabled||void 0,"data-hovered":!E.disabled&&t===I||void 0,"data-selected":!E.disabled&&T||void 0,onMouseEnter:()=>a(I),id:`${s}-${I}`,role:"option",tabIndex:-1,"aria-selected":t===I,ref:M=>{u&&u.current&&(u.current[E.value]=M)},onMouseDown:E.disabled?null:M=>{M.preventDefault(),l(E)},disabled:E.disabled},E)})};let $=null;if(e.forEach((E,I)=>{E.creatable?S=I:E.group?($!==E.group&&($=E.group,b.push(P("div",{className:_.separator,children:P(j2,{classNames:{label:_.separatorLabel},label:E.group})},`__mantine-divider-${I}`))),b.push(x(E,I))):v.push(x(E,I))}),m){const E=e[S];v.push(P("div",{className:_.item,"data-hovered":t===S||void 0,onMouseEnter:()=>a(S),onMouseDown:I=>{I.preventDefault(),l(E)},tabIndex:-1,ref:I=>{u&&u.current&&(u.current[E.value]=I)},children:g},qCe()))}return b.length>0&&v.length>0&&v.unshift(P("div",{className:_.separator,children:P(j2,{})},"empty-group-separator")),b.length>0||v.length>0?$e(Zn,{children:[b,v]}):P(Bt,{size:d,unstyled:y,className:_.nothingFound,children:h})}LF.displayName="@mantine/core/SelectItems";var Gke=Object.defineProperty,QE=Object.getOwnPropertySymbols,ite=Object.prototype.hasOwnProperty,ste=Object.prototype.propertyIsEnumerable,V8=(e,t,n)=>t in e?Gke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kke=(e,t)=>{for(var n in t||(t={}))ite.call(t,n)&&V8(e,n,t[n]);if(QE)for(var n of QE(t))ste.call(t,n)&&V8(e,n,t[n]);return e},Yke=(e,t)=>{var n={};for(var r in e)ite.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&ste.call(e,r)&&(n[r]=e[r]);return n};const FF=O.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=Yke(n,["label","value"]);return P("div",{...Kke({ref:t},s),children:r||i})});FF.displayName="@mantine/core/DefaultItem";function Qke(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ote(...e){return t=>e.forEach(n=>Qke(n,t))}function Wp(...e){return O.useCallback(ote(...e),e)}const ate=O.forwardRef((e,t)=>{const{children:n,...r}=e,i=O.Children.toArray(n),s=i.find(Jke);if(s){const o=s.props.children,a=i.map(l=>l===s?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:l);return O.createElement(B2,Rr({},r,{ref:t}),O.isValidElement(o)?O.cloneElement(o,void 0,a):null)}return O.createElement(B2,Rr({},r,{ref:t}),n)});ate.displayName="Slot";const B2=O.forwardRef((e,t)=>{const{children:n,...r}=e;return O.isValidElement(n)?O.cloneElement(n,{...Zke(r,n.props),ref:ote(t,n.ref)}):O.Children.count(n)>1?O.Children.only(null):null});B2.displayName="SlotClone";const Xke=({children:e})=>O.createElement(O.Fragment,null,e);function Jke(e){return O.isValidElement(e)&&e.type===Xke}function Zke(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{s==null||s(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const eAe=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Kw=eAe.reduce((e,t)=>{const n=O.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ate:t;return O.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),O.createElement(a,Rr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),z2=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{};function tAe(e,t){return O.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Yw=e=>{const{present:t,children:n}=e,r=nAe(t),i=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),s=Wp(r.ref,i.ref);return typeof n=="function"||r.isPresent?O.cloneElement(i,{ref:s}):null};Yw.displayName="Presence";function nAe(e){const[t,n]=O.useState(),r=O.useRef({}),i=O.useRef(e),s=O.useRef("none"),o=e?"mounted":"unmounted",[a,l]=tAe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const u=dS(r.current);s.current=a==="mounted"?u:"none"},[a]),z2(()=>{const u=r.current,c=i.current;if(c!==e){const h=s.current,m=dS(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),z2(()=>{if(t){const u=d=>{const m=dS(r.current).includes(d.animationName);d.target===t&&m&&jw.flushSync(()=>l("ANIMATION_END"))},c=d=>{d.target===t&&(s.current=dS(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:O.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function dS(e){return(e==null?void 0:e.animationName)||"none"}function rAe(e,t=[]){let n=[];function r(s,o){const a=O.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:h,children:m,...g}=d,y=(h==null?void 0:h[e][l])||a,_=O.useMemo(()=>g,Object.values(g));return O.createElement(y.Provider,{value:_},m)}function c(d,h){const m=(h==null?void 0:h[e][l])||a,g=O.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const i=()=>{const s=n.map(o=>O.createContext(o));return function(a){const l=(a==null?void 0:a[e])||s;return O.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,iAe(i,...t)]}function iAe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ph(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const sAe=O.createContext(void 0);function oAe(e){const t=O.useContext(sAe);return e||t||"ltr"}function aAe(e,[t,n]){return Math.min(n,Math.max(t,e))}function ip(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function lAe(e,t){return O.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const lte="ScrollArea",[ute,VEt]=rAe(lte),[uAe,ol]=ute(lte),cAe=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,l]=O.useState(null),[u,c]=O.useState(null),[d,h]=O.useState(null),[m,g]=O.useState(null),[y,_]=O.useState(null),[v,b]=O.useState(0),[S,x]=O.useState(0),[$,E]=O.useState(!1),[I,T]=O.useState(!1),M=Wp(t,z=>l(z)),U=oAe(i);return O.createElement(uAe,{scope:n,type:r,dir:U,scrollHideDelay:s,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:$,onScrollbarXEnabledChange:E,scrollbarY:y,onScrollbarYChange:_,scrollbarYEnabled:I,onScrollbarYEnabledChange:T,onCornerWidthChange:b,onCornerHeightChange:x},O.createElement(Kw.div,Rr({dir:U},o,{ref:M,style:{position:"relative",["--radix-scroll-area-corner-width"]:v+"px",["--radix-scroll-area-corner-height"]:S+"px",...e.style}})))}),fAe="ScrollAreaViewport",dAe=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ol(fAe,n),o=O.useRef(null),a=Wp(t,o,s.onViewportChange);return O.createElement(O.Fragment,null,O.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),O.createElement(Kw.div,Rr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),O.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),rf="ScrollAreaScrollbar",hAe=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ol(rf,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return O.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?O.createElement(pAe,Rr({},r,{ref:t,forceMount:n})):i.type==="scroll"?O.createElement(mAe,Rr({},r,{ref:t,forceMount:n})):i.type==="auto"?O.createElement(cte,Rr({},r,{ref:t,forceMount:n})):i.type==="always"?O.createElement(jF,Rr({},r,{ref:t})):null}),pAe=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ol(rf,e.__scopeScrollArea),[s,o]=O.useState(!1);return O.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),O.createElement(Yw,{present:n||s},O.createElement(cte,Rr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),mAe=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ol(rf,e.__scopeScrollArea),s=e.orientation==="horizontal",o=CC(()=>l("SCROLL_END"),100),[a,l]=lAe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return O.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),O.useEffect(()=>{const u=i.viewport,c=s?"scrollLeft":"scrollTop";if(u){let d=u[c];const h=()=>{const m=u[c];d!==m&&(l("SCROLL"),o()),d=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,l,o]),O.createElement(Yw,{present:n||a!=="hidden"},O.createElement(jF,Rr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:ip(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ip(e.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),cte=O.forwardRef((e,t)=>{const n=ol(rf,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=O.useState(!1),a=e.orientation==="horizontal",l=CC(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:c)}},10);return Gg(n.viewport,l),Gg(n.content,l),O.createElement(Yw,{present:r||s},O.createElement(jF,Rr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),jF=O.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ol(rf,e.__scopeScrollArea),s=O.useRef(null),o=O.useRef(0),[a,l]=O.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=pte(a.viewport,a.content),c={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,m){return xAe(h,o.current,a,m)}return n==="horizontal"?O.createElement(gAe,Rr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,m=U8(h,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}})):n==="vertical"?O.createElement(yAe,Rr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,m=U8(h,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}})):null}),gAe=O.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ol(rf,e.__scopeScrollArea),[o,a]=O.useState(),l=O.useRef(null),u=Wp(t,l,s.onScrollbarXChange);return O.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),O.createElement(dte,Rr({"data-orientation":"horizontal"},i,{ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,["--radix-scroll-area-thumb-width"]:$C(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(h),gte(h,d)&&c.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:XE(o.paddingLeft),paddingEnd:XE(o.paddingRight)}})}}))}),yAe=O.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ol(rf,e.__scopeScrollArea),[o,a]=O.useState(),l=O.useRef(null),u=Wp(t,l,s.onScrollbarYChange);return O.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),O.createElement(dte,Rr({"data-orientation":"vertical"},i,{ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)",["--radix-scroll-area-thumb-height"]:$C(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,d)=>{if(s.viewport){const h=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(h),gte(h,d)&&c.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:XE(o.paddingTop),paddingEnd:XE(o.paddingBottom)}})}}))}),[vAe,fte]=ute(rf),dte=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:d,...h}=e,m=ol(rf,n),[g,y]=O.useState(null),_=Wp(t,M=>y(M)),v=O.useRef(null),b=O.useRef(""),S=m.viewport,x=r.content-r.viewport,$=Ph(c),E=Ph(l),I=CC(d,10);function T(M){if(v.current){const U=M.clientX-v.current.left,z=M.clientY-v.current.top;u({x:U,y:z})}}return O.useEffect(()=>{const M=U=>{const z=U.target;(g==null?void 0:g.contains(z))&&$(U,x)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[S,g,x,$]),O.useEffect(E,[r,E]),Gg(g,I),Gg(m.content,I),O.createElement(vAe,{scope:n,scrollbar:g,hasThumb:i,onThumbChange:Ph(s),onThumbPointerUp:Ph(o),onThumbPositionChange:E,onThumbPointerDown:Ph(a)},O.createElement(Kw.div,Rr({},h,{ref:_,style:{position:"absolute",...h.style},onPointerDown:ip(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),v.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T(M))}),onPointerMove:ip(e.onPointerMove,T),onPointerUp:ip(e.onPointerUp,M=>{M.target.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=b.current,v.current=null})})))}),V2="ScrollAreaThumb",_Ae=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=fte(V2,e.__scopeScrollArea);return O.createElement(Yw,{present:n||i.hasThumb},O.createElement(wAe,Rr({ref:t},r)))}),wAe=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ol(V2,n),o=fte(V2,n),{onThumbPositionChange:a}=o,l=Wp(t,d=>o.onThumbChange(d)),u=O.useRef(),c=CC(()=>{u.current&&(u.current(),u.current=void 0)},100);return O.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(c(),!u.current){const m=EAe(d,a);u.current=m,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,c,a]),O.createElement(Kw.div,Rr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ip(e.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),g=d.clientX-m.left,y=d.clientY-m.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:ip(e.onPointerUp,o.onThumbPointerUp)}))}),hte="ScrollAreaCorner",bAe=O.forwardRef((e,t)=>{const n=ol(hte,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?O.createElement(SAe,Rr({},e,{ref:t})):null}),SAe=O.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ol(hte,n),[s,o]=O.useState(0),[a,l]=O.useState(0),u=!!(s&&a);return Gg(i.scrollbarX,()=>{var c;const d=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Gg(i.scrollbarY,()=>{var c;const d=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?O.createElement(Kw.div,Rr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function XE(e){return e?parseInt(e,10):0}function pte(e,t){const n=e/t;return isNaN(n)?0:n}function $C(e){const t=pte(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function xAe(e,t,n,r="ltr"){const i=$C(n),s=i/2,o=t||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return mte([l,u],d)(e)}function U8(e,t,n="ltr"){const r=$C(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=aAe(e,l);return mte([0,o],[0,a])(u)}function mte(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function gte(e,t){return e>0&&e<t}const EAe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function CC(e,t){const n=Ph(e),r=O.useRef(0);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),O.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Gg(e,t){const n=Ph(t);z2(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const IAe=cAe,OAe=dAe,H8=hAe,W8=_Ae,$Ae=bAe;var CAe=wt((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const PAe=CAe;var TAe=Object.defineProperty,kAe=Object.defineProperties,AAe=Object.getOwnPropertyDescriptors,JE=Object.getOwnPropertySymbols,yte=Object.prototype.hasOwnProperty,vte=Object.prototype.propertyIsEnumerable,q8=(e,t,n)=>t in e?TAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_te=(e,t)=>{for(var n in t||(t={}))yte.call(t,n)&&q8(e,n,t[n]);if(JE)for(var n of JE(t))vte.call(t,n)&&q8(e,n,t[n]);return e},NAe=(e,t)=>kAe(e,AAe(t)),wte=(e,t)=>{var n={};for(var r in e)yte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&vte.call(e,r)&&(n[r]=e[r]);return n};const bte={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},PC=O.forwardRef((e,t)=>{const n=$t("ScrollArea",bte,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:m,unstyled:g}=n,y=wte(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[_,v]=O.useState(!1),b=Ls(),{classes:S,cx:x}=PAe({scrollbarSize:a,offsetScrollbars:d,scrollbarHovered:_,hidden:u==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:g});return P(IAe,{type:u==="never"?"always":u,scrollHideDelay:l,dir:c||b.dir,ref:t,asChild:!0,children:$e(xt,{..._te({className:x(S.root,i)},y),children:[P(OAe,{className:S.viewport,ref:h,onScroll:typeof m=="function"?({currentTarget:$})=>m({x:$.scrollLeft,y:$.scrollTop}):void 0,children:r}),P(H8,{orientation:"horizontal",className:S.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:P(W8,{className:S.thumb})}),P(H8,{orientation:"vertical",className:S.scrollbar,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:P(W8,{className:S.thumb})}),P($Ae,{className:S.corner})]})})}),Ste=O.forwardRef((e,t)=>{const n=$t("ScrollAreaAutosize",bte,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:m,unstyled:g,sx:y}=n,_=wte(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return Ka.createElement(xt,NAe(_te({},_),{ref:t,sx:[{display:"flex",maxHeight:r},..._p(y)]}),Ka.createElement(xt,{sx:{display:"flex",flexDirection:"column",flex:1}},Ka.createElement(PC,{classNames:s,styles:o,scrollHideDelay:l,scrollbarSize:a,type:u,dir:c,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:m,unstyled:g},i)))});Ste.displayName="@mantine/core/ScrollAreaAutosize";PC.displayName="@mantine/core/ScrollArea";PC.Autosize=Ste;const x0=PC;var RAe=Object.defineProperty,DAe=Object.defineProperties,MAe=Object.getOwnPropertyDescriptors,ZE=Object.getOwnPropertySymbols,xte=Object.prototype.hasOwnProperty,Ete=Object.prototype.propertyIsEnumerable,G8=(e,t,n)=>t in e?RAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K8=(e,t)=>{for(var n in t||(t={}))xte.call(t,n)&&G8(e,n,t[n]);if(ZE)for(var n of ZE(t))Ete.call(t,n)&&G8(e,n,t[n]);return e},LAe=(e,t)=>DAe(e,MAe(t)),FAe=(e,t)=>{var n={};for(var r in e)xte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&Ete.call(e,r)&&(n[r]=e[r]);return n};const TC=O.forwardRef((e,t)=>{var n=e,{style:r}=n,i=FAe(n,["style"]);return P(x0,{...LAe(K8({},i),{style:K8({width:"100%"},r),viewportRef:t}),children:i.children})});TC.displayName="@mantine/core/SelectScrollArea";var jAe=wt(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const BAe=jAe;function Fc(e){return e.split("-")[0]}function Qw(e){return e.split("-")[1]}function qp(e){return["top","bottom"].includes(Fc(e))?"x":"y"}function BF(e){return e==="y"?"height":"width"}function Y8(e,t,n){let{reference:r,floating:i}=e;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=qp(t),l=BF(a),u=r[l]/2-i[l]/2,c=a==="x";let d;switch(Fc(t)){case"top":d={x:s,y:r.y-i.height};break;case"bottom":d={x:s,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:o};break;case"left":d={x:r.x-i.width,y:o};break;default:d={x:r.x,y:r.y}}switch(Qw(t)){case"start":d[a]-=u*(n&&c?-1:1);break;case"end":d[a]+=u*(n&&c?-1:1)}return d}const zAe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Y8(u,r,l),h=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:_,fn:v}=a[y],{x:b,y:S,data:x,reset:$}=await v({x:c,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});c=b??c,d=S??d,m={...m,[_]:{...m[_],...x}},$&&g<=50&&(g++,typeof $=="object"&&($.placement&&(h=$.placement),$.rects&&(u=$.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:c,y:d}=Y8(u,h,l)),y=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:m}};function zF(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function V_(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function VF(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=t,g=zF(m),y=a[h?d==="floating"?"reference":"floating":d],_=V_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=V_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:l}):o[d]);return{top:_.top-v.top+g.top,bottom:v.bottom-_.bottom+g.bottom,left:_.left-v.left+g.left,right:v.right-_.right+g.right}}const Ite=Math.min,Df=Math.max;function U2(e,t,n){return Df(e,Ite(t,n))}const Q8=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:s,placement:o,rects:a,platform:l}=t;if(n==null)return{};const u=zF(r),c={x:i,y:s},d=qp(o),h=Qw(o),m=BF(d),g=await l.getDimensions(n),y=d==="y"?"top":"left",_=d==="y"?"bottom":"right",v=a.reference[m]+a.reference[d]-c[d]-a.floating[m],b=c[d]-a.reference[d],S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let x=S?d==="y"?S.clientHeight||0:S.clientWidth||0:0;x===0&&(x=a.floating[m]);const $=v/2-b/2,E=u[y],I=x-g[m]-u[_],T=x/2-g[m]/2+$,M=U2(E,T,I),U=(h==="start"?u[y]:u[_])>0&&T!==M&&a.reference[m]<=a.floating[m];return{[d]:c[d]-(U?T<E?E-T:I-T:0),data:{[d]:M,centerOffset:T-M}}}}),VAe={left:"right",right:"left",bottom:"top",top:"bottom"};function eI(e){return e.replace(/left|right|bottom|top/g,t=>VAe[t])}function UAe(e,t,n){n===void 0&&(n=!1);const r=Qw(e),i=qp(e),s=BF(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=eI(o)),{main:o,cross:eI(o)}}const HAe={start:"end",end:"start"};function X8(e){return e.replace(/start|end/g,t=>HAe[t])}const WAe=["top","right","bottom","left"];WAe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Ote=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",flipAlignment:m=!0,...g}=e,y=Fc(r),_=d||(y===o||!m?[eI(o)]:function(T){const M=eI(T);return[X8(T),M,X8(M)]}(o)),v=[o,..._],b=await VF(t,g),S=[];let x=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&S.push(b[y]),c){const{main:T,cross:M}=UAe(r,s,await(a.isRTL==null?void 0:a.isRTL(l.floating)));S.push(b[T],b[M])}if(x=[...x,{placement:r,overflows:S}],!S.every(T=>T<=0)){var $,E;const T=(($=(E=i.flip)==null?void 0:E.index)!=null?$:0)+1,M=v[T];if(M)return{data:{index:T,overflows:x},reset:{placement:M}};let U="bottom";switch(h){case"bestFit":{var I;const z=(I=x.map(H=>[H,H.overflows.filter(q=>q>0).reduce((q,B)=>q+B,0)]).sort((H,q)=>H[1]-q[1])[0])==null?void 0:I[0].placement;z&&(U=z);break}case"initialPlacement":U=o}if(r!==U)return{reset:{placement:U}}}return{}}}},$te=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(s,o){const{placement:a,platform:l,elements:u}=s,c=await(l.isRTL==null?void 0:l.isRTL(u.floating)),d=Fc(a),h=Qw(a),m=qp(a)==="x",g=["left","top"].includes(d)?-1:1,y=c&&m?-1:1,_=typeof o=="function"?o(s):o;let{mainAxis:v,crossAxis:b,alignmentAxis:S}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._};return h&&typeof S=="number"&&(b=h==="end"?-1*S:S),m?{x:b*y,y:v*g}:{x:v*g,y:b*y}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function Cte(e){return e==="x"?"y":"x"}const UF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y:b}=_;return{x:v,y:b}}},...l}=e,u={x:n,y:r},c=await VF(t,l),d=qp(Fc(i)),h=Cte(d);let m=u[d],g=u[h];if(s){const _=d==="y"?"bottom":"right";m=U2(m+c[d==="y"?"top":"left"],m,m-c[_])}if(o){const _=h==="y"?"bottom":"right";g=U2(g+c[h==="y"?"top":"left"],g,g-c[_])}const y=a.fn({...t,[d]:m,[h]:g});return{...y,data:{x:y.x-n,y:y.y-r}}}}},qAe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=e,c={x:n,y:r},d=qp(i),h=Cte(d);let m=c[d],g=c[h];const y=typeof a=="function"?a(t):a,_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const $=d==="y"?"height":"width",E=s.reference[d]-s.floating[$]+_.mainAxis,I=s.reference[d]+s.reference[$]-_.mainAxis;m<E?m=E:m>I&&(m=I)}if(u){var v,b,S,x;const $=d==="y"?"width":"height",E=["top","left"].includes(Fc(i)),I=s.reference[h]-s.floating[$]+(E&&(v=(b=o.offset)==null?void 0:b[h])!=null?v:0)+(E?0:_.crossAxis),T=s.reference[h]+s.reference[$]+(E?0:(S=(x=o.offset)==null?void 0:x[h])!=null?S:0)-(E?_.crossAxis:0);g<I?g=I:g>T&&(g=T)}return{[d]:m,[h]:g}}}},GAe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=e,l=await VF(t,a),u=Fc(n),c=Qw(n);let d,h;u==="top"||u==="bottom"?(d=u,h=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(h=u,d=c==="end"?"top":"bottom");const m=Df(l.left,0),g=Df(l.right,0),y=Df(l.top,0),_=Df(l.bottom,0),v={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(y!==0||_!==0?y+_:Df(l.top,l.bottom)):l[d]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(m!==0||g!==0?m+g:Df(l.left,l.right)):l[h])};await o({...t,...v});const b=await i.getDimensions(s.floating);return r.floating.width!==b.width||r.floating.height!==b.height?{reset:{rects:!0}}:{}}}},Pte=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=t,{padding:l=2,x:u,y:c}=e,d=V_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),h=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],m=zF(l),g=await o.getElementRects({reference:{getBoundingClientRect:function(){var y;if(h.length===2&&h[0].left>h[1].right&&u!=null&&c!=null)return(y=h.find(_=>u>_.left-m.left&&u<_.right+m.right&&c>_.top-m.top&&c<_.bottom+m.bottom))!=null?y:d;if(h.length>=2){if(qp(r)==="x"){const E=h[0],I=h[h.length-1],T=Fc(r)==="top",M=E.top,U=I.bottom,z=T?E.left:I.left,H=T?E.right:I.right;return{top:M,bottom:U,left:z,right:H,width:H-z,height:U-M,x:z,y:M}}const _=Fc(r)==="left",v=Df(...h.map(E=>E.right)),b=Ite(...h.map(E=>E.left)),S=h.filter(E=>_?E.left===b:E.right===v),x=S[0].top,$=S[S.length-1].bottom;return{top:x,bottom:$,left:b,right:v,width:v-b,height:$-x,x:b,y:x}}return d}},floating:i.floating,strategy:a});return s.reference.x!==g.reference.x||s.reference.y!==g.reference.y||s.reference.width!==g.reference.width||s.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};function Tte(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function sf(e){if(e==null)return window;if(!Tte(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function bd(e){return sf(e).getComputedStyle(e)}function Sd(e){return Tte(e)?"":e?(e.nodeName||"").toLowerCase():""}function kte(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function jc(e){return e instanceof sf(e).HTMLElement}function Cc(e){return e instanceof sf(e).Element}function J8(e){return typeof ShadowRoot>"u"?!1:e instanceof sf(e).ShadowRoot||e instanceof ShadowRoot}function kC(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=bd(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function KAe(e){return["table","td","th"].includes(Sd(e))}function H2(e){const t=/firefox/i.test(kte()),n=bd(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null&&s.includes(i)})}function Ate(){return!/^((?!chrome|android).)*safari/i.test(kte())}function HF(e){return["html","body","#document"].includes(Sd(e))}const Z8=Math.min,Y0=Math.max,tI=Math.round;function Pc(e,t,n){var r,i,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let l=1,u=1;t&&jc(e)&&(l=e.offsetWidth>0&&tI(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&tI(a.height)/e.offsetHeight||1);const c=Cc(e)?sf(e):window,d=!Ate()&&n,h=(a.left+(d&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/l,m=(a.top+(d&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/u,g=a.width/l,y=a.height/u;return{width:g,height:y,top:m,right:h+g,bottom:m+y,left:h,x:h,y:m}}function cd(e){return(t=e,(t instanceof sf(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function AC(e){return Cc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Nte(e){return Pc(cd(e)).left+AC(e).scrollLeft}function YAe(e,t,n){const r=jc(t),i=cd(t),s=Pc(e,r&&function(l){const u=Pc(l);return tI(u.width)!==l.offsetWidth||tI(u.height)!==l.offsetHeight}(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Sd(t)!=="body"||kC(i))&&(o=AC(t)),jc(t)){const l=Pc(t,!0);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}else i&&(a.x=Nte(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function nI(e){if(Sd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(J8(e)?e.host:null)||cd(e);return J8(t)?t.host:t}function e9(e){return jc(e)&&bd(e).position!=="fixed"?e.offsetParent:null}function t9(e){const t=sf(e);let n=e9(e);for(;n&&KAe(n)&&bd(n).position==="static";)n=e9(n);return n&&(Sd(n)==="html"||Sd(n)==="body"&&bd(n).position==="static"&&!H2(n))?t:n||function(r){let i=nI(r);for(;jc(i)&&!HF(i);){if(H2(i))return i;i=nI(i)}return null}(e)||t}function n9(e){if(jc(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=Pc(e);return{width:t.width,height:t.height}}function Rte(e){const t=nI(e);return HF(t)?e.ownerDocument.body:jc(t)&&kC(t)?t:Rte(t)}function Tc(e,t){var n;t===void 0&&(t=[]);const r=Rte(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=sf(r),o=i?[s].concat(s.visualViewport||[],kC(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Tc(o))}function r9(e,t,n){return t==="viewport"?V_(function(r,i){const s=sf(r),o=cd(r),a=s.visualViewport;let l=o.clientWidth,u=o.clientHeight,c=0,d=0;if(a){l=a.width,u=a.height;const h=Ate();(h||!h&&i==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:l,height:u,x:c,y:d}}(e,n)):Cc(t)?function(r,i){const s=Pc(r,!1,i==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft;return{top:o,left:a,x:a,y:o,right:a+r.clientWidth,bottom:o+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):V_(function(r){var i;const s=cd(r),o=AC(r),a=(i=r.ownerDocument)==null?void 0:i.body,l=Y0(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),u=Y0(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+Nte(r);const d=-o.scrollTop;return bd(a||s).direction==="rtl"&&(c+=Y0(s.clientWidth,a?a.clientWidth:0)-l),{width:l,height:u,x:c,y:d}}(cd(e)))}const QAe={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=n==="clippingAncestors"?function(u){let c=Tc(u).filter(m=>Cc(m)&&Sd(m)!=="body"),d=u,h=null;for(;Cc(d)&&!HF(d);){const m=bd(d);m.position==="static"&&h&&["absolute","fixed"].includes(h.position)&&!H2(d)?c=c.filter(g=>g!==d):h=m,d=nI(d)}return c}(t):[].concat(n),o=[...s,r],a=o[0],l=o.reduce((u,c)=>{const d=r9(t,c,i);return u.top=Y0(d.top,u.top),u.right=Z8(d.right,u.right),u.bottom=Z8(d.bottom,u.bottom),u.left=Y0(d.left,u.left),u},r9(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=jc(n),s=cd(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Sd(n)!=="body"||kC(s))&&(o=AC(n)),jc(n))){const l=Pc(n,!0);a.x=l.x+n.clientLeft,a.y=l.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}},isElement:Cc,getDimensions:n9,getOffsetParent:t9,getDocumentElement:cd,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:YAe(t,t9(n),r),floating:{...n9(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>bd(e).direction==="rtl"};function XAe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||s?[...Cc(e)?Tc(e):e.contextElement?Tc(e.contextElement):[],...Tc(t)]:[];u.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});let c,d=null;if(o){let m=!0;d=new ResizeObserver(()=>{m||n(),m=!1}),Cc(e)&&!a&&d.observe(e),Cc(e)||!e.contextElement||a||d.observe(e.contextElement),d.observe(t)}let h=a?Pc(e):null;return a&&function m(){const g=Pc(e);!h||g.x===h.x&&g.y===h.y&&g.width===h.width&&g.height===h.height||n(),h=g,c=requestAnimationFrame(m)}(),n(),()=>{var m;u.forEach(g=>{l&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),(m=d)==null||m.disconnect(),d=null,a&&cancelAnimationFrame(c)}}const JAe=(e,t,n)=>zAe(e,t,{platform:QAe,...n});var W2=typeof document<"u"?O.useLayoutEffect:O.useEffect;function rI(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!rI(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!rI(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function ZAe(e){const t=O.useRef(e);return W2(()=>{t.current=e}),t}function eNe(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[s,o]=O.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,l]=O.useState(t);rI(a,t)||l(t);const u=O.useRef(null),c=O.useRef(null),d=O.useRef(null),h=O.useRef(s),m=ZAe(i),g=O.useCallback(()=>{!u.current||!c.current||JAe(u.current,c.current,{middleware:a,placement:n,strategy:r}).then(x=>{y.current&&!rI(h.current,x)&&(h.current=x,jw.flushSync(()=>{o(x)}))})},[a,n,r]);W2(()=>{y.current&&g()},[g]);const y=O.useRef(!1);W2(()=>(y.current=!0,()=>{y.current=!1}),[]);const _=O.useCallback(()=>{if(typeof d.current=="function"&&(d.current(),d.current=null),u.current&&c.current)if(m.current){const x=m.current(u.current,c.current,g);d.current=x}else g()},[g,m]),v=O.useCallback(x=>{u.current=x,_()},[_]),b=O.useCallback(x=>{c.current=x,_()},[_]),S=O.useMemo(()=>({reference:u,floating:c}),[]);return O.useMemo(()=>({...s,update:g,refs:S,reference:v,floating:b}),[s,g,S,v,b])}const Dte=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?Q8({element:t.current,padding:n}).fn(i):{}:t?Q8({element:t,padding:n}).fn(i):{}}}};var Kg=typeof document<"u"?O.useLayoutEffect:O.useEffect;function tNe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let AA=!1,nNe=0;const i9=()=>"floating-ui-"+nNe++;function rNe(){const[e,t]=O.useState(()=>AA?i9():void 0);return Kg(()=>{e==null&&t(i9())},[]),O.useEffect(()=>{AA||(AA=!0)},[]),e}const s9=hp["useId".toString()],o9=s9??rNe,iNe=O.createContext(null),sNe=O.createContext(null),Mte=()=>{var e,t;return(e=(t=O.useContext(iNe))==null?void 0:t.id)!=null?e:null},WF=()=>O.useContext(sNe);function zf(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Lte(e){var t;return(t=zf(e).defaultView)!=null?t:window}function Uh(e){return e?e instanceof Lte(e).Element:!1}function oNe(e){return e?e instanceof Lte(e).HTMLElement:!1}const a9=hp["useInsertionEffect".toString()];function aNe(e){const t=O.useRef(()=>{});return a9?a9(()=>{t.current=e}):t.current=e,O.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function qF(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:s,strategy:o,nodeId:a}=e===void 0?{}:e;const[l,u]=O.useState(null),c=WF(),d=O.useRef(null),h=O.useRef({}),m=O.useState(()=>tNe())[0],g=eNe({placement:i,middleware:s,strategy:o,whileElementsMounted:r}),y=aNe(n),_=O.useMemo(()=>({...g.refs,domReference:d}),[g.refs]),v=O.useMemo(()=>({...g,refs:_,dataRef:h,nodeId:a,events:m,open:t,onOpenChange:y,_:{domReference:l}}),[g,a,m,t,y,_,l]);Kg(()=>{const x=c==null?void 0:c.nodesRef.current.find($=>$.id===a);x&&(x.context=v)});const{reference:b}=g,S=O.useCallback(x=>{(Uh(x)||x===null)&&(v.refs.domReference.current=x,u(x)),b(x)},[b,v.refs]);return O.useMemo(()=>({...g,context:v,refs:_,reference:S}),[g,_,v,S])}function NA(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,l]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var c,d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];(c=r.get(a))==null||c.forEach(g=>g(...h))}}}else i[a]=l}),i),{})}}const lNe=function(e){e===void 0&&(e=[]);const t=e,n=O.useCallback(s=>NA(s,e,"reference"),t),r=O.useCallback(s=>NA(s,e,"floating"),t),i=O.useCallback(s=>NA(s,e,"item"),t);return O.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function RA(e,t){var n;let r=(n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var s;i=(s=e.filter(o=>{var a;return(a=i)==null?void 0:a.some(l=>{var u;return o.parentId===l.id&&((u=o.context)==null?void 0:u.open)})}))!=null?s:[],r=r.concat(i)}return r}function uNe(e){return"composedPath"in e?e.composedPath()[0]:e.target}function l9(e){const t=O.useRef(e);return Kg(()=>{t.current=e}),t}function cNe(e){const t=O.useRef();return Kg(()=>{t.current=e},[e]),t.current}function xx(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const fNe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:l,onOpenChange:u,dataRef:c,events:d,refs:h,_:m}=e,g=WF(),y=Mte(),_=l9(i),v=l9(r),b=cNe(l),S=O.useRef(),x=O.useRef(),$=O.useRef(),E=O.useRef(),I=O.useRef(!0),T=O.useRef(!1),M=O.useCallback(()=>{var q;const B=(q=c.current.openEvent)==null?void 0:q.type;return(B==null?void 0:B.includes("mouse"))&&B!=="mousedown"},[c]);O.useEffect(()=>{if(!n)return;function q(){clearTimeout(x.current),clearTimeout(E.current),I.current=!0}return d.on("dismiss",q),()=>{d.off("dismiss",q)}},[n,d,h]),O.useEffect(()=>{if(!n||!_.current)return;function q(){M()&&u(!1)}const B=zf(h.floating.current).documentElement;return B.addEventListener("mouseleave",q),()=>{B.removeEventListener("mouseleave",q)}},[h,u,n,_,c,M]);const U=O.useCallback(function(q){q===void 0&&(q=!0);const B=xx(v.current,"close",S.current);B&&!$.current?(clearTimeout(x.current),x.current=setTimeout(()=>u(!1),B)):q&&(clearTimeout(x.current),u(!1))},[v,u]),z=O.useCallback(()=>{$.current&&(zf(h.floating.current).removeEventListener("pointermove",$.current),$.current=void 0)},[h]),H=O.useCallback(()=>{zf(h.floating.current).body.style.pointerEvents="",T.current=!1},[h]);return O.useEffect(()=>{if(!n)return;function q(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function B(oe){if(clearTimeout(x.current),I.current=!1,s&&S.current!=="mouse"||o>0&&xx(v.current,"open")===0)return;c.current.openEvent=oe;const X=xx(v.current,"open",S.current);X?x.current=setTimeout(()=>{u(!0)},X):u(!0)}function ue(oe){if(q())return;const X=zf(h.floating.current);if(clearTimeout(E.current),_.current){clearTimeout(x.current),$.current&&X.removeEventListener("pointermove",$.current),$.current=_.current({...e,tree:g,x:oe.clientX,y:oe.clientY,onClose(){H(),z(),U()}}),X.addEventListener("pointermove",$.current);return}U()}function le(oe){q()||_.current==null||_.current({...e,tree:g,x:oe.clientX,y:oe.clientY,leave:!0,onClose(){H(),z(),U()}})(oe)}const pe=h.floating.current,Z=h.domReference.current;if(Uh(Z))return l&&Z.addEventListener("mouseleave",le),pe==null||pe.addEventListener("mouseleave",le),a&&Z.addEventListener("mousemove",B,{once:!0}),Z.addEventListener("mouseenter",B),Z.addEventListener("mouseleave",ue),()=>{l&&Z.removeEventListener("mouseleave",le),pe==null||pe.removeEventListener("mouseleave",le),a&&Z.removeEventListener("mousemove",B),Z.removeEventListener("mouseenter",B),Z.removeEventListener("mouseleave",ue)}},[m.domReference,n,e,s,o,a,U,z,H,u,l,g,h,v,_,c]),Kg(()=>{if(n&&l&&_.current&&_.current.__options.blockPointerEvents&&M()){zf(h.floating.current).body.style.pointerEvents="none",T.current=!0;const ue=h.domReference.current,le=h.floating.current;if(Uh(ue)&&le){var q,B;const pe=g==null||(q=g.nodesRef.current.find(Z=>Z.id===y))==null||(B=q.context)==null?void 0:B.refs.floating.current;return pe&&(pe.style.pointerEvents=""),ue.style.pointerEvents="auto",le.style.pointerEvents="auto",()=>{ue.style.pointerEvents="",le.style.pointerEvents=""}}}},[n,l,y,h,g,_,c,M]),Kg(()=>{b&&!l&&(S.current=void 0,z(),H())}),O.useEffect(()=>()=>{z(),clearTimeout(x.current),clearTimeout(E.current),T.current&&H()},[n,z,H]),O.useMemo(()=>{if(!n)return{};function q(B){S.current=B.pointerType}return{reference:{onPointerDown:q,onPointerEnter:q,onMouseMove(){l||o===0||(clearTimeout(E.current),E.current=setTimeout(()=>{I.current||u(!0)},o))}},floating:{onMouseEnter(){clearTimeout(x.current)},onMouseLeave(){U(!1)}}}},[n,o,l,u,U])},Fte=O.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),jte=()=>O.useContext(Fte),dNe=e=>{let{children:t,delay:n}=e;const[r,i]=O.useState({delay:n,initialDelay:n,currentId:null}),s=O.useCallback(o=>{i(a=>({...a,currentId:o}))},[]);return P(Fte.Provider,{value:O.useMemo(()=>({...r,setState:i,setCurrentId:s}),[r,i,s]),children:t})},hNe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,initialDelay:o,setState:a}=jte();O.useEffect(()=>{s&&(a(l=>({...l,delay:{open:1,close:xx(o,"close")}})),s!==i&&r(!1))},[i,r,a,s,o]),O.useEffect(()=>{!n&&s===i&&(r(!1),a(l=>({...l,delay:o,currentId:null})))},[n,a,s,i,r,o])},pNe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=o9(),o=o9();return O.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function DA(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const mNe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},gNe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},yNe=function(e,t){let{open:n,onOpenChange:r,refs:i,events:s,nodeId:o}=e,{enabled:a=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:m=!1,bubbles:g=!0}=t===void 0?{}:t;const y=WF(),_=Mte()!=null,v=O.useRef(!1);return O.useEffect(()=>{if(!n||!a)return;function b(I){if(I.key==="Escape"){if(!g&&y&&RA(y.nodesRef.current,o).length>0)return;s.emit("dismiss",{preventScroll:!1}),r(!1)}}function S(I){const T=v.current;if(v.current=!1,T)return;const M=uNe(I);if(Uh(M)&&i.floating.current){var U;const H=(U=i.floating.current.ownerDocument.defaultView)!=null?U:window,q=M.scrollWidth>M.clientWidth,B=M.scrollHeight>M.clientHeight;let ue=B&&I.offsetX>M.clientWidth;if(B&&H.getComputedStyle(M).direction==="rtl"&&(ue=I.offsetX<=M.offsetWidth-M.clientWidth),ue||q&&I.offsetY>M.clientHeight)return}const z=y&&RA(y.nodesRef.current,o).some(H=>{var q;return DA(I,(q=H.context)==null?void 0:q.refs.floating.current)});DA(I,i.floating.current)||DA(I,i.domReference.current)||z||!g&&y&&RA(y.nodesRef.current,o).length>0||(s.emit("dismiss",_?{preventScroll:!0}:!1),r(!1))}function x(){r(!1)}const $=zf(i.floating.current);l&&$.addEventListener("keydown",b),u&&$.addEventListener(c,S);let E=[];return m&&(Uh(i.domReference.current)&&(E=Tc(i.domReference.current)),Uh(i.floating.current)&&(E=E.concat(Tc(i.floating.current))),!Uh(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(E=E.concat(Tc(i.reference.current.contextElement)))),E=E.filter(I=>{var T;return I!==((T=$.defaultView)==null?void 0:T.visualViewport)}),E.forEach(I=>{I.addEventListener("scroll",x,{passive:!0})}),()=>{l&&$.removeEventListener("keydown",b),u&&$.removeEventListener(c,S),E.forEach(I=>{I.removeEventListener("scroll",x)})}},[l,u,c,s,y,o,n,r,m,a,g,i,_]),O.useEffect(()=>{v.current=!1},[u,c]),O.useMemo(()=>a?{reference:{[mNe[h]]:()=>{d&&(s.emit("dismiss"),r(!1))}},floating:{[gNe[c]]:()=>{v.current=!0}}}:{},[a,s,d,c,h,r])},vNe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:s,events:o}=e,{enabled:a=!0,keyboardOnly:l=!0}=t===void 0?{}:t;const u=O.useRef(""),c=O.useRef(!1),d=O.useRef();return O.useEffect(()=>{var h;if(!a)return;const g=(h=zf(s.floating.current).defaultView)!=null?h:window;function y(){!n&&oNe(s.domReference.current)&&s.domReference.current.blur()}return g.addEventListener("blur",y),()=>{g.removeEventListener("blur",y)}},[s,n,a]),O.useEffect(()=>{if(!a)return;function h(){c.current=!0}return o.on("dismiss",h),()=>{o.off("dismiss",h)}},[o,a]),O.useEffect(()=>()=>{clearTimeout(d.current)},[]),O.useMemo(()=>a?{reference:{onPointerDown(h){let{pointerType:m}=h;u.current=m,c.current=!!(m&&l)},onPointerLeave(){c.current=!1},onFocus(h){var m,g,y;c.current||h.type==="focus"&&((m=i.current.openEvent)==null?void 0:m.type)==="mousedown"&&(g=s.domReference.current)!=null&&g.contains((y=i.current.openEvent)==null?void 0:y.target)||(i.current.openEvent=h.nativeEvent,r(!0))},onBlur(h){const m=h.relatedTarget;d.current=setTimeout(()=>{var g,y;(g=s.floating.current)!=null&&g.contains(m)||(y=s.domReference.current)!=null&&y.contains(m)||(c.current=!1,r(!1))})}}}:{},[a,l,s,i,r])};function Bte({opened:e,floating:t,positionDependencies:n}){const[r,i]=O.useState(0);O.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return XAe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),aa(()=>{t.update()},n),aa(()=>{i(s=>s+1)},[e])}function _Ne(e){const t=[$te(e.offset)];return e.middlewares.shift&&t.push(UF({limiter:qAe()})),e.middlewares.flip&&t.push(Ote()),e.middlewares.inline&&t.push(Pte()),t.push(Dte({element:e.arrowRef})),t}function wNe(e){const[t,n]=Vl({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=qF({placement:e.position,middleware:[..._Ne(e),...e.width==="target"?[GAe({apply({rects:o}){var a,l;Object.assign((l=(a=s.refs.floating.current)==null?void 0:a.style)!=null?l:{},{width:`${o.reference.width}px`})}})]:[]]});return Bte({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),aa(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const zte={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[bNe,Vte]=xZ(zte.context);var SNe=Object.defineProperty,xNe=Object.defineProperties,ENe=Object.getOwnPropertyDescriptors,iI=Object.getOwnPropertySymbols,Ute=Object.prototype.hasOwnProperty,Hte=Object.prototype.propertyIsEnumerable,u9=(e,t,n)=>t in e?SNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hS=(e,t)=>{for(var n in t||(t={}))Ute.call(t,n)&&u9(e,n,t[n]);if(iI)for(var n of iI(t))Hte.call(t,n)&&u9(e,n,t[n]);return e},INe=(e,t)=>xNe(e,ENe(t)),ONe=(e,t)=>{var n={};for(var r in e)Ute.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iI)for(var r of iI(e))t.indexOf(r)<0&&Hte.call(e,r)&&(n[r]=e[r]);return n};const Wte=O.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:s="dialog"}=n,o=ONe(n,["children","refProp","popupType"]);if(!Vw(r))throw new Error(zte.children);const a=o,l=Vte(),u=sl(l.reference,r.ref,t),c=l.withRoles?{"aria-haspopup":s,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return O.cloneElement(r,hS(INe(hS(hS(hS({},a),c),l.targetProps),{className:OZ(l.targetProps.className,a.className,r.props.className),[i]:u}),l.controlled?null:{onClick:l.onToggle}))});Wte.displayName="@mantine/core/PopoverTarget";var $Ne=wt((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const CNe=$Ne;var PNe=Object.defineProperty,c9=Object.getOwnPropertySymbols,TNe=Object.prototype.hasOwnProperty,kNe=Object.prototype.propertyIsEnumerable,f9=(e,t,n)=>t in e?PNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sm=(e,t)=>{for(var n in t||(t={}))TNe.call(t,n)&&f9(e,n,t[n]);if(c9)for(var n of c9(t))kNe.call(t,n)&&f9(e,n,t[n]);return e};const d9={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function qte({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in aS?Sm(Sm(Sm({transitionProperty:aS[e].transitionProperty},i),aS[e].common),aS[e][d9[t]]):null:Sm(Sm(Sm({transitionProperty:e.transitionProperty},i),e.common),e[d9[t]])}function Gte({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const l=Ls(),u=AF(),c=l.respectReducedMotion?u:!1,[d,h]=O.useState(r?"entered":"exited");let m=c?0:e;const g=O.useRef(-1),y=_=>{const v=_?i:s,b=_?o:a;if(h(_?"pre-entering":"pre-exiting"),window.clearTimeout(g.current),m=c?0:_?e:t,m===0)typeof v=="function"&&v(),typeof b=="function"&&b(),h(_?"entered":"exited");else{const S=window.setTimeout(()=>{typeof v=="function"&&v(),h(_?"entering":"exiting")},10);g.current=window.setTimeout(()=>{window.clearTimeout(S),typeof b=="function"&&b(),h(_?"entered":"exited")},m)}};return aa(()=>{y(r)},[r]),O.useEffect(()=>()=>window.clearTimeout(g.current),[]),{transitionDuration:m,transitionStatus:d,transitionTimingFunction:n||l.transitionTimingFunction}}function NC({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:l,onExited:u}){const{transitionDuration:c,transitionStatus:d,transitionTimingFunction:h}=Gte({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:l,onExited:u});return c===0?r?P(Zn,{children:i({})}):null:d==="exited"?null:P(Zn,{children:i(qte({transition:e,duration:c,state:d,timingFunction:h}))})}NC.displayName="@mantine/core/Transition";function Kte({children:e,active:t=!0,refProp:n="ref"}){const r=ree(t),i=sl(r,e==null?void 0:e.ref);return Vw(e)?O.cloneElement(e,{[n]:i}):e}Kte.displayName="@mantine/core/FocusTrap";var ANe=Object.defineProperty,NNe=Object.defineProperties,RNe=Object.getOwnPropertyDescriptors,h9=Object.getOwnPropertySymbols,DNe=Object.prototype.hasOwnProperty,MNe=Object.prototype.propertyIsEnumerable,p9=(e,t,n)=>t in e?ANe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ef=(e,t)=>{for(var n in t||(t={}))DNe.call(t,n)&&p9(e,n,t[n]);if(h9)for(var n of h9(t))MNe.call(t,n)&&p9(e,n,t[n]);return e},pS=(e,t)=>NNe(e,RNe(t));function m9(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function g9(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const LNe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function FNe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:s,arrowY:o,dir:a}){const[l,u="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[LNe[l]]:i},d=t?-n/2-1:-n/2;return l==="left"?pS(Ef(Ef({},c),m9(u,o,r)),{right:d,borderLeft:0,borderBottom:0}):l==="right"?pS(Ef(Ef({},c),m9(u,o,r)),{left:d,borderRight:0,borderTop:0}):l==="top"?pS(Ef(Ef({},c),g9(u,s,r,a)),{bottom:d,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):l==="bottom"?pS(Ef(Ef({},c),g9(u,s,r,a)),{top:d,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var jNe=Object.defineProperty,BNe=Object.defineProperties,zNe=Object.getOwnPropertyDescriptors,sI=Object.getOwnPropertySymbols,Yte=Object.prototype.hasOwnProperty,Qte=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?jNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VNe=(e,t)=>{for(var n in t||(t={}))Yte.call(t,n)&&y9(e,n,t[n]);if(sI)for(var n of sI(t))Qte.call(t,n)&&y9(e,n,t[n]);return e},UNe=(e,t)=>BNe(e,zNe(t)),HNe=(e,t)=>{var n={};for(var r in e)Yte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sI)for(var r of sI(e))t.indexOf(r)<0&&Qte.call(e,r)&&(n[r]=e[r]);return n};const GF=O.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,visible:l,arrowX:u,arrowY:c}=n,d=HNe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const h=Ls();return l?P("div",{...UNe(VNe({},d),{ref:t,style:FNe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,dir:h.dir,arrowX:u,arrowY:c})})}):null});GF.displayName="@mantine/core/FloatingArrow";var WNe=Object.defineProperty,qNe=Object.defineProperties,GNe=Object.getOwnPropertyDescriptors,oI=Object.getOwnPropertySymbols,Xte=Object.prototype.hasOwnProperty,Jte=Object.prototype.propertyIsEnumerable,v9=(e,t,n)=>t in e?WNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mS=(e,t)=>{for(var n in t||(t={}))Xte.call(t,n)&&v9(e,n,t[n]);if(oI)for(var n of oI(t))Jte.call(t,n)&&v9(e,n,t[n]);return e},_9=(e,t)=>qNe(e,GNe(t)),KNe=(e,t)=>{var n={};for(var r in e)Xte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oI)for(var r of oI(e))t.indexOf(r)<0&&Jte.call(e,r)&&(n[r]=e[r]);return n};function Zte(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=KNe(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:l,unstyled:u,staticSelector:c}=Ww(),d=Vte(),{classes:h,cx:m}=CNe({radius:d.radius,shadow:d.shadow},{name:c,classNames:a,styles:l,unstyled:u}),g=ZZ({opened:d.opened,shouldReturnFocus:d.returnFocus}),y=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog"}:{};return d.disabled?null:P(Gw,{withinPortal:d.withinPortal,children:P(NC,{mounted:d.opened,transition:d.transition,duration:d.transitionDuration,exitDuration:typeof d.exitTransitionDuration=="number"?d.exitTransitionDuration:d.transitionDuration,children:_=>{var v,b;return P(Kte,{active:d.trapFocus,children:$e(xt,{...mS(_9(mS({},y),{tabIndex:-1,ref:d.floating,style:_9(mS(mS({},n),_),{zIndex:d.zIndex,top:(v=d.y)!=null?v:0,left:(b=d.x)!=null?b:0,width:d.width==="target"?void 0:d.width}),className:m(h.dropdown,r),onKeyDownCapture:vOe(d.onClose,{active:d.closeOnEscape,onTrigger:g,onKeyDown:s}),"data-position":d.placement}),o),children:[i,P(GF,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,withBorder:!0,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,className:h.arrow})]})})}})})}Zte.displayName="@mantine/core/PopoverDropdown";function ene(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var w9=Object.getOwnPropertySymbols,YNe=Object.prototype.hasOwnProperty,QNe=Object.prototype.propertyIsEnumerable,XNe=(e,t)=>{var n={};for(var r in e)YNe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&w9)for(var r of w9(e))t.indexOf(r)<0&&QNe.call(e,r)&&(n[r]=e[r]);return n};const JNe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:_a("popover"),__staticSelector:"Popover",width:"max-content"};function of(e){var t,n,r,i,s,o;const a=O.useRef(null),l=$t("Popover",JNe,e),{children:u,position:c,offset:d,onPositionChange:h,positionDependencies:m,opened:g,transition:y,transitionDuration:_,width:v,middlewares:b,withArrow:S,arrowSize:x,arrowOffset:$,arrowRadius:E,unstyled:I,classNames:T,styles:M,closeOnClickOutside:U,withinPortal:z,closeOnEscape:H,clickOutsideEvents:q,trapFocus:B,onClose:ue,onOpen:le,onChange:pe,zIndex:Z,radius:oe,shadow:X,id:k,defaultOpened:A,exitTransitionDuration:K,__staticSelector:D,withRoles:R,disabled:Y,returnFocus:fe}=l,he=XNe(l,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[ge,ve]=O.useState(null),[ke,ye]=O.useState(null),it=nf(k),Ke=Ls(),Je=wNe({middlewares:b,width:v,position:ene(Ke.dir,c),offset:d+(S?x/2:0),arrowRef:a,onPositionChange:h,positionDependencies:m,opened:g,defaultOpened:A,onChange:pe,onOpen:le,onClose:ue});yCe(()=>U&&Je.onClose(),q,[ge,ke]);const He=O.useCallback(Xe=>{ve(Xe),Je.floating.reference(Xe)},[Je.floating.reference]),Ae=O.useCallback(Xe=>{ye(Xe),Je.floating.floating(Xe)},[Je.floating.floating]);return P(QZ,{classNames:T,styles:M,unstyled:I,staticSelector:D,children:P(bNe,{value:{returnFocus:fe,disabled:Y,controlled:Je.controlled,reference:He,floating:Ae,x:Je.floating.x,y:Je.floating.y,arrowX:(r=(n=(t=Je.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=Je.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:Je.opened,arrowRef:a,transition:y,transitionDuration:_,exitTransitionDuration:K,width:v,withArrow:S,arrowSize:x,arrowOffset:$,arrowRadius:E,placement:Je.floating.placement,trapFocus:B,withinPortal:z,zIndex:Z,radius:oe,shadow:X,closeOnEscape:H,onClose:Je.onClose,onToggle:Je.onToggle,getTargetId:()=>`${it}-target`,getDropdownId:()=>`${it}-dropdown`,withRoles:R,targetProps:he},children:u})})}of.Target=Wte;of.Dropdown=Zte;of.displayName="@mantine/core/Popover";var ZNe=Object.defineProperty,aI=Object.getOwnPropertySymbols,tne=Object.prototype.hasOwnProperty,nne=Object.prototype.propertyIsEnumerable,b9=(e,t,n)=>t in e?ZNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eRe=(e,t)=>{for(var n in t||(t={}))tne.call(t,n)&&b9(e,n,t[n]);if(aI)for(var n of aI(t))nne.call(t,n)&&b9(e,n,t[n]);return e},tRe=(e,t)=>{var n={};for(var r in e)tne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aI)for(var r of aI(e))t.indexOf(r)<0&&nne.call(e,r)&&(n[r]=e[r]);return n};function nRe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:l,styles:u,classNames:c,unstyled:d}=t,h=tRe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:m}=BAe(null,{name:l,styles:u,classNames:c,unstyled:d});return P(of.Dropdown,{...eRe({p:0,onMouseDown:g=>g.preventDefault()},h),children:P("div",{style:{maxHeight:i,display:"flex"},children:P(xt,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:g=>g.preventDefault(),style:{flex:1,overflowY:r!==TC?"auto":void 0},"data-combobox-popover":!0,ref:a,children:P("div",{className:m.itemsWrapper,style:{flexDirection:s},children:n})})})})}function fd({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:l,zIndex:u,dropdownPosition:c,positionDependencies:d=[],classNames:h,styles:m,unstyled:g,readOnly:y}){return P(of,{unstyled:g,classNames:h,styles:m,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:d,zIndex:u,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:y,onPositionChange:_=>l&&(a==null?void 0:a(_==="top"?"column-reverse":"column")),children:s})}fd.Target=of.Target;fd.Dropdown=nRe;var rRe=Object.defineProperty,iRe=Object.defineProperties,sRe=Object.getOwnPropertyDescriptors,lI=Object.getOwnPropertySymbols,rne=Object.prototype.hasOwnProperty,ine=Object.prototype.propertyIsEnumerable,S9=(e,t,n)=>t in e?rRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MA=(e,t)=>{for(var n in t||(t={}))rne.call(t,n)&&S9(e,n,t[n]);if(lI)for(var n of lI(t))ine.call(t,n)&&S9(e,n,t[n]);return e},oRe=(e,t)=>iRe(e,sRe(t)),aRe=(e,t)=>{var n={};for(var r in e)rne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lI)for(var r of lI(e))t.indexOf(r)<0&&ine.call(e,r)&&(n[r]=e[r]);return n};function sne(e,t,n){const r=$t(e,t,n),{label:i,description:s,error:o,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:h,sx:m,errorProps:g,labelProps:y,descriptionProps:_,wrapperProps:v,id:b,size:S,style:x,inputContainer:$,inputWrapperOrder:E,withAsterisk:I}=r,T=aRe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),M=nf(b),{systemStyles:U,rest:z}=Hp(T);return oRe(MA({},z),{classNames:l,styles:u,unstyled:d,wrapperProps:MA(MA({label:i,description:s,error:o,required:a,classNames:l,className:c,__staticSelector:h,sx:m,errorProps:g,labelProps:y,descriptionProps:_,unstyled:d,styles:u,id:M,size:S,style:x,inputContainer:$,inputWrapperOrder:E,withAsterisk:I},v),U),inputProps:{required:a,classNames:l,styles:u,unstyled:d,id:M,size:S,__staticSelector:h,invalid:!!o}})}var lRe=wt((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const uRe=lRe;var cRe=Object.defineProperty,uI=Object.getOwnPropertySymbols,one=Object.prototype.hasOwnProperty,ane=Object.prototype.propertyIsEnumerable,x9=(e,t,n)=>t in e?cRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fRe=(e,t)=>{for(var n in t||(t={}))one.call(t,n)&&x9(e,n,t[n]);if(uI)for(var n of uI(t))ane.call(t,n)&&x9(e,n,t[n]);return e},dRe=(e,t)=>{var n={};for(var r in e)one.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uI)for(var r of uI(e))t.indexOf(r)<0&&ane.call(e,r)&&(n[r]=e[r]);return n};const KF=O.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:s,size:o="sm",classNames:a,styles:l,unstyled:u,className:c,htmlFor:d,__staticSelector:h}=n,m=dRe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:g,cx:y}=uRe({size:o},{name:["InputWrapper",h],classNames:a,styles:l,unstyled:u});return $e(xt,{...fRe({component:r,ref:t,className:y(g.label,c),htmlFor:r==="label"?d:void 0},m),children:[i,s&&P("span",{className:g.required,"aria-hidden":!0,children:" *"})]})});KF.displayName="@mantine/core/InputLabel";var hRe=wt((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const pRe=hRe;var mRe=Object.defineProperty,cI=Object.getOwnPropertySymbols,lne=Object.prototype.hasOwnProperty,une=Object.prototype.propertyIsEnumerable,E9=(e,t,n)=>t in e?mRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gRe=(e,t)=>{for(var n in t||(t={}))lne.call(t,n)&&E9(e,n,t[n]);if(cI)for(var n of cI(t))une.call(t,n)&&E9(e,n,t[n]);return e},yRe=(e,t)=>{var n={};for(var r in e)lne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cI)for(var r of cI(e))t.indexOf(r)<0&&une.call(e,r)&&(n[r]=e[r]);return n};const YF=O.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:l="sm",__staticSelector:u}=n,c=yRe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:d,cx:h}=pRe({size:l},{name:["InputWrapper",u],classNames:s,styles:o,unstyled:a});return P(Bt,{...gRe({className:h(d.error,i),ref:t,role:"alert"},c),children:r})});YF.displayName="@mantine/core/InputError";var vRe=wt((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const _Re=vRe;var wRe=Object.defineProperty,fI=Object.getOwnPropertySymbols,cne=Object.prototype.hasOwnProperty,fne=Object.prototype.propertyIsEnumerable,I9=(e,t,n)=>t in e?wRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bRe=(e,t)=>{for(var n in t||(t={}))cne.call(t,n)&&I9(e,n,t[n]);if(fI)for(var n of fI(t))fne.call(t,n)&&I9(e,n,t[n]);return e},SRe=(e,t)=>{var n={};for(var r in e)cne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fI)for(var r of fI(e))t.indexOf(r)<0&&fne.call(e,r)&&(n[r]=e[r]);return n};const QF=O.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:l="sm",__staticSelector:u}=n,c=SRe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:d,cx:h}=_Re({size:l},{name:["InputWrapper",u],classNames:s,styles:o,unstyled:a});return P(Bt,{...bRe({color:"dimmed",className:h(d.description,i),ref:t,unstyled:a},c),children:r})});QF.displayName="@mantine/core/InputDescription";const dne=O.createContext({offsetBottom:!1,offsetTop:!1}),xRe=dne.Provider,ERe=()=>O.useContext(dne);function IRe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var ORe=Object.defineProperty,$Re=Object.defineProperties,CRe=Object.getOwnPropertyDescriptors,O9=Object.getOwnPropertySymbols,PRe=Object.prototype.hasOwnProperty,TRe=Object.prototype.propertyIsEnumerable,$9=(e,t,n)=>t in e?ORe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kRe=(e,t)=>{for(var n in t||(t={}))PRe.call(t,n)&&$9(e,n,t[n]);if(O9)for(var n of O9(t))TRe.call(t,n)&&$9(e,n,t[n]);return e},ARe=(e,t)=>$Re(e,CRe(t)),NRe=wt(e=>({root:ARe(kRe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const RRe=NRe;var DRe=Object.defineProperty,MRe=Object.defineProperties,LRe=Object.getOwnPropertyDescriptors,dI=Object.getOwnPropertySymbols,hne=Object.prototype.hasOwnProperty,pne=Object.prototype.propertyIsEnumerable,C9=(e,t,n)=>t in e?DRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mh=(e,t)=>{for(var n in t||(t={}))hne.call(t,n)&&C9(e,n,t[n]);if(dI)for(var n of dI(t))pne.call(t,n)&&C9(e,n,t[n]);return e},P9=(e,t)=>MRe(e,LRe(t)),FRe=(e,t)=>{var n={};for(var r in e)hne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dI)for(var r of dI(e))t.indexOf(r)<0&&pne.call(e,r)&&(n[r]=e[r]);return n};const jRe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},mne=O.forwardRef((e,t)=>{const n=$t("InputWrapper",jRe,e),{className:r,label:i,children:s,required:o,id:a,error:l,description:u,labelElement:c,labelProps:d,descriptionProps:h,errorProps:m,classNames:g,styles:y,size:_,inputContainer:v,__staticSelector:b,unstyled:S,inputWrapperOrder:x,withAsterisk:$}=n,E=FRe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:I,cx:T}=RRe(null,{classNames:g,styles:y,name:["InputWrapper",b],unstyled:S}),M={classNames:g,styles:y,unstyled:S,size:_,__staticSelector:b},U=typeof $=="boolean"?$:o,z=i&&P(KF,{...mh(mh({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:U},M),d),children:i}),H=u&&P(QF,{...P9(mh(mh({key:"description"},h),M),{size:(h==null?void 0:h.size)||M.size}),children:u}),q=P(O.Fragment,{children:v(s)},"input"),B=typeof l!="boolean"&&l&&P(YF,{...P9(mh(mh({},m),M),{size:(m==null?void 0:m.size)||M.size,key:"error"}),children:l}),ue=x.map(le=>{switch(le){case"label":return z;case"input":return q;case"description":return H;case"error":return B;default:return null}});return P(xRe,{value:IRe(x,{hasDescription:!!H,hasError:!!B}),children:P(xt,{...mh({className:T(I.root,r),ref:t},E),children:ue})})});mne.displayName="@mantine/core/InputWrapper";var BRe=Object.defineProperty,zRe=Object.defineProperties,VRe=Object.getOwnPropertyDescriptors,T9=Object.getOwnPropertySymbols,URe=Object.prototype.hasOwnProperty,HRe=Object.prototype.propertyIsEnumerable,k9=(e,t,n)=>t in e?BRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LA=(e,t)=>{for(var n in t||(t={}))URe.call(t,n)&&k9(e,n,t[n]);if(T9)for(var n of T9(t))HRe.call(t,n)&&k9(e,n,t[n]);return e},A9=(e,t)=>zRe(e,VRe(t));const go={xs:30,sm:36,md:42,lg:50,xl:60};function WRe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var qRe=wt((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:l,offsetBottom:u,offsetTop:c,pointer:d})=>{const h=e.fn.variant({variant:"filled",color:"red"}).background,m=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:go}),paddingLeft:e.fn.size({size:t,sizes:go})/3,paddingRight:a?o:e.fn.size({size:t,sizes:go})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:u?`calc(${e.spacing.xs}px / 2)`:void 0},input:LA(A9(LA(A9(LA({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:go}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:go})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:d?"pointer":void 0}),m),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),WRe({theme:e,variant:i})),withIcon:{paddingLeft:typeof l=="number"?l:e.fn.size({size:t,sizes:go})},invalid:{color:h,borderColor:h,"&::placeholder":{opacity:1,color:h}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof l=="number"?l:e.fn.size({size:t,sizes:go}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}});const GRe=qRe;var KRe=Object.defineProperty,YRe=Object.defineProperties,QRe=Object.getOwnPropertyDescriptors,hI=Object.getOwnPropertySymbols,gne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,N9=(e,t,n)=>t in e?KRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gS=(e,t)=>{for(var n in t||(t={}))gne.call(t,n)&&N9(e,n,t[n]);if(hI)for(var n of hI(t))yne.call(t,n)&&N9(e,n,t[n]);return e},R9=(e,t)=>YRe(e,QRe(t)),XRe=(e,t)=>{var n={};for(var r in e)gne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hI)for(var r of hI(e))t.indexOf(r)<0&&yne.call(e,r)&&(n[r]=e[r]);return n};const JRe={rightSectionWidth:36,size:"sm",variant:"default"},By=O.forwardRef((e,t)=>{const n=$t("Input",JRe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:l,style:u,rightSectionWidth:c,iconWidth:d,rightSection:h,rightSectionProps:m,radius:g,size:y,wrapperProps:_,classNames:v,styles:b,__staticSelector:S,multiline:x,sx:$,unstyled:E,pointer:I}=n,T=XRe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:M,offsetTop:U}=ERe(),{classes:z,cx:H}=GRe({radius:g,size:y,multiline:x,variant:a,invalid:i,rightSectionWidth:c,iconWidth:d,withRightSection:!!h,offsetBottom:M,offsetTop:U,pointer:I},{classNames:v,styles:b,name:["Input",S],unstyled:E}),{systemStyles:q,rest:B}=Hp(T);return $e(xt,{...gS(gS({className:H(z.wrapper,r),sx:$,style:u},q),_),children:[l&&P("div",{className:z.icon,children:l}),P(xt,{...R9(gS({component:"input"},B),{ref:t,required:s,"aria-invalid":i,disabled:o,className:H(z[`${a}Variant`],z.input,{[z.withIcon]:l,[z.invalid]:i,[z.disabled]:o})})}),h&&P("div",{...R9(gS({},m),{className:z.rightSection}),children:h})]})});By.displayName="@mantine/core/Input";By.Wrapper=mne;By.Label=KF;By.Description=QF;By.Error=YF;const la=By;var ZRe=Object.defineProperty,e2e=Object.defineProperties,t2e=Object.getOwnPropertyDescriptors,D9=Object.getOwnPropertySymbols,n2e=Object.prototype.hasOwnProperty,r2e=Object.prototype.propertyIsEnumerable,M9=(e,t,n)=>t in e?ZRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FA=(e,t)=>{for(var n in t||(t={}))n2e.call(t,n)&&M9(e,n,t[n]);if(D9)for(var n of D9(t))r2e.call(t,n)&&M9(e,n,t[n]);return e},i2e=(e,t)=>e2e(e,t2e(t));const jA={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},s2e={xs:4,sm:4,md:6,lg:8,xl:10};function o2e({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:s2e});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var a2e=wt((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:l}=n in jA?jA[n]:jA.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:FA(i2e(FA(FA({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:l,WebkitTapHighlightColor:"transparent",lineHeight:`${l-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),o2e({theme:e,variant:o,color:t,size:n,gradient:i}))}});const l2e=a2e;var u2e=Object.defineProperty,pI=Object.getOwnPropertySymbols,vne=Object.prototype.hasOwnProperty,_ne=Object.prototype.propertyIsEnumerable,L9=(e,t,n)=>t in e?u2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c2e=(e,t)=>{for(var n in t||(t={}))vne.call(t,n)&&L9(e,n,t[n]);if(pI)for(var n of pI(t))_ne.call(t,n)&&L9(e,n,t[n]);return e},f2e=(e,t)=>{var n={};for(var r in e)vne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pI)for(var r of pI(e))t.indexOf(r)<0&&_ne.call(e,r)&&(n[r]=e[r]);return n};const d2e={variant:"light",size:"md",radius:"xl"},wne=O.forwardRef((e,t)=>{const n=$t("Badge",d2e,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:l,leftSection:u,rightSection:c,radius:d,gradient:h,classNames:m,styles:g,unstyled:y}=n,_=f2e(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:v,cx:b}=l2e({size:l,fullWidth:o,color:i,radius:d,variant:s,gradient:h},{classNames:m,styles:g,name:"Badge",unstyled:y});return $e(xt,{...c2e({className:b(v.root,r),ref:t},_),children:[u&&P("span",{className:v.leftSection,children:u}),P("span",{className:v.inner,children:a}),c&&P("span",{className:v.rightSection,children:c})]})});wne.displayName="@mantine/core/Badge";const h2e=wne;var p2e=wt((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const m2e=p2e;var g2e=Object.defineProperty,mI=Object.getOwnPropertySymbols,bne=Object.prototype.hasOwnProperty,Sne=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?g2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y2e=(e,t)=>{for(var n in t||(t={}))bne.call(t,n)&&F9(e,n,t[n]);if(mI)for(var n of mI(t))Sne.call(t,n)&&F9(e,n,t[n]);return e},v2e=(e,t)=>{var n={};for(var r in e)bne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mI)for(var r of mI(e))t.indexOf(r)<0&&Sne.call(e,r)&&(n[r]=e[r]);return n};const _2e={orientation:"horizontal",buttonBorderWidth:1},xne=O.forwardRef((e,t)=>{const n=$t("ButtonGroup",_2e,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=v2e(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:l,cx:u}=m2e({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return P(xt,{...y2e({className:u(l.root,r),ref:t},a)})});xne.displayName="@mantine/core/ButtonGroup";var w2e=Object.defineProperty,b2e=Object.defineProperties,S2e=Object.getOwnPropertyDescriptors,j9=Object.getOwnPropertySymbols,x2e=Object.prototype.hasOwnProperty,E2e=Object.prototype.propertyIsEnumerable,B9=(e,t,n)=>t in e?w2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Th=(e,t)=>{for(var n in t||(t={}))x2e.call(t,n)&&B9(e,n,t[n]);if(j9)for(var n of j9(t))E2e.call(t,n)&&B9(e,n,t[n]);return e},q2=(e,t)=>b2e(e,S2e(t));const G2={xs:{height:go.xs,paddingLeft:14,paddingRight:14},sm:{height:go.sm,paddingLeft:18,paddingRight:18},md:{height:go.md,paddingLeft:22,paddingRight:22},lg:{height:go.lg,paddingLeft:26,paddingRight:26},xl:{height:go.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function I2e({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return G2[`compact-${t}`];const i=G2[t];return q2(Th({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const O2e=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function $2e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Th({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var C2e=wt((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:l,withRightIcon:u})=>({root:q2(Th(q2(Th(Th(Th(Th({},I2e({compact:s,size:n,withLeftIcon:l,withRightIcon:u})),e.fn.fontStyles()),e.fn.focusStyles()),O2e(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),$2e({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const P2e=C2e;var T2e=Object.defineProperty,gI=Object.getOwnPropertySymbols,Ene=Object.prototype.hasOwnProperty,Ine=Object.prototype.propertyIsEnumerable,z9=(e,t,n)=>t in e?T2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V9=(e,t)=>{for(var n in t||(t={}))Ene.call(t,n)&&z9(e,n,t[n]);if(gI)for(var n of gI(t))Ine.call(t,n)&&z9(e,n,t[n]);return e},k2e=(e,t)=>{var n={};for(var r in e)Ene.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gI)for(var r of gI(e))t.indexOf(r)<0&&Ine.call(e,r)&&(n[r]=e[r]);return n};const A2e={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},XF=O.forwardRef((e,t)=>{const n=$t("Button",A2e,e),{className:r,size:i,color:s,type:o,disabled:a,children:l,leftIcon:u,rightIcon:c,fullWidth:d,variant:h,radius:m,uppercase:g,compact:y,loading:_,loaderPosition:v,loaderProps:b,gradient:S,classNames:x,styles:$,unstyled:E}=n,I=k2e(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:T,cx:M,theme:U}=P2e({radius:m,color:s,size:i,fullWidth:d,compact:y,gradient:S,variant:h,withLeftIcon:!!u,withRightIcon:!!c},{name:"Button",unstyled:E,classNames:x,styles:$}),z=U.fn.variant({color:s,variant:h}),H=P(qw,{...V9({color:z.color,size:U.fn.size({size:i,sizes:G2}).height/2},b)});return P(NF,{...V9({className:M(T.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":_||void 0,ref:t,unstyled:E},I),children:$e("div",{className:T.inner,children:[(u||_&&v==="left")&&P("span",{className:M(T.icon,T.leftIcon),children:_&&v==="left"?H:u}),_&&v==="center"&&P("span",{className:T.centerLoader,children:H}),P("span",{className:T.label,style:{textTransform:g?"uppercase":void 0},children:l}),(c||_&&v==="right")&&P("span",{className:M(T.icon,T.rightIcon),children:_&&v==="right"?H:c})]})})});XF.displayName="@mantine/core/Button";XF.Group=xne;const Dl=XF;var N2e=wt((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const R2e=N2e;var D2e=Object.defineProperty,yI=Object.getOwnPropertySymbols,One=Object.prototype.hasOwnProperty,$ne=Object.prototype.propertyIsEnumerable,U9=(e,t,n)=>t in e?D2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M2e=(e,t)=>{for(var n in t||(t={}))One.call(t,n)&&U9(e,n,t[n]);if(yI)for(var n of yI(t))$ne.call(t,n)&&U9(e,n,t[n]);return e},L2e=(e,t)=>{var n={};for(var r in e)One.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yI)for(var r of yI(e))t.indexOf(r)<0&&$ne.call(e,r)&&(n[r]=e[r]);return n};const F2e={},Cne=O.forwardRef((e,t)=>{const n=$t("Paper",F2e,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:l}=n,u=L2e(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:d}=R2e({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:l});return P(xt,{...M2e({className:d(c.root,r),ref:t},u),children:i})});Cne.displayName="@mantine/core/Paper";const Q0=Cne,Pne=O.createContext({padding:0}),j2e=Pne.Provider,B2e=()=>O.useContext(Pne).padding;var z2e=wt((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const V2e=z2e;var U2e=Object.defineProperty,vI=Object.getOwnPropertySymbols,Tne=Object.prototype.hasOwnProperty,kne=Object.prototype.propertyIsEnumerable,H9=(e,t,n)=>t in e?U2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H2e=(e,t)=>{for(var n in t||(t={}))Tne.call(t,n)&&H9(e,n,t[n]);if(vI)for(var n of vI(t))kne.call(t,n)&&H9(e,n,t[n]);return e},W2e=(e,t)=>{var n={};for(var r in e)Tne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vI)for(var r of vI(e))t.indexOf(r)<0&&kne.call(e,r)&&(n[r]=e[r]);return n};const Ane=O.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:s=!1,unstyled:o}=n,a=W2e(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:l,cx:u}=V2e({padding:B2e(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return P(xt,{...H2e({className:u(l.cardSection,r),ref:t},a)})});Ane.displayName="@mantine/core/CardSection";const Nne=Ane;var q2e=wt(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const G2e=q2e;var K2e=Object.defineProperty,_I=Object.getOwnPropertySymbols,Rne=Object.prototype.hasOwnProperty,Dne=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?K2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y2e=(e,t)=>{for(var n in t||(t={}))Rne.call(t,n)&&W9(e,n,t[n]);if(_I)for(var n of _I(t))Dne.call(t,n)&&W9(e,n,t[n]);return e},Q2e=(e,t)=>{var n={};for(var r in e)Rne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_I)for(var r of _I(e))t.indexOf(r)<0&&Dne.call(e,r)&&(n[r]=e[r]);return n};const X2e={p:"md"},JF=O.forwardRef((e,t)=>{const n=$t("Card",X2e,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,l=Q2e(n,["className","p","radius","children","unstyled"]),{classes:u,cx:c}=G2e(null,{name:"Card",unstyled:a}),d=O.Children.toArray(o),h=d.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===Nne?O.cloneElement(m,{padding:i,"data-first":g===0||void 0,"data-last":g===d.length-1||void 0}):m);return P(j2e,{value:{padding:i},children:P(Q0,{...Y2e({className:c(u.root,r),radius:s,p:i,ref:t},l),children:h})})});JF.Section=Nne;JF.displayName="@mantine/core/Card";const J2e=JF;var Z2e=Object.defineProperty,wI=Object.getOwnPropertySymbols,Mne=Object.prototype.hasOwnProperty,Lne=Object.prototype.propertyIsEnumerable,q9=(e,t,n)=>t in e?Z2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eDe=(e,t)=>{for(var n in t||(t={}))Mne.call(t,n)&&q9(e,n,t[n]);if(wI)for(var n of wI(t))Lne.call(t,n)&&q9(e,n,t[n]);return e},tDe=(e,t)=>{var n={};for(var r in e)Mne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wI)for(var r of wI(e))t.indexOf(r)<0&&Lne.call(e,r)&&(n[r]=e[r]);return n};const Fne=O.forwardRef((e,t)=>{const n=$t("Center",{},e),{inline:r,sx:i}=n,s=tDe(n,["inline","sx"]);return P(xt,{...eDe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},..._p(i)]},s)})});Fne.displayName="@mantine/core/Center";const Yg=Fne,jne=O.createContext(null),nDe=jne.Provider,rDe=()=>O.useContext(jne);function iDe(e){return O.Children.toArray(e).filter(Boolean)}const sDe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var oDe=wt((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:sDe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const aDe=oDe;var lDe=Object.defineProperty,bI=Object.getOwnPropertySymbols,Bne=Object.prototype.hasOwnProperty,zne=Object.prototype.propertyIsEnumerable,G9=(e,t,n)=>t in e?lDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uDe=(e,t)=>{for(var n in t||(t={}))Bne.call(t,n)&&G9(e,n,t[n]);if(bI)for(var n of bI(t))zne.call(t,n)&&G9(e,n,t[n]);return e},cDe=(e,t)=>{var n={};for(var r in e)Bne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bI)for(var r of bI(e))t.indexOf(r)<0&&zne.call(e,r)&&(n[r]=e[r]);return n};const fDe={position:"left",spacing:"md"},Mo=O.forwardRef((e,t)=>{const n=$t("Group",fDe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:l,spacing:u,unstyled:c}=n,d=cDe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),h=iDe(o),{classes:m,cx:g}=aDe({align:s,grow:l,noWrap:a,spacing:u,position:i,count:h.length},{unstyled:c,name:"Group"});return P(xt,{...uDe({className:g(m.root,r),ref:t},d),children:h})});Mo.displayName="@mantine/core/Group";var dDe=wt((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const hDe=dDe;var pDe=Object.defineProperty,SI=Object.getOwnPropertySymbols,Vne=Object.prototype.hasOwnProperty,Une=Object.prototype.propertyIsEnumerable,K9=(e,t,n)=>t in e?pDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mDe=(e,t)=>{for(var n in t||(t={}))Vne.call(t,n)&&K9(e,n,t[n]);if(SI)for(var n of SI(t))Une.call(t,n)&&K9(e,n,t[n]);return e},gDe=(e,t)=>{var n={};for(var r in e)Vne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SI)for(var r of SI(e))t.indexOf(r)<0&&Une.call(e,r)&&(n[r]=e[r]);return n};const yDe={spacing:"md",align:"stretch",justify:"top"},qa=O.forwardRef((e,t)=>{const n=$t("Stack",yDe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,l=gDe(n,["spacing","className","align","justify","unstyled"]),{classes:u,cx:c}=hDe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return P(xt,{...mDe({className:c(u.root,i),ref:t},l)})});qa.displayName="@mantine/core/Stack";function Hne({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?P(Mo,{pt:t,spacing:e,role:i,unstyled:s,children:r}):P(qa,{pt:t,spacing:e,role:i,unstyled:s,children:r})}var vDe=Object.defineProperty,xI=Object.getOwnPropertySymbols,Wne=Object.prototype.hasOwnProperty,qne=Object.prototype.propertyIsEnumerable,Y9=(e,t,n)=>t in e?vDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q9=(e,t)=>{for(var n in t||(t={}))Wne.call(t,n)&&Y9(e,n,t[n]);if(xI)for(var n of xI(t))qne.call(t,n)&&Y9(e,n,t[n]);return e},_De=(e,t)=>{var n={};for(var r in e)Wne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xI)for(var r of xI(e))t.indexOf(r)<0&&qne.call(e,r)&&(n[r]=e[r]);return n};const wDe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},Gne=O.forwardRef((e,t)=>{const n=$t("CheckboxGroup",wDe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:l,size:u,wrapperProps:c,offset:d}=n,h=_De(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[m,g]=Vl({value:i,defaultValue:s,finalValue:[],onChange:o});return P(nDe,{value:{value:m,onChange:_=>{const v=_.currentTarget.value;g(m.includes(v)?m.filter(b=>b!==v):[...m,v])},size:u},children:P(la.Wrapper,{...Q9(Q9({labelElement:"div",size:u,__staticSelector:"CheckboxGroup",ref:t},c),h),children:P(Hne,{spacing:l,orientation:a,offset:d,children:r})})})});Gne.displayName="@mantine/core/CheckboxGroup";var bDe=Object.defineProperty,EI=Object.getOwnPropertySymbols,Kne=Object.prototype.hasOwnProperty,Yne=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?bDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K2=(e,t)=>{for(var n in t||(t={}))Kne.call(t,n)&&X9(e,n,t[n]);if(EI)for(var n of EI(t))Yne.call(t,n)&&X9(e,n,t[n]);return e},SDe=(e,t)=>{var n={};for(var r in e)Kne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&EI)for(var r of EI(e))t.indexOf(r)<0&&Yne.call(e,r)&&(n[r]=e[r]);return n};function xDe(e){return P("svg",{...K2({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),children:P("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function EDe(e){var t=e,{indeterminate:n}=t,r=SDe(t,["indeterminate"]);return n?P("svg",{...K2({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),children:P("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):P(xDe,{...K2({},r)})}var IDe=Object.defineProperty,ODe=Object.defineProperties,$De=Object.getOwnPropertyDescriptors,J9=Object.getOwnPropertySymbols,CDe=Object.prototype.hasOwnProperty,PDe=Object.prototype.propertyIsEnumerable,Z9=(e,t,n)=>t in e?IDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TDe=(e,t)=>{for(var n in t||(t={}))CDe.call(t,n)&&Z9(e,n,t[n]);if(J9)for(var n of J9(t))PDe.call(t,n)&&Z9(e,n,t[n]);return e},kDe=(e,t)=>ODe(e,$De(t));const ADe={xs:16,sm:20,md:24,lg:30,xl:36},NDe={xs:8,sm:10,md:14,lg:16,xl:20};var RDe=wt((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},l)=>{const u=e.fn.size({size:t,sizes:ADe}),c=e.fn.variant({variant:"filled",color:r}),d=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:l("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:NDe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:u,height:u,order:s==="left"?2:1},input:kDe(TDe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?d:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:u,height:u,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${l("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${l("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const DDe=RDe;var MDe=Object.defineProperty,LDe=Object.defineProperties,FDe=Object.getOwnPropertyDescriptors,e7=Object.getOwnPropertySymbols,jDe=Object.prototype.hasOwnProperty,BDe=Object.prototype.propertyIsEnumerable,t7=(e,t,n)=>t in e?MDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zDe=(e,t)=>{for(var n in t||(t={}))jDe.call(t,n)&&t7(e,n,t[n]);if(e7)for(var n of e7(t))BDe.call(t,n)&&t7(e,n,t[n]);return e},VDe=(e,t)=>LDe(e,FDe(t));const UDe={xs:16,sm:20,md:24,lg:30,xl:36};var HDe=wt((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:VDe(zDe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:UDe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const WDe=HDe;var qDe=Object.defineProperty,II=Object.getOwnPropertySymbols,Qne=Object.prototype.hasOwnProperty,Xne=Object.prototype.propertyIsEnumerable,n7=(e,t,n)=>t in e?qDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GDe=(e,t)=>{for(var n in t||(t={}))Qne.call(t,n)&&n7(e,n,t[n]);if(II)for(var n of II(t))Xne.call(t,n)&&n7(e,n,t[n]);return e},KDe=(e,t)=>{var n={};for(var r in e)Qne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&II)for(var r of II(e))t.indexOf(r)<0&&Xne.call(e,r)&&(n[r]=e[r]);return n};function ZF(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:l,description:u,id:c,disabled:d,error:h,size:m,labelPosition:g}=t,y=KDe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:_,cx:v}=WDe({size:m,labelPosition:g},{name:n,styles:s,classNames:i,unstyled:o});return P(xt,{...GDe({className:v(_.root,r)},y),children:$e("div",{className:v(_.body),children:[a,$e("div",{className:_.labelWrapper,children:[l&&P("label",{className:_.label,"data-disabled":d||void 0,htmlFor:c,children:l}),u&&P(la.Description,{className:_.description,children:u}),h&&h!=="boolean"&&P(la.Error,{className:_.error,children:h})]})]})})}ZF.displayName="@mantine/core/InlineInput";var YDe=Object.defineProperty,OI=Object.getOwnPropertySymbols,Jne=Object.prototype.hasOwnProperty,Zne=Object.prototype.propertyIsEnumerable,r7=(e,t,n)=>t in e?YDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yS=(e,t)=>{for(var n in t||(t={}))Jne.call(t,n)&&r7(e,n,t[n]);if(OI)for(var n of OI(t))Zne.call(t,n)&&r7(e,n,t[n]);return e},QDe=(e,t)=>{var n={};for(var r in e)Jne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OI)for(var r of OI(e))t.indexOf(r)<0&&Zne.call(e,r)&&(n[r]=e[r]);return n};const XDe={size:"sm",transitionDuration:100,icon:EDe,labelPosition:"right"},$I=O.forwardRef((e,t)=>{const n=$t("Checkbox",XDe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:l,label:u,indeterminate:c,id:d,size:h,radius:m,wrapperProps:g,children:y,classNames:_,styles:v,transitionDuration:b,icon:S,unstyled:x,labelPosition:$,description:E,error:I}=n,T=QDe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),M=rDe(),U=nf(d),{systemStyles:z,rest:H}=Hp(T),{classes:q}=DDe({size:(M==null?void 0:M.size)||h,radius:m,color:l,transitionDuration:b,labelPosition:$,error:!!I,indeterminate:c},{name:"Checkbox",classNames:_,styles:v,unstyled:x}),B=M?{checked:M.value.includes(H.value),onChange:M.onChange}:{};return P(ZF,{...yS(yS({className:r,sx:s,style:i,id:U,size:(M==null?void 0:M.size)||h,labelPosition:$,label:u,description:E,error:I,disabled:a,__staticSelector:"Checkbox",classNames:_,styles:v,unstyled:x,"data-checked":B.checked||void 0},z),g),children:$e("div",{className:q.inner,children:[P("input",{...yS(yS({id:U,ref:t,type:"checkbox",className:q.input,checked:o,disabled:a},H),B)}),P(S,{indeterminate:c,className:q.icon})]})})});$I.displayName="@mantine/core/Checkbox";$I.Group=Gne;var JDe=wt((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const ZDe=JDe;var eMe=Object.defineProperty,CI=Object.getOwnPropertySymbols,ere=Object.prototype.hasOwnProperty,tre=Object.prototype.propertyIsEnumerable,i7=(e,t,n)=>t in e?eMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tMe=(e,t)=>{for(var n in t||(t={}))ere.call(t,n)&&i7(e,n,t[n]);if(CI)for(var n of CI(t))tre.call(t,n)&&i7(e,n,t[n]);return e},nMe=(e,t)=>{var n={};for(var r in e)ere.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CI)for(var r of CI(e))t.indexOf(r)<0&&tre.call(e,r)&&(n[r]=e[r]);return n};const rMe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},nre=O.forwardRef((e,t)=>{const n=$t("Container",rMe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,l=nMe(n,["className","fluid","size","unstyled","sizes"]),{classes:u,cx:c}=ZDe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return P(xt,{...tMe({className:c(u.root,r),ref:t},l)})});nre.displayName="@mantine/core/Container";function rre({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:l,onExited:u}){const{transitionDuration:c,transitionStatus:d,transitionTimingFunction:h}=Gte({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:l,onExited:u});if(c===0)return r?P(Zn,{children:i({})}):null;if(d==="exited")return null;const m=Object.keys(e).reduce((g,y)=>(g[y]=qte({duration:e[y].duration,transition:e[y].transition,timingFunction:e[y].timingFunction||h,state:d}),g),{});return P(Zn,{children:i(m)})}rre.displayName="@mantine/core/GroupedTransition";var iMe=wt((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const sMe=iMe;var oMe=Object.defineProperty,aMe=Object.defineProperties,lMe=Object.getOwnPropertyDescriptors,PI=Object.getOwnPropertySymbols,ire=Object.prototype.hasOwnProperty,sre=Object.prototype.propertyIsEnumerable,s7=(e,t,n)=>t in e?oMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BA=(e,t)=>{for(var n in t||(t={}))ire.call(t,n)&&s7(e,n,t[n]);if(PI)for(var n of PI(t))sre.call(t,n)&&s7(e,n,t[n]);return e},uMe=(e,t)=>aMe(e,lMe(t)),cMe=(e,t)=>{var n={};for(var r in e)ire.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PI)for(var r of PI(e))t.indexOf(r)<0&&sre.call(e,r)&&(n[r]=e[r]);return n};const fMe={opacity:.6,color:"#fff",zIndex:_a("modal"),radius:0,blur:0},ore=O.forwardRef((e,t)=>{const n=$t("Overlay",fMe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:l,sx:u,unstyled:c,className:d}=n,h=cMe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:m,cx:g}=sMe({zIndex:a},{name:"Overlay",unstyled:c}),y=o?{backgroundImage:o}:{backgroundColor:s},_=v=>P(xt,{...BA({ref:t,className:g(m.root,d),sx:[b=>uMe(BA({},y),{opacity:r,borderRadius:b.fn.size({size:l,sizes:b.radius})}),..._p(u)]},v)});return i?P(xt,{...BA({className:g(m.root,d),sx:[{backdropFilter:`blur(${i}px)`},..._p(u)]},h),children:_()}):_(h)});ore.displayName="@mantine/core/Overlay";const dMe=ore,hMe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var pMe=Object.defineProperty,mMe=Object.defineProperties,gMe=Object.getOwnPropertyDescriptors,TI=Object.getOwnPropertySymbols,are=Object.prototype.hasOwnProperty,lre=Object.prototype.propertyIsEnumerable,o7=(e,t,n)=>t in e?pMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yMe=(e,t)=>{for(var n in t||(t={}))are.call(t,n)&&o7(e,n,t[n]);if(TI)for(var n of TI(t))lre.call(t,n)&&o7(e,n,t[n]);return e},vMe=(e,t)=>mMe(e,gMe(t)),_Me=(e,t)=>{var n={};for(var r in e)are.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TI)for(var r of TI(e))t.indexOf(r)<0&&lre.call(e,r)&&(n[r]=e[r]);return n};const wMe={},Qg=O.forwardRef((e,t)=>{const n=$t("Flex",wMe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:l,direction:u,sx:c}=n,d=_Me(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return P(xt,{...vMe(yMe({},d),{sx:[{display:"flex"},h=>F2({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:l,direction:u},h,hMe),..._p(c)],ref:t})})});Qg.displayName="@mantine/core/Flex";const ure=O.createContext(null),bMe=ure.Provider,SMe=()=>O.useContext(ure);var xMe=Object.defineProperty,a7=Object.getOwnPropertySymbols,EMe=Object.prototype.hasOwnProperty,IMe=Object.prototype.propertyIsEnumerable,l7=(e,t,n)=>t in e?xMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OMe=(e,t)=>{for(var n in t||(t={}))EMe.call(t,n)&&l7(e,n,t[n]);if(a7)for(var n of a7(t))IMe.call(t,n)&&l7(e,n,t[n]);return e};const e3=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,cre=(e,t,n)=>n||e==="auto"||e==="content"?"unset":e3(e,t),fre=(e,t)=>{if(e)return e==="auto"||t?1:0},dre=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function $Me({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:s}){return YOe.reduce((o,a)=>(o[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:e3(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:cre(e[a],i,s),marginLeft:dre(t[a],i),flexGrow:fre(e[a],s)},o),{})}var CMe=wt((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:s,offsetMd:o,offsetLg:a,offsetXl:l,columns:u,span:c,xs:d,sm:h,md:m,lg:g,xl:y,order:_,orderXs:v,orderSm:b,orderMd:S,orderLg:x,orderXl:$})=>({root:OMe({boxSizing:"border-box",flexGrow:fre(c,n),order:_,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:dre(r,u),flexBasis:e3(c,u),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:cre(c,u,n)},$Me({sizes:{xs:d,sm:h,md:m,lg:g,xl:y},offsets:{xs:i,sm:s,md:o,lg:a,xl:l},orders:{xs:v,sm:b,md:S,lg:x,xl:$},theme:e,columns:u,grow:n}))}));const PMe=CMe;var TMe=Object.defineProperty,kI=Object.getOwnPropertySymbols,hre=Object.prototype.hasOwnProperty,pre=Object.prototype.propertyIsEnumerable,u7=(e,t,n)=>t in e?TMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kMe=(e,t)=>{for(var n in t||(t={}))hre.call(t,n)&&u7(e,n,t[n]);if(kI)for(var n of kI(t))pre.call(t,n)&&u7(e,n,t[n]);return e},AMe=(e,t)=>{var n={};for(var r in e)hre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kI)for(var r of kI(e))t.indexOf(r)<0&&pre.call(e,r)&&(n[r]=e[r]);return n};const NMe={};function RMe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const mre=O.forwardRef((e,t)=>{const n=$t("Grid.Col",NMe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:d,sm:h,md:m,lg:g,xl:y,order:_,orderXs:v,orderSm:b,orderMd:S,orderLg:x,orderXl:$,className:E,id:I,unstyled:T}=n,M=AMe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),U=SMe();if(!U)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const z=i||U.columns,{classes:H,cx:q}=PMe({gutter:U.gutter,offset:s,offsetXs:o,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:d,sm:h,md:m,lg:g,xl:y,order:_,orderXs:v,orderSm:b,orderMd:S,orderLg:x,orderXl:$,grow:U.grow,columns:U.columns,span:z},{unstyled:T,name:"Col"});return!RMe(z)||z>U.columns?null:P(xt,{...kMe({className:q(H.root,E),ref:t},M),children:r})});mre.displayName="@mantine/core/Col";var DMe=wt((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const MMe=DMe;var LMe=Object.defineProperty,AI=Object.getOwnPropertySymbols,gre=Object.prototype.hasOwnProperty,yre=Object.prototype.propertyIsEnumerable,c7=(e,t,n)=>t in e?LMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FMe=(e,t)=>{for(var n in t||(t={}))gre.call(t,n)&&c7(e,n,t[n]);if(AI)for(var n of AI(t))yre.call(t,n)&&c7(e,n,t[n]);return e},jMe=(e,t)=>{var n={};for(var r in e)gre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AI)for(var r of AI(e))t.indexOf(r)<0&&yre.call(e,r)&&(n[r]=e[r]);return n};const BMe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},tg=O.forwardRef((e,t)=>{const n=$t("Grid",BMe,e),{gutter:r,children:i,grow:s,justify:o,align:a,columns:l,className:u,id:c,unstyled:d}=n,h=jMe(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:m,cx:g}=MMe({gutter:r,justify:o,align:a},{unstyled:d,name:"Grid"});return P(bMe,{value:{gutter:r,grow:s,columns:l},children:P(xt,{...FMe({className:g(m.root,u),ref:t},h),children:i})})});tg.Col=mre;tg.displayName="@mantine/core/Grid";function zMe({open:e,close:t,openDelay:n,closeDelay:r}){const i=O.useRef(-1),s=O.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},l=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return O.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}var VMe=Object.defineProperty,f7=Object.getOwnPropertySymbols,UMe=Object.prototype.hasOwnProperty,HMe=Object.prototype.propertyIsEnumerable,d7=(e,t,n)=>t in e?VMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WMe=(e,t)=>{for(var n in t||(t={}))UMe.call(t,n)&&d7(e,n,t[n]);if(f7)for(var n of f7(t))HMe.call(t,n)&&d7(e,n,t[n]);return e};function qMe(e){return P("svg",{...WMe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),children:P("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var GMe=Object.defineProperty,KMe=Object.defineProperties,YMe=Object.getOwnPropertyDescriptors,h7=Object.getOwnPropertySymbols,QMe=Object.prototype.hasOwnProperty,XMe=Object.prototype.propertyIsEnumerable,p7=(e,t,n)=>t in e?GMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m7=(e,t)=>{for(var n in t||(t={}))QMe.call(t,n)&&p7(e,n,t[n]);if(h7)for(var n of h7(t))XMe.call(t,n)&&p7(e,n,t[n]);return e},g7=(e,t)=>KMe(e,YMe(t)),JMe=wt((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:g7(m7({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:g7(m7({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const ZMe=JMe;var eLe=Object.defineProperty,NI=Object.getOwnPropertySymbols,vre=Object.prototype.hasOwnProperty,_re=Object.prototype.propertyIsEnumerable,y7=(e,t,n)=>t in e?eLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zA=(e,t)=>{for(var n in t||(t={}))vre.call(t,n)&&y7(e,n,t[n]);if(NI)for(var n of NI(t))_re.call(t,n)&&y7(e,n,t[n]);return e},tLe=(e,t)=>{var n={};for(var r in e)vre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NI)for(var r of NI(e))t.indexOf(r)<0&&_re.call(e,r)&&(n[r]=e[r]);return n};const nLe={fit:"cover",width:"100%",height:"auto",radius:0},Xw=O.forwardRef((e,t)=>{const n=$t("Image",nLe,e),{className:r,alt:i,src:s,fit:o,width:a,height:l,radius:u,imageProps:c,withPlaceholder:d,placeholder:h,imageRef:m,classNames:g,styles:y,caption:_,unstyled:v,style:b}=n,S=tLe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:x,cx:$}=ZMe({radius:u},{classNames:g,styles:y,unstyled:v,name:"Image"}),[E,I]=O.useState(!s),T=d&&E;return aa(()=>{I(!1)},[s]),P(xt,{...zA({className:$(x.root,r),ref:t,style:zA({width:a},b)},S),children:$e("figure",{className:x.figure,children:[$e("div",{className:x.imageWrapper,children:[P("img",{...zA({className:x.image,src:s,alt:i,style:{objectFit:o,width:a,height:l},ref:m,onError:M=>{I(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(M)}},c)}),T&&P("div",{className:x.placeholder,title:i,children:h||P("div",{children:P(qMe,{style:{width:40,height:40}})})})]}),!!_&&P(Bt,{component:"figcaption",size:"sm",align:"center",className:x.caption,children:_})]})})});Xw.displayName="@mantine/core/Image";function rLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var iLe=O.useLayoutEffect,sLe=function(t){var n=O.useRef(t);return iLe(function(){n.current=t}),n},v7=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},oLe=function(t,n){var r=O.useRef();return O.useCallback(function(i){t.current=i,r.current&&v7(r.current,null),r.current=n,n&&v7(n,i)},[n])},_7={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},w7=function(t){Object.keys(_7).forEach(function(n){t.style.setProperty(n,_7[n],"important")})},Ko=null,aLe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function lLe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ko||(Ko=document.createElement("textarea"),Ko.setAttribute("tabindex","-1"),Ko.setAttribute("aria-hidden","true"),w7(Ko)),Ko.parentNode===null&&document.body.appendChild(Ko);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(h){var m=h;Ko.style[m]=o[m]}),w7(Ko),Ko.value=t;var l=aLe(Ko,e);Ko.value="x";var u=Ko.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,u]}var b7=function(){},uLe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},cLe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],fLe=!!document.documentElement.currentStyle,dLe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=uLe(cLe,n),i=r.boxSizing;if(i==="")return null;fLe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},hLe=function(t){var n=sLe(t);O.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},pLe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?b7:o,l=t.onHeightChange,u=l===void 0?b7:l,c=rLe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=c.value!==void 0,h=O.useRef(null),m=oLe(h,n),g=O.useRef(0),y=O.useRef(),_=function(){var S=h.current,x=r&&y.current?y.current:dLe(S);if(x){y.current=x;var $=lLe(x,S.value||S.placeholder||"x",s,i),E=$[0],I=$[1];g.current!==E&&(g.current=E,S.style.setProperty("height",E+"px","important"),u(E,{rowHeight:I}))}},v=function(S){d||_(),a(S)};return O.useLayoutEffect(_),hLe(_),O.createElement("textarea",Rr({},c,{onChange:v,ref:m}))},mLe=O.forwardRef(pLe);const gLe=mLe;var yLe=wt(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const vLe=yLe;var _Le=Object.defineProperty,wLe=Object.defineProperties,bLe=Object.getOwnPropertyDescriptors,RI=Object.getOwnPropertySymbols,wre=Object.prototype.hasOwnProperty,bre=Object.prototype.propertyIsEnumerable,S7=(e,t,n)=>t in e?_Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xm=(e,t)=>{for(var n in t||(t={}))wre.call(t,n)&&S7(e,n,t[n]);if(RI)for(var n of RI(t))bre.call(t,n)&&S7(e,n,t[n]);return e},VA=(e,t)=>wLe(e,bLe(t)),SLe=(e,t)=>{var n={};for(var r in e)wre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RI)for(var r of RI(e))t.indexOf(r)<0&&bre.call(e,r)&&(n[r]=e[r]);return n};const xLe={autosize:!1,size:"sm",__staticSelector:"Textarea"},Sre=O.forwardRef((e,t)=>{const n=$t("Textarea",xLe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:l,id:u,className:c,required:d,style:h,wrapperProps:m,classNames:g,styles:y,size:_,__staticSelector:v,sx:b,errorProps:S,descriptionProps:x,labelProps:$,inputWrapperOrder:E,inputContainer:I,unstyled:T,withAsterisk:M}=n,U=SLe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),z=nf(u),{classes:H,cx:q}=vLe(),{systemStyles:B,rest:ue}=Hp(U),le=xm({required:d,ref:t,invalid:!!a,id:z,classNames:VA(xm({},g),{input:q(H.input,g==null?void 0:g.input)}),styles:y,__staticSelector:v,size:_,multiline:!0,unstyled:T},ue);return P(la.Wrapper,{...xm(xm({label:o,error:a,id:z,description:l,required:d,style:h,className:c,classNames:g,styles:y,size:_,__staticSelector:v,sx:b,errorProps:S,labelProps:$,descriptionProps:x,inputContainer:I,inputWrapperOrder:E,unstyled:T,withAsterisk:M},B),m),children:r?P(la,{...VA(xm({},le),{component:gLe,maxRows:i,minRows:s})}):P(la,{...VA(xm({},le),{component:"textarea",rows:s})})})});Sre.displayName="@mantine/core/Textarea";const xre=O.createContext(null);function ELe(){return O.useContext(xre)||{}}var ILe=wt((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const OLe=ILe;var $Le=Object.defineProperty,DI=Object.getOwnPropertySymbols,Ere=Object.prototype.hasOwnProperty,Ire=Object.prototype.propertyIsEnumerable,x7=(e,t,n)=>t in e?$Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CLe=(e,t)=>{for(var n in t||(t={}))Ere.call(t,n)&&x7(e,n,t[n]);if(DI)for(var n of DI(t))Ire.call(t,n)&&x7(e,n,t[n]);return e},PLe=(e,t)=>{var n={};for(var r in e)Ere.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DI)for(var r of DI(e))t.indexOf(r)<0&&Ire.call(e,r)&&(n[r]=e[r]);return n};function Ore(e){var t=e,{className:n,children:r,icon:i}=t,s=PLe(t,["className","children","icon"]);const{icon:o,spacing:a,center:l,listStyleType:u,size:c,withPadding:d}=ELe(),{classNames:h,styles:m,unstyled:g}=Ww(),y=i||o,{classes:_,cx:v}=OLe({withPadding:d,size:c,listStyleType:u,center:l,spacing:a},{classNames:h,styles:m,unstyled:g,name:"List"});return P(xt,{...CLe({component:"li",className:v(_.item,{[_.withIcon]:y},n)},s),children:$e("div",{className:_.itemWrapper,children:[y&&P("span",{className:_.itemIcon,children:y}),P("span",{children:r})]})})}Ore.displayName="@mantine/core/ListItem";var TLe=Object.defineProperty,kLe=Object.defineProperties,ALe=Object.getOwnPropertyDescriptors,E7=Object.getOwnPropertySymbols,NLe=Object.prototype.hasOwnProperty,RLe=Object.prototype.propertyIsEnumerable,I7=(e,t,n)=>t in e?TLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DLe=(e,t)=>{for(var n in t||(t={}))NLe.call(t,n)&&I7(e,n,t[n]);if(E7)for(var n of E7(t))RLe.call(t,n)&&I7(e,n,t[n]);return e},MLe=(e,t)=>kLe(e,ALe(t)),LLe=wt((e,{withPadding:t,size:n,listStyleType:r})=>({root:MLe(DLe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const FLe=LLe;var jLe=Object.defineProperty,MI=Object.getOwnPropertySymbols,$re=Object.prototype.hasOwnProperty,Cre=Object.prototype.propertyIsEnumerable,O7=(e,t,n)=>t in e?jLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BLe=(e,t)=>{for(var n in t||(t={}))$re.call(t,n)&&O7(e,n,t[n]);if(MI)for(var n of MI(t))Cre.call(t,n)&&O7(e,n,t[n]);return e},zLe=(e,t)=>{var n={};for(var r in e)$re.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MI)for(var r of MI(e))t.indexOf(r)<0&&Cre.call(e,r)&&(n[r]=e[r]);return n};const VLe={type:"unordered",size:"md",spacing:0},Xg=O.forwardRef((e,t)=>{const n=$t("List",VLe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:l,spacing:u,icon:c,className:d,styles:h,classNames:m,unstyled:g}=n,y=zLe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:_,cx:v}=FLe({withPadding:a,size:s,listStyleType:o,center:l,spacing:u},{classNames:m,styles:h,name:"List",unstyled:g});return P(QZ,{classNames:m,styles:h,unstyled:g,children:P(xre.Provider,{value:{spacing:u,center:l,icon:c,listStyleType:o,size:s,withPadding:a},children:P(xt,{...BLe({component:i==="unordered"?"ul":"ol",className:v(_.root,d),ref:t},y),children:r})})})});Xg.Item=Ore;Xg.displayName="@mantine/core/List";var ULe=wt(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const HLe=ULe;var WLe=Object.defineProperty,LI=Object.getOwnPropertySymbols,Pre=Object.prototype.hasOwnProperty,Tre=Object.prototype.propertyIsEnumerable,$7=(e,t,n)=>t in e?WLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qLe=(e,t)=>{for(var n in t||(t={}))Pre.call(t,n)&&$7(e,n,t[n]);if(LI)for(var n of LI(t))Tre.call(t,n)&&$7(e,n,t[n]);return e},GLe=(e,t)=>{var n={};for(var r in e)Pre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LI)for(var r of LI(e))t.indexOf(r)<0&&Tre.call(e,r)&&(n[r]=e[r]);return n};function kre(e){var t=e,{children:n,className:r}=t,i=GLe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=Ww(),{classes:l,cx:u}=HLe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return P(xt,{...qLe({className:u(l.divider,r)},i)})}kre.displayName="@mantine/core/MenuDivider";const Are={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[KLe,t3]=xZ(Are.context);var YLe=Object.defineProperty,FI=Object.getOwnPropertySymbols,Nre=Object.prototype.hasOwnProperty,Rre=Object.prototype.propertyIsEnumerable,C7=(e,t,n)=>t in e?YLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QLe=(e,t)=>{for(var n in t||(t={}))Nre.call(t,n)&&C7(e,n,t[n]);if(FI)for(var n of FI(t))Rre.call(t,n)&&C7(e,n,t[n]);return e},XLe=(e,t)=>{var n={};for(var r in e)Nre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FI)for(var r of FI(e))t.indexOf(r)<0&&Rre.call(e,r)&&(n[r]=e[r]);return n};function Dre(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=XLe(t,["children","onMouseEnter","onMouseLeave"]);const o=O.useRef(),a=t3(),l=d=>{(d.key==="ArrowUp"||d.key==="ArrowDown")&&(d.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},u=wc(r,()=>a.trigger==="hover"&&a.openDropdown()),c=wc(i,()=>a.trigger==="hover"&&a.closeDropdown());return P(of.Dropdown,{...QLe({onMouseEnter:u,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),children:P("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:l,ref:o,style:{outline:0},children:n})})}Dre.displayName="@mantine/core/MenuDropdown";var JLe=Object.defineProperty,ZLe=Object.defineProperties,eFe=Object.getOwnPropertyDescriptors,P7=Object.getOwnPropertySymbols,tFe=Object.prototype.hasOwnProperty,nFe=Object.prototype.propertyIsEnumerable,T7=(e,t,n)=>t in e?JLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rFe=(e,t)=>{for(var n in t||(t={}))tFe.call(t,n)&&T7(e,n,t[n]);if(P7)for(var n of P7(t))nFe.call(t,n)&&T7(e,n,t[n]);return e},iFe=(e,t)=>ZLe(e,eFe(t)),sFe=wt((e,{color:t,radius:n})=>({item:iFe(rFe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const oFe=sFe;var aFe=Object.defineProperty,lFe=Object.defineProperties,uFe=Object.getOwnPropertyDescriptors,jI=Object.getOwnPropertySymbols,Mre=Object.prototype.hasOwnProperty,Lre=Object.prototype.propertyIsEnumerable,k7=(e,t,n)=>t in e?aFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cFe=(e,t)=>{for(var n in t||(t={}))Mre.call(t,n)&&k7(e,n,t[n]);if(jI)for(var n of jI(t))Lre.call(t,n)&&k7(e,n,t[n]);return e},fFe=(e,t)=>lFe(e,uFe(t)),dFe=(e,t)=>{var n={};for(var r in e)Mre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jI)for(var r of jI(e))t.indexOf(r)<0&&Lre.call(e,r)&&(n[r]=e[r]);return n};const Fre=O.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:l}=n,u=dFe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=t3(),{classNames:d,styles:h,unstyled:m}=Ww(),{classes:g,cx:y,theme:_}=oFe({radius:c.radius,color:s},{name:"Menu",classNames:d,styles:h,unstyled:m}),v=O.useRef(),b=c.getItemIndex(v.current),S=u,x=wc(S.onMouseLeave,()=>c.setHovered(-1)),$=wc(S.onMouseEnter,()=>c.setHovered(c.getItemIndex(v.current))),E=wc(S.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),I=wc(S.onFocus,()=>c.setHovered(c.getItemIndex(v.current)));return $e(xt,{...fFe(cFe({component:"button",type:"button"},u),{tabIndex:-1,onFocus:I,className:y(g.item,i),ref:sl(v,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===b?!0:void 0,onMouseEnter:$,onMouseLeave:x,onClick:E,onKeyDown:mOe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:_.dir,orientation:"vertical",onKeyDown:S.onKeydown})}),children:[a&&P("div",{className:g.itemIcon,children:a}),r&&P("div",{className:g.itemLabel,children:r}),l&&P("div",{className:g.itemRightSection,children:l})]})});Fre.displayName="@mantine/core/MenuItem";const hFe=Fre;var pFe=wt(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const mFe=pFe;var gFe=Object.defineProperty,BI=Object.getOwnPropertySymbols,jre=Object.prototype.hasOwnProperty,Bre=Object.prototype.propertyIsEnumerable,A7=(e,t,n)=>t in e?gFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yFe=(e,t)=>{for(var n in t||(t={}))jre.call(t,n)&&A7(e,n,t[n]);if(BI)for(var n of BI(t))Bre.call(t,n)&&A7(e,n,t[n]);return e},vFe=(e,t)=>{var n={};for(var r in e)jre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BI)for(var r of BI(e))t.indexOf(r)<0&&Bre.call(e,r)&&(n[r]=e[r]);return n};function zre(e){var t=e,{children:n,className:r}=t,i=vFe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=Ww(),{classes:l,cx:u}=mFe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return P(Bt,{...yFe({className:u(l.label,r)},i),children:n})}zre.displayName="@mantine/core/MenuLabel";var _Fe=Object.defineProperty,zI=Object.getOwnPropertySymbols,Vre=Object.prototype.hasOwnProperty,Ure=Object.prototype.propertyIsEnumerable,N7=(e,t,n)=>t in e?_Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wFe=(e,t)=>{for(var n in t||(t={}))Vre.call(t,n)&&N7(e,n,t[n]);if(zI)for(var n of zI(t))Ure.call(t,n)&&N7(e,n,t[n]);return e},bFe=(e,t)=>{var n={};for(var r in e)Vre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zI)for(var r of zI(e))t.indexOf(r)<0&&Ure.call(e,r)&&(n[r]=e[r]);return n};const Hre=O.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,s=bFe(n,["children","refProp"]);if(!Vw(r))throw new Error(Are.children);const o=t3(),a=wc(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),l=wc(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),u=wc(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return P(of.Target,{...wFe({refProp:i,popupType:"menu",ref:t},s),children:O.cloneElement(r,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":o.opened?!0:void 0})})});Hre.displayName="@mantine/core/MenuTarget";var SFe=wt({dropdown:{padding:4}});const xFe=SFe;var EFe=Object.defineProperty,IFe=Object.defineProperties,OFe=Object.getOwnPropertyDescriptors,VI=Object.getOwnPropertySymbols,Wre=Object.prototype.hasOwnProperty,qre=Object.prototype.propertyIsEnumerable,R7=(e,t,n)=>t in e?EFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D7=(e,t)=>{for(var n in t||(t={}))Wre.call(t,n)&&R7(e,n,t[n]);if(VI)for(var n of VI(t))qre.call(t,n)&&R7(e,n,t[n]);return e},M7=(e,t)=>IFe(e,OFe(t)),$Fe=(e,t)=>{var n={};for(var r in e)Wre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VI)for(var r of VI(e))t.indexOf(r)<0&&qre.call(e,r)&&(n[r]=e[r]);return n};const CFe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Fa(e){const t=$t("Menu",CFe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:l,loop:u,closeOnEscape:c,trigger:d,openDelay:h,closeDelay:m,classNames:g,styles:y,unstyled:_,radius:v}=t,b=$Fe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:S,cx:x}=xFe(),[$,{setHovered:E,resetHovered:I}]=_Oe(),[T,M]=Vl({value:s,defaultValue:o,finalValue:!1,onChange:a}),U=()=>{M(!1),T&&(i==null||i())},z=()=>{M(!0),!T&&(r==null||r())},H=()=>T?U():z(),{openDropdown:q,closeDropdown:B}=zMe({open:z,close:U,closeDelay:m,openDelay:h}),ue=le=>gOe("[data-menu-item]","[data-menu-dropdown]",le);return aa(()=>{I()},[T]),P(KLe,{value:{opened:T,toggleDropdown:H,getItemIndex:ue,hovered:$,setHovered:E,closeOnItemClick:l,closeDropdown:d==="click"?U:B,openDropdown:d==="click"?z:q,closeDropdownImmediately:U,loop:u,trigger:d,radius:v},children:P(of,{...M7(D7({},b),{radius:v,opened:T,onChange:M,defaultOpened:o,trapFocus:d==="click",closeOnEscape:c&&d==="click",__staticSelector:"Menu",classNames:M7(D7({},g),{dropdown:x(S.dropdown,g==null?void 0:g.dropdown)}),styles:y,unstyled:_,onClose:U,onOpen:z}),children:n})})}Fa.displayName="@mantine/core/Menu";Fa.Item=hFe;Fa.Label=zre;Fa.Dropdown=Dre;Fa.Target=Hre;Fa.Divider=kre;var PFe=Object.defineProperty,L7=Object.getOwnPropertySymbols,TFe=Object.prototype.hasOwnProperty,kFe=Object.prototype.propertyIsEnumerable,F7=(e,t,n)=>t in e?PFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AFe=(e,t)=>{for(var n in t||(t={}))TFe.call(t,n)&&F7(e,n,t[n]);if(L7)for(var n of L7(t))kFe.call(t,n)&&F7(e,n,t[n]);return e};const NFe={xs:320,sm:380,md:440,lg:620,xl:780};function RFe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var DFe=wt((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:AFe({position:"relative",width:s?"100vw":e.fn.size({sizes:NFe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},RFe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const MFe=DFe;var LFe=Object.defineProperty,UI=Object.getOwnPropertySymbols,Gre=Object.prototype.hasOwnProperty,Kre=Object.prototype.propertyIsEnumerable,j7=(e,t,n)=>t in e?LFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FFe=(e,t)=>{for(var n in t||(t={}))Gre.call(t,n)&&j7(e,n,t[n]);if(UI)for(var n of UI(t))Kre.call(t,n)&&j7(e,n,t[n]);return e},jFe=(e,t)=>{var n={};for(var r in e)Gre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UI)for(var r of UI(e))t.indexOf(r)<0&&Kre.call(e,r)&&(n[r]=e[r]);return n};const BFe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:_a("modal"),exitTransitionDuration:0};function RC(e){const t=$t("Modal",BFe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:l,size:u,transitionDuration:c,exitTransitionDuration:d,closeButtonLabel:h,overlayColor:m,overflow:g,transition:y,padding:_,shadow:v,radius:b,id:S,classNames:x,styles:$,closeOnClickOutside:E,trapFocus:I,closeOnEscape:T,centered:M,target:U,withinPortal:z,zIndex:H,overlayBlur:q,transitionTimingFunction:B,fullScreen:ue,unstyled:le,lockScroll:pe,withFocusReturn:Z}=t,oe=jFe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),X=nf(S),k=`${X}-title`,A=`${X}-body`,{classes:K,cx:D,theme:R}=MFe({size:u,overflow:g,centered:M,zIndex:H,fullScreen:ue},{unstyled:le,classNames:x,styles:$,name:"Modal"}),Y=ree(I&&r),fe=O.useRef(null),he=sl(Y,fe),ge=typeof l=="number"?l:R.colorScheme==="dark"?.85:.75;VCe(pe&&r);const ve=it=>{!I&&it.key==="Escape"&&T&&s()};O.useEffect(()=>{if(!I)return window.addEventListener("keydown",ve),()=>window.removeEventListener("keydown",ve)},[I]),ZZ({opened:r,shouldReturnFocus:I&&Z});const ke=O.useRef(null);L2("mousedown",it=>{ke.current=it.target});const ye=()=>{ke.current===fe.current&&E&&s()};return P(Gw,{withinPortal:z,target:U,children:P(rre,{mounted:r,duration:c,exitDuration:d,timingFunction:B,transitions:{modal:{duration:c,transition:y||(ue?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}},children:it=>P(Zn,{children:$e(xt,{...FFe({id:X,className:D(K.root,n)},oe),children:[P("div",{style:it.overlay,children:P(dMe,{className:K.overlay,sx:{position:"fixed"},zIndex:0,blur:q,color:m||(R.colorScheme==="dark"?R.colors.dark[9]:R.black),opacity:ge,unstyled:le})}),P("div",{role:"presentation",className:K.inner,onClick:ye,onKeyDown:Ke=>{var Je;((Je=Ke.target)==null?void 0:Je.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ke.key==="Escape"&&T&&s()},ref:he,children:$e(Q0,{className:K.modal,shadow:v,p:_,radius:b,role:"dialog","aria-labelledby":k,"aria-describedby":A,"aria-modal":!0,tabIndex:-1,style:it.modal,unstyled:le,onClick:Ke=>Ke.stopPropagation(),children:[(i||a)&&$e("div",{className:K.header,children:[P(Bt,{id:k,className:K.title,children:i}),a&&P(DF,{iconSize:16,onClick:s,"aria-label":h,className:K.close})]}),P("div",{id:A,className:K.body,children:o})]})})]})})})})}RC.displayName="@mantine/core/Modal";const zFe={xs:16,sm:22,md:26,lg:30,xl:36},VFe={xs:10,sm:12,md:14,lg:16,xl:18};var UFe=wt((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:zFe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:VFe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const HFe=UFe;var WFe=Object.defineProperty,HI=Object.getOwnPropertySymbols,Yre=Object.prototype.hasOwnProperty,Qre=Object.prototype.propertyIsEnumerable,B7=(e,t,n)=>t in e?WFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qFe=(e,t)=>{for(var n in t||(t={}))Yre.call(t,n)&&B7(e,n,t[n]);if(HI)for(var n of HI(t))Qre.call(t,n)&&B7(e,n,t[n]);return e},GFe=(e,t)=>{var n={};for(var r in e)Yre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HI)for(var r of HI(e))t.indexOf(r)<0&&Qre.call(e,r)&&(n[r]=e[r]);return n};const z7={xs:16,sm:22,md:24,lg:26,xl:30};function Xre(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:l,size:u,radius:c="sm",variant:d}=t,h=GFe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:m,cx:g}=HFe({size:u,disabled:a,readOnly:l,radius:c,variant:d},{classNames:r,styles:i,name:"MultiSelect"});return $e("div",{...qFe({className:g(m.defaultValue,s)},h),children:[P("span",{className:m.defaultValueLabel,children:n}),!a&&!l&&P(DF,{"aria-hidden":!0,onMouseDown:o,size:z7[u],radius:2,color:"blue",variant:"transparent",iconSize:z7[u]/2,className:m.defaultValueRemove,tabIndex:-1})]})}Xre.displayName="@mantine/core/MultiSelect/DefaultValue";function KFe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s}){if(!t&&s.length===0)return e;if(!t){const a=[];for(let l=0;l<e.length;l+=1)s.some(u=>u===e[l].value&&!e[l].disabled)||a.push(e[l]);return a}const o=[];for(let a=0;a<e.length&&(i(r,s.some(l=>l===e[a].value&&!e[a].disabled),e[a])&&o.push(e[a]),!(o.length>=n));a+=1);return o}var YFe=Object.defineProperty,WI=Object.getOwnPropertySymbols,Jre=Object.prototype.hasOwnProperty,Zre=Object.prototype.propertyIsEnumerable,V7=(e,t,n)=>t in e?YFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U7=(e,t)=>{for(var n in t||(t={}))Jre.call(t,n)&&V7(e,n,t[n]);if(WI)for(var n of WI(t))Zre.call(t,n)&&V7(e,n,t[n]);return e},QFe=(e,t)=>{var n={};for(var r in e)Jre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WI)for(var r of WI(e))t.indexOf(r)<0&&Zre.call(e,r)&&(n[r]=e[r]);return n};const XFe={xs:14,sm:18,md:20,lg:24,xl:28};function JFe(e){var t=e,{size:n,error:r,style:i}=t,s=QFe(t,["size","error","style"]);const o=Ls(),a=o.fn.size({size:n,sizes:XFe});return P("svg",{...U7({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:U7({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),children:P("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function eie({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?P(DF,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):P(JFe,{error:i,size:r})}eie.displayName="@mantine/core/SelectRightSection";var ZFe=Object.defineProperty,e3e=Object.defineProperties,t3e=Object.getOwnPropertyDescriptors,qI=Object.getOwnPropertySymbols,tie=Object.prototype.hasOwnProperty,nie=Object.prototype.propertyIsEnumerable,H7=(e,t,n)=>t in e?ZFe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UA=(e,t)=>{for(var n in t||(t={}))tie.call(t,n)&&H7(e,n,t[n]);if(qI)for(var n of qI(t))nie.call(t,n)&&H7(e,n,t[n]);return e},W7=(e,t)=>e3e(e,t3e(t)),n3e=(e,t)=>{var n={};for(var r in e)tie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qI)for(var r of qI(e))t.indexOf(r)<0&&nie.call(e,r)&&(n[r]=e[r]);return n};const r3e={xs:24,sm:30,md:34,lg:44,xl:54};function rie(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=n3e(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:r3e}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&P(eie,{...UA({},o)}),styles:W7(UA({},a),{rightSection:W7(UA({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var i3e=Object.defineProperty,s3e=Object.defineProperties,o3e=Object.getOwnPropertyDescriptors,q7=Object.getOwnPropertySymbols,a3e=Object.prototype.hasOwnProperty,l3e=Object.prototype.propertyIsEnumerable,G7=(e,t,n)=>t in e?i3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u3e=(e,t)=>{for(var n in t||(t={}))a3e.call(t,n)&&G7(e,n,t[n]);if(q7)for(var n of q7(t))l3e.call(t,n)&&G7(e,n,t[n]);return e},c3e=(e,t)=>s3e(e,o3e(t)),f3e=wt((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:go})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:c3e(u3e({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:go})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const d3e=f3e;var h3e=Object.defineProperty,p3e=Object.defineProperties,m3e=Object.getOwnPropertyDescriptors,GI=Object.getOwnPropertySymbols,iie=Object.prototype.hasOwnProperty,sie=Object.prototype.propertyIsEnumerable,K7=(e,t,n)=>t in e?h3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Em=(e,t)=>{for(var n in t||(t={}))iie.call(t,n)&&K7(e,n,t[n]);if(GI)for(var n of GI(t))sie.call(t,n)&&K7(e,n,t[n]);return e},Y7=(e,t)=>p3e(e,m3e(t)),g3e=(e,t)=>{var n={};for(var r in e)iie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GI)for(var r of GI(e))t.indexOf(r)<0&&sie.call(e,r)&&(n[r]=e[r]);return n};function y3e(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function v3e(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function Q7(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const _3e={size:"sm",valueComponent:Xre,itemComponent:FF,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:y3e,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:v3e,switchDirectionOnFlip:!1,zIndex:_a("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},oie=O.forwardRef((e,t)=>{const n=$t("MultiSelect",_3e,e),{className:r,style:i,required:s,label:o,description:a,size:l,error:u,classNames:c,styles:d,wrapperProps:h,value:m,defaultValue:g,data:y,onChange:_,valueComponent:v,itemComponent:b,id:S,transition:x,transitionDuration:$,transitionTimingFunction:E,maxDropdownHeight:I,shadow:T,nothingFound:M,onFocus:U,onBlur:z,searchable:H,placeholder:q,filter:B,limit:ue,clearSearchOnChange:le,clearable:pe,clearSearchOnBlur:Z,clearButtonLabel:oe,variant:X,onSearchChange:k,searchValue:A,disabled:K,initiallyOpened:D,radius:R,icon:Y,rightSection:fe,rightSectionWidth:he,creatable:ge,getCreateLabel:ve,shouldCreate:ke,onCreate:ye,sx:it,dropdownComponent:Ke,onDropdownClose:Je,onDropdownOpen:He,maxSelectedValues:Ae,withinPortal:Xe,switchDirectionOnFlip:_n,zIndex:We,selectOnBlur:Ve,name:Tt,dropdownPosition:st,errorProps:Rt,labelProps:on,descriptionProps:On,clearButtonTabIndex:Kn,form:me,positionDependencies:Ie,onKeyDown:qe,unstyled:mt,inputContainer:ze,inputWrapperOrder:gt,readOnly:Ge,withAsterisk:ft}=n,ur=g3e(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:dn,cx:Ft,theme:hr}=d3e({size:l,invalid:!!u},{classNames:c,styles:d,unstyled:mt,name:"MultiSelect"}),{systemStyles:Bn,rest:hl}=Hp(ur),ui=O.useRef(),ms=O.useRef(),gs=O.useRef({}),ci=nf(S),[Dr,nr]=O.useState(D),[wn,Ri]=O.useState(-1),[ro,Ur]=O.useState("column"),[Ki,ys]=Vl({value:A,defaultValue:"",finalValue:void 0,onChange:k}),[ee,G]=O.useState(!1),{scrollIntoView:ne,targetRef:we,scrollableRef:_e}=oee({duration:0,offset:5,cancelable:!1,isList:!0}),nt=ge&&typeof ve=="function";let Ce=null;const et=y.map(rt=>typeof rt=="string"?{label:rt,value:rt}:rt),Ct=EZ({data:et}),[ct,Pt]=Vl({value:Q7(m,y),defaultValue:Q7(g,y),finalValue:[],onChange:_}),Yt=O.useRef(!!Ae&&Ae<ct.length),rr=rt=>{if(!Ge){const an=ct.filter(yr=>yr!==rt);Pt(an),Ae&&an.length<Ae&&(Yt.current=!1)}},Et=rt=>{ys(rt.currentTarget.value),!K&&!Yt.current&&H&&nr(!0)},Hn=rt=>{typeof U=="function"&&U(rt),!K&&!Yt.current&&H&&nr(!0)},kt=KFe({data:Ct,searchable:H,searchValue:Ki,limit:ue,filter:B,value:ct}),Mn=(rt,an,yr)=>{let Di=rt;for(;yr(Di);)if(Di=an(Di),!kt[Di].disabled)return Di;return rt};aa(()=>{Ri(-1)},[Ki]),aa(()=>{!K&&ct.length>y.length&&nr(!1),Ae&&ct.length<Ae&&(Yt.current=!1),Ae&&ct.length>=Ae&&(Yt.current=!0,nr(!1))},[ct]);const Or=rt=>{if(!Ge)if(le&&ys(""),ct.includes(rt.value))rr(rt.value);else{if(rt.creatable&&typeof ye=="function"){const an=ye(rt.value);typeof an<"u"&&an!==null&&Pt(typeof an=="string"?[...ct,an]:[...ct,an.value])}else Pt([...ct,rt.value]);ct.length===Ae-1&&(Yt.current=!0,nr(!1)),wn===kt.length-1&&Ri(kt.length-2),kt.length===1&&nr(!1)}},Yi=rt=>{typeof z=="function"&&z(rt),Ve&&kt[wn]&&Dr&&Or(kt[wn]),Z&&ys(""),nr(!1)},ei=rt=>{if(ee||(qe==null||qe(rt),Ge)||rt.key!=="Backspace"&&Ae&&Yt.current)return;const an=ro==="column",yr=()=>{Ri(io=>{var F;const J=Mn(io,W=>W+1,W=>W<kt.length-1);return Dr&&(we.current=gs.current[(F=kt[J])==null?void 0:F.value],ne({alignment:an?"end":"start"})),J})},Di=()=>{Ri(io=>{var F;const J=Mn(io,W=>W-1,W=>W>0);return Dr&&(we.current=gs.current[(F=kt[J])==null?void 0:F.value],ne({alignment:an?"start":"end"})),J})};switch(rt.key){case"ArrowUp":{rt.preventDefault(),nr(!0),an?Di():yr();break}case"ArrowDown":{rt.preventDefault(),nr(!0),an?yr():Di();break}case"Enter":{rt.preventDefault(),kt[wn]&&Dr?Or(kt[wn]):nr(!0);break}case" ":{H||(rt.preventDefault(),kt[wn]&&Dr?Or(kt[wn]):nr(!0));break}case"Backspace":{ct.length>0&&Ki.length===0&&(Pt(ct.slice(0,-1)),nr(!0),Ae&&(Yt.current=!1));break}case"Home":{if(!H){rt.preventDefault(),Dr||nr(!0);const io=kt.findIndex(F=>!F.disabled);Ri(io),ne({alignment:an?"end":"start"})}break}case"End":{if(!H){rt.preventDefault(),Dr||nr(!0);const io=kt.map(F=>!!F.disabled).lastIndexOf(!1);Ri(io),ne({alignment:an?"end":"start"})}break}case"Escape":nr(!1)}},ba=ct.map(rt=>{let an=Ct.find(yr=>yr.value===rt&&!yr.disabled);return!an&&nt&&(an={value:rt,label:rt}),an}).filter(rt=>!!rt).map(rt=>P(v,{...Y7(Em({},rt),{variant:X,disabled:K,className:dn.value,readOnly:Ge,onRemove:an=>{an.preventDefault(),an.stopPropagation(),rr(rt.value)},key:rt.value,size:l,styles:d,classNames:c,radius:R})})),Qi=()=>{var rt;ys(""),Pt([]),(rt=ui.current)==null||rt.focus(),Ae&&(Yt.current=!1)};nt&&ke(Ki,Ct)&&(Ce=ve(Ki),kt.push({label:Ki,value:Ki,creatable:!0}));const $r=!Ge&&(kt.length>0?Dr:Dr&&!!M);return aa(()=>{const rt=$r?He:Je;typeof rt=="function"&&rt()},[$r]),P(la.Wrapper,{...Em(Em({required:s,id:ci,label:o,error:u,description:a,size:l,className:r,style:i,classNames:c,styles:d,__staticSelector:"MultiSelect",sx:it,errorProps:Rt,descriptionProps:On,labelProps:on,inputContainer:ze,inputWrapperOrder:gt,unstyled:mt,withAsterisk:ft},Bn),h),children:$e(fd,{opened:$r,transition:x,transitionDuration:$,shadow:"sm",withinPortal:Xe,__staticSelector:"MultiSelect",onDirectionChange:Ur,switchDirectionOnFlip:_n,zIndex:We,dropdownPosition:st,positionDependencies:Ie,classNames:c,styles:d,unstyled:mt,children:[P(fd.Target,{children:$e("div",{className:dn.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Dr&&$r?`${ci}-items`:null,"aria-controls":ci,"aria-expanded":Dr,onMouseLeave:()=>Ri(-1),tabIndex:-1,ref:ms,children:[P("input",{type:"hidden",name:Tt,value:ct.join(","),form:me,disabled:K}),P(la,{...Em({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:l,variant:X,disabled:K,invalid:!!u,required:s,radius:R,icon:Y,unstyled:mt,onMouseDown:rt=>{var an;rt.preventDefault(),!K&&!Yt.current&&nr(!Dr),(an=ui.current)==null||an.focus()},classNames:Y7(Em({},c),{input:Ft({[dn.input]:!H},c==null?void 0:c.input)})},rie({theme:hr,rightSection:fe,rightSectionWidth:he,styles:d,size:l,shouldClear:pe&&ct.length>0,clearButtonLabel:oe,onClear:Qi,error:u,disabled:K,clearButtonTabIndex:Kn,readOnly:Ge})),children:$e("div",{className:dn.values,children:[ba,P("input",{...Em({ref:sl(t,ui),type:"search",id:ci,className:Ft(dn.searchInput,{[dn.searchInputPointer]:!H,[dn.searchInputInputHidden]:!Dr&&ct.length>0||!H&&ct.length>0,[dn.searchInputEmpty]:ct.length===0}),onKeyDown:ei,value:Ki,onChange:Et,onFocus:Hn,onBlur:Yi,readOnly:!H||Yt.current||Ge,placeholder:ct.length===0?q:void 0,disabled:K,"data-mantine-stop-propagation":Dr,autoComplete:"off",onCompositionStart:()=>G(!0),onCompositionEnd:()=>G(!1)},hl)})]})})]})}),P(fd.Dropdown,{component:Ke||TC,maxHeight:I,direction:ro,id:ci,innerRef:_e,__staticSelector:"MultiSelect",classNames:c,styles:d,children:P(LF,{data:kt,hovered:wn,classNames:c,styles:d,uuid:ci,__staticSelector:"MultiSelect",onItemHover:Ri,onItemSelect:Or,itemsRefs:gs,itemComponent:b,size:l,nothingFound:M,creatable:ge&&!!Ce,createLabel:Ce,unstyled:mt})})]})})});oie.displayName="@mantine/core/MultiSelect";const w3e=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function X7({direction:e,size:t}){return P("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const aie={xs:20,sm:24,md:30,lg:34,xl:36};var b3e=wt((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:aie}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const S3e=b3e;var x3e=Object.defineProperty,E3e=Object.defineProperties,I3e=Object.getOwnPropertyDescriptors,KI=Object.getOwnPropertySymbols,lie=Object.prototype.hasOwnProperty,uie=Object.prototype.propertyIsEnumerable,J7=(e,t,n)=>t in e?x3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HA=(e,t)=>{for(var n in t||(t={}))lie.call(t,n)&&J7(e,n,t[n]);if(KI)for(var n of KI(t))uie.call(t,n)&&J7(e,n,t[n]);return e},O3e=(e,t)=>E3e(e,I3e(t)),$3e=(e,t)=>{var n={};for(var r in e)lie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KI)for(var r of KI(e))t.indexOf(r)<0&&uie.call(e,r)&&(n[r]=e[r]);return n};const C3e={type:"text",size:"sm",__staticSelector:"TextInput"},n3=O.forwardRef((e,t)=>{const n=sne("TextInput",C3e,e),{inputProps:r,wrapperProps:i}=n,s=$3e(n,["inputProps","wrapperProps"]);return P(la.Wrapper,{...HA({},i),children:P(la,{...O3e(HA(HA({},r),s),{ref:t})})})});n3.displayName="@mantine/core/TextInput";var P3e=Object.defineProperty,T3e=Object.defineProperties,k3e=Object.getOwnPropertyDescriptors,YI=Object.getOwnPropertySymbols,cie=Object.prototype.hasOwnProperty,fie=Object.prototype.propertyIsEnumerable,Z7=(e,t,n)=>t in e?P3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A3e=(e,t)=>{for(var n in t||(t={}))cie.call(t,n)&&Z7(e,n,t[n]);if(YI)for(var n of YI(t))fie.call(t,n)&&Z7(e,n,t[n]);return e},N3e=(e,t)=>T3e(e,k3e(t)),R3e=(e,t)=>{var n={};for(var r in e)cie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YI)for(var r of YI(e))t.indexOf(r)<0&&fie.call(e,r)&&(n[r]=e[r]);return n};const D3e=e=>e||"",M3e=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},eH={xs:10,sm:14,md:16,lg:18,xl:20},L3e={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:D3e,parser:M3e,type:"text"},die=O.forwardRef((e,t)=>{const n=$t("NumberInput",L3e,e),{disabled:r,value:i,onChange:s,decimalSeparator:o,min:a,max:l,startValue:u,step:c,stepHoldInterval:d,stepHoldDelay:h,onBlur:m,onFocus:g,onKeyDown:y,onKeyUp:_,hideControls:v,radius:b,variant:S,precision:x,removeTrailingZeros:$,defaultValue:E,noClampOnBlur:I,handlersRef:T,classNames:M,styles:U,size:z,rightSection:H,rightSectionWidth:q,formatter:B,parser:ue,inputMode:le,unstyled:pe,type:Z}=n,oe=R3e(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:X,cx:k,theme:A}=S3e({radius:b,size:z},{classNames:M,styles:U,unstyled:pe,name:"NumberInput"}),K=ze=>{if(ze===void 0)return;let gt=ze.toFixed(x);return $&&x>0&&(gt=gt.replace(new RegExp(`[0]{0,${x}}$`),""),(gt.endsWith(".")||gt.endsWith(o))&&(gt=gt.slice(0,-1))),gt},[D,R]=O.useState(!1),[Y,fe]=O.useState(typeof i=="number"?i:typeof E=="number"?E:void 0),he=typeof i=="number"?i:Y,[ge,ve]=O.useState(typeof he=="number"?K(he):""),ke=O.useRef(),ye=ze=>{ze!==Y&&!Number.isNaN(ze)&&(typeof s=="function"&&s(ze),fe(ze))},it=(ze="")=>{let gt=typeof ze=="number"?String(ze):ze;return o&&(gt=gt.replace(/\./g,o)),B(gt)},Ke=ze=>{let gt=ze;return o&&(gt=gt.replace(new RegExp(`\\${o}`,"g"),".")),ue(gt)},Je=typeof a=="number"?a:-1/0,He=typeof l=="number"?l:1/0,Ae=O.useRef();Ae.current=()=>{var ze,gt,Ge;if(Y===void 0)ye((ze=u??a)!=null?ze:0),ve((Ge=(gt=K(u))!=null?gt:K(a))!=null?Ge:"0");else{const ft=K(ud(Y+c,Je,He));ye(parseFloat(ft)),ve(ft)}};const Xe=O.useRef();Xe.current=()=>{var ze,gt,Ge;if(Y===void 0)ye((ze=u??a)!=null?ze:0),ve((Ge=(gt=K(u))!=null?gt:K(a))!=null?Ge:"0");else{const ft=K(ud(Y-c,Je,He));ye(parseFloat(ft)),ve(ft)}},iee(T,{increment:Ae.current,decrement:Xe.current}),O.useEffect(()=>{typeof i=="number"&&!D&&(fe(i),ve(K(i))),E===void 0&&i===void 0&&!D&&(fe(i),ve(""))},[i]);const _n=h!==void 0&&d!==void 0,We=O.useRef(null),Ve=O.useRef(0),Tt=()=>{We.current&&window.clearTimeout(We.current),We.current=null,Ve.current=0},st=ze=>{ze?Ae.current():Xe.current(),Ve.current+=1},Rt=ze=>{if(st(ze),_n){const gt=typeof d=="number"?d:d(Ve.current);We.current=window.setTimeout(()=>Rt(ze),gt)}},on=(ze,gt)=>{ze.preventDefault(),ke.current.focus(),st(gt),_n&&(We.current=window.setTimeout(()=>Rt(gt),h))};O.useEffect(()=>(Tt(),Tt),[]);const On=$e("div",{className:X.rightSection,children:[P("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:he>=l,className:k(X.control,X.controlUp),onPointerDown:ze=>{on(ze,!0)},onPointerUp:Tt,onPointerLeave:Tt,children:P(X7,{size:A.fn.size({size:z,sizes:eH}),direction:"up"})}),P("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:he<=a,className:k(X.control,X.controlDown),onPointerDown:ze=>{on(ze,!1)},onPointerUp:Tt,onPointerLeave:Tt,children:P(X7,{size:A.fn.size({size:z,sizes:eH}),direction:"down"})})]}),Kn=ze=>{if(ze.nativeEvent.isComposing)return;const Ge=ze.target.value,ft=Ke(Ge);ve(ft),Ge===""||Ge==="-"?ye(void 0):Ge.trim()!==""&&!Number.isNaN(ft)&&ye(parseFloat(ft))},me=ze=>{var gt;if(ze.target.value==="")ve(""),ye(void 0);else{let Ge=ze.target.value;(Ge[0]===`${o}`||Ge[0]===".")&&(Ge=`0${Ge}`);const ft=Ke(Ge),ur=ud(parseFloat(ft),Je,He);Number.isNaN(ur)?ve((gt=K(he))!=null?gt:""):I||(ve(K(ur)),ye(parseFloat(K(ur))))}R(!1),typeof m=="function"&&m(ze)},Ie=ze=>{R(!0),typeof g=="function"&&g(ze)},qe=ze=>{if(typeof y=="function"&&y(ze),ze.repeat&&_n&&(ze.key==="ArrowUp"||ze.key==="ArrowDown")){ze.preventDefault();return}ze.key==="ArrowUp"?on(ze,!0):ze.key==="ArrowDown"&&on(ze,!1)},mt=ze=>{typeof _=="function"&&_(ze),(ze.key==="ArrowUp"||ze.key==="ArrowDown")&&Tt()};return P(n3,{...N3e(A3e({},oe),{type:Z,variant:S,value:it(ge),disabled:r,ref:sl(ke,t),onChange:Kn,onBlur:me,onFocus:Ie,onKeyDown:qe,onKeyUp:mt,rightSection:H||(r||v||S==="unstyled"?null:On),rightSectionWidth:q||A.fn.size({size:z,sizes:aie})+1,radius:b,max:l,min:a,step:c,size:z,styles:U,classNames:M,inputMode:le||w3e(c,x,HCe()),__staticSelector:"NumberInput",unstyled:pe})})});die.displayName="@mantine/core/NumberInput";const tH={xs:3,sm:5,md:8,lg:12,xl:16},F3e=q$e({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var j3e=wt((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:tH}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${F3e} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:tH})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const B3e=j3e,hie=O.createContext(!1),z3e=hie.Provider,V3e=()=>O.useContext(hie);function pie({children:e,openDelay:t=0,closeDelay:n=0}){return P(z3e,{value:!0,children:P(dNe,{delay:{open:t,close:n},children:e})})}pie.displayName="@mantine/core/TooltipGroup";var U3e=Object.defineProperty,H3e=Object.defineProperties,W3e=Object.getOwnPropertyDescriptors,nH=Object.getOwnPropertySymbols,q3e=Object.prototype.hasOwnProperty,G3e=Object.prototype.propertyIsEnumerable,rH=(e,t,n)=>t in e?U3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iH=(e,t)=>{for(var n in t||(t={}))q3e.call(t,n)&&rH(e,n,t[n]);if(nH)for(var n of nH(t))G3e.call(t,n)&&rH(e,n,t[n]);return e},K3e=(e,t)=>H3e(e,W3e(t));function Y3e(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var Q3e=wt((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:K3e(iH(iH({},e.fn.fontStyles()),Y3e(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const mie=Q3e,gie={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function X3e({offset:e,position:t}){const[n,r]=O.useState(!1),i=O.useRef(),{x:s,y:o,reference:a,floating:l,refs:u,update:c,placement:d}=qF({placement:t,middleware:[UF({crossAxis:!0,padding:5,rootBoundary:"document"})]}),h=d.includes("right")?e:t.includes("left")?e*-1:0,m=d.includes("bottom")?e:t.includes("top")?e*-1:0,g=O.useCallback(({clientX:y,clientY:_})=>{a({getBoundingClientRect(){return{width:0,height:0,x:y,y:_,left:y+h,top:_+m,right:y,bottom:_}}})},[a]);return O.useEffect(()=>{if(u.floating.current){const y=i.current;y.addEventListener("mousemove",g);const _=Tc(u.floating.current);return _.forEach(v=>{v.addEventListener("scroll",c)}),()=>{y.removeEventListener("mousemove",g),_.forEach(v=>{v.removeEventListener("scroll",c)})}}},[a,u.floating,c,g,n]),{handleMouseMove:g,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:l}}var J3e=Object.defineProperty,Z3e=Object.defineProperties,eje=Object.getOwnPropertyDescriptors,QI=Object.getOwnPropertySymbols,yie=Object.prototype.hasOwnProperty,vie=Object.prototype.propertyIsEnumerable,sH=(e,t,n)=>t in e?J3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WA=(e,t)=>{for(var n in t||(t={}))yie.call(t,n)&&sH(e,n,t[n]);if(QI)for(var n of QI(t))vie.call(t,n)&&sH(e,n,t[n]);return e},qA=(e,t)=>Z3e(e,eje(t)),tje=(e,t)=>{var n={};for(var r in e)yie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QI)for(var r of QI(e))t.indexOf(r)<0&&vie.call(e,r)&&(n[r]=e[r]);return n};const nje={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:_a("popover")};function _ie(e){var t;const n=$t("TooltipFloating",nje,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:h,label:m,offset:g,position:y,multiline:_,width:v,zIndex:b,disabled:S}=n,x=tje(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:$,x:E,y:I,opened:T,boundaryRef:M,floating:U,setOpened:z}=X3e({offset:g,position:y}),{classes:H,cx:q}=mie({radius:d,color:h,multiline:_,width:v},{name:"Tooltip",classNames:l,styles:u,unstyled:c});if(!Vw(r))throw new Error(gie.children);const B=sl(M,r.ref),ue=pe=>{var Z,oe;(oe=(Z=r.props).onMouseEnter)==null||oe.call(Z,pe),$(pe),z(!0)},le=pe=>{var Z,oe;(oe=(Z=r.props).onMouseLeave)==null||oe.call(Z,pe),z(!1)};return S?P(Zn,{children:r}):$e(Zn,{children:[P(Gw,{withinPortal:s,children:P(xt,{...qA(WA({},x),{ref:U,className:q(H.tooltip,a),style:qA(WA({},o),{zIndex:b,display:T?"block":"none",top:I??"",left:(t=Math.round(E))!=null?t:""})}),children:m})}),O.cloneElement(r,qA(WA({},r.props),{[i]:B,onMouseEnter:ue,onMouseLeave:le}))]})}_ie.displayName="@mantine/core/TooltipFloating";function rje(e){const[t,n]=O.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=V3e(),o=nf(),{delay:a,currentId:l,setCurrentId:u}=jte(),c=O.useCallback(T=>{n(T),T&&u(o)},[u,o]),{x:d,y:h,reference:m,floating:g,context:y,refs:_,update:v,placement:b,middlewareData:{arrow:{x:S,y:x}={}}}=qF({placement:e.position,open:i,onOpenChange:c,middleware:[$te(e.offset),UF({padding:8}),Ote(),Dte({element:e.arrowRef}),...e.inline?[Pte()]:[]]}),{getReferenceProps:$,getFloatingProps:E}=lNe([fNe(y,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),vNe(y,{enabled:e.events.focus,keyboardOnly:!0}),pNe(y,{role:"tooltip"}),yNe(y,{enabled:typeof e.opened===void 0}),hNe(y,{id:o})]);return Bte({opened:i,positionDependencies:e.positionDependencies,floating:{refs:_,update:v}}),aa(()=>{var T;(T=e.onPositionChange)==null||T.call(e,b)},[b]),{x:d,y:h,arrowX:S,arrowY:x,reference:m,floating:g,getFloatingProps:E,getReferenceProps:$,isGroupPhase:i&&l&&l!==o,opened:i,placement:b}}var ije=Object.defineProperty,sje=Object.defineProperties,oje=Object.getOwnPropertyDescriptors,XI=Object.getOwnPropertySymbols,wie=Object.prototype.hasOwnProperty,bie=Object.prototype.propertyIsEnumerable,oH=(e,t,n)=>t in e?ije(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gv=(e,t)=>{for(var n in t||(t={}))wie.call(t,n)&&oH(e,n,t[n]);if(XI)for(var n of XI(t))bie.call(t,n)&&oH(e,n,t[n]);return e},aje=(e,t)=>sje(e,oje(t)),lje=(e,t)=>{var n={};for(var r in e)wie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XI)for(var r of XI(e))t.indexOf(r)<0&&bie.call(e,r)&&(n[r]=e[r]);return n};const uje={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:_a("popover"),positionDependencies:[]},DC=O.forwardRef((e,t)=>{const n=O.useRef(null),r=$t("Tooltip",uje,e),{children:i,position:s,refProp:o,label:a,openDelay:l,closeDelay:u,onPositionChange:c,opened:d,withinPortal:h,radius:m,color:g,classNames:y,styles:_,unstyled:v,style:b,className:S,withArrow:x,arrowSize:$,arrowOffset:E,arrowRadius:I,offset:T,transition:M,transitionDuration:U,multiline:z,width:H,events:q,zIndex:B,disabled:ue,positionDependencies:le,onClick:pe,onMouseEnter:Z,onMouseLeave:oe,inline:X}=r,k=lje(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:A,cx:K,theme:D}=mie({radius:m,color:g,width:H,multiline:z},{name:"Tooltip",classNames:y,styles:_,unstyled:v}),R=rje({position:ene(D.dir,s),closeDelay:u,openDelay:l,onPositionChange:c,opened:d,events:q,arrowRef:n,offset:T+(x?$/2:0),positionDependencies:[...le,i],inline:X});if(!Vw(i))throw new Error(gie.children);const Y=sl(R.reference,i.ref,t);return $e(Zn,{children:[P(Gw,{withinPortal:h,children:P(NC,{mounted:!ue&&R.opened,transition:M,duration:R.isGroupPhase?10:U,children:fe=>{var he,ge;return $e(xt,{...Gv(Gv({},k),R.getFloatingProps({ref:R.floating,className:A.tooltip,style:aje(Gv(Gv({},b),fe),{zIndex:B,top:(he=R.y)!=null?he:0,left:(ge=R.x)!=null?ge:0})})),children:[a,P(GF,{ref:n,arrowX:R.arrowX,arrowY:R.arrowY,visible:x,withBorder:!1,position:R.placement,arrowSize:$,arrowOffset:E,arrowRadius:I,className:A.arrow})]})}})}),O.cloneElement(i,R.getReferenceProps(Gv({onClick:pe,onMouseEnter:Z,onMouseLeave:oe,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:Y,className:K(S,i.props.className)},i.props)))]})});DC.Group=pie;DC.Floating=_ie;DC.displayName="@mantine/core/Tooltip";const Sie=DC;var cje=Object.defineProperty,fje=Object.defineProperties,dje=Object.getOwnPropertyDescriptors,JI=Object.getOwnPropertySymbols,xie=Object.prototype.hasOwnProperty,Eie=Object.prototype.propertyIsEnumerable,aH=(e,t,n)=>t in e?cje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y2=(e,t)=>{for(var n in t||(t={}))xie.call(t,n)&&aH(e,n,t[n]);if(JI)for(var n of JI(t))Eie.call(t,n)&&aH(e,n,t[n]);return e},Iie=(e,t)=>fje(e,dje(t)),lH=(e,t)=>{var n={};for(var r in e)xie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JI)for(var r of JI(e))t.indexOf(r)<0&&Eie.call(e,r)&&(n[r]=e[r]);return n};function hje(e){return e.reduce((t,n)=>(t.sections.push(Iie(Y2({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const pje={size:"md",radius:"sm",striped:!1,animate:!1,label:""},Oie=O.forwardRef((e,t)=>{const n=$t("Progress",pje,e),{className:r,value:i,color:s,size:o,radius:a,striped:l,animate:u,label:c,"aria-label":d,classNames:h,styles:m,sections:g,unstyled:y}=n,_=lH(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:v,cx:b,theme:S}=B3e({color:s,size:o,radius:a,striped:l||u,animate:u},{classNames:h,styles:m,unstyled:y,name:"Progress"}),x=Array.isArray(g)?hje(g).map(($,E)=>{var I=$,{tooltip:T,accumulated:M,value:U,label:z,color:H}=I,q=lH(I,["tooltip","accumulated","value","label","color"]);return P(Sie.Floating,{label:T,disabled:!T,children:P(xt,{...Iie(Y2({},q),{className:b(v.bar,q.className),sx:{width:`${U}%`,left:`${M}%`,backgroundColor:S.fn.variant({variant:"filled",primaryFallback:!1,color:H||S.primaryColor}).background}}),children:z&&P(Bt,{className:v.label,children:z})})},E)}):null;return P(xt,{...Y2({className:b(v.root,r),ref:t},_),children:x||P("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":d,className:v.bar,style:{width:`${i}%`},children:c?P(Bt,{className:v.label,children:c}):""})})});Oie.displayName="@mantine/core/Progress";var mje=Object.defineProperty,uH=Object.getOwnPropertySymbols,gje=Object.prototype.hasOwnProperty,yje=Object.prototype.propertyIsEnumerable,cH=(e,t,n)=>t in e?mje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vje=(e,t)=>{for(var n in t||(t={}))gje.call(t,n)&&cH(e,n,t[n]);if(uH)for(var n of uH(t))yje.call(t,n)&&cH(e,n,t[n]);return e};function _je(e){return P("svg",{...vje({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),children:P("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"})})}const $ie=O.createContext(null),wje=$ie.Provider,bje=()=>O.useContext($ie);var Sje=Object.defineProperty,ZI=Object.getOwnPropertySymbols,Cie=Object.prototype.hasOwnProperty,Pie=Object.prototype.propertyIsEnumerable,fH=(e,t,n)=>t in e?Sje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dH=(e,t)=>{for(var n in t||(t={}))Cie.call(t,n)&&fH(e,n,t[n]);if(ZI)for(var n of ZI(t))Pie.call(t,n)&&fH(e,n,t[n]);return e},xje=(e,t)=>{var n={};for(var r in e)Cie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZI)for(var r of ZI(e))t.indexOf(r)<0&&Pie.call(e,r)&&(n[r]=e[r]);return n};const Eje={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},Tie=O.forwardRef((e,t)=>{const n=$t("RadioGroup",Eje,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:l,size:u,wrapperProps:c,unstyled:d,offset:h,name:m}=n,g=xje(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[y,_]=Vl({value:i,defaultValue:s,finalValue:"",onChange:o});return P(wje,{value:{value:y,onChange:b=>_(b.currentTarget.value),size:u,name:m},children:P(la.Wrapper,{...dH(dH({labelElement:"div",size:u,__staticSelector:"RadioGroup",ref:t,unstyled:d},c),g),children:P(Hne,{spacing:l,orientation:a,unstyled:d,role:"radiogroup",offset:h,children:r})})})});Tie.displayName="@mantine/core/RadioGroup";var Ije=Object.defineProperty,Oje=Object.defineProperties,$je=Object.getOwnPropertyDescriptors,hH=Object.getOwnPropertySymbols,Cje=Object.prototype.hasOwnProperty,Pje=Object.prototype.propertyIsEnumerable,pH=(e,t,n)=>t in e?Ije(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tje=(e,t)=>{for(var n in t||(t={}))Cje.call(t,n)&&pH(e,n,t[n]);if(hH)for(var n of hH(t))Pje.call(t,n)&&pH(e,n,t[n]);return e},kje=(e,t)=>Oje(e,$je(t));const GA={xs:16,sm:20,md:24,lg:30,xl:36},vS={xs:6,sm:8,md:10,lg:14,xl:16};var Aje=wt((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),l=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:vS,size:t}),height:e.fn.size({sizes:vS,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:vS,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:vS,size:t})/2}px)`},radio:kje(Tje({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?l:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:GA,size:t}),height:e.fn.size({sizes:GA,size:t}),borderRadius:e.fn.size({sizes:GA,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const Nje=Aje;var Rje=Object.defineProperty,eO=Object.getOwnPropertySymbols,kie=Object.prototype.hasOwnProperty,Aie=Object.prototype.propertyIsEnumerable,mH=(e,t,n)=>t in e?Rje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_S=(e,t)=>{for(var n in t||(t={}))kie.call(t,n)&&mH(e,n,t[n]);if(eO)for(var n of eO(t))Aie.call(t,n)&&mH(e,n,t[n]);return e},Dje=(e,t)=>{var n={};for(var r in e)kie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eO)for(var r of eO(e))t.indexOf(r)<0&&Aie.call(e,r)&&(n[r]=e[r]);return n};const Mje={icon:_je,transitionDuration:100,size:"sm",labelPosition:"right"},tO=O.forwardRef((e,t)=>{var n,r;const i=$t("Radio",Mje,e),{className:s,style:o,id:a,label:l,size:u,title:c,disabled:d,color:h,classNames:m,styles:g,sx:y,icon:_,transitionDuration:v,wrapperProps:b,unstyled:S,labelPosition:x,description:$,error:E}=i,I=Dje(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),T=bje(),M=(n=T==null?void 0:T.size)!=null?n:u,U=e.size?u:M,{classes:z}=Nje({color:h,size:U,transitionDuration:v,labelPosition:x,error:!!E},{classNames:m,styles:g,unstyled:S,name:"Radio"}),{systemStyles:H,rest:q}=Hp(I),B=nf(a),ue=T?{checked:T.value===q.value,name:(r=q.name)!=null?r:T.name,onChange:T.onChange}:{};return P(ZF,{..._S(_S({className:s,sx:y,style:o,id:B,size:U,labelPosition:x,label:l,description:$,error:E,disabled:d,__staticSelector:"Radio",classNames:m,styles:g,unstyled:S,"data-checked":ue.checked||void 0},H),b),children:$e("div",{className:z.inner,children:[P("input",{..._S(_S({ref:t,className:z.radio,type:"radio",id:B,disabled:d},q),ue)}),P(_,{className:z.icon,"aria-hidden":!0})]})})});tO.displayName="@mantine/core/Radio";tO.Group=Tie;var Lje=Object.defineProperty,Fje=Object.defineProperties,jje=Object.getOwnPropertyDescriptors,gH=Object.getOwnPropertySymbols,Bje=Object.prototype.hasOwnProperty,zje=Object.prototype.propertyIsEnumerable,yH=(e,t,n)=>t in e?Lje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wS=(e,t)=>{for(var n in t||(t={}))Bje.call(t,n)&&yH(e,n,t[n]);if(gH)for(var n of gH(t))zje.call(t,n)&&yH(e,n,t[n]);return e},Vje=(e,t)=>Fje(e,jje(t));const Ex=4,vH={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var Uje=wt((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:l},u)=>{const c=l==="vertical",d=e.fn.variant({variant:"filled",color:n});return{label:Vje(wS(wS({ref:u("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:vH[a in vH?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:u("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${u("label")}`]:wS({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${u("label")}`]:wS({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:Ex},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${u("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?d.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?d.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const Hje=Uje;var Wje=Object.defineProperty,nO=Object.getOwnPropertySymbols,Nie=Object.prototype.hasOwnProperty,Rie=Object.prototype.propertyIsEnumerable,_H=(e,t,n)=>t in e?Wje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qje=(e,t)=>{for(var n in t||(t={}))Nie.call(t,n)&&_H(e,n,t[n]);if(nO)for(var n of nO(t))Rie.call(t,n)&&_H(e,n,t[n]);return e},Gje=(e,t)=>{var n={};for(var r in e)Nie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nO)for(var r of nO(e))t.indexOf(r)<0&&Rie.call(e,r)&&(n[r]=e[r]);return n};const Kje={disabled:!1,size:"sm",transitionDuration:200},Die=O.forwardRef((e,t)=>{var n,r,i,s;const o=$t("SegmentedControl",Kje,e),{className:a,disabled:l,data:u,name:c,value:d,onChange:h,color:m,fullWidth:g,radius:y,size:_,transitionDuration:v,transitionTimingFunction:b,classNames:S,styles:x,defaultValue:$,orientation:E,unstyled:I}=o,T=Gje(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),M=Ls(),U=AF(),z=M.respectReducedMotion?U:!1,H=u.map(he=>typeof he=="string"?{label:he,value:he}:he),q=O.useRef(),[B,ue]=O.useState(!1),[le,pe]=Vl({value:d,defaultValue:$,finalValue:Array.isArray(H)&&(s=(i=(n=H.find(he=>!he.disabled))==null?void 0:n.value)!=null?i:(r=H[0])==null?void 0:r.value)!=null?s:null,onChange:h}),{classes:Z,cx:oe}=Hje({size:_,fullWidth:g,color:m,radius:y,shouldAnimate:z||!B,transitionDuration:v,transitionTimingFunction:b,orientation:E},{classNames:S,styles:x,unstyled:I,name:"SegmentedControl"}),[X,k]=O.useState({width:0,height:0,translate:[0,0]}),A=nf(c),K=O.useRef({}),[D,R]=G0();kF(()=>{q.current?ue(!0):(q.current=!0,ue(!1))}),O.useEffect(()=>{if(le in K.current&&D.current){const he=K.current[le],ge=he.getBoundingClientRect(),ve=he.offsetWidth/ge.width,ke=ge.width*ve||0,ye=ge.height*ve||0,it=R.width-he.parentElement.offsetLeft+Ex-ke,Ke=he.parentElement.offsetLeft-Ex;k({width:ke,height:ye,translate:[M.dir==="rtl"?it:Ke,he.parentElement.offsetTop-Ex]})}},[le,R]);const Y=H.map(he=>$e("div",{className:oe(Z.control,{[Z.controlActive]:le===he.value}),children:[P("input",{className:Z.input,disabled:l||he.disabled,type:"radio",name:A,value:he.value,id:`${A}-${he.value}`,checked:le===he.value,onChange:()=>pe(he.value)}),P("label",{className:oe(Z.label,{[Z.labelActive]:le===he.value,[Z.disabled]:l||he.disabled}),htmlFor:`${A}-${he.value}`,ref:ge=>{K.current[he.value]=ge},children:he.label})]},he.value)),fe=sl(D,t);return H.length===0?null:$e(xt,{...qje({className:oe(Z.root,a),ref:fe},T),children:[typeof le=="string"&&B&&P(xt,{component:"span",className:Z.active,sx:{width:X.width,height:X.height,transform:`translate(${X.translate[0]}px, ${X.translate[1]}px )`}}),Y]})});Die.displayName="@mantine/core/SegmentedControl";function Yje({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(u=>u.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r)return e;const l=[];for(let u=0;u<e.length&&(i(r,e[u])&&l.push(e[u]),!(l.length>=n));u+=1);return l}var Qje=wt(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const Xje=Qje;var Jje=Object.defineProperty,Zje=Object.defineProperties,e6e=Object.getOwnPropertyDescriptors,rO=Object.getOwnPropertySymbols,Mie=Object.prototype.hasOwnProperty,Lie=Object.prototype.propertyIsEnumerable,wH=(e,t,n)=>t in e?Jje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kv=(e,t)=>{for(var n in t||(t={}))Mie.call(t,n)&&wH(e,n,t[n]);if(rO)for(var n of rO(t))Lie.call(t,n)&&wH(e,n,t[n]);return e},KA=(e,t)=>Zje(e,e6e(t)),t6e=(e,t)=>{var n={};for(var r in e)Mie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rO)for(var r of rO(e))t.indexOf(r)<0&&Lie.call(e,r)&&(n[r]=e[r]);return n};function n6e(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function r6e(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const i6e={required:!1,size:"sm",shadow:"sm",itemComponent:FF,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:n6e,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:r6e,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:_a("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},Fie=O.forwardRef((e,t)=>{const n=sne("Select",i6e,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:l,onChange:u,itemComponent:c,onKeyDown:d,onBlur:h,onFocus:m,transition:g,transitionDuration:y,initiallyOpened:_,transitionTimingFunction:v,unstyled:b,classNames:S,styles:x,filter:$,maxDropdownHeight:E,searchable:I,clearable:T,nothingFound:M,clearButtonLabel:U,limit:z,disabled:H,onSearchChange:q,searchValue:B,rightSection:ue,rightSectionWidth:le,creatable:pe,getCreateLabel:Z,shouldCreate:oe,selectOnBlur:X,onCreate:k,dropdownComponent:A,onDropdownClose:K,onDropdownOpen:D,withinPortal:R,switchDirectionOnFlip:Y,zIndex:fe,name:he,dropdownPosition:ge,allowDeselect:ve,placeholder:ke,filterDataOnExactSearchMatch:ye,clearButtonTabIndex:it,form:Ke,positionDependencies:Je,readOnly:He}=n,Ae=t6e(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:Xe,cx:_n,theme:We}=Xje(),[Ve,Tt]=O.useState(_),[st,Rt]=O.useState(-1),on=O.useRef(),On=O.useRef({}),[Kn,me]=O.useState("column"),Ie=Kn==="column",{scrollIntoView:qe,targetRef:mt,scrollableRef:ze}=oee({duration:0,offset:5,cancelable:!1,isList:!0}),gt=ve===void 0?T:ve,Ge=Ce=>{if(Ve!==Ce){Tt(Ce);const et=Ce?D:K;typeof et=="function"&&et()}},ft=pe&&typeof Z=="function";let ur=null;const dn=o.map(Ce=>typeof Ce=="string"?{label:Ce,value:Ce}:Ce),Ft=EZ({data:dn}),[hr,Bn,hl]=Vl({value:a,defaultValue:l,finalValue:null,onChange:u}),ui=Ft.find(Ce=>Ce.value===hr),[ms,gs]=Vl({value:B,defaultValue:(ui==null?void 0:ui.label)||"",finalValue:void 0,onChange:q}),ci=Ce=>{gs(Ce),I&&typeof q=="function"&&q(Ce)},Dr=()=>{var Ce;He||(Bn(null),hl||ci(""),(Ce=on.current)==null||Ce.focus())};O.useEffect(()=>{const Ce=Ft.find(et=>et.value===hr);Ce?ci(Ce.label):(!ft||!hr)&&ci("")},[hr]),O.useEffect(()=>{ui&&(!I||!Ve)&&ci(ui.label)},[ui==null?void 0:ui.label]);const nr=Ce=>{if(!He)if(gt&&(ui==null?void 0:ui.value)===Ce.value)Bn(null),Ge(!1);else{if(Ce.creatable&&typeof k=="function"){const et=k(Ce.value);typeof et<"u"&&et!==null&&Bn(typeof et=="string"?et:et.value)}else Bn(Ce.value);hl||ci(Ce.label),Rt(-1),Ge(!1),on.current.focus()}},wn=Yje({data:Ft,searchable:I,limit:z,searchValue:ms,filter:$,filterDataOnExactSearchMatch:ye,value:hr});ft&&oe(ms,wn)&&(ur=Z(ms),wn.push({label:ms,value:ms,creatable:!0}));const Ri=(Ce,et,Ct)=>{let ct=Ce;for(;Ct(ct);)if(ct=et(ct),!wn[ct].disabled)return ct;return Ce};aa(()=>{Rt(-1)},[ms]);const ro=hr?wn.findIndex(Ce=>Ce.value===hr):0,Ur=!He&&(wn.length>0?Ve:Ve&&!!M),Ki=()=>{Rt(Ce=>{var et;const Ct=Ri(Ce,ct=>ct-1,ct=>ct>0);return mt.current=On.current[(et=wn[Ct])==null?void 0:et.value],Ur&&qe({alignment:Ie?"start":"end"}),Ct})},ys=()=>{Rt(Ce=>{var et;const Ct=Ri(Ce,ct=>ct+1,ct=>ct<wn.length-1);return mt.current=On.current[(et=wn[Ct])==null?void 0:et.value],Ur&&qe({alignment:Ie?"end":"start"}),Ct})},ee=()=>window.setTimeout(()=>{var Ce;mt.current=On.current[(Ce=wn[ro])==null?void 0:Ce.value],qe({alignment:Ie?"end":"start"})},0);aa(()=>{Ur&&ee()},[Ur]);const G=Ce=>{switch(typeof d=="function"&&d(Ce),Ce.key){case"ArrowUp":{Ce.preventDefault(),Ve?Ie?Ki():ys():(Rt(ro),Ge(!0),ee());break}case"ArrowDown":{Ce.preventDefault(),Ve?Ie?ys():Ki():(Rt(ro),Ge(!0),ee());break}case"Home":{if(!I){Ce.preventDefault(),Ve||Ge(!0);const et=wn.findIndex(Ct=>!Ct.disabled);Rt(et),Ur&&qe({alignment:Ie?"end":"start"})}break}case"End":{if(!I){Ce.preventDefault(),Ve||Ge(!0);const et=wn.map(Ct=>!!Ct.disabled).lastIndexOf(!1);Rt(et),Ur&&qe({alignment:Ie?"end":"start"})}break}case"Escape":{Ce.preventDefault(),Ge(!1),Rt(-1);break}case" ":{I||(Ce.preventDefault(),wn[st]&&Ve?nr(wn[st]):(Ge(!0),Rt(ro),ee()));break}case"Enter":I||Ce.preventDefault(),wn[st]&&Ve&&(Ce.preventDefault(),nr(wn[st]))}},ne=Ce=>{typeof h=="function"&&h(Ce);const et=Ft.find(Ct=>Ct.value===hr);X&&wn[st]&&Ve&&nr(wn[st]),ci((et==null?void 0:et.label)||""),Ge(!1)},we=Ce=>{typeof m=="function"&&m(Ce),I&&Ge(!0)},_e=Ce=>{He||(ci(Ce.currentTarget.value),T&&Ce.currentTarget.value===""&&Bn(null),Rt(-1),Ge(!0))},nt=()=>{He||(Ge(!Ve),hr&&!Ve&&Rt(ro))};return P(la.Wrapper,{...KA(Kv({},i),{__staticSelector:"Select"}),children:$e(fd,{opened:Ur,transition:g,transitionDuration:y,shadow:"sm",withinPortal:R,__staticSelector:"Select",onDirectionChange:me,switchDirectionOnFlip:Y,zIndex:fe,dropdownPosition:ge,positionDependencies:Je,classNames:S,styles:x,unstyled:b,children:[P(fd.Target,{children:$e("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Ur?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Ur,onMouseLeave:()=>Rt(-1),tabIndex:-1,children:[P("input",{type:"hidden",name:he,value:hr||"",form:Ke,disabled:H}),P(la,{...Kv(KA(Kv(Kv({autoComplete:"off",type:"search"},r),Ae),{ref:sl(t,on),onKeyDown:G,__staticSelector:"Select",value:ms,placeholder:ke,onChange:_e,"aria-autocomplete":"list","aria-controls":Ur?`${r.id}-items`:null,"aria-activedescendant":st>=0?`${r.id}-${st}`:null,onMouseDown:nt,onBlur:ne,onFocus:we,readOnly:!I||He,disabled:H,"data-mantine-stop-propagation":Ur,name:null,classNames:KA(Kv({},S),{input:_n({[Xe.input]:!I},S==null?void 0:S.input)})}),rie({theme:We,rightSection:ue,rightSectionWidth:le,styles:x,size:r.size,shouldClear:T&&!!ui,clearButtonLabel:U,onClear:Dr,error:i.error,clearButtonTabIndex:it,disabled:H,readOnly:He}))})]})}),P(fd.Dropdown,{component:A||TC,maxHeight:E,direction:Kn,id:r.id,innerRef:ze,__staticSelector:"Select",classNames:S,styles:x,children:P(LF,{data:wn,hovered:st,classNames:S,styles:x,isItemSelected:Ce=>Ce===hr,uuid:r.id,__staticSelector:"Select",onItemHover:Rt,onItemSelect:nr,itemsRefs:On,itemComponent:c,size:r.size,nothingFound:M,creatable:ft&&!!ur,createLabel:ur,"aria-label":i.label,unstyled:b})})]})})});Fie.displayName="@mantine/core/Select";function iO({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function Q2({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return s!==void 0?Number(u.toFixed(s)):u}var s6e=Object.defineProperty,o6e=Object.defineProperties,a6e=Object.getOwnPropertyDescriptors,bH=Object.getOwnPropertySymbols,l6e=Object.prototype.hasOwnProperty,u6e=Object.prototype.propertyIsEnumerable,SH=(e,t,n)=>t in e?s6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c6e=(e,t)=>{for(var n in t||(t={}))l6e.call(t,n)&&SH(e,n,t[n]);if(bH)for(var n of bH(t))u6e.call(t,n)&&SH(e,n,t[n]);return e},f6e=(e,t)=>o6e(e,a6e(t));const xo={xs:4,sm:6,md:8,lg:10,xl:12};var d6e=wt((e,{size:t,disabled:n})=>({root:f6e(c6e({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:xo,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const h6e=d6e;var p6e=Object.defineProperty,m6e=Object.defineProperties,g6e=Object.getOwnPropertyDescriptors,xH=Object.getOwnPropertySymbols,y6e=Object.prototype.hasOwnProperty,v6e=Object.prototype.propertyIsEnumerable,EH=(e,t,n)=>t in e?p6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_6e=(e,t)=>{for(var n in t||(t={}))y6e.call(t,n)&&EH(e,n,t[n]);if(xH)for(var n of xH(t))v6e.call(t,n)&&EH(e,n,t[n]);return e},w6e=(e,t)=>m6e(e,g6e(t)),b6e=wt((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:w6e(_6e({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:xo,size:n})*2,width:i||e.fn.size({sizes:xo,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const S6e=b6e,sO=O.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:l,styles:u,size:c,labelTransition:d,labelTransitionDuration:h,labelTransitionTimingFunction:m,labelAlwaysOn:g,thumbLabel:y,onFocus:_,onBlur:v,showLabelOnHover:b,children:S=null,disabled:x,unstyled:$,thumbSize:E},I)=>{const{classes:T,cx:M,theme:U}=S6e({color:a,size:c,disabled:x,thumbSize:E},{classNames:l,styles:u,unstyled:$,name:"Slider"}),[z,H]=O.useState(!1),q=g||s||z||b;return $e(xt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:I,className:M(T.thumb,{[T.dragging]:s}),onFocus:()=>{H(!0),typeof _=="function"&&_()},onBlur:()=>{H(!1),typeof v=="function"&&v()},onTouchStart:o,onMouseDown:o,onClick:B=>B.stopPropagation(),style:{[U.dir==="rtl"?"right":"left"]:`${r}%`},children:[S,P(NC,{mounted:i!=null&&q,duration:h,transition:d,timingFunction:m||U.transitionTimingFunction,children:B=>P("div",{style:B,className:T.label,children:i})})]})});sO.displayName="@mantine/core/SliderThumb";function x6e({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var E6e=wt((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:xo})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:xo,size:t}),width:e.fn.size({sizes:xo,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:xo,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const I6e=E6e;function jie({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:l,onChange:u,disabled:c,unstyled:d,inverted:h}){const{classes:m,cx:g}=I6e({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:d,name:"Slider"}),y=e.map((_,v)=>$e(xt,{className:m.markWrapper,sx:{left:`${iO({value:_.value,min:r,max:i})}%`},children:[P("div",{className:g(m.mark,{[m.markFilled]:x6e({mark:_,value:s,offset:l,inverted:h})})}),_.label&&P("div",{className:m.markLabel,onMouseDown:b=>{b.stopPropagation(),u(_.value)},onTouchStart:b=>{b.stopPropagation(),u(_.value)},children:_.label})]},v));return P("div",{children:y})}jie.displayName="@mantine/core/SliderMarks";var O6e=wt((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:xo,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:xo}),marginLeft:e.fn.size({size:n,sizes:xo}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:xo}),left:-e.fn.size({size:n,sizes:xo}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const $6e=O6e;var C6e=Object.defineProperty,P6e=Object.defineProperties,T6e=Object.getOwnPropertyDescriptors,oO=Object.getOwnPropertySymbols,Bie=Object.prototype.hasOwnProperty,zie=Object.prototype.propertyIsEnumerable,IH=(e,t,n)=>t in e?C6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k6e=(e,t)=>{for(var n in t||(t={}))Bie.call(t,n)&&IH(e,n,t[n]);if(oO)for(var n of oO(t))zie.call(t,n)&&IH(e,n,t[n]);return e},A6e=(e,t)=>P6e(e,T6e(t)),N6e=(e,t)=>{var n={};for(var r in e)Bie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oO)for(var r of oO(e))t.indexOf(r)<0&&zie.call(e,r)&&(n[r]=e[r]);return n};function r3(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:l,offset:u,onMouseLeave:c,onMouseEnter:d,disabled:h,marksOffset:m,unstyled:g,inverted:y}=t,_=N6e(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:v}=$6e({color:i,size:r,radius:a,disabled:h,inverted:y},{classNames:s,styles:o,unstyled:g,name:"Slider"});return $e("div",{className:v.track,onMouseLeave:c,onMouseEnter:d,children:[P(xt,{className:v.bar,sx:b=>({left:`calc(${u}% - ${b.fn.size({size:r,sizes:xo})}px)`,width:`calc(${n}% + ${b.fn.size({size:r,sizes:xo})}px)`})}),l,P(jie,{...A6e(k6e({},_),{size:r,color:i,offset:m,classNames:s,styles:o,disabled:h,unstyled:g,inverted:y})})]})}r3.displayName="@mantine/core/SliderTrack";var R6e=Object.defineProperty,D6e=Object.defineProperties,M6e=Object.getOwnPropertyDescriptors,aO=Object.getOwnPropertySymbols,Vie=Object.prototype.hasOwnProperty,Uie=Object.prototype.propertyIsEnumerable,OH=(e,t,n)=>t in e?R6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L6e=(e,t)=>{for(var n in t||(t={}))Vie.call(t,n)&&OH(e,n,t[n]);if(aO)for(var n of aO(t))Uie.call(t,n)&&OH(e,n,t[n]);return e},F6e=(e,t)=>D6e(e,M6e(t)),j6e=(e,t)=>{var n={};for(var r in e)Vie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aO)for(var r of aO(e))t.indexOf(r)<0&&Uie.call(e,r)&&(n[r]=e[r]);return n};const i3=O.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:l}=n,u=j6e(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:d}=h6e({size:i,disabled:a},{classNames:s,styles:o,unstyled:l,name:"Slider"});return P(xt,{...F6e(L6e({},u),{tabIndex:-1,className:d(c.root,r),ref:t})})});i3.displayName="@mantine/core/SliderRoot";var B6e=Object.defineProperty,z6e=Object.defineProperties,V6e=Object.getOwnPropertyDescriptors,lO=Object.getOwnPropertySymbols,Hie=Object.prototype.hasOwnProperty,Wie=Object.prototype.propertyIsEnumerable,$H=(e,t,n)=>t in e?B6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U6e=(e,t)=>{for(var n in t||(t={}))Hie.call(t,n)&&$H(e,n,t[n]);if(lO)for(var n of lO(t))Wie.call(t,n)&&$H(e,n,t[n]);return e},H6e=(e,t)=>z6e(e,V6e(t)),W6e=(e,t)=>{var n={};for(var r in e)Hie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lO)for(var r of lO(e))t.indexOf(r)<0&&Wie.call(e,r)&&(n[r]=e[r]);return n};const q6e={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},s3=O.forwardRef((e,t)=>{const n=$t("Slider",q6e,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:l,size:u,radius:c,min:d,max:h,step:m,precision:g,defaultValue:y,name:_,marks:v,label:b,labelTransition:S,labelTransitionDuration:x,labelTransitionTimingFunction:$,labelAlwaysOn:E,thumbLabel:I,showLabelOnHover:T,thumbChildren:M,disabled:U,unstyled:z,thumbSize:H,scale:q,inverted:B}=n,ue=W6e(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),le=Ls(),[pe,Z]=O.useState(!1),[oe,X]=Vl({value:typeof o=="number"?ud(o,d,h):o,defaultValue:typeof y=="number"?ud(y,d,h):y,finalValue:ud(0,d,h),onChange:a}),k=O.useRef(oe),A=O.useRef(),K=iO({value:oe,min:d,max:h}),D=q(oe),R=typeof b=="function"?b(D):b,Y=O.useCallback(({x:ke})=>{if(!U){const ye=Q2({value:ke,min:d,max:h,step:m,precision:g});X(ye),k.current=ye}},[U,d,h,m,g]),{ref:fe,active:he}=see(Y,{onScrubEnd:()=>l==null?void 0:l(k.current)},le.dir),ge=ke=>{ke.stopPropagation()},ve=ke=>{if(!U)switch(ke.key){case"ArrowUp":{ke.preventDefault(),A.current.focus();const ye=Math.min(Math.max(oe+m,d),h);l==null||l(ye),X(ye);break}case"ArrowRight":{ke.preventDefault(),A.current.focus();const ye=Math.min(Math.max(le.dir==="rtl"?oe-m:oe+m,d),h);l==null||l(ye),X(ye);break}case"ArrowDown":{ke.preventDefault(),A.current.focus();const ye=Math.min(Math.max(oe-m,d),h);l==null||l(ye),X(ye);break}case"ArrowLeft":{ke.preventDefault(),A.current.focus();const ye=Math.min(Math.max(le.dir==="rtl"?oe+m:oe-m,d),h);l==null||l(ye),X(ye);break}case"Home":{ke.preventDefault(),A.current.focus(),l==null||l(d),X(d);break}case"End":{ke.preventDefault(),A.current.focus(),l==null||l(h),X(h);break}}};return $e(i3,{...H6e(U6e({},ue),{size:u,ref:sl(fe,t),onKeyDownCapture:ve,onMouseDownCapture:()=>{var ke;return(ke=fe.current)==null?void 0:ke.focus()},classNames:r,styles:i,disabled:U,unstyled:z}),children:[P(r3,{inverted:B,offset:0,filled:K,marks:v,size:u,radius:c,color:s,min:d,max:h,value:D,onChange:X,onMouseEnter:T?()=>Z(!0):void 0,onMouseLeave:T?()=>Z(!1):void 0,classNames:r,styles:i,disabled:U,unstyled:z,children:P(sO,{max:h,min:d,value:D,position:K,dragging:he,color:s,size:u,label:R,ref:A,onMouseDown:ge,labelTransition:S,labelTransitionDuration:x,labelTransitionTimingFunction:$,labelAlwaysOn:E,classNames:r,styles:i,thumbLabel:I,showLabelOnHover:T&&pe,disabled:U,unstyled:z,thumbSize:H,children:M})}),P("input",{type:"hidden",name:_,value:D})]})});s3.displayName="@mantine/core/Slider";function G6e(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var K6e=Object.defineProperty,Y6e=Object.defineProperties,Q6e=Object.getOwnPropertyDescriptors,uO=Object.getOwnPropertySymbols,qie=Object.prototype.hasOwnProperty,Gie=Object.prototype.propertyIsEnumerable,CH=(e,t,n)=>t in e?K6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YA=(e,t)=>{for(var n in t||(t={}))qie.call(t,n)&&CH(e,n,t[n]);if(uO)for(var n of uO(t))Gie.call(t,n)&&CH(e,n,t[n]);return e},QA=(e,t)=>Y6e(e,Q6e(t)),X6e=(e,t)=>{var n={};for(var r in e)qie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uO)for(var r of uO(e))t.indexOf(r)<0&&Gie.call(e,r)&&(n[r]=e[r]);return n};const J6e={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},X2=O.forwardRef((e,t)=>{const n=$t("RangeSlider",J6e,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:l,size:u,radius:c,min:d,max:h,minRange:m,step:g,precision:y,defaultValue:_,name:v,marks:b,label:S,labelTransition:x,labelTransitionDuration:$,labelTransitionTimingFunction:E,labelAlwaysOn:I,thumbFromLabel:T,thumbToLabel:M,showLabelOnHover:U,thumbChildren:z,disabled:H,unstyled:q,thumbSize:B,scale:ue,inverted:le}=n,pe=X6e(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),Z=Ls(),[oe,X]=O.useState(-1),[k,A]=O.useState(!1),[K,D]=Vl({value:o,defaultValue:_,finalValue:[d,h],onChange:a}),R=O.useRef(K),Y=O.useRef([]),fe=O.useRef(void 0),he=[iO({value:K[0],min:d,max:h}),iO({value:K[1],min:d,max:h})],ge=We=>{D(We),R.current=We};O.useEffect(()=>{Array.isArray(o)&&(R.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const ve=(We,Ve,Tt)=>{const st=[...R.current];st[Ve]=We,Ve===0&&(We>st[1]-(m-1e-9)&&(st[1]=Math.min(We+m,h)),We>(h-(m-1e-9)||d)&&(st[Ve]=R.current[Ve])),Ve===1&&(We<st[0]+m&&(st[0]=Math.max(We-m,d)),We<st[0]+m&&(st[Ve]=R.current[Ve])),ge(st),Tt&&(l==null||l(R.current))},ke=We=>{if(!H){const Ve=Q2({value:We,min:d,max:h,step:g,precision:y});ve(Ve,fe.current,!1)}},{ref:ye,active:it}=see(({x:We})=>ke(We),{onScrubEnd:()=>l==null?void 0:l(R.current)},Z.dir);function Ke(We,Ve){We.stopPropagation(),fe.current=Ve}const Je=We=>{ye.current.focus();const Ve=ye.current.getBoundingClientRect(),Tt=G6e(We.nativeEvent),st=Q2({value:Tt-Ve.left,max:h,min:d,step:g,containerWidth:Ve.width}),Rt=Math.abs(K[0]-st)>Math.abs(K[1]-st)?1:0,on=Z.dir==="ltr"?Rt:Rt===1?0:1;fe.current=on},He=()=>oe!==1&&oe!==0?(X(0),0):oe,Ae=We=>{if(!H)switch(We.key){case"ArrowUp":{We.preventDefault();const Ve=He();Y.current[Ve].focus(),ve(Math.min(Math.max(R.current[Ve]+g,d),h),Ve,!0);break}case"ArrowRight":{We.preventDefault();const Ve=He();Y.current[Ve].focus(),ve(Math.min(Math.max(Z.dir==="rtl"?R.current[Ve]-g:R.current[Ve]+g,d),h),Ve,!0);break}case"ArrowDown":{We.preventDefault();const Ve=He();Y.current[Ve].focus(),ve(Math.min(Math.max(R.current[Ve]-g,d),h),Ve,!0);break}case"ArrowLeft":{We.preventDefault();const Ve=He();Y.current[Ve].focus(),ve(Math.min(Math.max(Z.dir==="rtl"?R.current[Ve]+g:R.current[Ve]-g,d),h),Ve,!0);break}}},Xe={max:h,min:d,color:s,size:u,labelTransition:x,labelTransitionDuration:$,labelTransitionTimingFunction:E,labelAlwaysOn:I,onBlur:()=>X(-1),classNames:r,styles:i},_n=Array.isArray(z);return $e(i3,{...QA(YA({},pe),{size:u,ref:sl(ye,t),onTouchStartCapture:Je,onTouchEndCapture:()=>{fe.current=-1},onMouseDownCapture:Je,onMouseUpCapture:()=>{fe.current=-1},onKeyDownCapture:Ae,styles:i,classNames:r,disabled:H,unstyled:q}),children:[$e(r3,{offset:he[0],marksOffset:K[0],filled:he[1]-he[0],marks:b,inverted:le,size:u,radius:c,color:s,min:d,max:h,value:K[1],styles:i,classNames:r,onMouseEnter:U?()=>A(!0):void 0,onMouseLeave:U?()=>A(!1):void 0,onChange:We=>{const Ve=Math.abs(K[0]-We)>Math.abs(K[1]-We)?1:0,Tt=[...K];Tt[Ve]=We,ge(Tt)},disabled:H,unstyled:q,children:[P(sO,{...QA(YA({},Xe),{value:ue(K[0]),position:he[0],dragging:it,label:typeof S=="function"?S(ue(K[0])):S,ref:We=>{Y.current[0]=We},thumbLabel:T,onMouseDown:We=>Ke(We,0),onFocus:()=>X(0),showLabelOnHover:U&&k,disabled:H,unstyled:q,thumbSize:B}),children:_n?z[0]:z}),P(sO,{...QA(YA({},Xe),{thumbLabel:M,value:ue(K[1]),position:he[1],dragging:it,label:typeof S=="function"?S(ue(K[1])):S,ref:We=>{Y.current[1]=We},onMouseDown:We=>Ke(We,1),onFocus:()=>X(1),showLabelOnHover:U&&k,disabled:H,unstyled:q,thumbSize:B}),children:_n?z[1]:z})]}),P("input",{type:"hidden",name:`${v}_from`,value:K[0]}),P("input",{type:"hidden",name:`${v}_to`,value:K[1]})]})});X2.displayName="@mantine/core/RangeSlider";var Z6e=Object.defineProperty,cO=Object.getOwnPropertySymbols,Kie=Object.prototype.hasOwnProperty,Yie=Object.prototype.propertyIsEnumerable,PH=(e,t,n)=>t in e?Z6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eBe=(e,t)=>{for(var n in t||(t={}))Kie.call(t,n)&&PH(e,n,t[n]);if(cO)for(var n of cO(t))Yie.call(t,n)&&PH(e,n,t[n]);return e},tBe=(e,t)=>{var n={};for(var r in e)Kie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cO)for(var r of cO(e))t.indexOf(r)<0&&Yie.call(e,r)&&(n[r]=e[r]);return n};const nBe={w:0,h:0},U_=O.forwardRef((e,t)=>{const n=$t("Space",nBe,e),{w:r,h:i,sx:s}=n,o=tBe(n,["w","h","sx"]);return P(xt,{...eBe({ref:t,sx:[a=>{const l=a.fn.size({size:r,sizes:a.spacing}),u=a.fn.size({size:i,sizes:a.spacing});return{width:l,height:u,minWidth:l,minHeight:u}},..._p(s)]},o)})});U_.displayName="@mantine/core/Space";var rBe=Object.defineProperty,iBe=Object.defineProperties,sBe=Object.getOwnPropertyDescriptors,TH=Object.getOwnPropertySymbols,oBe=Object.prototype.hasOwnProperty,aBe=Object.prototype.propertyIsEnumerable,kH=(e,t,n)=>t in e?rBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lBe=(e,t)=>{for(var n in t||(t={}))oBe.call(t,n)&&kH(e,n,t[n]);if(TH)for(var n of TH(t))aBe.call(t,n)&&kH(e,n,t[n]);return e},uBe=(e,t)=>iBe(e,sBe(t));function cBe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function fBe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var dBe=wt((e,{element:t,weight:n,size:r,inline:i})=>({root:uBe(lBe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:cBe(r,t,e),lineHeight:i?1:fBe(r,t,e),margin:0})}));const hBe=dBe;var pBe=Object.defineProperty,fO=Object.getOwnPropertySymbols,Qie=Object.prototype.hasOwnProperty,Xie=Object.prototype.propertyIsEnumerable,AH=(e,t,n)=>t in e?pBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mBe=(e,t)=>{for(var n in t||(t={}))Qie.call(t,n)&&AH(e,n,t[n]);if(fO)for(var n of fO(t))Xie.call(t,n)&&AH(e,n,t[n]);return e},gBe=(e,t)=>{var n={};for(var r in e)Qie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fO)for(var r of fO(e))t.indexOf(r)<0&&Xie.call(e,r)&&(n[r]=e[r]);return n};const yBe={order:1},Mf=O.forwardRef((e,t)=>{const n=$t("Title",yBe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:l,inline:u}=n,c=gBe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:d,cx:h}=hBe({element:`h${i}`,weight:l,size:a,inline:u},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?P(Bt,{...mBe({component:`h${i}`,ref:t,className:h(d.root,r)},c),children:s}):null});Mf.displayName="@mantine/core/Title";function J2(e){const t=e.split("/")||[];return t[(t==null?void 0:t.length)-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_").toLowerCase()}const vBe="https://github.com/revisit-studies/study/tree/main/public/",_Be=({globalConfig:e,studyConfigs:t})=>{const{configsList:n}=e,r=Ud();return $e(nre,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[P(Xw,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Ku}assets/revisitLogoSquare.svg`,alt:"reVISit"}),P(Bt,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=J2(i);return P(NF,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:$e(J2e,{shadow:"sm",radius:"md",withBorder:!0,children:[P(Bt,{fw:"bold",children:s.studyMetadata.title}),$e(Bt,{c:"dimmed",children:["Authors: ",s.studyMetadata.authors]}),P(Bt,{c:"dimmed",children:s.studyMetadata.description}),P(Bt,{c:"dimmed",ta:"right",style:{paddingRight:5},children:$e(Bee,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${vBe}${o}`,children:["View source: ",o]})})]})},i)})]})};var Jie={exports:{}},Zie={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=O;function wBe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bBe=typeof Object.is=="function"?Object.is:wBe,SBe=Jg.useState,xBe=Jg.useEffect,EBe=Jg.useLayoutEffect,IBe=Jg.useDebugValue;function OBe(e,t){var n=t(),r=SBe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return EBe(function(){i.value=n,i.getSnapshot=t,XA(i)&&s({inst:i})},[e,n,t]),xBe(function(){return XA(i)&&s({inst:i}),e(function(){XA(i)&&s({inst:i})})},[e]),IBe(n),n}function XA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bBe(e,n)}catch{return!0}}function $Be(e,t){return t()}var CBe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$Be:OBe;Zie.useSyncExternalStore=Jg.useSyncExternalStore!==void 0?Jg.useSyncExternalStore:CBe;Jie.exports=Zie;var PBe=Jie.exports,ese={exports:{}},tse={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=O,TBe=PBe;function kBe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ABe=typeof Object.is=="function"?Object.is:kBe,NBe=TBe.useSyncExternalStore,RBe=MC.useRef,DBe=MC.useEffect,MBe=MC.useMemo,LBe=MC.useDebugValue;tse.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=RBe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=MBe(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,ABe(c,m))return g;var y=r(m);return i!==void 0&&i(g,y)?g:(c=m,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=NBe(e,s[0],s[1]);return DBe(function(){o.hasValue=!0,o.value=a},[a]),LBe(a),a};ese.exports=tse;var FBe=ese.exports;function jBe(e){e()}let nse=jBe;const BBe=e=>nse=e,zBe=()=>nse,xd=O.createContext(null);function rse(){return O.useContext(xd)}const VBe=()=>{throw new Error("uSES not initialized!")};let ise=VBe;const UBe=e=>{ise=e},HBe=(e,t)=>e===t;function sse(e=xd){const t=e===xd?rse:()=>O.useContext(e);return function(r,i=HBe){const{store:s,subscription:o,getServerState:a}=t(),l=ise(o.addNestedSub,s.getState,a||s.getState,r,i);return O.useDebugValue(l),l}}const WBe=sse();var lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o3=Symbol.for("react.element"),a3=Symbol.for("react.portal"),LC=Symbol.for("react.fragment"),FC=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),BC=Symbol.for("react.provider"),zC=Symbol.for("react.context"),qBe=Symbol.for("react.server_context"),VC=Symbol.for("react.forward_ref"),UC=Symbol.for("react.suspense"),HC=Symbol.for("react.suspense_list"),WC=Symbol.for("react.memo"),qC=Symbol.for("react.lazy"),GBe=Symbol.for("react.offscreen"),ose;ose=Symbol.for("react.module.reference");function al(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case o3:switch(e=e.type,e){case LC:case jC:case FC:case UC:case HC:return e;default:switch(e=e&&e.$$typeof,e){case qBe:case zC:case VC:case qC:case WC:case BC:return e;default:return t}}case a3:return t}}}lr.ContextConsumer=zC;lr.ContextProvider=BC;lr.Element=o3;lr.ForwardRef=VC;lr.Fragment=LC;lr.Lazy=qC;lr.Memo=WC;lr.Portal=a3;lr.Profiler=jC;lr.StrictMode=FC;lr.Suspense=UC;lr.SuspenseList=HC;lr.isAsyncMode=function(){return!1};lr.isConcurrentMode=function(){return!1};lr.isContextConsumer=function(e){return al(e)===zC};lr.isContextProvider=function(e){return al(e)===BC};lr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===o3};lr.isForwardRef=function(e){return al(e)===VC};lr.isFragment=function(e){return al(e)===LC};lr.isLazy=function(e){return al(e)===qC};lr.isMemo=function(e){return al(e)===WC};lr.isPortal=function(e){return al(e)===a3};lr.isProfiler=function(e){return al(e)===jC};lr.isStrictMode=function(e){return al(e)===FC};lr.isSuspense=function(e){return al(e)===UC};lr.isSuspenseList=function(e){return al(e)===HC};lr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===LC||e===jC||e===FC||e===UC||e===HC||e===GBe||typeof e=="object"&&e!==null&&(e.$$typeof===qC||e.$$typeof===WC||e.$$typeof===BC||e.$$typeof===zC||e.$$typeof===VC||e.$$typeof===ose||e.getModuleId!==void 0)};lr.typeOf=al;function KBe(){const e=zBe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const NH={notify(){},get:()=>[]};function YBe(e,t){let n,r=NH;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=KBe())}function u(){n&&(n(),n=void 0,r.clear(),r=NH)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const QBe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XBe=QBe?O.useLayoutEffect:O.useEffect;function JA({store:e,context:t,children:n,serverState:r}){const i=O.useMemo(()=>{const a=YBe(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),s=O.useMemo(()=>e.getState(),[e]);return XBe(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]),P((t||xd).Provider,{value:i,children:n})}function ase(e=xd){const t=e===xd?rse:()=>O.useContext(e);return function(){const{store:r}=t();return r}}const JBe=ase();function lse(e=xd){const t=e===xd?JBe:ase(e);return function(){return t().dispatch}}const use=lse();UBe(FBe.useSyncExternalStoreWithSelector);BBe(jw.unstable_batchedUpdates);const ZBe={},e4e=Object.freeze(Object.defineProperty({__proto__:null,default:ZBe},Symbol.toStringTag,{value:"Module"})),t4e=SL(e4e);var n4e=t4e;function r4e(e,t){var n,r="",i=0,s=!0,o=0,a;function l(){return a=e.charAt(o),o++,a}for(l(),a==="-"&&(r="-",l());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,l();if(s&&i--,a===".")for(r+=".";l()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,l(),(a==="-"||a==="+")&&(r+=a,l());a>="0"&&a<="9";)r+=a,l();for(;a&&a<=" ";)l();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function i4e(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function s4e(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function o4e(e){return e.__COMMENTS__}function a4e(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var GC={EOL:n4e.EOL||`
`,tryParseNumber:r4e,createComment:i4e,removeComment:s4e,getComment:o4e,forceComment:a4e},l4e="3.2.1";function u4e(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return RH}else if(e.length===0)return RH;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return f4e(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),c4e.bind(null,n)}function c4e(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function RH(){}function f4e(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function cse(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}cse.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function fse(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}fse.description="parse hexadecimal numbers prefixed with 0x";function dse(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}dse.description="support ISO dates";var l3={loadDsf:u4e,std:{math:cse,hex:fse,date:dse}},d4e=function(e,t){var n=GC,r=l3,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){s=0,o=" "}function d(B){return B==="{"||B==="}"||B==="["||B==="]"||B===","||B===":"}function h(B){var ue,le=0,pe=1;for(ue=s-1;ue>0&&i[ue]!==`
`;ue--,le++);for(;ue>0;ue--)i[ue]===`
`&&pe++;throw new Error(B+" at line "+pe+","+le+" >>>"+i.substr(s-le,20)+" ...")}function m(){return o=i.charAt(s),s++,o}function g(B){return i.charAt(s+B)}function y(B){for(var ue="",le=o;m();){if(o===le)return m(),B&&le==="'"&&o==="'"&&ue.length===0?(m(),_()):ue;if(o==="\\")if(m(),o==="u"){for(var pe=0,Z=0;Z<4;Z++){m();var oe=o.charCodeAt(0),X;o>="0"&&o<="9"?X=oe-48:o>="a"&&o<="f"?X=oe-97+10:o>="A"&&o<="F"?X=oe-65+10:h("Bad \\u char "+o),pe=pe*16+X}ue+=String.fromCharCode(pe)}else if(typeof a[o]=="string")ue+=a[o];else break;else o===`
`||o==="\r"?h("Bad string containing newline"):ue+=o}h("Bad string")}function _(){for(var B="",ue=0,le=0;;){var pe=g(-le-5);if(!pe||pe===`
`)break;le++}function Z(){for(var oe=le;o&&o<=" "&&o!==`
`&&oe-- >0;)m()}for(;o&&o<=" "&&o!==`
`;)m();for(o===`
`&&(m(),Z());;){if(!o)h("Bad multiline string");else if(o==="'"){if(ue++,m(),ue===3)return B.slice(-1)===`
`&&(B=B.slice(0,-1)),B;continue}else for(;ue>0;)B+="'",ue--;o===`
`?(B+=`
`,m(),Z()):(o!=="\r"&&(B+=o),m())}}function v(){if(o==='"'||o==="'")return y(!1);for(var B="",ue=s,le=-1;;){if(o===":")return B?le>=0&&le!==B.length&&(s=ue+le,h("Found whitespace in your key name (use quotes to include)")):h("Found ':' but no key name (for an empty key name use quotes)"),B;o<=" "?o?le<0&&(le=B.length):h("Found EOF while looking for a key name (check your syntax)"):d(o)?h("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):B+=o,m()}}function b(){for(;o;){for(;o&&o<=" ";)m();if(o==="#"||o==="/"&&g(0)==="/")for(;o&&o!==`
`;)m();else if(o==="/"&&g(0)==="*"){for(m(),m();o&&!(o==="*"&&g(0)==="/");)m();o&&(m(),m())}else break}}function S(){var B=o;for(d(o)&&h("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){m();var ue=o==="\r"||o===`
`||o==="";if(ue||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(g(0)==="/"||g(0)==="*")){var le=B[0];switch(le){case"f":if(B.trim()==="false")return!1;break;case"n":if(B.trim()==="null")return null;break;case"t":if(B.trim()==="true")return!0;break;default:if(le==="-"||le>="0"&&le<="9"){var pe=n.tryParseNumber(B);if(pe!==void 0)return pe}}if(ue){B=B.trim();var Z=u(B);return Z!==void 0?Z:B}}B+=o}}function x(B,ue){var le;for(B--,le=s-2;le>B&&i[le]<=" "&&i[le]!==`
`;le--);i[le]===`
`&&le--,i[le]==="\r"&&le--;var pe=i.substr(B,le-B+1);for(le=0;le<pe.length;le++)if(pe[le]>" "){var Z=pe.indexOf(`
`);if(Z>=0){var oe=[pe.substr(0,Z),pe.substr(Z+1)];return ue&&oe[0].trim().length===0&&oe.shift(),oe}else return[pe]}return[]}function $(B){function ue(pe,Z){var oe,X,k,A;switch(typeof pe){case"string":pe.indexOf(Z)>=0&&(A=pe);break;case"object":if(Object.prototype.toString.apply(pe)==="[object Array]")for(oe=0,k=pe.length;oe<k;oe++)A=ue(pe[oe],Z)||A;else for(X in pe)Object.prototype.hasOwnProperty.call(pe,X)&&(A=ue(pe[X],Z)||A)}return A}function le(pe){var Z=ue(B,pe);return Z?"found '"+pe+`' in a string value, your mistake could be with:
  > `+Z+`
  (unquoted strings contain everything up to the next line!)`:""}return le("}")||le("]")}function E(){var B=[],ue,le,pe;try{if(l&&(ue=n.createComment(B,{a:[]})),m(),le=s,b(),ue&&(pe=x(le,!0).join(`
`)),o==="]")return m(),ue&&(ue.e=[pe]),B;for(;o;){if(B.push(T()),le=s,b(),o===","&&(m(),le=s,b()),ue){var Z=x(le);ue.a.push([pe||"",Z[0]||""]),pe=Z[1]}if(o==="]")return m(),ue&&(ue.a[ue.a.length-1][1]+=pe||""),B;b()}h("End of input while parsing an array (missing ']')")}catch(oe){throw oe.hint=oe.hint||$(B),oe}}function I(B){var ue="",le={},pe,Z,oe;try{if(l&&(pe=n.createComment(le,{c:{},o:[]})),B?Z=1:(m(),Z=s),b(),pe&&(oe=x(Z,!0).join(`
`)),o==="}"&&!B)return pe&&(pe.e=[oe]),m(),le;for(;o;){if(ue=v(),b(),o!==":"&&h("Expected ':' instead of '"+o+"'"),m(),le[ue]=T(),Z=s,b(),o===","&&(m(),Z=s,b()),pe){var X=x(Z);pe.c[ue]=[oe||"",X[0]||""],oe=X[1],pe.o.push(ue)}if(o==="}"&&!B)return m(),pe&&(pe.c[ue][1]+=oe||""),le;b()}if(B)return le;h("End of input while parsing an object (missing '}')")}catch(k){throw k.hint=k.hint||$(le),k}}function T(){switch(b(),o){case"{":return I();case"[":return E();case"'":case'"':return y(!0);default:return S()}}function M(B,ue){var le=s;if(b(),o&&h("Syntax error, found trailing characters"),l){var pe=ue.join(`
`),Z=x(le).join(`
`);if(Z||pe){var oe=n.createComment(B,n.getComment(B));oe.r=[pe,Z]}}return B}function U(){b();var B=l?x(1):null;switch(o){case"{":return M(I(),B);case"[":return M(E(),B);default:return M(T(),B)}}function z(){b();var B=l?x(1):null;switch(o){case"{":return M(I(),B);case"[":return M(E(),B)}try{return M(I(!0),B)}catch(ue){c();try{return M(T(),B)}catch{throw ue}}}if(typeof e!="string")throw new Error("source is not a string");var H=null,q=!0;return t&&typeof t=="object"&&(l=t.keepWsc,H=t.dsf,q=t.legacyRoot!==!1),u=r.loadDsf(H,"parse"),i=e,c(),q?z():U()},h4e=function(e,t){var n=GC,r=l3,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,l=!1,u=!1,c=!1,d=0,h=1,m="",g=null,y=!1,_=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?h=0:h=t.multiline=="no-tabs"?2:1,m=t.separator===!0?_.com[0]:"",g=t.dsf,y=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(_={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var v,b=Object.keys(i);for(v=b.length-1;v>=0;v--){var S=b[v];_[S].push(i[S][0].length,i[S][1].length)}}var x,$="---\u2028--\uFEFF-",E=new RegExp('[\\\\\\"\0-'+$+"]","g"),I=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+$+"]","g"),T=new RegExp("'''|^[\\s]+$|[\0-"+(h===2?"	":"\b")+"\v\f-"+$+"]","g"),M=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),U={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},z=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,H="",q=0;function B(A,K){return q+=A[0].length+A[1].length-A[2]-A[3],A[0]+K+A[1]}function ue(A){return A.replace(E,function(K){var D=U[K];return typeof D=="string"?B(_.esc,D):B(_.uni,("0000"+K.charCodeAt(0).toString(16)).slice(-4))})}function le(A,K,D,R){return A?(I.lastIndex=0,M.lastIndex=0,c||D||I.test(A)||n.tryParseNumber(A,!0)!==void 0||M.test(A)?(E.lastIndex=0,T.lastIndex=0,E.test(A)?!T.test(A)&&!R&&h?pe(A,K):B(_.qstr,ue(A)):B(_.qstr,A)):B(_.str,A)):B(_.qstr,"")}function pe(A,K){var D,R=A.replace(/\r/g,"").split(`
`);if(K+=o,R.length===1)return B(_.mstr,R[0]);var Y=s+K+_.mstr[0];for(D=0;D<R.length;D++)Y+=s,R[D]&&(Y+=K+R[D]);return Y+s+K+_.mstr[1]}function Z(A){return A?u||z.test(A)?(E.lastIndex=0,B(_.qkey,E.test(A)?ue(A):A)):B(_.key,A):'""'}function oe(A,K,D,R){function Y(ft){return ft&&ft[ft[0]==="\r"?1:0]===`
`}function fe(ft){return ft&&!Y(ft)}function he(ft,ur,dn){if(!ft)return"";ft=n.forceComment(ft);var Ft,hr=ft.length;for(Ft=0;Ft<hr&&ft[Ft]<=" ";Ft++);return dn&&Ft>0&&(ft=ft.substr(Ft)),Ft<hr?ur+B(_.rem,ft):ft}var ge=x(A);if(ge!==void 0)return B(_.dsf,ge);switch(typeof A){case"string":return le(A,H,K,R);case"number":return isFinite(A)?B(_.num,String(A)):B(_.lit,"null");case"boolean":return B(_.lit,String(A));case"object":if(!A)return B(_.lit,"null");var ve;a&&(ve=n.getComment(A));var ke=Object.prototype.toString.apply(A)==="[object Array]",ye=H;H+=o;var it=s+ye,Ke=s+H,Je=D||l?"":it,He=[],Ae,Xe=d?[]:null,_n=c,We=h,Ve=m?"":_.com[0],Tt=0,st,Rt,on,On,Kn,me,Ie,qe,mt;if(ke){for(st=0,Rt=A.length;st<Rt;st++){if(Ae=st<Rt-1,ve?(me=ve.a[st]||[],Ie=fe(me[1]),He.push(he(me[0],`
`)+Ke),Xe&&(me[0]||me[1]||Ie)&&(Xe=null)):He.push(Ke),q=0,On=A[st],He.push(oe(On,ve?Ie:!1,!0)+(Ae?m:"")),Xe){switch(typeof On){case"string":q=0,c=!0,h=0,Xe.push(oe(On,!1,!0)+(Ae?_.com[0]:"")),c=_n,h=We;break;case"object":if(On){Xe=null;break}default:Xe.push(He[He.length-1]+(Ae?Ve:""));break}Ae&&(q+=_.com[0].length-_.com[2]),Tt+=q}ve&&me[1]&&He.push(he(me[1],Ie?" ":`
`,Ie))}Rt===0?ve&&ve.e&&He.push(he(ve.e[0],`
`)+it):He.push(it),He.length===0?qe=B(_.arr,""):(qe=Je+B(_.arr,He.join("")),Xe&&(mt=Xe.join(" "),mt.length-Tt<=d&&(qe=B(_.arr,mt))))}else{var ze=ve?ve.o.slice():[],gt=[];for(on in A)Object.prototype.hasOwnProperty.call(A,on)&&ze.indexOf(on)<0&&gt.push(on);y&&gt.sort();var Ge=ze.concat(gt);for(st=0,Rt=Ge.length;st<Rt;st++)if(Ae=st<Rt-1,on=Ge[st],ve?(me=ve.c[on]||[],Ie=fe(me[1]),He.push(he(me[0],`
`)+Ke),Xe&&(me[0]||me[1]||Ie)&&(Xe=null)):He.push(Ke),q=0,On=A[on],Kn=oe(On,ve&&Ie),He.push(Z(on)+_.col[0]+(Y(Kn)?"":" ")+Kn+(Ae?m:"")),ve&&me[1]&&He.push(he(me[1],Ie?" ":`
`,Ie)),Xe){switch(typeof On){case"string":q=0,c=!0,h=0,Kn=oe(On,!1),c=_n,h=We,Xe.push(Z(on)+_.col[0]+" "+Kn+(Ae?_.com[0]:""));break;case"object":if(On){Xe=null;break}default:Xe.push(He[He.length-1]+(Ae?Ve:""));break}q+=_.col[0].length-_.col[2],Ae&&(q+=_.com[0].length-_.com[2]),Tt+=q}Rt===0?ve&&ve.e&&He.push(he(ve.e[0],`
`)+it):He.push(it),He.length===0?qe=B(_.obj,""):(qe=Je+B(_.obj,He.join("")),Xe&&(mt=Xe.join(" "),mt.length-Tt<=d&&(qe=B(_.obj,mt))))}return H=ye,qe}}x=r.loadDsf(g,"stringify");var X="",k=a?k=(n.getComment(e)||{}).r:null;return k&&k[0]&&(X=k[0]+`
`),X+=oe(e,null,!0,!0),k&&(X+=k[1]||""),X},bg=GC;function X0(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function Z2(e,t){if(!(e===null||typeof e!="object")){var n=bg.getComment(e);n&&bg.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)DH(o.a,r,n.a[r],Z2(e[r]))&&(s=!0);!s&&n.e&&(o.e=X0(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,l=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(l).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=l,o.o=a,r=0,i=a.length;r<i;r++){var u=a[r];DH(o.s,u,n.c[u],Z2(e[u]))&&(s=!0)}!s&&n.e&&(o.e=X0(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=X0(n.r[0],n.r[1])),s?o:void 0}}function p4e(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function m4e(e,t){var n=[];if(eD(e,t,n,[]),n.length>0){var r=dO(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+p4e(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),dO(t,r,1)}}function DH(e,t,n,r){var i=X0(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function J0(e,t){var n=X0(t.b,t.a);return n.path=e,n}function Z0(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(J0(s,o)),Z0(o.x,t,s))}else e.o&&e.o.forEach(function(a){var l=n.slice().concat([a]),u=e.s[a];u&&(t.push(J0(l,u)),Z0(u.x,t,l))});e.e&&t.push(J0(n,e.e))}}function eD(e,t,n,r){if(e){if(t===null||typeof t!="object"){Z0(e,n,r);return}var i,s=bg.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var l=e.a[a];if(l){var u=r.slice().concat([i]);i<t.length?(s.a[i]=[l.b,l.a],eD(l.x,t[i],n,u)):(n.push(J0(u,l)),Z0(l.x,n,u))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var d=r.slice().concat([c]),h=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),h&&(s.c[c]=[h.b,h.a],eD(h.x,t[c],n,d))):h&&(n.push(J0(d,h)),Z0(h.x,n,d))}),e.e&&(s.e=[e.e.b,e.e.a])}}function dO(e,t,n){var r=bg.createComment(e,bg.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=bg.forceComment(t)),r.r[n]||""}var g4e={extract:function(e){return Z2(e,!0)},merge:m4e,header:function(e,t){return dO(e,t,0)},footer:function(e,t){return dO(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var MH=GC,y4e=l4e,LH=d4e,FH=h4e,v4e=g4e,_4e=l3,u3={parse:LH,stringify:FH,endOfLine:function(){return MH.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(MH.EOL=e)},version:y4e,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,LH(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,FH(e,t)}},comments:v4e,dsf:_4e.std},tD={exports:{}},hse={},Ml={},Zg={},Jw={},fn={},H_={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(b){if(super(),!e.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((S,x)=>`${S}${x}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((S,x)=>(x instanceof n&&(S[x.str]=(S[x.str]||0)+1),S),{})}}e._Code=r,e.nil=new r("");function i(v,...b){const S=[v[0]];let x=0;for(;x<b.length;)a(S,b[x]),S.push(v[++x]);return new r(S)}e._=i;const s=new r("+");function o(v,...b){const S=[m(v[0])];let x=0;for(;x<b.length;)S.push(s),a(S,b[x]),S.push(s,m(v[++x]));return l(S),new r(S)}e.str=o;function a(v,b){b instanceof r?v.push(...b._items):b instanceof n?v.push(b):v.push(d(b))}e.addCodeArg=a;function l(v){let b=1;for(;b<v.length-1;){if(v[b]===s){const S=u(v[b-1],v[b+1]);if(S!==void 0){v.splice(b-1,3,S);continue}v[b++]="+"}b++}}function u(v,b){if(b==='""')return v;if(v==='""')return b;if(typeof v=="string")return b instanceof n||v[v.length-1]!=='"'?void 0:typeof b!="string"?`${v.slice(0,-1)}${b}"`:b[0]==='"'?v.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(v instanceof n))return`"${v}${b.slice(1)}`}function c(v,b){return b.emptyStr()?v:v.emptyStr()?b:o`${v}${b}`}e.strConcat=c;function d(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:m(Array.isArray(v)?v.join(","):v)}function h(v){return new r(m(v))}e.stringify=h;function m(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new r(`.${v}`):i`[${v}]`}e.getProperty=g;function y(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new r(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=y;function _(v){return new r(v.toString())}e.regexpCode=_})(H_);var nD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=H_;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:m}=h,g=(d=c.key)!==null&&d!==void 0?d:c.ref;let y=this._values[m];if(y){const b=y.get(g);if(b)return b}else y=this._values[m]=new Map;y.set(g,h);const _=this._scope[m]||(this._scope[m]=[]),v=_.length;return _[v]=c.ref,h.setValue(c,{property:m,itemIndex:v}),h}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,d)}_reduceValues(u,c,d={},h){let m=t.nil;for(const g in u){const y=u[g];if(!y)continue;const _=d[g]=d[g]||new Map;y.forEach(v=>{if(_.has(v))return;_.set(v,r.Started);let b=c(v);if(b){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${S} ${v} = ${b};${this.opts._n}`}else if(b=h==null?void 0:h(v))m=(0,t._)`${m}${b}${this.opts._n}`;else throw new n(v);_.set(v,r.Completed)})}return m}}e.ValueScope=a})(nD);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=H_,n=nD;var r=H_;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=nD;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(D,R){return this}}class o extends s{constructor(D,R,Y){super(),this.varKind=D,this.name=R,this.rhs=Y}render({es5:D,_n:R}){const Y=D?n.varKinds.var:this.varKind,fe=this.rhs===void 0?"":` = ${this.rhs}`;return`${Y} ${this.name}${fe};`+R}optimizeNames(D,R){if(D[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,D,R)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(D,R,Y){super(),this.lhs=D,this.rhs=R,this.sideEffects=Y}render({_n:D}){return`${this.lhs} = ${this.rhs};`+D}optimizeNames(D,R){if(!(this.lhs instanceof t.Name&&!D[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,D,R),this}get names(){const D=this.lhs instanceof t.Name?{}:{...this.lhs.names};return q(D,this.rhs)}}class l extends a{constructor(D,R,Y,fe){super(D,Y,fe),this.op=R}render({_n:D}){return`${this.lhs} ${this.op}= ${this.rhs};`+D}}class u extends s{constructor(D){super(),this.label=D,this.names={}}render({_n:D}){return`${this.label}:`+D}}class c extends s{constructor(D){super(),this.label=D,this.names={}}render({_n:D}){return`break${this.label?` ${this.label}`:""};`+D}}class d extends s{constructor(D){super(),this.error=D}render({_n:D}){return`throw ${this.error};`+D}get names(){return this.error.names}}class h extends s{constructor(D){super(),this.code=D}render({_n:D}){return`${this.code};`+D}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(D,R){return this.code=B(this.code,D,R),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(D=[]){super(),this.nodes=D}render(D){return this.nodes.reduce((R,Y)=>R+Y.render(D),"")}optimizeNodes(){const{nodes:D}=this;let R=D.length;for(;R--;){const Y=D[R].optimizeNodes();Array.isArray(Y)?D.splice(R,1,...Y):Y?D[R]=Y:D.splice(R,1)}return D.length>0?this:void 0}optimizeNames(D,R){const{nodes:Y}=this;let fe=Y.length;for(;fe--;){const he=Y[fe];he.optimizeNames(D,R)||(ue(D,he.names),Y.splice(fe,1))}return Y.length>0?this:void 0}get names(){return this.nodes.reduce((D,R)=>H(D,R.names),{})}}class g extends m{render(D){return"{"+D._n+super.render(D)+"}"+D._n}}class y extends m{}class _ extends g{}_.kind="else";class v extends g{constructor(D,R){super(R),this.condition=D}render(D){let R=`if(${this.condition})`+super.render(D);return this.else&&(R+="else "+this.else.render(D)),R}optimizeNodes(){super.optimizeNodes();const D=this.condition;if(D===!0)return this.nodes;let R=this.else;if(R){const Y=R.optimizeNodes();R=this.else=Array.isArray(Y)?new _(Y):Y}if(R)return D===!1?R instanceof v?R:R.nodes:this.nodes.length?this:new v(le(D),R instanceof v?[R]:R.nodes);if(!(D===!1||!this.nodes.length))return this}optimizeNames(D,R){var Y;if(this.else=(Y=this.else)===null||Y===void 0?void 0:Y.optimizeNames(D,R),!!(super.optimizeNames(D,R)||this.else))return this.condition=B(this.condition,D,R),this}get names(){const D=super.names;return q(D,this.condition),this.else&&H(D,this.else.names),D}}v.kind="if";class b extends g{}b.kind="for";class S extends b{constructor(D){super(),this.iteration=D}render(D){return`for(${this.iteration})`+super.render(D)}optimizeNames(D,R){if(super.optimizeNames(D,R))return this.iteration=B(this.iteration,D,R),this}get names(){return H(super.names,this.iteration.names)}}class x extends b{constructor(D,R,Y,fe){super(),this.varKind=D,this.name=R,this.from=Y,this.to=fe}render(D){const R=D.es5?n.varKinds.var:this.varKind,{name:Y,from:fe,to:he}=this;return`for(${R} ${Y}=${fe}; ${Y}<${he}; ${Y}++)`+super.render(D)}get names(){const D=q(super.names,this.from);return q(D,this.to)}}class $ extends b{constructor(D,R,Y,fe){super(),this.loop=D,this.varKind=R,this.name=Y,this.iterable=fe}render(D){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(D)}optimizeNames(D,R){if(super.optimizeNames(D,R))return this.iterable=B(this.iterable,D,R),this}get names(){return H(super.names,this.iterable.names)}}class E extends g{constructor(D,R,Y){super(),this.name=D,this.args=R,this.async=Y}render(D){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(D)}}E.kind="func";class I extends m{render(D){return"return "+super.render(D)}}I.kind="return";class T extends g{render(D){let R="try"+super.render(D);return this.catch&&(R+=this.catch.render(D)),this.finally&&(R+=this.finally.render(D)),R}optimizeNodes(){var D,R;return super.optimizeNodes(),(D=this.catch)===null||D===void 0||D.optimizeNodes(),(R=this.finally)===null||R===void 0||R.optimizeNodes(),this}optimizeNames(D,R){var Y,fe;return super.optimizeNames(D,R),(Y=this.catch)===null||Y===void 0||Y.optimizeNames(D,R),(fe=this.finally)===null||fe===void 0||fe.optimizeNames(D,R),this}get names(){const D=super.names;return this.catch&&H(D,this.catch.names),this.finally&&H(D,this.finally.names),D}}class M extends g{constructor(D){super(),this.error=D}render(D){return`catch(${this.error})`+super.render(D)}}M.kind="catch";class U extends g{render(D){return"finally"+super.render(D)}}U.kind="finally";class z{constructor(D,R={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...R,_n:R.lines?`
`:""},this._extScope=D,this._scope=new n.Scope({parent:D}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(D){return this._scope.name(D)}scopeName(D){return this._extScope.name(D)}scopeValue(D,R){const Y=this._extScope.value(D,R);return(this._values[Y.prefix]||(this._values[Y.prefix]=new Set)).add(Y),Y}getScopeValue(D,R){return this._extScope.getValue(D,R)}scopeRefs(D){return this._extScope.scopeRefs(D,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(D,R,Y,fe){const he=this._scope.toName(R);return Y!==void 0&&fe&&(this._constants[he.str]=Y),this._leafNode(new o(D,he,Y)),he}const(D,R,Y){return this._def(n.varKinds.const,D,R,Y)}let(D,R,Y){return this._def(n.varKinds.let,D,R,Y)}var(D,R,Y){return this._def(n.varKinds.var,D,R,Y)}assign(D,R,Y){return this._leafNode(new a(D,R,Y))}add(D,R){return this._leafNode(new l(D,e.operators.ADD,R))}code(D){return typeof D=="function"?D():D!==t.nil&&this._leafNode(new h(D)),this}object(...D){const R=["{"];for(const[Y,fe]of D)R.length>1&&R.push(","),R.push(Y),(Y!==fe||this.opts.es5)&&(R.push(":"),(0,t.addCodeArg)(R,fe));return R.push("}"),new t._Code(R)}if(D,R,Y){if(this._blockNode(new v(D)),R&&Y)this.code(R).else().code(Y).endIf();else if(R)this.code(R).endIf();else if(Y)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(D){return this._elseNode(new v(D))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(v,_)}_for(D,R){return this._blockNode(D),R&&this.code(R).endFor(),this}for(D,R){return this._for(new S(D),R)}forRange(D,R,Y,fe,he=this.opts.es5?n.varKinds.var:n.varKinds.let){const ge=this._scope.toName(D);return this._for(new x(he,ge,R,Y),()=>fe(ge))}forOf(D,R,Y,fe=n.varKinds.const){const he=this._scope.toName(D);if(this.opts.es5){const ge=R instanceof t.Name?R:this.var("_arr",R);return this.forRange("_i",0,(0,t._)`${ge}.length`,ve=>{this.var(he,(0,t._)`${ge}[${ve}]`),Y(he)})}return this._for(new $("of",fe,he,R),()=>Y(he))}forIn(D,R,Y,fe=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(D,(0,t._)`Object.keys(${R})`,Y);const he=this._scope.toName(D);return this._for(new $("in",fe,he,R),()=>Y(he))}endFor(){return this._endBlockNode(b)}label(D){return this._leafNode(new u(D))}break(D){return this._leafNode(new c(D))}return(D){const R=new I;if(this._blockNode(R),this.code(D),R.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(D,R,Y){if(!R&&!Y)throw new Error('CodeGen: "try" without "catch" and "finally"');const fe=new T;if(this._blockNode(fe),this.code(D),R){const he=this.name("e");this._currNode=fe.catch=new M(he),R(he)}return Y&&(this._currNode=fe.finally=new U,this.code(Y)),this._endBlockNode(M,U)}throw(D){return this._leafNode(new d(D))}block(D,R){return this._blockStarts.push(this._nodes.length),D&&this.code(D).endBlock(R),this}endBlock(D){const R=this._blockStarts.pop();if(R===void 0)throw new Error("CodeGen: not in self-balancing block");const Y=this._nodes.length-R;if(Y<0||D!==void 0&&Y!==D)throw new Error(`CodeGen: wrong number of nodes: ${Y} vs ${D} expected`);return this._nodes.length=R,this}func(D,R=t.nil,Y,fe){return this._blockNode(new E(D,R,Y)),fe&&this.code(fe).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(D=1){for(;D-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(D){return this._currNode.nodes.push(D),this}_blockNode(D){this._currNode.nodes.push(D),this._nodes.push(D)}_endBlockNode(D,R){const Y=this._currNode;if(Y instanceof D||R&&Y instanceof R)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${R?`${D.kind}/${R.kind}`:D.kind}"`)}_elseNode(D){const R=this._currNode;if(!(R instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=R.else=D,this}get _root(){return this._nodes[0]}get _currNode(){const D=this._nodes;return D[D.length-1]}set _currNode(D){const R=this._nodes;R[R.length-1]=D}}e.CodeGen=z;function H(K,D){for(const R in D)K[R]=(K[R]||0)+(D[R]||0);return K}function q(K,D){return D instanceof t._CodeOrName?H(K,D.names):K}function B(K,D,R){if(K instanceof t.Name)return Y(K);if(!fe(K))return K;return new t._Code(K._items.reduce((he,ge)=>(ge instanceof t.Name&&(ge=Y(ge)),ge instanceof t._Code?he.push(...ge._items):he.push(ge),he),[]));function Y(he){const ge=R[he.str];return ge===void 0||D[he.str]!==1?he:(delete D[he.str],ge)}function fe(he){return he instanceof t._Code&&he._items.some(ge=>ge instanceof t.Name&&D[ge.str]===1&&R[ge.str]!==void 0)}}function ue(K,D){for(const R in D)K[R]=(K[R]||0)-(D[R]||0)}function le(K){return typeof K=="boolean"||typeof K=="number"||K===null?!K:(0,t._)`!${A(K)}`}e.not=le;const pe=k(e.operators.AND);function Z(...K){return K.reduce(pe)}e.and=Z;const oe=k(e.operators.OR);function X(...K){return K.reduce(oe)}e.or=X;function k(K){return(D,R)=>D===t.nil?R:R===t.nil?D:(0,t._)`${A(D)} ${K} ${A(R)}`}function A(K){return K instanceof t.Name?K:(0,t._)`(${K})`}})(fn);var Dn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=fn,n=H_;function r(E){const I={};for(const T of E)I[T]=!0;return I}e.toHash=r;function i(E,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(s(E,I),!o(I,E.self.RULES.all))}e.alwaysValidSchema=i;function s(E,I=E.schema){const{opts:T,self:M}=E;if(!T.strictSchema||typeof I=="boolean")return;const U=M.RULES.keywords;for(const z in I)U[z]||$(E,`unknown keyword: "${z}"`)}e.checkUnknownRules=s;function o(E,I){if(typeof E=="boolean")return!E;for(const T in E)if(I[T])return!0;return!1}e.schemaHasRules=o;function a(E,I){if(typeof E=="boolean")return!E;for(const T in E)if(T!=="$ref"&&I.all[T])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:E,schemaPath:I},T,M,U){if(!U){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,t._)`${T}`}return(0,t._)`${E}${I}${(0,t.getProperty)(M)}`}e.schemaRefOrVal=l;function u(E){return h(decodeURIComponent(E))}e.unescapeFragment=u;function c(E){return encodeURIComponent(d(E))}e.escapeFragment=c;function d(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=d;function h(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function m(E,I){if(Array.isArray(E))for(const T of E)I(T);else I(E)}e.eachItem=m;function g({mergeNames:E,mergeToName:I,mergeValues:T,resultToName:M}){return(U,z,H,q)=>{const B=H===void 0?z:H instanceof t.Name?(z instanceof t.Name?E(U,z,H):I(U,z,H),H):z instanceof t.Name?(I(U,H,z),z):T(z,H);return q===t.Name&&!(B instanceof t.Name)?M(U,B):B}}e.mergeEvaluated={props:g({mergeNames:(E,I,T)=>E.if((0,t._)`${T} !== true && ${I} !== undefined`,()=>{E.if((0,t._)`${I} === true`,()=>E.assign(T,!0),()=>E.assign(T,(0,t._)`${T} || {}`).code((0,t._)`Object.assign(${T}, ${I})`))}),mergeToName:(E,I,T)=>E.if((0,t._)`${T} !== true`,()=>{I===!0?E.assign(T,!0):(E.assign(T,(0,t._)`${T} || {}`),_(E,T,I))}),mergeValues:(E,I)=>E===!0?!0:{...E,...I},resultToName:y}),items:g({mergeNames:(E,I,T)=>E.if((0,t._)`${T} !== true && ${I} !== undefined`,()=>E.assign(T,(0,t._)`${I} === true ? true : ${T} > ${I} ? ${T} : ${I}`)),mergeToName:(E,I,T)=>E.if((0,t._)`${T} !== true`,()=>E.assign(T,I===!0?!0:(0,t._)`${T} > ${I} ? ${T} : ${I}`)),mergeValues:(E,I)=>E===!0?!0:Math.max(E,I),resultToName:(E,I)=>E.var("items",I)})};function y(E,I){if(I===!0)return E.var("props",!0);const T=E.var("props",(0,t._)`{}`);return I!==void 0&&_(E,T,I),T}e.evaluatedPropsToName=y;function _(E,I,T){Object.keys(T).forEach(M=>E.assign((0,t._)`${I}${(0,t.getProperty)(M)}`,!0))}e.setEvaluated=_;const v={};function b(E,I){return E.scopeValue("func",{ref:I,code:v[I.code]||(v[I.code]=new n._Code(I.code))})}e.useFunc=b;var S;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(S=e.Type||(e.Type={}));function x(E,I,T){if(E instanceof t.Name){const M=I===S.Num;return T?M?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:M?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,t.getProperty)(E).toString():"/"+d(E)}e.getErrorPath=x;function $(E,I,T=E.opts.strictSchema){if(T){if(I=`strict mode: ${I}`,T===!0)throw new Error(I);E.self.logger.warn(I)}}e.checkStrictMode=$})(Dn);var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});const Ss=fn,w4e={data:new Ss.Name("data"),valCxt:new Ss.Name("valCxt"),instancePath:new Ss.Name("instancePath"),parentData:new Ss.Name("parentData"),parentDataProperty:new Ss.Name("parentDataProperty"),rootData:new Ss.Name("rootData"),dynamicAnchors:new Ss.Name("dynamicAnchors"),vErrors:new Ss.Name("vErrors"),errors:new Ss.Name("errors"),this:new Ss.Name("this"),self:new Ss.Name("self"),scope:new Ss.Name("scope"),json:new Ss.Name("json"),jsonPos:new Ss.Name("jsonPos"),jsonLen:new Ss.Name("jsonLen"),jsonPart:new Ss.Name("jsonPart")};Hu.default=w4e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=fn,n=Dn,r=Hu;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:v})=>v?(0,t.str)`"${_}" keyword must be ${v} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function i(_,v=e.keywordError,b,S){const{it:x}=_,{gen:$,compositeRule:E,allErrors:I}=x,T=d(_,v,b);S??(E||I)?l($,T):u(x,(0,t._)`[${T}]`)}e.reportError=i;function s(_,v=e.keywordError,b){const{it:S}=_,{gen:x,compositeRule:$,allErrors:E}=S,I=d(_,v,b);l(x,I),$||E||u(S,r.default.vErrors)}e.reportExtraError=s;function o(_,v){_.assign(r.default.errors,v),_.if((0,t._)`${r.default.vErrors} !== null`,()=>_.if(v,()=>_.assign((0,t._)`${r.default.vErrors}.length`,v),()=>_.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:_,keyword:v,schemaValue:b,data:S,errsCount:x,it:$}){if(x===void 0)throw new Error("ajv implementation error");const E=_.name("err");_.forRange("i",x,r.default.errors,I=>{_.const(E,(0,t._)`${r.default.vErrors}[${I}]`),_.if((0,t._)`${E}.instancePath === undefined`,()=>_.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(r.default.instancePath,$.errorPath))),_.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${v}`),$.opts.verbose&&(_.assign((0,t._)`${E}.schema`,b),_.assign((0,t._)`${E}.data`,S))})}e.extendErrors=a;function l(_,v){const b=_.const("err",v);_.if((0,t._)`${r.default.vErrors} === null`,()=>_.assign(r.default.vErrors,(0,t._)`[${b}]`),(0,t._)`${r.default.vErrors}.push(${b})`),_.code((0,t._)`${r.default.errors}++`)}function u(_,v){const{gen:b,validateName:S,schemaEnv:x}=_;x.$async?b.throw((0,t._)`new ${_.ValidationError}(${v})`):(b.assign((0,t._)`${S}.errors`,v),b.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(_,v,b){const{createErrors:S}=_.it;return S===!1?(0,t._)`{}`:h(_,v,b)}function h(_,v,b={}){const{gen:S,it:x}=_,$=[m(x,b),g(_,b)];return y(_,v,$),S.object(...$)}function m({errorPath:_},{instancePath:v}){const b=v?(0,t.str)`${_}${(0,n.getErrorPath)(v,n.Type.Str)}`:_;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,b)]}function g({keyword:_,it:{errSchemaPath:v}},{schemaPath:b,parentSchema:S}){let x=S?v:(0,t.str)`${v}/${_}`;return b&&(x=(0,t.str)`${x}${(0,n.getErrorPath)(b,n.Type.Str)}`),[c.schemaPath,x]}function y(_,{params:v,message:b},S){const{keyword:x,data:$,schemaValue:E,it:I}=_,{opts:T,propertyName:M,topSchemaRef:U,schemaPath:z}=I;S.push([c.keyword,x],[c.params,typeof v=="function"?v(_):v||(0,t._)`{}`]),T.messages&&S.push([c.message,typeof b=="function"?b(_):b]),T.verbose&&S.push([c.schema,E],[c.parentSchema,(0,t._)`${U}${z}`],[r.default.data,$]),M&&S.push([c.propertyName,M])}})(Jw);Object.defineProperty(Zg,"__esModule",{value:!0});Zg.boolOrEmptySchema=Zg.topBoolOrEmptySchema=void 0;const b4e=Jw,S4e=fn,x4e=Hu,E4e={message:"boolean schema is false"};function I4e(e){const{gen:t,schema:n,validateName:r}=e;n===!1?pse(e,!1):typeof n=="object"&&n.$async===!0?t.return(x4e.default.data):(t.assign((0,S4e._)`${r}.errors`,null),t.return(!0))}Zg.topBoolOrEmptySchema=I4e;function O4e(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),pse(e)):n.var(t,!0)}Zg.boolOrEmptySchema=O4e;function pse(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,b4e.reportError)(i,E4e,void 0,t)}var Zw={},wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.getRules=wp.isJSONType=void 0;const $4e=["string","number","integer","boolean","null","object","array"],C4e=new Set($4e);function P4e(e){return typeof e=="string"&&C4e.has(e)}wp.isJSONType=P4e;function T4e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}wp.getRules=T4e;var kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.shouldUseRule=kc.shouldUseGroup=kc.schemaHasRulesForType=void 0;function k4e({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&mse(e,r)}kc.schemaHasRulesForType=k4e;function mse(e,t){return t.rules.some(n=>gse(e,n))}kc.shouldUseGroup=mse;function gse(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}kc.shouldUseRule=gse;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=wp,n=kc,r=Jw,i=fn,s=Dn;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(S){const x=l(S.type);if(x.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!x.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&x.push("null")}return x}e.getSchemaTypes=a;function l(S){const x=Array.isArray(S)?S:S?[S]:[];if(x.every(t.isJSONType))return x;throw new Error("type must be JSONType or JSONType[]: "+x.join(","))}e.getJSONTypes=l;function u(S,x){const{gen:$,data:E,opts:I}=S,T=d(x,I.coerceTypes),M=x.length>0&&!(T.length===0&&x.length===1&&(0,n.schemaHasRulesForType)(S,x[0]));if(M){const U=y(x,E,I.strictNumbers,o.Wrong);$.if(U,()=>{T.length?h(S,x,T):v(S)})}return M}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function d(S,x){return x?S.filter($=>c.has($)||x==="array"&&$==="array"):[]}function h(S,x,$){const{gen:E,data:I,opts:T}=S,M=E.let("dataType",(0,i._)`typeof ${I}`),U=E.let("coerced",(0,i._)`undefined`);T.coerceTypes==="array"&&E.if((0,i._)`${M} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>E.assign(I,(0,i._)`${I}[0]`).assign(M,(0,i._)`typeof ${I}`).if(y(x,I,T.strictNumbers),()=>E.assign(U,I))),E.if((0,i._)`${U} !== undefined`);for(const H of $)(c.has(H)||H==="array"&&T.coerceTypes==="array")&&z(H);E.else(),v(S),E.endIf(),E.if((0,i._)`${U} !== undefined`,()=>{E.assign(I,U),m(S,U)});function z(H){switch(H){case"string":E.elseIf((0,i._)`${M} == "number" || ${M} == "boolean"`).assign(U,(0,i._)`"" + ${I}`).elseIf((0,i._)`${I} === null`).assign(U,(0,i._)`""`);return;case"number":E.elseIf((0,i._)`${M} == "boolean" || ${I} === null
              || (${M} == "string" && ${I} && ${I} == +${I})`).assign(U,(0,i._)`+${I}`);return;case"integer":E.elseIf((0,i._)`${M} === "boolean" || ${I} === null
              || (${M} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(U,(0,i._)`+${I}`);return;case"boolean":E.elseIf((0,i._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(U,!1).elseIf((0,i._)`${I} === "true" || ${I} === 1`).assign(U,!0);return;case"null":E.elseIf((0,i._)`${I} === "" || ${I} === 0 || ${I} === false`),E.assign(U,null);return;case"array":E.elseIf((0,i._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${I} === null`).assign(U,(0,i._)`[${I}]`)}}}function m({gen:S,parentData:x,parentDataProperty:$},E){S.if((0,i._)`${x} !== undefined`,()=>S.assign((0,i._)`${x}[${$}]`,E))}function g(S,x,$,E=o.Correct){const I=E===o.Correct?i.operators.EQ:i.operators.NEQ;let T;switch(S){case"null":return(0,i._)`${x} ${I} null`;case"array":T=(0,i._)`Array.isArray(${x})`;break;case"object":T=(0,i._)`${x} && typeof ${x} == "object" && !Array.isArray(${x})`;break;case"integer":T=M((0,i._)`!(${x} % 1) && !isNaN(${x})`);break;case"number":T=M();break;default:return(0,i._)`typeof ${x} ${I} ${S}`}return E===o.Correct?T:(0,i.not)(T);function M(U=i.nil){return(0,i.and)((0,i._)`typeof ${x} == "number"`,U,$?(0,i._)`isFinite(${x})`:i.nil)}}e.checkDataType=g;function y(S,x,$,E){if(S.length===1)return g(S[0],x,$,E);let I;const T=(0,s.toHash)(S);if(T.array&&T.object){const M=(0,i._)`typeof ${x} != "object"`;I=T.null?M:(0,i._)`!${x} || ${M}`,delete T.null,delete T.array,delete T.object}else I=i.nil;T.number&&delete T.integer;for(const M in T)I=(0,i.and)(I,g(M,x,$,E));return I}e.checkDataTypes=y;const _={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:x})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${x}}`};function v(S){const x=b(S);(0,r.reportError)(x,_)}e.reportTypeError=v;function b(S){const{gen:x,data:$,schema:E}=S,I=(0,s.schemaRefOrVal)(S,E,"type");return{gen:x,keyword:"type",data:$,schema:E.type,schemaCode:I,schemaValue:I,parentSchema:E,params:{},it:S}}})(Zw);var KC={};Object.defineProperty(KC,"__esModule",{value:!0});KC.assignDefaults=void 0;const Im=fn,A4e=Dn;function N4e(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)jH(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>jH(e,s,i.default))}KC.assignDefaults=N4e;function jH(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,Im._)`${s}${(0,Im.getProperty)(t)}`;if(i){(0,A4e.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,Im._)`${a} === undefined`;o.useDefaults==="empty"&&(l=(0,Im._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,Im._)`${a} = ${(0,Im.stringify)(n)}`)}var bu={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.validateUnion=cn.validateArray=cn.usePattern=cn.callValidateCode=cn.schemaProperties=cn.allSchemaProperties=cn.noPropertyInData=cn.propertyInData=cn.isOwnProperty=cn.hasPropFunc=cn.reportMissingProp=cn.checkMissingProp=cn.checkReportMissingProp=void 0;const xr=fn,c3=Dn,If=Hu,R4e=Dn;function D4e(e,t){const{gen:n,data:r,it:i}=e;n.if(d3(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,xr._)`${t}`},!0),e.error()})}cn.checkReportMissingProp=D4e;function M4e({gen:e,data:t,it:{opts:n}},r,i){return(0,xr.or)(...r.map(s=>(0,xr.and)(d3(e,t,s,n.ownProperties),(0,xr._)`${i} = ${s}`)))}cn.checkMissingProp=M4e;function L4e(e,t){e.setParams({missingProperty:t},!0),e.error()}cn.reportMissingProp=L4e;function yse(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xr._)`Object.prototype.hasOwnProperty`})}cn.hasPropFunc=yse;function f3(e,t,n){return(0,xr._)`${yse(e)}.call(${t}, ${n})`}cn.isOwnProperty=f3;function F4e(e,t,n,r){const i=(0,xr._)`${t}${(0,xr.getProperty)(n)} !== undefined`;return r?(0,xr._)`${i} && ${f3(e,t,n)}`:i}cn.propertyInData=F4e;function d3(e,t,n,r){const i=(0,xr._)`${t}${(0,xr.getProperty)(n)} === undefined`;return r?(0,xr.or)(i,(0,xr.not)(f3(e,t,n))):i}cn.noPropertyInData=d3;function vse(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}cn.allSchemaProperties=vse;function j4e(e,t){return vse(t).filter(n=>!(0,c3.alwaysValidSchema)(e,t[n]))}cn.schemaProperties=j4e;function B4e({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,l,u){const c=u?(0,xr._)`${e}, ${t}, ${r}${i}`:t,d=[[If.default.instancePath,(0,xr.strConcat)(If.default.instancePath,s)],[If.default.parentData,o.parentData],[If.default.parentDataProperty,o.parentDataProperty],[If.default.rootData,If.default.rootData]];o.opts.dynamicRef&&d.push([If.default.dynamicAnchors,If.default.dynamicAnchors]);const h=(0,xr._)`${c}, ${n.object(...d)}`;return l!==xr.nil?(0,xr._)`${a}.call(${l}, ${h})`:(0,xr._)`${a}(${h})`}cn.callValidateCode=B4e;const z4e=(0,xr._)`new RegExp`;function V4e({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,xr._)`${i.code==="new RegExp"?z4e:(0,R4e.useFunc)(e,i)}(${n}, ${r})`})}cn.usePattern=V4e;function U4e(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const l=t.const("len",(0,xr._)`${n}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:r,dataProp:u,dataPropType:c3.Type.Num},s),t.if((0,xr.not)(s),a)})}}cn.validateArray=U4e;function H4e(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,c3.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((l,u)=>{const c=e.subschema({keyword:r,schemaProp:u,compositeRule:!0},a);t.assign(o,(0,xr._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,xr.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}cn.validateUnion=H4e;Object.defineProperty(bu,"__esModule",{value:!0});bu.validateKeywordUsage=bu.validSchemaType=bu.funcKeywordCode=bu.macroKeywordCode=void 0;const Ws=fn,kh=Hu,W4e=cn,q4e=Jw;function G4e(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),l=_se(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const u=n.name("valid");e.subschema({schema:a,schemaPath:Ws.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}bu.macroKeywordCode=G4e;function K4e(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:l}=e;Q4e(l,t);const u=!a&&t.compile?t.compile.call(l.self,s,o,l):t.validate,c=_se(r,i,u),d=r.let("valid");e.block$data(d,h),e.ok((n=t.valid)!==null&&n!==void 0?n:d);function h(){if(t.errors===!1)y(),t.modifying&&BH(e),_(()=>e.error());else{const v=t.async?m():g();t.modifying&&BH(e),_(()=>Y4e(e,v))}}function m(){const v=r.let("ruleErrs",null);return r.try(()=>y((0,Ws._)`await `),b=>r.assign(d,!1).if((0,Ws._)`${b} instanceof ${l.ValidationError}`,()=>r.assign(v,(0,Ws._)`${b}.errors`),()=>r.throw(b))),v}function g(){const v=(0,Ws._)`${c}.errors`;return r.assign(v,null),y(Ws.nil),v}function y(v=t.async?(0,Ws._)`await `:Ws.nil){const b=l.opts.passContext?kh.default.this:kh.default.self,S=!("compile"in t&&!a||t.schema===!1);r.assign(d,(0,Ws._)`${v}${(0,W4e.callValidateCode)(e,c,b,S)}`,t.modifying)}function _(v){var b;r.if((0,Ws.not)((b=t.valid)!==null&&b!==void 0?b:d),v)}}bu.funcKeywordCode=K4e;function BH(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,Ws._)`${r.parentData}[${r.parentDataProperty}]`))}function Y4e(e,t){const{gen:n}=e;n.if((0,Ws._)`Array.isArray(${t})`,()=>{n.assign(kh.default.vErrors,(0,Ws._)`${kh.default.vErrors} === null ? ${t} : ${kh.default.vErrors}.concat(${t})`).assign(kh.default.errors,(0,Ws._)`${kh.default.vErrors}.length`),(0,q4e.extendErrors)(e)},()=>e.error())}function Q4e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function _se(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Ws.stringify)(n)})}function X4e(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}bu.validSchemaType=X4e;function J4e({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const l=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}bu.validateKeywordUsage=J4e;var dd={};Object.defineProperty(dd,"__esModule",{value:!0});dd.extendSubschemaMode=dd.extendSubschemaData=dd.getSubschema=void 0;const du=fn,wse=Dn;function Z4e(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,du._)`${e.schemaPath}${(0,du.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,du._)`${e.schemaPath}${(0,du.getProperty)(t)}${(0,du.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,wse.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}dd.getSubschema=Z4e;function eze(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:d}=t,h=a.let("data",(0,du._)`${t.data}${(0,du.getProperty)(n)}`,!0);l(h),e.errorPath=(0,du.str)`${u}${(0,wse.getErrorPath)(n,r,d.jsPropertySyntax)}`,e.parentDataProperty=(0,du._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof du.Name?i:a.let("data",i,!0);l(u),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}dd.extendSubschemaData=eze;function tze(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}dd.extendSubschemaMode=tze;var as={},h3=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const zH=Uu(h3);var bse={exports:{}},Jf=bse.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};Ix(t,r,i,e,"",e)};Jf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Jf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Jf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Jf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ix(e,t,n,r,i,s,o,a,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,l,u);for(var c in r){var d=r[c];if(Array.isArray(d)){if(c in Jf.arrayKeywords)for(var h=0;h<d.length;h++)Ix(e,t,n,d[h],i+"/"+c+"/"+h,s,i,c,r,h)}else if(c in Jf.propsKeywords){if(d&&typeof d=="object")for(var m in d)Ix(e,t,n,d[m],i+"/"+c+"/"+nze(m),s,i,c,r,m)}else(c in Jf.keywords||e.allKeys&&!(c in Jf.skipKeywords))&&Ix(e,t,n,d,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,l,u)}}function nze(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var rze=bse.exports;Object.defineProperty(as,"__esModule",{value:!0});as.getSchemaRefs=as.resolveUrl=as.normalizeId=as._getFullPath=as.getFullPath=as.inlineRef=void 0;const ize=Dn,sze=h3,oze=rze,aze=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function lze(e,t=!0){return typeof e=="boolean"?!0:t===!0?!rD(e):t?Sse(e)<=t:!1}as.inlineRef=lze;const uze=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function rD(e){for(const t in e){if(uze.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(rD)||typeof n=="object"&&rD(n))return!0}return!1}function Sse(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!aze.has(n)&&(typeof e[n]=="object"&&(0,ize.eachItem)(e[n],r=>t+=Sse(r)),t===1/0))return 1/0}return t}function xse(e,t="",n){n!==!1&&(t=Sg(t));const r=e.parse(t);return Ese(e,r)}as.getFullPath=xse;function Ese(e,t){return e.serialize(t).split("#")[0]+"#"}as._getFullPath=Ese;const cze=/#\/?$/;function Sg(e){return e?e.replace(cze,""):""}as.normalizeId=Sg;function fze(e,t,n){return n=Sg(n),e.resolve(t,n)}as.resolveUrl=fze;const dze=/^[a-z_][-a-z0-9._]*$/i;function hze(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=Sg(e[n]||t),s={"":i},o=xse(r,i,!1),a={},l=new Set;return oze(e,{allKeys:!0},(d,h,m,g)=>{if(g===void 0)return;const y=o+h;let _=s[g];typeof d[n]=="string"&&(_=v.call(this,d[n])),b.call(this,d.$anchor),b.call(this,d.$dynamicAnchor),s[h]=_;function v(S){const x=this.opts.uriResolver.resolve;if(S=Sg(_?x(_,S):S),l.has(S))throw c(S);l.add(S);let $=this.refs[S];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(d,$.schema,S):S!==Sg(y)&&(S[0]==="#"?(u(d,a[S],S),a[S]=d):this.refs[S]=y),S}function b(S){if(typeof S=="string"){if(!dze.test(S))throw new Error(`invalid anchor "${S}"`);v.call(this,`#${S}`)}}}),a;function u(d,h,m){if(h!==void 0&&!sze(d,h))throw c(m)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}as.getSchemaRefs=hze;Object.defineProperty(Ml,"__esModule",{value:!0});Ml.getData=Ml.KeywordCxt=Ml.validateFunctionCode=void 0;const Ise=Zg,VH=Zw,p3=kc,hO=Zw,pze=KC,e_=bu,ZA=dd,pt=fn,At=Hu,mze=as,Ac=Dn,Yv=Jw;function gze(e){if(Cse(e)&&(Pse(e),$se(e))){_ze(e);return}Ose(e,()=>(0,Ise.topBoolOrEmptySchema)(e))}Ml.validateFunctionCode=gze;function Ose({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,pt._)`${At.default.data}, ${At.default.valCxt}`,r.$async,()=>{e.code((0,pt._)`"use strict"; ${UH(n,i)}`),vze(e,i),e.code(s)}):e.func(t,(0,pt._)`${At.default.data}, ${yze(i)}`,r.$async,()=>e.code(UH(n,i)).code(s))}function yze(e){return(0,pt._)`{${At.default.instancePath}="", ${At.default.parentData}, ${At.default.parentDataProperty}, ${At.default.rootData}=${At.default.data}${e.dynamicRef?(0,pt._)`, ${At.default.dynamicAnchors}={}`:pt.nil}}={}`}function vze(e,t){e.if(At.default.valCxt,()=>{e.var(At.default.instancePath,(0,pt._)`${At.default.valCxt}.${At.default.instancePath}`),e.var(At.default.parentData,(0,pt._)`${At.default.valCxt}.${At.default.parentData}`),e.var(At.default.parentDataProperty,(0,pt._)`${At.default.valCxt}.${At.default.parentDataProperty}`),e.var(At.default.rootData,(0,pt._)`${At.default.valCxt}.${At.default.rootData}`),t.dynamicRef&&e.var(At.default.dynamicAnchors,(0,pt._)`${At.default.valCxt}.${At.default.dynamicAnchors}`)},()=>{e.var(At.default.instancePath,(0,pt._)`""`),e.var(At.default.parentData,(0,pt._)`undefined`),e.var(At.default.parentDataProperty,(0,pt._)`undefined`),e.var(At.default.rootData,At.default.data),t.dynamicRef&&e.var(At.default.dynamicAnchors,(0,pt._)`{}`)})}function _ze(e){const{schema:t,opts:n,gen:r}=e;Ose(e,()=>{n.$comment&&t.$comment&&kse(e),Eze(e),r.let(At.default.vErrors,null),r.let(At.default.errors,0),n.unevaluated&&wze(e),Tse(e),$ze(e)})}function wze(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,pt._)`${n}.evaluated`),t.if((0,pt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,pt._)`${e.evaluated}.props`,(0,pt._)`undefined`)),t.if((0,pt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,pt._)`${e.evaluated}.items`,(0,pt._)`undefined`))}function UH(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,pt._)`/*# sourceURL=${n} */`:pt.nil}function bze(e,t){if(Cse(e)&&(Pse(e),$se(e))){Sze(e,t);return}(0,Ise.boolOrEmptySchema)(e,t)}function $se({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function Cse(e){return typeof e.schema!="boolean"}function Sze(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&kse(e),Ize(e),Oze(e);const s=r.const("_errs",At.default.errors);Tse(e,s),r.var(t,(0,pt._)`${s} === ${At.default.errors}`)}function Pse(e){(0,Ac.checkUnknownRules)(e),xze(e)}function Tse(e,t){if(e.opts.jtd)return HH(e,[],!1,t);const n=(0,VH.getSchemaTypes)(e.schema),r=(0,VH.coerceAndCheckDataType)(e,n);HH(e,n,!r,t)}function xze(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Ac.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function Eze(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Ac.checkStrictMode)(e,"default is ignored in the schema root")}function Ize(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,mze.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Oze(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function kse({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,pt._)`${At.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,pt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,pt._)`${At.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function $ze(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,pt._)`${At.default.errors} === 0`,()=>t.return(At.default.data),()=>t.throw((0,pt._)`new ${i}(${At.default.vErrors})`)):(t.assign((0,pt._)`${r}.errors`,At.default.vErrors),s.unevaluated&&Cze(e),t.return((0,pt._)`${At.default.errors} === 0`))}function Cze({gen:e,evaluated:t,props:n,items:r}){n instanceof pt.Name&&e.assign((0,pt._)`${t}.props`,n),r instanceof pt.Name&&e.assign((0,pt._)`${t}.items`,r)}function HH(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Ac.schemaHasRulesButRef)(s,c))){i.block(()=>Rse(e,"$ref",c.all.$ref.definition));return}l.jtd||Pze(e,t),i.block(()=>{for(const h of c.rules)d(h);d(c.post)});function d(h){(0,p3.shouldUseGroup)(s,h)&&(h.type?(i.if((0,hO.checkDataType)(h.type,o,l.strictNumbers)),WH(e,h),t.length===1&&t[0]===h.type&&n&&(i.else(),(0,hO.reportTypeError)(e)),i.endIf()):WH(e,h),a||i.if((0,pt._)`${At.default.errors} === ${r||0}`))}}function WH(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,pze.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,p3.shouldUseRule)(r,s)&&Rse(e,s.keyword,s.definition,t.type)})}function Pze(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Tze(e,t),e.opts.allowUnionTypes||kze(e,t),Aze(e,e.dataTypes))}function Tze(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{Ase(e.dataTypes,n)||m3(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),Rze(e,t)}}function kze(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&m3(e,"use allowUnionTypes to allow union type keyword")}function Aze(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,p3.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>Nze(t,o))&&m3(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function Nze(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Ase(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Rze(e,t){const n=[];for(const r of e.dataTypes)Ase(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function m3(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Ac.checkStrictMode)(e,t,e.opts.strictTypes)}class Nse{constructor(t,n,r){if((0,e_.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ac.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",Dse(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,e_.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",At.default.errors))}result(t,n,r){this.failResult((0,pt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,pt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,pt._)`${n} !== undefined && (${(0,pt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?Yv.reportExtraError:Yv.reportError)(this,this.def.error,n)}$dataError(){(0,Yv.reportError)(this,this.def.$dataError||Yv.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Yv.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=pt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=pt.nil,n=pt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,pt.or)((0,pt._)`${i} === undefined`,n)),t!==pt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==pt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,pt.or)(o(),a());function o(){if(r.length){if(!(n instanceof pt.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,pt._)`${(0,hO.checkDataTypes)(l,n,s.opts.strictNumbers,hO.DataType.Wrong)}`}return pt.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,pt._)`!${l}(${n})`}return pt.nil}}subschema(t,n){const r=(0,ZA.getSubschema)(this.it,t);(0,ZA.extendSubschemaData)(r,this.it,t),(0,ZA.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return bze(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Ac.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Ac.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,pt.Name)),!0}}Ml.KeywordCxt=Nse;function Rse(e,t,n,r){const i=new Nse(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,e_.funcKeywordCode)(i,n):"macro"in n?(0,e_.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,e_.funcKeywordCode)(i,n)}const Dze=/^\/(?:[^~]|~0|~1)*$/,Mze=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Dse(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return At.default.rootData;if(e[0]==="/"){if(!Dze.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=At.default.rootData}else{const u=Mze.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return r[t-c]}if(c>t)throw new Error(l("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const u of a)u&&(s=(0,pt._)`${s}${(0,pt.getProperty)((0,Ac.unescapeJsonPointer)(u))}`,o=(0,pt._)`${o} && ${s}`);return o;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}Ml.getData=Dse;var e1={};Object.defineProperty(e1,"__esModule",{value:!0});class Lze extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}e1.default=Lze;var t1={};Object.defineProperty(t1,"__esModule",{value:!0});const eN=as;class Fze extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,eN.resolveUrl)(t,n,r),this.missingSchema=(0,eN.normalizeId)((0,eN.getFullPath)(t,this.missingRef))}}t1.default=Fze;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.resolveSchema=Eo.getCompilingSchema=Eo.resolveRef=Eo.compileSchema=Eo.SchemaEnv=void 0;const _l=fn,jze=e1,gh=Hu,Cl=as,qH=Dn,Bze=Ml;class YC{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Cl.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Eo.SchemaEnv=YC;function g3(e){const t=Mse.call(this,e);if(t)return t;const n=(0,Cl.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new _l.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:jze.default,code:(0,_l._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const u={gen:o,allErrors:this.opts.allErrors,data:gh.default.data,parentData:gh.default.parentData,parentDataProperty:gh.default.parentDataProperty,dataNames:[gh.default.data],dataPathArr:[_l.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,_l.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:_l.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,_l._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,Bze.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const d=o.toString();c=`${o.scopeRefs(gh.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const m=new Function(`${gh.default.self}`,`${gh.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:g,items:y}=u;m.evaluated={props:g instanceof _l.Name?void 0:g,items:y instanceof _l.Name?void 0:y,dynamicProps:g instanceof _l.Name,dynamicItems:y instanceof _l.Name},m.source&&(m.source.evaluated=(0,_l.stringify)(m.evaluated))}return e.validate=m,e}catch(d){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(e)}}Eo.compileSchema=g3;function zze(e,t,n){var r;n=(0,Cl.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=Hze.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new YC({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=Vze.call(this,s)}Eo.resolveRef=zze;function Vze(e){return(0,Cl.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:g3.call(this,e)}function Mse(e){for(const t of this._compilations)if(Uze(t,e))return t}Eo.getCompilingSchema=Mse;function Uze(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Hze(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||QC.call(this,e,t)}function QC(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Cl._getFullPath)(this.opts.uriResolver,n);let i=(0,Cl.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return tN.call(this,n,e);const s=(0,Cl.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=QC.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:tN.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||g3.call(this,o),s===(0,Cl.normalizeId)(t)){const{schema:a}=o,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,Cl.resolveUrl)(this.opts.uriResolver,i,u)),new YC({schema:a,schemaId:l,root:e,baseId:i})}return tN.call(this,n,o)}}Eo.resolveSchema=QC;const Wze=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function tN(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,qH.unescapeFragment)(a)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!Wze.has(a)&&u&&(t=(0,Cl.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,qH.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Cl.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=QC.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new YC({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const qze="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Gze="Meta-schema for $data reference (JSON AnySchema extension proposal)",Kze="object",Yze=["$data"],Qze={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Xze=!1,Jze={$id:qze,description:Gze,type:Kze,required:Yze,properties:Qze,additionalProperties:Xze};var y3={},iD={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(So,function(n){function r(){for(var ee=arguments.length,G=Array(ee),ne=0;ne<ee;ne++)G[ne]=arguments[ne];if(G.length>1){G[0]=G[0].slice(0,-1);for(var we=G.length-1,_e=1;_e<we;++_e)G[_e]=G[_e].slice(1,-1);return G[we]=G[we].slice(1),G.join("")}else return G[0]}function i(ee){return"(?:"+ee+")"}function s(ee){return ee===void 0?"undefined":ee===null?"null":Object.prototype.toString.call(ee).split(" ").pop().split("]").shift().toLowerCase()}function o(ee){return ee.toUpperCase()}function a(ee){return ee!=null?ee instanceof Array?ee:typeof ee.length!="number"||ee.split||ee.setInterval||ee.call?[ee]:Array.prototype.slice.call(ee):[]}function l(ee,G){var ne=ee;if(G)for(var we in G)ne[we]=G[we];return ne}function u(ee){var G="[A-Za-z]",ne="[0-9]",we=r(ne,"[A-Fa-f]"),_e=i(i("%[EFef]"+we+"%"+we+we+"%"+we+we)+"|"+i("%[89A-Fa-f]"+we+"%"+we+we)+"|"+i("%"+we+we)),nt="[\\:\\/\\?\\#\\[\\]\\@]",Ce="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",et=r(nt,Ce),Ct=ee?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ct=ee?"[\\uE000-\\uF8FF]":"[]",Pt=r(G,ne,"[\\-\\.\\_\\~]",Ct);i(G+r(G,ne,"[\\+\\-\\.]")+"*"),i(i(_e+"|"+r(Pt,Ce,"[\\:]"))+"*");var Yt=i(i("25[0-5]")+"|"+i("2[0-4]"+ne)+"|"+i("1"+ne+ne)+"|"+i("0?[1-9]"+ne)+"|0?0?"+ne),rr=i(Yt+"\\."+Yt+"\\."+Yt+"\\."+Yt),Et=i(we+"{1,4}"),Hn=i(i(Et+"\\:"+Et)+"|"+rr),kt=i(i(Et+"\\:")+"{6}"+Hn),Mn=i("\\:\\:"+i(Et+"\\:")+"{5}"+Hn),Or=i(i(Et)+"?\\:\\:"+i(Et+"\\:")+"{4}"+Hn),Yi=i(i(i(Et+"\\:")+"{0,1}"+Et)+"?\\:\\:"+i(Et+"\\:")+"{3}"+Hn),ei=i(i(i(Et+"\\:")+"{0,2}"+Et)+"?\\:\\:"+i(Et+"\\:")+"{2}"+Hn),ba=i(i(i(Et+"\\:")+"{0,3}"+Et)+"?\\:\\:"+Et+"\\:"+Hn),Qi=i(i(i(Et+"\\:")+"{0,4}"+Et)+"?\\:\\:"+Hn),$r=i(i(i(Et+"\\:")+"{0,5}"+Et)+"?\\:\\:"+Et),rt=i(i(i(Et+"\\:")+"{0,6}"+Et)+"?\\:\\:"),an=i([kt,Mn,Or,Yi,ei,ba,Qi,$r,rt].join("|")),yr=i(i(Pt+"|"+_e)+"+");i("[vV]"+we+"+\\."+r(Pt,Ce,"[\\:]")+"+"),i(i(_e+"|"+r(Pt,Ce))+"*");var Di=i(_e+"|"+r(Pt,Ce,"[\\:\\@]"));return i(i(_e+"|"+r(Pt,Ce,"[\\@]"))+"+"),i(i(Di+"|"+r("[\\/\\?]",ct))+"*"),{NOT_SCHEME:new RegExp(r("[^]",G,ne,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Pt,Ce),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Pt,Ce),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Pt,Ce),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Pt,Ce),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Pt,Ce,"[\\:\\@\\/\\?]",ct),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Pt,Ce,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Pt,Ce),"g"),UNRESERVED:new RegExp(Pt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Pt,et),"g"),PCT_ENCODED:new RegExp(_e,"g"),IPV4ADDRESS:new RegExp("^("+rr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+an+")"+i(i("\\%25|\\%(?!"+we+"{2})")+"("+yr+")")+"?\\]?$")}}var c=u(!1),d=u(!0),h=function(){function ee(G,ne){var we=[],_e=!0,nt=!1,Ce=void 0;try{for(var et=G[Symbol.iterator](),Ct;!(_e=(Ct=et.next()).done)&&(we.push(Ct.value),!(ne&&we.length===ne));_e=!0);}catch(ct){nt=!0,Ce=ct}finally{try{!_e&&et.return&&et.return()}finally{if(nt)throw Ce}}return we}return function(G,ne){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return ee(G,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(ee){if(Array.isArray(ee)){for(var G=0,ne=Array(ee.length);G<ee.length;G++)ne[G]=ee[G];return ne}else return Array.from(ee)},g=2147483647,y=36,_=1,v=26,b=38,S=700,x=72,$=128,E="-",I=/^xn--/,T=/[^\0-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=y-_,H=Math.floor,q=String.fromCharCode;function B(ee){throw new RangeError(U[ee])}function ue(ee,G){for(var ne=[],we=ee.length;we--;)ne[we]=G(ee[we]);return ne}function le(ee,G){var ne=ee.split("@"),we="";ne.length>1&&(we=ne[0]+"@",ee=ne[1]),ee=ee.replace(M,".");var _e=ee.split("."),nt=ue(_e,G).join(".");return we+nt}function pe(ee){for(var G=[],ne=0,we=ee.length;ne<we;){var _e=ee.charCodeAt(ne++);if(_e>=55296&&_e<=56319&&ne<we){var nt=ee.charCodeAt(ne++);(nt&64512)==56320?G.push(((_e&1023)<<10)+(nt&1023)+65536):(G.push(_e),ne--)}else G.push(_e)}return G}var Z=function(G){return String.fromCodePoint.apply(String,m(G))},oe=function(G){return G-48<10?G-22:G-65<26?G-65:G-97<26?G-97:y},X=function(G,ne){return G+22+75*(G<26)-((ne!=0)<<5)},k=function(G,ne,we){var _e=0;for(G=we?H(G/S):G>>1,G+=H(G/ne);G>z*v>>1;_e+=y)G=H(G/z);return H(_e+(z+1)*G/(G+b))},A=function(G){var ne=[],we=G.length,_e=0,nt=$,Ce=x,et=G.lastIndexOf(E);et<0&&(et=0);for(var Ct=0;Ct<et;++Ct)G.charCodeAt(Ct)>=128&&B("not-basic"),ne.push(G.charCodeAt(Ct));for(var ct=et>0?et+1:0;ct<we;){for(var Pt=_e,Yt=1,rr=y;;rr+=y){ct>=we&&B("invalid-input");var Et=oe(G.charCodeAt(ct++));(Et>=y||Et>H((g-_e)/Yt))&&B("overflow"),_e+=Et*Yt;var Hn=rr<=Ce?_:rr>=Ce+v?v:rr-Ce;if(Et<Hn)break;var kt=y-Hn;Yt>H(g/kt)&&B("overflow"),Yt*=kt}var Mn=ne.length+1;Ce=k(_e-Pt,Mn,Pt==0),H(_e/Mn)>g-nt&&B("overflow"),nt+=H(_e/Mn),_e%=Mn,ne.splice(_e++,0,nt)}return String.fromCodePoint.apply(String,ne)},K=function(G){var ne=[];G=pe(G);var we=G.length,_e=$,nt=0,Ce=x,et=!0,Ct=!1,ct=void 0;try{for(var Pt=G[Symbol.iterator](),Yt;!(et=(Yt=Pt.next()).done);et=!0){var rr=Yt.value;rr<128&&ne.push(q(rr))}}catch(xe){Ct=!0,ct=xe}finally{try{!et&&Pt.return&&Pt.return()}finally{if(Ct)throw ct}}var Et=ne.length,Hn=Et;for(Et&&ne.push(E);Hn<we;){var kt=g,Mn=!0,Or=!1,Yi=void 0;try{for(var ei=G[Symbol.iterator](),ba;!(Mn=(ba=ei.next()).done);Mn=!0){var Qi=ba.value;Qi>=_e&&Qi<kt&&(kt=Qi)}}catch(xe){Or=!0,Yi=xe}finally{try{!Mn&&ei.return&&ei.return()}finally{if(Or)throw Yi}}var $r=Hn+1;kt-_e>H((g-nt)/$r)&&B("overflow"),nt+=(kt-_e)*$r,_e=kt;var rt=!0,an=!1,yr=void 0;try{for(var Di=G[Symbol.iterator](),io;!(rt=(io=Di.next()).done);rt=!0){var F=io.value;if(F<_e&&++nt>g&&B("overflow"),F==_e){for(var J=nt,W=y;;W+=y){var se=W<=Ce?_:W>=Ce+v?v:W-Ce;if(J<se)break;var ce=J-se,ie=y-se;ne.push(q(X(se+ce%ie,0))),J=H(ce/ie)}ne.push(q(X(J,0))),Ce=k(nt,$r,Hn==Et),nt=0,++Hn}}}catch(xe){an=!0,yr=xe}finally{try{!rt&&Di.return&&Di.return()}finally{if(an)throw yr}}++nt,++_e}return ne.join("")},D=function(G){return le(G,function(ne){return I.test(ne)?A(ne.slice(4).toLowerCase()):ne})},R=function(G){return le(G,function(ne){return T.test(ne)?"xn--"+K(ne):ne})},Y={version:"2.1.0",ucs2:{decode:pe,encode:Z},decode:A,encode:K,toASCII:R,toUnicode:D},fe={};function he(ee){var G=ee.charCodeAt(0),ne=void 0;return G<16?ne="%0"+G.toString(16).toUpperCase():G<128?ne="%"+G.toString(16).toUpperCase():G<2048?ne="%"+(G>>6|192).toString(16).toUpperCase()+"%"+(G&63|128).toString(16).toUpperCase():ne="%"+(G>>12|224).toString(16).toUpperCase()+"%"+(G>>6&63|128).toString(16).toUpperCase()+"%"+(G&63|128).toString(16).toUpperCase(),ne}function ge(ee){for(var G="",ne=0,we=ee.length;ne<we;){var _e=parseInt(ee.substr(ne+1,2),16);if(_e<128)G+=String.fromCharCode(_e),ne+=3;else if(_e>=194&&_e<224){if(we-ne>=6){var nt=parseInt(ee.substr(ne+4,2),16);G+=String.fromCharCode((_e&31)<<6|nt&63)}else G+=ee.substr(ne,6);ne+=6}else if(_e>=224){if(we-ne>=9){var Ce=parseInt(ee.substr(ne+4,2),16),et=parseInt(ee.substr(ne+7,2),16);G+=String.fromCharCode((_e&15)<<12|(Ce&63)<<6|et&63)}else G+=ee.substr(ne,9);ne+=9}else G+=ee.substr(ne,3),ne+=3}return G}function ve(ee,G){function ne(we){var _e=ge(we);return _e.match(G.UNRESERVED)?_e:we}return ee.scheme&&(ee.scheme=String(ee.scheme).replace(G.PCT_ENCODED,ne).toLowerCase().replace(G.NOT_SCHEME,"")),ee.userinfo!==void 0&&(ee.userinfo=String(ee.userinfo).replace(G.PCT_ENCODED,ne).replace(G.NOT_USERINFO,he).replace(G.PCT_ENCODED,o)),ee.host!==void 0&&(ee.host=String(ee.host).replace(G.PCT_ENCODED,ne).toLowerCase().replace(G.NOT_HOST,he).replace(G.PCT_ENCODED,o)),ee.path!==void 0&&(ee.path=String(ee.path).replace(G.PCT_ENCODED,ne).replace(ee.scheme?G.NOT_PATH:G.NOT_PATH_NOSCHEME,he).replace(G.PCT_ENCODED,o)),ee.query!==void 0&&(ee.query=String(ee.query).replace(G.PCT_ENCODED,ne).replace(G.NOT_QUERY,he).replace(G.PCT_ENCODED,o)),ee.fragment!==void 0&&(ee.fragment=String(ee.fragment).replace(G.PCT_ENCODED,ne).replace(G.NOT_FRAGMENT,he).replace(G.PCT_ENCODED,o)),ee}function ke(ee){return ee.replace(/^0*(.*)/,"$1")||"0"}function ye(ee,G){var ne=ee.match(G.IPV4ADDRESS)||[],we=h(ne,2),_e=we[1];return _e?_e.split(".").map(ke).join("."):ee}function it(ee,G){var ne=ee.match(G.IPV6ADDRESS)||[],we=h(ne,3),_e=we[1],nt=we[2];if(_e){for(var Ce=_e.toLowerCase().split("::").reverse(),et=h(Ce,2),Ct=et[0],ct=et[1],Pt=ct?ct.split(":").map(ke):[],Yt=Ct.split(":").map(ke),rr=G.IPV4ADDRESS.test(Yt[Yt.length-1]),Et=rr?7:8,Hn=Yt.length-Et,kt=Array(Et),Mn=0;Mn<Et;++Mn)kt[Mn]=Pt[Mn]||Yt[Hn+Mn]||"";rr&&(kt[Et-1]=ye(kt[Et-1],G));var Or=kt.reduce(function($r,rt,an){if(!rt||rt==="0"){var yr=$r[$r.length-1];yr&&yr.index+yr.length===an?yr.length++:$r.push({index:an,length:1})}return $r},[]),Yi=Or.sort(function($r,rt){return rt.length-$r.length})[0],ei=void 0;if(Yi&&Yi.length>1){var ba=kt.slice(0,Yi.index),Qi=kt.slice(Yi.index+Yi.length);ei=ba.join(":")+"::"+Qi.join(":")}else ei=kt.join(":");return nt&&(ei+="%"+nt),ei}else return ee}var Ke=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Je="".match(/(){0}/)[1]===void 0;function He(ee){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne={},we=G.iri!==!1?d:c;G.reference==="suffix"&&(ee=(G.scheme?G.scheme+":":"")+"//"+ee);var _e=ee.match(Ke);if(_e){Je?(ne.scheme=_e[1],ne.userinfo=_e[3],ne.host=_e[4],ne.port=parseInt(_e[5],10),ne.path=_e[6]||"",ne.query=_e[7],ne.fragment=_e[8],isNaN(ne.port)&&(ne.port=_e[5])):(ne.scheme=_e[1]||void 0,ne.userinfo=ee.indexOf("@")!==-1?_e[3]:void 0,ne.host=ee.indexOf("//")!==-1?_e[4]:void 0,ne.port=parseInt(_e[5],10),ne.path=_e[6]||"",ne.query=ee.indexOf("?")!==-1?_e[7]:void 0,ne.fragment=ee.indexOf("#")!==-1?_e[8]:void 0,isNaN(ne.port)&&(ne.port=ee.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?_e[4]:void 0)),ne.host&&(ne.host=it(ye(ne.host,we),we)),ne.scheme===void 0&&ne.userinfo===void 0&&ne.host===void 0&&ne.port===void 0&&!ne.path&&ne.query===void 0?ne.reference="same-document":ne.scheme===void 0?ne.reference="relative":ne.fragment===void 0?ne.reference="absolute":ne.reference="uri",G.reference&&G.reference!=="suffix"&&G.reference!==ne.reference&&(ne.error=ne.error||"URI is not a "+G.reference+" reference.");var nt=fe[(G.scheme||ne.scheme||"").toLowerCase()];if(!G.unicodeSupport&&(!nt||!nt.unicodeSupport)){if(ne.host&&(G.domainHost||nt&&nt.domainHost))try{ne.host=Y.toASCII(ne.host.replace(we.PCT_ENCODED,ge).toLowerCase())}catch(Ce){ne.error=ne.error||"Host's domain name can not be converted to ASCII via punycode: "+Ce}ve(ne,c)}else ve(ne,we);nt&&nt.parse&&nt.parse(ne,G)}else ne.error=ne.error||"URI can not be parsed.";return ne}function Ae(ee,G){var ne=G.iri!==!1?d:c,we=[];return ee.userinfo!==void 0&&(we.push(ee.userinfo),we.push("@")),ee.host!==void 0&&we.push(it(ye(String(ee.host),ne),ne).replace(ne.IPV6ADDRESS,function(_e,nt,Ce){return"["+nt+(Ce?"%25"+Ce:"")+"]"})),(typeof ee.port=="number"||typeof ee.port=="string")&&(we.push(":"),we.push(String(ee.port))),we.length?we.join(""):void 0}var Xe=/^\.\.?\//,_n=/^\/\.(\/|$)/,We=/^\/\.\.(\/|$)/,Ve=/^\/?(?:.|\n)*?(?=\/|$)/;function Tt(ee){for(var G=[];ee.length;)if(ee.match(Xe))ee=ee.replace(Xe,"");else if(ee.match(_n))ee=ee.replace(_n,"/");else if(ee.match(We))ee=ee.replace(We,"/"),G.pop();else if(ee==="."||ee==="..")ee="";else{var ne=ee.match(Ve);if(ne){var we=ne[0];ee=ee.slice(we.length),G.push(we)}else throw new Error("Unexpected dot segment condition")}return G.join("")}function st(ee){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=G.iri?d:c,we=[],_e=fe[(G.scheme||ee.scheme||"").toLowerCase()];if(_e&&_e.serialize&&_e.serialize(ee,G),ee.host&&!ne.IPV6ADDRESS.test(ee.host)){if(G.domainHost||_e&&_e.domainHost)try{ee.host=G.iri?Y.toUnicode(ee.host):Y.toASCII(ee.host.replace(ne.PCT_ENCODED,ge).toLowerCase())}catch(et){ee.error=ee.error||"Host's domain name can not be converted to "+(G.iri?"Unicode":"ASCII")+" via punycode: "+et}}ve(ee,ne),G.reference!=="suffix"&&ee.scheme&&(we.push(ee.scheme),we.push(":"));var nt=Ae(ee,G);if(nt!==void 0&&(G.reference!=="suffix"&&we.push("//"),we.push(nt),ee.path&&ee.path.charAt(0)!=="/"&&we.push("/")),ee.path!==void 0){var Ce=ee.path;!G.absolutePath&&(!_e||!_e.absolutePath)&&(Ce=Tt(Ce)),nt===void 0&&(Ce=Ce.replace(/^\/\//,"/%2F")),we.push(Ce)}return ee.query!==void 0&&(we.push("?"),we.push(ee.query)),ee.fragment!==void 0&&(we.push("#"),we.push(ee.fragment)),we.join("")}function Rt(ee,G){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=arguments[3],_e={};return we||(ee=He(st(ee,ne),ne),G=He(st(G,ne),ne)),ne=ne||{},!ne.tolerant&&G.scheme?(_e.scheme=G.scheme,_e.userinfo=G.userinfo,_e.host=G.host,_e.port=G.port,_e.path=Tt(G.path||""),_e.query=G.query):(G.userinfo!==void 0||G.host!==void 0||G.port!==void 0?(_e.userinfo=G.userinfo,_e.host=G.host,_e.port=G.port,_e.path=Tt(G.path||""),_e.query=G.query):(G.path?(G.path.charAt(0)==="/"?_e.path=Tt(G.path):((ee.userinfo!==void 0||ee.host!==void 0||ee.port!==void 0)&&!ee.path?_e.path="/"+G.path:ee.path?_e.path=ee.path.slice(0,ee.path.lastIndexOf("/")+1)+G.path:_e.path=G.path,_e.path=Tt(_e.path)),_e.query=G.query):(_e.path=ee.path,G.query!==void 0?_e.query=G.query:_e.query=ee.query),_e.userinfo=ee.userinfo,_e.host=ee.host,_e.port=ee.port),_e.scheme=ee.scheme),_e.fragment=G.fragment,_e}function on(ee,G,ne){var we=l({scheme:"null"},ne);return st(Rt(He(ee,we),He(G,we),we,!0),we)}function On(ee,G){return typeof ee=="string"?ee=st(He(ee,G),G):s(ee)==="object"&&(ee=He(st(ee,G),G)),ee}function Kn(ee,G,ne){return typeof ee=="string"?ee=st(He(ee,ne),ne):s(ee)==="object"&&(ee=st(ee,ne)),typeof G=="string"?G=st(He(G,ne),ne):s(G)==="object"&&(G=st(G,ne)),ee===G}function me(ee,G){return ee&&ee.toString().replace(!G||!G.iri?c.ESCAPE:d.ESCAPE,he)}function Ie(ee,G){return ee&&ee.toString().replace(!G||!G.iri?c.PCT_ENCODED:d.PCT_ENCODED,ge)}var qe={scheme:"http",domainHost:!0,parse:function(G,ne){return G.host||(G.error=G.error||"HTTP URIs must have a host."),G},serialize:function(G,ne){var we=String(G.scheme).toLowerCase()==="https";return(G.port===(we?443:80)||G.port==="")&&(G.port=void 0),G.path||(G.path="/"),G}},mt={scheme:"https",domainHost:qe.domainHost,parse:qe.parse,serialize:qe.serialize};function ze(ee){return typeof ee.secure=="boolean"?ee.secure:String(ee.scheme).toLowerCase()==="wss"}var gt={scheme:"ws",domainHost:!0,parse:function(G,ne){var we=G;return we.secure=ze(we),we.resourceName=(we.path||"/")+(we.query?"?"+we.query:""),we.path=void 0,we.query=void 0,we},serialize:function(G,ne){if((G.port===(ze(G)?443:80)||G.port==="")&&(G.port=void 0),typeof G.secure=="boolean"&&(G.scheme=G.secure?"wss":"ws",G.secure=void 0),G.resourceName){var we=G.resourceName.split("?"),_e=h(we,2),nt=_e[0],Ce=_e[1];G.path=nt&&nt!=="/"?nt:void 0,G.query=Ce,G.resourceName=void 0}return G.fragment=void 0,G}},Ge={scheme:"wss",domainHost:gt.domainHost,parse:gt.parse,serialize:gt.serialize},ft={},ur="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",dn="[0-9A-Fa-f]",Ft=i(i("%[EFef]"+dn+"%"+dn+dn+"%"+dn+dn)+"|"+i("%[89A-Fa-f]"+dn+"%"+dn+dn)+"|"+i("%"+dn+dn)),hr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Bn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hl=r(Bn,'[\\"\\\\]'),ui="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ms=new RegExp(ur,"g"),gs=new RegExp(Ft,"g"),ci=new RegExp(r("[^]",hr,"[\\.]",'[\\"]',hl),"g"),Dr=new RegExp(r("[^]",ur,ui),"g"),nr=Dr;function wn(ee){var G=ge(ee);return G.match(ms)?G:ee}var Ri={scheme:"mailto",parse:function(G,ne){var we=G,_e=we.to=we.path?we.path.split(","):[];if(we.path=void 0,we.query){for(var nt=!1,Ce={},et=we.query.split("&"),Ct=0,ct=et.length;Ct<ct;++Ct){var Pt=et[Ct].split("=");switch(Pt[0]){case"to":for(var Yt=Pt[1].split(","),rr=0,Et=Yt.length;rr<Et;++rr)_e.push(Yt[rr]);break;case"subject":we.subject=Ie(Pt[1],ne);break;case"body":we.body=Ie(Pt[1],ne);break;default:nt=!0,Ce[Ie(Pt[0],ne)]=Ie(Pt[1],ne);break}}nt&&(we.headers=Ce)}we.query=void 0;for(var Hn=0,kt=_e.length;Hn<kt;++Hn){var Mn=_e[Hn].split("@");if(Mn[0]=Ie(Mn[0]),ne.unicodeSupport)Mn[1]=Ie(Mn[1],ne).toLowerCase();else try{Mn[1]=Y.toASCII(Ie(Mn[1],ne).toLowerCase())}catch(Or){we.error=we.error||"Email address's domain name can not be converted to ASCII via punycode: "+Or}_e[Hn]=Mn.join("@")}return we},serialize:function(G,ne){var we=G,_e=a(G.to);if(_e){for(var nt=0,Ce=_e.length;nt<Ce;++nt){var et=String(_e[nt]),Ct=et.lastIndexOf("@"),ct=et.slice(0,Ct).replace(gs,wn).replace(gs,o).replace(ci,he),Pt=et.slice(Ct+1);try{Pt=ne.iri?Y.toUnicode(Pt):Y.toASCII(Ie(Pt,ne).toLowerCase())}catch(Hn){we.error=we.error||"Email address's domain name can not be converted to "+(ne.iri?"Unicode":"ASCII")+" via punycode: "+Hn}_e[nt]=ct+"@"+Pt}we.path=_e.join(",")}var Yt=G.headers=G.headers||{};G.subject&&(Yt.subject=G.subject),G.body&&(Yt.body=G.body);var rr=[];for(var Et in Yt)Yt[Et]!==ft[Et]&&rr.push(Et.replace(gs,wn).replace(gs,o).replace(Dr,he)+"="+Yt[Et].replace(gs,wn).replace(gs,o).replace(nr,he));return rr.length&&(we.query=rr.join("&")),we}},ro=/^([^\:]+)\:(.*)/,Ur={scheme:"urn",parse:function(G,ne){var we=G.path&&G.path.match(ro),_e=G;if(we){var nt=ne.scheme||_e.scheme||"urn",Ce=we[1].toLowerCase(),et=we[2],Ct=nt+":"+(ne.nid||Ce),ct=fe[Ct];_e.nid=Ce,_e.nss=et,_e.path=void 0,ct&&(_e=ct.parse(_e,ne))}else _e.error=_e.error||"URN can not be parsed.";return _e},serialize:function(G,ne){var we=ne.scheme||G.scheme||"urn",_e=G.nid,nt=we+":"+(ne.nid||_e),Ce=fe[nt];Ce&&(G=Ce.serialize(G,ne));var et=G,Ct=G.nss;return et.path=(_e||ne.nid)+":"+Ct,et}},Ki=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ys={scheme:"urn:uuid",parse:function(G,ne){var we=G;return we.uuid=we.nss,we.nss=void 0,!ne.tolerant&&(!we.uuid||!we.uuid.match(Ki))&&(we.error=we.error||"UUID is not valid."),we},serialize:function(G,ne){var we=G;return we.nss=(G.uuid||"").toLowerCase(),we}};fe[qe.scheme]=qe,fe[mt.scheme]=mt,fe[gt.scheme]=gt,fe[Ge.scheme]=Ge,fe[Ri.scheme]=Ri,fe[Ur.scheme]=Ur,fe[ys.scheme]=ys,n.SCHEMES=fe,n.pctEncChar=he,n.pctDecChars=ge,n.parse=He,n.removeDotSegments=Tt,n.serialize=st,n.resolveComponents=Rt,n.resolve=on,n.normalize=On,n.equal=Kn,n.escapeComponent=me,n.unescapeComponent=Ie,Object.defineProperty(n,"__esModule",{value:!0})})})(iD,iD.exports);var Zze=iD.exports;Object.defineProperty(y3,"__esModule",{value:!0});const Lse=Zze;Lse.code='require("ajv/dist/runtime/uri").default';y3.default=Lse;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ml;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=fn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=e1,i=t1,s=wp,o=Eo,a=fn,l=as,u=Zw,c=Dn,d=Jze,h=y3,m=(X,k)=>new RegExp(X,k);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function S(X){var k,A,K,D,R,Y,fe,he,ge,ve,ke,ye,it,Ke,Je,He,Ae,Xe,_n,We,Ve,Tt,st,Rt,on;const On=X.strict,Kn=(k=X.code)===null||k===void 0?void 0:k.optimize,me=Kn===!0||Kn===void 0?1:Kn||0,Ie=(K=(A=X.code)===null||A===void 0?void 0:A.regExp)!==null&&K!==void 0?K:m,qe=(D=X.uriResolver)!==null&&D!==void 0?D:h.default;return{strictSchema:(Y=(R=X.strictSchema)!==null&&R!==void 0?R:On)!==null&&Y!==void 0?Y:!0,strictNumbers:(he=(fe=X.strictNumbers)!==null&&fe!==void 0?fe:On)!==null&&he!==void 0?he:!0,strictTypes:(ve=(ge=X.strictTypes)!==null&&ge!==void 0?ge:On)!==null&&ve!==void 0?ve:"log",strictTuples:(ye=(ke=X.strictTuples)!==null&&ke!==void 0?ke:On)!==null&&ye!==void 0?ye:"log",strictRequired:(Ke=(it=X.strictRequired)!==null&&it!==void 0?it:On)!==null&&Ke!==void 0?Ke:!1,code:X.code?{...X.code,optimize:me,regExp:Ie}:{optimize:me,regExp:Ie},loopRequired:(Je=X.loopRequired)!==null&&Je!==void 0?Je:b,loopEnum:(He=X.loopEnum)!==null&&He!==void 0?He:b,meta:(Ae=X.meta)!==null&&Ae!==void 0?Ae:!0,messages:(Xe=X.messages)!==null&&Xe!==void 0?Xe:!0,inlineRefs:(_n=X.inlineRefs)!==null&&_n!==void 0?_n:!0,schemaId:(We=X.schemaId)!==null&&We!==void 0?We:"$id",addUsedSchema:(Ve=X.addUsedSchema)!==null&&Ve!==void 0?Ve:!0,validateSchema:(Tt=X.validateSchema)!==null&&Tt!==void 0?Tt:!0,validateFormats:(st=X.validateFormats)!==null&&st!==void 0?st:!0,unicodeRegExp:(Rt=X.unicodeRegExp)!==null&&Rt!==void 0?Rt:!0,int32range:(on=X.int32range)!==null&&on!==void 0?on:!0,uriResolver:qe}}class x{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...S(k)};const{es5:A,lines:K}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:y,es5:A,lines:K}),this.logger=H(k.logger);const D=k.validateFormats;k.validateFormats=!1,this.RULES=(0,s.getRules)(),$.call(this,_,k,"NOT SUPPORTED"),$.call(this,v,k,"DEPRECATED","warn"),this._metaOpts=U.call(this),k.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&M.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),I.call(this),k.validateFormats=D}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:A,schemaId:K}=this.opts;let D=d;K==="id"&&(D={...d},D.id=D.$id,delete D.$id),A&&k&&this.addMetaSchema(D,D[K],!1)}defaultMeta(){const{meta:k,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[A]||k:void 0}validate(k,A){let K;if(typeof k=="string"){if(K=this.getSchema(k),!K)throw new Error(`no schema with key or ref "${k}"`)}else K=this.compile(k);const D=K(A);return"$async"in K||(this.errors=K.errors),D}compile(k,A){const K=this._addSchema(k,A);return K.validate||this._compileSchemaEnv(K)}compileAsync(k,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return D.call(this,k,A);async function D(ve,ke){await R.call(this,ve.$schema);const ye=this._addSchema(ve,ke);return ye.validate||Y.call(this,ye)}async function R(ve){ve&&!this.getSchema(ve)&&await D.call(this,{$ref:ve},!0)}async function Y(ve){try{return this._compileSchemaEnv(ve)}catch(ke){if(!(ke instanceof i.default))throw ke;return fe.call(this,ke),await he.call(this,ke.missingSchema),Y.call(this,ve)}}function fe({missingSchema:ve,missingRef:ke}){if(this.refs[ve])throw new Error(`AnySchema ${ve} is loaded but ${ke} cannot be resolved`)}async function he(ve){const ke=await ge.call(this,ve);this.refs[ve]||await R.call(this,ke.$schema),this.refs[ve]||this.addSchema(ke,ve,A)}async function ge(ve){const ke=this._loading[ve];if(ke)return ke;try{return await(this._loading[ve]=K(ve))}finally{delete this._loading[ve]}}}addSchema(k,A,K,D=this.opts.validateSchema){if(Array.isArray(k)){for(const Y of k)this.addSchema(Y,void 0,K,D);return this}let R;if(typeof k=="object"){const{schemaId:Y}=this.opts;if(R=k[Y],R!==void 0&&typeof R!="string")throw new Error(`schema ${Y} must be string`)}return A=(0,l.normalizeId)(A||R),this._checkUnique(A),this.schemas[A]=this._addSchema(k,K,A,D,!0),this}addMetaSchema(k,A,K=this.opts.validateSchema){return this.addSchema(k,A,!0,K),this}validateSchema(k,A){if(typeof k=="boolean")return!0;let K;if(K=k.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const D=this.validate(K,k);if(!D&&A){const R="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(R);else throw new Error(R)}return D}getSchema(k){let A;for(;typeof(A=E.call(this,k))=="string";)k=A;if(A===void 0){const{schemaId:K}=this.opts,D=new o.SchemaEnv({schema:{},schemaId:K});if(A=o.resolveSchema.call(this,D,k),!A)return;this.refs[k]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=E.call(this,k);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const A=k;this._cache.delete(A);let K=k[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const A of k)this.addKeyword(A);return this}addKeyword(k,A){let K;if(typeof k=="string")K=k,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=K);else if(typeof k=="object"&&A===void 0){if(A=k,K=A.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,K,A),!A)return(0,c.eachItem)(K,R=>ue.call(this,R)),this;pe.call(this,A);const D={...A,type:(0,u.getJSONTypes)(A.type),schemaType:(0,u.getJSONTypes)(A.schemaType)};return(0,c.eachItem)(K,D.type.length===0?R=>ue.call(this,R,D):R=>D.type.forEach(Y=>ue.call(this,R,D,Y))),this}getKeyword(k){const A=this.RULES.all[k];return typeof A=="object"?A.definition:!!A}removeKeyword(k){const{RULES:A}=this;delete A.keywords[k],delete A.all[k];for(const K of A.rules){const D=K.rules.findIndex(R=>R.keyword===k);D>=0&&K.rules.splice(D,1)}return this}addFormat(k,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[k]=A,this}errorsText(k=this.errors,{separator:A=", ",dataVar:K="data"}={}){return!k||k.length===0?"No errors":k.map(D=>`${K}${D.instancePath} ${D.message}`).reduce((D,R)=>D+A+R)}$dataMetaSchema(k,A){const K=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const D of A){const R=D.split("/").slice(1);let Y=k;for(const fe of R)Y=Y[fe];for(const fe in K){const he=K[fe];if(typeof he!="object")continue;const{$data:ge}=he.definition,ve=Y[fe];ge&&ve&&(Y[fe]=oe(ve))}}return k}_removeAllSchemas(k,A){for(const K in k){const D=k[K];(!A||A.test(K))&&(typeof D=="string"?delete k[K]:D&&!D.meta&&(this._cache.delete(D.schema),delete k[K]))}}_addSchema(k,A,K,D=this.opts.validateSchema,R=this.opts.addUsedSchema){let Y;const{schemaId:fe}=this.opts;if(typeof k=="object")Y=k[fe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let he=this._cache.get(k);if(he!==void 0)return he;K=(0,l.normalizeId)(Y||K);const ge=l.getSchemaRefs.call(this,k,K);return he=new o.SchemaEnv({schema:k,schemaId:fe,meta:A,baseId:K,localRefs:ge}),this._cache.set(he.schema,he),R&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=he),D&&this.validateSchema(k,!0),he}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):o.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const A=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,k)}finally{this.opts=A}}}e.default=x,x.ValidationError=r.default,x.MissingRefError=i.default;function $(X,k,A,K="error"){for(const D in X){const R=D;R in k&&this.logger[K](`${A}: option ${D}. ${X[R]}`)}}function E(X){return X=(0,l.normalizeId)(X),this.schemas[X]||this.refs[X]}function I(){const X=this.opts.schemas;if(X)if(Array.isArray(X))this.addSchema(X);else for(const k in X)this.addSchema(X[k],k)}function T(){for(const X in this.opts.formats){const k=this.opts.formats[X];k&&this.addFormat(X,k)}}function M(X){if(Array.isArray(X)){this.addVocabulary(X);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const k in X){const A=X[k];A.keyword||(A.keyword=k),this.addKeyword(A)}}function U(){const X={...this.opts};for(const k of g)delete X[k];return X}const z={log(){},warn(){},error(){}};function H(X){if(X===!1)return z;if(X===void 0)return console;if(X.log&&X.warn&&X.error)return X;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function B(X,k){const{RULES:A}=this;if((0,c.eachItem)(X,K=>{if(A.keywords[K])throw new Error(`Keyword ${K} is already defined`);if(!q.test(K))throw new Error(`Keyword ${K} has invalid name`)}),!!k&&k.$data&&!("code"in k||"validate"in k))throw new Error('$data keyword must have "code" or "validate" function')}function ue(X,k,A){var K;const D=k==null?void 0:k.post;if(A&&D)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:R}=this;let Y=D?R.post:R.rules.find(({type:he})=>he===A);if(Y||(Y={type:A,rules:[]},R.rules.push(Y)),R.keywords[X]=!0,!k)return;const fe={keyword:X,definition:{...k,type:(0,u.getJSONTypes)(k.type),schemaType:(0,u.getJSONTypes)(k.schemaType)}};k.before?le.call(this,Y,fe,k.before):Y.rules.push(fe),R.all[X]=fe,(K=k.implements)===null||K===void 0||K.forEach(he=>this.addKeyword(he))}function le(X,k,A){const K=X.rules.findIndex(D=>D.keyword===A);K>=0?X.rules.splice(K,0,k):(X.rules.push(k),this.logger.warn(`rule ${A} is not defined`))}function pe(X){let{metaSchema:k}=X;k!==void 0&&(X.$data&&this.opts.$data&&(k=oe(k)),X.validateSchema=this.compile(k,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function oe(X){return{anyOf:[X,Z]}}})(hse);var v3={},_3={},w3={};Object.defineProperty(w3,"__esModule",{value:!0});const e5e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};w3.default=e5e;var bp={};Object.defineProperty(bp,"__esModule",{value:!0});bp.callRef=bp.getValidate=void 0;const t5e=t1,GH=cn,po=fn,Om=Hu,KH=Eo,bS=Dn,n5e={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:l}=r,{root:u}=s;if((n==="#"||n==="#/")&&i===u.baseId)return d();const c=KH.resolveRef.call(l,u,i,n);if(c===void 0)throw new t5e.default(r.opts.uriResolver,i,n);if(c instanceof KH.SchemaEnv)return h(c);return m(c);function d(){if(s===u)return Ox(e,o,s,s.$async);const g=t.scopeValue("root",{ref:u});return Ox(e,(0,po._)`${g}.validate`,u,u.$async)}function h(g){const y=Fse(e,g);Ox(e,y,g,g.$async)}function m(g){const y=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,po.stringify)(g)}:{ref:g}),_=t.name("valid"),v=e.subschema({schema:g,dataTypes:[],schemaPath:po.nil,topSchemaRef:y,errSchemaPath:n},_);e.mergeEvaluated(v),e.ok(_)}}};function Fse(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,po._)`${n.scopeValue("wrapper",{ref:t})}.validate`}bp.getValidate=Fse;function Ox(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:l}=s,u=l.passContext?Om.default.this:po.nil;r?c():d();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,po._)`await ${(0,GH.callValidateCode)(e,t,u)}`),m(t),o||i.assign(g,!0)},y=>{i.if((0,po._)`!(${y} instanceof ${s.ValidationError})`,()=>i.throw(y)),h(y),o||i.assign(g,!1)}),e.ok(g)}function d(){e.result((0,GH.callValidateCode)(e,t,u),()=>m(t),()=>h(t))}function h(g){const y=(0,po._)`${g}.errors`;i.assign(Om.default.vErrors,(0,po._)`${Om.default.vErrors} === null ? ${y} : ${Om.default.vErrors}.concat(${y})`),i.assign(Om.default.errors,(0,po._)`${Om.default.vErrors}.length`)}function m(g){var y;if(!s.opts.unevaluated)return;const _=(y=n==null?void 0:n.validate)===null||y===void 0?void 0:y.evaluated;if(s.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(s.props=bS.mergeEvaluated.props(i,_.props,s.props));else{const v=i.var("props",(0,po._)`${g}.evaluated.props`);s.props=bS.mergeEvaluated.props(i,v,s.props,po.Name)}if(s.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(s.items=bS.mergeEvaluated.items(i,_.items,s.items));else{const v=i.var("items",(0,po._)`${g}.evaluated.items`);s.items=bS.mergeEvaluated.items(i,v,s.items,po.Name)}}}bp.callRef=Ox;bp.default=n5e;Object.defineProperty(_3,"__esModule",{value:!0});const r5e=w3,i5e=bp,s5e=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r5e.default,i5e.default];_3.default=s5e;var b3={},S3={};Object.defineProperty(S3,"__esModule",{value:!0});const pO=fn,Of=pO.operators,mO={maximum:{okStr:"<=",ok:Of.LTE,fail:Of.GT},minimum:{okStr:">=",ok:Of.GTE,fail:Of.LT},exclusiveMaximum:{okStr:"<",ok:Of.LT,fail:Of.GTE},exclusiveMinimum:{okStr:">",ok:Of.GT,fail:Of.LTE}},o5e={message:({keyword:e,schemaCode:t})=>(0,pO.str)`must be ${mO[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,pO._)`{comparison: ${mO[e].okStr}, limit: ${t}}`},a5e={keyword:Object.keys(mO),type:"number",schemaType:"number",$data:!0,error:o5e,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,pO._)`${n} ${mO[t].fail} ${r} || isNaN(${n})`)}};S3.default=a5e;var x3={};Object.defineProperty(x3,"__esModule",{value:!0});const t_=fn,l5e={message:({schemaCode:e})=>(0,t_.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,t_._)`{multipleOf: ${e}}`},u5e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:l5e,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,t_._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,t_._)`${o} !== parseInt(${o})`;e.fail$data((0,t_._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};x3.default=u5e;var E3={},I3={};Object.defineProperty(I3,"__esModule",{value:!0});function jse(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}I3.default=jse;jse.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(E3,"__esModule",{value:!0});const Ah=fn,c5e=Dn,f5e=I3,d5e={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Ah.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Ah._)`{limit: ${e}}`},h5e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:d5e,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?Ah.operators.GT:Ah.operators.LT,o=i.opts.unicode===!1?(0,Ah._)`${n}.length`:(0,Ah._)`${(0,c5e.useFunc)(e.gen,f5e.default)}(${n})`;e.fail$data((0,Ah._)`${o} ${s} ${r}`)}};E3.default=h5e;var O3={};Object.defineProperty(O3,"__esModule",{value:!0});const p5e=cn,gO=fn,m5e={message:({schemaCode:e})=>(0,gO.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,gO._)`{pattern: ${e}}`},g5e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:m5e,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,gO._)`(new RegExp(${i}, ${o}))`:(0,p5e.usePattern)(e,r);e.fail$data((0,gO._)`!${a}.test(${t})`)}};O3.default=g5e;var $3={};Object.defineProperty($3,"__esModule",{value:!0});const n_=fn,y5e={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,n_.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,n_._)`{limit: ${e}}`},v5e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:y5e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?n_.operators.GT:n_.operators.LT;e.fail$data((0,n_._)`Object.keys(${n}).length ${i} ${r}`)}};$3.default=v5e;var C3={};Object.defineProperty(C3,"__esModule",{value:!0});const Qv=cn,r_=fn,_5e=Dn,w5e={message:({params:{missingProperty:e}})=>(0,r_.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,r_._)`{missingProperty: ${e}}`},b5e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:w5e,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const l=n.length>=a.loopRequired;if(o.allErrors?u():c(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:g}=e.it;for(const y of n)if((m==null?void 0:m[y])===void 0&&!g.has(y)){const _=o.schemaEnv.baseId+o.errSchemaPath,v=`required property "${y}" is not defined at "${_}" (strictRequired)`;(0,_5e.checkStrictMode)(o,v,o.opts.strictRequired)}}function u(){if(l||s)e.block$data(r_.nil,d);else for(const m of n)(0,Qv.checkReportMissingProp)(e,m)}function c(){const m=t.let("missing");if(l||s){const g=t.let("valid",!0);e.block$data(g,()=>h(m,g)),e.ok(g)}else t.if((0,Qv.checkMissingProp)(e,n,m)),(0,Qv.reportMissingProp)(e,m),t.else()}function d(){t.forOf("prop",r,m=>{e.setParams({missingProperty:m}),t.if((0,Qv.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function h(m,g){e.setParams({missingProperty:m}),t.forOf(m,r,()=>{t.assign(g,(0,Qv.propertyInData)(t,i,m,a.ownProperties)),t.if((0,r_.not)(g),()=>{e.error(),t.break()})},r_.nil)}}};C3.default=b5e;var P3={};Object.defineProperty(P3,"__esModule",{value:!0});const i_=fn,S5e={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,i_.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,i_._)`{limit: ${e}}`},x5e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:S5e,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?i_.operators.GT:i_.operators.LT;e.fail$data((0,i_._)`${n}.length ${i} ${r}`)}};P3.default=x5e;var T3={},n1={};Object.defineProperty(n1,"__esModule",{value:!0});const Bse=h3;Bse.code='require("ajv/dist/runtime/equal").default';n1.default=Bse;Object.defineProperty(T3,"__esModule",{value:!0});const nN=Zw,es=fn,E5e=Dn,I5e=n1,O5e={message:({params:{i:e,j:t}})=>(0,es.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,es._)`{i: ${e}, j: ${t}}`},$5e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:O5e,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const l=t.let("valid"),u=s.items?(0,nN.getSchemaTypes)(s.items):[];e.block$data(l,c,(0,es._)`${o} === false`),e.ok(l);function c(){const g=t.let("i",(0,es._)`${n}.length`),y=t.let("j");e.setParams({i:g,j:y}),t.assign(l,!0),t.if((0,es._)`${g} > 1`,()=>(d()?h:m)(g,y))}function d(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function h(g,y){const _=t.name("item"),v=(0,nN.checkDataTypes)(u,_,a.opts.strictNumbers,nN.DataType.Wrong),b=t.const("indices",(0,es._)`{}`);t.for((0,es._)`;${g}--;`,()=>{t.let(_,(0,es._)`${n}[${g}]`),t.if(v,(0,es._)`continue`),u.length>1&&t.if((0,es._)`typeof ${_} == "string"`,(0,es._)`${_} += "_"`),t.if((0,es._)`typeof ${b}[${_}] == "number"`,()=>{t.assign(y,(0,es._)`${b}[${_}]`),e.error(),t.assign(l,!1).break()}).code((0,es._)`${b}[${_}] = ${g}`)})}function m(g,y){const _=(0,E5e.useFunc)(t,I5e.default),v=t.name("outer");t.label(v).for((0,es._)`;${g}--;`,()=>t.for((0,es._)`${y} = ${g}; ${y}--;`,()=>t.if((0,es._)`${_}(${n}[${g}], ${n}[${y}])`,()=>{e.error(),t.assign(l,!1).break(v)})))}}};T3.default=$5e;var k3={};Object.defineProperty(k3,"__esModule",{value:!0});const sD=fn,C5e=Dn,P5e=n1,T5e={message:"must be equal to constant",params:({schemaCode:e})=>(0,sD._)`{allowedValue: ${e}}`},k5e={keyword:"const",$data:!0,error:T5e,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,sD._)`!${(0,C5e.useFunc)(t,P5e.default)}(${n}, ${i})`):e.fail((0,sD._)`${s} !== ${n}`)}};k3.default=k5e;var A3={};Object.defineProperty(A3,"__esModule",{value:!0});const E0=fn,A5e=Dn,N5e=n1,R5e={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,E0._)`{allowedValues: ${e}}`},D5e={keyword:"enum",schemaType:"array",$data:!0,error:R5e,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let l;const u=()=>l??(l=(0,A5e.useFunc)(t,N5e.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);c=(0,E0.or)(...i.map((g,y)=>h(m,y)))}e.pass(c);function d(){t.assign(c,!1),t.forOf("v",s,m=>t.if((0,E0._)`${u()}(${n}, ${m})`,()=>t.assign(c,!0).break()))}function h(m,g){const y=i[g];return typeof y=="object"&&y!==null?(0,E0._)`${u()}(${n}, ${m}[${g}])`:(0,E0._)`${n} === ${y}`}}};A3.default=D5e;Object.defineProperty(b3,"__esModule",{value:!0});const M5e=S3,L5e=x3,F5e=E3,j5e=O3,B5e=$3,z5e=C3,V5e=P3,U5e=T3,H5e=k3,W5e=A3,q5e=[M5e.default,L5e.default,F5e.default,j5e.default,B5e.default,z5e.default,V5e.default,U5e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},H5e.default,W5e.default];b3.default=q5e;var N3={},zy={};Object.defineProperty(zy,"__esModule",{value:!0});zy.validateAdditionalItems=void 0;const Nh=fn,oD=Dn,G5e={message:({params:{len:e}})=>(0,Nh.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Nh._)`{limit: ${e}}`},K5e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:G5e,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,oD.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}zse(e,r)}};function zse(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Nh._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Nh._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,oD.alwaysValidSchema)(o,r)){const u=n.var("valid",(0,Nh._)`${a} <= ${t.length}`);n.if((0,Nh.not)(u),()=>l(u)),e.ok(u)}function l(u){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:oD.Type.Num},u),o.allErrors||n.if((0,Nh.not)(u),()=>n.break())})}}zy.validateAdditionalItems=zse;zy.default=K5e;var R3={},Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.validateTuple=void 0;const YH=fn,$x=Dn,Y5e=cn,Q5e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return Vse(e,"additionalItems",t);n.items=!0,!(0,$x.alwaysValidSchema)(n,t)&&e.ok((0,Y5e.validateArray)(e))}};function Vse(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=$x.mergeEvaluated.items(r,n.length,a.items));const l=r.name("valid"),u=r.const("len",(0,YH._)`${s}.length`);n.forEach((d,h)=>{(0,$x.alwaysValidSchema)(a,d)||(r.if((0,YH._)`${u} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function c(d){const{opts:h,errSchemaPath:m}=a,g=n.length,y=g===d.minItems&&(g===d.maxItems||d[t]===!1);if(h.strictTuples&&!y){const _=`"${o}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,$x.checkStrictMode)(a,_,h.strictTuples)}}}Vy.validateTuple=Vse;Vy.default=Q5e;Object.defineProperty(R3,"__esModule",{value:!0});const X5e=Vy,J5e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,X5e.validateTuple)(e,"items")};R3.default=J5e;var D3={};Object.defineProperty(D3,"__esModule",{value:!0});const QH=fn,Z5e=Dn,eVe=cn,tVe=zy,nVe={message:({params:{len:e}})=>(0,QH.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,QH._)`{limit: ${e}}`},rVe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:nVe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,Z5e.alwaysValidSchema)(r,t)&&(i?(0,tVe.validateAdditionalItems)(e,i):e.ok((0,eVe.validateArray)(e)))}};D3.default=rVe;var M3={};Object.defineProperty(M3,"__esModule",{value:!0});const Da=fn,SS=Dn,iVe={message:({params:{min:e,max:t}})=>t===void 0?(0,Da.str)`must contain at least ${e} valid item(s)`:(0,Da.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Da._)`{minContains: ${e}}`:(0,Da._)`{minContains: ${e}, maxContains: ${t}}`},sVe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:iVe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:l,maxContains:u}=r;s.opts.next?(o=l===void 0?1:l,a=u):o=1;const c=t.const("len",(0,Da._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,SS.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,SS.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,SS.alwaysValidSchema)(s,n)){let y=(0,Da._)`${c} >= ${o}`;a!==void 0&&(y=(0,Da._)`${y} && ${c} <= ${a}`),e.pass(y);return}s.items=!0;const d=t.name("valid");a===void 0&&o===1?m(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),a!==void 0&&t.if((0,Da._)`${i}.length > 0`,h)):(t.let(d,!1),h()),e.result(d,()=>e.reset());function h(){const y=t.name("_valid"),_=t.let("count",0);m(y,()=>t.if(y,()=>g(_)))}function m(y,_){t.forRange("i",0,c,v=>{e.subschema({keyword:"contains",dataProp:v,dataPropType:SS.Type.Num,compositeRule:!0},y),_()})}function g(y){t.code((0,Da._)`${y}++`),a===void 0?t.if((0,Da._)`${y} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,Da._)`${y} > ${a}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,Da._)`${y} >= ${o}`,()=>t.assign(d,!0)))}}};M3.default=sVe;var Use={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=fn,n=Dn,r=cn;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const h=Array.isArray(l[d])?u:c;h[d]=l[d]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:d,it:h}=l;if(Object.keys(u).length===0)return;const m=c.let("missing");for(const g in u){const y=u[g];if(y.length===0)continue;const _=(0,r.propertyInData)(c,d,g,h.opts.ownProperties);l.setParams({property:g,depsCount:y.length,deps:y.join(", ")}),h.allErrors?c.if(_,()=>{for(const v of y)(0,r.checkReportMissingProp)(l,v)}):(c.if((0,t._)`${_} && (${(0,r.checkMissingProp)(l,y,m)})`),(0,r.reportMissingProp)(l,m),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:d,keyword:h,it:m}=l,g=c.name("valid");for(const y in u)(0,n.alwaysValidSchema)(m,u[y])||(c.if((0,r.propertyInData)(c,d,y,m.opts.ownProperties),()=>{const _=l.subschema({keyword:h,schemaProp:y},g);l.mergeValidEvaluated(_,g)},()=>c.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(Use);var L3={};Object.defineProperty(L3,"__esModule",{value:!0});const Hse=fn,oVe=Dn,aVe={message:"property name must be valid",params:({params:e})=>(0,Hse._)`{propertyName: ${e.propertyName}}`},lVe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:aVe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,oVe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Hse.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};L3.default=lVe;var XC={};Object.defineProperty(XC,"__esModule",{value:!0});const xS=cn,wl=fn,uVe=Hu,ES=Dn,cVe={message:"must NOT have additional properties",params:({params:e})=>(0,wl._)`{additionalProperty: ${e.additionalProperty}}`},fVe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:cVe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,ES.alwaysValidSchema)(o,n))return;const u=(0,xS.allSchemaProperties)(r.properties),c=(0,xS.allSchemaProperties)(r.patternProperties);d(),e.ok((0,wl._)`${s} === ${uVe.default.errors}`);function d(){t.forIn("key",i,_=>{!u.length&&!c.length?g(_):t.if(h(_),()=>g(_))})}function h(_){let v;if(u.length>8){const b=(0,ES.schemaRefOrVal)(o,r.properties,"properties");v=(0,xS.isOwnProperty)(t,b,_)}else u.length?v=(0,wl.or)(...u.map(b=>(0,wl._)`${_} === ${b}`)):v=wl.nil;return c.length&&(v=(0,wl.or)(v,...c.map(b=>(0,wl._)`${(0,xS.usePattern)(e,b)}.test(${_})`))),(0,wl.not)(v)}function m(_){t.code((0,wl._)`delete ${i}[${_}]`)}function g(_){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){m(_);return}if(n===!1){e.setParams({additionalProperty:_}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,ES.alwaysValidSchema)(o,n)){const v=t.name("valid");l.removeAdditional==="failing"?(y(_,v,!1),t.if((0,wl.not)(v),()=>{e.reset(),m(_)})):(y(_,v),a||t.if((0,wl.not)(v),()=>t.break()))}}function y(_,v,b){const S={keyword:"additionalProperties",dataProp:_,dataPropType:ES.Type.Str};b===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,v)}}};XC.default=fVe;var F3={};Object.defineProperty(F3,"__esModule",{value:!0});const dVe=Ml,XH=cn,rN=Dn,JH=XC,hVe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&JH.default.code(new dVe.KeywordCxt(s,JH.default,"additionalProperties"));const o=(0,XH.allSchemaProperties)(n);for(const d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=rN.mergeEvaluated.props(t,(0,rN.toHash)(o),s.props));const a=o.filter(d=>!(0,rN.alwaysValidSchema)(s,n[d]));if(a.length===0)return;const l=t.name("valid");for(const d of a)u(d)?c(d):(t.if((0,XH.propertyInData)(t,i,d,s.opts.ownProperties)),c(d),s.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(l);function u(d){return s.opts.useDefaults&&!s.compositeRule&&n[d].default!==void 0}function c(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};F3.default=hVe;var j3={};Object.defineProperty(j3,"__esModule",{value:!0});const ZH=cn,IS=fn,eW=Dn,tW=Dn,pVe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,ZH.allSchemaProperties)(n),l=a.filter(y=>(0,eW.alwaysValidSchema)(s,n[y]));if(a.length===0||l.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof IS.Name)&&(s.props=(0,tW.evaluatedPropsToName)(t,s.props));const{props:d}=s;h();function h(){for(const y of a)u&&m(y),s.allErrors?g(y):(t.var(c,!0),g(y),t.if(c))}function m(y){for(const _ in u)new RegExp(y).test(_)&&(0,eW.checkStrictMode)(s,`property ${_} matches pattern ${y} (use allowMatchingProperties)`)}function g(y){t.forIn("key",r,_=>{t.if((0,IS._)`${(0,ZH.usePattern)(e,y)}.test(${_})`,()=>{const v=l.includes(y);v||e.subschema({keyword:"patternProperties",schemaProp:y,dataProp:_,dataPropType:tW.Type.Str},c),s.opts.unevaluated&&d!==!0?t.assign((0,IS._)`${d}[${_}]`,!0):!v&&!s.allErrors&&t.if((0,IS.not)(c),()=>t.break())})})}}};j3.default=pVe;var B3={};Object.defineProperty(B3,"__esModule",{value:!0});const mVe=Dn,gVe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,mVe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};B3.default=gVe;var z3={};Object.defineProperty(z3,"__esModule",{value:!0});const yVe=cn,vVe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:yVe.validateUnion,error:{message:"must match a schema in anyOf"}};z3.default=vVe;var V3={};Object.defineProperty(V3,"__esModule",{value:!0});const Cx=fn,_Ve=Dn,wVe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Cx._)`{passingSchemas: ${e.passing}}`},bVe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:wVe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((c,d)=>{let h;(0,_Ve.alwaysValidSchema)(i,c)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&t.if((0,Cx._)`${l} && ${o}`).assign(o,!1).assign(a,(0,Cx._)`[${a}, ${d}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(a,d),h&&e.mergeEvaluated(h,Cx.Name)})})}}};V3.default=bVe;var U3={};Object.defineProperty(U3,"__esModule",{value:!0});const SVe=Dn,xVe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,SVe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};U3.default=xVe;var H3={};Object.defineProperty(H3,"__esModule",{value:!0});const yO=fn,Wse=Dn,EVe={message:({params:e})=>(0,yO.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,yO._)`{failingKeyword: ${e.ifClause}}`},IVe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:EVe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,Wse.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=nW(r,"then"),s=nW(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,yO.not)(a),u("else"));e.pass(o,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,d){return()=>{const h=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(h,o),d?t.assign(d,(0,yO._)`${c}`):e.setParams({ifClause:c})}}}};function nW(e,t){const n=e.schema[t];return n!==void 0&&!(0,Wse.alwaysValidSchema)(e,n)}H3.default=IVe;var W3={};Object.defineProperty(W3,"__esModule",{value:!0});const OVe=Dn,$Ve={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,OVe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};W3.default=$Ve;Object.defineProperty(N3,"__esModule",{value:!0});const CVe=zy,PVe=R3,TVe=Vy,kVe=D3,AVe=M3,NVe=Use,RVe=L3,DVe=XC,MVe=F3,LVe=j3,FVe=B3,jVe=z3,BVe=V3,zVe=U3,VVe=H3,UVe=W3;function HVe(e=!1){const t=[FVe.default,jVe.default,BVe.default,zVe.default,VVe.default,UVe.default,RVe.default,DVe.default,NVe.default,MVe.default,LVe.default];return e?t.push(PVe.default,kVe.default):t.push(CVe.default,TVe.default),t.push(AVe.default),t}N3.default=HVe;var q3={},G3={};Object.defineProperty(G3,"__esModule",{value:!0});const ii=fn,WVe={message:({schemaCode:e})=>(0,ii.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ii._)`{format: ${e}}`},qVe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:WVe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:d}=a;if(!l.validateFormats)return;i?h():m();function h(){const g=n.scopeValue("formats",{ref:d.formats,code:l.code.formats}),y=n.const("fDef",(0,ii._)`${g}[${o}]`),_=n.let("fType"),v=n.let("format");n.if((0,ii._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>n.assign(_,(0,ii._)`${y}.type || "string"`).assign(v,(0,ii._)`${y}.validate`),()=>n.assign(_,(0,ii._)`"string"`).assign(v,y)),e.fail$data((0,ii.or)(b(),S()));function b(){return l.strictSchema===!1?ii.nil:(0,ii._)`${o} && !${v}`}function S(){const x=c.$async?(0,ii._)`(${y}.async ? await ${v}(${r}) : ${v}(${r}))`:(0,ii._)`${v}(${r})`,$=(0,ii._)`(typeof ${v} == "function" ? ${x} : ${v}.test(${r}))`;return(0,ii._)`${v} && ${v} !== true && ${_} === ${t} && !${$}`}}function m(){const g=d.formats[s];if(!g){b();return}if(g===!0)return;const[y,_,v]=S(g);y===t&&e.pass(x());function b(){if(l.strictSchema===!1){d.logger.warn($());return}throw new Error($());function $(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function S($){const E=$ instanceof RegExp?(0,ii.regexpCode)($):l.code.formats?(0,ii._)`${l.code.formats}${(0,ii.getProperty)(s)}`:void 0,I=n.scopeValue("formats",{key:s,ref:$,code:E});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,ii._)`${I}.validate`]:["string",$,I]}function x(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!c.$async)throw new Error("async format in sync schema");return(0,ii._)`await ${v}(${r})`}return typeof _=="function"?(0,ii._)`${v}(${r})`:(0,ii._)`${v}.test(${r})`}}}};G3.default=qVe;Object.defineProperty(q3,"__esModule",{value:!0});const GVe=G3,KVe=[GVe.default];q3.default=KVe;var ey={};Object.defineProperty(ey,"__esModule",{value:!0});ey.contentVocabulary=ey.metadataVocabulary=void 0;ey.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ey.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(v3,"__esModule",{value:!0});const YVe=_3,QVe=b3,XVe=N3,JVe=q3,rW=ey,ZVe=[YVe.default,QVe.default,(0,XVe.default)(),JVe.default,rW.metadataVocabulary,rW.contentVocabulary];v3.default=ZVe;var K3={},qse={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(qse);Object.defineProperty(K3,"__esModule",{value:!0});const Rm=fn,aD=qse,iW=Eo,eUe=Dn,tUe={message:({params:{discrError:e,tagName:t}})=>e===aD.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Rm._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},nUe={keyword:"discriminator",type:"object",schemaType:"object",error:tUe,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Rm._)`${n}${(0,Rm.getProperty)(a)}`);t.if((0,Rm._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:aD.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const m=h();t.if(!1);for(const g in m)t.elseIf((0,Rm._)`${u} === ${g}`),t.assign(l,d(m[g]));t.else(),e.error(!1,{discrError:aD.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function d(m){const g=t.name("valid"),y=e.subschema({keyword:"oneOf",schemaProp:m},g);return e.mergeEvaluated(y,Rm.Name),g}function h(){var m;const g={},y=v(i);let _=!0;for(let x=0;x<o.length;x++){let $=o[x];$!=null&&$.$ref&&!(0,eUe.schemaHasRulesButRef)($,s.self.RULES)&&($=iW.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,$==null?void 0:$.$ref),$ instanceof iW.SchemaEnv&&($=$.schema));const E=(m=$==null?void 0:$.properties)===null||m===void 0?void 0:m[a];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);_=_&&(y||v($)),b(E,x)}if(!_)throw new Error(`discriminator: "${a}" must be required`);return g;function v({required:x}){return Array.isArray(x)&&x.includes(a)}function b(x,$){if(x.const)S(x.const,$);else if(x.enum)for(const E of x.enum)S(E,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function S(x,$){if(typeof x!="string"||x in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[x]=$}}}};K3.default=nUe;const rUe="http://json-schema.org/draft-07/schema#",iUe="http://json-schema.org/draft-07/schema#",sUe="Core schema meta-schema",oUe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},aUe=["object","boolean"],lUe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},uUe={$schema:rUe,$id:iUe,title:sUe,definitions:oUe,type:aUe,properties:lUe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=hse,r=v3,i=K3,s=uUe,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=Ml;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=fn;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=e1;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=t1;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(tD,tD.exports);var cUe=tD.exports;const Gse=Uu(cUe),fUe="#/definitions/StudyConfig",dUe="http://json-schema.org/draft-07/schema#",hUe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{type:"number"},acceptableLow:{type:"number"},answer:{},answerCallback:{type:"string"},answerRegex:{type:"string"},id:{type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/PartialComponent"}]},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{},desc:{type:"string"},hidden:{type:"boolean"},id:{type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},preset:{type:"number"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},rightLabel:{type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},max:{type:"number"},min:{type:"number"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{type:"string"},value:{type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,properties:{components:{items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{type:"number"},order:{enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},PartialComponent:{additionalProperties:!1,properties:{baseComponent:{type:"string"},correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.hjson.",properties:{$schema:{type:"string"},baseComponents:{additionalProperties:{$ref:"#/definitions/IndividualComponent"},type:"object"},components:{additionalProperties:{$ref:"#/definitions/InheritedComponent"},type:"object"},sequence:{$ref:"#/definitions/OrderObject"},studyMetadata:{$ref:"#/definitions/StudyMetadata"},uiConfig:{$ref:"#/definitions/UIConfig"}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{items:{type:"string"},type:"array"},date:{type:"string"},description:{type:"string"},organizations:{items:{type:"string"},type:"array"},title:{type:"string"},version:{type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{type:"boolean"},autoDownloadTime:{type:"number"},contactEmail:{type:"string"},helpTextPath:{type:"string"},logoPath:{type:"string"},sidebar:{type:"boolean"},studyEndMsg:{type:"string"},withProgressBar:{type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},pUe={$ref:fUe,$schema:dUe,definitions:hUe},mUe="#/definitions/GlobalConfig",gUe="http://json-schema.org/draft-07/schema#",yUe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{type:"string"},configs:{additionalProperties:{additionalProperties:!1,properties:{path:{type:"string"}},required:["path"],type:"object"},type:"object"},configsList:{items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},vUe={$ref:mUe,$schema:gUe,definitions:yUe},Kse=new Gse;Kse.addSchema(vUe);const sW=Kse.getSchema("#/definitions/GlobalConfig"),Yse=new Gse;Yse.addSchema(pUe);const oW=Yse.getSchema("#/definitions/StudyConfig");function _Ue(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function JC(e){return e.baseComponent!==void 0}function wUe(e){const t=u3.parse(e),n=sW(t),r=_Ue(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...sW.errors||[],...r[1]]),Error("There was an issue validating your file global.hjson")}function bUe(e){const t=[];return[Object.entries(e.components).every(([r,i])=>{var s;return JC(i)?!!((s=e.baseComponents)!=null&&s[i.baseComponent]):!0}),t]}function Qse(e,t){const n=u3.parse(e),r=oW(n),i=bUe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...oW.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Ua(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function tl(e){return!!e&&!!e[Sr]}function Bc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===TUe}(e)||Array.isArray(e)||!!e[hW]||!!(!((t=e.constructor)===null||t===void 0)&&t[hW])||Y3(e)||Q3(e))}function SUe(e){return tl(e)||Ua(23,e),e[Sr].t}function Sp(e,t,n){n===void 0&&(n=!1),Uy(e)===0?(n?Object.keys:Eg)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Uy(e){var t=e[Sr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Y3(e)?2:Q3(e)?3:0}function xg(e,t){return Uy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xUe(e,t){return Uy(e)===2?e.get(t):e[t]}function Xse(e,t,n){var r=Uy(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Jse(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Y3(e){return CUe&&e instanceof Map}function Q3(e){return PUe&&e instanceof Set}function Sh(e){return e.o||e.t}function X3(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=eoe(e);delete t[Sr];for(var n=Eg(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ZC(e,t){return t===void 0&&(t=!1),J3(e)||tl(e)||!Bc(e)||(Uy(e)>1&&(e.set=e.add=e.clear=e.delete=EUe),Object.freeze(e),t&&Sp(e,function(n,r){return ZC(r,!0)},!0)),e}function EUe(){Ua(2)}function J3(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Pu(e){var t=fD[e];return t||Ua(18,e),t}function IUe(e,t){fD[e]||(fD[e]=t)}function lD(){return W_}function iN(e,t){t&&(Pu("Patches"),e.u=[],e.s=[],e.v=t)}function vO(e){uD(e),e.p.forEach(OUe),e.p=null}function uD(e){e===W_&&(W_=e.l)}function aW(e){return W_={p:[],l:W_,h:e,m:!0,_:0}}function OUe(e){var t=e[Sr];t.i===0||t.i===1?t.j():t.O=!0}function sN(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Pu("ES5").S(t,e,r),r?(n[Sr].P&&(vO(t),Ua(4)),Bc(e)&&(e=_O(t,e),t.l||wO(t,e)),t.u&&Pu("Patches").M(n[Sr].t,e,t.u,t.s)):e=_O(t,n,[]),vO(t),t.u&&t.v(t.u,t.s),e!==Zse?e:void 0}function _O(e,t,n){if(J3(t))return t;var r=t[Sr];if(!r)return Sp(t,function(a,l){return lW(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return wO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=X3(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Sp(s,function(a,l){return lW(e,r,i,a,l,n,o)}),wO(e,i,!1),n&&e.u&&Pu("Patches").N(r,n,e.u,e.s)}return r.o}function lW(e,t,n,r,i,s,o){if(tl(i)){var a=_O(e,i,s&&t&&t.i!==3&&!xg(t.R,r)?s.concat(r):void 0);if(Xse(n,r,a),!tl(a))return;e.m=!1}else o&&n.add(i);if(Bc(i)&&!J3(i)){if(!e.h.D&&e._<1)return;_O(e,i),t&&t.A.l||wO(e,i)}}function wO(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&ZC(t,n)}function oN(e,t){var n=e[Sr];return(n?Sh(n):e)[t]}function uW(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Vf(e){e.P||(e.P=!0,e.l&&Vf(e.l))}function aN(e){e.o||(e.o=X3(e.t))}function cD(e,t,n){var r=Y3(t)?Pu("MapSet").F(t,n):Q3(t)?Pu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:lD(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=q_;o&&(l=[a],u=I0);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(t,n):Pu("ES5").J(t,n);return(n?n.A:lD()).p.push(r),r}function Z3(e){return tl(e)||Ua(22,e),function t(n){if(!Bc(n))return n;var r,i=n[Sr],s=Uy(n);if(i){if(!i.P&&(i.i<4||!Pu("ES5").K(i)))return i.t;i.I=!0,r=cW(n,s),i.I=!1}else r=cW(n,s);return Sp(r,function(o,a){i&&xUe(i.t,o)===a||Xse(r,o,t(a))}),s===3?new Set(r):r}(e)}function cW(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return X3(e)}function $Ue(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Sr];return q_.get(l,s)},set:function(l){var u=this[Sr];q_.set(u,s,l)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Sr];if(!a.P)switch(a.i){case 5:r(a)&&Vf(a);break;case 4:n(a)&&Vf(a)}}}function n(s){for(var o=s.t,a=s.k,l=Eg(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Sr){var d=o[c];if(d===void 0&&!xg(o,c))return!0;var h=a[c],m=h&&h[Sr];if(m?m.t!==d:!Jse(h,d))return!0}}var g=!!o[Sr];return l.length!==Eg(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};IUe("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var h=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(h,""+m,e(m,!0));return h}var g=eoe(d);delete g[Sr];for(var y=Eg(g),_=0;_<y.length;_++){var v=y[_];g[v]=e(v,c||!!g[v].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(a,s),u={i:a?5:4,A:o?o.A:lD(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Sr,{value:u,writable:!0}),l},S:function(s,o,a){a?tl(o)&&o[Sr].A===s&&t(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Sr];if(c){var d=c.t,h=c.k,m=c.R,g=c.i;if(g===4)Sp(h,function(S){S!==Sr&&(d[S]!==void 0||xg(d,S)?m[S]||l(h[S]):(m[S]=!0,Vf(c)))}),Sp(d,function(S){h[S]!==void 0||xg(h,S)||(m[S]=!1,Vf(c))});else if(g===5){if(r(c)&&(Vf(c),m.length=!0),h.length<d.length)for(var y=h.length;y<d.length;y++)m[y]=!1;else for(var _=d.length;_<h.length;_++)m[_]=!0;for(var v=Math.min(h.length,d.length),b=0;b<v;b++)h.hasOwnProperty(b)||(m[b]=!0),m[b]===void 0&&l(h[b])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var fW,W_,ej=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",CUe=typeof Map<"u",PUe=typeof Set<"u",dW=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Zse=ej?Symbol.for("immer-nothing"):((fW={})["immer-nothing"]=!0,fW),hW=ej?Symbol.for("immer-draftable"):"__$immer_draftable",Sr=ej?Symbol.for("immer-state"):"__$immer_state",TUe=""+Object.prototype.constructor,Eg=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,eoe=Object.getOwnPropertyDescriptors||function(e){var t={};return Eg(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},fD={},q_={get:function(e,t){if(t===Sr)return e;var n=Sh(e);if(!xg(n,t))return function(i,s,o){var a,l=uW(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Bc(r)?r:r===oN(e.t,t)?(aN(e),e.o[t]=cD(e.A.h,r,e)):r},has:function(e,t){return t in Sh(e)},ownKeys:function(e){return Reflect.ownKeys(Sh(e))},set:function(e,t,n){var r=uW(Sh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=oN(Sh(e),t),s=i==null?void 0:i[Sr];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Jse(n,i)&&(n!==void 0||xg(e.t,t)))return!0;aN(e),Vf(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return oN(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,aN(e),Vf(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Sh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ua(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ua(12)}},I0={};Sp(q_,function(e,t){I0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),I0.deleteProperty=function(e,t){return I0.set.call(this,e,t,void 0)},I0.set=function(e,t,n){return q_.set.call(this,e[0],t,n,e[0])};var kUe=function(){function e(n){var r=this;this.g=dW,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var _=this;y===void 0&&(y=a);for(var v=arguments.length,b=Array(v>1?v-1:0),S=1;S<v;S++)b[S-1]=arguments[S];return l.produce(y,function(x){var $;return($=s).call.apply($,[_,x].concat(b))})}}var u;if(typeof s!="function"&&Ua(6),o!==void 0&&typeof o!="function"&&Ua(7),Bc(i)){var c=aW(r),d=cD(r,i,void 0),h=!0;try{u=s(d),h=!1}finally{h?vO(c):uD(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return iN(c,o),sN(y,c)},function(y){throw vO(c),y}):(iN(c,o),sN(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Zse&&(u=void 0),r.D&&ZC(u,!0),o){var m=[],g=[];Pu("Patches").M(i,u,m,g),o(m,g)}return u}Ua(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(m){return i.apply(void 0,[m].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Bc(n)||Ua(8),tl(n)&&(n=Z3(n));var r=aW(this),i=cD(this,n,void 0);return i[Sr].C=!0,uD(r),i},t.finishDraft=function(n,r){var i=n&&n[Sr],s=i.A;return iN(s,r),sN(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!dW&&Ua(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Pu("Patches").$;return tl(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),ca=new kUe,eP=ca.produce;ca.produceWithPatches.bind(ca);ca.setAutoFreeze.bind(ca);ca.setUseProxies.bind(ca);ca.applyPatches.bind(ca);ca.createDraft.bind(ca);ca.finishDraft.bind(ca);function G_(e){return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G_(e)}function AUe(e,t){if(G_(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(G_(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NUe(e){var t=AUe(e,"string");return G_(t)==="symbol"?t:String(t)}function RUe(e,t,n){return t=NUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pW(Object(n),!0).forEach(function(r){RUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ns(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gW=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),lN=function(){return Math.random().toString(36).substring(7).split("").join(".")},K_={INIT:"@@redux/INIT"+lN(),REPLACE:"@@redux/REPLACE"+lN(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lN()}};function DUe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function tP(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ns(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ns(1));return n(tP)(e,t)}if(typeof e!="function")throw new Error(ns(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(ns(3));return s}function d(y){if(typeof y!="function")throw new Error(ns(4));if(l)throw new Error(ns(5));var _=!0;return u(),a.push(y),function(){if(_){if(l)throw new Error(ns(6));_=!1,u();var b=a.indexOf(y);a.splice(b,1),o=null}}}function h(y){if(!DUe(y))throw new Error(ns(7));if(typeof y.type>"u")throw new Error(ns(8));if(l)throw new Error(ns(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var _=o=a,v=0;v<_.length;v++){var b=_[v];b()}return y}function m(y){if(typeof y!="function")throw new Error(ns(10));i=y,h({type:K_.REPLACE})}function g(){var y,_=d;return y={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(ns(11));function S(){b.next&&b.next(c())}S();var x=_(S);return{unsubscribe:x}}},y[gW]=function(){return this},y}return h({type:K_.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:m},r[gW]=g,r}var MUe=tP;function LUe(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:K_.INIT});if(typeof r>"u")throw new Error(ns(12));if(typeof n(void 0,{type:K_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ns(13))})}function toe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{LUe(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var m=s[h],g=n[m],y=l[m],_=g(y,u);if(typeof _>"u")throw u&&u.type,new Error(ns(14));d[m]=_,c=c||_!==y}return c=c||s.length!==Object.keys(l).length,c?d:l}}function yW(e,t){return function(){return t(e.apply(this,arguments))}}function FUe(e,t){if(typeof e=="function")return yW(e,t);if(typeof e!="object"||e===null)throw new Error(ns(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=yW(i,t))}return n}function Y_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function noe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ns(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return s=Y_.apply(void 0,a)(i.dispatch),mW(mW({},i),{},{dispatch:s})}}}var bO="NOT_FOUND";function jUe(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:bO},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function BUe(e,t){var n=[];function r(a){var l=n.findIndex(function(c){return t(a,c.key)});if(l>-1){var u=n[l];return l>0&&(n.splice(l,1),n.unshift(u)),u.value}return bO}function i(a,l){r(a)===bO&&(n.unshift({key:a,value:l}),n.length>e&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var zUe=function(t,n){return t===n};function VUe(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!e(n[s],r[s]))return!1;return!0}}function UUe(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?zUe:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,l=VUe(i),u=o===1?jUe(l):BUe(o,l);function c(){var d=u.get(arguments);if(d===bO){if(d=e.apply(null,arguments),a){var h=u.getEntries(),m=h.find(function(g){return a(g.value,d)});m&&(d=m.value)}u.put(arguments,d)}return d}return c.clearCache=function(){return u.clear()},c}function HUe(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function WUe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=0,c,d={memoizeOptions:void 0},h=a.pop();if(typeof h=="object"&&(d=h,h=a.pop()),typeof h!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof h+"]");var m=d,g=m.memoizeOptions,y=g===void 0?n:g,_=Array.isArray(y)?y:[y],v=HUe(a),b=e.apply(void 0,[function(){return u++,h.apply(null,arguments)}].concat(_)),S=e(function(){for(var $=[],E=v.length,I=0;I<E;I++)$.push(v[I].apply(null,arguments));return c=b.apply(null,$),c});return Object.assign(S,{resultFunc:h,memoizedResultFunc:b,dependencies:v,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),S};return i}var roe=WUe(UUe);function ioe(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var soe=ioe();soe.withExtraArgument=ioe;const vW=soe;var qUe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),r1=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ty=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},GUe=Object.defineProperty,KUe=Object.defineProperties,YUe=Object.getOwnPropertyDescriptors,_W=Object.getOwnPropertySymbols,QUe=Object.prototype.hasOwnProperty,XUe=Object.prototype.propertyIsEnumerable,wW=function(e,t,n){return t in e?GUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Oo=function(e,t){for(var n in t||(t={}))QUe.call(t,n)&&wW(e,n,t[n]);if(_W)for(var r=0,i=_W(t);r<i.length;r++){var n=i[r];XUe.call(t,n)&&wW(e,n,t[n])}return e},uN=function(e,t){return KUe(e,YUe(t))},i1=function(e,t,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(e,t)).next())})},oc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=roe.apply(void 0,e),r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n.apply(void 0,ty([tl(i)?Z3(i):i],s))};return r},JUe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Y_:Y_.apply(null,arguments)};function nP(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var ooe=function(e){qUe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,ty([void 0],n[0].concat(this)))):new(t.bind.apply(t,ty([void 0],n.concat(this))))},t}(Array);function dD(e){return Bc(e)?eP(e,function(){}):e}function ZUe(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function e8e(e){return function(){return function(t){return function(n){return t(n)}}}}function aoe(e){var t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||nP(e)}function loe(e,t,n,r,i,s){t===void 0&&(t=""),n===void 0&&(n=aoe),i===void 0&&(i=[]);var o;if(!n(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null||s!=null&&s.has(e))return!1;for(var a=r!=null?r(e):Object.entries(e),l=i.length>0,u=function(_,v){var b=t?t+"."+_:_;if(l){var S=i.some(function(x){return x instanceof RegExp?x.test(b):b===x});if(S)return"continue"}if(!n(v))return{value:{keyPath:b,value:v}};if(typeof v=="object"&&(o=loe(v,b,n,r,i,s),o))return{value:o}},c=0,d=a;c<d.length;c++){var h=d[c],m=h[0],g=h[1],y=u(m,g);if(typeof y=="object")return y.value}return s&&uoe(e)&&s.add(e),!1}function uoe(e){if(!Object.isFrozen(e))return!1;for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(!(typeof r!="object"||r===null)&&!uoe(r))return!1}return!0}function t8e(e){return function(){return function(t){return function(n){return t(n)}}}}function n8e(e){return typeof e=="boolean"}function r8e(){return function(t){return coe(t)}}function coe(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new ooe;return n&&(n8e(n)?r.push(vW):r.push(vW.withExtraArgument(n.extraArgument))),r}var i8e=!0;function tj(e){var t=r8e(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,h=d===void 0?void 0:d,m;if(typeof i=="function")m=i;else if(nP(i))m=toe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(t));var y=noe.apply(void 0,g),_=Y_;l&&(_=JUe(Oo({trace:!i8e},typeof l=="object"&&l)));var v=[y];Array.isArray(h)?v=ty([y],h):typeof h=="function"&&(v=h(v));var b=_.apply(void 0,v);return tP(m,c,b)}function Qa(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Oo(Oo({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function s8e(e){return nP(e)&&typeof e.type=="string"&&Object.keys(e).every(o8e)}function o8e(e){return["type","payload","error","meta"].indexOf(e)>-1}function a8e(e){return""+e}function foe(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function l8e(e){return typeof e=="function"}function doe(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?foe(t):[t,n,r],s=i[0],o=i[1],a=i[2],l;if(l8e(e))l=function(){return dD(e())};else{var u=dD(e);l=function(){return u}}function c(d,h){d===void 0&&(d=l());var m=ty([s[h.type]],o.filter(function(g){var y=g.matcher;return y(h)}).map(function(g){var y=g.reducer;return y}));return m.filter(function(g){return!!g}).length===0&&(m=[a]),m.reduce(function(g,y){if(y)if(tl(g)){var _=g,v=y(_,h);return v===void 0?g:v}else{if(Bc(g))return eP(g,function(b){return y(b,h)});var v=y(g,h);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return g},d)}return c.getInitialState=l,c}function u8e(e,t){return e+"/"+t}function rP(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:dD(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],h=u8e(t,c),m,g;"reducer"in d?(m=d.reducer,g=d.prepare):m=d,s[c]=m,o[h]=m,a[c]=g?Qa(h,g):Qa(h)});function l(){var c=typeof e.extraReducers=="function"?foe(e.extraReducers):[e.extraReducers],d=c[0],h=d===void 0?{}:d,m=c[1],g=m===void 0?[]:m,y=c[2],_=y===void 0?void 0:y,v=Oo(Oo({},h),o);return doe(n,function(b){for(var S in v)b.addCase(S,v[S]);for(var x=0,$=g;x<$.length;x++){var E=$[x];b.addMatcher(E.matcher,E.reducer)}_&&b.addDefaultCase(_)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}function c8e(){return{ids:[],entities:{}}}function f8e(){function e(t){return t===void 0&&(t={}),Object.assign(c8e(),t)}return{getInitialState:e}}function d8e(){function e(t){var n=function(u){return u.ids},r=function(u){return u.entities},i=oc(n,r,function(u,c){return u.map(function(d){return c[d]})}),s=function(u,c){return c},o=function(u,c){return u[c]},a=oc(n,function(u){return u.length});if(!t)return{selectIds:n,selectEntities:r,selectAll:i,selectTotal:a,selectById:oc(r,s,o)};var l=oc(t,r);return{selectIds:oc(t,n),selectEntities:l,selectAll:oc(t,i),selectTotal:oc(t,a),selectById:oc(l,s,o)}}return{getSelectors:e}}function h8e(e){var t=si(function(n,r){return e(r)});return function(r){return t(r,void 0)}}function si(e){return function(n,r){function i(o){return s8e(o)}var s=function(o){i(r)?e(r.payload,o):e(r,o)};return tl(n)?(s(n),n):eP(n,s)}}function s_(e,t){var n=t(e);return n}function sp(e){return Array.isArray(e)||(e=Object.values(e)),e}function hoe(e,t,n){e=sp(e);for(var r=[],i=[],s=0,o=e;s<o.length;s++){var a=o[s],l=s_(a,t);l in n.entities?i.push({id:l,changes:a}):r.push(a)}return[r,i]}function poe(e){function t(g,y){var _=s_(g,e);_ in y.entities||(y.ids.push(_),y.entities[_]=g)}function n(g,y){g=sp(g);for(var _=0,v=g;_<v.length;_++){var b=v[_];t(b,y)}}function r(g,y){var _=s_(g,e);_ in y.entities||y.ids.push(_),y.entities[_]=g}function i(g,y){g=sp(g);for(var _=0,v=g;_<v.length;_++){var b=v[_];r(b,y)}}function s(g,y){g=sp(g),y.ids=[],y.entities={},n(g,y)}function o(g,y){return a([g],y)}function a(g,y){var _=!1;g.forEach(function(v){v in y.entities&&(delete y.entities[v],_=!0)}),_&&(y.ids=y.ids.filter(function(v){return v in y.entities}))}function l(g){Object.assign(g,{ids:[],entities:{}})}function u(g,y,_){var v=_.entities[y.id],b=Object.assign({},v,y.changes),S=s_(b,e),x=S!==y.id;return x&&(g[y.id]=S,delete _.entities[y.id]),_.entities[S]=b,x}function c(g,y){return d([g],y)}function d(g,y){var _={},v={};g.forEach(function(x){x.id in y.entities&&(v[x.id]={id:x.id,changes:Oo(Oo({},v[x.id]?v[x.id].changes:null),x.changes)})}),g=Object.values(v);var b=g.length>0;if(b){var S=g.filter(function(x){return u(_,x,y)}).length>0;S&&(y.ids=Object.keys(y.entities))}}function h(g,y){return m([g],y)}function m(g,y){var _=hoe(g,e,y),v=_[0],b=_[1];d(b,y),n(v,y)}return{removeAll:h8e(l),addOne:si(t),addMany:si(n),setOne:si(r),setMany:si(i),setAll:si(s),updateOne:si(c),updateMany:si(d),upsertOne:si(h),upsertMany:si(m),removeOne:si(o),removeMany:si(a)}}function p8e(e,t){var n=poe(e),r=n.removeOne,i=n.removeMany,s=n.removeAll;function o(b,S){return a([b],S)}function a(b,S){b=sp(b);var x=b.filter(function($){return!(s_($,e)in S.entities)});x.length!==0&&_(x,S)}function l(b,S){return u([b],S)}function u(b,S){b=sp(b),b.length!==0&&_(b,S)}function c(b,S){b=sp(b),S.entities={},S.ids=[],a(b,S)}function d(b,S){return h([b],S)}function h(b,S){for(var x=!1,$=0,E=b;$<E.length;$++){var I=E[$],T=S.entities[I.id];if(T){x=!0,Object.assign(T,I.changes);var M=e(T);I.id!==M&&(delete S.entities[I.id],S.entities[M]=T)}}x&&v(S)}function m(b,S){return g([b],S)}function g(b,S){var x=hoe(b,e,S),$=x[0],E=x[1];h(E,S),a($,S)}function y(b,S){if(b.length!==S.length)return!1;for(var x=0;x<b.length&&x<S.length;x++)if(b[x]!==S[x])return!1;return!0}function _(b,S){b.forEach(function(x){S.entities[e(x)]=x}),v(S)}function v(b){var S=Object.values(b.entities);S.sort(t);var x=S.map(e),$=b.ids;y($,x)||(b.ids=x)}return{removeOne:r,removeMany:i,removeAll:s,addOne:si(o),updateOne:si(d),upsertOne:si(m),setOne:si(l),setMany:si(u),setAll:si(c),addMany:si(a),updateMany:si(h),upsertMany:si(g)}}function m8e(e){e===void 0&&(e={});var t=Oo({sortComparer:!1,selectId:function(a){return a.id}},e),n=t.selectId,r=t.sortComparer,i=f8e(),s=d8e(),o=r?p8e(n,r):poe(n);return Oo(Oo(Oo({selectId:n,sortComparer:r},i),s),o)}var g8e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nj=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=g8e[Math.random()*64|0];return t},y8e=["name","message","stack","code"],cN=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),bW=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),moe=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=y8e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},v8e=function(){function e(t,n,r){var i=Qa(t+"/fulfilled",function(u,c,d,h){return{payload:u,meta:uN(Oo({},h||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Qa(t+"/pending",function(u,c,d){return{payload:void 0,meta:uN(Oo({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Qa(t+"/rejected",function(u,c,d,h,m){return{payload:h,error:(r&&r.serializeError||moe)(u||"Rejected"),meta:uN(Oo({},m||{}),{arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,h){var m=r!=null&&r.idGenerator?r.idGenerator(u):nj(),g=new a,y;function _(b){y=b,g.abort()}var v=function(){return i1(this,null,function(){var b,S,x,$,E,I,T;return r1(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),$=(b=r==null?void 0:r.condition)==null?void 0:b.call(r,u,{getState:d,extra:h}),_8e($)?[4,$]:[3,2];case 1:$=M.sent(),M.label=2;case 2:if($===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(U,z){return g.signal.addEventListener("abort",function(){return z({name:"AbortError",message:y||"Aborted"})})}),c(s(m,u,(S=r==null?void 0:r.getPendingMeta)==null?void 0:S.call(r,{requestId:m,arg:u},{getState:d,extra:h}))),[4,Promise.race([E,Promise.resolve(n(u,{dispatch:c,getState:d,extra:h,requestId:m,signal:g.signal,abort:_,rejectWithValue:function(U,z){return new cN(U,z)},fulfillWithValue:function(U,z){return new bW(U,z)}})).then(function(U){if(U instanceof cN)throw U;return U instanceof bW?i(U.payload,m,u,U.meta):i(U,m,u)})])];case 3:return x=M.sent(),[3,5];case 4:return I=M.sent(),x=I instanceof cN?o(null,m,u,I.payload,I.meta):o(I,m,u),[3,5];case 5:return T=r&&!r.dispatchConditionRejection&&o.match(x)&&x.meta.condition,T||c(x),[2,x]}})})}();return Object.assign(v,{abort:_,requestId:m,arg:u,unwrap:function(){return v.then(goe)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function goe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function _8e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var w8e=function(e){return e&&typeof e.match=="function"},yoe=function(e,t){return w8e(e)?e.match(t):e(t)};function xp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return yoe(r,n)})}}function hD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.every(function(r){return yoe(r,n)})}}function iP(e,t){if(!e||!e.meta)return!1;var n=typeof e.meta.requestId=="string",r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function s1(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function voe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return iP(n,["pending"])}:s1(e)?function(n){var r=e.map(function(s){return s.pending}),i=xp.apply(void 0,r);return i(n)}:voe()(e[0])}function SO(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return iP(n,["rejected"])}:s1(e)?function(n){var r=e.map(function(s){return s.rejected}),i=xp.apply(void 0,r);return i(n)}:SO()(e[0])}function _oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return e.length===0?function(r){var i=hD(SO.apply(void 0,e),n);return i(r)}:s1(e)?function(r){var i=hD(SO.apply(void 0,e),n);return i(r)}:_oe()(e[0])}function woe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return iP(n,["fulfilled"])}:s1(e)?function(n){var r=e.map(function(s){return s.fulfilled}),i=xp.apply(void 0,r);return i(n)}:woe()(e[0])}function boe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return iP(n,["pending","fulfilled","rejected"])}:s1(e)?function(n){for(var r=[],i=0,s=e;i<s.length;i++){var o=s[i];r.push(o.pending,o.rejected,o.fulfilled)}var a=xp.apply(void 0,r);return a(n)}:boe()(e[0])}var rj=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},pD=function(){},Soe=function(e,t){return t===void 0&&(t=pD),e.catch(t),e},xoe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Ig=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},b8e="task",Eoe="listener",Ioe="completed",ij="cancelled",S8e="task-"+ij,x8e="task-"+Ioe,Ooe=Eoe+"-"+ij,E8e=Eoe+"-"+Ioe,o1=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=b8e+" "+ij+" (reason: "+t+")"}return e}(),Og=function(e){if(e.aborted)throw new o1(e.reason)};function $oe(e,t){var n=pD;return new Promise(function(r,i){var s=function(){return i(new o1(e.reason))};if(e.aborted){s();return}n=xoe(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=pD})}var I8e=function(e,t){return i1(void 0,null,function(){var n,r;return r1(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof o1?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},xO=function(e){return function(t){return Soe($oe(e,t).then(function(n){return Og(e),n}))}},Coe=function(e){var t=xO(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},O8e=Object.assign,SW={},a1="listenerMiddleware",$8e=function(e){var t=function(n){return xoe(e,function(){return Ig(n,e.reason)})};return function(n){rj(n,"taskExecutor");var r=new AbortController;t(r);var i=I8e(function(){return i1(void 0,null,function(){var s;return r1(this,function(o){switch(o.label){case 0:return Og(e),Og(r.signal),[4,n({pause:xO(r.signal),delay:Coe(r.signal),signal:r.signal})];case 1:return s=o.sent(),Og(r.signal),[2,s]}})})},function(){return Ig(r,x8e)});return{result:xO(e)(i),cancel:function(){Ig(r,S8e)}}}},C8e=function(e,t){var n=function(r,i){return i1(void 0,null,function(){var s,o,a,l;return r1(this,function(u){switch(u.label){case 0:Og(t),s=function(){},o=new Promise(function(c,d){var h=e({predicate:r,effect:function(m,g){g.unsubscribe(),c([m,g.getState(),g.getOriginalState()])}});s=function(){h(),d()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,$oe(t,Promise.race(a))];case 2:return l=u.sent(),Og(t),[2,l];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return Soe(n(r,i))}},Poe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Qa(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return rj(s,"options.listener"),{predicate:i,type:t,effect:s}},P8e=function(e){var t=Poe(e),n=t.type,r=t.predicate,i=t.effect,s=nj(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},mD=function(e){e.pending.forEach(function(t){Ig(t,Ooe)})},T8e=function(e){return function(){e.forEach(mD),e.clear()}},xW=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},Toe=Qa(a1+"/add"),koe=Qa(a1+"/removeAll"),Aoe=Qa(a1+"/remove"),k8e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,ty([a1+"/error"],e))};function Noe(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?k8e:i;rj(s,"onError");var o=function(m){return m.unsubscribe=function(){return n.delete(m.id)},n.set(m.id,m),function(g){m.unsubscribe(),g!=null&&g.cancelActive&&mD(m)}},a=function(m){for(var g=0,y=Array.from(n.values());g<y.length;g++){var _=y[g];if(m(_))return _}},l=function(m){var g=a(function(y){return y.effect===m.effect});return g||(g=P8e(m)),o(g)},u=function(m){var g=Poe(m),y=g.type,_=g.effect,v=g.predicate,b=a(function(S){var x=typeof y=="string"?S.type===y:S.predicate===v;return x&&S.effect===_});return b&&(b.unsubscribe(),m.cancelActive&&mD(b)),!!b},c=function(m,g,y,_){return i1(t,null,function(){var v,b,S;return r1(this,function(x){switch(x.label){case 0:v=new AbortController,b=C8e(l,v.signal),x.label=1;case 1:return x.trys.push([1,3,4,5]),m.pending.add(v),[4,Promise.resolve(m.effect(g,O8e({},y,{getOriginalState:_,condition:function($,E){return b($,E).then(Boolean)},take:b,delay:Coe(v.signal),pause:xO(v.signal),extra:r,signal:v.signal,fork:$8e(v.signal),unsubscribe:m.unsubscribe,subscribe:function(){n.set(m.id,m)},cancelActiveListeners:function(){m.pending.forEach(function($,E,I){$!==v&&(Ig($,Ooe),I.delete($))})}})))];case 2:return x.sent(),[3,5];case 3:return S=x.sent(),S instanceof o1||xW(s,S,{raisedBy:"effect"}),[3,5];case 4:return Ig(v,E8e),m.pending.delete(v),[7];case 5:return[2]}})})},d=T8e(n),h=function(m){return function(g){return function(y){if(Toe.match(y))return l(y.payload);if(koe.match(y)){d();return}if(Aoe.match(y))return u(y.payload);var _=m.getState(),v=function(){if(_===SW)throw new Error(a1+": getOriginalState can only be called synchronously");return _},b;try{if(b=g(y),n.size>0)for(var S=m.getState(),x=Array.from(n.values()),$=0,E=x;$<E.length;$++){var I=E[$],T=!1;try{T=I.predicate(y,S,_)}catch(M){T=!1,xW(s,M,{raisedBy:"predicate"})}T&&c(I,y,m,v)}}finally{_=SW}return b}}};return{middleware:h,startListening:l,stopListening:u,clearListeners:d}}var sj="RTK_autoBatch",A8e=function(){return function(e){var t;return{payload:e,meta:(t={},t[sj]=!0,t)}}},EW,N8e=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(EW||(EW=Promise.resolve())).then(e).catch(function(t){return setTimeout(function(){throw t},0)})},Roe=function(e){return function(t){setTimeout(t,e)}},R8e=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Roe(10),D8e=function(e){return e===void 0&&(e={type:"raf"}),function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(void 0,n),s=!0,o=!1,a=!1,l=new Set,u=e.type==="tick"?N8e:e.type==="raf"?R8e:e.type==="callback"?e.queueNotification:Roe(e.timeout),c=function(){a=!1,o&&(o=!1,l.forEach(function(d){return d()}))};return Object.assign({},i,{subscribe:function(d){var h=function(){return s&&d()},m=i.subscribe(h);return l.add(d),function(){m(),l.delete(d)}},dispatch:function(d){var h;try{return s=!((h=d==null?void 0:d.meta)!=null&&h[sj]),o=!s,o&&(a||(a=!0,u(c))),i.dispatch(d)}finally{s=!0}}})}}};$Ue();const M8e=Object.freeze(Object.defineProperty({__proto__:null,MiddlewareArray:ooe,SHOULD_AUTOBATCH:sj,TaskAbortError:o1,__DO_NOT_USE__ActionTypes:K_,addListener:Toe,applyMiddleware:noe,autoBatchEnhancer:D8e,bindActionCreators:FUe,clearAllListeners:koe,combineReducers:toe,compose:Y_,configureStore:tj,createAction:Qa,createAsyncThunk:v8e,createDraftSafeSelector:oc,createEntityAdapter:m8e,createImmutableStateInvariantMiddleware:e8e,createListenerMiddleware:Noe,createNextState:eP,createReducer:doe,createSelector:roe,createSerializableStateInvariantMiddleware:t8e,createSlice:rP,createStore:tP,current:Z3,findNonSerializableValue:loe,freeze:ZC,getDefaultMiddleware:coe,getType:a8e,isAllOf:hD,isAnyOf:xp,isAsyncThunkAction:boe,isDraft:tl,isFulfilled:woe,isImmutableDefault:ZUe,isPending:voe,isPlain:aoe,isPlainObject:nP,isRejected:SO,isRejectedWithValue:_oe,legacy_createStore:MUe,miniSerializeError:moe,nanoid:nj,original:SUe,prepareAutoBatched:A8e,removeListener:Aoe,unwrapResult:goe},Symbol.toStringTag,{value:"Module"}));var gD={},sP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(n,r){return Object.keys(n).forEach(function(i){i!=="default"&&!Object.prototype.hasOwnProperty.call(r,i)&&Object.defineProperty(r,i,{enumerable:!0,get:function(){return n[i]}})}),n}})(sP);var oj={},Doe={},aj={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});function t(){return t=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])}return r},t.apply(this,arguments)}function n(){return t.apply(this,arguments)}})(aj);const l1=SL(M8e);var u1={};(function(e){function t(c,d){for(var h in d)Object.defineProperty(c,h,{enumerable:!0,get:d[h]})}t(e,{NO_OP_ACTION:()=>r,LABELS:()=>i,DO_UNDO_ACTION_CREATORS:()=>s,TRRACKABLE:()=>o,EVENTS:()=>a,ACTION_NAME_TYPE_MAP:()=>l,ASYNC_THUNKS:()=>u});const r=(0,l1.createAction)("NO_OP"),i=Symbol("label"),s=Symbol("do_undo_action_creators"),o=Symbol("trrackable"),a=Symbol("events"),l=Symbol("action_name_type_map"),u=Symbol("async_thunks")})(u1);(function(e){Object.defineProperty(e,"createTrrackableSlice",{enumerable:!0,get:()=>l});const t=aj.default,n=l1,r=u1;function i(u){const c={};return Object.entries(u.actions).forEach(([d,h])=>{c[d]=h.type}),c}function s(u,c,d){const h={};return d.forEach(m=>{const g=m.typePrefix,y=c[g];if(!y){h[g]=()=>g;return}if(typeof y=="string"){h[g]=()=>y;return}throw typeof y=="function"&&(h[g]=y),new Error(`Error creating label generator for ${g.toString()}`)}),Object.entries(u.actions).forEach(([m,g])=>{const y=c[m];if(!y){h[g.type]=()=>g.type;return}if(typeof y=="string"){h[g.type]=()=>y;return}if(typeof y=="function"){h[g.type]=y;return}throw new Error(`Error creating label generator for ${m.toString()}: ${g.type}`)}),h}function o(u,c,d){const h={};return d.forEach(m=>{const g=m.typePrefix,y=c[g];y?h[g]=y:h[g]=g}),Object.entries(u.actions).forEach(([m,g])=>{const y=c[m];y?h[g.type]=y:h[g.type]=g.type}),h}function a(u,c,d){const h={};return d.forEach(m=>{const g=m.typePrefix,y=c[g];if(y){const _=v=>{const{do:b,undo:S}=y(v);return{do:b||(0,r.NO_OP_ACTION)(),undo:S}};h[g]=_}else{const _=()=>({do:(0,r.NO_OP_ACTION)(),undo:(0,r.NO_OP_ACTION)()});h[g]=_}}),Object.entries(u.actions).forEach(([m,g])=>{const y=c[m];y?h[g.type]=_=>{const{do:v,undo:b}=y(_);return{do:v||(0,r.NO_OP_ACTION)(),undo:b}}:h[g.type]=()=>({do:(0,r.NO_OP_ACTION)(),undo:(0,r.NO_OP_ACTION)()})}),h}function l(u){const c=(0,n.createSlice)(u),d=i(c),h=s(c,u.labels||{},u.asyncThunks||[]),m=o(c,u.reducerEventTypes||{},u.asyncThunks||[]),g=a(c,u.doUndoActionCreators||{},u.asyncThunks||[]);return t({},c,{[r.LABELS]:h,[r.EVENTS]:m,[r.DO_UNDO_ACTION_CREATORS]:g,[r.TRRACKABLE]:!0,[r.ACTION_NAME_TYPE_MAP]:d,[r.ASYNC_THUNKS]:u.asyncThunks||[]})}})(Doe);var Moe={};(function(e){Object.defineProperty(e,"isSliceTrrackable",{enumerable:!0,get:()=>n});const t=u1;function n(r){return t.TRRACKABLE?t.TRRACKABLE in r:!1}})(Moe);(function(e){const t=sP.default;t(Doe,e),t(u1,e),t(Moe,e)})(oj);var Loe={},Foe={};function joe(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let OS;const L8e=new Uint8Array(16);function F8e(){if(!OS&&(OS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!OS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return OS(L8e)}const Zi=[];for(let e=0;e<256;++e)Zi.push((e+256).toString(16).slice(1));function j8e(e,t=0){return(Zi[e[t+0]]+Zi[e[t+1]]+Zi[e[t+2]]+Zi[e[t+3]]+"-"+Zi[e[t+4]]+Zi[e[t+5]]+"-"+Zi[e[t+6]]+Zi[e[t+7]]+"-"+Zi[e[t+8]]+Zi[e[t+9]]+"-"+Zi[e[t+10]]+Zi[e[t+11]]+Zi[e[t+12]]+Zi[e[t+13]]+Zi[e[t+14]]+Zi[e[t+15]]).toLowerCase()}const B8e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),IW={randomUUID:B8e};function OW(e,t,n){if(IW.randomUUID&&!t&&!e)return IW.randomUUID();e=e||{};const r=e.random||(e.rng||F8e)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return j8e(r)}let c1=class{static get(){let t=OW();for(;this.ids.has(t);)t=OW();return this.ids.set(t,!0),t}};c1.ids=new Map;function Xa(e){return"parent"in e}function z8e(e){return!Xa(e)}function Boe(e){const{label:t=void 0,state:n,artifact:r}=e;return{id:c1.get(),label:t||"Root",children:[],level:0,meta:{createdOn:Date.now(),eventType:"Root"},state:{type:"checkpoint",val:n},artifact:r}}function zoe({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},artifact:i=void 0,eventType:s}){return{id:c1.get(),label:n,children:[],parent:e.id,meta:{createdOn:Date.now(),eventType:s},sideEffects:r,state:t,level:e.level+1,artifact:i}}function V8e(e,t){const n=Boe({state:e,label:"Root",artifact:t}),r={nodes:{[n.id]:n},root:n.id,current:n.id};return rP({name:"provenance-graph",initialState:r,reducers:{changeCurrent(i,s){i.current=s.payload},addNode(i,{payload:s}){i.nodes[s.id]=s,i.nodes[s.parent].children.push(s.id),i.current=s.id},load(i,{payload:s}){return s}}})}function Voe(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=V8e(e),s=Noe();s.startListening({matcher:xp(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=xp(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const o=tj({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,l){const u={id:c1.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var U8e=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),H8e=Object.prototype.hasOwnProperty;function yD(e,t){return H8e.call(e,t)}function vD(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)yD(e,i)&&r.push(i);return r}function $o(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function _D(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function xh(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Uoe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function wD(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(wD(e[t]))return!0}else if(typeof e=="object"){for(var r=vD(e),i=r.length,s=0;s<i;s++)if(wD(e[r[s]]))return!0}}return!1}function $W(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Hoe=function(e){U8e(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,$W(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=$W(n,{name:r,index:i,operation:s,tree:o}),l}return t}(Error),Wr=Hoe,W8e=$o,ng={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=EO(n,this.path);r&&(r=$o(r));var i=op(n,{op:"remove",path:this.from}).removed;return op(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=EO(n,this.from);return op(n,{op:"add",path:this.path,value:$o(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Q_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},q8e={add:function(e,t,n){return _D(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:ng.move,copy:ng.copy,test:ng.test,_get:ng._get};function EO(e,t){if(t=="")return e;var n={op:"_get",path:t};return op(e,n),n.value}function op(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):IO(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=EO(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Q_(e,t.value),o.test===!1)throw new Wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Wr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=$o(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,h=void 0,m=void 0,g=void 0;for(typeof n=="function"?g=n:g=IO;;){if(m=l[c],m&&m.indexOf("~")!=-1&&(m=Uoe(m)),i&&(m=="__proto__"||m=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&h===void 0&&(u[m]===void 0?h=l.slice(0,c).join("/"):c==d-1&&(h=t.path),h!==void 0&&g(t,0,e,h)),c++,Array.isArray(u)){if(m==="-")m=u.length;else{if(n&&!_D(m))throw new Wr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);_D(m)&&(m=~~m)}if(c>=d){if(n&&t.op==="add"&&m>u.length)throw new Wr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=q8e[t.op].call(t,u,m,e);if(o.test===!1)throw new Wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=ng[t.op].call(t,u,m,e);if(o.test===!1)throw new Wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[m],n&&c<d&&(!u||typeof u!="object"))throw new Wr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function oP(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Wr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=$o(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=op(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function G8e(e,t,n){var r=op(e,t);if(r.test===!1)throw new Wr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function IO(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Wr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(ng[e.op]){if(typeof e.path!="string")throw new Wr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Wr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Wr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Wr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&wD(e.value))throw new Wr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Wr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Wr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=Woe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Wr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Wr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Woe(e,t,n){try{if(!Array.isArray(e))throw new Wr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)oP($o(t),$o(e),n||!0);else{n=n||IO;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Wr)return i;throw i}}function Q_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Q_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Q_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const K8e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Wr,_areEquals:Q_,applyOperation:op,applyPatch:oP,applyReducer:G8e,deepClone:W8e,getValueByPointer:EO,validate:Woe,validator:IO},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var lj=new WeakMap,Y8e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Q8e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function X8e(e){return lj.get(e)}function J8e(e,t){return e.observers.get(t)}function Z8e(e,t){e.observers.delete(t.callback)}function e9e(e,t){t.unobserve()}function t9e(e,t){var n=[],r,i=X8e(e);if(!i)i=new Y8e(e),lj.set(e,i);else{var s=J8e(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=$o(e),t){r.callback=t,r.next=null;var o=function(){bD(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){bD(r),clearTimeout(r.next),Z8e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Q8e(t,r)),r}function bD(e,t){t===void 0&&(t=!1);var n=lj.get(e.object);uj(n.value,e.object,e.patches,"",t),e.patches.length&&oP(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function uj(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=vD(t),o=vD(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(yD(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?uj(c,d,n,r+"/"+xh(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+xh(u),value:$o(c)}),n.push({op:"replace",path:r+"/"+xh(u),value:$o(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+xh(u),value:$o(c)}),n.push({op:"remove",path:r+"/"+xh(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!yD(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+xh(u),value:$o(t[u])})}}}function qoe(e,t,n){n===void 0&&(n=!1);var r=[];return uj(e,t,r,"",n),r}const n9e=Object.freeze(Object.defineProperty({__proto__:null,compare:qoe,generate:bD,observe:t9e,unobserve:e9e},Symbol.toStringTag,{value:"Module"}));Object.assign({},K8e,n9e,{JsonPatchError:Hoe,deepClone:$o,escapePathComponent:xh,unescapePathComponent:Uoe});var rg=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(rg||{});function Px(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=Goe(i,e,t);s.shift();const o=s.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=Px(i,t);return oP(a,$o(o),!0,!1).newDocument}function r9e(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function aP({registry:e,initialState:t}){let n=!1;const r=joe(),i=Voe(t);function s(o){return i.backend.nodes[o]}return r.listen(rg.TRAVERSAL_START,()=>{n=!0}),r.listen(rg.TRAVERSAL_END,()=>{n=!1}),{registry:e,get isTraversing(){return n},getState(o=i.current){return Px(o,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:o,state:a,sideEffects:l,eventType:u,onlySideEffects:c=!1}){let d=null,h=null;const m=Px(this.current,this.graph.backend.nodes);if(c)h={type:"checkpoint",val:a};else{const g=qoe(m,a);if(r9e(a,g)==="checkpoint")h={type:"checkpoint",val:a};else{const y=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;h={type:"patch",val:g,checkpointRef:y}}}if(!h)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(d=zoe({label:o,state:h,parent:this.current,sideEffects:l,eventType:u}),!d)throw new Error("State Node creation failed!");i.update(i.addNode(d))},async apply(o,a){const l=e.get(a.type),u=Px(this.current,this.graph.backend.nodes);if(l.config.hasSideEffects){const{do:c=a,undo:d}=l.func(a.payload);this.record({label:o,state:u,sideEffects:{do:[c],undo:[d]},eventType:l.config.eventType})}else{const c=l.func(u,a.payload);this.record({label:o,state:c,sideEffects:{do:[],undo:[]},eventType:l.config.eventType})}},async to(o){r.fire(rg.TRAVERSAL_START);const a=Goe(i.current,i.backend.nodes[o],i.backend.nodes),l=[];for(let u=0;u<a.length-1;++u){const c=s(a[u]),d=s(a[u+1]);s9e(c,d)?Xa(c)&&l.push(...c.sideEffects.undo):Xa(d)&&l.push(...d.sideEffects.do)}for(const u of l){const c=e.get(u.type).func;await c(u.payload)}i.update(i.changeCurrent(o)),r.fire(rg.TRAVERSAL_END)},undo(){const{current:o}=i;return Xa(o)?this.to(o.parent):Promise.resolve(console.warn("Already at root!"))},redo(o="latest"){const{current:a}=i;return a.children.length>0?this.to(a.children[o==="oldest"?0:a.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(o,a=!1){return i.currentChange(o,{skipOnNew:a})},done(){console.log("Setup later for URL sharing.")},tree(){return Koe(i.root,i.backend.nodes)},on(o,a){r.listen(o,a)},export(){return JSON.stringify(i.backend)},import(o){const a=JSON.parse(o),l=a.current;a.current=a.root,i.update(i.load(a)),this.to(l)}}}function i9e(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;Xa(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Xa(r)&&(r=n[r.parent]),Xa(i)&&(i=n[i.parent]);return r.id}function Goe(e,t,n){const r=i9e(e,t,n),i=n[r],s=[],o=[];let[a,l]=[e,t];for(;a.id!==i.id;)s.push(a),Xa(a)&&(a=n[a.parent]);for(s.push(a);l.id!==i.id;)o.push(l),Xa(l)&&(l=n[l.parent]);const u=o.reverse();return[...s,...u].map(c=>c.id)}function s9e(e,t){if(Xa(e)&&e.parent===t.id)return!0;if(Xa(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Koe(e,t){return{...e,children:e.children.map(n=>Koe(t[n],t)),name:`${e.label}`}}function Yr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=p9e[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ep(e){return!!e&&!!e[fa]}function Ed(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===m9e}(e)||Array.isArray(e)||!!e[o_]||!!(!((t=e.constructor)===null||t===void 0)&&t[o_])||lP(e)||uP(e))}function ny(e,t,n){n===void 0&&(n=!1),Id(e)===0?(n?Object.keys:mj)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Id(e){var t=e[fa];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:lP(e)?2:uP(e)?3:0}function X_(e,t){return Id(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tx(e,t){return Id(e)===2?e.get(t):e[t]}function Yoe(e,t,n){var r=Id(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function o9e(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function lP(e){return d9e&&e instanceof Map}function uP(e){return h9e&&e instanceof Set}function Eh(e){return e.o||e.t}function cj(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=g9e(e);delete t[fa];for(var n=mj(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function fj(e,t){return t===void 0&&(t=!1),dj(e)||Ep(e)||!Ed(e)||(Id(e)>1&&(e.set=e.add=e.clear=e.delete=a9e),Object.freeze(e),t&&ny(e,function(n,r){return fj(r,!0)},!0)),e}function a9e(){Yr(2)}function dj(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Tu(e){var t=ID[e];return t||Yr(18,e),t}function l9e(e,t){ID[e]||(ID[e]=t)}function CW(){return{}.NODE_ENV==="production"||ry||Yr(0),ry}function fN(e,t){t&&(Tu("Patches"),e.u=[],e.s=[],e.v=t)}function OO(e){SD(e),e.p.forEach(u9e),e.p=null}function SD(e){e===ry&&(ry=e.l)}function PW(e){return ry={p:[],l:ry,h:e,m:!0,_:0}}function u9e(e){var t=e[fa];t.i===0||t.i===1?t.j():t.O=!0}function dN(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Tu("ES5").S(t,e,r),r?(n[fa].P&&(OO(t),Yr(4)),Ed(e)&&(e=$O(t,e),t.l||CO(t,e)),t.u&&Tu("Patches").M(n[fa].t,e,t.u,t.s)):e=$O(t,n,[]),OO(t),t.u&&t.v(t.u,t.s),e!==pj?e:void 0}function $O(e,t,n){if(dj(t))return t;var r=t[fa];if(!r)return ny(t,function(s,o){return TW(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return CO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=cj(r.k):r.o;ny(r.i===3?new Set(i):i,function(s,o){return TW(e,r,i,s,o,n)}),CO(e,i,!1),n&&e.u&&Tu("Patches").R(r,n,e.u,e.s)}return r.o}function TW(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Yr(5),Ep(i)){var o=$O(e,i,s&&t&&t.i!==3&&!X_(t.D,r)?s.concat(r):void 0);if(Yoe(n,r,o),!Ep(o))return;e.m=!1}if(Ed(i)&&!dj(i)){if(!e.h.F&&e._<1)return;$O(e,i),t&&t.A.l||CO(e,i)}}function CO(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&fj(t,n)}function hN(e,t){var n=e[fa];return(n?Eh(n):e)[t]}function kW(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function xD(e){e.P||(e.P=!0,e.l&&xD(e.l))}function pN(e){e.o||(e.o=cj(e.t))}function ED(e,t,n){var r=lP(t)?Tu("MapSet").N(t,n):uP(t)?Tu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:CW(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=OD;o&&(l=[a],u=O0);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(t,n):Tu("ES5").J(t,n);return(n?n.A:CW()).p.push(r),r}function c9e(e){return Ep(e)||Yr(22,e),function t(n){if(!Ed(n))return n;var r,i=n[fa],s=Id(n);if(i){if(!i.P&&(i.i<4||!Tu("ES5").K(i)))return i.t;i.I=!0,r=AW(n,s),i.I=!1}else r=AW(n,s);return ny(r,function(o,a){i&&Tx(i.t,o)===a||Yoe(r,o,t(a))}),s===3?new Set(r):r}(e)}function AW(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return cj(e)}function f9e(){function e(r){if(!Ed(r))return r;if(Array.isArray(r))return r.map(e);if(lP(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(uP(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return X_(r,o_)&&(i[o_]=r[o_]),i}function t(r){return Ep(r)?e(r):r}var n="add";l9e("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,u=0;u<o.length-1;u++){var c=Id(l),d=""+o[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||Yr(24),typeof l=="function"&&d==="prototype"&&Yr(24),typeof(l=Tx(l,d))!="object"&&Yr(15,o.join("/"))}var h=Id(l),m=e(s.value),g=o[o.length-1];switch(a){case"replace":switch(h){case 2:return l.set(g,m);case 3:Yr(16);default:return l[g]=m}case n:switch(h){case 1:return g==="-"?l.push(m):l.splice(g,0,m);case 2:return l.set(g,m);case 3:return l.add(m);default:return l[g]=m}case"remove":switch(h){case 1:return l.splice(g,1);case 2:return l.delete(g);case 3:return l.delete(s.value);default:return delete l[g]}default:Yr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var d=a.t,h=a.o;ny(a.D,function(m,g){var y=Tx(d,m),_=Tx(h,m),v=g?X_(d,m)?"replace":n:"remove";if(y!==_||v!=="replace"){var b=l.concat(m);u.push(v==="remove"?{op:v,path:b}:{op:v,path:b,value:_}),c.push(v===n?{op:"remove",path:b}:v==="remove"?{op:n,path:b,value:t(y)}:{op:"replace",path:b,value:t(y)})}})}(r,i,s,o);case 5:case 1:return function(a,l,u,c){var d=a.t,h=a.D,m=a.o;if(m.length<d.length){var g=[m,d];d=g[0],m=g[1];var y=[c,u];u=y[0],c=y[1]}for(var _=0;_<d.length;_++)if(h[_]&&m[_]!==d[_]){var v=l.concat([_]);u.push({op:"replace",path:v,value:t(m[_])}),c.push({op:"replace",path:v,value:t(d[_])})}for(var b=d.length;b<m.length;b++){var S=l.concat([b]);u.push({op:n,path:S,value:t(m[b])})}d.length<m.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,s,o);case 3:return function(a,l,u,c){var d=a.t,h=a.o,m=0;d.forEach(function(g){if(!h.has(g)){var y=l.concat([m]);u.push({op:"remove",path:y,value:g}),c.unshift({op:n,path:y,value:g})}m++}),m=0,h.forEach(function(g){if(!d.has(g)){var y=l.concat([m]);u.push({op:n,path:y,value:g}),c.unshift({op:"remove",path:y,value:g})}m++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===pj?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var NW,ry,hj=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",d9e=typeof Map<"u",h9e=typeof Set<"u",RW=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",pj=hj?Symbol.for("immer-nothing"):((NW={})["immer-nothing"]=!0,NW),o_=hj?Symbol.for("immer-draftable"):"__$immer_draftable",fa=hj?Symbol.for("immer-state"):"__$immer_state",p9e={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},m9e=""+Object.prototype.constructor,mj=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,g9e=Object.getOwnPropertyDescriptors||function(e){var t={};return mj(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},ID={},OD={get:function(e,t){if(t===fa)return e;var n=Eh(e);if(!X_(n,t))return function(i,s,o){var a,l=kW(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Ed(r)?r:r===hN(e.t,t)?(pN(e),e.o[t]=ED(e.A.h,r,e)):r},has:function(e,t){return t in Eh(e)},ownKeys:function(e){return Reflect.ownKeys(Eh(e))},set:function(e,t,n){var r=kW(Eh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=hN(Eh(e),t),s=i==null?void 0:i[fa];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(o9e(n,i)&&(n!==void 0||X_(e.t,t)))return!0;pN(e),xD(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return hN(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,pN(e),xD(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Eh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Yr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Yr(12)}},O0={};ny(OD,function(e,t){O0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),O0.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Yr(13),O0.set.call(this,e,t,void 0)},O0.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Yr(14),OD.set.call(this,e[0],t,n,e[0])};var y9e=function(){function e(n){var r=this;this.g=RW,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(y){var _=this;y===void 0&&(y=a);for(var v=arguments.length,b=Array(v>1?v-1:0),S=1;S<v;S++)b[S-1]=arguments[S];return l.produce(y,function(x){var $;return($=s).call.apply($,[_,x].concat(b))})}}var u;if(typeof s!="function"&&Yr(6),o!==void 0&&typeof o!="function"&&Yr(7),Ed(i)){var c=PW(r),d=ED(r,i,void 0),h=!0;try{u=s(d),h=!1}finally{h?OO(c):SD(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return fN(c,o),dN(y,c)},function(y){throw OO(c),y}):(fN(c,o),dN(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===pj&&(u=void 0),r.F&&fj(u,!0),o){var m=[],g=[];Tu("Patches").M(i,u,m,g),o(m,g)}return u}Yr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(m){return i.apply(void 0,[m].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Ed(n)||Yr(8),Ep(n)&&(n=c9e(n));var r=PW(this),i=ED(this,n,void 0);return i[fa].C=!0,SD(r),i},t.finishDraft=function(n,r){var i=n&&n[fa];({}).NODE_ENV!=="production"&&(i&&i.C||Yr(9),i.I&&Yr(10));var s=i.A;return fN(s,r),dN(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!RW&&Yr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Tu("Patches").$;return Ep(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),da=new y9e,v9e=da.produce;da.produceWithPatches.bind(da);da.setAutoFreeze.bind(da);da.setUseProxies.bind(da);da.applyPatches.bind(da);da.createDraft.bind(da);da.finishDraft.bind(da);f9e();function _9e(e){return e.length===2?v9e(e):e}let cP=class Qoe{static create(){return new Qoe}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:_9e(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Qa(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}};const w9e=Object.freeze(Object.defineProperty({__proto__:null,ID:c1,Registry:cP,TrrackEvents:rg,createAction:Qa,createRootNode:Boe,createStateNode:zoe,initEventManager:joe,initializeProvenanceGraph:Voe,initializeTrrack:aP,isRootNode:z8e,isStateNode:Xa},Symbol.toStringTag,{value:"Module"})),b9e=SL(w9e);var gj={};(function(e){function t(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}t(e,{changeCurrent:()=>s,getTrrackStore:()=>o});const n=l1,r={current:null},i=(0,n.createSlice)({name:"trrack",initialState:r,reducers:{changeCurrent:(a,l)=>({current:l.payload})}}),{changeCurrent:s}=i.actions;function o(a){return(0,n.configureStore)({reducer:i.reducer,preloadedState:a})}})(gj);(function(e){function t(v,b){for(var S in b)Object.defineProperty(v,S,{enumerable:!0,get:b[S]})}t(e,{trrackTraverseAction:()=>l,configureTrrackableStore:()=>_});const n=aj.default,r=l1,i=b9e,s=oj,o=u1,a=gj,l=(0,r.createAction)("traverse",function(b){return{payload:b}});function u(v){return v.type===l.type}function c(v){return function(b,S){return u(S)?v(S.payload,S):v(b,S)}}function d(v){return v.reduce((b,S)=>(0,s.isSliceTrrackable)(S)?n({},b,S[o.LABELS]):b,{})}function h(v){return v.reduce((b,S)=>(0,s.isSliceTrrackable)(S)?n({},b,S[o.DO_UNDO_ACTION_CREATORS]):b,{})}function m(v){return v.reduce((b,S)=>(0,s.isSliceTrrackable)(S)?n({},b,S[o.ACTION_NAME_TYPE_MAP]):b,{})}function g(v){return v.reduce((b,S)=>{if((0,s.isSliceTrrackable)(S)){const x={};return S[o.ASYNC_THUNKS].forEach($=>{x[$.typePrefix]=$,x[$.fulfilled.type]=$}),n({},b,x)}return b},{})}function y(v){return v.reduce((b,S)=>(0,s.isSliceTrrackable)(S)?[...b,...Object.values(S.actions)]:b,[])}function _(v){const b=(0,r.createListenerMiddleware)(),S=v.reducer,x=(0,r.configureStore)(n({},v,{reducer:c(typeof S=="function"?S:(0,r.combineReducers)(S)),middleware(B){const ue=v.middleware;return ue?typeof ue=="function"?[...ue(B),b.middleware]:[...ue,b.middleware]:B().prepend(b.middleware)}})),$=b.startListening,E=d(v.slices),I=h(v.slices),T=m(v.slices),M=g(v.slices),U=y(v.slices),z=(0,i.initializeTrrack)({initialState:x.getState(),registry:i.Registry.create()});let H="active";Object.values(M).forEach(B=>{z.registry.has(B.typePrefix)||z.registry.register(B.typePrefix,ue=>(H="paused",x.dispatch(B(ue)).then(()=>H="active")))}),v.slices.forEach(B=>{Object.values(B.actions).forEach(ue=>{z.registry.register(ue.type,le=>x.dispatch(le))})});const q=(0,a.getTrrackStore)({current:z.current.id});return z.currentChange(()=>{H="paused",x.dispatch(l(z.getState())),q.dispatch((0,a.changeCurrent)(z.current.id)),H="active"}),$({predicate(B){return z.isTraversing||H==="paused"?!1:(0,r.isAsyncThunkAction)(B)?(0,r.isFulfilled)(B):(0,r.isAnyOf)(U[0],...U)(B)},effect(B,ue){const le=(0,r.isFulfilled)(B),pe=le?M[B.type].typePrefix:B.type,Z=B.payload,oe=E[pe],X=oe(Z),k=I[pe]({action:B,currentState:ue.getState(),previousState:ue.getOriginalState()});if(!o.NO_OP_ACTION.match(k.undo)){const K=k.undo,D=o.NO_OP_ACTION.match(k.do)?B:k.do;z.record({label:X,state:ue.getState(),eventType:T[pe],sideEffects:{do:[{type:le?pe:D.type,payload:le?D.payload:D}],undo:[{type:K.type,payload:le?K.payload:K}]},onlySideEffects:!0})}else z.record({label:X,state:ue.getState(),eventType:T[pe],sideEffects:{do:[],undo:[]}})}}),{store:x,trrack:z,trrackStore:q}}})(Foe);var S9e={},Xoe={};(function(e){function t(s,o){for(var a in o)Object.defineProperty(s,a,{enumerable:!0,get:o[a]})}t(e,{isMiddlewareArray:()=>r,asyncDoUndoActionCreatorHelper:()=>i});const n=l1;function r(s){return Array.isArray(s)}function i(s,o){return(0,n.createAction)(s,function(l){return{payload:l}})(o)}})(Xoe);(function(e){const t=sP.default;t(Foe,e),t(S9e,e),t(Xoe,e),t(gj,e)})(Loe);(function(e){const t=sP.default;t(oj,e),t(Loe,e)})(gD);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},x9e=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},yj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[c],n[d],n[h],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Joe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):x9e(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new E9e;const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class E9e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I9e=function(e){const t=Joe(e);return yj.encodeByteArray(t,!0)},PO=function(e){return I9e(e).replace(/\./g,"")},Zoe=function(e){try{return yj.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9e=()=>eae().__FIREBASE_DEFAULTS__,$9e=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},C9e=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zoe(e[1]);return t&&JSON.parse(t)},fP=()=>{try{return O9e()||$9e()||C9e()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tae=e=>{var t,n;return(n=(t=fP())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},P9e=e=>{const t=tae(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},T9e=()=>{var e;return(e=fP())===null||e===void 0?void 0:e.config},nae=e=>{var t;return(t=fP())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9e(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[PO(JSON.stringify(n)),PO(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A9e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function rae(){var e;const t=(e=fP())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N9e(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function R9e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D9e(){const e=ki();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function M9e(){return!rae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dP(){try{return typeof indexedDB=="object"}catch{return!1}}function L9e(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9e="FirebaseError";class Gl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=F9e,Object.setPrototypeOf(this,Gl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hy.prototype.create)}}class Hy{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?j9e(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gl(i,a,r)}}function j9e(e,t){return e.replace(B9e,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const B9e=/\{\$([^}]+)}/g;function z9e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Z_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(DW(s)&&DW(o)){if(!Z_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DW(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function V9e(e,t){const n=new U9e(e,t);return n.subscribe.bind(n)}class U9e{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H9e(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=mN),i.error===void 0&&(i.error=mN),i.complete===void 0&&(i.complete=mN);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H9e(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function mN(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9e=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9e=1e3,G9e=2,K9e=4*60*60*1e3,Y9e=.5;function Q9e(e,t=q9e,n=G9e){const r=t*Math.pow(n,e),i=Math.round(Y9e*r*(Math.random()-.5)*2);return Math.min(K9e,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e){return e&&e._delegate?e._delegate:e}class Ru{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9e{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new J_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Z9e(t))try{this.getOrInitializeService({instanceIdentifier:Ih})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ih){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ih){return this.instances.has(t)}getOptions(t=Ih){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J9e(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ih){return this.component?this.component.multipleInstances?t:Ih:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J9e(e){return e===Ih?void 0:e}function Z9e(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7e{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new X9e(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Nn||(Nn={}));const t7e={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},n7e=Nn.INFO,r7e={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},i7e=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=r7e[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hP{constructor(t){this.name=t,this._logLevel=n7e,this._logHandler=i7e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t7e[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...t),this._logHandler(this,Nn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...t),this._logHandler(this,Nn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...t),this._logHandler(this,Nn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...t),this._logHandler(this,Nn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...t),this._logHandler(this,Nn.ERROR,...t)}}const s7e=(e,t)=>t.some(n=>e instanceof n);let MW,LW;function o7e(){return MW||(MW=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a7e(){return LW||(LW=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iae=new WeakMap,$D=new WeakMap,sae=new WeakMap,gN=new WeakMap,vj=new WeakMap;function l7e(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(hd(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&iae.set(n,e)}).catch(()=>{}),vj.set(t,e),t}function u7e(e){if($D.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});$D.set(e,t)}let CD={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $D.get(e);if(t==="objectStoreNames")return e.objectStoreNames||sae.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hd(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function c7e(e){CD=e(CD)}function f7e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(yN(this),t,...n);return sae.set(r,t.sort?t.sort():[t]),hd(r)}:a7e().includes(e)?function(...t){return e.apply(yN(this),t),hd(iae.get(this))}:function(...t){return hd(e.apply(yN(this),t))}}function d7e(e){return typeof e=="function"?f7e(e):(e instanceof IDBTransaction&&u7e(e),s7e(e,o7e())?new Proxy(e,CD):e)}function hd(e){if(e instanceof IDBRequest)return l7e(e);if(gN.has(e))return gN.get(e);const t=d7e(e);return t!==e&&(gN.set(e,t),vj.set(t,e)),t}const yN=e=>vj.get(e);function h7e(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=hd(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hd(o.result),l.oldVersion,l.newVersion,hd(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const p7e=["get","getKey","getAll","getAllKeys","count"],m7e=["put","add","delete","clear"],vN=new Map;function FW(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(vN.get(t))return vN.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=m7e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p7e.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return vN.set(t,s),s}c7e(e=>({...e,get:(t,n,r)=>FW(t,n)||e.get(t,n,r),has:(t,n)=>!!FW(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7e{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y7e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function y7e(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const PD="@firebase/app",jW="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new hP("@firebase/app"),v7e="@firebase/app-compat",_7e="@firebase/analytics-compat",w7e="@firebase/analytics",b7e="@firebase/app-check-compat",S7e="@firebase/app-check",x7e="@firebase/auth",E7e="@firebase/auth-compat",I7e="@firebase/database",O7e="@firebase/database-compat",$7e="@firebase/functions",C7e="@firebase/functions-compat",P7e="@firebase/installations",T7e="@firebase/installations-compat",k7e="@firebase/messaging",A7e="@firebase/messaging-compat",N7e="@firebase/performance",R7e="@firebase/performance-compat",D7e="@firebase/remote-config",M7e="@firebase/remote-config-compat",L7e="@firebase/storage",F7e="@firebase/storage-compat",j7e="@firebase/firestore",B7e="@firebase/firestore-compat",z7e="firebase",V7e="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="[DEFAULT]",U7e={[PD]:"fire-core",[v7e]:"fire-core-compat",[w7e]:"fire-analytics",[_7e]:"fire-analytics-compat",[S7e]:"fire-app-check",[b7e]:"fire-app-check-compat",[x7e]:"fire-auth",[E7e]:"fire-auth-compat",[I7e]:"fire-rtdb",[O7e]:"fire-rtdb-compat",[$7e]:"fire-fn",[C7e]:"fire-fn-compat",[P7e]:"fire-iid",[T7e]:"fire-iid-compat",[k7e]:"fire-fcm",[A7e]:"fire-fcm-compat",[N7e]:"fire-perf",[R7e]:"fire-perf-compat",[D7e]:"fire-rc",[M7e]:"fire-rc-compat",[L7e]:"fire-gcs",[F7e]:"fire-gcs-compat",[j7e]:"fire-fst",[B7e]:"fire-fst-compat","fire-js":"fire-js",[z7e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Map,TD=new Map;function H7e(e,t){try{e.container.addComponent(t)}catch(n){Ip.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zc(e){const t=e.name;if(TD.has(t))return Ip.debug(`There were multiple attempts to register component ${t}.`),!1;TD.set(t,e);for(const n of kO.values())H7e(n,e);return!0}function Gp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function W7e(e,t,n=TO){Gp(e,t).clearInstance(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7e={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pd=new Hy("app","Firebase",q7e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7e{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=V7e;function oae(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:TO,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw pd.create("bad-app-name",{appName:String(i)});if(n||(n=T9e()),!n)throw pd.create("no-options");const s=kO.get(i);if(s){if(Z_(n,s.options)&&Z_(r,s.config))return s;throw pd.create("duplicate-app",{appName:i})}const o=new e7e(i);for(const l of TD.values())o.addComponent(l);const a=new G7e(n,r,o);return kO.set(i,a),a}function _j(e=TO){const t=kO.get(e);if(!t&&e===TO)return oae();if(!t)throw pd.create("no-app",{appName:e});return t}function Ll(e,t,n){var r;let i=(r=U7e[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ip.warn(a.join(" "));return}zc(new Ru(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7e="firebase-heartbeat-database",Y7e=1,ew="firebase-heartbeat-store";let _N=null;function aae(){return _N||(_N=h7e(K7e,Y7e,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ew)}}}).catch(e=>{throw pd.create("idb-open",{originalErrorMessage:e.message})})),_N}async function Q7e(e){try{return(await aae()).transaction(ew).objectStore(ew).get(lae(e))}catch(t){if(t instanceof Gl)Ip.warn(t.message);else{const n=pd.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ip.warn(n.message)}}}async function BW(e,t){try{const r=(await aae()).transaction(ew,"readwrite");return await r.objectStore(ew).put(t,lae(e)),r.done}catch(n){if(n instanceof Gl)Ip.warn(n.message);else{const r=pd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ip.warn(r.message)}}}function lae(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7e=1024,J7e=30*24*60*60*1e3;class Z7e{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tHe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zW();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=J7e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zW(),{heartbeatsToSend:n,unsentEntries:r}=eHe(this._heartbeatsCache.heartbeats),i=PO(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function zW(){return new Date().toISOString().substring(0,10)}function eHe(e,t=X7e){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VW(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VW(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tHe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dP()?L9e().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Q7e(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BW(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BW(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function VW(e){return PO(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nHe(e){zc(new Ru("platform-logger",t=>new g7e(t),"PRIVATE")),zc(new Ru("heartbeat",t=>new Z7e(t),"PRIVATE")),Ll(PD,jW,e),Ll(PD,jW,"esm2017"),Ll("fire-js","")}nHe("");var rHe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ht,wj=wj||{},Lt=rHe||self;function AO(){}function pP(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function d1(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function iHe(e){return Object.prototype.hasOwnProperty.call(e,wN)&&e[wN]||(e[wN]=++sHe)}var wN="closure_uid_"+(1e9*Math.random()>>>0),sHe=0;function oHe(e,t,n){return e.call.apply(e.bind,arguments)}function aHe(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ns(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ns=oHe:Ns=aHe,Ns.apply(null,arguments)}function $S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function hs(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Hd(){this.s=this.s,this.o=this.o}var lHe=0;Hd.prototype.s=!1;Hd.prototype.na=function(){!this.s&&(this.s=!0,this.M(),lHe!=0)&&iHe(this)};Hd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uae=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function bj(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function UW(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pP(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Rs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Rs.prototype.h=function(){this.defaultPrevented=!0};var uHe=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Lt.addEventListener("test",AO,t),Lt.removeEventListener("test",AO,t)}catch{}return e}();function NO(e){return/^[\s\xa0]*$/.test(e)}var HW=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function bN(e,t){return e<t?-1:e>t?1:0}function mP(){var e=Lt.navigator;return e&&(e=e.userAgent)?e:""}function hu(e){return mP().indexOf(e)!=-1}function Sj(e){return Sj[" "](e),e}Sj[" "]=AO;function cHe(e){var t=hHe;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var fHe=hu("Opera"),iy=hu("Trident")||hu("MSIE"),cae=hu("Edge"),kD=cae||iy,fae=hu("Gecko")&&!(mP().toLowerCase().indexOf("webkit")!=-1&&!hu("Edge"))&&!(hu("Trident")||hu("MSIE"))&&!hu("Edge"),dHe=mP().toLowerCase().indexOf("webkit")!=-1&&!hu("Edge");function dae(){var e=Lt.document;return e?e.documentMode:void 0}var RO;e:{var SN="",xN=function(){var e=mP();if(fae)return/rv:([^\);]+)(\)|;)/.exec(e);if(cae)return/Edge\/([\d\.]+)/.exec(e);if(iy)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(dHe)return/WebKit\/(\S+)/.exec(e);if(fHe)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(xN&&(SN=xN?xN[1]:""),iy){var EN=dae();if(EN!=null&&EN>parseFloat(SN)){RO=String(EN);break e}}RO=SN}var hHe={};function pHe(){return cHe(function(){let e=0;const t=HW(String(RO)).split("."),n=HW("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=bN(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||bN(i[2].length==0,s[2].length==0)||bN(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var AD;if(Lt.document&&iy){var WW=dae();AD=WW||parseInt(RO,10)||void 0}else AD=void 0;var mHe=AD;function tw(e,t){if(Rs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fae){e:{try{Sj(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:gHe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tw.X.h.call(this)}}hs(tw,Rs);var gHe={2:"touch",3:"pen",4:"mouse"};tw.prototype.h=function(){tw.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var h1="closure_listenable_"+(1e6*Math.random()|0),yHe=0;function vHe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++yHe,this.ba=this.ea=!1}function gP(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function xj(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function hae(e){const t={};for(const n in e)t[n]=e[n];return t}const qW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pae(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<qW.length;s++)n=qW[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yP(e){this.src=e,this.g={},this.h=0}yP.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=RD(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new vHe(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function ND(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=uae(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gP(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function RD(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var Ej="closure_lm_"+(1e6*Math.random()|0),IN={};function mae(e,t,n,r,i){if(r&&r.once)return yae(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)mae(e,t[s],n,r,i);return null}return n=$j(n),e&&e[h1]?e.N(t,n,d1(r)?!!r.capture:!!r,i):gae(e,t,n,!1,r,i)}function gae(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=d1(i)?!!i.capture:!!i,a=Oj(e);if(a||(e[Ej]=a=new yP(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=_He(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)uHe||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_ae(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _He(){function e(n){return t.call(e.src,e.listener,n)}const t=wHe;return e}function yae(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)yae(e,t[s],n,r,i);return null}return n=$j(n),e&&e[h1]?e.O(t,n,d1(r)?!!r.capture:!!r,i):gae(e,t,n,!0,r,i)}function vae(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)vae(e,t[s],n,r,i);else r=d1(r)?!!r.capture:!!r,n=$j(n),e&&e[h1]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=RD(s,n,r,i),-1<n&&(gP(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Oj(e))&&(t=e.g[t.toString()],e=-1,t&&(e=RD(t,n,r,i)),(n=-1<e?t[e]:null)&&Ij(n))}function Ij(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[h1])ND(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Oj(t))?(ND(n,e),n.h==0&&(n.src=null,t[Ej]=null)):gP(e)}}}function _ae(e){return e in IN?IN[e]:IN[e]="on"+e}function wHe(e,t){if(e.ba)e=!0;else{t=new tw(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Ij(e),e=n.call(r,t)}return e}function Oj(e){return e=e[Ej],e instanceof yP?e:null}var ON="__closure_events_fn_"+(1e9*Math.random()>>>0);function $j(e){return typeof e=="function"?e:(e[ON]||(e[ON]=function(t){return e.handleEvent(t)}),e[ON])}function Ui(){Hd.call(this),this.i=new yP(this),this.P=this,this.I=null}hs(Ui,Hd);Ui.prototype[h1]=!0;Ui.prototype.removeEventListener=function(e,t,n,r){vae(this,e,t,n,r)};function cs(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Rs(t,e);else if(t instanceof Rs)t.target=t.target||e;else{var i=t;t=new Rs(r,e),pae(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=CS(o,r,!0,t)&&i}if(o=t.g=e,i=CS(o,r,!0,t)&&i,i=CS(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=CS(o,r,!1,t)&&i}Ui.prototype.M=function(){if(Ui.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)gP(n[r]);delete e.g[t],e.h--}}this.I=null};Ui.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ui.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function CS(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&ND(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cj=Lt.JSON.stringify;function bHe(){var e=Sae;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class SHe{constructor(){this.h=this.g=null}add(t,n){const r=wae.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var wae=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xHe,e=>e.reset());class xHe{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function EHe(e){Lt.setTimeout(()=>{throw e},0)}function bae(e,t){DD||IHe(),MD||(DD(),MD=!0),Sae.add(e,t)}var DD;function IHe(){var e=Lt.Promise.resolve(void 0);DD=function(){e.then(OHe)}}var MD=!1,Sae=new SHe;function OHe(){for(var e;e=bHe();){try{e.h.call(e.g)}catch(n){EHe(n)}var t=wae;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}MD=!1}function vP(e,t){Ui.call(this),this.h=e||1,this.g=t||Lt,this.j=Ns(this.lb,this),this.l=Date.now()}hs(vP,Ui);ht=vP.prototype;ht.ca=!1;ht.R=null;ht.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),cs(this,"tick"),this.ca&&(Pj(this),this.start()))}};ht.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Pj(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}ht.M=function(){vP.X.M.call(this),Pj(this),delete this.g};function Tj(e,t,n){if(typeof e=="function")n&&(e=Ns(e,n));else if(e&&typeof e.handleEvent=="function")e=Ns(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Lt.setTimeout(e,t||0)}function xae(e){e.g=Tj(()=>{e.g=null,e.i&&(e.i=!1,xae(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class $He extends Hd{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xae(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nw(e){Hd.call(this),this.h=e,this.g={}}hs(nw,Hd);var GW=[];function Eae(e,t,n,r){Array.isArray(n)||(n&&(GW[0]=n.toString()),n=GW);for(var i=0;i<n.length;i++){var s=mae(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Iae(e){xj(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ij(t)},e),e.g={}}nw.prototype.M=function(){nw.X.M.call(this),Iae(this)};nw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _P(){this.g=!0}_P.prototype.Aa=function(){this.g=!1};function CHe(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function PHe(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ig(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+kHe(e,n)+(r?" "+r:"")})}function THe(e,t){e.info(function(){return"TIMEOUT: "+t})}_P.prototype.info=function(){};function kHe(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Cj(n)}catch{return t}}var Yp={},KW=null;function wP(){return KW=KW||new Ui}Yp.Pa="serverreachability";function Oae(e){Rs.call(this,Yp.Pa,e)}hs(Oae,Rs);function rw(e){const t=wP();cs(t,new Oae(t))}Yp.STAT_EVENT="statevent";function $ae(e,t){Rs.call(this,Yp.STAT_EVENT,e),this.stat=t}hs($ae,Rs);function qs(e){const t=wP();cs(t,new $ae(t,e))}Yp.Qa="timingevent";function Cae(e,t){Rs.call(this,Yp.Qa,e),this.size=t}hs(Cae,Rs);function p1(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){e()},t)}var bP={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Pae={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function kj(){}kj.prototype.h=null;function YW(e){return e.h||(e.h=e.i())}function Tae(){}var m1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Aj(){Rs.call(this,"d")}hs(Aj,Rs);function Nj(){Rs.call(this,"c")}hs(Nj,Rs);var LD;function SP(){}hs(SP,kj);SP.prototype.g=function(){return new XMLHttpRequest};SP.prototype.i=function(){return{}};LD=new SP;function g1(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new nw(this),this.O=AHe,e=kD?125:void 0,this.T=new vP(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kae}function kae(){this.i=null,this.g="",this.h=!1}var AHe=45e3,FD={},DO={};ht=g1.prototype;ht.setTimeout=function(e){this.O=e};function jD(e,t,n){e.K=1,e.v=EP(Vc(t)),e.s=n,e.P=!0,Aae(e,null)}function Aae(e,t){e.F=Date.now(),y1(e),e.A=Vc(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Bae(n.i,"t",r),e.C=0,n=e.l.H,e.h=new kae,e.g=ale(e.l,n?t:null,!e.s),0<e.N&&(e.L=new $He(Ns(e.La,e,e.g),e.N)),Eae(e.S,e.g,"readystatechange",e.ib),t=e.H?hae(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),rw(),CHe(e.j,e.u,e.A,e.m,e.U,e.s)}ht.ib=function(e){e=e.target;const t=this.L;t&&bc(e)==3?t.l():this.La(e)};ht.La=function(e){try{if(e==this.g)e:{const c=bc(this.g);var t=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||kD||this.g&&(this.h.h||this.g.fa()||ZW(this.g)))){this.I||c!=4||t==7||(t==8||0>=d?rw(3):rw(2)),xP(this);var n=this.g.aa();this.Y=n;t:if(Nae(this)){var r=ZW(this.g);e="";var i=r.length,s=bc(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hh(this),a_(this);var o="";break t}this.h.i=new Lt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,PHe(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!NO(a)){var u=a;break t}}u=null}if(n=u)ig(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,BD(this,n);else{this.i=!1,this.o=3,qs(12),Hh(this),a_(this);break e}}this.P?(Rae(this,c,o),kD&&this.i&&c==3&&(Eae(this.S,this.T,"tick",this.hb),this.T.start())):(ig(this.j,this.m,o,null),BD(this,o)),c==4&&Hh(this),this.i&&!this.I&&(c==4?rle(this.l,this):(this.i=!1,y1(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,qs(12)):(this.o=0,qs(13)),Hh(this),a_(this)}}}catch{}finally{}};function Nae(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function Rae(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=NHe(e,n),i==DO){t==4&&(e.o=4,qs(14),r=!1),ig(e.j,e.m,null,"[Incomplete Response]");break}else if(i==FD){e.o=4,qs(15),ig(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ig(e.j,e.m,i,null),BD(e,i);Nae(e)&&i!=DO&&i!=FD&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,qs(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bj(t),t.K=!0,qs(11))):(ig(e.j,e.m,n,"[Invalid Chunked Response]"),Hh(e),a_(e))}ht.hb=function(){if(this.g){var e=bc(this.g),t=this.g.fa();this.C<t.length&&(xP(this),Rae(this,e,t),this.i&&e!=4&&y1(this))}};function NHe(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?DO:(n=Number(t.substring(n,r)),isNaN(n)?FD:(r+=1,r+n>t.length?DO:(t=t.substr(r,n),e.C=r+n,t)))}ht.cancel=function(){this.I=!0,Hh(this)};function y1(e){e.V=Date.now()+e.O,Dae(e,e.O)}function Dae(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=p1(Ns(e.gb,e),t)}function xP(e){e.B&&(Lt.clearTimeout(e.B),e.B=null)}ht.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(THe(this.j,this.A),this.K!=2&&(rw(),qs(17)),Hh(this),this.o=2,a_(this)):Dae(this,this.V-e)};function a_(e){e.l.G==0||e.I||rle(e.l,e)}function Hh(e){xP(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Pj(e.T),Iae(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function BD(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||zD(n.h,e))){if(!e.J&&zD(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)FO(n),$P(n);else break e;jj(n),qs(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=p1(Ns(n.cb,n),6e3));if(1>=Uae(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Wh(n,11)}else if((e.J||n.g==e)&&FO(n),!NO(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.h;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Rj(s,s.h),s.h=null))}if(r.D){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.za=y,Ar(r.F,r.D,y))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=ole(r,r.H?r.ka:null,r.V),o.J){Hae(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(xP(a),y1(a)),r.g=o}else tle(r);0<n.i.length&&CP(n)}else u[0]!="stop"&&u[0]!="close"||Wh(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Wh(n,7):Fj(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}rw(4)}catch{}}function RHe(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(pP(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function DHe(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(pP(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Mae(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(pP(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=DHe(e),r=RHe(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Lae=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MHe(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ap(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ap){this.h=t!==void 0?t:e.h,MO(this,e.j),this.s=e.s,this.g=e.g,LO(this,e.m),this.l=e.l,t=e.i;var n=new iw;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),QW(this,n),this.o=e.o}else e&&(n=String(e).match(Lae))?(this.h=!!t,MO(this,n[1]||"",!0),this.s=$0(n[2]||""),this.g=$0(n[3]||"",!0),LO(this,n[4]),this.l=$0(n[5]||"",!0),QW(this,n[6]||"",!0),this.o=$0(n[7]||"")):(this.h=!!t,this.i=new iw(null,this.h))}ap.prototype.toString=function(){var e=[],t=this.j;t&&e.push(C0(t,XW,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(C0(t,XW,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(C0(n,n.charAt(0)=="/"?jHe:FHe,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",C0(n,zHe)),e.join("")};function Vc(e){return new ap(e)}function MO(e,t,n){e.j=n?$0(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function LO(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function QW(e,t,n){t instanceof iw?(e.i=t,VHe(e.i,e.h)):(n||(t=C0(t,BHe)),e.i=new iw(t,e.h))}function Ar(e,t,n){e.i.set(t,n)}function EP(e){return Ar(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $0(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function C0(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,LHe),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function LHe(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var XW=/[#\/\?@]/g,FHe=/[#\?:]/g,jHe=/[#\?]/g,BHe=/[#\?@]/g,zHe=/#/g;function iw(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wd(e){e.g||(e.g=new Map,e.h=0,e.i&&MHe(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ht=iw.prototype;ht.add=function(e,t){Wd(this),this.i=null,e=Wy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Fae(e,t){Wd(e),t=Wy(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jae(e,t){return Wd(e),t=Wy(e,t),e.g.has(t)}ht.forEach=function(e,t){Wd(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};ht.oa=function(){Wd(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};ht.W=function(e){Wd(this);let t=[];if(typeof e=="string")jae(this,e)&&(t=t.concat(this.g.get(Wy(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};ht.set=function(e,t){return Wd(this),this.i=null,e=Wy(this,e),jae(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ht.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function Bae(e,t,n){Fae(e,t),0<n.length&&(e.i=null,e.g.set(Wy(e,t),bj(n)),e.h+=n.length)}ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Wy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function VHe(e,t){t&&!e.j&&(Wd(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Fae(this,r),Bae(this,i,n))},e)),e.j=t}var UHe=class{constructor(t,n){this.h=t,this.g=n}};function zae(e){this.l=e||HHe,Lt.PerformanceNavigationTiming?(e=Lt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Lt.g&&Lt.g.Ga&&Lt.g.Ga()&&Lt.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var HHe=10;function Vae(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Uae(e){return e.h?1:e.g?e.g.size:0}function zD(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Rj(e,t){e.g?e.g.add(t):e.h=t}function Hae(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}zae.prototype.cancel=function(){if(this.i=Wae(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Wae(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return bj(e.i)}function Dj(){}Dj.prototype.stringify=function(e){return Lt.JSON.stringify(e,void 0)};Dj.prototype.parse=function(e){return Lt.JSON.parse(e,void 0)};function WHe(){this.g=new Dj}function qHe(e,t,n){const r=n||"";try{Mae(e,function(i,s){let o=i;d1(i)&&(o=Cj(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function GHe(e,t){const n=new _P;if(Lt.Image){const r=new Image;r.onload=$S(PS,n,r,"TestLoadImage: loaded",!0,t),r.onerror=$S(PS,n,r,"TestLoadImage: error",!1,t),r.onabort=$S(PS,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=$S(PS,n,r,"TestLoadImage: timeout",!1,t),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function PS(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function v1(e){this.l=e.ac||null,this.j=e.jb||!1}hs(v1,kj);v1.prototype.g=function(){return new IP(this.l,this.j)};v1.prototype.i=function(e){return function(){return e}}({});function IP(e,t){Ui.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Mj,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hs(IP,Ui);var Mj=0;ht=IP.prototype;ht.open=function(e,t){if(this.readyState!=Mj)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sw(this)};ht.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Lt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_1(this)),this.readyState=Mj};ht.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sw(this)),this.g&&(this.readyState=3,sw(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qae(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function qae(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}ht.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_1(this):sw(this),this.readyState==3&&qae(this)}};ht.Va=function(e){this.g&&(this.response=this.responseText=e,_1(this))};ht.Ua=function(e){this.g&&(this.response=e,_1(this))};ht.ga=function(){this.g&&_1(this)};function _1(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sw(e)}ht.setRequestHeader=function(e,t){this.v.append(e,t)};ht.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ht.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function sw(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(IP.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var KHe=Lt.JSON.parse;function Jr(e){Ui.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gae,this.K=this.L=!1}hs(Jr,Ui);var Gae="",YHe=/^https?$/i,QHe=["POST","PUT"];ht=Jr.prototype;ht.Ka=function(e){this.L=e};ht.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():LD.g(),this.C=this.u?YW(this.u):YW(LD),this.g.onreadystatechange=Ns(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){JW(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Lt.FormData&&e instanceof Lt.FormData,!(0<=uae(QHe,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qae(this),0<this.B&&((this.K=XHe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ns(this.qa,this)):this.A=Tj(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){JW(this,s)}};function XHe(e){return iy&&pHe()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}ht.qa=function(){typeof wj<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cs(this,"timeout"),this.abort(8))};function JW(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Kae(e),OP(e)}function Kae(e){e.D||(e.D=!0,cs(e,"complete"),cs(e,"error"))}ht.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cs(this,"complete"),cs(this,"abort"),OP(this))};ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),OP(this,!0)),Jr.X.M.call(this)};ht.Ha=function(){this.s||(this.F||this.v||this.l?Yae(this):this.fb())};ht.fb=function(){Yae(this)};function Yae(e){if(e.h&&typeof wj<"u"&&(!e.C[1]||bc(e)!=4||e.aa()!=2)){if(e.v&&bc(e)==4)Tj(e.Ha,0,e);else if(cs(e,"readystatechange"),bc(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match(Lae)[1]||null;if(!i&&Lt.self&&Lt.self.location){var s=Lt.self.location.protocol;i=s.substr(0,s.length-1)}r=!YHe.test(i?i.toLowerCase():"")}n=r}if(n)cs(e,"complete"),cs(e,"success");else{e.m=6;try{var o=2<bc(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",Kae(e)}}finally{OP(e)}}}}function OP(e,t){if(e.g){Qae(e);const n=e.g,r=e.C[0]?AO:null;e.g=null,e.C=null,t||cs(e,"ready");try{n.onreadystatechange=r}catch{}}}function Qae(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Lt.clearTimeout(e.A),e.A=null)}function bc(e){return e.g?e.g.readyState:0}ht.aa=function(){try{return 2<bc(this)?this.g.status:-1}catch{return-1}};ht.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ht.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),KHe(t)}};function ZW(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Gae:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ht.Ea=function(){return this.m};ht.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Xae(e){let t="";return xj(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Lj(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Xae(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ar(e,t,n))}function Xv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jae(e){this.Ca=0,this.i=[],this.j=new _P,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Xv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Xv("baseRetryDelayMs",5e3,e),this.bb=Xv("retryDelaySeedMs",1e4,e),this.$a=Xv("forwardChannelMaxRetries",2,e),this.ta=Xv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new zae(e&&e.concurrentRequestLimit),this.Fa=new WHe,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ht=Jae.prototype;ht.ma=8;ht.G=1;function Fj(e){if(Zae(e),e.G==3){var t=e.U++,n=Vc(e.F);Ar(n,"SID",e.I),Ar(n,"RID",t),Ar(n,"TYPE","terminate"),w1(e,n),t=new g1(e,e.j,t,void 0),t.K=2,t.v=EP(Vc(n)),n=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(n=Lt.navigator.sendBeacon(t.v.toString(),"")),!n&&Lt.Image&&(new Image().src=t.v,n=!0),n||(t.g=ale(t.l,null),t.g.da(t.v)),t.F=Date.now(),y1(t)}sle(e)}function $P(e){e.g&&(Bj(e),e.g.cancel(),e.g=null)}function Zae(e){$P(e),e.u&&(Lt.clearTimeout(e.u),e.u=null),FO(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&Lt.clearTimeout(e.m),e.m=null)}function CP(e){Vae(e.h)||e.m||(e.m=!0,bae(e.Ja,e),e.C=0)}function JHe(e,t){return Uae(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=p1(Ns(e.Ja,e,t),ile(e,e.C)),e.C++,!0)}ht.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new g1(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=hae(s),pae(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ele(this,i,t),n=Vc(this.F),Ar(n,"RID",e),Ar(n,"CVER",22),this.D&&Ar(n,"X-HTTP-Session-Id",this.D),w1(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(Xae(s)))+"&"+t:this.o&&Lj(n,this.o,s)),Rj(this.h,i),this.Ya&&Ar(n,"TYPE","init"),this.O?(Ar(n,"$req",t),Ar(n,"SID","null"),i.Z=!0,jD(i,n,null)):jD(i,n,t),this.G=2}}else this.G==3&&(e?eq(this,e):this.i.length==0||Vae(this.h)||eq(this))};function eq(e,t){var n;t?n=t.m:n=e.U++;const r=Vc(e.F);Ar(r,"SID",e.I),Ar(r,"RID",n),Ar(r,"AID",e.T),w1(e,r),e.o&&e.s&&Lj(r,e.o,e.s),n=new g1(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ele(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Rj(e.h,n),jD(n,r,t)}function w1(e,t){e.ia&&xj(e.ia,function(n,r){Ar(t,r,n)}),e.l&&Mae({},function(n,r){Ar(t,r,n)})}function ele(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ns(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{qHe(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tle(e){e.g||e.u||(e.Z=1,bae(e.Ia,e),e.A=0)}function jj(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=p1(Ns(e.Ia,e),ile(e,e.A)),e.A++,!0)}ht.Ia=function(){if(this.u=null,nle(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=p1(Ns(this.eb,this),e)}};ht.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qs(10),$P(this),nle(this))};function Bj(e){e.B!=null&&(Lt.clearTimeout(e.B),e.B=null)}function nle(e){e.g=new g1(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Vc(e.sa);Ar(t,"RID","rpc"),Ar(t,"SID",e.I),Ar(t,"CI",e.L?"0":"1"),Ar(t,"AID",e.T),Ar(t,"TYPE","xmlhttp"),w1(e,t),e.o&&e.s&&Lj(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=EP(Vc(t)),n.s=null,n.P=!0,Aae(n,e)}ht.cb=function(){this.v!=null&&(this.v=null,$P(this),jj(this),qs(19))};function FO(e){e.v!=null&&(Lt.clearTimeout(e.v),e.v=null)}function rle(e,t){var n=null;if(e.g==t){FO(e),Bj(e),e.g=null;var r=2}else if(zD(e.h,t))n=t.D,Hae(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=wP(),cs(r,new Cae(r,n)),CP(e)}else tle(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&JHe(e,t)||r==2&&jj(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Wh(e,5);break;case 4:Wh(e,10);break;case 3:Wh(e,6);break;default:Wh(e,2)}}}function ile(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Wh(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=Ns(e.kb,e);n||(n=new ap("//www.google.com/images/cleardot.gif"),Lt.location&&Lt.location.protocol=="http"||MO(n,"https"),EP(n)),GHe(n.toString(),r)}else qs(2);e.G=0,e.l&&e.l.va(t),sle(e),Zae(e)}ht.kb=function(e){e?(this.j.info("Successfully pinged google.com"),qs(2)):(this.j.info("Failed to ping google.com"),qs(1))};function sle(e){if(e.G=0,e.la=[],e.l){const t=Wae(e.h);(t.length!=0||e.i.length!=0)&&(UW(e.la,t),UW(e.la,e.i),e.h.i.length=0,bj(e.i),e.i.length=0),e.l.ua()}}function ole(e,t,n){var r=n instanceof ap?Vc(n):new ap(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),LO(r,r.m);else{var i=Lt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ap(null,void 0);r&&MO(s,r),t&&(s.g=t),i&&LO(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&Ar(r,n,t),Ar(r,"VER",e.ma),w1(e,r),r}function ale(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Jr(new v1({jb:!0})):new Jr(e.ra),t.Ka(e.H),t}function lle(){}ht=lle.prototype;ht.xa=function(){};ht.wa=function(){};ht.va=function(){};ht.ua=function(){};ht.Ra=function(){};function jO(){if(iy&&!(10<=Number(mHe)))throw Error("Environmental error: no available transport.")}jO.prototype.g=function(e,t){return new ha(e,t)};function ha(e,t){Ui.call(this),this.g=new Jae(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!NO(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!NO(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new qy(this)}hs(ha,Ui);ha.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;qs(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ole(e,null,e.V),CP(e)};ha.prototype.close=function(){Fj(this.g)};ha.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Cj(e),e=n);t.i.push(new UHe(t.ab++,e)),t.G==3&&CP(t)};ha.prototype.M=function(){this.g.l=null,delete this.j,Fj(this.g),delete this.g,ha.X.M.call(this)};function ule(e){Aj.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}hs(ule,Aj);function cle(){Nj.call(this),this.status=1}hs(cle,Nj);function qy(e){this.g=e}hs(qy,lle);qy.prototype.xa=function(){cs(this.g,"a")};qy.prototype.wa=function(e){cs(this.g,new ule(e))};qy.prototype.va=function(e){cs(this.g,new cle)};qy.prototype.ua=function(){cs(this.g,"b")};jO.prototype.createWebChannel=jO.prototype.g;ha.prototype.send=ha.prototype.u;ha.prototype.open=ha.prototype.m;ha.prototype.close=ha.prototype.close;bP.NO_ERROR=0;bP.TIMEOUT=8;bP.HTTP_ERROR=6;Pae.COMPLETE="complete";Tae.EventType=m1;m1.OPEN="a";m1.CLOSE="b";m1.ERROR="c";m1.MESSAGE="d";Ui.prototype.listen=Ui.prototype.N;Jr.prototype.listenOnce=Jr.prototype.O;Jr.prototype.getLastError=Jr.prototype.Oa;Jr.prototype.getLastErrorCode=Jr.prototype.Ea;Jr.prototype.getStatus=Jr.prototype.aa;Jr.prototype.getResponseJson=Jr.prototype.Sa;Jr.prototype.getResponseText=Jr.prototype.fa;Jr.prototype.send=Jr.prototype.da;Jr.prototype.setWithCredentials=Jr.prototype.Ka;var ZHe=function(){return new jO},eWe=function(){return wP()},$N=bP,tWe=Pae,nWe=Yp,tq={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rWe=v1,TS=Tae,iWe=Jr;const nq="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Cs.UNAUTHENTICATED=new Cs(null),Cs.GOOGLE_CREDENTIALS=new Cs("google-credentials-uid"),Cs.FIRST_PARTY=new Cs("first-party-uid"),Cs.MOCK_USER=new Cs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new hP("@firebase/firestore");function VD(){return Op.logLevel}function De(e,...t){if(Op.logLevel<=Nn.DEBUG){const n=t.map(zj);Op.debug(`Firestore (${Gy}): ${e}`,...n)}}function ai(e,...t){if(Op.logLevel<=Nn.ERROR){const n=t.map(zj);Op.error(`Firestore (${Gy}): ${e}`,...n)}}function UD(e,...t){if(Op.logLevel<=Nn.WARN){const n=t.map(zj);Op.warn(`Firestore (${Gy}): ${e}`,...n)}}function zj(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e="Unexpected state"){const t=`FIRESTORE (${Gy}) INTERNAL ASSERTION FAILED: `+e;throw ai(t),new Error(t)}function vt(e,t){e||at()}function ut(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Gl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sWe{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oWe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Cs.UNAUTHENTICATED))}shutdown(){}}class aWe{constructor(t){this.t=t,this.currentUser=Cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fl,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fl)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new sWe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return vt(t===null||typeof t=="string"),new Cs(t)}}class lWe{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Cs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class uWe{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new lWe(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cWe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fWe{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,De("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(vt(typeof n.token=="string"),this.T=n.token,new cWe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dWe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fle{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=dWe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Xt(e,t){return e<t?-1:e>t?1:0}function sy(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}function dle(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ue(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ue(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ue(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return zr.fromMillis(Date.now())}static fromDate(t){return zr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new zr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.timestamp=t}static fromTimestamp(t){return new _t(t)}static min(){return new _t(new zr(0,0))}static max(){return new _t(new zr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,n,r){n===void 0?n=0:n>t.length&&at(),r===void 0?r=t.length-n:r>t.length-n&&at(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ow.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ow?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Gn extends ow{construct(t,n,r){return new Gn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ue(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Gn(n)}static emptyPath(){return new Gn([])}}const hWe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends ow{construct(t,n,r){return new yi(t,n,r)}static isValidIdentifier(t){return hWe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yi(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ue(Oe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Ue(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ue(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ue(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yi(n)}static emptyPath(){return new yi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(Gn.fromString(t))}static fromName(t){return new Qe(Gn.fromString(t).popFirst(5))}static empty(){return new Qe(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Gn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Gn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new Gn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hle{constructor(t,n,r,i){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}}function HD(e){return e.fields.find(t=>t.kind===2)}function Oh(e){return e.fields.filter(t=>t.kind!==2)}hle.UNKNOWN_ID=-1;class pWe{constructor(t,n){this.fieldPath=t,this.kind=n}}let rq=class ple{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new ple(0,pa.min())}};function mle(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(r===1e9?new zr(n+1,0):new zr(n,r));return new pa(i,Qe.empty(),t)}function gle(e){return new pa(e.readTime,e.key,-1)}class pa{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new pa(_t.min(),Qe.empty(),-1)}static max(){return new pa(_t.max(),Qe.empty(),-1)}}function Vj(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Qe.comparator(e.documentKey,t.documentKey),n!==0?n:Xt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(e){if(e.code!==Oe.FAILED_PRECONDITION||e.message!==yle)throw e;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new be((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):be.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):be.reject(n)}static resolve(t){return new be((n,r)=>{n(t)})}static reject(t){return new be((n,r)=>{r(t)})}static waitFor(t){return new be((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=be.resolve(!1);for(const r of t)n=n.next(i=>i?be.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new be((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new be((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.R=new Fl,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{n.error?this.R.reject(new l_(t,n.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=Uj(r.target.error);this.R.reject(new l_(t,i))}}static open(t,n,r,i){try{return new PP(n,t.transaction(i,r))}catch(s){throw new l_(n,s)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(De("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new gWe(n)}}class kl{constructor(t,n,r){this.name=t,this.version=n,this.V=r,kl.S(ki())===12.2&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return De("SimpleDb","Removing database:",t),Rh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!dP())return!1;if(kl.C())return!0;const t=ki(),n=kl.S(t),r=0<n&&n<10,i=kl.N(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static C(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.k)==="YES"}static O(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(t){return this.db||(De("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new l_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Ue(Oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Ue(Oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new l_(t,o))},i.onupgradeneeded=s=>{De("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.M(o,i.transaction,s.oldVersion,this.version).next(()=>{De("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(t){this.F=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(t);const a=PP.open(this.db,t,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),be.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(De("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class mWe{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Rh(this.L.delete())}}class l_ extends Ue{constructor(t,n){super(Oe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Gd(e){return e.name==="IndexedDbTransactionError"}class gWe{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(De("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Rh(r)}add(t){return De("SimpleDb","ADD",this.store.name,t,t),Rh(this.store.add(t))}get(t){return Rh(this.store.get(t)).next(n=>(n===void 0&&(n=null),De("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return De("SimpleDb","DELETE",this.store.name,t),Rh(this.store.delete(t))}count(){return De("SimpleDb","COUNT",this.store.name),Rh(this.store.count())}j(t,n){const r=this.options(t,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new be((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new be((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(t,n){De("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}Z(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.W(i,n)}X(t){const n=this.cursor({});return new be((r,i)=>{n.onerror=s=>{const o=Uj(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(t,n){const r=[];return new be((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new mWe(a),u=n(a.primaryKey,a.value,l);if(u instanceof be){const c=u.catch(d=>(l.done(),be.reject(d)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>be.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Rh(e){return new be((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=Uj(r.target.error);n(i)}})}let iq=!1;function Uj(e){const t=kl.S(ki());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iq||(iq=!0,setTimeout(()=>{throw r},0)),r}}return e}class yWe{constructor(t,n){this.asyncQueue=t,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(t){De("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{De("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){Gd(n)?De("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await qd(n)}await this.et(6e4)})}}class vWe{constructor(t,n){this.localStore=t,this.persistence=n}async nt(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,t))}st(t,n){const r=new Set;let i=n,s=!0;return be.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(o!==null&&!r.has(o))return De("IndexBackiller",`Processing collection: ${o}`),this.it(t,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next(i=>this.localStore.localDocuments.getNextDocuments(t,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.rt(i,s)).next(a=>(De("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,n,a))).next(()=>o.size)}))}rt(t,n){let r=t;return n.changes.forEach((i,s)=>{const o=gle(s);Vj(o,r)>0&&(r=o)}),new pa(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}Co.ct=-1;function TP(e){return e==null}function aw(e){return e===0&&1/e==-1/0}function _le(e){return typeof e=="number"&&Number.isInteger(e)&&!aw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=sq(t)),t=_We(e.get(n),t);return sq(t)}function _We(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function sq(e){return e+""}function Su(e){const t=e.length;if(vt(t>=2),t===2)return vt(e.charAt(0)===""&&e.charAt(1)===""),Gn.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const o=e.indexOf("",s);switch((o<0||o>n)&&at(),e.charAt(o+1)){case"":const a=e.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=e.substring(s,o),i+="\0";break;case"":i+=e.substring(s,o+1);break;default:at()}s=o+2}return new Gn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(e,t){return[e,Ks(t)]}function wle(e,t,n){return[e,Ks(t),n]}const wWe={},bWe=["prefixPath","collectionGroup","readTime","documentId"],SWe=["prefixPath","collectionGroup","documentId"],xWe=["collectionGroup","readTime","prefixPath","documentId"],EWe=["canonicalId","targetId"],IWe=["targetId","path"],OWe=["path","targetId"],$We=["collectionId","parent"],CWe=["indexId","uid"],PWe=["uid","sequenceNumber"],TWe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kWe=["indexId","uid","orderedDocumentKey"],AWe=["userId","collectionPath","documentId"],NWe=["userId","collectionPath","largestBatchId"],RWe=["userId","collectionGroup","largestBatchId"],ble=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DWe=[...ble,"documentOverlays"],Sle=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xle=Sle,MWe=[...xle,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD extends vle{constructor(t,n){super(),this.at=t,this.currentSequenceNumber=n}}function qi(e,t){const n=ut(e);return kl.O(n.at,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qp(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ele(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,n){this.comparator=t,this.root=n||ss.EMPTY}insert(t,n){return new Zr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(t){return new Zr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ss.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kS(this.root,t,this.comparator,!1)}getReverseIterator(){return new kS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kS(this.root,t,this.comparator,!0)}}class kS{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ss{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ss.RED,this.left=i??ss.EMPTY,this.right=s??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new ss(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1;ss.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ss(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t){this.comparator=t,this.data=new Zr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new lq(this.data.getIterator())}getIteratorFrom(t){return new lq(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ar)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ar(this.comparator);return n.data=t,n}}class lq{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $m(e){return e.hasNext()?e.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t){this.fields=t,t.sort(yi.comparator)}static empty(){return new Po([])}unionWith(t){let n=new ar(yi.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Po(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return sy(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LWe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LWe("Invalid base64 string: "+i):i}}(t);return new Hi(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new Hi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const FWe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Od(e){if(vt(!!e),typeof e=="string"){let t=0;const n=FWe.exec(e);if(vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Gr(e.seconds),nanos:Gr(e.nanos)}}function Gr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $p(e){return typeof e=="string"?Hi.fromBase64String(e):Hi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ile(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ole(e){const t=e.mapValue.fields.__previous_value__;return Ile(t)?Ole(t):t}function lw(e){const t=Od(e.mapValue.fields.__local_write_time__.timestampValue);return new zr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jWe{constructor(t,n,r,i,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Cp{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Cp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Cp&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ax={nullValue:"NULL_VALUE"};function Pp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ile(e)?4:$le(e)?9007199254740991:10:at()}function Du(e,t){if(e===t)return!0;const n=Pp(e);if(n!==Pp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lw(e).isEqual(lw(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Od(r.timestampValue),o=Od(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return $p(r.bytesValue).isEqual($p(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Gr(r.geoPointValue.latitude)===Gr(i.geoPointValue.latitude)&&Gr(r.geoPointValue.longitude)===Gr(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gr(r.integerValue)===Gr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Gr(r.doubleValue),o=Gr(i.doubleValue);return s===o?aw(s)===aw(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return sy(e.arrayValue.values||[],t.arrayValue.values||[],Du);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(aq(s)!==aq(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Du(s[a],o[a])))return!1;return!0}(e,t);default:return at()}}function uw(e,t){return(e.values||[]).find(n=>Du(n,t))!==void 0}function $d(e,t){if(e===t)return 0;const n=Pp(e),r=Pp(t);if(n!==r)return Xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xt(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Gr(i.integerValue||i.doubleValue),a=Gr(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return uq(e.timestampValue,t.timestampValue);case 4:return uq(lw(e),lw(t));case 5:return Xt(e.stringValue,t.stringValue);case 6:return function(i,s){const o=$p(i),a=$p(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Xt(o[l],a[l]);if(u!==0)return u}return Xt(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Xt(Gr(i.latitude),Gr(s.latitude));return o!==0?o:Xt(Gr(i.longitude),Gr(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=$d(o[l],a[l]);if(u)return u}return Xt(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Zf.mapValue&&s===Zf.mapValue)return 0;if(i===Zf.mapValue)return 1;if(s===Zf.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Xt(a[c],u[c]);if(d!==0)return d;const h=$d(o[a[c]],l[u[c]]);if(h!==0)return h}return Xt(a.length,u.length)}(e.mapValue,t.mapValue);default:throw at()}}function uq(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Xt(e,t);const n=Od(e),r=Od(t),i=Xt(n.seconds,r.seconds);return i!==0?i:Xt(n.nanos,r.nanos)}function oy(e){return qD(e)}function qD(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=Od(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$p(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Qe.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=qD(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${qD(r.fields[a])}`;return s+"}"}(e.mapValue):at();var t,n}function cw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function GD(e){return!!e&&"integerValue"in e}function fw(e){return!!e&&"arrayValue"in e}function cq(e){return!!e&&"nullValue"in e}function fq(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nx(e){return!!e&&"mapValue"in e}function u_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qp(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=u_(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=u_(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $le(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function BWe(e){return"nullValue"in e?Ax:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?cw(Cp.empty(),Qe.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:at()}function zWe(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?cw(Cp.empty(),Qe.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Zf:at()}function dq(e,t){const n=$d(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function hq(e,t){const n=$d(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.value=t}static empty(){return new ks({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Nx(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=u_(n)}setAll(t){let n=yi.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=u_(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Nx(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Du(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Nx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Qp(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new ks(u_(this.value))}}function Cle(e){const t=[];return Qp(e.fields,(n,r)=>{const i=new yi([n]);if(Nx(r)){const s=Cle(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Po(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Xr(t,0,_t.min(),_t.min(),_t.min(),ks.empty(),0)}static newFoundDocument(t,n,r,i){return new Xr(t,1,n,_t.min(),r,i,0)}static newNoDocument(t,n){return new Xr(t,2,n,_t.min(),_t.min(),ks.empty(),0)}static newUnknownDocument(t,n){return new Xr(t,3,n,_t.min(),_t.min(),ks.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ks.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,n){this.position=t,this.inclusive=n}}function pq(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Qe.comparator(Qe.fromName(o.referenceValue),n.key):r=$d(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mq(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Du(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,n="asc"){this.field=t,this.dir=n}}function VWe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ple{}class mn extends Ple{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new UWe(t,n,r):n==="array-contains"?new qWe(t,r):n==="in"?new Dle(t,r):n==="not-in"?new GWe(t,r):n==="array-contains-any"?new KWe(t,r):new mn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new HWe(t,r):new WWe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($d(n,this.value)):n!==null&&Pp(this.value)===Pp(n)&&this.matchesComparison($d(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xn extends Ple{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new Xn(t,n)}matches(t){return ly(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function ly(e){return e.op==="and"}function KD(e){return e.op==="or"}function Hj(e){return Tle(e)&&ly(e)}function Tle(e){for(const t of e.filters)if(t instanceof Xn)return!1;return!0}function YD(e){if(e instanceof mn)return e.field.canonicalString()+e.op.toString()+oy(e.value);if(Hj(e))return e.filters.map(t=>YD(t)).join(",");{const t=e.filters.map(n=>YD(n)).join(",");return`${e.op}(${t})`}}function kle(e,t){return e instanceof mn?function(n,r){return r instanceof mn&&n.op===r.op&&n.field.isEqual(r.field)&&Du(n.value,r.value)}(e,t):e instanceof Xn?function(n,r){return r instanceof Xn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&kle(s,r.filters[o]),!0):!1}(e,t):void at()}function Ale(e,t){const n=e.filters.concat(t);return Xn.create(n,e.op)}function Nle(e){return e instanceof mn?function(t){return`${t.field.canonicalString()} ${t.op} ${oy(t.value)}`}(e):e instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(Nle).join(" ,")+"}"}(e):"Filter"}class UWe extends mn{constructor(t,n,r){super(t,n,r),this.key=Qe.fromName(r.referenceValue)}matches(t){const n=Qe.comparator(t.key,this.key);return this.matchesComparison(n)}}class HWe extends mn{constructor(t,n){super(t,"in",n),this.keys=Rle("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class WWe extends mn{constructor(t,n){super(t,"not-in",n),this.keys=Rle("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Rle(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class qWe extends mn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return fw(n)&&uw(n.arrayValue,this.value)}}class Dle extends mn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uw(this.value.arrayValue,n)}}class GWe extends mn{constructor(t,n){super(t,"not-in",n)}matches(t){if(uw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!uw(this.value.arrayValue,n)}}class KWe extends mn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!fw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uw(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YWe{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function QD(e,t=null,n=[],r=[],i=null,s=null,o=null){return new YWe(e,t,n,r,i,s,o)}function Tp(e){const t=ut(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>YD(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),TP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>oy(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>oy(r)).join(",")),t.ft=n}return t.ft}function b1(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!VWe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!kle(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!mq(e.startAt,t.startAt)&&mq(e.endAt,t.endAt)}function BO(e){return Qe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function zO(e,t){return e.filters.filter(n=>n instanceof mn&&n.field.isEqual(t))}function gq(e,t,n){let r=Ax,i=!0;for(const s of zO(e,t)){let o=Ax,a=!0;switch(s.op){case"<":case"<=":o=BWe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Ax}dq({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];dq({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function yq(e,t,n){let r=Zf,i=!0;for(const s of zO(e,t)){let o=Zf,a=!0;switch(s.op){case">=":case">":o=zWe(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Zf}hq({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const o=n.position[s];hq({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function Mle(e,t,n,r,i,s,o,a){return new S1(e,t,n,r,i,s,o,a)}function kP(e){return new S1(e)}function vq(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Lle(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wj(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function Fle(e){return e.collectionGroup!==null}function $g(e){const t=ut(e);if(t.dt===null){t.dt=[];const n=Wj(t),r=Lle(t);if(n!==null&&r===null)n.isKeyField()||t.dt.push(new c_(n)),t.dt.push(new c_(yi.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new c_(yi.keyField(),s))}}}return t.dt}function nl(e){const t=ut(e);if(!t.wt)if(t.limitType==="F")t.wt=QD(t.path,t.collectionGroup,$g(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of $g(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new c_(s.field,o))}const r=t.endAt?new ay(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ay(t.startAt.position,t.startAt.inclusive):null;t.wt=QD(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.wt}function XD(e,t){t.getFirstInequalityField(),Wj(e);const n=e.filters.concat([t]);return new S1(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function JD(e,t,n){return new S1(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function AP(e,t){return b1(nl(e),nl(t))&&e.limitType===t.limitType}function jle(e){return`${Tp(nl(e))}|lt:${e.limitType}`}function ZD(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>Nle(r)).join(", ")}]`),TP(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>oy(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>oy(r)).join(",")),`Target(${n})`}(nl(e))}; limitType=${e.limitType})`}function x1(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Qe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of $g(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=pq(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,$g(n),r)||n.endAt&&!function(i,s,o){const a=pq(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,$g(n),r))}(e,t)}function Ble(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zle(e){return(t,n)=>{let r=!1;for(const i of $g(e)){const s=QWe(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QWe(e,t,n){const r=e.field.isKeyField()?Qe.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?$d(a,l):at()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Qp(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Ele(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XWe=new Zr(Qe.comparator);function na(){return XWe}const Vle=new Zr(Qe.comparator);function P0(...e){let t=Vle;for(const n of e)t=t.insert(n.key,n);return t}function Ule(e){let t=Vle;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function xu(){return f_()}function Hle(){return f_()}function f_(){return new Kd(e=>e.toString(),(e,t)=>e.isEqual(t))}const JWe=new Zr(Qe.comparator),ZWe=new ar(Qe.comparator);function un(...e){let t=ZWe;for(const n of e)t=t.add(n);return t}const eqe=new ar(Xt);function NP(){return eqe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aw(t)?"-0":t}}function qle(e){return{integerValue:""+e}}function tqe(e,t){return _le(t)?qle(t):Wle(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this._=void 0}}function nqe(e,t,n){return e instanceof dw?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof uy?Kle(e,t):e instanceof cy?Yle(e,t):function(r,i){const s=Gle(r,i),o=_q(s)+_q(r._t);return GD(s)&&GD(r._t)?qle(o):Wle(r.serializer,o)}(e,t)}function rqe(e,t,n){return e instanceof uy?Kle(e,t):e instanceof cy?Yle(e,t):n}function Gle(e,t){return e instanceof hw?GD(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class dw extends RP{}class uy extends RP{constructor(t){super(),this.elements=t}}function Kle(e,t){const n=Qle(t);for(const r of e.elements)n.some(i=>Du(i,r))||n.push(r);return{arrayValue:{values:n}}}class cy extends RP{constructor(t){super(),this.elements=t}}function Yle(e,t){let n=Qle(t);for(const r of e.elements)n=n.filter(i=>!Du(i,r));return{arrayValue:{values:n}}}class hw extends RP{constructor(t,n){super(),this.serializer=t,this._t=n}}function _q(e){return Gr(e.integerValue||e.doubleValue)}function Qle(e){return fw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iqe{constructor(t,n){this.field=t,this.transform=n}}function sqe(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof uy&&r instanceof uy||n instanceof cy&&r instanceof cy?sy(n.elements,r.elements,Du):n instanceof hw&&r instanceof hw?Du(n._t,r._t):n instanceof dw&&r instanceof dw}(e.transform,t.transform)}class oqe{constructor(t,n){this.version=t,this.transformResults=n}}class ls{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ls}static exists(t){return new ls(void 0,t)}static updateTime(t){return new ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class DP{}function Xle(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new MP(e.key,ls.none()):new Ky(e.key,e.data,ls.none());{const n=e.data,r=ks.empty();let i=new ar(yi.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new af(e.key,r,new Po(i.toArray()),ls.none())}}function aqe(e,t,n){e instanceof Ky?function(r,i,s){const o=r.value.clone(),a=bq(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof af?function(r,i,s){if(!Rx(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=bq(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Jle(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function d_(e,t,n,r){return e instanceof Ky?function(i,s,o,a){if(!Rx(i.precondition,s))return o;const l=i.value.clone(),u=Sq(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof af?function(i,s,o,a){if(!Rx(i.precondition,s))return o;const l=Sq(i.fieldTransforms,a,s),u=s.data;return u.setAll(Jle(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return Rx(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function lqe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Gle(r.transform,i||null);s!=null&&(n===null&&(n=ks.empty()),n.set(r.field,s))}return n||null}function wq(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&sy(n,r,(i,s)=>sqe(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ky extends DP{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class af extends DP{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Jle(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function bq(e,t,n){const r=new Map;vt(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,rqe(o,a,n[i]))}return r}function Sq(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nqe(s,o,t))}return r}class MP extends DP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zle extends DP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&aqe(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=d_(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=d_(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Hle();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Xle(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),un())}isEqual(t){return this.batchId===t.batchId&&sy(this.mutations,t.mutations,(n,r)=>wq(n,r))&&sy(this.baseMutations,t.baseMutations,(n,r)=>wq(n,r))}}class Gj{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){vt(t.mutations.length===r.length);let i=JWe;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Gj(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uqe{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi,$n;function cqe(e){switch(e){default:return at();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function eue(e){if(e===void 0)return ai("GRPC error has no .code"),Oe.UNKNOWN;switch(e){case fi.OK:return Oe.OK;case fi.CANCELLED:return Oe.CANCELLED;case fi.UNKNOWN:return Oe.UNKNOWN;case fi.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case fi.INTERNAL:return Oe.INTERNAL;case fi.UNAVAILABLE:return Oe.UNAVAILABLE;case fi.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case fi.NOT_FOUND:return Oe.NOT_FOUND;case fi.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case fi.ABORTED:return Oe.ABORTED;case fi.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case fi.DATA_LOSS:return Oe.DATA_LOSS;default:return at()}}($n=fi||(fi={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return AS}static getOrCreateInstance(){return AS===null&&(AS=new Yj),AS}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let AS=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,I1.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new E1(_t.min(),i,NP(),na(),un())}}class I1{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new I1(r,n,un(),un(),un())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,n,r,i){this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i}}class tue{constructor(t,n){this.targetId=t,this.Et=n}}class nue{constructor(t,n,r=Hi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xq{constructor(){this.At=0,this.Rt=Iq(),this.vt=Hi.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=un(),n=un(),r=un();return this.Rt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:at()}}),new I1(this.vt,this.bt,t,n,r)}xt(){this.Pt=!1,this.Rt=Iq()}Nt(t,n){this.Pt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class fqe{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=na(),this.qt=Eq(),this.Ut=new ar(Xt)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}zt(t){this.forEachTarget(t,n=>{const r=this.jt(n);switch(t.state){case 0:this.Wt(n)&&r.Dt(t.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(t.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(t.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(t.resumeToken));break;default:at()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(t){var n;const r=t.targetId,i=t.Et.count,s=this.Yt(r);if(s){const o=s.target;if(BO(o))if(i===0){const a=new Qe(o.path);this.Qt(r,a,Xr.newNoDocument(a,_t.min()))}else vt(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Yj.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:t.Et.count}))}}}Xt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&BO(a.target)){const l=new Qe(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Xr.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=un();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const i=new E1(t,n,this.Ut,this.Lt,r);return this.Lt=na(),this.qt=Eq(),this.Ut=new ar(Xt),i}Gt(t,n){if(!this.Wt(t))return;const r=this.te(t,n.key)?2:0;this.jt(t).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,r){if(!this.Wt(t))return;const i=this.jt(t);this.te(t,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(t){this.Bt.delete(t)}Zt(t){const n=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let n=this.Bt.get(t);return n||(n=new xq,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new ar(Xt),this.qt=this.qt.insert(t,n)),n}Wt(t){const n=this.Yt(t)!==null;return n||De("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new xq),this.Ft.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.Ft.getRemoteKeysForTarget(t).has(n)}}function Eq(){return new Zr(Qe.comparator)}function Iq(){return new Zr(Qe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dqe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hqe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pqe=(()=>({and:"AND",or:"OR"}))();class mqe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fy(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rue(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gqe(e,t){return fy(e,t.toTimestamp())}function Ys(e){return vt(!!e),_t.fromTimestamp(function(t){const n=Od(t);return new zr(n.seconds,n.nanos)}(e))}function Qj(e,t){return function(n){return new Gn(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function iue(e){const t=Gn.fromString(e);return vt(due(t)),t}function VO(e,t){return Qj(e.databaseId,t.path)}function lp(e,t){const n=iue(t);if(n.get(1)!==e.databaseId.projectId)throw new Ue(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ue(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qe(oue(n))}function eM(e,t){return Qj(e.databaseId,t)}function sue(e){const t=iue(e);return t.length===4?Gn.emptyPath():oue(t)}function tM(e){return new Gn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oue(e){return vt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Oq(e,t,n){return{name:VO(e,t),fields:n.value.mapValue.fields}}function yqe(e,t,n){const r=lp(e,t.name),i=Ys(t.updateTime),s=t.createTime?Ys(t.createTime):_t.min(),o=new ks({mapValue:{fields:t.fields}}),a=Xr.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function vqe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:at()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(vt(u===void 0||typeof u=="string"),Hi.fromBase64String(u||"")):(vt(u===void 0||u instanceof Uint8Array),Hi.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?Oe.UNKNOWN:eue(l.code);return new Ue(u,l.message||"")}(o);n=new nue(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=lp(e,r.document.name),s=Ys(r.document.updateTime),o=r.document.createTime?Ys(r.document.createTime):_t.min(),a=new ks({mapValue:{fields:r.document.fields}}),l=Xr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Dx(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=lp(e,r.document),s=r.readTime?Ys(r.readTime):_t.min(),o=Xr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Dx([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=lp(e,r.document),s=r.removedTargetIds||[];n=new Dx([],s,i,null)}else{if(!("filter"in t))return at();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new uqe(i),o=r.targetId;n=new tue(o,s)}}return n}function UO(e,t){let n;if(t instanceof Ky)n={update:Oq(e,t.key,t.value)};else if(t instanceof MP)n={delete:VO(e,t.key)};else if(t instanceof af)n={update:Oq(e,t.key,t.data),updateMask:Eqe(t.fieldMask)};else{if(!(t instanceof Zle))return at();n={verify:VO(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof dw)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof cy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof hw)return{fieldPath:s.field.canonicalString(),increment:o._t};throw at()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:gqe(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:at()}(e,t.precondition)),n}function nM(e,t){const n=t.currentDocument?function(i){return i.updateTime!==void 0?ls.updateTime(Ys(i.updateTime)):i.exists!==void 0?ls.exists(i.exists):ls.none()}(t.currentDocument):ls.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)vt(o.setToServerValue==="REQUEST_TIME"),a=new dw;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new uy(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new cy(u)}else"increment"in o?a=new hw(s,o.increment):at();const l=yi.fromServerFormat(o.fieldPath);return new iqe(l,a)}(e,i)):[];if(t.update){t.update.name;const i=lp(e,t.update.name),s=new ks({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Po(l.map(u=>yi.fromServerFormat(u)))}(t.updateMask);return new af(i,s,o,n,r)}return new Ky(i,s,n,r)}if(t.delete){const i=lp(e,t.delete);return new MP(i,n)}if(t.verify){const i=lp(e,t.verify);return new Zle(i,n)}return at()}function _qe(e,t){return e&&e.length>0?(vt(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?Ys(r.updateTime):Ys(i);return s.isEqual(_t.min())&&(s=Ys(i)),new oqe(s,r.transformResults||[])}(n,t))):[]}function aue(e,t){return{documents:[eM(e,t.path)]}}function lue(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=eM(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=eM(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return fue(Xn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Dm(c.field),direction:bqe(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||TP(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function uue(e){let t=sue(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=cue(c);return d instanceof Xn&&Hj(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new c_(Mm(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,TP(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new ay(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new ay(h,d)}(n.endAt)),Mle(t,i,o,s,a,"F",l,u)}function wqe(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function cue(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Mm(t.unaryFilter.field);return mn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Mm(t.unaryFilter.field);return mn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mm(t.unaryFilter.field);return mn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Mm(t.unaryFilter.field);return mn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(e):e.fieldFilter!==void 0?function(t){return mn.create(Mm(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(n=>cue(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return at()}}(t.compositeFilter.op))}(e):at()}function bqe(e){return dqe[e]}function Sqe(e){return hqe[e]}function xqe(e){return pqe[e]}function Dm(e){return{fieldPath:e.canonicalString()}}function Mm(e){return yi.fromServerFormat(e.fieldPath)}function fue(e){return e instanceof mn?function(t){if(t.op==="=="){if(fq(t.value))return{unaryFilter:{field:Dm(t.field),op:"IS_NAN"}};if(cq(t.value))return{unaryFilter:{field:Dm(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fq(t.value))return{unaryFilter:{field:Dm(t.field),op:"IS_NOT_NAN"}};if(cq(t.value))return{unaryFilter:{field:Dm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dm(t.field),op:Sqe(t.op),value:t.value}}}(e):e instanceof Xn?function(t){const n=t.getFilters().map(r=>fue(r));return n.length===1?n[0]:{compositeFilter:{op:xqe(t.op),filters:n}}}(e):at()}function Eqe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function due(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,n,r,i,s=_t.min(),o=_t.min(),a=Hi.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new md(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new md(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hue{constructor(t){this.se=t}}function Iqe(e,t){let n;if(t.document)n=yqe(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=Qe.fromSegments(t.noDocument.path),i=Ap(t.noDocument.readTime);n=Xr.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return at();{const r=Qe.fromSegments(t.unknownDocument.path),i=Ap(t.unknownDocument.version);n=Xr.newUnknownDocument(r,i)}}return t.readTime&&n.setReadTime(function(r){const i=new zr(r[0],r[1]);return _t.fromTimestamp(i)}(t.readTime)),n}function $q(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:HO(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(i,s){return{name:VO(i,s.key),fields:s.data.value.mapValue.fields,updateTime:fy(i,s.version.toTimestamp()),createTime:fy(i,s.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:kp(t.version)};else{if(!t.isUnknownDocument())return at();r.unknownDocument={path:n.path.toArray(),version:kp(t.version)}}return r}function HO(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function kp(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ap(e){const t=new zr(e.seconds,e.nanoseconds);return _t.fromTimestamp(t)}function Dh(e,t){const n=(t.baseMutations||[]).map(s=>nM(e.se,s));for(let s=0;s<t.mutations.length-1;++s){const o=t.mutations[s];if(s+1<t.mutations.length&&t.mutations[s+1].transform!==void 0){const a=t.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map(s=>nM(e.se,s)),i=zr.fromMillis(t.localWriteTimeMs);return new qj(t.batchId,i,n,r)}function T0(e){const t=Ap(e.readTime),n=e.lastLimboFreeSnapshotVersion!==void 0?Ap(e.lastLimboFreeSnapshotVersion):_t.min();let r;var i;return e.query.documents!==void 0?(vt((i=e.query).documents.length===1),r=nl(kP(sue(i.documents[0])))):r=function(s){return nl(uue(s))}(e.query),new md(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Hi.fromBase64String(e.resumeToken))}function pue(e,t){const n=kp(t.snapshotVersion),r=kp(t.lastLimboFreeSnapshotVersion);let i;i=BO(t.target)?aue(e.se,t.target):lue(e.se,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Tp(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mue(e){const t=uue({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?JD(t,t.limit,"L"):t}function CN(e,t){return new Kj(t.largestBatchId,nM(e.se,t.overlayMutation))}function Cq(e,t){const n=t.path.lastSegment();return[e,Ks(t.path.popLast()),n]}function Pq(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:kp(r.readTime),documentKey:Ks(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oqe{getBundleMetadata(t,n){return Tq(t).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ap(i.createTime),version:i.version};var i})}saveBundleMetadata(t,n){return Tq(t).put({bundleId:(r=n).id,createTime:kp(Ys(r.createTime)),version:r.version});var r}getNamedQuery(t,n){return kq(t).get(n).next(r=>{if(r)return{name:(i=r).name,query:mue(i.bundledQuery),readTime:Ap(i.readTime)};var i})}saveNamedQuery(t,n){return kq(t).put(function(r){return{name:r.name,readTime:kp(Ys(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function Tq(e){return qi(e,"bundles")}function kq(e){return qi(e,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t,n){this.serializer=t,this.userId=n}static ie(t,n){const r=n.uid||"";return new LP(t,r)}getOverlay(t,n){return Jv(t).get(Cq(this.userId,n)).next(r=>r?CN(this.serializer,r):null)}getOverlays(t,n){const r=xu();return be.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){const i=[];return r.forEach((s,o)=>{const a=new Kj(n,o);i.push(this.re(t,a))}),be.waitFor(i)}removeOverlaysForBatchId(t,n,r){const i=new Set;n.forEach(o=>i.add(Ks(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Jv(t).J("collectionPathOverlayIndex",a))}),be.waitFor(s)}getOverlaysForCollection(t,n,r){const i=xu(),s=Ks(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Jv(t).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=CN(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(t,n,r,i){const s=xu();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Jv(t).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=CN(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}re(t,n){return Jv(t).put(function(r,i,s){const[o,a,l]=Cq(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:UO(r.se,s.mutation)}}(this.serializer,this.userId,n))}}function Jv(e){return qi(e,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){}oe(t,n){this.ue(t,n),n.ce()}ue(t,n){if("nullValue"in t)this.ae(n,5);else if("booleanValue"in t)this.ae(n,10),n.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(n,15),n.he(Gr(t.integerValue));else if("doubleValue"in t){const r=Gr(t.doubleValue);isNaN(r)?this.ae(n,13):(this.ae(n,15),aw(r)?n.he(0):n.he(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ae(n,20),typeof r=="string"?n.le(r):(n.le(`${r.seconds||""}`),n.he(r.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,n),this.de(n);else if("bytesValue"in t)this.ae(n,30),n.we($p(t.bytesValue)),this.de(n);else if("referenceValue"in t)this._e(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.ae(n,45),n.he(r.latitude||0),n.he(r.longitude||0)}else"mapValue"in t?$le(t)?this.ae(n,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,n),this.de(n)):"arrayValue"in t?(this.ge(t.arrayValue,n),this.de(n)):at()}fe(t,n){this.ae(n,25),this.ye(t,n)}ye(t,n){n.le(t)}me(t,n){const r=t.fields||{};this.ae(n,55);for(const i of Object.keys(r))this.fe(i,n),this.ue(r[i],n)}ge(t,n){const r=t.values||[];this.ae(n,50);for(const i of r)this.ue(i,n)}_e(t,n){this.ae(n,37),Qe.fromName(t).path.forEach(r=>{this.ae(n,60),this.ye(r,n)})}ae(t,n){t.he(n)}de(t){t.he(2)}}Mh.pe=new Mh;function $qe(e){if(e===0)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function Aq(e){const t=64-function(n){let r=0;for(let i=0;i<8;++i){const s=$qe(255&n[i]);if(r+=s,s!==8)break}return r}(e);return Math.ceil(t/8)}class Cqe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Te(r.value),r=n.next();this.Ee()}Ae(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Re(r.value),r=n.next();this.ve()}be(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Te(r);else if(r<2048)this.Te(960|r>>>6),this.Te(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Te(480|r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r);else{const i=n.codePointAt(0);this.Te(240|i>>>18),this.Te(128|63&i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i)}}this.Ee()}Pe(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=n.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.ve()}Ve(t){const n=this.Se(t),r=Aq(n);this.De(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ce(t){const n=this.Se(t),r=Aq(n);this.De(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(t){this.De(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Se(t){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(t),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Te(t){const n=255&t;n===0?(this.Ne(0),this.Ne(255)):n===255?(this.Ne(255),this.Ne(0)):this.Ne(n)}Re(t){const n=255&t;n===0?(this.Oe(0),this.Oe(255)):n===255?(this.Oe(255),this.Oe(0)):this.Oe(t)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(t){this.De(1),this.buffer[this.position++]=t}Oe(t){this.De(1),this.buffer[this.position++]=~t}De(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Pqe{constructor(t){this.Me=t}we(t){this.Me.Ie(t)}le(t){this.Me.be(t)}he(t){this.Me.Ve(t)}ce(){this.Me.xe()}}class Tqe{constructor(t){this.Me=t}we(t){this.Me.Ae(t)}le(t){this.Me.Pe(t)}he(t){this.Me.Ce(t)}ce(){this.Me.ke()}}class Zv{constructor(){this.Me=new Cqe,this.Fe=new Pqe(this.Me),this.Be=new Tqe(this.Me)}seed(t){this.Me.seed(t)}Le(t){return t===0?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n,r,i){this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}qe(){const t=this.directionalValue.length,n=t===0||this.directionalValue[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new Lh(this.indexId,this.documentKey,this.arrayValue,r)}}function $f(e,t){let n=e.indexId-t.indexId;return n!==0?n:(n=Nq(e.arrayValue,t.arrayValue),n!==0?n:(n=Nq(e.directionalValue,t.directionalValue),n!==0?n:Qe.comparator(e.documentKey,t.documentKey)))}function Nq(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(r!==0)return r}return e.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kqe{constructor(t){this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];for(const n of t.filters){const r=n;r.isInequality()?this.Ge=r:this.Ke.push(r)}}Qe(t){vt(t.collectionGroup===this.collectionId);const n=HD(t);if(n!==void 0&&!this.ze(n))return!1;const r=Oh(t);let i=0,s=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(this.Ge!==void 0){const o=r[i];if(!this.je(this.Ge,o)||!this.We(this.Ue[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],o))return!1}return!0}ze(t){for(const n of this.Ke)if(this.je(n,t))return!0;return!1}je(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}We(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(e){var t,n;if(vt(e instanceof mn||e instanceof Xn),e instanceof mn){if(e instanceof Dle){const i=((n=(t=e.value.arrayValue)===null||t===void 0?void 0:t.values)===null||n===void 0?void 0:n.map(s=>mn.create(e.field,"==",s)))||[];return Xn.create(i,"or")}return e}const r=e.filters.map(i=>gue(i));return Xn.create(r,e.op)}function Aqe(e){if(e.getFilters().length===0)return[];const t=sM(gue(e));return vt(yue(t)),rM(t)||iM(t)?[t]:t.getFilters()}function rM(e){return e instanceof mn}function iM(e){return e instanceof Xn&&Hj(e)}function yue(e){return rM(e)||iM(e)||function(t){if(t instanceof Xn&&KD(t)){for(const n of t.getFilters())if(!rM(n)&&!iM(n))return!1;return!0}return!1}(e)}function sM(e){if(vt(e instanceof mn||e instanceof Xn),e instanceof mn)return e;if(e.filters.length===1)return sM(e.filters[0]);const t=e.filters.map(r=>sM(r));let n=Xn.create(t,e.op);return n=WO(n),yue(n)?n:(vt(n instanceof Xn),vt(ly(n)),vt(n.filters.length>1),n.filters.reduce((r,i)=>Xj(r,i)))}function Xj(e,t){let n;return vt(e instanceof mn||e instanceof Xn),vt(t instanceof mn||t instanceof Xn),n=e instanceof mn?t instanceof mn?function(r,i){return Xn.create([r,i],"and")}(e,t):Rq(e,t):t instanceof mn?Rq(t,e):function(r,i){if(vt(r.filters.length>0&&i.filters.length>0),ly(r)&&ly(i))return Ale(r,i.getFilters());const s=KD(r)?r:i,o=KD(r)?i:r,a=s.filters.map(l=>Xj(l,o));return Xn.create(a,"or")}(e,t),WO(n)}function Rq(e,t){if(ly(t))return Ale(t,e.getFilters());{const n=t.filters.map(r=>Xj(e,r));return Xn.create(n,"or")}}function WO(e){if(vt(e instanceof mn||e instanceof Xn),e instanceof mn)return e;const t=e.getFilters();if(t.length===1)return WO(t[0]);if(Tle(e))return e;const n=t.map(i=>WO(i)),r=[];return n.forEach(i=>{i instanceof mn?r.push(i):i instanceof Xn&&(i.op===e.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Xn.create(r,e.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nqe{constructor(){this.He=new Jj}addToCollectionParentIndex(t,n){return this.He.add(n),be.resolve()}getCollectionParents(t,n){return be.resolve(this.He.getEntries(n))}addFieldIndex(t,n){return be.resolve()}deleteFieldIndex(t,n){return be.resolve()}getDocumentsMatchingTarget(t,n){return be.resolve(null)}getIndexType(t,n){return be.resolve(0)}getFieldIndexes(t,n){return be.resolve([])}getNextCollectionGroupToUpdate(t){return be.resolve(null)}getMinOffset(t,n){return be.resolve(pa.min())}getMinOffsetFromCollectionGroup(t,n){return be.resolve(pa.min())}updateCollectionGroup(t,n,r){return be.resolve()}updateIndexEntries(t,n){return be.resolve()}}class Jj{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ar(Gn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ar(Gn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Uint8Array(0);class Rqe{constructor(t,n){this.user=t,this.databaseId=n,this.Je=new Jj,this.Ye=new Kd(r=>Tp(r),(r,i)=>b1(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.Je.has(n)){const r=n.lastSegment(),i=n.popLast();t.addOnCommittedListener(()=>{this.Je.add(n)});const s={collectionId:r,parent:Ks(i)};return Dq(t).put(s)}return be.resolve()}getCollectionParents(t,n){const r=[],i=IDBKeyRange.bound([n,""],[dle(n),""],!1,!0);return Dq(t).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Su(o.parent))}return r})}addFieldIndex(t,n){const r=RS(t),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=t0(t);return s.next(a=>{o.put(Pq(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(t,n){const r=RS(t),i=t0(t),s=e0(t);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,n){const r=e0(t);let i=!0;const s=new Map;return be.forEach(this.Ze(n),o=>this.Xe(t,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=un();const a=[];return be.forEach(s,(l,u)=>{var c;De("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`} to execute ${Tp(n)}`);const d=function(S,x){const $=HD(x);if($===void 0)return null;for(const E of zO(S,$.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(u,l),h=function(S,x){const $=new Map;for(const E of Oh(x))for(const I of zO(S,E.fieldPath))switch(I.op){case"==":case"in":$.set(E.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return $.set(E.fieldPath.canonicalString(),I.value),Array.from($.values())}return null}(u,l),m=function(S,x){const $=[];let E=!0;for(const I of Oh(x)){const T=I.kind===0?gq(S,I.fieldPath,S.startAt):yq(S,I.fieldPath,S.startAt);$.push(T.value),E&&(E=T.inclusive)}return new ay($,E)}(u,l),g=function(S,x){const $=[];let E=!0;for(const I of Oh(x)){const T=I.kind===0?yq(S,I.fieldPath,S.endAt):gq(S,I.fieldPath,S.endAt);$.push(T.value),E&&(E=T.inclusive)}return new ay($,E)}(u,l),y=this.tn(l,u,m),_=this.tn(l,u,g),v=this.en(l,u,h),b=this.nn(l.indexId,d,y,m.inclusive,_,g.inclusive,v);return be.forEach(b,S=>r.H(S,n.limit).next(x=>{x.forEach($=>{const E=Qe.fromSegments($.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return be.resolve(null)})}Ze(t){let n=this.Ye.get(t);return n||(t.filters.length===0?n=[t]:n=Aqe(Xn.create(t.filters,"and")).map(r=>QD(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.Ye.set(t,n),n)}nn(t,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.sn(n[d/u]):NS,m=this.rn(t,h,r[d%u],i),g=this.on(t,h,s[d%u],o),y=a.map(_=>this.rn(t,h,_,!0));c.push(...this.createRange(m,g,y))}return c}rn(t,n,r,i){const s=new Lh(t,Qe.empty(),n,r);return i?s:s.qe()}on(t,n,r,i){const s=new Lh(t,Qe.empty(),n,r);return i?s.qe():s}Xe(t,n){const r=new kqe(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,i).next(s=>{let o=null;for(const a of s)r.Qe(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,n){let r=2;const i=this.Ze(n);return be.forEach(i,s=>this.Xe(t,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new ar(yi.comparator),u=!1;for(const c of a.filters)for(const d of c.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}un(t,n){const r=new Zv;for(const i of Oh(t)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Le(i.kind);Mh.pe.oe(s,o)}return r.$e()}sn(t){const n=new Zv;return Mh.pe.oe(t,n.Le(0)),n.$e()}cn(t,n){const r=new Zv;return Mh.pe.oe(cw(this.databaseId,n),r.Le(function(i){const s=Oh(i);return s.length===0?0:s[s.length-1].kind}(t))),r.$e()}en(t,n,r){if(r===null)return[];let i=[];i.push(new Zv);let s=0;for(const o of Oh(t)){const a=r[s++];for(const l of i)if(this.an(n,o.fieldPath)&&fw(a))i=this.hn(i,o,a);else{const u=l.Le(o.kind);Mh.pe.oe(a,u)}}return this.ln(i)}tn(t,n,r){return this.en(t,n,r.position)}ln(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].$e();return n}hn(t,n,r){const i=[...t],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Zv;l.seed(a.$e()),Mh.pe.oe(o,l.Le(n.kind)),s.push(l)}return s}an(t,n){return!!t.filters.find(r=>r instanceof mn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(t,n){const r=RS(t),i=t0(t);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return be.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const d=c?new rq(c.sequenceNumber,new pa(Ap(c.readTime),new Qe(Su(c.documentKey)),c.largestBatchId)):rq.empty(),h=u.fields.map(([m,g])=>new pWe(yi.fromServerFormat(m),g));return new hle(u.indexId,u.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Xt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(t,n,r){const i=RS(t),s=t0(t);return this.fn(t).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>be.forEach(a,l=>s.put(Pq(l.indexId,this.user,o,r)))))}updateIndexEntries(t,n){const r=new Map;return be.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?be.resolve(o):this.getFieldIndexes(t,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),be.forEach(a,l=>this.dn(t,i,l).next(u=>{const c=this.wn(s,l);return u.isEqual(c)?be.resolve():this._n(t,s,l,u,c)}))))})}mn(t,n,r,i){return e0(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.cn(r,n.key),documentKey:n.key.path.toArray()})}gn(t,n,r,i){return e0(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.cn(r,n.key),n.key.path.toArray()])}dn(t,n,r){const i=e0(t);let s=new ar($f);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.cn(r,n)])},(o,a)=>{s=s.add(new Lh(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(t,n){let r=new ar($f);const i=this.un(n,t);if(i==null)return r;const s=HD(n);if(s!=null){const o=t.data.field(s.fieldPath);if(fw(o))for(const a of o.arrayValue.values||[])r=r.add(new Lh(n.indexId,t.key,this.sn(a),i))}else r=r.add(new Lh(n.indexId,t.key,NS,i));return r}_n(t,n,r,i,s){De("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,d){const h=a.getIterator(),m=l.getIterator();let g=$m(h),y=$m(m);for(;g||y;){let _=!1,v=!1;if(g&&y){const b=u(g,y);b<0?v=!0:b>0&&(_=!0)}else g!=null?v=!0:_=!0;_?(c(y),y=$m(m)):v?(d(g),g=$m(h)):(g=$m(h),y=$m(m))}}(i,s,$f,a=>{o.push(this.mn(t,n,r,a))},a=>{o.push(this.gn(t,n,r,a))}),be.waitFor(o)}fn(t){let n=1;return t0(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(t,n,r){r=r.sort((o,a)=>$f(o,a)).filter((o,a,l)=>!a||$f(o,l[a-1])!==0);const i=[];i.push(t);for(const o of r){const a=$f(o,t),l=$f(o,n);if(a===0)i[0]=t.qe();else if(a>0&&l<0)i.push(o),i.push(o.qe());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.yn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,NS,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,NS,[]];s.push(IDBKeyRange.bound(a,l))}return s}yn(t,n){return $f(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(Mq)}getMinOffset(t,n){return be.mapArray(this.Ze(n),r=>this.Xe(t,r).next(i=>i||at())).next(Mq)}}function Dq(e){return qi(e,"collectionParents")}function e0(e){return qi(e,"indexEntries")}function RS(e){return qi(e,"indexConfiguration")}function t0(e){return qi(e,"indexState")}function Mq(e){vt(e.length!==0);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Vj(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new pa(t.readTime,t.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new mo(t,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vue(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{vt(a===1)}));const u=[];for(const c of n.mutations){const d=wle(t,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return be.waitFor(s).next(()=>u)}function qO(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw at();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class FP{constructor(t,n,r,i){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}static ie(t,n,r,i){vt(t.uid!=="");const s=t.isAuthenticated()?t.uid:"";return new FP(s,n,r,i)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cf(t).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(t,n,r,i){const s=Lm(t),o=Cf(t);return o.add({}).next(a=>{vt(typeof a=="number");const l=new qj(a,n,r,i),u=function(h,m,g){const y=g.baseMutations.map(v=>UO(h.se,v)),_=g.mutations.map(v=>UO(h.se,v));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:y,mutations:_}}(this.serializer,this.userId,l),c=[];let d=new ar((h,m)=>Xt(h.canonicalString(),m.canonicalString()));for(const h of i){const m=wle(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(m,wWe))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(t,h))}),t.addOnCommittedListener(()=>{this.pn[a]=l.keys()}),be.waitFor(c).next(()=>l)})}lookupMutationBatch(t,n){return Cf(t).get(n).next(r=>r?(vt(r.userId===this.userId),Dh(this.serializer,r)):null)}In(t,n){return this.pn[n]?be.resolve(this.pn[n]):this.lookupMutationBatch(t,n).next(r=>{if(r){const i=r.keys();return this.pn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Cf(t).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(vt(a.batchId>=r),s=Dh(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Cf(t).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cf(t).j("userMutationsIndex",n).next(r=>r.map(i=>Dh(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=kx(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Lm(t).Z({range:i},(o,a,l)=>{const[u,c,d]=o,h=Su(c);if(u===this.userId&&n.path.isEqual(h))return Cf(t).get(d).next(m=>{if(!m)throw at();vt(m.userId===this.userId),s.push(Dh(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ar(Xt);const i=[];return n.forEach(s=>{const o=kx(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Lm(t).Z({range:a},(u,c,d)=>{const[h,m,g]=u,y=Su(m);h===this.userId&&s.path.isEqual(y)?r=r.add(g):d.done()});i.push(l)}),be.waitFor(i).next(()=>this.Tn(t,r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1,s=kx(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new ar(Xt);return Lm(t).Z({range:o},(l,u,c)=>{const[d,h,m]=l,g=Su(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(m)):c.done()}).next(()=>this.Tn(t,a))}Tn(t,n){const r=[],i=[];return n.forEach(s=>{i.push(Cf(t).get(s).next(o=>{if(o===null)throw at();vt(o.userId===this.userId),r.push(Dh(this.serializer,o))}))}),be.waitFor(i).next(()=>r)}removeMutationBatch(t,n){return vue(t.at,this.userId,n).next(r=>(t.addOnCommittedListener(()=>{this.En(n.batchId)}),be.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}En(t){delete this.pn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(n=>{if(!n)return be.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Lm(t).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Su(s[1]);i.push(l)}else a.done()}).next(()=>{vt(i.length===0)})})}containsKey(t,n){return _ue(t,this.userId,n)}An(t){return wue(t).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _ue(e,t,n){const r=kx(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Lm(e).Z({range:s,Y:!0},(a,l,u)=>{const[c,d,h]=a;c===t&&d===i&&(o=!0),u.done()}).next(()=>o)}function Cf(e){return qi(e,"mutations")}function Lm(e){return qi(e,"documentMutations")}function wue(e){return qi(e,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new Np(0)}static bn(){return new Np(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dqe{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.Pn(t).next(n=>{const r=new Np(n.highestTargetId);return n.highestTargetId=r.next(),this.Vn(t,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Pn(t).next(n=>_t.fromTimestamp(new zr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Pn(t).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.Pn(t).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Vn(t,i)))}addTargetData(t,n){return this.Sn(t,n).next(()=>this.Pn(t).next(r=>(r.targetCount+=1,this.Dn(n,r),this.Vn(t,r))))}updateTargetData(t,n){return this.Sn(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next(()=>Cm(t).delete(n.targetId)).next(()=>this.Pn(t)).next(r=>(vt(r.targetCount>0),r.targetCount-=1,this.Vn(t,r)))}removeTargets(t,n,r){let i=0;const s=[];return Cm(t).Z((o,a)=>{const l=T0(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(t,l)))}).next(()=>be.waitFor(s)).next(()=>i)}forEachTarget(t,n){return Cm(t).Z((r,i)=>{const s=T0(i);n(s)})}Pn(t){return Fq(t).get("targetGlobalKey").next(n=>(vt(n!==null),n))}Vn(t,n){return Fq(t).put("targetGlobalKey",n)}Sn(t,n){return Cm(t).put(pue(this.serializer,n))}Dn(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.Pn(t).next(n=>n.targetCount)}getTargetData(t,n){const r=Tp(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Cm(t).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=T0(a);b1(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(t,n,r){const i=[],s=Uf(t);return n.forEach(o=>{const a=Ks(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(t,r,o))}),be.waitFor(i)}removeMatchingKeys(t,n,r){const i=Uf(t);return be.forEach(n,s=>{const o=Ks(s.path);return be.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(t,r,s)])})}removeMatchingKeysForTargetId(t,n){const r=Uf(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Uf(t);let s=un();return i.Z({range:r,Y:!0},(o,a,l)=>{const u=Su(o[1]),c=new Qe(u);s=s.add(c)}).next(()=>s)}containsKey(t,n){const r=Ks(n.path),i=IDBKeyRange.bound([r],[dle(r)],!1,!0);let s=0;return Uf(t).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ne(t,n){return Cm(t).get(n).next(r=>r?T0(r):null)}}function Cm(e){return qi(e,"targets")}function Fq(e){return qi(e,"targetGlobal")}function Uf(e){return qi(e,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq([e,t],[n,r]){const i=Xt(e,n);return i===0?Xt(t,r):i}class Mqe{constructor(t){this.Cn=t,this.buffer=new ar(jq),this.xn=0}Nn(){return++this.xn}kn(t){const n=[t,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jq(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Lqe{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return this.On!==null}$n(t){De("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gd(n)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await qd(n)}await this.$n(3e5)})}}class Fqe{constructor(t,n){this.Mn=t,this.params=n}calculateTargetCount(t,n){return this.Mn.Fn(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return be.resolve(Co.ct);const r=new Mqe(n);return this.Mn.forEachTarget(t,i=>r.kn(i.sequenceNumber)).next(()=>this.Mn.Bn(t,i=>r.kn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Mn.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Mn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Lq)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lq):this.Ln(t,n))}getCacheSize(t){return this.Mn.getCacheSize(t)}Ln(t,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(t,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(d=>(u=Date.now(),VD()<=Nn.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jqe{constructor(t,n){this.db=t,this.garbageCollector=function(r,i){return new Fqe(r,i)}(this,n)}Fn(t){const n=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}qn(t){let n=0;return this.Bn(t,r=>{n++}).next(()=>n)}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}Bn(t,n){return this.Un(t,(r,i)=>n(i))}addReference(t,n,r){return DS(t,r)}removeReference(t,n,r){return DS(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return DS(t,n)}Kn(t,n){return function(r,i){let s=!1;return wue(r).X(o=>_ue(r,o,i).next(a=>(a&&(s=!0),be.resolve(!a)))).next(()=>s)}(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Un(t,(o,a)=>{if(a<=n){const l=this.Kn(t,o).next(u=>{if(!u)return s++,r.getEntry(t,o).next(()=>(r.removeEntry(o,_t.min()),Uf(t).delete([0,Ks(o.path)])))});i.push(l)}}).next(()=>be.waitFor(i)).next(()=>r.apply(t)).next(()=>s)}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return DS(t,n)}Un(t,n){const r=Uf(t);let i,s=Co.ct;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Co.ct&&n(new Qe(Su(i)),s),s=u,i=l):s=Co.ct}).next(()=>{s!==Co.ct&&n(new Qe(Su(i)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function DS(e,t){return Uf(e).put(function(n,r){return{targetId:0,path:Ks(n.path),sequenceNumber:r}}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bue=class{constructor(){this.changes=new Kd(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bqe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return yh(t).put(r)}removeEntry(t,n,r){return yh(t).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],HO(s),o[o.length-1]]}(n,r))}updateMetadata(t,n){return this.getMetadata(t).next(r=>(r.byteSize+=n,this.Gn(t,r)))}getEntry(t,n){let r=Xr.newInvalidDocument(n);return yh(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(n0(n))},(i,s)=>{r=this.Qn(n,s)}).next(()=>r)}zn(t,n){let r={size:0,document:Xr.newInvalidDocument(n)};return yh(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(n0(n))},(i,s)=>{r={document:this.Qn(n,s),size:qO(s)}}).next(()=>r)}getEntries(t,n){let r=na();return this.jn(t,n,(i,s)=>{const o=this.Qn(i,s);r=r.insert(i,o)}).next(()=>r)}Wn(t,n){let r=na(),i=new Zr(Qe.comparator);return this.jn(t,n,(s,o)=>{const a=this.Qn(s,o);r=r.insert(s,a),i=i.insert(s,qO(o))}).next(()=>({documents:r,Hn:i}))}jn(t,n,r){if(n.isEmpty())return be.resolve();let i=new ar(Vq);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(n0(i.first()),n0(i.last())),o=i.getIterator();let a=o.getNext();return yh(t).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=Qe.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&Vq(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.G(n0(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),HO(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yh(t).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=na();for(const c of l){const d=this.Qn(Qe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&(x1(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(t,n,r,i){let s=na();const o=zq(n,r),a=zq(n,pa.max());return yh(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.Qn(Qe.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(t){return new zqe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(n=>n.byteSize)}getMetadata(t){return Bq(t).get("remoteDocumentGlobalKey").next(n=>(vt(!!n),n))}Gn(t,n){return Bq(t).put("remoteDocumentGlobalKey",n)}Qn(t,n){if(n){const r=Iqe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(_t.min())))return r}return Xr.newInvalidDocument(t)}}function Sue(e){return new Bqe(e)}class zqe extends bue{constructor(t,n){super(),this.Jn=t,this.trackRemovals=n,this.Yn=new Kd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const n=[];let r=0,i=new ar((s,o)=>Xt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Yn.get(s);if(n.push(this.Jn.removeEntry(t,s,a.readTime)),o.isValidDocument()){const l=$q(this.Jn.serializer,o);i=i.add(s.path.popLast());const u=qO(l);r+=u-a.size,n.push(this.Jn.addEntry(t,s,l))}else if(r-=a.size,this.trackRemovals){const l=$q(this.Jn.serializer,o.convertToNoDocument(_t.min()));n.push(this.Jn.addEntry(t,s,l))}}),i.forEach(s=>{n.push(this.Jn.indexManager.addToCollectionParentIndex(t,s))}),n.push(this.Jn.updateMetadata(t,r)),be.waitFor(n)}getFromCache(t,n){return this.Jn.zn(t,n).next(r=>(this.Yn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,n){return this.Jn.Wn(t,n).next(({documents:r,Hn:i})=>(i.forEach((s,o)=>{this.Yn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function Bq(e){return qi(e,"remoteDocumentGlobal")}function yh(e){return qi(e,"remoteDocumentsV14")}function n0(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function zq(e,t){const n=t.documentKey.path.toArray();return[e,HO(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Vq(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Xt(n[s],r[s]),i)return i;return i=Xt(n.length,r.length),i||(i=Xt(n[n.length-2],r[r.length-2]),i||Xt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vqe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&d_(r.mutation,i,Po.empty(),zr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,un()).next(()=>r))}getLocalViewOfDocuments(t,n,r=un()){const i=xu();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=P0();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=xu();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,un()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=na();const o=f_(),a=f_();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof af)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),d_(c.mutation,u,c.mutation.getFieldMask(),zr.now())):o.set(u.key,Po.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Vqe(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=f_();let i=new Zr((o,a)=>o-a),s=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Po.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||un()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Hle();c.forEach(h=>{if(!s.has(h)){const m=Xle(n.get(h),r.get(h));m!==null&&d.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return be.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return Qe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Fle(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):be.resolve(xu());let a=-1,l=s;return o.next(u=>be.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?be.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,un())).next(c=>({batchId:a,changes:Ule(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Qe(n)).next(r=>{let i=P0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=P0();return this.indexManager.getCollectionParents(t,i).next(o=>be.forEach(o,a=>{const l=function(u,c){return new S1(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Xr.newInvalidDocument(u)))});let o=P0();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&d_(u.mutation,l,Po.empty(),zr.now()),x1(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uqe{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return be.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ys(r.createTime)}),be.resolve()}getNamedQuery(t,n){return be.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:mue(r.bundledQuery),readTime:Ys(r.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hqe{constructor(){this.overlays=new Zr(Qe.comparator),this.ts=new Map}getOverlay(t,n){return be.resolve(this.overlays.get(n))}getOverlays(t,n){const r=xu();return be.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.re(t,n,s)}),be.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),be.resolve()}getOverlaysForCollection(t,n,r){const i=xu(),s=n.length+1,o=new Qe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return be.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Zr((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=xu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=xu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return be.resolve(a)}re(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Kj(n,r));let s=this.ts.get(n);s===void 0&&(s=un(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.es=new ar(Fi.ns),this.ss=new ar(Fi.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,n){const r=new Fi(t,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.us(new Fi(t,n))}cs(t,n){t.forEach(r=>this.removeReference(r,n))}hs(t){const n=new Qe(new Gn([])),r=new Fi(n,t),i=new Fi(n,t+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const n=new Qe(new Gn([])),r=new Fi(n,t),i=new Fi(n,t+1);let s=un();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Fi(t,0),r=this.es.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fi{constructor(t,n){this.key=t,this.ds=n}static ns(t,n){return Qe.comparator(t.key,n.key)||Xt(t.ds,n.ds)}static rs(t,n){return Xt(t.ds,n.ds)||Qe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wqe{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new ar(Fi.ns)}checkEmpty(t){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new Fi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return be.resolve(o)}lookupMutationBatch(t,n){return be.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fi(n,0),i=new Fi(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ar(Xt);return n.forEach(i=>{const s=new Fi(i,0),o=new Fi(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),be.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Qe.isDocumentKey(s)||(s=s.child(""));const o=new Fi(new Qe(s),0);let a=new ar(Xt);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),be.resolve(this.ps(a))}ps(t){const n=[];return t.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){vt(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return be.forEach(n.mutations,i=>{const s=new Fi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this._s=r})}En(t){}containsKey(t,n){const r=new Fi(n,0),i=this._s.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,be.resolve()}Is(t,n){return this.ys(t)}ys(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}gs(t){const n=this.ys(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qqe{constructor(t){this.Ts=t,this.docs=new Zr(Qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():Xr.newInvalidDocument(n))}getEntries(t,n){let r=na();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xr.newInvalidDocument(i))}),be.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=na();const o=n.path,a=new Qe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Vj(gle(c),r)<=0||(i.has(c.key)||x1(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(t,n,r,i){at()}Es(t,n){return be.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Gqe(this)}getSize(t){return be.resolve(this.size)}}class Gqe extends bue{constructor(t){super(),this.Jn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(t,i)):this.Jn.removeEntry(r)}),be.waitFor(n)}getFromCache(t,n){return this.Jn.getEntry(t,n)}getAllFromCache(t,n){return this.Jn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kqe{constructor(t){this.persistence=t,this.As=new Kd(n=>Tp(n),b1),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Zj,this.targetCount=0,this.bs=Np.vn()}forEachTarget(t,n){return this.As.forEach((r,i)=>n(i)),be.resolve()}getLastRemoteSnapshotVersion(t){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return be.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),be.resolve()}Sn(t){this.As.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new Np(n),this.highestTargetId=n),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,n){return this.Sn(n),this.targetCount+=1,be.resolve()}updateTargetData(t,n){return this.Sn(n),be.resolve()}removeTargetData(t,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),be.waitFor(s).next(()=>i)}getTargetCount(t){return be.resolve(this.targetCount)}getTargetData(t,n){const r=this.As.get(n)||null;return be.resolve(r)}addMatchingKeys(t,n,r){return this.vs.os(n,r),be.resolve()}removeMatchingKeys(t,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.vs.hs(n),be.resolve()}getMatchingKeysForTargetId(t,n){const r=this.vs.fs(n);return be.resolve(r)}containsKey(t,n){return be.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(t,n){this.Ps={},this.overlays={},this.Vs=new Co(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new Kqe(this),this.indexManager=new Nqe,this.remoteDocumentCache=function(r){return new qqe(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new hue(n),this.xs=new Uqe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Hqe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ps[t.toKey()];return r||(r=new Wqe(n,this.referenceDelegate),this.Ps[t.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,n,r){De("MemoryPersistence","Starting transaction:",t);const i=new Yqe(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(t,n){return be.or(Object.values(this.Ps).map(r=>()=>r.containsKey(t,n)))}}class Yqe extends vle{constructor(t){super(),this.currentSequenceNumber=t}}class jP{constructor(t){this.persistence=t,this.$s=new Zj,this.Ms=null}static Fs(t){return new jP(t)}get Bs(){if(this.Ms)return this.Ms;throw at()}addReference(t,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),be.resolve()}removeReference(t,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),be.resolve()}markPotentiallyOrphaned(t,n){return this.Bs.add(n.toString()),be.resolve()}removeTarget(t,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ns(){this.Ms=new Set}ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Bs,r=>{const i=Qe.fromPath(r);return this.Ls(t,i).next(s=>{s||n.removeEntry(i,_t.min())})}).next(()=>(this.Ms=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ls(t,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(t){return 0}Ls(t,n){return be.or([()=>be.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Os(t,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qqe{constructor(t){this.serializer=t}M(t,n,r,i){const s=new PP("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(t),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oq,{unique:!0}),a.createObjectStore("documentMutations")}(t),Uq(t),function(a){a.createObjectStore("remoteDocuments")}(t));let o=be.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(t),Uq(t)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oq,{unique:!0});const c=l.store("mutations"),d=u.map(h=>c.put(h));return be.waitFor(d)})}(t,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),r<5&&i>=5&&(o=o.next(()=>this.qs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(t),this.Us(s)))),r<7&&i>=7&&(o=o.next(()=>this.Ks(s))),r<8&&i>=8&&(o=o.next(()=>this.Gs(t,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(t)})),r<10&&i>=10&&(o=o.next(()=>this.Qs(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:AWe});l.createIndex("collectionPathOverlayIndex",NWe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",RWe,{unique:!1})})(t)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:bWe});l.createIndex("documentKeyIndex",SWe),l.createIndex("collectionGroupIndex",xWe)}(t)).next(()=>this.zs(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.js(t,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:CWe}).createIndex("sequenceNumberIndex",PWe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:TWe}).createIndex("documentKeyIndex",kWe,{unique:!1})}(t))),o}Us(t){let n=0;return t.store("remoteDocuments").Z((r,i)=>{n+=qO(i)}).next(()=>{const r={byteSize:n};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(t){const n=t.store("mutationQueues"),r=t.store("mutations");return n.j().next(i=>be.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>be.forEach(a,l=>{vt(l.userId===s.userId);const u=Dh(this.serializer,l);return vue(t,s.userId,u).next(()=>{})}))}))}Ks(t){const n=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new Gn(o),u=function(c){return[0,Ks(c)]}(l);s.push(n.get(u).next(c=>c?be.resolve():(d=>n.put({targetId:0,path:Ks(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>be.waitFor(s))})}Gs(t,n){t.createObjectStore("collectionParents",{keyPath:$We});const r=n.store("collectionParents"),i=new Jj,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Ks(l)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const l=new Gn(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,l],u)=>{const c=Su(a);return s(c.popLast())}))}Qs(t){const n=t.store("targets");return n.Z((r,i)=>{const s=T0(i),o=pue(this.serializer,s);return n.put(o)})}zs(t,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new Qe(Gn.fromString(u.document.name).popFirst(5)):u.noDocument?Qe.fromSegments(u.noDocument.path):u.unknownDocument?Qe.fromSegments(u.unknownDocument.path):at()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>be.waitFor(i))}js(t,n){const r=n.store("mutations"),i=Sue(this.serializer),s=new Eue(jP.Fs,this.serializer.se);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:un();Dh(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),be.forEach(a,(l,u)=>{const c=new Cs(u),d=LP.ie(this.serializer,c),h=s.getIndexManager(c),m=FP.ie(c,this.serializer,h,s.referenceDelegate);return new xue(i,m,d,h).recalculateAndSaveOverlaysForDocumentKeys(new WD(n,Co.ct),l).next()})})}}function Uq(e){e.createObjectStore("targetDocuments",{keyPath:IWe}).createIndex("documentTargetsIndex",OWe,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",EWe,{unique:!0}),e.createObjectStore("targetGlobal")}const PN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class e6{constructor(t,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=s,this.window=o,this.document=a,this.Hs=u,this.Js=c,this.Ys=d,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=h=>Promise.resolve(),!e6.D())throw new Ue(Oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jqe(this,i),this.si=n+"main",this.serializer=new hue(l),this.ii=new kl(this.si,this.Ys,new Qqe(this.serializer)),this.Ds=new Dqe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Sue(this.serializer),this.xs=new Oqe,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,c===!1&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(Oe.FAILED_PRECONDITION,PN);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ds.getHighestSequenceNumber(t))}).then(t=>{this.Vs=new Co(t,this.Hs)}).then(()=>{this.Ss=!0}).catch(t=>(this.ii&&this.ii.close(),Promise.reject(t)))}hi(t){return this.ni=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.ii.B(async n=>{n.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ws.enqueueAndForget(async()=>{this.started&&await this.oi()}))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>MS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(t).next(n=>{n||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(t)).next(n=>this.isPrimary&&!n?this.di(t).next(()=>!1):!!n&&this.wi(t).next(()=>!0))).catch(t=>{if(Gd(t))return De("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ws.enqueueRetryable(()=>this.ni(t)),this.isPrimary=t})}li(t){return r0(t).get("owner").next(n=>be.resolve(this._i(n)))}mi(t){return MS(t).delete(this.clientId)}async gi(){if(this.isPrimary&&!this.yi(this.ei,18e5)){this.ei=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=qi(n,"clientMetadata");return r.j().next(i=>{const s=this.pi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return be.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ri)for(const n of t)this.ri.removeItem(this.Ii(n.clientId))}}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(t){return!!t&&t.ownerId===this.clientId}fi(t){return this.Js?be.resolve(!0):r0(t).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)){if(this._i(n)&&this.networkEnabled)return!0;if(!this._i(n)){if(!n.allowTabSynchronization)throw new Ue(Oe.FAILED_PRECONDITION,PN);return!1}}return!(!this.networkEnabled||!this.inForeground)||MS(t).j().next(r=>this.pi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&De("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),await this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new WD(t,Co.ct);return this.di(n).next(()=>this.mi(n))}),this.ii.close(),this.vi()}pi(t,n){return t.filter(r=>this.yi(r.updateTimeMs,n)&&!this.Ti(r.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",t=>MS(t).j().next(n=>this.pi(n,18e5).map(r=>r.clientId)))}get started(){return this.Ss}getMutationQueue(t,n){return FP.ie(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Rqe(t,this.serializer.se.databaseId)}getDocumentOverlayCache(t){return LP.ie(this.serializer,t)}getBundleCache(){return this.xs}runTransaction(t,n,r){De("IndexedDbPersistence","Starting transaction:",t);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Ys)===15?MWe:o===14?xle:o===13?Sle:o===12?DWe:o===11?ble:void at();var o;let a;return this.ii.runTransaction(t,i,s,l=>(a=new WD(l,this.Vs?this.Vs.next():Co.ct),n==="readwrite-primary"?this.li(a).next(u=>!!u||this.fi(a)).next(u=>{if(!u)throw ai(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Ue(Oe.FAILED_PRECONDITION,yle);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Pi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Pi(t){return r0(t).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)&&!this._i(n)&&!(this.Js||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ue(Oe.FAILED_PRECONDITION,PN)})}wi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return r0(t).put("owner",n)}static D(){return kl.D()}di(t){const n=r0(t);return n.get("owner").next(r=>this._i(r)?(De("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):be.resolve())}yi(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(ai(`Detected an update time that is in the future: ${t} > ${r}`),!1))}ui(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground=this.document.visibilityState==="visible")}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Zs=()=>{this.Ei();const n=/(?:Version|Mobile)\/1[456]/;M9e()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(t){var n;try{const r=((n=this.ri)===null||n===void 0?void 0:n.getItem(this.Ii(t)))!==null;return De("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ai("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(t){ai("Failed to set zombie client id.",t)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function r0(e){return qi(e,"owner")}function MS(e){return qi(e,"clientMetadata")}function t6(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}static Di(t,n){let r=un(),i=un();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n6(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(){this.Ci=!1}initialize(t,n){this.xi=t,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ni(t,n).next(s=>s||this.ki(t,n,i,r)).next(s=>s||this.Oi(t,n))}Ni(t,n){if(vq(n))return be.resolve(null);let r=nl(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=JD(n,null,"F"),r=nl(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=un(...s);return this.xi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(t,JD(n,null,"F")):this.Fi(t,u,n,l)}))})))}ki(t,n,r,i){return vq(n)||i.isEqual(_t.min())?this.Oi(t,n):this.xi.getDocuments(t,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(t,n):(VD()<=Nn.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ZD(n)),this.Fi(t,o,n,mle(i,-1)))})}$i(t,n){let r=new ar(zle(t));return n.forEach((i,s)=>{x1(t,s)&&(r=r.add(s))}),r}Mi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(t,n){return VD()<=Nn.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",ZD(n)),this.xi.getDocumentsMatchingQuery(t,n,pa.min())}Fi(t,n,r,i){return this.xi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xqe{constructor(t,n,r,i){this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new Zr(Xt),this.qi=new Kd(s=>Tp(s),b1),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xue(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Li))}}function Oue(e,t,n,r){return new Xqe(e,t,n,r)}async function $ue(e,t){const n=ut(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=un();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function Jqe(e,t){const n=ut(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=be.resolve();return d.forEach(m=>{h=h.next(()=>u.getEntry(a,m)).next(g=>{const y=l.docVersions.get(m);vt(y!==null),g.version.compareTo(y)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=un();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Cue(e){const t=ut(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ds.getLastRemoteSnapshotVersion(n))}function Zqe(e,t){const n=ut(e),r=t.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,d)));let m=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(d)?m=m.withResumeToken(Hi.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(g,y,_){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,m,c)&&a.push(n.Ds.updateTargetData(s,m))});let l=na(),u=un();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(eGe(s,o,t.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(_t.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(d=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return be.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function eGe(e,t,n){let r=un(),i=un();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=na();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_t.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):De("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function tGe(e,t){const n=ut(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function GO(e,t){const n=ut(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,t).next(s=>s?(i=s,be.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new md(t,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(t,r.targetId)),r})}async function dy(e,t,n){const r=ut(e),i=r.Li.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gd(o))throw o;De("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Li=r.Li.remove(t),r.qi.delete(i.target)}function oM(e,t,n){const r=ut(e);let i=_t.min(),s=un();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ut(a),d=c.qi.get(u);return d!==void 0?be.resolve(c.Li.get(d)):c.Ds.getTargetData(l,u)}(r,o,nl(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,t,n?i:_t.min(),n?s:un())).next(a=>(kue(r,Ble(t),a),{documents:a,Wi:s})))}function Pue(e,t){const n=ut(e),r=ut(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,t).next(o=>o?o.target:null))}function Tue(e,t){const n=ut(e),r=n.Ui.get(t)||_t.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ki.getAllFromCollectionGroup(i,t,mle(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(kue(n,t,i),i))}function kue(e,t,n){let r=e.Ui.get(t)||_t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Ui.set(t,r)}function Hq(e,t){return`firestore_clients_${e}_${t}`}function Wq(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function TN(e,t){return`firestore_targets_${e}_${t}`}class KO{constructor(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}static Zi(t,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new Ue(i.error.code,i.error.message))),o?new KO(t,n,i.state,s):(ai("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class h_{constructor(t,n,r){this.targetId=t,this.state=n,this.error=r}static Zi(t,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ue(r.error.code,r.error.message))),s?new h_(t,r.state,i):(ai("SharedClientState",`Failed to parse target state for ID '${t}': ${n}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class YO{constructor(t,n){this.clientId=t,this.activeTargetIds=n}static Zi(t,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=NP();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=_le(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new YO(t,s):(ai("SharedClientState",`Failed to parse client data for instance '${t}': ${n}`),null)}}class r6{constructor(t,n){this.clientId=t,this.onlineState=n}static Zi(t){const n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new r6(n.clientId,n.onlineState):(ai("SharedClientState",`Failed to parse online state: ${t}`),null)}}let aM=class{constructor(){this.activeTargetIds=NP()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};class kN{constructor(t,n,r,i,s){this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Zr(Xt),this.started=!1,this.ur=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.cr=Hq(this.persistenceKey,this.nr),this.ar=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new aM),this.hr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this._r=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.bi();for(const r of t){if(r===this.nr)continue;const i=this.getItem(Hq(this.persistenceKey,r));if(i){const s=YO.Zi(r,i);s&&(this.rr=this.rr.insert(s.clientId,s))}}this.mr();const n=this.storage.getItem(this.wr);if(n){const r=this.gr(n);r&&this.yr(r)}for(const r of this.ur)this.ir(r);this.ur=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(t){let n=!1;return this.rr.forEach((r,i)=>{i.activeTargetIds.has(t)&&(n=!0)}),n}addPendingMutation(t){this.Ir(t,"pending")}updateMutationState(t,n,r){this.Ir(t,n,r),this.Tr(t)}addLocalQueryTarget(t){let n="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(TN(this.persistenceKey,t));if(r){const i=h_.Zi(t,r);i&&(n=i.state)}}return this.Er.tr(t),this.mr(),n}removeLocalQueryTarget(t){this.Er.er(t),this.mr()}isLocalQueryTarget(t){return this.Er.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(TN(this.persistenceKey,t))}updateQueryState(t,n,r){this.Ar(t,n,r)}handleUserChange(t,n,r){n.forEach(i=>{this.Tr(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.Rr(t)}notifyBundleLoaded(t){this.vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(t){const n=this.storage.getItem(t);return De("SharedClientState","READ",t,n),n}setItem(t,n){De("SharedClientState","SET",t,n),this.storage.setItem(t,n)}removeItem(t){De("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ir(t){const n=t;if(n.storageArea===this.storage){if(De("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.hr.test(n.key)){if(n.newValue==null){const r=this.br(n.key);return this.Pr(r,null)}{const r=this.Vr(n.key,n.newValue);if(r)return this.Pr(r.clientId,r)}}else if(this.lr.test(n.key)){if(n.newValue!==null){const r=this.Sr(n.key,n.newValue);if(r)return this.Dr(r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Cr(n.key,n.newValue);if(r)return this.Nr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.gr(n.newValue);if(r)return this.yr(r)}}else if(n.key===this.ar){const r=function(i){let s=Co.ct;if(i!=null)try{const o=JSON.parse(i);vt(typeof o=="number"),s=o}catch(o){ai("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Co.ct&&this.sequenceNumberHandler(r)}else if(n.key===this._r){const r=this.kr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Or(i)))}}}else this.ur.push(n)})}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(t,n,r){const i=new KO(this.currentUser,t,n,r),s=Wq(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Xi())}Tr(t){const n=Wq(this.persistenceKey,this.currentUser,t);this.removeItem(n)}Rr(t){const n={clientId:this.nr,onlineState:t};this.storage.setItem(this.wr,JSON.stringify(n))}Ar(t,n,r){const i=TN(this.persistenceKey,t),s=new h_(t,n,r);this.setItem(i,s.Xi())}vr(t){const n=JSON.stringify(Array.from(t));this.setItem(this._r,n)}br(t){const n=this.hr.exec(t);return n?n[1]:null}Vr(t,n){const r=this.br(t);return YO.Zi(r,n)}Sr(t,n){const r=this.lr.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return KO.Zi(new Cs(s),i,n)}Cr(t,n){const r=this.dr.exec(t),i=Number(r[1]);return h_.Zi(i,n)}gr(t){return r6.Zi(t)}kr(t){return JSON.parse(t)}async Dr(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.$r(t.batchId,t.state,t.error);De("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}Nr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}Pr(t,n){const r=n?this.rr.insert(t,n):this.rr.remove(t),i=this.pr(this.rr),s=this.pr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Fr(o,a).then(()=>{this.rr=r})}yr(t){this.rr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}pr(t){let n=NP();return t.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Aue{constructor(){this.Br=new aM,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,n,r){this.Lr[t]=n}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new aM,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nGe{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LS=null;function AN(){return LS===null?LS=268435456+Math.round(2147483648*Math.random()):LS++,"0x"+LS.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rGe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iGe{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="WebChannelConnection";class sGe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,n,r,i,s){const o=AN(),a=this.ao(t,n);De("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(t,a,l,r).then(u=>(De("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw UD("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(t,n,r,i,s,o){return this.co(t,n,r,i,s)}ho(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gy,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}ao(t,n){const r=rGe[t];return`${this.ro}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,n,r,i){const s=AN();return new Promise((o,a)=>{const l=new iWe;l.setWithCredentials(!0),l.listenOnce(tWe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $N.NO_ERROR:const c=l.getResponseJson();De(xs,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case $N.TIMEOUT:De(xs,`RPC '${t}' ${s} timed out`),a(new Ue(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case $N.HTTP_ERROR:const d=l.getStatus();if(De(xs,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const g=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(_)>=0?_:Oe.UNKNOWN}(m.status);a(new Ue(g,m.message))}else a(new Ue(Oe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ue(Oe.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{De(xs,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);De(xs,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=AN(),s=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=ZHe(),a=eWe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new rWe({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");De(xs,`Creating RPC '${t}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let d=!1,h=!1;const m=new iGe({Wr:y=>{h?De(xs,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(De(xs,`Opening RPC '${t}' stream ${i} transport.`),c.open(),d=!0),De(xs,`RPC '${t}' stream ${i} sending:`,y),c.send(y))},Hr:()=>c.close()}),g=(y,_,v)=>{y.listen(_,b=>{try{v(b)}catch(S){setTimeout(()=>{throw S},0)}})};return g(c,TS.EventType.OPEN,()=>{h||De(xs,`RPC '${t}' stream ${i} transport opened.`)}),g(c,TS.EventType.CLOSE,()=>{h||(h=!0,De(xs,`RPC '${t}' stream ${i} transport closed`),m.so())}),g(c,TS.EventType.ERROR,y=>{h||(h=!0,UD(xs,`RPC '${t}' stream ${i} transport errored:`,y),m.so(new Ue(Oe.UNAVAILABLE,"The operation could not be completed")))}),g(c,TS.EventType.MESSAGE,y=>{var _;if(!h){const v=y.data[0];vt(!!v);const b=v,S=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(S){De(xs,`RPC '${t}' stream ${i} received error:`,S);const x=S.status;let $=function(I){const T=fi[I];if(T!==void 0)return eue(T)}(x),E=S.message;$===void 0&&($=Oe.INTERNAL,E="Unknown error status: "+x+" with message "+S.message),h=!0,m.so(new Ue($,E)),c.close()}else De(xs,`RPC '${t}' stream ${i} received:`,v),m.io(v)}}),g(a,nWe.STAT_EVENT,y=>{y.stat===tq.PROXY?De(xs,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===tq.NOPROXY&&De(xs,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.no()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nue(){return typeof window<"u"?window:null}function Mx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(e){return new mqe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(t,n,r,i,s,o,a,l){this.Ws=t,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Rue(t,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(t,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,t!==4?this.Co.reset():n&&n.code===Oe.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{t(()=>{const i=new Ue(Oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(t,n){const r=this.Uo(this.Vo);this.stream=this.Qo(t,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(t){return De("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===t?n():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oGe extends Due{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Co.reset();const n=vqe(this.serializer,t),r=function(i){if(!("targetChange"in i))return _t.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?_t.min():s.readTime?Ys(s.readTime):_t.min()}(t);return this.listener.zo(n,r)}jo(t){const n={};n.database=tM(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=BO(a)?{documents:aue(i,a)}:{query:lue(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=rue(i,s.resumeToken):s.snapshotVersion.compareTo(_t.min())>0&&(o.readTime=fy(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,t);const r=wqe(this.serializer,t);r&&(n.labels=r),this.Fo(n)}Wo(t){const n={};n.database=tM(this.serializer),n.removeTarget=t,this.Fo(n)}}class aGe extends Due{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const n=_qe(t.writeResults,t.commitTime),r=Ys(t.commitTime);return this.listener.Zo(r,n)}return vt(!t.writeResults||t.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=tM(this.serializer),this.Fo(t)}Yo(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>UO(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lGe extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new Ue(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ue(Oe.UNKNOWN,i.toString())})}fo(t,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ue(Oe.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class uGe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,t==="Online"&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(ai(n),this.ru=!1):De("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cGe{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Xp(this)&&(De("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ut(a);l.du.add(4),await Yy(l),l.mu.set("Unknown"),l.du.delete(4),await O1(l)}(this))})}),this.mu=new uGe(r,i)}}async function O1(e){if(Xp(e))for(const t of e.wu)await t(!0)}async function Yy(e){for(const t of e.wu)await t(!1)}function zP(e,t){const n=ut(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),o6(n)?s6(n):Xy(n).No()&&i6(n,t))}function pw(e,t){const n=ut(e),r=Xy(n);n.fu.delete(t),r.No()&&Mue(n,t),n.fu.size===0&&(r.No()?r.$o():Xp(n)&&n.mu.set("Unknown"))}function i6(e,t){e.gu.Ot(t.targetId),Xy(e).jo(t)}function Mue(e,t){e.gu.Ot(t),Xy(e).Wo(t)}function s6(e){e.gu=new fqe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.fu.get(t)||null}),Xy(e).start(),e.mu.ou()}function o6(e){return Xp(e)&&!Xy(e).xo()&&e.fu.size>0}function Xp(e){return ut(e).du.size===0}function Lue(e){e.gu=void 0}async function fGe(e){e.fu.forEach((t,n)=>{i6(e,t)})}async function dGe(e,t){Lue(e),o6(e)?(e.mu.au(t),s6(e)):e.mu.set("Unknown")}async function hGe(e,t,n){if(e.mu.set("Online"),t instanceof nue&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(e,t)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await QO(e,r)}else if(t instanceof Dx?e.gu.Kt(t):t instanceof tue?e.gu.Jt(t):e.gu.zt(t),!n.isEqual(_t.min()))try{const r=await Cue(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(Hi.EMPTY_BYTE_STRING,l.snapshotVersion)),Mue(i,a);const u=new md(l.target,a,1,l.sequenceNumber);i6(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){De("RemoteStore","Failed to raise snapshot:",r),await QO(e,r)}}async function QO(e,t,n){if(!Gd(t))throw t;e.du.add(1),await Yy(e),e.mu.set("Offline"),n||(n=()=>Cue(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{De("RemoteStore","Retrying IndexedDB access"),await n(),e.du.delete(1),await O1(e)})}function Fue(e,t){return t().catch(n=>QO(e,n,t))}async function Qy(e){const t=ut(e),n=Cd(t);let r=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;pGe(t);)try{const i=await tGe(t.localStore,r);if(i===null){t.lu.length===0&&n.$o();break}r=i.batchId,mGe(t,i)}catch(i){await QO(t,i)}jue(t)&&Bue(t)}function pGe(e){return Xp(e)&&e.lu.length<10}function mGe(e,t){e.lu.push(t);const n=Cd(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function jue(e){return Xp(e)&&!Cd(e).xo()&&e.lu.length>0}function Bue(e){Cd(e).start()}async function gGe(e){Cd(e).tu()}async function yGe(e){const t=Cd(e);for(const n of e.lu)t.Yo(n.mutations)}async function vGe(e,t,n){const r=e.lu.shift(),i=Gj.from(r,t,n);await Fue(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Qy(e)}async function _Ge(e,t){t&&Cd(e).Jo&&await async function(n,r){if(i=r.code,cqe(i)&&i!==Oe.ABORTED){const s=n.lu.shift();Cd(n).Oo(),await Fue(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Qy(n)}var i}(e,t),jue(e)&&Bue(e)}async function Gq(e,t){const n=ut(e);n.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=Xp(n);n.du.add(3),await Yy(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.du.delete(3),await O1(n)}async function lM(e,t){const n=ut(e);t?(n.du.delete(2),await O1(n)):t||(n.du.add(2),await Yy(n),n.mu.set("Unknown"))}function Xy(e){return e.yu||(e.yu=function(t,n,r){const i=ut(t);return i.nu(),new oGe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:fGe.bind(null,e),Zr:dGe.bind(null,e),zo:hGe.bind(null,e)}),e.wu.push(async t=>{t?(e.yu.Oo(),o6(e)?s6(e):e.mu.set("Unknown")):(await e.yu.stop(),Lue(e))})),e.yu}function Cd(e){return e.pu||(e.pu=function(t,n,r){const i=ut(t);return i.nu(),new aGe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:gGe.bind(null,e),Zr:_Ge.bind(null,e),Xo:yGe.bind(null,e),Zo:vGe.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Oo(),await Qy(e)):(await e.pu.stop(),e.lu.length>0&&(De("RemoteStore",`Stopping write stream with ${e.lu.length} pending writes`),e.lu=[]))})),e.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new a6(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(Oe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l6(e,t){if(ai("AsyncQueue",`${t}: ${e}`),Gd(e))return new Ue(Oe.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Qe.comparator(n.key,r.key):(n,r)=>Qe.comparator(n.key,r.key),this.keyedMap=P0(),this.sortedSet=new Zr(this.comparator)}static emptySet(t){return new Cg(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Cg)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Cg;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this.Iu=new Zr(Qe.comparator)}track(t){const n=t.doc.key,r=this.Iu.get(n);r?t.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,t):t.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Iu=this.Iu.remove(n):t.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):at():this.Iu=this.Iu.insert(n,t)}Tu(){const t=[];return this.Iu.inorderTraversal((n,r)=>{t.push(r)}),t}}let XO=class zue{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zue(t,n,Cg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&AP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wGe{constructor(){this.Eu=void 0,this.listeners=[]}}class bGe{constructor(){this.queries=new Kd(t=>jle(t),AP),this.onlineState="Unknown",this.Au=new Set}}async function Vue(e,t){const n=ut(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new wGe),i)try{s.Eu=await n.onListen(r)}catch(o){const a=l6(o,`Initialization of query '${ZD(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Ru(n.onlineState),s.Eu&&t.vu(s.Eu)&&u6(n)}async function Uue(e,t){const n=ut(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function SGe(e,t){const n=ut(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&u6(n)}function xGe(e,t,n){const r=ut(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function u6(e){e.Au.forEach(t=>{t.next()})}class Hue{constructor(t,n,r){this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new XO(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),n=!0):this.Du(t,this.onlineState)&&(this.Cu(t),n=!0),this.Vu=t,n}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),n=!0),n}Du(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Su(t){if(t.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(t){t=XO.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wue{constructor(t){this.key=t}}class que{constructor(t){this.key=t}}class EGe{constructor(t,n){this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=un(),this.mutatedKeys=un(),this.Ku=zle(t),this.Gu=new Cg(this.Ku)}get Qu(){return this.Lu}zu(t,n){const r=n?n.ju:new Kq,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),m=x1(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;h&&m?h.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),_=!0):this.Wu(h,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Ku(m,l)>0||u&&this.Ku(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),_=!0):h&&!m&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(m?(o=o.add(m),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.ju.Tu();s.sort((u,c)=>function(d,h){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return m(d)-m(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new XO(this.query,t.Gu,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Kq,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=un(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return t.forEach(r=>{this.Uu.has(r)||n.push(new que(r))}),this.Uu.forEach(r=>{t.has(r)||n.push(new Wue(r))}),n}Xu(t){this.Lu=t.Wi,this.Uu=un();const n=this.zu(t.documents);return this.applyChanges(n,!0)}tc(){return XO.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class IGe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class OGe{constructor(t){this.key=t,this.ec=!1}}class $Ge{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Kd(a=>jle(a),AP),this.ic=new Map,this.rc=new Set,this.oc=new Zr(Qe.comparator),this.uc=new Map,this.cc=new Zj,this.ac={},this.hc=new Map,this.lc=Np.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function CGe(e,t){const n=p6(e);let r,i;const s=n.sc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await GO(n.localStore,nl(t));n.isPrimaryClient&&zP(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await c6(n,t,r,a==="current",o.resumeToken)}return i}async function c6(e,t,n,r,i){e.dc=(d,h,m)=>async function(g,y,_,v){let b=y.view.zu(_);b.Mi&&(b=await oM(g.localStore,y.query,!1).then(({documents:$})=>y.view.zu($,b)));const S=v&&v.targetChanges.get(y.targetId),x=y.view.applyChanges(b,g.isPrimaryClient,S);return uM(g,y.targetId,x.Yu),x.snapshot}(e,d,h,m);const s=await oM(e.localStore,t,!0),o=new EGe(t,s.Wi),a=o.zu(s.documents),l=I1.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);uM(e,n,u.Yu);const c=new IGe(t,n,o);return e.sc.set(t,c),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),u.snapshot}async function PGe(e,t){const n=ut(e),r=n.sc.get(t),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!AP(s,t))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),pw(n.remoteStore,r.targetId),hy(n,r.targetId)}).catch(qd)):(hy(n,r.targetId),await dy(n.localStore,r.targetId,!0))}async function TGe(e,t,n){const r=m6(e);try{const i=await function(s,o){const a=ut(s),l=zr.now(),u=o.reduce((h,m)=>h.add(m.key),un());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=na(),g=un();return a.Ki.getEntries(h,u).next(y=>{m=y,m.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(y=>{c=y;const _=[];for(const v of o){const b=lqe(v,c.get(v.key).overlayedDocument);b!=null&&_.push(new af(v.key,b,Cle(b.value.mapValue),ls.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(y=>{d=y;const _=y.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(h,y.batchId,_)})}).then(()=>({batchId:d.batchId,changes:Ule(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Zr(Xt)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Yd(r,i.changes),await Qy(r.remoteStore)}catch(i){const s=l6(i,"Failed to persist write");n.reject(s)}}async function Gue(e,t){const n=ut(e);try{const r=await Zqe(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?vt(o.ec):i.removedDocuments.size>0&&(vt(o.ec),o.ec=!1))}),await Yd(n,r,t)}catch(r){await qd(r)}}function Yq(e,t,n){const r=ut(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ut(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Ru(o)&&(l=!0)}),l&&u6(a)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function kGe(e,t,n){const r=ut(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.uc.get(t),s=i&&i.key;if(s){let o=new Zr(Qe.comparator);o=o.insert(s,Xr.newNoDocument(s,_t.min()));const a=un().add(s),l=new E1(_t.min(),new Map,new ar(Xt),o,a);await Gue(r,l),r.oc=r.oc.remove(s),r.uc.delete(t),h6(r)}else await dy(r.localStore,t,!1).then(()=>hy(r,t,n)).catch(qd)}async function AGe(e,t){const n=ut(e),r=t.batch.batchId;try{const i=await Jqe(n.localStore,t);d6(n,r,null),f6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,i)}catch(i){await qd(i)}}async function NGe(e,t,n){const r=ut(e);try{const i=await function(s,o){const a=ut(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(vt(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);d6(r,t,n),f6(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yd(r,i)}catch(i){await qd(i)}}function f6(e,t){(e.hc.get(t)||[]).forEach(n=>{n.resolve()}),e.hc.delete(t)}function d6(e,t,n){const r=ut(e);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function hy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ic.get(t))e.sc.delete(r),n&&e.nc.wc(r,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(r=>{e.cc.containsKey(r)||Kue(e,r)})}function Kue(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);n!==null&&(pw(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),h6(e))}function uM(e,t,n){for(const r of n)r instanceof Wue?(e.cc.addReference(r.key,t),RGe(e,r)):r instanceof que?(De("SyncEngine","Document no longer in limbo: "+r.key),e.cc.removeReference(r.key,t),e.cc.containsKey(r.key)||Kue(e,r.key)):at()}function RGe(e,t){const n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(De("SyncEngine","New document in limbo: "+n),e.rc.add(r),h6(e))}function h6(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new Qe(Gn.fromString(t)),r=e.lc.next();e.uc.set(r,new OGe(n)),e.oc=e.oc.insert(n,r),zP(e.remoteStore,new md(nl(kP(n.path)),r,2,Co.ct))}}async function Yd(e,t,n){const r=ut(e),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=n6.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=ut(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>be.forEach(l,d=>be.forEach(d.Vi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>be.forEach(d.Si,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Gd(c))throw c;De("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Li.get(d),m=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(m);u.Li=u.Li.insert(d,g)}}}(r.localStore,s))}async function DGe(e,t){const n=ut(e);if(!n.currentUser.isEqual(t)){De("SyncEngine","User change. New user:",t.toKey());const r=await $ue(n.localStore,t);n.currentUser=t,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new Ue(Oe.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.Qi)}}function MGe(e,t){const n=ut(e),r=n.uc.get(t);if(r&&r.ec)return un().add(r.key);{let i=un();const s=n.ic.get(t);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}async function LGe(e,t){const n=ut(e),r=await oM(n.localStore,t.query,!0),i=t.view.Xu(r);return n.isPrimaryClient&&uM(n,t.targetId,i.Yu),i}async function FGe(e,t){const n=ut(e);return Tue(n.localStore,t).then(r=>Yd(n,r))}async function jGe(e,t,n,r){const i=ut(e),s=await function(o,a){const l=ut(o),u=ut(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.In(c,a).next(d=>d?l.localDocuments.getDocuments(c,d):be.resolve(null)))}(i.localStore,t);s!==null?(n==="pending"?await Qy(i.remoteStore):n==="acknowledged"||n==="rejected"?(d6(i,t,r||null),f6(i,t),function(o,a){ut(ut(o).mutationQueue).En(a)}(i.localStore,t)):at(),await Yd(i,s)):De("SyncEngine","Cannot apply mutation batch with id: "+t)}async function BGe(e,t){const n=ut(e);if(p6(n),m6(n),t===!0&&n.fc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await Qq(n,r.toArray());n.fc=!0,await lM(n.remoteStore,!0);for(const s of i)zP(n.remoteStore,s)}else if(t===!1&&n.fc!==!1){const r=[];let i=Promise.resolve();n.ic.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(hy(n,o),dy(n.localStore,o,!0))),pw(n.remoteStore,o)}),await i,await Qq(n,r),function(s){const o=ut(s);o.uc.forEach((a,l)=>{pw(o.remoteStore,l)}),o.cc.ls(),o.uc=new Map,o.oc=new Zr(Qe.comparator)}(n),n.fc=!1,await lM(n.remoteStore,!1)}}async function Qq(e,t,n){const r=ut(e),i=[],s=[];for(const o of t){let a;const l=r.ic.get(o);if(l&&l.length!==0){a=await GO(r.localStore,nl(l[0]));for(const u of l){const c=r.sc.get(u),d=await LGe(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await Pue(r.localStore,o);a=await GO(r.localStore,u),await c6(r,Yue(u),o,!1,a.resumeToken)}i.push(a)}return r.nc.zo(s),i}function Yue(e){return Mle(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zGe(e){const t=ut(e);return ut(ut(t.localStore).persistence).bi()}async function VGe(e,t,n,r){const i=ut(e);if(i.fc)return void De("SyncEngine","Ignoring unexpected query state notification.");const s=i.ic.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await Tue(i.localStore,Ble(s[0])),a=E1.createSynthesizedRemoteEventForCurrentChange(t,n==="current",Hi.EMPTY_BYTE_STRING);await Yd(i,o,a);break}case"rejected":await dy(i.localStore,t,!0),hy(i,t,r);break;default:at()}}async function UGe(e,t,n){const r=p6(e);if(r.fc){for(const i of t){if(r.ic.has(i)){De("SyncEngine","Adding an already active target "+i);continue}const s=await Pue(r.localStore,i),o=await GO(r.localStore,s);await c6(r,Yue(s),o.targetId,!1,o.resumeToken),zP(r.remoteStore,o)}for(const i of n)r.ic.has(i)&&await dy(r.localStore,i,!1).then(()=>{pw(r.remoteStore,i),hy(r,i)}).catch(qd)}}function p6(e){const t=ut(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gue.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MGe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kGe.bind(null,t),t.nc.zo=SGe.bind(null,t.eventManager),t.nc.wc=xGe.bind(null,t.eventManager),t}function m6(e){const t=ut(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AGe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NGe.bind(null,t),t}class cM{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=BP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Oue(this.persistence,new Iue,t.initialUser,this.serializer)}createPersistence(t){return new Eue(jP.Fs,this.serializer)}createSharedClientState(t){return new Aue}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Que extends cM{constructor(t,n,r){super(),this.mc=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.mc.initialize(this,t),await m6(this.mc.syncEngine),await Qy(this.mc.remoteStore),await this.persistence.hi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(t){return Oue(this.persistence,new Iue,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Lqe(r,t.asyncQueue,n)}createIndexBackfillerScheduler(t,n){const r=new vWe(n,this.persistence);return new yWe(t.asyncQueue,r)}createPersistence(t){const n=t6(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new e6(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,Nue(),Mx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Aue}}class HGe extends Que{constructor(t,n){super(t,n,!1),this.mc=t,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const n=this.mc.syncEngine;this.sharedClientState instanceof kN&&(this.sharedClientState.syncEngine={$r:jGe.bind(null,n),Mr:VGe.bind(null,n),Fr:UGe.bind(null,n),bi:zGe.bind(null,n),Or:FGe.bind(null,n)},await this.sharedClientState.start()),await this.persistence.hi(async r=>{await BGe(this.mc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(t){const n=Nue();if(!kN.D(n))throw new Ue(Oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=t6(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new kN(n,t.asyncQueue,r,t.clientId,t.initialUser)}}let g6=class{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Yq(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DGe.bind(null,this.syncEngine),await lM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new bGe}createDatastore(t){const n=BP(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new sGe(i));var i;return function(s,o,a,l){return new lGe(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>Yq(this.syncEngine,a,0),o=qq.D()?new qq:new nGe,new cGe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new $Ge(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=ut(t);De("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Yy(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):ai("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WGe{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Cs.UNAUTHENTICATED,this.clientId=fle.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{De("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(De("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=l6(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function NN(e,t){e.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $ue(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Xq(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jue(e);De("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Gq(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Gq(t.remoteStore,s)),e._onlineComponents=t}function qGe(e){return e.name==="FirebaseError"?e.code===Oe.FAILED_PRECONDITION||e.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Jue(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{await NN(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!qGe(n))throw n;UD("Error using user provided cache. Falling back to memory cache: "+n),await NN(e,new cM)}}else De("FirestoreClient","Using default OfflineComponentProvider"),await NN(e,new cM);return e._offlineComponents}async function y6(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),await Xq(e,e._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),await Xq(e,new g6))),e._onlineComponents}function Zue(e){return Jue(e).then(t=>t.persistence)}function ece(e){return y6(e).then(t=>t.remoteStore)}function GGe(e){return y6(e).then(t=>t.syncEngine)}async function tce(e){const t=await y6(e),n=t.eventManager;return n.onListen=CGe.bind(null,t.syncEngine),n.onUnlisten=PGe.bind(null,t.syncEngine),n}function KGe(e){return e.asyncQueue.enqueue(async()=>{const t=await Zue(e),n=await ece(e);return t.setNetworkEnabled(!0),function(r){const i=ut(r);return i.du.delete(0),O1(i)}(n)})}function YGe(e){return e.asyncQueue.enqueue(async()=>{const t=await Zue(e),n=await ece(e);return t.setNetworkEnabled(!1),async function(r){const i=ut(r);i.du.add(0),await Yy(i),i.mu.set("Offline")}(n)})}function QGe(e,t,n={}){const r=new Fl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Xue({next:d=>{s.enqueueAndForget(()=>Uue(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new Ue(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new Ue(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Hue(kP(o.path),u,{includeMetadataChanges:!0,xu:!0});return Vue(i,c)}(await tce(e),e.asyncQueue,t,n,r)),r.promise}function XGe(e,t,n={}){const r=new Fl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Xue({next:d=>{s.enqueueAndForget(()=>Uue(i,c)),d.fromCache&&a.source==="server"?l.reject(new Ue(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Hue(o,u,{includeMetadataChanges:!0,xu:!0});return Vue(i,c)}(await tce(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nce(e,t,n){if(!n)throw new Ue(Oe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function JGe(e,t,n,r){if(t===!0&&r===!0)throw new Ue(Oe.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Zq(e){if(!Qe.isDocumentKey(e))throw new Ue(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function eG(e){if(Qe.isDocumentKey(e))throw new Ue(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function VP(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":at()}function Ul(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ue(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=VP(e);throw new Ue(Oe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Ue(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ue(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,JGe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Ue(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tG(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new oWe;switch(n.type){case"firstParty":return new uWe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ue(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Jq.get(t);n&&(De("ComponentProvider","Removing Datastore"),Jq.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qs(this.firestore,t,this._key)}}class Jy{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Jy(this.firestore,t,this._query)}}class gd extends Jy{constructor(t,n,r){super(t,n,kP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qs(this.firestore,null,new Qe(t))}withConverter(t){return new gd(this.firestore,t,this._path)}}function _6(e,t,...n){if(e=li(e),nce("collection","path",t),e instanceof v6){const r=Gn.fromString(t,...n);return eG(r),new gd(e,null,r)}{if(!(e instanceof Qs||e instanceof gd))throw new Ue(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Gn.fromString(t,...n));return eG(r),new gd(e.firestore,null,r)}}function jl(e,t,...n){if(e=li(e),arguments.length===1&&(t=fle.A()),nce("doc","path",t),e instanceof v6){const r=Gn.fromString(t,...n);return Zq(r),new Qs(e,null,new Qe(r))}{if(!(e instanceof Qs||e instanceof gd))throw new Ue(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Gn.fromString(t,...n));return Zq(r),new Qs(e.firestore,e instanceof gd?e.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZGe{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Rue(this,"async_queue_retry"),this.qc=()=>{const n=Mx();n&&De("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=Mx();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=Mx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new Fl;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!Gd(t))throw t;De("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=a6.createAndSchedule(this,t,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&at()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eKe=-1;class Qd extends v6{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new ZGe,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rce(this),this._firestoreClient.terminate()}}function tKe(e,t,n){n||(n="(default)");const r=Gp(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Z_(s,t))return i;throw new Ue(Oe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Ue(Oe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ue(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Zy(e){return e._firestoreClient||rce(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rce(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new jWe(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new WGe(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function nKe(e){if(e._initialized&&!e._terminated)throw new Ue(Oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Fl;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!kl.D())return Promise.resolve();const r=n+"main";await kl.delete(r)}(t6(e._databaseId,e._persistenceKey)),t.resolve()}catch(n){t.reject(n)}}),t.promise}function rKe(e){return KGe(Zy(e=Ul(e,Qd)))}function iKe(e){return YGe(Zy(e=Ul(e,Qd)))}function sKe(e){return W7e(e.app,"firestore",e._databaseId.database),e._delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t){this._byteString=t}static fromBase64String(t){try{return new py(Hi.fromBase64String(t))}catch(n){throw new Ue(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new py(Hi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ue(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ue(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ue(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oKe=/^__.*__$/;class aKe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new af(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ky(t,this.data,n,this.fieldTransforms)}}class ice{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new af(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function sce(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class S6{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new S6(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.ea(t),i}na(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return JO(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(t.length===0)throw this.ia("Document fields must not be empty");if(sce(this.Yc)&&oKe.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class lKe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||BP(t)}ua(t,n,r,i=!1){return new S6({Yc:t,methodName:n,oa:r,path:yi.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UP(e){const t=e._freezeSettings(),n=BP(e._databaseId);return new lKe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function oce(e,t,n,r,i,s={}){const o=e.ua(s.merge||s.mergeFields?2:0,t,n,i);x6("Data must be an object, but it was:",o,r);const a=uce(r,o);let l,u;if(s.merge)l=new Po(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=fM(t,d,n);if(!o.contains(h))throw new Ue(Oe.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fce(c,h)||c.push(h)}l=new Po(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new aKe(new ks(a),l,u)}class HP extends w6{_toFieldTransform(t){if(t.Yc!==2)throw t.Yc===1?t.ia(`${this._methodName}() can only appear at the top level of your update data`):t.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof HP}}function ace(e,t,n,r){const i=e.ua(1,t,n);x6("Data must be an object, but it was:",i,r);const s=[],o=ks.empty();Qp(r,(l,u)=>{const c=E6(t,l,n);u=li(u);const d=i.na(c);if(u instanceof HP)s.push(c);else{const h=C1(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Po(s);return new ice(o,a,i.fieldTransforms)}function lce(e,t,n,r,i,s){const o=e.ua(1,t,n),a=[fM(t,r,n)],l=[i];if(s.length%2!=0)throw new Ue(Oe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(fM(t,s[h])),l.push(s[h+1]);const u=[],c=ks.empty();for(let h=a.length-1;h>=0;--h)if(!fce(u,a[h])){const m=a[h];let g=l[h];g=li(g);const y=o.na(m);if(g instanceof HP)u.push(m);else{const _=C1(g,y);_!=null&&(u.push(m),c.set(m,_))}}const d=new Po(u);return new ice(c,d,o.fieldTransforms)}function uKe(e,t,n,r=!1){return C1(n,e.ua(r?4:3,t))}function C1(e,t){if(cce(e=li(e)))return x6("Unsupported field value:",t,e),uce(e,t);if(e instanceof w6)return function(n,r){if(!sce(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&t.Yc!==4)throw t.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=C1(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=li(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tqe(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=zr.fromDate(n);return{timestampValue:fy(r.serializer,i)}}if(n instanceof zr){const i=new zr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fy(r.serializer,i)}}if(n instanceof b6)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof py)return{bytesValue:rue(r.serializer,n._byteString)};if(n instanceof Qs){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qj(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${VP(n)}`)}(e,t)}function uce(e,t){const n={};return Ele(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qp(e,(r,i)=>{const s=C1(i,t.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function cce(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof zr||e instanceof b6||e instanceof py||e instanceof Qs||e instanceof w6)}function x6(e,t,n){if(!cce(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=VP(n);throw r==="an object"?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function fM(e,t,n){if((t=li(t))instanceof $1)return t._internalPath;if(typeof t=="string")return E6(e,t);throw JO("Field path arguments must be of type string or ",e,!1,void 0,n)}const cKe=new RegExp("[~\\*/\\[\\]]");function E6(e,t,n){if(t.search(cKe)>=0)throw JO(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new $1(...t.split("."))._internalPath}catch{throw JO(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function JO(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ue(Oe.INVALID_ARGUMENT,a+e+l)}function fce(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fKe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(I6("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fKe extends dce{data(){return super.data()}}function I6(e,t){return typeof t=="string"?E6(e,t):t instanceof $1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dKe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ue(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O6{}class hKe extends O6{}function hce(e,t,...n){let r=[];t instanceof O6&&r.push(t),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof $6).length,o=i.filter(a=>a instanceof WP).length;if(s>1||s>0&&o>0)throw new Ue(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class WP extends hKe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new WP(t,n,r)}_apply(t){const n=this._parse(t);return pce(t._query,n),new Jy(t.firestore,t.converter,XD(t._query,n))}_parse(t){const n=UP(t.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ue(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){rG(c,u);const h=[];for(const m of c)h.push(nG(a,i,m));d={arrayValue:{values:h}}}else d=nG(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||rG(c,u),d=uKe(o,s,c,u==="in"||u==="not-in");return mn.create(l,u,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function pKe(e,t,n){const r=t,i=I6("where",e);return WP._create(i,r,n)}class $6 extends O6{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new $6(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)pce(s,a),s=XD(s,a)}(t._query,n),new Jy(t.firestore,t.converter,XD(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nG(e,t,n){if(typeof(n=li(n))=="string"){if(n==="")throw new Ue(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fle(t)&&n.indexOf("/")!==-1)throw new Ue(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Gn.fromString(n));if(!Qe.isDocumentKey(r))throw new Ue(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cw(e,new Qe(r))}if(n instanceof Qs)return cw(e,n._key);throw new Ue(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${VP(n)}.`)}function rG(e,t){if(!Array.isArray(e)||e.length===0)throw new Ue(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pce(e,t){if(t.isInequality()){const r=Wj(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new Ue(Oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Lle(e);s!==null&&mKe(e,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ue(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ue(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function mKe(e,t,n){if(!n.isEqual(t))throw new Ue(Oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class gKe{convertValue(t,n="none"){switch(Pp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($p(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw at()}}convertObject(t,n){const r={};return Qp(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new b6(Gr(t.latitude),Gr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Ole(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lw(t));default:return null}}convertTimestamp(t){const n=Od(t);return new zr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Gn.fromString(t);vt(due(r));const i=new Cp(r.get(1),r.get(3)),s=new Qe(r.popFirst(5));return i.isEqual(n)||ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mce(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gce extends dce{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Lx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(I6("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lx extends gce{data(t={}){return super.data(t)}}class yKe{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new k0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Lx(this._firestore,this._userDataWriter,r.key,r,new k0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Lx(r._firestore,r._userDataWriter,o.doc.key,o.doc,new k0(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Lx(r._firestore,r._userDataWriter,o.doc.key,o.doc,new k0(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:vKe(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vKe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(e){e=Ul(e,Qs);const t=Ul(e.firestore,Qd);return QGe(Zy(t),e._key).then(n=>wKe(t,e,n))}class yce extends gKe{constructor(t){super(),this.firestore=t}convertBytes(t){return new py(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Qs(this.firestore,null,n)}}function vce(e){e=Ul(e,Jy);const t=Ul(e.firestore,Qd),n=Zy(t),r=new yce(t);return dKe(e._query),XGe(n,e._query).then(i=>new yKe(t,r,e,i))}function _Ke(e,t,n){e=Ul(e,Qs);const r=Ul(e.firestore,Qd),i=mce(e.converter,t,n);return P6(r,[oce(UP(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,ls.none())])}function C6(e,t,n,...r){e=Ul(e,Qs);const i=Ul(e.firestore,Qd),s=UP(i);let o;return o=typeof(t=li(t))=="string"||t instanceof $1?lce(s,"updateDoc",e._key,t,n,r):ace(s,"updateDoc",e._key,t),P6(i,[o.toMutation(e._key,ls.exists(!0))])}function P6(e,t){return function(n,r){const i=new Fl;return n.asyncQueue.enqueueAndForget(async()=>TGe(await GGe(n),r,i)),i.promise}(Zy(e),t)}function wKe(e,t,n){const r=n.docs.get(t._key),i=new yce(e);return new gce(e,i,t._key,r,new k0(n.hasPendingWrites,n.fromCache),t.converter)}let bKe=class{constructor(t){let n;this.kind="persistent",t!=null&&t.tabManager?(t.tabManager._initialize(t),n=t.tabManager):(n=IKe(void 0),n._initialize(t)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}};function SKe(e){return new bKe(e)}class xKe{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=new g6,this._offlineComponentProvider=new Que(this._onlineComponentProvider,t==null?void 0:t.cacheSizeBytes,this.forceOwnership)}}class EKe{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=new g6,this._offlineComponentProvider=new HGe(this._onlineComponentProvider,t==null?void 0:t.cacheSizeBytes)}}function IKe(e){return new xKe(e==null?void 0:e.forceOwnership)}function OKe(){return new EKe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Ke{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=UP(t)}set(t,n,r){this._verifyNotCommitted();const i=RN(t,this._firestore),s=mce(i.converter,n,r),o=oce(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ls.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=RN(t,this._firestore);let o;return o=typeof(n=li(n))=="string"||n instanceof $1?lce(this._dataReader,"WriteBatch.update",s._key,n,r,i):ace(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ls.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=RN(t,this._firestore);return this._mutations=this._mutations.concat(new MP(n._key,ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(Oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function RN(e,t){if((e=li(e)).firestore!==t)throw new Ue(Oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ce(e){return Zy(e=Ul(e,Qd)),new $Ke(e,t=>P6(e,t))}(function(e,t=!0){(function(n){Gy=n})(Kp),zc(new Ru("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Qd(new aWe(n.getProvider("auth-internal")),new fWe(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ue(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cp(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ll(nq,"3.10.0",e),Ll(nq,"3.10.0","esm2017")})();function FS(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wce={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof FS=="function"&&FS;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(g){var y=r[u][1][g];return o(y||g)},m,m.exports,n,r,i,s)}return i[u].exports}for(var a=typeof FS=="function"&&FS,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,u=new o(g),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=g,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var _=s.document.createElement("script");_.onreadystatechange=function(){g(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.document.documentElement.appendChild(_)}:a=function(){setTimeout(g,0)};var h,m=[];function g(){h=!0;for(var _,v,b=m.length;b;){for(v=m,m=[],_=-1;++_<b;)v[_]();b=m.length}h=!1}r.exports=y;function y(_){m.push(_)===1&&!h&&a()}}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,$!==o&&y(this,$)}d.prototype.catch=function($){return this.then(null,$)},d.prototype.then=function($,E){if(typeof $!="function"&&this.state===u||typeof E!="function"&&this.state===l)return this;var I=new this.constructor(o);if(this.state!==c){var T=this.state===u?$:E;m(I,T,this.outcome)}else this.queue.push(new h(I,$,E));return I};function h($,E,I){this.promise=$,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function($){a.resolve(this.promise,$)},h.prototype.otherCallFulfilled=function($){m(this.promise,this.onFulfilled,$)},h.prototype.callRejected=function($){a.reject(this.promise,$)},h.prototype.otherCallRejected=function($){m(this.promise,this.onRejected,$)};function m($,E,I){s(function(){var T;try{T=E(I)}catch(M){return a.reject($,M)}T===$?a.reject($,new TypeError("Cannot resolve promise with itself")):a.resolve($,T)})}a.resolve=function($,E){var I=_(g,E);if(I.status==="error")return a.reject($,I.value);var T=I.value;if(T)y($,T);else{$.state=u,$.outcome=E;for(var M=-1,U=$.queue.length;++M<U;)$.queue[M].callFulfilled(E)}return $},a.reject=function($,E){$.state=l,$.outcome=E;for(var I=-1,T=$.queue.length;++I<T;)$.queue[I].callRejected(E);return $};function g($){var E=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof E=="function")return function(){E.apply($,arguments)}}function y($,E){var I=!1;function T(H){I||(I=!0,a.reject($,H))}function M(H){I||(I=!0,a.resolve($,H))}function U(){E(M,T)}var z=_(U);z.status==="error"&&T(z.value)}function _($,E){var I={};try{I.value=$(E),I.status="success"}catch(T){I.status="error",I.value=T}return I}d.resolve=v;function v($){return $ instanceof this?$:a.resolve(new this(o),$)}d.reject=b;function b($){var E=new this(o);return a.reject(E,$)}d.all=S;function S($){var E=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=$.length,T=!1;if(!I)return this.resolve([]);for(var M=new Array(I),U=0,z=-1,H=new this(o);++z<I;)q($[z],z);return H;function q(B,ue){E.resolve(B).then(le,function(pe){T||(T=!0,a.reject(H,pe))});function le(pe){M[ue]=pe,++U===I&&!T&&(T=!0,a.resolve(H,M))}}}d.race=x;function x($){var E=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=$.length,T=!1;if(!I)return this.resolve([]);for(var M=-1,U=new this(o);++M<I;)z($[M]);return U;function z(H){E.resolve(H).then(function(q){T||(T=!0,a.resolve(U,q))},function(q){T||(T=!0,a.reject(U,q))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function o(F,J){if(!(F instanceof J))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var F=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),J=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!F||J)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(F,J){F=F||[],J=J||{};try{return new Blob(F,J)}catch(ie){if(ie.name!=="TypeError")throw ie;for(var W=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,se=new W,ce=0;ce<F.length;ce+=1)se.append(F[ce]);return se.getBlob(J.type)}}typeof Promise>"u"&&n(3);var d=Promise;function h(F,J){J&&F.then(function(W){J(null,W)},function(W){J(W)})}function m(F,J,W){typeof J=="function"&&F.then(J),typeof W=="function"&&F.catch(W)}function g(F){return typeof F!="string"&&(console.warn(F+" used as a key, but it is not a string."),F=String(F)),F}function y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",v=void 0,b={},S=Object.prototype.toString,x="readonly",$="readwrite";function E(F){for(var J=F.length,W=new ArrayBuffer(J),se=new Uint8Array(W),ce=0;ce<J;ce++)se[ce]=F.charCodeAt(ce);return W}function I(F){return new d(function(J){var W=F.transaction(_,$),se=c([""]);W.objectStore(_).put(se,"key"),W.onabort=function(ce){ce.preventDefault(),ce.stopPropagation(),J(!1)},W.oncomplete=function(){var ce=navigator.userAgent.match(/Chrome\/(\d+)/),ie=navigator.userAgent.match(/Edge\//);J(ie||!ce||parseInt(ce[1],10)>=43)}}).catch(function(){return!1})}function T(F){return typeof v=="boolean"?d.resolve(v):I(F).then(function(J){return v=J,v})}function M(F){var J=b[F.name],W={};W.promise=new d(function(se,ce){W.resolve=se,W.reject=ce}),J.deferredOperations.push(W),J.dbReady?J.dbReady=J.dbReady.then(function(){return W.promise}):J.dbReady=W.promise}function U(F){var J=b[F.name],W=J.deferredOperations.pop();if(W)return W.resolve(),W.promise}function z(F,J){var W=b[F.name],se=W.deferredOperations.pop();if(se)return se.reject(J),se.promise}function H(F,J){return new d(function(W,se){if(b[F.name]=b[F.name]||A(),F.db)if(J)M(F),F.db.close();else return W(F.db);var ce=[F.name];J&&ce.push(F.version);var ie=l.open.apply(l,ce);J&&(ie.onupgradeneeded=function(xe){var Re=ie.result;try{Re.createObjectStore(F.storeName),xe.oldVersion<=1&&Re.createObjectStore(_)}catch(Le){if(Le.name==="ConstraintError")console.warn('The database "'+F.name+'" has been upgraded from version '+xe.oldVersion+" to version "+xe.newVersion+', but the storage "'+F.storeName+'" already exists.');else throw Le}}),ie.onerror=function(xe){xe.preventDefault(),se(ie.error)},ie.onsuccess=function(){var xe=ie.result;xe.onversionchange=function(Re){Re.target.close()},W(xe),U(F)}})}function q(F){return H(F,!1)}function B(F){return H(F,!0)}function ue(F,J){if(!F.db)return!0;var W=!F.db.objectStoreNames.contains(F.storeName),se=F.version<F.db.version,ce=F.version>F.db.version;if(se&&(F.version!==J&&console.warn('The database "'+F.name+`" can't be downgraded from version `+F.db.version+" to version "+F.version+"."),F.version=F.db.version),ce||W){if(W){var ie=F.db.version+1;ie>F.version&&(F.version=ie)}return!0}return!1}function le(F){return new d(function(J,W){var se=new FileReader;se.onerror=W,se.onloadend=function(ce){var ie=btoa(ce.target.result||"");J({__local_forage_encoded_blob:!0,data:ie,type:F.type})},se.readAsBinaryString(F)})}function pe(F){var J=E(atob(F.data));return c([J],{type:F.type})}function Z(F){return F&&F.__local_forage_encoded_blob}function oe(F){var J=this,W=J._initReady().then(function(){var se=b[J._dbInfo.name];if(se&&se.dbReady)return se.dbReady});return m(W,F,F),W}function X(F){M(F);for(var J=b[F.name],W=J.forages,se=0;se<W.length;se++){var ce=W[se];ce._dbInfo.db&&(ce._dbInfo.db.close(),ce._dbInfo.db=null)}return F.db=null,q(F).then(function(ie){return F.db=ie,ue(F)?B(F):ie}).then(function(ie){F.db=J.db=ie;for(var xe=0;xe<W.length;xe++)W[xe]._dbInfo.db=ie}).catch(function(ie){throw z(F,ie),ie})}function k(F,J,W,se){se===void 0&&(se=1);try{var ce=F.db.transaction(F.storeName,J);W(null,ce)}catch(ie){if(se>0&&(!F.db||ie.name==="InvalidStateError"||ie.name==="NotFoundError"))return d.resolve().then(function(){if(!F.db||ie.name==="NotFoundError"&&!F.db.objectStoreNames.contains(F.storeName)&&F.version<=F.db.version)return F.db&&(F.version=F.db.version+1),B(F)}).then(function(){return X(F).then(function(){k(F,J,W,se-1)})}).catch(W);W(ie)}}function A(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function K(F){var J=this,W={db:null};if(F)for(var se in F)W[se]=F[se];var ce=b[W.name];ce||(ce=A(),b[W.name]=ce),ce.forages.push(J),J._initReady||(J._initReady=J.ready,J.ready=oe);var ie=[];function xe(){return d.resolve()}for(var Re=0;Re<ce.forages.length;Re++){var Le=ce.forages[Re];Le!==J&&ie.push(Le._initReady().catch(xe))}var Fe=ce.forages.slice(0);return d.all(ie).then(function(){return W.db=ce.db,q(W)}).then(function(Be){return W.db=Be,ue(W,J._defaultConfig.version)?B(W):Be}).then(function(Be){W.db=ce.db=Be,J._dbInfo=W;for(var ot=0;ot<Fe.length;ot++){var tn=Fe[ot];tn!==J&&(tn._dbInfo.db=W.db,tn._dbInfo.version=W.version)}})}function D(F,J){var W=this;F=g(F);var se=new d(function(ce,ie){W.ready().then(function(){k(W._dbInfo,x,function(xe,Re){if(xe)return ie(xe);try{var Le=Re.objectStore(W._dbInfo.storeName),Fe=Le.get(F);Fe.onsuccess=function(){var Be=Fe.result;Be===void 0&&(Be=null),Z(Be)&&(Be=pe(Be)),ce(Be)},Fe.onerror=function(){ie(Fe.error)}}catch(Be){ie(Be)}})}).catch(ie)});return h(se,J),se}function R(F,J){var W=this,se=new d(function(ce,ie){W.ready().then(function(){k(W._dbInfo,x,function(xe,Re){if(xe)return ie(xe);try{var Le=Re.objectStore(W._dbInfo.storeName),Fe=Le.openCursor(),Be=1;Fe.onsuccess=function(){var ot=Fe.result;if(ot){var tn=ot.value;Z(tn)&&(tn=pe(tn));var Pn=F(tn,ot.key,Be++);Pn!==void 0?ce(Pn):ot.continue()}else ce()},Fe.onerror=function(){ie(Fe.error)}}catch(ot){ie(ot)}})}).catch(ie)});return h(se,J),se}function Y(F,J,W){var se=this;F=g(F);var ce=new d(function(ie,xe){var Re;se.ready().then(function(){return Re=se._dbInfo,S.call(J)==="[object Blob]"?T(Re.db).then(function(Le){return Le?J:le(J)}):J}).then(function(Le){k(se._dbInfo,$,function(Fe,Be){if(Fe)return xe(Fe);try{var ot=Be.objectStore(se._dbInfo.storeName);Le===null&&(Le=void 0);var tn=ot.put(Le,F);Be.oncomplete=function(){Le===void 0&&(Le=null),ie(Le)},Be.onabort=Be.onerror=function(){var Pn=tn.error?tn.error:tn.transaction.error;xe(Pn)}}catch(Pn){xe(Pn)}})}).catch(xe)});return h(ce,W),ce}function fe(F,J){var W=this;F=g(F);var se=new d(function(ce,ie){W.ready().then(function(){k(W._dbInfo,$,function(xe,Re){if(xe)return ie(xe);try{var Le=Re.objectStore(W._dbInfo.storeName),Fe=Le.delete(F);Re.oncomplete=function(){ce()},Re.onerror=function(){ie(Fe.error)},Re.onabort=function(){var Be=Fe.error?Fe.error:Fe.transaction.error;ie(Be)}}catch(Be){ie(Be)}})}).catch(ie)});return h(se,J),se}function he(F){var J=this,W=new d(function(se,ce){J.ready().then(function(){k(J._dbInfo,$,function(ie,xe){if(ie)return ce(ie);try{var Re=xe.objectStore(J._dbInfo.storeName),Le=Re.clear();xe.oncomplete=function(){se()},xe.onabort=xe.onerror=function(){var Fe=Le.error?Le.error:Le.transaction.error;ce(Fe)}}catch(Fe){ce(Fe)}})}).catch(ce)});return h(W,F),W}function ge(F){var J=this,W=new d(function(se,ce){J.ready().then(function(){k(J._dbInfo,x,function(ie,xe){if(ie)return ce(ie);try{var Re=xe.objectStore(J._dbInfo.storeName),Le=Re.count();Le.onsuccess=function(){se(Le.result)},Le.onerror=function(){ce(Le.error)}}catch(Fe){ce(Fe)}})}).catch(ce)});return h(W,F),W}function ve(F,J){var W=this,se=new d(function(ce,ie){if(F<0){ce(null);return}W.ready().then(function(){k(W._dbInfo,x,function(xe,Re){if(xe)return ie(xe);try{var Le=Re.objectStore(W._dbInfo.storeName),Fe=!1,Be=Le.openKeyCursor();Be.onsuccess=function(){var ot=Be.result;if(!ot){ce(null);return}F===0||Fe?ce(ot.key):(Fe=!0,ot.advance(F))},Be.onerror=function(){ie(Be.error)}}catch(ot){ie(ot)}})}).catch(ie)});return h(se,J),se}function ke(F){var J=this,W=new d(function(se,ce){J.ready().then(function(){k(J._dbInfo,x,function(ie,xe){if(ie)return ce(ie);try{var Re=xe.objectStore(J._dbInfo.storeName),Le=Re.openKeyCursor(),Fe=[];Le.onsuccess=function(){var Be=Le.result;if(!Be){se(Fe);return}Fe.push(Be.key),Be.continue()},Le.onerror=function(){ce(Le.error)}}catch(Be){ce(Be)}})}).catch(ce)});return h(W,F),W}function ye(F,J){J=y.apply(this,arguments);var W=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||W.name,F.storeName=F.storeName||W.storeName);var se=this,ce;if(!F.name)ce=d.reject("Invalid arguments");else{var ie=F.name===W.name&&se._dbInfo.db,xe=ie?d.resolve(se._dbInfo.db):q(F).then(function(Re){var Le=b[F.name],Fe=Le.forages;Le.db=Re;for(var Be=0;Be<Fe.length;Be++)Fe[Be]._dbInfo.db=Re;return Re});F.storeName?ce=xe.then(function(Re){if(Re.objectStoreNames.contains(F.storeName)){var Le=Re.version+1;M(F);var Fe=b[F.name],Be=Fe.forages;Re.close();for(var ot=0;ot<Be.length;ot++){var tn=Be[ot];tn._dbInfo.db=null,tn._dbInfo.version=Le}var Pn=new d(function(Tn,Cr){var ir=l.open(F.name,Le);ir.onerror=function(js){var hf=ir.result;hf.close(),Cr(js)},ir.onupgradeneeded=function(){var js=ir.result;js.deleteObjectStore(F.storeName)},ir.onsuccess=function(){var js=ir.result;js.close(),Tn(js)}});return Pn.then(function(Tn){Fe.db=Tn;for(var Cr=0;Cr<Be.length;Cr++){var ir=Be[Cr];ir._dbInfo.db=Tn,U(ir._dbInfo)}}).catch(function(Tn){throw(z(F,Tn)||d.resolve()).catch(function(){}),Tn})}}):ce=xe.then(function(Re){M(F);var Le=b[F.name],Fe=Le.forages;Re.close();for(var Be=0;Be<Fe.length;Be++){var ot=Fe[Be];ot._dbInfo.db=null}var tn=new d(function(Pn,Tn){var Cr=l.deleteDatabase(F.name);Cr.onerror=function(){var ir=Cr.result;ir&&ir.close(),Tn(Cr.error)},Cr.onblocked=function(){console.warn('dropInstance blocked for database "'+F.name+'" until all open connections are closed')},Cr.onsuccess=function(){var ir=Cr.result;ir&&ir.close(),Pn(ir)}});return tn.then(function(Pn){Le.db=Pn;for(var Tn=0;Tn<Fe.length;Tn++){var Cr=Fe[Tn];U(Cr._dbInfo)}}).catch(function(Pn){throw(z(F,Pn)||d.resolve()).catch(function(){}),Pn})})}return h(ce,J),ce}var it={_driver:"asyncStorage",_initStorage:K,_support:u(),iterate:R,getItem:D,setItem:Y,removeItem:fe,clear:he,length:ge,key:ve,keys:ke,dropInstance:ye};function Ke(){return typeof openDatabase=="function"}var Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",He="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,Xe="__lfsc__:",_n=Xe.length,We="arbf",Ve="blob",Tt="si08",st="ui08",Rt="uic8",on="si16",On="si32",Kn="ur16",me="ui32",Ie="fl32",qe="fl64",mt=_n+We.length,ze=Object.prototype.toString;function gt(F){var J=F.length*.75,W=F.length,se,ce=0,ie,xe,Re,Le;F[F.length-1]==="="&&(J--,F[F.length-2]==="="&&J--);var Fe=new ArrayBuffer(J),Be=new Uint8Array(Fe);for(se=0;se<W;se+=4)ie=Je.indexOf(F[se]),xe=Je.indexOf(F[se+1]),Re=Je.indexOf(F[se+2]),Le=Je.indexOf(F[se+3]),Be[ce++]=ie<<2|xe>>4,Be[ce++]=(xe&15)<<4|Re>>2,Be[ce++]=(Re&3)<<6|Le&63;return Fe}function Ge(F){var J=new Uint8Array(F),W="",se;for(se=0;se<J.length;se+=3)W+=Je[J[se]>>2],W+=Je[(J[se]&3)<<4|J[se+1]>>4],W+=Je[(J[se+1]&15)<<2|J[se+2]>>6],W+=Je[J[se+2]&63];return J.length%3===2?W=W.substring(0,W.length-1)+"=":J.length%3===1&&(W=W.substring(0,W.length-2)+"=="),W}function ft(F,J){var W="";if(F&&(W=ze.call(F)),F&&(W==="[object ArrayBuffer]"||F.buffer&&ze.call(F.buffer)==="[object ArrayBuffer]")){var se,ce=Xe;F instanceof ArrayBuffer?(se=F,ce+=We):(se=F.buffer,W==="[object Int8Array]"?ce+=Tt:W==="[object Uint8Array]"?ce+=st:W==="[object Uint8ClampedArray]"?ce+=Rt:W==="[object Int16Array]"?ce+=on:W==="[object Uint16Array]"?ce+=Kn:W==="[object Int32Array]"?ce+=On:W==="[object Uint32Array]"?ce+=me:W==="[object Float32Array]"?ce+=Ie:W==="[object Float64Array]"?ce+=qe:J(new Error("Failed to get type for BinaryArray"))),J(ce+Ge(se))}else if(W==="[object Blob]"){var ie=new FileReader;ie.onload=function(){var xe=He+F.type+"~"+Ge(this.result);J(Xe+Ve+xe)},ie.readAsArrayBuffer(F)}else try{J(JSON.stringify(F))}catch(xe){console.error("Couldn't convert value into a JSON string: ",F),J(null,xe)}}function ur(F){if(F.substring(0,_n)!==Xe)return JSON.parse(F);var J=F.substring(mt),W=F.substring(_n,mt),se;if(W===Ve&&Ae.test(J)){var ce=J.match(Ae);se=ce[1],J=J.substring(ce[0].length)}var ie=gt(J);switch(W){case We:return ie;case Ve:return c([ie],{type:se});case Tt:return new Int8Array(ie);case st:return new Uint8Array(ie);case Rt:return new Uint8ClampedArray(ie);case on:return new Int16Array(ie);case Kn:return new Uint16Array(ie);case On:return new Int32Array(ie);case me:return new Uint32Array(ie);case Ie:return new Float32Array(ie);case qe:return new Float64Array(ie);default:throw new Error("Unkown type: "+W)}}var dn={serialize:ft,deserialize:ur,stringToBuffer:gt,bufferToString:Ge};function Ft(F,J,W,se){F.executeSql("CREATE TABLE IF NOT EXISTS "+J.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],W,se)}function hr(F){var J=this,W={db:null};if(F)for(var se in F)W[se]=typeof F[se]!="string"?F[se].toString():F[se];var ce=new d(function(ie,xe){try{W.db=openDatabase(W.name,String(W.version),W.description,W.size)}catch(Re){return xe(Re)}W.db.transaction(function(Re){Ft(Re,W,function(){J._dbInfo=W,ie()},function(Le,Fe){xe(Fe)})},xe)});return W.serializer=dn,ce}function Bn(F,J,W,se,ce,ie){F.executeSql(W,se,ce,function(xe,Re){Re.code===Re.SYNTAX_ERR?xe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[J.storeName],function(Le,Fe){Fe.rows.length?ie(Le,Re):Ft(Le,J,function(){Le.executeSql(W,se,ce,ie)},ie)},ie):ie(xe,Re)},ie)}function hl(F,J){var W=this;F=g(F);var se=new d(function(ce,ie){W.ready().then(function(){var xe=W._dbInfo;xe.db.transaction(function(Re){Bn(Re,xe,"SELECT * FROM "+xe.storeName+" WHERE key = ? LIMIT 1",[F],function(Le,Fe){var Be=Fe.rows.length?Fe.rows.item(0).value:null;Be&&(Be=xe.serializer.deserialize(Be)),ce(Be)},function(Le,Fe){ie(Fe)})})}).catch(ie)});return h(se,J),se}function ui(F,J){var W=this,se=new d(function(ce,ie){W.ready().then(function(){var xe=W._dbInfo;xe.db.transaction(function(Re){Bn(Re,xe,"SELECT * FROM "+xe.storeName,[],function(Le,Fe){for(var Be=Fe.rows,ot=Be.length,tn=0;tn<ot;tn++){var Pn=Be.item(tn),Tn=Pn.value;if(Tn&&(Tn=xe.serializer.deserialize(Tn)),Tn=F(Tn,Pn.key,tn+1),Tn!==void 0){ce(Tn);return}}ce()},function(Le,Fe){ie(Fe)})})}).catch(ie)});return h(se,J),se}function ms(F,J,W,se){var ce=this;F=g(F);var ie=new d(function(xe,Re){ce.ready().then(function(){J===void 0&&(J=null);var Le=J,Fe=ce._dbInfo;Fe.serializer.serialize(J,function(Be,ot){ot?Re(ot):Fe.db.transaction(function(tn){Bn(tn,Fe,"INSERT OR REPLACE INTO "+Fe.storeName+" (key, value) VALUES (?, ?)",[F,Be],function(){xe(Le)},function(Pn,Tn){Re(Tn)})},function(tn){if(tn.code===tn.QUOTA_ERR){if(se>0){xe(ms.apply(ce,[F,Le,W,se-1]));return}Re(tn)}})})}).catch(Re)});return h(ie,W),ie}function gs(F,J,W){return ms.apply(this,[F,J,W,1])}function ci(F,J){var W=this;F=g(F);var se=new d(function(ce,ie){W.ready().then(function(){var xe=W._dbInfo;xe.db.transaction(function(Re){Bn(Re,xe,"DELETE FROM "+xe.storeName+" WHERE key = ?",[F],function(){ce()},function(Le,Fe){ie(Fe)})})}).catch(ie)});return h(se,J),se}function Dr(F){var J=this,W=new d(function(se,ce){J.ready().then(function(){var ie=J._dbInfo;ie.db.transaction(function(xe){Bn(xe,ie,"DELETE FROM "+ie.storeName,[],function(){se()},function(Re,Le){ce(Le)})})}).catch(ce)});return h(W,F),W}function nr(F){var J=this,W=new d(function(se,ce){J.ready().then(function(){var ie=J._dbInfo;ie.db.transaction(function(xe){Bn(xe,ie,"SELECT COUNT(key) as c FROM "+ie.storeName,[],function(Re,Le){var Fe=Le.rows.item(0).c;se(Fe)},function(Re,Le){ce(Le)})})}).catch(ce)});return h(W,F),W}function wn(F,J){var W=this,se=new d(function(ce,ie){W.ready().then(function(){var xe=W._dbInfo;xe.db.transaction(function(Re){Bn(Re,xe,"SELECT key FROM "+xe.storeName+" WHERE id = ? LIMIT 1",[F+1],function(Le,Fe){var Be=Fe.rows.length?Fe.rows.item(0).key:null;ce(Be)},function(Le,Fe){ie(Fe)})})}).catch(ie)});return h(se,J),se}function Ri(F){var J=this,W=new d(function(se,ce){J.ready().then(function(){var ie=J._dbInfo;ie.db.transaction(function(xe){Bn(xe,ie,"SELECT key FROM "+ie.storeName,[],function(Re,Le){for(var Fe=[],Be=0;Be<Le.rows.length;Be++)Fe.push(Le.rows.item(Be).key);se(Fe)},function(Re,Le){ce(Le)})})}).catch(ce)});return h(W,F),W}function ro(F){return new d(function(J,W){F.transaction(function(se){se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ce,ie){for(var xe=[],Re=0;Re<ie.rows.length;Re++)xe.push(ie.rows.item(Re).name);J({db:F,storeNames:xe})},function(ce,ie){W(ie)})},function(se){W(se)})})}function Ur(F,J){J=y.apply(this,arguments);var W=this.config();F=typeof F!="function"&&F||{},F.name||(F.name=F.name||W.name,F.storeName=F.storeName||W.storeName);var se=this,ce;return F.name?ce=new d(function(ie){var xe;F.name===W.name?xe=se._dbInfo.db:xe=openDatabase(F.name,"","",0),F.storeName?ie({db:xe,storeNames:[F.storeName]}):ie(ro(xe))}).then(function(ie){return new d(function(xe,Re){ie.db.transaction(function(Le){function Fe(Pn){return new d(function(Tn,Cr){Le.executeSql("DROP TABLE IF EXISTS "+Pn,[],function(){Tn()},function(ir,js){Cr(js)})})}for(var Be=[],ot=0,tn=ie.storeNames.length;ot<tn;ot++)Be.push(Fe(ie.storeNames[ot]));d.all(Be).then(function(){xe()}).catch(function(Pn){Re(Pn)})},function(Le){Re(Le)})})}):ce=d.reject("Invalid arguments"),h(ce,J),ce}var Ki={_driver:"webSQLStorage",_initStorage:hr,_support:Ke(),iterate:ui,getItem:hl,setItem:gs,removeItem:ci,clear:Dr,length:nr,key:wn,keys:Ri,dropInstance:Ur};function ys(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ee(F,J){var W=F.name+"/";return F.storeName!==J.storeName&&(W+=F.storeName+"/"),W}function G(){var F="_localforage_support_test";try{return localStorage.setItem(F,!0),localStorage.removeItem(F),!1}catch{return!0}}function ne(){return!G()||localStorage.length>0}function we(F){var J=this,W={};if(F)for(var se in F)W[se]=F[se];return W.keyPrefix=ee(F,J._defaultConfig),ne()?(J._dbInfo=W,W.serializer=dn,d.resolve()):d.reject()}function _e(F){var J=this,W=J.ready().then(function(){for(var se=J._dbInfo.keyPrefix,ce=localStorage.length-1;ce>=0;ce--){var ie=localStorage.key(ce);ie.indexOf(se)===0&&localStorage.removeItem(ie)}});return h(W,F),W}function nt(F,J){var W=this;F=g(F);var se=W.ready().then(function(){var ce=W._dbInfo,ie=localStorage.getItem(ce.keyPrefix+F);return ie&&(ie=ce.serializer.deserialize(ie)),ie});return h(se,J),se}function Ce(F,J){var W=this,se=W.ready().then(function(){for(var ce=W._dbInfo,ie=ce.keyPrefix,xe=ie.length,Re=localStorage.length,Le=1,Fe=0;Fe<Re;Fe++){var Be=localStorage.key(Fe);if(Be.indexOf(ie)===0){var ot=localStorage.getItem(Be);if(ot&&(ot=ce.serializer.deserialize(ot)),ot=F(ot,Be.substring(xe),Le++),ot!==void 0)return ot}}});return h(se,J),se}function et(F,J){var W=this,se=W.ready().then(function(){var ce=W._dbInfo,ie;try{ie=localStorage.key(F)}catch{ie=null}return ie&&(ie=ie.substring(ce.keyPrefix.length)),ie});return h(se,J),se}function Ct(F){var J=this,W=J.ready().then(function(){for(var se=J._dbInfo,ce=localStorage.length,ie=[],xe=0;xe<ce;xe++){var Re=localStorage.key(xe);Re.indexOf(se.keyPrefix)===0&&ie.push(Re.substring(se.keyPrefix.length))}return ie});return h(W,F),W}function ct(F){var J=this,W=J.keys().then(function(se){return se.length});return h(W,F),W}function Pt(F,J){var W=this;F=g(F);var se=W.ready().then(function(){var ce=W._dbInfo;localStorage.removeItem(ce.keyPrefix+F)});return h(se,J),se}function Yt(F,J,W){var se=this;F=g(F);var ce=se.ready().then(function(){J===void 0&&(J=null);var ie=J;return new d(function(xe,Re){var Le=se._dbInfo;Le.serializer.serialize(J,function(Fe,Be){if(Be)Re(Be);else try{localStorage.setItem(Le.keyPrefix+F,Fe),xe(ie)}catch(ot){(ot.name==="QuotaExceededError"||ot.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Re(ot),Re(ot)}})})});return h(ce,W),ce}function rr(F,J){if(J=y.apply(this,arguments),F=typeof F!="function"&&F||{},!F.name){var W=this.config();F.name=F.name||W.name,F.storeName=F.storeName||W.storeName}var se=this,ce;return F.name?ce=new d(function(ie){F.storeName?ie(ee(F,se._defaultConfig)):ie(F.name+"/")}).then(function(ie){for(var xe=localStorage.length-1;xe>=0;xe--){var Re=localStorage.key(xe);Re.indexOf(ie)===0&&localStorage.removeItem(Re)}}):ce=d.reject("Invalid arguments"),h(ce,J),ce}var Et={_driver:"localStorageWrapper",_initStorage:we,_support:ys(),iterate:Ce,getItem:nt,setItem:Yt,removeItem:Pt,clear:_e,length:ct,key:et,keys:Ct,dropInstance:rr},Hn=function(J,W){return J===W||typeof J=="number"&&typeof W=="number"&&isNaN(J)&&isNaN(W)},kt=function(J,W){for(var se=J.length,ce=0;ce<se;){if(Hn(J[ce],W))return!0;ce++}return!1},Mn=Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"},Or={},Yi={},ei={INDEXEDDB:it,WEBSQL:Ki,LOCALSTORAGE:Et},ba=[ei.INDEXEDDB._driver,ei.WEBSQL._driver,ei.LOCALSTORAGE._driver],Qi=["dropInstance"],$r=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Qi),rt={description:"",driver:ba.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function an(F,J){F[J]=function(){var W=arguments;return F.ready().then(function(){return F[J].apply(F,W)})}}function yr(){for(var F=1;F<arguments.length;F++){var J=arguments[F];if(J)for(var W in J)J.hasOwnProperty(W)&&(Mn(J[W])?arguments[0][W]=J[W].slice():arguments[0][W]=J[W])}return arguments[0]}var Di=function(){function F(J){o(this,F);for(var W in ei)if(ei.hasOwnProperty(W)){var se=ei[W],ce=se._driver;this[W]=ce,Or[ce]||this.defineDriver(se)}this._defaultConfig=yr({},rt),this._config=yr({},this._defaultConfig,J),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return F.prototype.config=function(W){if((typeof W>"u"?"undefined":s(W))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var se in W){if(se==="storeName"&&(W[se]=W[se].replace(/\W/g,"_")),se==="version"&&typeof W[se]!="number")return new Error("Database version must be a number.");this._config[se]=W[se]}return"driver"in W&&W.driver?this.setDriver(this._config.driver):!0}else return typeof W=="string"?this._config[W]:this._config},F.prototype.defineDriver=function(W,se,ce){var ie=new d(function(xe,Re){try{var Le=W._driver,Fe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!W._driver){Re(Fe);return}for(var Be=$r.concat("_initStorage"),ot=0,tn=Be.length;ot<tn;ot++){var Pn=Be[ot],Tn=!kt(Qi,Pn);if((Tn||W[Pn])&&typeof W[Pn]!="function"){Re(Fe);return}}var Cr=function(){for(var hf=function(nb){return function(){var WT=new Error("Method "+nb+" is not implemented by the current driver"),rb=d.reject(WT);return h(rb,arguments[arguments.length-1]),rb}},_v=0,tb=Qi.length;_v<tb;_v++){var am=Qi[_v];W[am]||(W[am]=hf(am))}};Cr();var ir=function(hf){Or[Le]&&console.info("Redefining LocalForage driver: "+Le),Or[Le]=W,Yi[Le]=hf,xe()};"_support"in W?W._support&&typeof W._support=="function"?W._support().then(ir,Re):ir(!!W._support):ir(!0)}catch(js){Re(js)}});return m(ie,se,ce),ie},F.prototype.driver=function(){return this._driver||null},F.prototype.getDriver=function(W,se,ce){var ie=Or[W]?d.resolve(Or[W]):d.reject(new Error("Driver not found."));return m(ie,se,ce),ie},F.prototype.getSerializer=function(W){var se=d.resolve(dn);return m(se,W),se},F.prototype.ready=function(W){var se=this,ce=se._driverSet.then(function(){return se._ready===null&&(se._ready=se._initDriver()),se._ready});return m(ce,W,W),ce},F.prototype.setDriver=function(W,se,ce){var ie=this;Mn(W)||(W=[W]);var xe=this._getSupportedDrivers(W);function Re(){ie._config.driver=ie.driver()}function Le(ot){return ie._extend(ot),Re(),ie._ready=ie._initStorage(ie._config),ie._ready}function Fe(ot){return function(){var tn=0;function Pn(){for(;tn<ot.length;){var Tn=ot[tn];return tn++,ie._dbInfo=null,ie._ready=null,ie.getDriver(Tn).then(Le).catch(Pn)}Re();var Cr=new Error("No available storage method found.");return ie._driverSet=d.reject(Cr),ie._driverSet}return Pn()}}var Be=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=Be.then(function(){var ot=xe[0];return ie._dbInfo=null,ie._ready=null,ie.getDriver(ot).then(function(tn){ie._driver=tn._driver,Re(),ie._wrapLibraryMethodsWithReady(),ie._initDriver=Fe(xe)})}).catch(function(){Re();var ot=new Error("No available storage method found.");return ie._driverSet=d.reject(ot),ie._driverSet}),m(this._driverSet,se,ce),this._driverSet},F.prototype.supports=function(W){return!!Yi[W]},F.prototype._extend=function(W){yr(this,W)},F.prototype._getSupportedDrivers=function(W){for(var se=[],ce=0,ie=W.length;ce<ie;ce++){var xe=W[ce];this.supports(xe)&&se.push(xe)}return se},F.prototype._wrapLibraryMethodsWithReady=function(){for(var W=0,se=$r.length;W<se;W++)an(this,$r[W])},F.prototype.createInstance=function(W){return new F(W)},F}(),io=new Di;r.exports=io},{3:3}]},{},[4])(4)})})(wce);var CKe=wce.exports;const PKe=Uu(CKe),bce=rP({name:"flags",initialState:{showAdmin:!1,showHelpText:!1,trialRecord:{},trrackExists:!1,iframeAnswers:[]},reducers:{setTrrackExists:(e,t)=>{e.trrackExists=t.payload},toggleShowAdmin:e=>{e.showAdmin=!e.showAdmin},toggleShowHelpText:e=>{e.showHelpText=!e.showHelpText},setIframeAnswers:(e,t)=>{e.iframeAnswers=t.payload},updateResponseBlockValidation:(e,{payload:t})=>{if(t.trialId.length===0)return e;e.trialRecord[t.trialId]||(e.trialRecord[t.trialId]={valid:{aboveStimulus:!1,belowStimulus:!1,sidebar:!1},answers:{},provenanceRoot:null}),e.trialRecord[t.trialId].valid[t.location]=t.status;const n=e.trialRecord[t.trialId].answers;t.provenanceRoot!==void 0&&(e.trialRecord[t.trialId].provenanceRoot=t.provenanceRoot);const r={...n,...t.answers},i=Object.keys(r).filter(s=>s.includes(t.trialId)).reduce((s,o)=>Object.assign(s,{[o]:r[o]}),{});e.trialRecord[t.trialId].answers=i}}}),{toggleShowAdmin:TKe,toggleShowHelpText:Sce,setTrrackExists:xce,updateResponseBlockValidation:Ece,setIframeAnswers:Ice}=bce.actions,T6=tj({reducer:bce.reducer}),k6=O.createContext({}),ev=sse(k6),P1=lse(k6);function kKe({trialId:e,status:t,provenanceRoot:n,answers:r}){T6.dispatch(Ece({location:"sidebar",trialId:e,status:t,provenanceRoot:n,answers:r}))}function AKe(e){return ev(t=>{var r;if(e.length===0)return!0;const n=(r=t.trialRecord[e])==null?void 0:r.valid;return n?Object.values(n).every(i=>i):!1})}function NKe(e){return ev(t=>{var r;if(e.length===0)return null;const n=(r=t.trialRecord[e])==null?void 0:r.answers;return n||null})}const dM="__active_session";function RKe(e){const t={};return e.forEach((n,r,i)=>{t[n]={complete:!1,next:i[r+1]||"end"}}),t}async function DKe(e,t,n,r){const i=PKe.createInstance({name:"sessions"}),s=RKe(n),o=Object.assign({},...Object.keys(s).map(_=>({[_]:{}}))),a={studyIdentifiers:{pid:r.pid,study_id:e,session_id:crypto.randomUUID()},...o,order:n},l={steps:s,config:t},u=gD.createTrrackableSlice({name:"trrackedStudySlice",initialState:a,reducers:{saveTrialAnswer(_,{payload:v}){_[v.trialName]={complete:!0,answer:v.answer,startTime:v.startTime,provenanceRoot:v.provenanceRoot,endTime:v.endTime}}}}),c=rP({name:"studySlice",initialState:l,reducers:{setConfig(_,v){_.config=v.payload},completeStep(_,v){_.steps[v.payload].complete=!0}}}),{store:d,trrack:h,trrackStore:m}=gD.configureTrrackableStore({reducer:{trrackedSlice:u.reducer,unTrrackedSlice:c.reducer},slices:[u,c]}),g=await MKe(i,e)||h.root.id,y=await r.initialize(e,g,h);return y||await iG(i,e,h.root.id),T6.dispatch(xce(!!y)),h.currentChange(_=>{_==="new"&&r.saveNewProvenanceNode(h)}),{store:d,trrack:h,trrackStore:m,actions:u.actions,async clearCache(){await sKe(r.firestore),await nKe(r.firestore),r.startFirestore(),await i.clear()},restoreSession(){y&&y.restoreSession()},startNewSession(){y&&y.createNew().then(()=>iG(i,e,h.root.id))},loadGraph(_){h.import(_)}}}async function iG(e,t,n){const r=await e.getItem(dM)||{};r[t]=n,e.setItem(dM,r)}async function MKe(e,t){const n=await e.getItem(dM)||{};return n&&n[t]}const Oce=O.createContext(null);function T1(){return O.useContext(Oce)}function $ce(){return T1().actions}const LKe=use,Hl=WBe;function FKe(){return Hl(e=>e.trrackedSlice)}function jKe(e){const[t]=fOe();return P(sOe,{...e,to:{pathname:e.to,search:t.toString()}})}function A6(){return Vd().pathname.split("/")[1]}function Jd(){return Vd().pathname.split("/")[2]}function N6(){const e=Jd(),t=Hl(r=>r.unTrrackedSlice.config),{steps:n}=Hl(r=>r.unTrrackedSlice);return e==="end"||e===""||!t?null:e&&n[e]&&(n[e].next||"end")}function hM(e){return structuredClone(e)}function BKe({label:e="Next",process:t=null,to:n="auto",disabled:r=!1}){const i=Ud(),s=`/${A6()}/${N6()}`;return P(Dl,{type:"submit",disabled:r||n==="auto"&&!s,onClick:async()=>{t&&t(),n==="auto"&&s&&i(`${s}${window.location.search}`),n!=="auto"&&i(`${n}${window.location.search}`)},children:e})}function pM(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var zKe=Object.defineProperty,sG=Object.getOwnPropertySymbols,VKe=Object.prototype.hasOwnProperty,UKe=Object.prototype.propertyIsEnumerable,oG=(e,t,n)=>t in e?zKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HKe=(e,t)=>{for(var n in t||(t={}))VKe.call(t,n)&&oG(e,n,t[n]);if(sG)for(var n of sG(t))UKe.call(t,n)&&oG(e,n,t[n]);return e};function Cce(e,t){if(t===null||typeof t!="object")return{};const n=HKe({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const WKe="__MANTINE_FORM_INDEX__";function aG(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${WKe}`)):!1:!1}function lG(e,t,n){typeof n.value=="object"&&(n.value=sg(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function sg(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(sg(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(sg(a),sg(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(sg(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)lG(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||lG(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function Pce(e){return typeof e!="string"?[]:e.split(".")}function qP(e,t,n){const r=Pce(e);if(r.length===0)return n;const i=sg(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function hc(e,t){const n=Pce(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function uG(e){const t=pM(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function mM(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,l=hc(a,t);let u=!1;return typeof o=="function"&&(i[a]=o(l,t,a)),typeof o=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>mM(o,t,`${a}.${d}`,i))),typeof o=="object"&&typeof l=="object"&&l!==null&&(u||mM(o,t,a,i)),i},r)}function gM(e,t){return uG(typeof e=="function"?e(t):mM(e,t))}function jS(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=gM(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function qKe(e,{from:t,to:n},r){const i=hc(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),qP(e,s,r)}var GKe=Object.defineProperty,cG=Object.getOwnPropertySymbols,KKe=Object.prototype.hasOwnProperty,YKe=Object.prototype.propertyIsEnumerable,fG=(e,t,n)=>t in e?GKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QKe=(e,t)=>{for(var n in t||(t={}))KKe.call(t,n)&&fG(e,n,t[n]);if(cG)for(var n of cG(t))YKe.call(t,n)&&fG(e,n,t[n]);return e};function XKe(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=QKe({},r);return Object.keys(r).every(a=>{let l,u;if(a.startsWith(i)&&(l=a,u=a.replace(i,s)),a.startsWith(s)&&(l=a.replace(s,i),u=a),l&&u){const c=o[l],d=o[u];return d===void 0?delete o[l]:o[l]=d,c===void 0?delete o[u]:o[u]=c,!1}return!0}),o}function JKe(e,t,n){const r=hc(e,n);return Array.isArray(r)?qP(e,r.filter((i,s)=>s!==t),n):n}var ZKe=Object.defineProperty,dG=Object.getOwnPropertySymbols,eYe=Object.prototype.hasOwnProperty,tYe=Object.prototype.propertyIsEnumerable,hG=(e,t,n)=>t in e?ZKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nYe=(e,t)=>{for(var n in t||(t={}))eYe.call(t,n)&&hG(e,n,t[n]);if(dG)for(var n of dG(t))tYe.call(t,n)&&hG(e,n,t[n]);return e};function pG(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function mG(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=Cce(`${i}.${t}`,s));const o=nYe({},s),a=new Set;return Object.entries(s).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=pG(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=pG(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);o[d]=u,a.add(d),a.has(l)||delete o[l]}),o}function rYe(e,t,n,r){const i=hc(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),qP(e,s,r)}function gG(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function iYe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var sYe=Object.defineProperty,oYe=Object.defineProperties,aYe=Object.getOwnPropertyDescriptors,yG=Object.getOwnPropertySymbols,lYe=Object.prototype.hasOwnProperty,uYe=Object.prototype.propertyIsEnumerable,vG=(e,t,n)=>t in e?sYe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pf=(e,t)=>{for(var n in t||(t={}))lYe.call(t,n)&&vG(e,n,t[n]);if(yG)for(var n of yG(t))uYe.call(t,n)&&vG(e,n,t[n]);return e},DN=(e,t)=>oYe(e,aYe(t));function cYe({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=u=>u,validate:l}={}){const[u,c]=O.useState(r),[d,h]=O.useState(n),[m,g]=O.useState(e),[y,_]=O.useState(pM(t)),v=O.useRef(e),b=R=>{v.current=R},S=O.useCallback(()=>c({}),[]),x=R=>{const Y=R?Pf(Pf({},m),R):m;b(Y),h({})},$=O.useCallback(R=>_(Y=>pM(typeof R=="function"?R(Y):R)),[]),E=O.useCallback(()=>_({}),[]),I=O.useCallback(()=>{g(e),E(),b(e),h({}),S()},[]),T=O.useCallback((R,Y)=>$(fe=>DN(Pf({},fe),{[R]:Y})),[]),M=O.useCallback(R=>$(Y=>{if(typeof R!="string")return Y;const fe=Pf({},Y);return delete fe[R],fe}),[]),U=O.useCallback(R=>h(Y=>{if(typeof R!="string")return Y;const fe=Cce(R,Y);return delete fe[R],fe}),[]),z=O.useCallback((R,Y)=>{const fe=aG(R,s);U(R),c(he=>DN(Pf({},he),{[R]:!0})),g(he=>{const ge=qP(R,Y,he);if(fe){const ve=jS(R,l,ge);ve.hasError?T(R,ve.error):M(R)}return ge}),!fe&&i&&T(R,null)},[]),H=O.useCallback(R=>{g(Y=>{const fe=typeof R=="function"?R(Y):R;return Pf(Pf({},Y),fe)}),i&&E()},[]),q=O.useCallback((R,Y)=>{U(R),g(fe=>qKe(R,Y,fe)),_(fe=>XKe(R,Y,fe))},[]),B=O.useCallback((R,Y)=>{U(R),g(fe=>JKe(R,Y,fe)),_(fe=>mG(R,Y,fe,-1))},[]),ue=O.useCallback((R,Y,fe)=>{U(R),g(he=>rYe(R,Y,fe,he)),_(he=>mG(R,fe,he,1))},[]),le=O.useCallback(()=>{const R=gM(l,m);return _(R.errors),R},[m,l]),pe=O.useCallback(R=>{const Y=jS(R,l,m);return Y.hasError?T(R,Y.error):M(R),Y},[m,l]),Z=(R,{type:Y="input",withError:fe=!0,withFocus:he=!0}={})=>{const ve={onChange:iYe(ke=>z(R,ke))};return fe&&(ve.error=y[R]),Y==="checkbox"?ve.checked=hc(R,m):ve.value=hc(R,m),he&&(ve.onFocus=()=>c(ke=>DN(Pf({},ke),{[R]:!0})),ve.onBlur=()=>{if(aG(R,o)){const ke=jS(R,l,m);ke.hasError?T(R,ke.error):M(R)}}),ve},oe=(R,Y)=>fe=>{fe==null||fe.preventDefault();const he=le();he.hasErrors?Y==null||Y(he.errors,m,fe):R==null||R(a(m),fe)},X=R=>a(R||m),k=O.useCallback(R=>{R.preventDefault(),I()},[]),A=R=>{if(R){const fe=hc(R,d);if(typeof fe=="boolean")return fe;const he=hc(R,m),ge=hc(R,v.current);return!zH(he,ge)}return Object.keys(d).length>0?gG(d):!zH(m,v.current)},K=O.useCallback(R=>gG(u,R),[u]),D=O.useCallback(R=>R?!jS(R,l,m).hasError:!gM(l,m).hasErrors,[m,l]);return{values:m,errors:y,setValues:H,setErrors:$,setFieldValue:z,setFieldError:T,clearFieldError:M,clearErrors:E,reset:I,validate:le,validateField:pe,reorderListItem:q,removeListItem:B,insertListItem:ue,getInputProps:Z,onSubmit:oe,onReset:k,isDirty:A,isTouched:K,setTouched:c,setDirty:h,resetTouched:S,resetDirty:x,isValid:D,getTransformedValues:X}}const Tce=(e,t)=>{const n=new URLSearchParams(window.location.search);let r={};return e.forEach(i=>{r={...r,[`${t}/${i.id}`]:i.type==="iframe"?[]:i.paramCapture&&n.get(i.paramCapture)||""}}),{...r}},fYe=(e,t)=>{let n={};return e.forEach(r=>{r.required&&(n={...n,[`${t}/${r.id}`]:i=>{if(Array.isArray(i)){if(r.requiredValue!=null&&!Array.isArray(r.requiredValue))return"Incorrect required value";if(r.requiredValue!=null&&Array.isArray(r.requiredValue)){if(r.requiredValue.length!==i.length)return"Incorrect input";const s=[...r.requiredValue].sort(),o=[...i].sort();return s.every((a,l)=>a===o[l])?null:"Incorrect input"}return i.length===0?"Empty input":null}return r.required&&r.requiredValue!=null&&i!=null?i.toString()!==r.requiredValue.toString()?"Incorrect input":null:i==null?"Empty input":null}})}),n};function kce(e,t){const[n,r]=O.useState(null),i=cYe({initialValues:Tce(e,t),validate:fYe(e,t)});return O.useEffect(()=>{n!==t&&(r(t),i.reset())},[n,i,t]),i}function dYe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=e[n[r]],s=t[n[r]];if(JSON.stringify(i)!==JSON.stringify(s))return!1}return!0}function Uc(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const hYe=Object.freeze(Object.defineProperty({__proto__:null,areAnswersEqual:dYe,generateErrorMessage:Uc,generateInitFields:Tce,useAnswerField:kce},Symbol.toStringTag,{value:"Module"}));function pYe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return P($I.Group,{label:r,withAsterisk:i,...n,error:Uc(e,n,s),children:P(Mo,{mt:"md",children:s.map(o=>P($I,{disabled:t,value:o.value,label:o.label},o.value))})})}function mYe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return P(Zn,{children:P(Fie,{disabled:t,label:i,placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:Uc(e,n,o)})})}function gYe({response:e,disabled:t,answer:n}){const{prompt:r}=e;return $e(Zn,{children:[P(Bt,{fz:"md",fw:500,children:r}),P(Xg,{children:(n.value||[]).map(i=>P(Xg.Item,{children:i},i))})]})}function Ace({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return P(Zn,{children:$e(tO.Group,{name:`radioInput${e.id}`,label:r,withAsterisk:i,size:"md",...n,error:Uc(e,n,s),children:[o?P(Bt,{children:o}):null,P(Mo,{mt:"xs",children:s.map(l=>P(tO,{disabled:t,value:l.value,label:l.label},l.label))}),P(Bt,{children:a})]},e.id)})}function yYe({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o++)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return P(Ace,{disabled:t,response:s,answer:n})}function vYe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return P(Zn,{children:P(die,{disabled:t,placeholder:a,label:r,withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:Uc(e,n)})})}function _Ye({response:e,disabled:t,answer:n}){const{prompt:r,options:i}=e,s=Uc(e,n);return $e(qa,{spacing:2,children:[P(Bt,{fz:"md",fw:500,children:r}),P(s3,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:i,...n,error:Uc(e,n),styles:o=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:o.colors.blue[6]},markLabel:{fontSize:o.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:o.white,borderWidth:1,boxShadow:o.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})}),s?P(Bt,{size:12,c:"#fa5252",children:s}):null]})}function wYe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return P(Zn,{children:P(n3,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Uc(e,n)})})}function bYe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return P(Zn,{children:P(Sre,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Uc(e,n)})})}function SYe({status:e=null,disabled:t=!!(e!=null&&e.complete),response:n,answer:r,storedAnswer:i}){const s=t||!!n.paramCapture,o=i?{value:i}:r;return P(Zn,{children:$e(xt,{sx:{margin:10,padding:5},children:[n.type==="numerical"&&P(vYe,{response:n,disabled:s,answer:o}),n.type==="shortText"&&P(wYe,{response:n,disabled:s,answer:o}),n.type==="longText"&&P(bYe,{response:n,disabled:s,answer:o}),n.type==="likert"&&P(yYe,{response:n,disabled:s,answer:o}),n.type==="dropdown"&&P(mYe,{response:n,disabled:s,answer:o}),n.type==="slider"&&P(_Ye,{response:n,disabled:s,answer:o}),n.type==="radio"&&P(Ace,{response:n,disabled:s,answer:o}),n.type==="checkbox"&&P(pYe,{response:n,disabled:s,answer:o}),n.type==="iframe"&&P(gYe,{response:n,disabled:s,answer:o})]})})}function xYe(){const e=FKe().survey;return Object.keys(e||{}).length>0?e:null}function ZO({config:e,location:t,status:n=null,style:r}){var H,q;const{trialId:i=null,studyId:s=null}=zw(),o=Vd().pathname,a=n==null?void 0:n.answer,l=e,u=((H=l==null?void 0:l.response)==null?void 0:H.filter(B=>B.location?B.location===t:t==="belowStimulus"))||[],c=xYe(),{saveTrialAnswer:d}=$ce(),h=LKe(),m=P1(),g=kce(u,o),y=AKe(o),_=NKe(o),[v,b]=aee(!a),[S,x]=O.useState(!1),$=Jd(),E=N6(),I=ev(B=>B),T=(((q=l==null?void 0:l.correctAnswer)==null?void 0:q.length)||0)>0,M=O.useMemo(()=>Date.now(),[]),U=t===((l==null?void 0:l.nextButtonLocation)||"belowStimulus");O.useEffect(()=>{const B=u.find(ue=>ue.type==="iframe");if(B){const ue=`${o}/${B.id}`;g.setValues({...g.values,[ue]:I.iframeAnswers})}},[I.iframeAnswers]),O.useEffect(()=>{m(Ece({location:t,trialId:o,status:g.isValid(),answers:hM(g.values)}))},[g.values,o]);const z=O.useCallback(()=>{const B=hM(_),ue=I.trialRecord[o].provenanceRoot;n!=null&&n.complete||(h(d({trialName:$,trialId:o||"NoID",answer:B,provenanceRoot:ue||void 0,startTime:M,endTime:Date.now()})),m(Ice([]))),b(!v)},[_,g.values,h,c,e==null?void 0:e.type,$,v,d,n,b,i]);return $e("div",{style:r,children:[u.map(B=>{var ue,le;return P(Ka.Fragment,{children:B.hidden?"":$e(Zn,{children:[P(SYe,{status:n,storedAnswer:B.type==="iframe"?(_||{})[`${o}/${B.id}`]:null,answer:{...g.getInputProps(`${o}/${B.id}`,{type:B.type==="checkbox"?"checkbox":"input"})},response:B}),T&&S&&$e(Bt,{children:["The correct answer is:"," ",(le=(ue=l.correctAnswer)==null?void 0:ue.find(pe=>pe.id===B.id))==null?void 0:le.answer]})]})},`${B.id}-${o}`)}),$e(Mo,{position:"right",spacing:"xs",mt:"xl",children:[T&&U&&P(Dl,{onClick:()=>x(!0),disabled:!g.isValid(),children:"Check Answer"}),U&&P(BKe,{disabled:T?!S:!(n!=null&&n.complete)&&!y,to:`/${s}/${E}`,process:()=>{x(!1),z()},label:l.nextButtonText||"Next"})]})]})}const BS="@REVISIT_COMMS",EYe={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function IYe({path:e,parameters:t}){const{saveTrialAnswer:n}=$ce(),r=P1(),i=use(),s=O.useRef(null),o=O.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),a=Jd(),l=Ud(),u=N6(),c=O.useCallback((d,h)=>{var m,g;(g=(m=s.current)==null?void 0:m.contentWindow)==null||g.postMessage({error:!1,type:`${BS}/${d}`,iframeId:o,message:h},"*")},[s,o]);return O.useEffect(()=>{const d=h=>{const m=h.data;if(typeof m=="object"&&o===m.iframeId)switch(m.type){case`${BS}/WINDOW_READY`:t&&c("STUDY_DATA",t);break;case`${BS}/READY`:s.current&&(s.current.style.height=`${m.message.documentHeight}px`);break;case`${BS}/ANSWERS`:r(Ice(m.message.answer));break}};return window.addEventListener("message",d),()=>window.removeEventListener("message",d)},[r,u,a,i,o,l,t,c,n]),P("div",{children:P("iframe",{ref:s,src:`${Ku}${e}?trialid=${a}&id=${o}`,style:EYe})})}const OYe={maxWidth:"100%"},$Ye=({path:e,style:t={}})=>{const n={...OYe,...t};return P(Xw,{mx:"auto",src:`${Ku}${e}`,style:n})},tv=e=>{const t=O.useRef(null),n=_G(e),[r,i]=O.useState(0),[s,o]=O.useState(0);O.useEffect(()=>{const l=t.current;if(l){const u=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];r!==d.contentRect.width&&i(d.contentRect.width),s!==d.contentRect.height&&o(d.contentRect.height)});return u.observe(l),()=>u.unobserve(l)}},[s,r]);const a=_G({...n,width:n.width||r,height:n.height||s});return[t,a]},_G=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},CYe=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:tv},Symbol.toStringTag,{value:"Module"}));function Fx(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PYe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R6(e){let t,n,r;e.length!==2?(t=Fx,n=(a,l)=>Fx(e(a),l),r=(a,l)=>e(a)-l):(t=e===Fx||e===PYe?e:TYe,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function TYe(){return 0}function kYe(e){return e===null?NaN:+e}const AYe=R6(Fx),NYe=AYe.right;R6(kYe).center;const RYe=NYe;function wG(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class bG extends Map{constructor(t,n=LYe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(SG(this,t))}has(t){return super.has(SG(this,t))}set(t,n){return super.set(DYe(this,t),n)}delete(t){return super.delete(MYe(this,t))}}function SG({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function DYe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function MYe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function LYe(e){return e!==null&&typeof e=="object"?e.valueOf():e}const FYe=Math.sqrt(50),jYe=Math.sqrt(10),BYe=Math.sqrt(2);function e$(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=FYe?10:s>=jYe?5:s>=BYe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?e$(e,t,n*2):[a,l,u]}function zYe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?e$(t,e,n):e$(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function yM(e,t,n){return t=+t,e=+e,n=+n,e$(e,t,n)[2]}function vM(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yM(t,e,n):yM(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function VYe(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function UYe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var HYe={value:()=>{}};function D6(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new jx(n)}function jx(e){this._=e}function WYe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}jx.prototype=D6.prototype={constructor:jx,on:function(e,t){var n=this._,r=WYe(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=qYe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=xG(n[i],e.name,t);else if(t==null)for(i in n)n[i]=xG(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new jx(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function qYe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function xG(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=HYe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var _M="http://www.w3.org/1999/xhtml";const EG={svg:"http://www.w3.org/2000/svg",xhtml:_M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function GP(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),EG.hasOwnProperty(t)?{space:EG[t],local:e}:e}function GYe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_M&&t.documentElement.namespaceURI===_M?t.createElement(e):t.createElementNS(n,e)}}function KYe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nce(e){var t=GP(e);return(t.local?KYe:GYe)(t)}function YYe(){}function M6(e){return e==null?YYe:function(){return this.querySelector(e)}}function QYe(e){typeof e!="function"&&(e=M6(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Xs(r,this._parents)}function Rce(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function XYe(){return[]}function Dce(e){return e==null?XYe:function(){return this.querySelectorAll(e)}}function JYe(e){return function(){return Rce(e.apply(this,arguments))}}function ZYe(e){typeof e=="function"?e=JYe(e):e=Dce(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new Xs(r,i)}function Mce(e){return function(){return this.matches(e)}}function Lce(e){return function(t){return t.matches(e)}}var eQe=Array.prototype.find;function tQe(e){return function(){return eQe.call(this.children,e)}}function nQe(){return this.firstElementChild}function rQe(e){return this.select(e==null?nQe:tQe(typeof e=="function"?e:Lce(e)))}var iQe=Array.prototype.filter;function sQe(){return Array.from(this.children)}function oQe(e){return function(){return iQe.call(this.children,e)}}function aQe(e){return this.selectAll(e==null?sQe:oQe(typeof e=="function"?e:Lce(e)))}function lQe(e){typeof e!="function"&&(e=Mce(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Xs(r,this._parents)}function Fce(e){return new Array(e.length)}function uQe(){return new Xs(this._enter||this._groups.map(Fce),this._parents)}function t$(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}t$.prototype={constructor:t$,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cQe(e){return function(){return e}}function fQe(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new t$(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function dQe(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,h=new Array(c),m;for(a=0;a<c;++a)(l=t[a])&&(h[a]=m=o.call(l,l.__data__,a,t)+"",u.has(m)?i[a]=l:u.set(m,l));for(a=0;a<d;++a)m=o.call(e,s[a],a,s)+"",(l=u.get(m))?(r[a]=l,l.__data__=s[a],u.delete(m)):n[a]=new t$(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(i[a]=l)}function hQe(e){return e.__data__}function pQe(e,t){if(!arguments.length)return Array.from(this,hQe);var n=t?dQe:fQe,r=this._parents,i=this._groups;typeof e!="function"&&(e=cQe(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],h=d.length,m=mQe(e.call(c,c&&c.__data__,u,r)),g=m.length,y=a[u]=new Array(g),_=o[u]=new Array(g),v=l[u]=new Array(h);n(c,d,y,_,v,m,t);for(var b=0,S=0,x,$;b<g;++b)if(x=y[b]){for(b>=S&&(S=b+1);!($=_[S])&&++S<g;);x._next=$||null}}return o=new Xs(o,r),o._enter=a,o._exit=l,o}function mQe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gQe(){return new Xs(this._exit||this._groups.map(Fce),this._parents)}function yQe(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function vQe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,h=a[l]=new Array(d),m,g=0;g<d;++g)(m=u[g]||c[g])&&(h[g]=m);for(;l<i;++l)a[l]=n[l];return new Xs(a,this._parents)}function _Qe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function wQe(e){e||(e=bQe);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new Xs(i,this._parents).order()}function bQe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function SQe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function xQe(){return Array.from(this)}function EQe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function IQe(){let e=0;for(const t of this)++e;return e}function OQe(){return!this.node()}function $Qe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function CQe(e){return function(){this.removeAttribute(e)}}function PQe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TQe(e,t){return function(){this.setAttribute(e,t)}}function kQe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function AQe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function NQe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function RQe(e,t){var n=GP(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?PQe:CQe:typeof t=="function"?n.local?NQe:AQe:n.local?kQe:TQe)(n,t))}function jce(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function DQe(e){return function(){this.style.removeProperty(e)}}function MQe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function LQe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function FQe(e,t,n){return arguments.length>1?this.each((t==null?DQe:typeof t=="function"?LQe:MQe)(e,t,n??"")):my(this.node(),e)}function my(e,t){return e.style.getPropertyValue(t)||jce(e).getComputedStyle(e,null).getPropertyValue(t)}function jQe(e){return function(){delete this[e]}}function BQe(e,t){return function(){this[e]=t}}function zQe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function VQe(e,t){return arguments.length>1?this.each((t==null?jQe:typeof t=="function"?zQe:BQe)(e,t)):this.node()[e]}function Bce(e){return e.trim().split(/^|\s+/)}function L6(e){return e.classList||new zce(e)}function zce(e){this._node=e,this._names=Bce(e.getAttribute("class")||"")}zce.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Vce(e,t){for(var n=L6(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Uce(e,t){for(var n=L6(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function UQe(e){return function(){Vce(this,e)}}function HQe(e){return function(){Uce(this,e)}}function WQe(e,t){return function(){(t.apply(this,arguments)?Vce:Uce)(this,e)}}function qQe(e,t){var n=Bce(e+"");if(arguments.length<2){for(var r=L6(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?WQe:t?UQe:HQe)(n,t))}function GQe(){this.textContent=""}function KQe(e){return function(){this.textContent=e}}function YQe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function QQe(e){return arguments.length?this.each(e==null?GQe:(typeof e=="function"?YQe:KQe)(e)):this.node().textContent}function XQe(){this.innerHTML=""}function JQe(e){return function(){this.innerHTML=e}}function ZQe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function eXe(e){return arguments.length?this.each(e==null?XQe:(typeof e=="function"?ZQe:JQe)(e)):this.node().innerHTML}function tXe(){this.nextSibling&&this.parentNode.appendChild(this)}function nXe(){return this.each(tXe)}function rXe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iXe(){return this.each(rXe)}function sXe(e){var t=typeof e=="function"?e:Nce(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function oXe(){return null}function aXe(e,t){var n=typeof e=="function"?e:Nce(e),r=t==null?oXe:typeof t=="function"?t:M6(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lXe(){var e=this.parentNode;e&&e.removeChild(this)}function uXe(){return this.each(lXe)}function cXe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fXe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dXe(e){return this.select(e?fXe:cXe)}function hXe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pXe(e){return function(t){e.call(this,t,this.__data__)}}function mXe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gXe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function yXe(e,t,n){return function(){var r=this.__on,i,s=pXe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function vXe(e,t,n){var r=mXe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?yXe:gXe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function Hce(e,t,n){var r=jce(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function _Xe(e,t){return function(){return Hce(this,e,t)}}function wXe(e,t){return function(){return Hce(this,e,t.apply(this,arguments))}}function bXe(e,t){return this.each((typeof t=="function"?wXe:_Xe)(e,t))}function*SXe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var F6=[null];function Xs(e,t){this._groups=e,this._parents=t}function k1(){return new Xs([[document.documentElement]],F6)}function xXe(){return this}Xs.prototype=k1.prototype={constructor:Xs,select:QYe,selectAll:ZYe,selectChild:rQe,selectChildren:aQe,filter:lQe,data:pQe,enter:uQe,exit:gQe,join:yQe,merge:vQe,selection:xXe,order:_Qe,sort:wQe,call:SQe,nodes:xQe,node:EQe,size:IQe,empty:OQe,each:$Qe,attr:RQe,style:FQe,property:VQe,classed:qQe,text:QQe,html:eXe,raise:nXe,lower:iXe,append:sXe,insert:aXe,remove:uXe,clone:dXe,datum:hXe,on:vXe,dispatch:bXe,[Symbol.iterator]:SXe};function hi(e){return typeof e=="string"?new Xs([[document.querySelector(e)]],[document.documentElement]):new Xs([[e]],F6)}function EXe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wM(e,t){if(e=EXe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function IXe(e){return typeof e=="string"?new Xs([document.querySelectorAll(e)],[document.documentElement]):new Xs([Rce(e)],F6)}const bM={capture:!0,passive:!1};function SM(e){e.preventDefault(),e.stopImmediatePropagation()}function OXe(e){var t=e.document.documentElement,n=hi(e).on("dragstart.drag",SM,bM);"onselectstart"in t?n.on("selectstart.drag",SM,bM):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $Xe(e,t){var n=e.document.documentElement,r=hi(e).on("dragstart.drag",null);t&&(r.on("click.drag",SM,bM),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function j6(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Wce(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function A1(){}var mw=.7,n$=1/mw,Pg="\\s*([+-]?\\d+)\\s*",gw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CXe=/^#([0-9a-f]{3,8})$/,PXe=new RegExp(`^rgb\\(${Pg},${Pg},${Pg}\\)$`),TXe=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),kXe=new RegExp(`^rgba\\(${Pg},${Pg},${Pg},${gw}\\)$`),AXe=new RegExp(`^rgba\\(${ku},${ku},${ku},${gw}\\)$`),NXe=new RegExp(`^hsl\\(${gw},${ku},${ku}\\)$`),RXe=new RegExp(`^hsla\\(${gw},${ku},${ku},${gw}\\)$`),IG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j6(A1,Rp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OG,formatHex:OG,formatHex8:DXe,formatHsl:MXe,formatRgb:$G,toString:$G});function OG(){return this.rgb().formatHex()}function DXe(){return this.rgb().formatHex8()}function MXe(){return qce(this).formatHsl()}function $G(){return this.rgb().formatRgb()}function Rp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=CXe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?CG(t):n===3?new To(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zS(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PXe.exec(e))?new To(t[1],t[2],t[3],1):(t=TXe.exec(e))?new To(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kXe.exec(e))?zS(t[1],t[2],t[3],t[4]):(t=AXe.exec(e))?zS(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NXe.exec(e))?kG(t[1],t[2]/100,t[3]/100,1):(t=RXe.exec(e))?kG(t[1],t[2]/100,t[3]/100,t[4]):IG.hasOwnProperty(e)?CG(IG[e]):e==="transparent"?new To(NaN,NaN,NaN,0):null}function CG(e){return new To(e>>16&255,e>>8&255,e&255,1)}function zS(e,t,n,r){return r<=0&&(e=t=n=NaN),new To(e,t,n,r)}function LXe(e){return e instanceof A1||(e=Rp(e)),e?(e=e.rgb(),new To(e.r,e.g,e.b,e.opacity)):new To}function xM(e,t,n,r){return arguments.length===1?LXe(e):new To(e,t,n,r??1)}function To(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}j6(To,xM,Wce(A1,{brighter(e){return e=e==null?n$:Math.pow(n$,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mw:Math.pow(mw,e),new To(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new To(up(this.r),up(this.g),up(this.b),r$(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PG,formatHex:PG,formatHex8:FXe,formatRgb:TG,toString:TG}));function PG(){return`#${qh(this.r)}${qh(this.g)}${qh(this.b)}`}function FXe(){return`#${qh(this.r)}${qh(this.g)}${qh(this.b)}${qh((isNaN(this.opacity)?1:this.opacity)*255)}`}function TG(){const e=r$(this.opacity);return`${e===1?"rgb(":"rgba("}${up(this.r)}, ${up(this.g)}, ${up(this.b)}${e===1?")":`, ${e})`}`}function r$(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function up(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qh(e){return e=up(e),(e<16?"0":"")+e.toString(16)}function kG(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pl(e,t,n,r)}function qce(e){if(e instanceof Pl)return new Pl(e.h,e.s,e.l,e.opacity);if(e instanceof A1||(e=Rp(e)),!e)return new Pl;if(e instanceof Pl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Pl(o,a,l,e.opacity)}function jXe(e,t,n,r){return arguments.length===1?qce(e):new Pl(e,t,n,r??1)}function Pl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}j6(Pl,jXe,Wce(A1,{brighter(e){return e=e==null?n$:Math.pow(n$,e),new Pl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mw:Math.pow(mw,e),new Pl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new To(MN(e>=240?e-240:e+120,i,r),MN(e,i,r),MN(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Pl(AG(this.h),VS(this.s),VS(this.l),r$(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=r$(this.opacity);return`${e===1?"hsl(":"hsla("}${AG(this.h)}, ${VS(this.s)*100}%, ${VS(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AG(e){return e=(e||0)%360,e<0?e+360:e}function VS(e){return Math.max(0,Math.min(1,e||0))}function MN(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const B6=e=>()=>e;function BXe(e,t){return function(n){return e+n*t}}function zXe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function VXe(e){return(e=+e)==1?Gce:function(t,n){return n-t?zXe(t,n,e):B6(isNaN(t)?n:t)}}function Gce(e,t){var n=t-e;return n?BXe(e,n):B6(isNaN(e)?t:e)}const i$=function e(t){var n=VXe(t);function r(i,s){var o=n((i=xM(i)).r,(s=xM(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=Gce(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function UXe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function HXe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function WXe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=KP(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function qXe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $l(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function GXe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=KP(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var EM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LN=new RegExp(EM.source,"g");function KXe(e){return function(){return e}}function YXe(e){return function(t){return e(t)+""}}function Kce(e,t){var n=EM.lastIndex=LN.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=EM.exec(e))&&(i=LN.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:$l(r,i)})),n=LN.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?YXe(l[0].x):KXe(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function KP(e,t){var n=typeof t,r;return t==null||n==="boolean"?B6(t):(n==="number"?$l:n==="string"?(r=Rp(t))?(t=r,i$):Kce:t instanceof Rp?i$:t instanceof Date?qXe:HXe(t)?UXe:Array.isArray(t)?WXe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?GXe:$l)(e,t)}function QXe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var NG=180/Math.PI,IM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yce(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*NG,skewX:Math.atan(l)*NG,scaleX:o,scaleY:a}}var US;function XXe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?IM:Yce(t.a,t.b,t.c,t.d,t.e,t.f)}function JXe(e){return e==null||(US||(US=document.createElementNS("http://www.w3.org/2000/svg","g")),US.setAttribute("transform",e),!(e=US.transform.baseVal.consolidate()))?IM:(e=e.matrix,Yce(e.a,e.b,e.c,e.d,e.e,e.f))}function Qce(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,h,m,g){if(u!==d||c!==h){var y=m.push("translate(",null,t,null,n);g.push({i:y-4,x:$l(u,d)},{i:y-2,x:$l(c,h)})}else(d||h)&&m.push("translate("+d+t+h+n)}function o(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:$l(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,h){u!==c?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:$l(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,h,m,g){if(u!==d||c!==h){var y=m.push(i(m)+"scale(",null,",",null,")");g.push({i:y-4,x:$l(u,d)},{i:y-2,x:$l(c,h)})}else(d!==1||h!==1)&&m.push(i(m)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,h),o(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(m){for(var g=-1,y=h.length,_;++g<y;)d[(_=h[g]).i]=_.x(m);return d.join("")}}}var ZXe=Qce(XXe,"px, ","px)","deg)"),eJe=Qce(JXe,", ",")",")"),gy=0,A0=0,i0=0,Xce=1e3,s$,N0,o$=0,Dp=0,YP=0,yw=typeof performance=="object"&&performance.now?performance:Date,Jce=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function z6(){return Dp||(Jce(tJe),Dp=yw.now()+YP)}function tJe(){Dp=0}function a$(){this._call=this._time=this._next=null}a$.prototype=Zce.prototype={constructor:a$,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?z6():+n)+(t==null?0:+t),!this._next&&N0!==this&&(N0?N0._next=this:s$=this,N0=this),this._call=e,this._time=n,OM()},stop:function(){this._call&&(this._call=null,this._time=1/0,OM())}};function Zce(e,t,n){var r=new a$;return r.restart(e,t,n),r}function nJe(){z6(),++gy;for(var e=s$,t;e;)(t=Dp-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gy}function RG(){Dp=(o$=yw.now())+YP,gy=A0=0;try{nJe()}finally{gy=0,iJe(),Dp=0}}function rJe(){var e=yw.now(),t=e-o$;t>Xce&&(YP-=t,o$=e)}function iJe(){for(var e,t=s$,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:s$=n);N0=e,OM(r)}function OM(e){if(!gy){A0&&(A0=clearTimeout(A0));var t=e-Dp;t>24?(e<1/0&&(A0=setTimeout(RG,e-yw.now()-YP)),i0&&(i0=clearInterval(i0))):(i0||(o$=yw.now(),i0=setInterval(rJe,Xce)),gy=1,Jce(RG))}}function DG(e,t,n){var r=new a$;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var sJe=D6("start","end","cancel","interrupt"),oJe=[],efe=0,MG=1,$M=2,Bx=3,LG=4,CM=5,zx=6;function QP(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;aJe(e,n,{name:t,index:r,group:i,on:sJe,tween:oJe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:efe})}function V6(e,t){var n=Kl(e,t);if(n.state>efe)throw new Error("too late; already scheduled");return n}function Wu(e,t){var n=Kl(e,t);if(n.state>Bx)throw new Error("too late; already running");return n}function Kl(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function aJe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Zce(s,0,n.time);function s(u){n.state=MG,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,h,m;if(n.state!==MG)return l();for(c in r)if(m=r[c],m.name===n.name){if(m.state===Bx)return DG(o);m.state===LG?(m.state=zx,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[c]):+c<t&&(m.state=zx,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[c])}if(DG(function(){n.state===Bx&&(n.state=LG,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=$M,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$M){for(n.state=Bx,i=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=CM,1),d=-1,h=i.length;++d<h;)i[d].call(e,c);n.state===CM&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=zx,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function PM(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>$M&&r.state<CM,r.state=zx,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function lJe(e){return this.each(function(){PM(this,e)})}function uJe(e,t){var n,r;return function(){var i=Wu(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function cJe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Wu(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function fJe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Kl(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?uJe:cJe)(n,e,t))}function U6(e,t,n){var r=e._id;return e.each(function(){var i=Wu(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Kl(i,r).value[t]}}function tfe(e,t){var n;return(typeof t=="number"?$l:t instanceof Rp?i$:(n=Rp(t))?(t=n,i$):Kce)(e,t)}function dJe(e){return function(){this.removeAttribute(e)}}function hJe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pJe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function mJe(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function gJe(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function yJe(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function vJe(e,t){var n=GP(e),r=n==="transform"?eJe:tfe;return this.attrTween(e,typeof t=="function"?(n.local?yJe:gJe)(n,r,U6(this,"attr."+e,t)):t==null?(n.local?hJe:dJe)(n):(n.local?mJe:pJe)(n,r,t))}function _Je(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function wJe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function bJe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&wJe(e,s)),n}return i._value=t,i}function SJe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&_Je(e,s)),n}return i._value=t,i}function xJe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=GP(e);return this.tween(n,(r.local?bJe:SJe)(r,t))}function EJe(e,t){return function(){V6(this,e).delay=+t.apply(this,arguments)}}function IJe(e,t){return t=+t,function(){V6(this,e).delay=t}}function OJe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?EJe:IJe)(t,e)):Kl(this.node(),t).delay}function $Je(e,t){return function(){Wu(this,e).duration=+t.apply(this,arguments)}}function CJe(e,t){return t=+t,function(){Wu(this,e).duration=t}}function PJe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$Je:CJe)(t,e)):Kl(this.node(),t).duration}function TJe(e,t){if(typeof t!="function")throw new Error;return function(){Wu(this,e).ease=t}}function kJe(e){var t=this._id;return arguments.length?this.each(TJe(t,e)):Kl(this.node(),t).ease}function AJe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Wu(this,e).ease=n}}function NJe(e){if(typeof e!="function")throw new Error;return this.each(AJe(this._id,e))}function RJe(e){typeof e!="function"&&(e=Mce(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Hc(r,this._parents,this._name,this._id)}function DJe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),h,m=0;m<c;++m)(h=l[m]||u[m])&&(d[m]=h);for(;a<r;++a)o[a]=t[a];return new Hc(o,this._parents,this._name,this._id)}function MJe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function LJe(e,t,n){var r,i,s=MJe(t)?V6:Wu;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function FJe(e,t){var n=this._id;return arguments.length<2?Kl(this.node(),n).on.on(e):this.each(LJe(n,e,t))}function jJe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function BJe(){return this.on("end.remove",jJe(this._id))}function zJe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=M6(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=e.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,QP(u[h],t,n,h,u,Kl(c,n)));return new Hc(s,this._parents,t,n)}function VJe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dce(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=e.call(c,c.__data__,d,l),m,g=Kl(c,n),y=0,_=h.length;y<_;++y)(m=h[y])&&QP(m,t,n,y,h,g);s.push(h),o.push(c)}return new Hc(s,o,t,n)}var UJe=k1.prototype.constructor;function HJe(){return new UJe(this._groups,this._parents)}function WJe(e,t){var n,r,i;return function(){var s=my(this,e),o=(this.style.removeProperty(e),my(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function nfe(e){return function(){this.style.removeProperty(e)}}function qJe(e,t,n){var r,i=n+"",s;return function(){var o=my(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function GJe(e,t,n){var r,i,s;return function(){var o=my(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),my(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function KJe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=Wu(this,e),u=l.on,c=l.value[s]==null?a||(a=nfe(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function YJe(e,t,n){var r=(e+="")=="transform"?ZXe:tfe;return t==null?this.styleTween(e,WJe(e,r)).on("end.style."+e,nfe(e)):typeof t=="function"?this.styleTween(e,GJe(e,r,U6(this,"style."+e,t))).each(KJe(this._id,e)):this.styleTween(e,qJe(e,r,t),n).on("end.style."+e,null)}function QJe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function XJe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&QJe(e,o,n)),r}return s._value=t,s}function JJe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,XJe(e,t,n??""))}function ZJe(e){return function(){this.textContent=e}}function eZe(e){return function(){var t=e(this);this.textContent=t??""}}function tZe(e){return this.tween("text",typeof e=="function"?eZe(U6(this,"text",e)):ZJe(e==null?"":e+""))}function nZe(e){return function(t){this.textContent=e.call(this,t)}}function rZe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&nZe(i)),t}return r._value=e,r}function iZe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rZe(e))}function sZe(){for(var e=this._name,t=this._id,n=rfe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Kl(l,t);QP(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Hc(r,this._parents,e,n)}function oZe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=Wu(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var aZe=0;function Hc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rfe(){return++aZe}var ic=k1.prototype;Hc.prototype={constructor:Hc,select:zJe,selectAll:VJe,selectChild:ic.selectChild,selectChildren:ic.selectChildren,filter:RJe,merge:DJe,selection:HJe,transition:sZe,call:ic.call,nodes:ic.nodes,node:ic.node,size:ic.size,empty:ic.empty,each:ic.each,on:FJe,attr:vJe,attrTween:xJe,style:YJe,styleTween:JJe,text:tZe,textTween:iZe,remove:BJe,tween:fJe,delay:OJe,duration:PJe,ease:kJe,easeVarying:NJe,end:oZe,[Symbol.iterator]:ic[Symbol.iterator]};const lZe=e=>+e;function uZe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cZe={time:null,delay:0,duration:250,ease:uZe};function fZe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function dZe(e){var t,n;e instanceof Hc?(t=e._id,e=e._name):(t=rfe(),(n=cZe).time=z6(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&QP(l,e,t,u,o,n||fZe(l,t));return new Hc(r,this._parents,e,t)}k1.prototype.interrupt=lJe;k1.prototype.transition=dZe;const FN=e=>()=>e;function hZe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function pZe(e){e.stopImmediatePropagation()}function jN(e){e.preventDefault(),e.stopImmediatePropagation()}var FG={name:"drag"},BN={name:"space"},Pm={name:"handle"},Tm={name:"center"};const{abs:jG,max:Es,min:Is}=Math;function BG(e){return[+e[0],+e[1]]}function TM(e){return[BG(e[0]),BG(e[1])]}var Vx={name:"x",handles:["w","e"].map(vw),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Ux={name:"y",handles:["n","s"].map(vw),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},mZe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(vw),input:function(e){return e==null?null:TM(e)},output:function(e){return e}},sc={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zG={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},VG={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},gZe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},yZe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function vw(e){return{type:e}}function vZe(e){return!e.ctrlKey&&!e.button}function _Ze(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function wZe(){return navigator.maxTouchPoints||"ontouchstart"in this}function zN(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function bZe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function SZe(){return H6(Vx)}function xZe(){return H6(Ux)}function EZe(){return H6(mZe)}function H6(e){var t=_Ze,n=vZe,r=wZe,i=!0,s=D6("start","brush","end"),o=6,a;function l(_){var v=_.property("__brush",y).selectAll(".overlay").data([vw("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",sc.overlay).merge(v).each(function(){var S=zN(this).extent;hi(this).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1])}),_.selectAll(".selection").data([vw("selection")]).enter().append("rect").attr("class","selection").attr("cursor",sc.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var b=_.selectAll(".handle").data(e.handles,function(S){return S.type});b.exit().remove(),b.enter().append("rect").attr("class",function(S){return"handle handle--"+S.type}).attr("cursor",function(S){return sc[S.type]}),_.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",m).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(_,v,b){_.tween?_.on("start.brush",function(S){c(this,arguments).beforestart().start(S)}).on("interrupt.brush end.brush",function(S){c(this,arguments).end(S)}).tween("brush",function(){var S=this,x=S.__brush,$=c(S,arguments),E=x.selection,I=e.input(typeof v=="function"?v.apply(this,arguments):v,x.extent),T=KP(E,I);function M(U){x.selection=U===1&&I===null?null:T(U),u.call(S),$.brush()}return E!==null&&I!==null?M:M(1)}):_.each(function(){var S=this,x=arguments,$=S.__brush,E=e.input(typeof v=="function"?v.apply(S,x):v,$.extent),I=c(S,x).beforestart();PM(S),$.selection=E===null?null:E,u.call(S),I.start(b).brush(b).end(b)})},l.clear=function(_,v){l.move(_,null,v)};function u(){var _=hi(this),v=zN(this).selection;v?(_.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),_.selectAll(".handle").style("display",null).attr("x",function(b){return b.type[b.type.length-1]==="e"?v[1][0]-o/2:v[0][0]-o/2}).attr("y",function(b){return b.type[0]==="s"?v[1][1]-o/2:v[0][1]-o/2}).attr("width",function(b){return b.type==="n"||b.type==="s"?v[1][0]-v[0][0]+o:o}).attr("height",function(b){return b.type==="e"||b.type==="w"?v[1][1]-v[0][1]+o:o})):_.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(_,v,b){var S=_.__brush.emitter;return S&&(!b||!S.clean)?S:new d(_,v,b)}function d(_,v,b){this.that=_,this.args=v,this.state=_.__brush,this.active=0,this.clean=b}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(_,v){return this.starting?(this.starting=!1,this.emit("start",_,v)):this.emit("brush",_),this},brush:function(_,v){return this.emit("brush",_,v),this},end:function(_,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",_,v)),this},emit:function(_,v,b){var S=hi(this.that).datum();s.call(_,this.that,new hZe(_,{sourceEvent:v,target:l,selection:e.output(this.state.selection),mode:b,dispatch:s}),S)}};function h(_){if(a&&!_.touches||!n.apply(this,arguments))return;var v=this,b=_.target.__data__.type,S=(i&&_.metaKey?b="overlay":b)==="selection"?FG:i&&_.altKey?Tm:Pm,x=e===Ux?null:gZe[b],$=e===Vx?null:yZe[b],E=zN(v),I=E.extent,T=E.selection,M=I[0][0],U,z,H=I[0][1],q,B,ue=I[1][0],le,pe,Z=I[1][1],oe,X,k=0,A=0,K,D=x&&$&&i&&_.shiftKey,R,Y,fe=Array.from(_.touches||[_],Ae=>{const Xe=Ae.identifier;return Ae=wM(Ae,v),Ae.point0=Ae.slice(),Ae.identifier=Xe,Ae});PM(v);var he=c(v,arguments,!0).beforestart();if(b==="overlay"){T&&(K=!0);const Ae=[fe[0],fe[1]||fe[0]];E.selection=T=[[U=e===Ux?M:Is(Ae[0][0],Ae[1][0]),q=e===Vx?H:Is(Ae[0][1],Ae[1][1])],[le=e===Ux?ue:Es(Ae[0][0],Ae[1][0]),oe=e===Vx?Z:Es(Ae[0][1],Ae[1][1])]],fe.length>1&&it(_)}else U=T[0][0],q=T[0][1],le=T[1][0],oe=T[1][1];z=U,B=q,pe=le,X=oe;var ge=hi(v).attr("pointer-events","none"),ve=ge.selectAll(".overlay").attr("cursor",sc[b]);if(_.touches)he.moved=ye,he.ended=Ke;else{var ke=hi(_.view).on("mousemove.brush",ye,!0).on("mouseup.brush",Ke,!0);i&&ke.on("keydown.brush",Je,!0).on("keyup.brush",He,!0),OXe(_.view)}u.call(v),he.start(_,S.name);function ye(Ae){for(const Xe of Ae.changedTouches||[Ae])for(const _n of fe)_n.identifier===Xe.identifier&&(_n.cur=wM(Xe,v));if(D&&!R&&!Y&&fe.length===1){const Xe=fe[0];jG(Xe.cur[0]-Xe[0])>jG(Xe.cur[1]-Xe[1])?Y=!0:R=!0}for(const Xe of fe)Xe.cur&&(Xe[0]=Xe.cur[0],Xe[1]=Xe.cur[1]);K=!0,jN(Ae),it(Ae)}function it(Ae){const Xe=fe[0],_n=Xe.point0;var We;switch(k=Xe[0]-_n[0],A=Xe[1]-_n[1],S){case BN:case FG:{x&&(k=Es(M-U,Is(ue-le,k)),z=U+k,pe=le+k),$&&(A=Es(H-q,Is(Z-oe,A)),B=q+A,X=oe+A);break}case Pm:{fe[1]?(x&&(z=Es(M,Is(ue,fe[0][0])),pe=Es(M,Is(ue,fe[1][0])),x=1),$&&(B=Es(H,Is(Z,fe[0][1])),X=Es(H,Is(Z,fe[1][1])),$=1)):(x<0?(k=Es(M-U,Is(ue-U,k)),z=U+k,pe=le):x>0&&(k=Es(M-le,Is(ue-le,k)),z=U,pe=le+k),$<0?(A=Es(H-q,Is(Z-q,A)),B=q+A,X=oe):$>0&&(A=Es(H-oe,Is(Z-oe,A)),B=q,X=oe+A));break}case Tm:{x&&(z=Es(M,Is(ue,U-k*x)),pe=Es(M,Is(ue,le+k*x))),$&&(B=Es(H,Is(Z,q-A*$)),X=Es(H,Is(Z,oe+A*$)));break}}pe<z&&(x*=-1,We=U,U=le,le=We,We=z,z=pe,pe=We,b in zG&&ve.attr("cursor",sc[b=zG[b]])),X<B&&($*=-1,We=q,q=oe,oe=We,We=B,B=X,X=We,b in VG&&ve.attr("cursor",sc[b=VG[b]])),E.selection&&(T=E.selection),R&&(z=T[0][0],pe=T[1][0]),Y&&(B=T[0][1],X=T[1][1]),(T[0][0]!==z||T[0][1]!==B||T[1][0]!==pe||T[1][1]!==X)&&(E.selection=[[z,B],[pe,X]],u.call(v),he.brush(Ae,S.name))}function Ke(Ae){if(pZe(Ae),Ae.touches){if(Ae.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else $Xe(Ae.view,K),ke.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ge.attr("pointer-events","all"),ve.attr("cursor",sc.overlay),E.selection&&(T=E.selection),bZe(T)&&(E.selection=null,u.call(v)),he.end(Ae,S.name)}function Je(Ae){switch(Ae.keyCode){case 16:{D=x&&$;break}case 18:{S===Pm&&(x&&(le=pe-k*x,U=z+k*x),$&&(oe=X-A*$,q=B+A*$),S=Tm,it(Ae));break}case 32:{(S===Pm||S===Tm)&&(x<0?le=pe-k:x>0&&(U=z-k),$<0?oe=X-A:$>0&&(q=B-A),S=BN,ve.attr("cursor",sc.selection),it(Ae));break}default:return}jN(Ae)}function He(Ae){switch(Ae.keyCode){case 16:{D&&(R=Y=D=!1,it(Ae));break}case 18:{S===Tm&&(x<0?le=pe:x>0&&(U=z),$<0?oe=X:$>0&&(q=B),S=Pm,it(Ae));break}case 32:{S===BN&&(Ae.altKey?(x&&(le=pe-k*x,U=z+k*x),$&&(oe=X-A*$,q=B+A*$),S=Tm):(x<0?le=pe:x>0&&(U=z),$<0?oe=X:$>0&&(q=B),S=Pm),ve.attr("cursor",sc[b]),it(Ae));break}default:return}jN(Ae)}}function m(_){c(this,arguments).moved(_)}function g(_){c(this,arguments).ended(_)}function y(){var _=this.__brush||{selection:null};return _.extent=TM(t.apply(this,arguments)),_.dim=e,_}return l.extent=function(_){return arguments.length?(t=typeof _=="function"?_:FN(TM(_)),l):t},l.filter=function(_){return arguments.length?(n=typeof _=="function"?_:FN(!!_),l):n},l.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:FN(!!_),l):r},l.handleSize=function(_){return arguments.length?(o=+_,l):o},l.keyModifiers=function(_){return arguments.length?(i=!!_,l):i},l.on=function(){var _=s.on.apply(s,arguments);return _===s?l:_},l}const kM=Math.PI,AM=2*kM,$h=1e-6,IZe=AM-$h;function ife(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function OZe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ife;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $Ze{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ife:OZe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-t,u=i-n,c=o-t,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>$h)if(!(Math.abs(d*l-u*c)>$h)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=i-a,y=l*l+u*u,_=m*m+g*g,v=Math.sqrt(y),b=Math.sqrt(h),S=s*Math.tan((kM-Math.acos((y+h-_)/(2*v*b)))/2),x=S/b,$=S/v;Math.abs(x-1)>$h&&this._append`L${t+x*c},${n+x*d}`,this._append`A${s},${s},0,0,${+(d*m>c*g)},${this._x1=t+$*l},${this._y1=n+$*u}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>$h||Math.abs(this._y1-c)>$h)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%AM+AM),h>IZe?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>$h&&this._append`A${r},${r},0,${+(h>=kM)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var UG={},VN={},UN=34,s0=10,HN=13;function sfe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function CZe(e,t){var n=sfe(e);return function(r,i){return t(n(r),i,e)}}function HG(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function ho(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function PZe(e){return e<0?"-"+ho(-e,6):e>9999?"+"+ho(e,6):ho(e,4)}function TZe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":PZe(e.getUTCFullYear())+"-"+ho(e.getUTCMonth()+1,2)+"-"+ho(e.getUTCDate(),2)+(i?"T"+ho(t,2)+":"+ho(n,2)+":"+ho(r,2)+"."+ho(i,3)+"Z":r?"T"+ho(t,2)+":"+ho(n,2)+":"+ho(r,2)+"Z":n||t?"T"+ho(t,2)+":"+ho(n,2)+"Z":"")}function kZe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,h){var m,g,y=i(d,function(_,v){if(m)return m(_,v-1);g=_,m=h?CZe(_,h):sfe(_)});return y.columns=g||[],y}function i(d,h){var m=[],g=d.length,y=0,_=0,v,b=g<=0,S=!1;d.charCodeAt(g-1)===s0&&--g,d.charCodeAt(g-1)===HN&&--g;function x(){if(b)return VN;if(S)return S=!1,UG;var E,I=y,T;if(d.charCodeAt(I)===UN){for(;y++<g&&d.charCodeAt(y)!==UN||d.charCodeAt(++y)===UN;);return(E=y)>=g?b=!0:(T=d.charCodeAt(y++))===s0?S=!0:T===HN&&(S=!0,d.charCodeAt(y)===s0&&++y),d.slice(I+1,E-1).replace(/""/g,'"')}for(;y<g;){if((T=d.charCodeAt(E=y++))===s0)S=!0;else if(T===HN)S=!0,d.charCodeAt(y)===s0&&++y;else if(T!==n)continue;return d.slice(I,E)}return b=!0,d.slice(I,g)}for(;(v=x())!==VN;){for(var $=[];v!==UG&&v!==VN;)$.push(v),v=x();h&&($=h($,_++))==null||m.push($)}return m}function s(d,h){return d.map(function(m){return h.map(function(g){return c(m[g])}).join(e)})}function o(d,h){return h==null&&(h=HG(d)),[h.map(c).join(e)].concat(s(d,h)).join(`
`)}function a(d,h){return h==null&&(h=HG(d)),s(d,h).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?TZe(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}var AZe=kZe(","),NZe=AZe.parse;function RZe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function DZe(e,t){return fetch(e,t).then(RZe)}function MZe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),DZe(t,n).then(function(i){return e(i,r)})}}var LZe=MZe(NZe);function FZe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l$(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function yy(e){return e=l$(Math.abs(e)),e?e[1]:NaN}function jZe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function BZe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var zZe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function u$(e){if(!(t=zZe.exec(e)))throw new Error("invalid format: "+e);var t;return new W6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}u$.prototype=W6.prototype;function W6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}W6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function VZe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ofe;function UZe(e,t){var n=l$(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(ofe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+l$(e,Math.max(0,t+s-1))[0]}function WG(e,t){var n=l$(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qG={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:FZe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>WG(e*100,t),r:WG,s:UZe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GG(e){return e}var KG=Array.prototype.map,YG=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HZe(e){var t=e.grouping===void 0||e.thousands===void 0?GG:jZe(KG.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?GG:BZe(KG.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=u$(d);var h=d.fill,m=d.align,g=d.sign,y=d.symbol,_=d.zero,v=d.width,b=d.comma,S=d.precision,x=d.trim,$=d.type;$==="n"?(b=!0,$="g"):qG[$]||(S===void 0&&(S=12),x=!0,$="g"),(_||h==="0"&&m==="=")&&(_=!0,h="0",m="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",I=y==="$"?r:/[%p]/.test($)?o:"",T=qG[$],M=/[defgprs%]/.test($);S=S===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function U(z){var H=E,q=I,B,ue,le;if($==="c")q=T(z)+q,z="";else{z=+z;var pe=z<0||1/z<0;if(z=isNaN(z)?l:T(Math.abs(z),S),x&&(z=VZe(z)),pe&&+z==0&&g!=="+"&&(pe=!1),H=(pe?g==="("?g:a:g==="-"||g==="("?"":g)+H,q=($==="s"?YG[8+ofe/3]:"")+q+(pe&&g==="("?")":""),M){for(B=-1,ue=z.length;++B<ue;)if(le=z.charCodeAt(B),48>le||le>57){q=(le===46?i+z.slice(B+1):z.slice(B))+q,z=z.slice(0,B);break}}}b&&!_&&(z=t(z,1/0));var Z=H.length+z.length+q.length,oe=Z<v?new Array(v-Z+1).join(h):"";switch(b&&_&&(z=t(oe+z,oe.length?v-q.length:1/0),oe=""),m){case"<":z=H+z+q+oe;break;case"=":z=H+oe+z+q;break;case"^":z=oe.slice(0,Z=oe.length>>1)+H+z+q+oe.slice(Z);break;default:z=oe+H+z+q;break}return s(z)}return U.toString=function(){return d+""},U}function c(d,h){var m=u((d=u$(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(yy(h)/3)))*3,y=Math.pow(10,-g),_=YG[8+g/3];return function(v){return m(y*v)+_}}return{format:u,formatPrefix:c}}var HS,XP,afe;WZe({thousands:",",grouping:[3],currency:["$",""]});function WZe(e){return HS=HZe(e),XP=HS.format,afe=HS.formatPrefix,HS}function qZe(e){return Math.max(0,-yy(Math.abs(e)))}function GZe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yy(t)/3)))*3-yy(Math.abs(e)))}function KZe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yy(t)-yy(e))+1}function YZe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function QZe(){return this.eachAfter(YZe)}function XZe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function JZe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function ZZe(e,t){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function eet(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function tet(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function net(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function ret(e){for(var t=this,n=iet(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function iet(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function set(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function oet(){return Array.from(this)}function aet(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function uet(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*cet(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function q6(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=het)):t===void 0&&(t=det);for(var n=new c$(e),r,i=[n],s,o,a,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new c$(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(met)}function fet(){return q6(this).eachBefore(pet)}function det(e){return e.children}function het(e){return Array.isArray(e)?e[1]:null}function pet(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function met(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function c$(e){this.data=e,this.depth=this.height=0,this.parent=null}c$.prototype=q6.prototype={constructor:c$,count:QZe,each:XZe,eachAfter:ZZe,eachBefore:JZe,find:eet,sum:tet,sort:net,path:ret,ancestors:set,descendants:oet,leaves:aet,links:uet,copy:fet,[Symbol.iterator]:cet};function get(e){return e==null?null:yet(e)}function yet(e){if(typeof e!="function")throw new Error;return e}function QG(){return 0}function vet(e){return function(){return e}}const _et=1664525,wet=1013904223,XG=4294967296;function bet(){let e=1;return()=>(e=(_et*e+wet)%XG)/XG}function xet(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Eet(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function Iet(e,t){for(var n=0,r=(e=Eet(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&lfe(o,s)?++n:(o=$et(i=Oet(i,s)),n=0);return o}function Oet(e,t){var n,r;if(WN(t,e))return[t];for(n=0;n<e.length;++n)if(WS(t,e[n])&&WN(R0(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(WS(R0(e[n],e[r]),t)&&WS(R0(e[n],t),e[r])&&WS(R0(e[r],t),e[n])&&WN(ufe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function WS(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function lfe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function WN(e,t){for(var n=0;n<t.length;++n)if(!lfe(e,t[n]))return!1;return!0}function $et(e){switch(e.length){case 1:return Cet(e[0]);case 2:return R0(e[0],e[1]);case 3:return ufe(e[0],e[1],e[2])}}function Cet(e){return{x:e.x,y:e.y,r:e.r}}function R0(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,l=s-n,u=o-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+s+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+i+a)/2}}function ufe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,h=r-o,m=r-u,g=i-a,y=i-c,_=l-s,v=d-s,b=r*r+i*i-s*s,S=b-o*o-a*a+l*l,x=b-u*u-c*c+d*d,$=m*g-h*y,E=(g*x-y*S)/($*2)-r,I=(y*_-g*v)/$,T=(m*S-h*x)/($*2)-i,M=(h*v-m*_)/$,U=I*I+M*M-1,z=2*(s+E*I+T*M),H=E*E+T*T-s*s,q=-(Math.abs(U)>1e-6?(z+Math.sqrt(z*z-4*U*H))/(2*U):H/z);return{x:r+E+I*q,y:i+T+M*q,r:q}}function JG(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,l,u=r*r+o*o;u?(s=t.r+n.r,s*=s,l=e.r+n.r,l*=l,s>l?(i=(u+l-s)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(u+s-l)/(2*u),a=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function ZG(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function eK(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function qS(e){this._=e,this.next=null,this.previous=null}function Pet(e,t){if(!(s=(e=xet(e)).length))return 0;var n,r,i,s,o,a,l,u,c,d,h;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;JG(r,n,i=e[2]),n=new qS(n),r=new qS(r),i=new qS(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<s;++l){JG(n._,r._,i=e[l]),i=new qS(i),u=r.next,c=n.previous,d=r._.r,h=n._.r;do if(d<=h){if(ZG(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(ZG(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}h+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=eK(n);(i=i.next)!==r;)(a=eK(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Iet(n,t),l=0;l<s;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function Tet(e){return Math.sqrt(e.value)}function ket(){var e=null,t=1,n=1,r=QG;function i(s){const o=bet();return s.x=t/2,s.y=n/2,e?s.eachBefore(tK(e)).eachAfter(qN(r,.5,o)).eachBefore(nK(1)):s.eachBefore(tK(Tet)).eachAfter(qN(QG,1,o)).eachAfter(qN(r,s.r/Math.min(t,n),o)).eachBefore(nK(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=get(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:vet(+s),i):r},i}function tK(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function qN(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,l;if(a)for(s=0;s<o;++s)i[s].r+=a;if(l=Pet(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=l+a}}}function nK(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function JP(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const rK=Symbol("implicit");function ZP(){var e=new bG,t=[],n=[],r=rK;function i(s){let o=e.get(s);if(o===void 0){if(r!==rK)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new bG;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ZP(t,n).unknown(r)},JP.apply(i,arguments),i}function N1(){var e=ZP().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,m=i<r,g=m?i:r,y=m?r:i;s=(y-g)/Math.max(1,h-l+u*2),a&&(s=Math.floor(s)),g+=(y-g-s*(h-l))*c,o=s*(1-l),a&&(g=Math.round(g),o=Math.round(o));var _=UYe(h).map(function(v){return g+s*v});return n(m?_.reverse():_)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(a=!!h,d()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return N1(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},JP.apply(d(),arguments)}function Aet(e){return function(){return e}}function Net(e){return+e}var iK=[0,1];function og(e){return e}function NM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Aet(isNaN(t)?NaN:.5)}function Ret(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Det(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=NM(i,r),s=n(o,s)):(r=NM(r,i),s=n(s,o)),function(a){return s(r(a))}}function Met(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=NM(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=RYe(e,a,1,r)-1;return s[l](i[l](a))}}function cfe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Let(){var e=iK,t=iK,n=KP,r,i,s,o=og,a,l,u;function c(){var h=Math.min(e.length,t.length);return o!==og&&(o=Ret(e[0],e[h-1])),a=h>2?Met:Det,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(e.map(r),t,n)))(r(o(h)))}return d.invert=function(h){return o(i((u||(u=a(t,e.map(r),$l)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Net),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=QXe,c()},d.clamp=function(h){return arguments.length?(o=h?!0:og,c()):o!==og},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,m){return r=h,i=m,c()}}function ffe(){return Let()(og,og)}function Fet(e,t,n,r){var i=vM(e,t,n),s;switch(r=u$(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=GZe(i,o))&&(r.precision=s),afe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=KZe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=qZe(i))&&(r.precision=s-(r.type==="%")*2);break}}return XP(r)}function jet(e){var t=e.domain;return e.ticks=function(n){var r=t();return zYe(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Fet(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=yM(o,a,n),u===l)return r[i]=o,r[s]=a,t(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Pd(){var e=ffe();return e.copy=function(){return cfe(e,Pd())},JP.apply(e,arguments),jet(e)}function Bet(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const GN=new Date,KN=new Date;function Ni(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=s=>Ni(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(GN.setTime(+s),KN.setTime(+o),e(GN),e(KN),Math.floor(n(GN,KN))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const f$=Ni(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);f$.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ni(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):f$);f$.range;const Sc=1e3,Ga=Sc*60,xc=Ga*60,Wc=xc*24,G6=Wc*7,sK=Wc*30,YN=Wc*365,ag=Ni(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sc)},(e,t)=>(t-e)/Sc,e=>e.getUTCSeconds());ag.range;const K6=Ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sc)},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getMinutes());K6.range;const zet=Ni(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCMinutes());zet.range;const Y6=Ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sc-e.getMinutes()*Ga)},(e,t)=>{e.setTime(+e+t*xc)},(e,t)=>(t-e)/xc,e=>e.getHours());Y6.range;const Vet=Ni(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xc)},(e,t)=>(t-e)/xc,e=>e.getUTCHours());Vet.range;const R1=Ni(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ga)/Wc,e=>e.getDate()-1);R1.range;const Q6=Ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wc,e=>e.getUTCDate()-1);Q6.range;const Uet=Ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wc,e=>Math.floor(e/Wc));Uet.range;function Jp(e){return Ni(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ga)/G6)}const eT=Jp(0),d$=Jp(1),Het=Jp(2),Wet=Jp(3),vy=Jp(4),qet=Jp(5),Get=Jp(6);eT.range;d$.range;Het.range;Wet.range;vy.range;qet.range;Get.range;function Zp(e){return Ni(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/G6)}const dfe=Zp(0),h$=Zp(1),Ket=Zp(2),Yet=Zp(3),_y=Zp(4),Qet=Zp(5),Xet=Zp(6);dfe.range;h$.range;Ket.range;Yet.range;_y.range;Qet.range;Xet.range;const X6=Ni(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());X6.range;const Jet=Ni(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jet.range;const qc=Ni(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ni(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});qc.range;const Mp=Ni(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ni(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Mp.range;function Zet(e,t,n,r,i,s){const o=[[ag,1,Sc],[ag,5,5*Sc],[ag,15,15*Sc],[ag,30,30*Sc],[s,1,Ga],[s,5,5*Ga],[s,15,15*Ga],[s,30,30*Ga],[i,1,xc],[i,3,3*xc],[i,6,6*xc],[i,12,12*xc],[r,1,Wc],[r,2,2*Wc],[n,1,G6],[t,1,sK],[t,3,3*sK],[e,1,YN]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),g=m?m.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,m=R6(([,,_])=>_).right(o,h);if(m===o.length)return e.every(vM(u/YN,c/YN,d));if(m===0)return f$.every(Math.max(vM(u,c,d),1));const[g,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(y)}return[a,l]}const[ett,ttt]=Zet(qc,X6,eT,R1,Y6,K6);function QN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function XN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ntt(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,u=a0(i),c=l0(i),d=a0(s),h=l0(s),m=a0(o),g=l0(o),y=a0(a),_=l0(a),v=a0(l),b=l0(l),S={a:pe,A:Z,b:oe,B:X,c:null,d:fK,e:fK,f:Itt,g:Dtt,G:Ltt,H:Stt,I:xtt,j:Ett,L:hfe,m:Ott,M:$tt,p:k,q:A,Q:pK,s:mK,S:Ctt,u:Ptt,U:Ttt,V:ktt,w:Att,W:Ntt,x:null,X:null,y:Rtt,Y:Mtt,Z:Ftt,"%":hK},x={a:K,A:D,b:R,B:Y,c:null,d:dK,e:dK,f:Vtt,g:Jtt,G:ent,H:jtt,I:Btt,j:ztt,L:mfe,m:Utt,M:Htt,p:fe,q:he,Q:pK,s:mK,S:Wtt,u:qtt,U:Gtt,V:Ktt,w:Ytt,W:Qtt,x:null,X:null,y:Xtt,Y:Ztt,Z:tnt,"%":hK},$={a:U,A:z,b:H,B:q,c:B,d:uK,e:uK,f:vtt,g:lK,G:aK,H:cK,I:cK,j:ptt,L:ytt,m:htt,M:mtt,p:M,q:dtt,Q:wtt,s:btt,S:gtt,u:att,U:ltt,V:utt,w:ott,W:ctt,x:ue,X:le,y:lK,Y:aK,Z:ftt,"%":_tt};S.x=E(n,S),S.X=E(r,S),S.c=E(t,S),x.x=E(n,x),x.X=E(r,x),x.c=E(t,x);function E(ge,ve){return function(ke){var ye=[],it=-1,Ke=0,Je=ge.length,He,Ae,Xe;for(ke instanceof Date||(ke=new Date(+ke));++it<Je;)ge.charCodeAt(it)===37&&(ye.push(ge.slice(Ke,it)),(Ae=oK[He=ge.charAt(++it)])!=null?He=ge.charAt(++it):Ae=He==="e"?" ":"0",(Xe=ve[He])&&(He=Xe(ke,Ae)),ye.push(He),Ke=it+1);return ye.push(ge.slice(Ke,it)),ye.join("")}}function I(ge,ve){return function(ke){var ye=o0(1900,void 0,1),it=T(ye,ge,ke+="",0),Ke,Je;if(it!=ke.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(ve&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Ke=XN(o0(ye.y,0,1)),Je=Ke.getUTCDay(),Ke=Je>4||Je===0?h$.ceil(Ke):h$(Ke),Ke=Q6.offset(Ke,(ye.V-1)*7),ye.y=Ke.getUTCFullYear(),ye.m=Ke.getUTCMonth(),ye.d=Ke.getUTCDate()+(ye.w+6)%7):(Ke=QN(o0(ye.y,0,1)),Je=Ke.getDay(),Ke=Je>4||Je===0?d$.ceil(Ke):d$(Ke),Ke=R1.offset(Ke,(ye.V-1)*7),ye.y=Ke.getFullYear(),ye.m=Ke.getMonth(),ye.d=Ke.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Je="Z"in ye?XN(o0(ye.y,0,1)).getUTCDay():QN(o0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Je+5)%7:ye.w+ye.U*7-(Je+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,XN(ye)):QN(ye)}}function T(ge,ve,ke,ye){for(var it=0,Ke=ve.length,Je=ke.length,He,Ae;it<Ke;){if(ye>=Je)return-1;if(He=ve.charCodeAt(it++),He===37){if(He=ve.charAt(it++),Ae=$[He in oK?ve.charAt(it++):He],!Ae||(ye=Ae(ge,ke,ye))<0)return-1}else if(He!=ke.charCodeAt(ye++))return-1}return ye}function M(ge,ve,ke){var ye=u.exec(ve.slice(ke));return ye?(ge.p=c.get(ye[0].toLowerCase()),ke+ye[0].length):-1}function U(ge,ve,ke){var ye=m.exec(ve.slice(ke));return ye?(ge.w=g.get(ye[0].toLowerCase()),ke+ye[0].length):-1}function z(ge,ve,ke){var ye=d.exec(ve.slice(ke));return ye?(ge.w=h.get(ye[0].toLowerCase()),ke+ye[0].length):-1}function H(ge,ve,ke){var ye=v.exec(ve.slice(ke));return ye?(ge.m=b.get(ye[0].toLowerCase()),ke+ye[0].length):-1}function q(ge,ve,ke){var ye=y.exec(ve.slice(ke));return ye?(ge.m=_.get(ye[0].toLowerCase()),ke+ye[0].length):-1}function B(ge,ve,ke){return T(ge,t,ve,ke)}function ue(ge,ve,ke){return T(ge,n,ve,ke)}function le(ge,ve,ke){return T(ge,r,ve,ke)}function pe(ge){return o[ge.getDay()]}function Z(ge){return s[ge.getDay()]}function oe(ge){return l[ge.getMonth()]}function X(ge){return a[ge.getMonth()]}function k(ge){return i[+(ge.getHours()>=12)]}function A(ge){return 1+~~(ge.getMonth()/3)}function K(ge){return o[ge.getUTCDay()]}function D(ge){return s[ge.getUTCDay()]}function R(ge){return l[ge.getUTCMonth()]}function Y(ge){return a[ge.getUTCMonth()]}function fe(ge){return i[+(ge.getUTCHours()>=12)]}function he(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var ve=E(ge+="",S);return ve.toString=function(){return ge},ve},parse:function(ge){var ve=I(ge+="",!1);return ve.toString=function(){return ge},ve},utcFormat:function(ge){var ve=E(ge+="",x);return ve.toString=function(){return ge},ve},utcParse:function(ge){var ve=I(ge+="",!0);return ve.toString=function(){return ge},ve}}}var oK={"-":"",_:" ",0:"0"},Gi=/^\s*\d+/,rtt=/^%/,itt=/[\\^$*+?|[\]().{}]/g;function jn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function stt(e){return e.replace(itt,"\\$&")}function a0(e){return new RegExp("^(?:"+e.map(stt).join("|")+")","i")}function l0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ott(e,t,n){var r=Gi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function att(e,t,n){var r=Gi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ltt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function utt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ctt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=Gi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ftt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dtt(e,t,n){var r=Gi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function htt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function uK(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ptt(e,t,n){var r=Gi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function mtt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gtt(e,t,n){var r=Gi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ytt(e,t,n){var r=Gi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vtt(e,t,n){var r=Gi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _tt(e,t,n){var r=rtt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wtt(e,t,n){var r=Gi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function btt(e,t,n){var r=Gi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fK(e,t){return jn(e.getDate(),t,2)}function Stt(e,t){return jn(e.getHours(),t,2)}function xtt(e,t){return jn(e.getHours()%12||12,t,2)}function Ett(e,t){return jn(1+R1.count(qc(e),e),t,3)}function hfe(e,t){return jn(e.getMilliseconds(),t,3)}function Itt(e,t){return hfe(e,t)+"000"}function Ott(e,t){return jn(e.getMonth()+1,t,2)}function $tt(e,t){return jn(e.getMinutes(),t,2)}function Ctt(e,t){return jn(e.getSeconds(),t,2)}function Ptt(e){var t=e.getDay();return t===0?7:t}function Ttt(e,t){return jn(eT.count(qc(e)-1,e),t,2)}function pfe(e){var t=e.getDay();return t>=4||t===0?vy(e):vy.ceil(e)}function ktt(e,t){return e=pfe(e),jn(vy.count(qc(e),e)+(qc(e).getDay()===4),t,2)}function Att(e){return e.getDay()}function Ntt(e,t){return jn(d$.count(qc(e)-1,e),t,2)}function Rtt(e,t){return jn(e.getFullYear()%100,t,2)}function Dtt(e,t){return e=pfe(e),jn(e.getFullYear()%100,t,2)}function Mtt(e,t){return jn(e.getFullYear()%1e4,t,4)}function Ltt(e,t){var n=e.getDay();return e=n>=4||n===0?vy(e):vy.ceil(e),jn(e.getFullYear()%1e4,t,4)}function Ftt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jn(t/60|0,"0",2)+jn(t%60,"0",2)}function dK(e,t){return jn(e.getUTCDate(),t,2)}function jtt(e,t){return jn(e.getUTCHours(),t,2)}function Btt(e,t){return jn(e.getUTCHours()%12||12,t,2)}function ztt(e,t){return jn(1+Q6.count(Mp(e),e),t,3)}function mfe(e,t){return jn(e.getUTCMilliseconds(),t,3)}function Vtt(e,t){return mfe(e,t)+"000"}function Utt(e,t){return jn(e.getUTCMonth()+1,t,2)}function Htt(e,t){return jn(e.getUTCMinutes(),t,2)}function Wtt(e,t){return jn(e.getUTCSeconds(),t,2)}function qtt(e){var t=e.getUTCDay();return t===0?7:t}function Gtt(e,t){return jn(dfe.count(Mp(e)-1,e),t,2)}function gfe(e){var t=e.getUTCDay();return t>=4||t===0?_y(e):_y.ceil(e)}function Ktt(e,t){return e=gfe(e),jn(_y.count(Mp(e),e)+(Mp(e).getUTCDay()===4),t,2)}function Ytt(e){return e.getUTCDay()}function Qtt(e,t){return jn(h$.count(Mp(e)-1,e),t,2)}function Xtt(e,t){return jn(e.getUTCFullYear()%100,t,2)}function Jtt(e,t){return e=gfe(e),jn(e.getUTCFullYear()%100,t,2)}function Ztt(e,t){return jn(e.getUTCFullYear()%1e4,t,4)}function ent(e,t){var n=e.getUTCDay();return e=n>=4||n===0?_y(e):_y.ceil(e),jn(e.getUTCFullYear()%1e4,t,4)}function tnt(){return"+0000"}function hK(){return"%"}function pK(e){return+e}function mK(e){return Math.floor(+e/1e3)}var km,yfe,vfe;nnt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nnt(e){return km=ntt(e),yfe=km.format,km.parse,vfe=km.utcFormat,km.utcParse,km}function rnt(e){return new Date(e)}function int(e){return e instanceof Date?+e:+new Date(+e)}function _fe(e,t,n,r,i,s,o,a,l,u){var c=ffe(),d=c.invert,h=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),_=u("%I %p"),v=u("%a %d"),b=u("%b %d"),S=u("%B"),x=u("%Y");function $(E){return(l(E)<E?m:a(E)<E?g:o(E)<E?y:s(E)<E?_:r(E)<E?i(E)<E?v:b:n(E)<E?S:x)(E)}return c.invert=function(E){return new Date(d(E))},c.domain=function(E){return arguments.length?h(Array.from(E,int)):h().map(rnt)},c.ticks=function(E){var I=h();return e(I[0],I[I.length-1],E??10)},c.tickFormat=function(E,I){return I==null?$:u(I)},c.nice=function(E){var I=h();return(!E||typeof E.range!="function")&&(E=t(I[0],I[I.length-1],E??10)),E?h(Bet(I,E)):c},c.copy=function(){return cfe(c,_fe(e,t,n,r,i,s,o,a,l,u))},c}function snt(){return JP.apply(_fe(ett,ttt,qc,X6,eT,R1,Y6,K6,ag,yfe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ont(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const wfe=ont("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ii(e){return function(){return e}}const gK=Math.abs,Os=Math.atan2,vh=Math.cos,ant=Math.max,JN=Math.min,eu=Math.sin,lg=Math.sqrt,co=1e-12,_w=Math.PI,p$=_w/2,Hx=2*_w;function lnt(e){return e>1?0:e<-1?_w:Math.acos(e)}function yK(e){return e>=1?p$:e<=-1?-p$:Math.asin(e)}function unt(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new $Ze(t)}function cnt(e){return e.innerRadius}function fnt(e){return e.outerRadius}function dnt(e){return e.startAngle}function hnt(e){return e.endAngle}function pnt(e){return e&&e.padAngle}function mnt(e,t,n,r,i,s,o,a){var l=n-e,u=r-t,c=o-i,d=a-s,h=d*l-c*u;if(!(h*h<co))return h=(c*(t-s)-d*(e-i))/h,[e+h*l,t+h*u]}function GS(e,t,n,r,i,s,o){var a=e-n,l=t-r,u=(o?s:-s)/lg(a*a+l*l),c=u*l,d=-u*a,h=e+c,m=t+d,g=n+c,y=r+d,_=(h+g)/2,v=(m+y)/2,b=g-h,S=y-m,x=b*b+S*S,$=i-s,E=h*y-g*m,I=(S<0?-1:1)*lg(ant(0,$*$*x-E*E)),T=(E*S-b*I)/x,M=(-E*b-S*I)/x,U=(E*S+b*I)/x,z=(-E*b+S*I)/x,H=T-_,q=M-v,B=U-_,ue=z-v;return H*H+q*q>B*B+ue*ue&&(T=U,M=z),{cx:T,cy:M,x01:-c,y01:-d,x11:T*(i/$-1),y11:M*(i/$-1)}}function vK(){var e=cnt,t=fnt,n=Ii(0),r=null,i=dnt,s=hnt,o=pnt,a=null,l=unt(u);function u(){var c,d,h=+e.apply(this,arguments),m=+t.apply(this,arguments),g=i.apply(this,arguments)-p$,y=s.apply(this,arguments)-p$,_=gK(y-g),v=y>g;if(a||(a=c=l()),m<h&&(d=m,m=h,h=d),!(m>co))a.moveTo(0,0);else if(_>Hx-co)a.moveTo(m*vh(g),m*eu(g)),a.arc(0,0,m,g,y,!v),h>co&&(a.moveTo(h*vh(y),h*eu(y)),a.arc(0,0,h,y,g,v));else{var b=g,S=y,x=g,$=y,E=_,I=_,T=o.apply(this,arguments)/2,M=T>co&&(r?+r.apply(this,arguments):lg(h*h+m*m)),U=JN(gK(m-h)/2,+n.apply(this,arguments)),z=U,H=U,q,B;if(M>co){var ue=yK(M/h*eu(T)),le=yK(M/m*eu(T));(E-=ue*2)>co?(ue*=v?1:-1,x+=ue,$-=ue):(E=0,x=$=(g+y)/2),(I-=le*2)>co?(le*=v?1:-1,b+=le,S-=le):(I=0,b=S=(g+y)/2)}var pe=m*vh(b),Z=m*eu(b),oe=h*vh($),X=h*eu($);if(U>co){var k=m*vh(S),A=m*eu(S),K=h*vh(x),D=h*eu(x),R;if(_<_w)if(R=mnt(pe,Z,K,D,k,A,oe,X)){var Y=pe-R[0],fe=Z-R[1],he=k-R[0],ge=A-R[1],ve=1/eu(lnt((Y*he+fe*ge)/(lg(Y*Y+fe*fe)*lg(he*he+ge*ge)))/2),ke=lg(R[0]*R[0]+R[1]*R[1]);z=JN(U,(h-ke)/(ve-1)),H=JN(U,(m-ke)/(ve+1))}else z=H=0}I>co?H>co?(q=GS(K,D,pe,Z,m,H,v),B=GS(k,A,oe,X,m,H,v),a.moveTo(q.cx+q.x01,q.cy+q.y01),H<U?a.arc(q.cx,q.cy,H,Os(q.y01,q.x01),Os(B.y01,B.x01),!v):(a.arc(q.cx,q.cy,H,Os(q.y01,q.x01),Os(q.y11,q.x11),!v),a.arc(0,0,m,Os(q.cy+q.y11,q.cx+q.x11),Os(B.cy+B.y11,B.cx+B.x11),!v),a.arc(B.cx,B.cy,H,Os(B.y11,B.x11),Os(B.y01,B.x01),!v))):(a.moveTo(pe,Z),a.arc(0,0,m,b,S,!v)):a.moveTo(pe,Z),!(h>co)||!(E>co)?a.lineTo(oe,X):z>co?(q=GS(oe,X,k,A,h,-z,v),B=GS(pe,Z,K,D,h,-z,v),a.lineTo(q.cx+q.x01,q.cy+q.y01),z<U?a.arc(q.cx,q.cy,z,Os(q.y01,q.x01),Os(B.y01,B.x01),!v):(a.arc(q.cx,q.cy,z,Os(q.y01,q.x01),Os(q.y11,q.x11),!v),a.arc(0,0,h,Os(q.cy+q.y11,q.cx+q.x11),Os(B.cy+B.y11,B.cx+B.x11),v),a.arc(B.cx,B.cy,z,Os(B.y11,B.x11),Os(B.y01,B.x01),!v))):a.arc(0,0,h,$,x,v)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-_w/2;return[vh(d)*c,eu(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Ii(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Ii(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Ii(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Ii(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Ii(+c),u):i},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Ii(+c),u):s},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Ii(+c),u):o},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function bfe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gnt(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function ynt(e){return e}function vnt(){var e=ynt,t=gnt,n=null,r=Ii(0),i=Ii(Hx),s=Ii(0);function o(a){var l,u=(a=bfe(a)).length,c,d,h=0,m=new Array(u),g=new Array(u),y=+r.apply(this,arguments),_=Math.min(Hx,Math.max(-Hx,i.apply(this,arguments)-y)),v,b=Math.min(Math.abs(_)/u,s.apply(this,arguments)),S=b*(_<0?-1:1),x;for(l=0;l<u;++l)(x=g[m[l]=l]=+e(a[l],l,a))>0&&(h+=x);for(t!=null?m.sort(function($,E){return t(g[$],g[E])}):n!=null&&m.sort(function($,E){return n(a[$],a[E])}),l=0,d=h?(_-u*S)/h:0;l<u;++l,y=v)c=m[l],x=g[c],v=y+(x>0?x*d:0)+S,g[c]={data:a[c],index:l,value:x,startAngle:y,endAngle:v,padAngle:b};return g}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:Ii(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Ii(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Ii(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:Ii(+a),o):s},o}function _K(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function wK(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _nt(e,t){return e[t]}function wnt(e){const t=[];return t.key=e,t}function bnt(){var e=Ii([]),t=wK,n=_K,r=_nt;function i(s){var o=Array.from(e.apply(this,arguments),wnt),a,l=o.length,u=-1,c;for(const d of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(d,o[a].key,u,s)]).data=d;for(a=0,c=bfe(t(o));a<l;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ii(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ii(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?wK:typeof s=="function"?s:Ii(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??_K,i):n},i}function D0(e,t,n){this.k=e,this.x=t,this.y=n}D0.prototype={constructor:D0,scale:function(e){return e===1?this:new D0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new D0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};D0.prototype;function Snt(){const e=cP.create(),t=e.register("save-interaction",(r,i)=>{r.interactions.push({...i,timestamp:Date.now()})}),n=aP({registry:e,initialState:{interactions:[]}});return{trrack:n,actions:{saveInteraction(r,i){n.apply(r,t(i))}}}}const Sfe=O.createContext(null);function D1(e){const{actions:t}=O.useContext(Sfe),n=O.useCallback(i=>{t.saveInteraction("Hover start",{id:e,action:"mouseEnter",objectID:i.name})},[t,e]),r=O.useCallback(i=>{t.saveInteraction("Hover Complete",{id:e,action:"mouseLeave",objectID:i.name})},[t,e]);return{handleMouseEnter:n,handleMouseLeave:r}}const xnt=Object.freeze(Object.defineProperty({__proto__:null,useHoverInteraction:D1},Symbol.toStringTag,{value:"Module"})),xfe=({trialId:e,data:t,xScale:n,yScale:r,height:i})=>{const{handleMouseEnter:s,handleMouseLeave:o}=D1(e);return P("g",{children:t.map((a,l)=>P("rect",{x:n(a.name),y:r(a.value),width:n.bandwidth(),height:i-r(a.value),fill:"transparent",onMouseEnter:()=>s(a),onMouseLeave:()=>o(a),stroke:"currentColor"},l))})},Ent=Object.freeze(Object.defineProperty({__proto__:null,Bars:xfe},Symbol.toStringTag,{value:"Module"})),J6=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=O.useMemo(()=>{const o=Pd().domain(e).range(t),a=t[1]-t[0],u=Math.max(1,Math.floor(a/30));return i(o.ticks(u).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return $e("g",{children:[P("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>$e("g",{transform:`translate(0,${a})`,children:[P("line",{x2:`${r}`,stroke:"currentColor"}),P("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})},Int=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:J6},Symbol.toStringTag,{value:"Module"})),Efe=({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=O.useMemo(()=>{const o=N1().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return $e("g",{children:[P("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>P("g",{transform:`translate(${a}, 10)`,children:P("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})},Ont=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:Efe},Symbol.toStringTag,{value:"Module"})),$nt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400},Cnt=({parameters:e,trialId:t})=>{const[r,i]=tv($nt),s=N1().domain(e.data.map(u=>u.name)).range([0,i.boundedWidth]).padding(.2),o=Pd().domain([100,0]).range([0,i.boundedHeight]),a=u=>u.filter((c,d)=>d===0||d===u.length-1),l=u=>u.filter((c,d)=>e.selectedIndices.includes(d));return P("div",{className:"Chart__wrapper",ref:r,style:{height:400},children:P("svg",{width:i.width,height:i.height,children:$e("g",{transform:`translate(${[i.marginLeft,i.marginTop].join(",")})`,children:[P("g",{transform:`translate(${[6,i.boundedHeight].join(",")})`,children:P(Efe,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:0,tickFilter:l})}),P("g",{transform:`translate(${[0,0].join(",")})`,children:P(J6,{domain:o.domain(),range:o.range(),withTick:!0,tickLen:6,tickFilter:a})}),P("g",{transform:`translate(${[0,0].join(",")})`,children:P(xfe,{data:e.data,trialId:t,xScale:s,yScale:o,height:i.boundedHeight})})]})})})},Pnt=Object.freeze(Object.defineProperty({__proto__:null,default:Cnt},Symbol.toStringTag,{value:"Module"})),Ife=({data:e,trialId:t})=>{const{handleMouseEnter:n,handleMouseLeave:r}=D1(t);return P("g",{children:e.map(({bubble:i,data:s},o)=>P("circle",{cx:i.x,cy:i.y,r:i.r,fill:"transparent",stroke:"currentColor",onMouseEnter:()=>n(s),onMouseLeave:()=>r(s)},o))})},Tnt=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Ife},Symbol.toStringTag,{value:"Module"})),Z6=({positions:e})=>P("g",{children:e.map((t,n)=>P("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))}),knt=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:Z6},Symbol.toStringTag,{value:"Module"})),Ant={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},Nnt=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=ket().size([t-10,n-10]).padding(1.5),o=q6(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,l)=>({bubble:a,data:e[l]}))},Rnt=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y})),Dnt=({parameters:e,trialId:t})=>{const[n,r]=tv(Ant),i=Nnt(e,r.width,r.height),s=Rnt(i,e.selectedIndices);return P("div",{className:"Chart__wrapper",ref:n,style:{height:"400px"},children:P("svg",{width:r.width,height:r.height,children:$e("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[P(Ife,{data:i,trialId:t}),P(Z6,{positions:s})]})})})},Mnt=Object.freeze(Object.defineProperty({__proto__:null,default:Dnt},Symbol.toStringTag,{value:"Module"})),Lnt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850},Fnt=({parameters:e,trialId:t,setAnswer:n})=>{const[r,i]=tv(Lnt),[s,o]=O.useState(100),[a,l]=O.useState(100),u=Vd().pathname,[c,d]=O.useState(300),h=e.taskid,{actions:m,trrack:g}=O.useMemo(()=>{const _=cP.create(),v=_.register("click",(S,x)=>(S.clickX=x.clickX,S.clickY=x.clickY,S.distance=x.distance,S)),b=aP({registry:_,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{click:v},trrack:b}},[]),y=O.useCallback(_=>{const v=hi("#movingCircle"),b=hi("#clickAccuracySvg"),S=wM(_,b.node()),x=[+v.attr("cx"),+v.attr("cy")],$=Math.round(Math.sqrt((S[0]-x[0])**2+(S[1]-x[1])**2))+"px";g.apply("Clicked",m.click({distance:+$,clickX:S[0],clickY:S[1]})),n({trialId:u,status:!0,provenanceRoot:g.graph.root.id,answers:{[`${u}/${h}`]:[...new Set([$])]}})},[m,u,n,h,g]);return O.useEffect(()=>{const _=Math.random()*800,v=Math.random()*600,S=Math.sqrt((_-s)**2+(v-a)**2)/c*1e3;hi(r.current).select("circle").transition().duration(S).ease(lZe).attr("cx",_).attr("cy",v).on("end",()=>{o(_),l(v)})},[r,c,s,a]),$e(Zn,{children:[P("div",{className:"Chart__wrapper",ref:r,onClick:y,style:{height:"650px"},children:P("svg",{id:"clickAccuracySvg",width:i.width,height:i.height,children:$e("g",{transform:`translate(${[i.marginLeft/2,i.marginTop/2].join(",")})`,children:[P("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),P("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),$e(xt,{children:["Adjust speed (px/s):",P(s3,{w:800,min:10,max:1e3,value:c,onChange:d})]})]})},jnt=Object.freeze(Object.defineProperty({__proto__:null,default:Fnt},Symbol.toStringTag,{value:"Module"})),Ofe=({trialId:e,arcs:t,data:n})=>{const{handleMouseEnter:r,handleMouseLeave:i}=D1(e);return P("g",{children:t.map((s,o)=>P("path",{d:s(),fill:"transparent",stroke:"currentColor",onMouseEnter:()=>r(n[o]),onMouseLeave:()=>i(n[o])},o))})},Bnt=Object.freeze(Object.defineProperty({__proto__:null,Slices:Ofe},Symbol.toStringTag,{value:"Module"})),$fe=({positions:e})=>P("g",{children:e.map((t,n)=>P("g",{transform:`translate(${t.centroid()})`,children:P("circle",{r:2,cx:0,cy:0},n)},n))}),znt=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:$fe},Symbol.toStringTag,{value:"Module"})),Vnt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},Unt=vnt().value(e=>e.value),u0=150,Hnt=({parameters:e,trialId:t})=>{const[n,r]=tv(Vnt),i=Unt(e.data),s=i.map(a=>vK().innerRadius(0).outerRadius(u0).startAngle(a.startAngle).endAngle(a.endAngle)),o=i.map(a=>vK().outerRadius(u0+10).innerRadius(u0+10).startAngle(a.startAngle).endAngle(a.endAngle)).filter((a,l)=>e.selectedIndices.includes(l));return P("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:P("svg",{width:r.width,height:r.height,children:$e("g",{transform:`translate(${[r.marginLeft+u0,r.marginTop+u0].join(",")})`,children:[P(Ofe,{arcs:s,data:e.data,trialId:t}),P($fe,{positions:o})]})})})},Wnt=Object.freeze(Object.defineProperty({__proto__:null,default:Hnt},Symbol.toStringTag,{value:"Module"})),Cfe=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=O.useMemo(()=>{const o=Pd().domain(e).range(t),a=t[1]-t[0],u=Math.max(1,Math.floor(a/30));return i(o.ticks(u).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return $e("g",{children:[P("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>$e("g",{transform:`translate(${a}, 0)`,children:[P("line",{y2:`${r}`,stroke:"currentColor"}),P("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})},qnt=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:Cfe},Symbol.toStringTag,{value:"Module"})),Pfe=({data:e,barWidth:t,yScale:n,trialId:r})=>{const{handleMouseEnter:i,handleMouseLeave:s}=D1(r);return P("g",{children:e.map((o,a)=>P("rect",{x:t/2,y:n(o[0][1]),width:t,height:n(o[0][0])-n(o[0][1]),fill:"transparent",stroke:"currentColor",onMouseEnter:()=>i({name:o.key}),onMouseLeave:()=>s({name:o.key})},a))})},Gnt=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:Pfe},Symbol.toStringTag,{value:"Module"})),Knt={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},Ynt=({parameters:e,trialId:t})=>{const[r,i]=tv(Knt),s=N1().domain(e.data.map(g=>g.name)).range([0,i.boundedWidth]).padding(.2),o=Pd().domain([100,0]).range([0,i.boundedWidth]),a=g=>g.filter((y,_)=>_===0||_===g.length-1),l=g=>g.filter((y,_)=>e.selectedIndices.includes(_)),u=g=>{const y=g.map(x=>+x.value),v=y.reduce((x,$)=>Number(x)+Number($))/100,b={};for(let x=0;x<y.length;x++)b[String.fromCharCode(x+65)]=y[x]/v;const S=[b];return bnt().keys(e.data.map(x=>x.name))(S)},c=(g,y,_)=>g.filter((b,S)=>y.includes(S)).map(b=>({x:_,y:o(b[0][1])+.5*(o(b[0][0])-o(b[0][1]))})),d=u(e.data),h=Math.min(i.width,i.height)/2-20,m=c(d,e.selectedIndices,h);return P("div",{className:"Chart__wrapper",ref:r,style:{height:"400"},children:P("svg",{width:i.width,height:i.height,children:$e("g",{transform:`translate(${[i.marginLeft,i.marginTop].join(",")})`,children:[P("g",{transform:`translate(${[6,i.boundedHeight].join(",")})`,children:P(Cfe,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:0,tickFilter:l})}),P("g",{transform:"translate(0, 0)",children:P(J6,{domain:o.domain(),range:o.range(),withTick:!0,tickLen:6,tickFilter:a})}),$e("g",{transform:"translate(0, 0)",children:[P(Pfe,{data:d,barWidth:h,yScale:o,trialId:t}),P(Z6,{positions:m})]})]})})})},Qnt=Object.freeze(Object.defineProperty({__proto__:null,default:Ynt},Symbol.toStringTag,{value:"Module"}));function eB({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1,arrowAsc:l=!1,arrowDesc:u=!1}){const c=O.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),d=O.useCallback(h=>(s?vfe("%B"):XP(".2s"))(h),[s]);return $e(Zn,{children:[P("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:P("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:P(Yg,{children:P(Mo,{spacing:3,children:P(Bt,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),P("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?P("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:h,offset:m})=>$e("g",{transform:`translate(${m}, ${n})`,children:[P("line",{y2:"6",stroke:"currentColor"}),o?P("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,P("foreignObject",{x:0-c/2,y:10,width:c,height:20,children:P(Yg,{children:P(Sie,{withinPortal:!0,label:h,children:P(Bt,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+h==0?0:d(s?new Date(h):h)})})})})]},h))]})}const Xnt=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:eB},Symbol.toStringTag,{value:"Module"}));function Tfe({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=O.useMemo(()=>{const l=i.reduce((u,{value:c})=>{const{length:d}=`${c}`;return d>u?d:u},0);return l>10?60:l*6},[i]);return $e(Zn,{children:[P("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:P("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:P(Yg,{children:P(Mo,{spacing:3,children:P(Bt,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),P("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?P("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:l,offset:u})=>$e("g",{transform:`translate(${n}, ${u})`,children:[P("line",{x2:"-6",stroke:"currentColor"}),s?P("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,P("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:P("foreignObject",{width:a,height:20,children:P(Mo,{style:{width:"100%",height:"100%"},position:"right",children:P(Bt,{sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:l})})})},l)]},l))]})}const Jnt=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:Tfe},Symbol.toStringTag,{value:"Module"})),Ta={top:15,left:100,right:50,bottom:50};function RM({fullTable:e,barsTable:t,parameters:n,data:r}){const[i,{height:s,width:o}]=G0(),a=O.useMemo(()=>o-Ta.left-Ta.right,[o]),l=O.useMemo(()=>s-Ta.top-Ta.bottom,[s]),u=O.useMemo(()=>{const m=Array.from(new Set(r.map(g=>g[n.category])));return ZP(wfe).domain(m)},[r,n.category]),c=O.useMemo(()=>t?Pd([Ta.left,a+Ta.left]).domain([0,VYe(t.objects().map(m=>m.count))]).nice():null,[t,a]),d=O.useMemo(()=>t?N1([Ta.top,l+Ta.top]).domain(t.array(n.category).sort()).paddingInner(.1):null,[t,l,n.category]),h=O.useMemo(()=>!c||!d||!u||!t?null:t.objects().map((m,g)=>m[n.category]===null||m.count===null?null:$e("g",{children:[P("rect",{x:Ta.left,y:d(m[n.category]),fill:u(m[n.category]),height:d.bandwidth(),width:c(m.count)-Ta.left},g),P("text",{x:c(m.count)+5,y:d(m[n.category])+d.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:m.count})]})),[t,u,n.category,c,d]);return d&&c?$e("svg",{ref:i,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[P(eB,{xScale:c,yRange:d.range(),vertPosition:l+Ta.top,showLines:!1,label:"Count",ticks:c.ticks(5).map(m=>({value:m.toString(),offset:c(m)}))}),d?P(Tfe,{yScale:d,horizontalPosition:Ta.left,xRange:c.range(),label:n.category,ticks:u.domain().map(m=>({value:m,offset:d(m)+d.bandwidth()/2}))}):null,h]}):P(qw,{})}const Znt=Object.freeze(Object.defineProperty({__proto__:null,Bar:RM,default:RM},Symbol.toStringTag,{value:"Module"}));function kfe({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=O.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=O.useMemo(()=>XP(".2s"),[]);return $e(Zn,{children:[P("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:P("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:P(Yg,{children:P(Mo,{spacing:3,children:P(Bt,{size:14,style:{color:"#878E95"},children:r})})})})}),P("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),P("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>$e("g",{transform:`translate(${n}, ${a})`,children:[P("line",{x2:"-6",stroke:"currentColor"}),P("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),P("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const ert=Object.freeze(Object.defineProperty({__proto__:null,YAxis:kfe},Symbol.toStringTag,{value:"Module"})),ZN=15;function Afe({xScale:e,yScale:t,setBrushedSpace:n,table:r,filteredTable:i,params:s,data:o,brushState:a,isSelect:l=!0}){const[u,c]=O.useState([0,0]),[d,h]=O.useState(!1);return O.useEffect(()=>{const m=hi("#scatterSvgBrushStudy");if(m){const g=m.node().getBoundingClientRect();m.on("mousemove",y=>{const _=[y.clientX-g.x,y.clientY-g.y];if(c(_),d){const v=o.filter(b=>Math.abs(e(b[s.x])-_[0])<ZN&&Math.abs(t(b[s.y])-_[1])<ZN);if(y.ctrlKey||y.metaKey||!l){const b=new Set(a.ids);v.forEach(x=>{b.has(x[s.ids])&&b.delete(x[s.ids])});const S=Array.from(b);n([[u[0],u[1]],[u[0],u[1]]],e,t,S.length===0?"clear":"drag",S)}else{const b=Array.from(new Set([...a.ids,...v.map(S=>S[s.ids])]));b.length>0&&n([[u[0],u[1]],[u[0],u[1]]],e,t,"drag",b)}}}),m.on("mousedown",y=>{h(!0),y.stopPropagation(),y.preventDefault()}),m.on("mouseup",y=>{h(!1)})}},[a.ids,o,d,l,s,e,t]),P("circle",{style:{cursor:d?"pointer":"default"},r:ZN,fill:"darkgray",opacity:.5,cx:u[0],cy:u[1]})}const trt=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Afe},Symbol.toStringTag,{value:"Module"})),Tr={top:15,left:100,right:15,bottom:70};function DM({fullTable:e,filteredTable:t,setFilteredTable:n,brushState:r,setBrushedSpace:i,brushType:s,params:o,data:a,brushedPoints:l}){const[u,{height:c,width:d}]=G0(),[h]=G0(),[m]=G0(),[g,y]=O.useState(!0),_=O.useMemo(()=>d-Tr.left-Tr.right,[d]),v=O.useMemo(()=>c-Tr.top-Tr.bottom,[c]),b=O.useMemo(()=>{const H=Array.from(new Set(a.map(q=>q[o.category])));return ZP(wfe).domain(H)},[a,o.category]),{xMin:S,yMin:x,xMax:$,yMax:E}=O.useMemo(()=>{const H=a.map(Z=>+Z[o.x]).filter(Z=>Z!==null),[q,B]=wG(H),ue=a.map(Z=>+Z[o.y]).filter(Z=>Z!==null),[le,pe]=wG(ue);return{xMin:q,xMax:B,yMin:le,yMax:pe}},[a,o.x,o.y]),I=O.useMemo(()=>{const H=$-S;return _<=0?null:o.dataType==="date"?snt([Tr.left,_+Tr.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):Pd([Tr.left,_+Tr.left]).domain([S-H/10,$+H/10]).nice()},[o.dataType,_,$,S]),T=O.useMemo(()=>{const H=E-x;return v<=0?null:Pd([v+Tr.top,Tr.top]).domain([x-H/10,E+H/10]).nice()},[v,E,x]),M=O.useMemo(()=>{if(!(!I||!T))if(s==="Axis Selection"){const H=SZe().extent([[Tr.left,Tr.top+v-5],[Tr.left+_,Tr.top+v+5]]).on("brush end",B=>{B.sourceEvent!==void 0&&i([[B.selection[0],null],[B.selection[1],null]],I,T,B.mode)}),q=xZe().extent([[Tr.left-5,Tr.top],[Tr.left+5,Tr.top+v]]).on("brush end",B=>{B.sourceEvent!==void 0&&i([[null,B.selection[0]],[null,B.selection[1]]],I,T,B.mode)});return h.current&&m.current&&(hi(m.current).call(q),hi(h.current).call(H),r.hasBrush||(hi(m.current).call(q.move,[T(E),T(x)]),hi(h.current).call(H.move,[I(new Date("2015-01-02")),I(new Date("2015-12-31"))]),i([[I(new Date("2015-01-02")),T(E)],[I(new Date("2015-12-31")),T(x)]],I,T,"drag"))),()=>{hi(m.current).call(q.move,[T(E),T(x)]),hi(h.current).call(H.move,[I(new Date("2015-01-02")),I(new Date("2015-12-31"))]),i([[I(new Date("2015-01-02")),T(E)],[I(new Date("2015-12-31")),T(x)]],I,T,"clear")}}else if(s==="Rectangular Selection"){const H=EZe().extent([[Tr.left,Tr.top],[Tr.left+_,Tr.top+v]]).on("brush",q=>{q.sourceEvent!==void 0&&i([[q.selection[0][0],q.selection[0][1]],[q.selection[1][0],q.selection[1][1]]],I,T,q.mode)}).on("end",q=>{q.selection===null&&q.sourceEvent!==void 0&&(hi(u.current).call(H.move,null),n(null))});return hi(u.current).call(H),()=>{hi(u.current).call(H.move,null),i([[null,null],[null,null]],I,T,"clear")}}else{if(s==="Slider Selection")return()=>i([[I(S),T(E)],[I($),T(x)]],I,T,"clear");if(s==="Paintbrush Selection")return()=>i([[I(S),T(E)],[I($),T(x)]],I,T,"clear",[])}},[r,s,h,m,v,u,i,_,$,S,I,E,x,T]);O.useEffect(()=>{s==="Slider Selection"&&I&&T&&i([[I(S),T(E)],[I($),T(x)]],I,T,null)},[s,$,S,I,E,x,T]);const U=O.useMemo(()=>l.length===0?null:new Set(l),[l]),z=O.useMemo(()=>!I||!T?null:a.map((H,q)=>{if(H[o.x]===null||H[o.y]===null)return null;const B=o.dataType==="date"?I(new Date(H[o.x])):I(H[o.x]);return P("circle",{opacity:U?U.has(H[o.ids])?1:.3:1,r:3,fill:U?U.has(H[o.ids])?b(H[o.category]):"lightgray":b(H[o.category]),cx:B,cy:T(H[o.y])},q)}),[U,b,a,o.category,o.ids,o.x,o.y,I,T]);return O.useEffect(()=>{s==="Axis Selection"&&IXe(".handle").style("fill","darkgrey")},[r,s]),$e(qa,{children:[$e(Mo,{children:[P(Dl,{ml:60,compact:!0,style:{width:"130px"},disabled:l.length===0,onClick:()=>{n(null),M==null||M()},children:"Clear Selection"}),o.brushType==="Paintbrush Selection"?P(Die,{defaultChecked:!0,value:g?"Select":"De-Select",onChange:H=>y(H==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select"}]}):null]}),$e(Mo,{style:{width:"100%",height:"100%"},noWrap:!0,children:[$e("svg",{id:"scatterSvgBrushStudy",ref:u,style:{height:"500px",width:o.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[I&&T?$e("g",{children:[P(kfe,{yScale:T,label:o.y,horizontalPosition:Tr.left,xRange:I.range()}),P(eB,{xScale:I,yRange:T.range(),isDate:o.dataType==="date",vertPosition:v+Tr.top,label:o.x,ticks:I.ticks(o.brushType==="Axis Selection"?12:5).map(H=>({value:H.toString(),offset:I(H)}))})]}):null,z,P("g",{id:"brushXRef",ref:h}),P("g",{id:"brushYRef",ref:m}),I&&T&&s==="Paintbrush Selection"?P(Afe,{brushState:r,setBrushedSpace:i,params:o,data:a,filteredTable:t,isSelect:g,xScale:I,yScale:T,table:e}):null]}),s==="Slider Selection"&&I&&T?$e(qa,{style:{flexGrow:1},spacing:50,children:[$e(qa,{spacing:0,children:[P(Bt,{children:o.x}),P(X2,{label:null,min:I.domain()[0],max:I.domain()[1],labelAlwaysOn:!1,onChange:H=>{i([[I(H[0]),r.y1],[I(H[1]),r.y2]],I,T,"drag")},style:{width:"300px"},marks:I.ticks(5).map(H=>({value:H,label:H})),value:[I.invert(r.x1),I.invert(r.x2)]})]}),$e(qa,{spacing:0,children:[P(Bt,{children:o.y}),P(X2,{label:null,min:T.domain()[0],max:T.domain()[1],onChange:H=>{i([[r.x1,T(H[1])],[r.x2,T(H[0])]],I,T,"drag")},style:{width:"300px"},marks:T.ticks(5).map(H=>({value:H,label:H})),value:[T.invert(r.y2),T.invert(r.y1)]})]})]}):null]})]})}const nrt=Object.freeze(Object.defineProperty({__proto__:null,Scatter:DM,default:DM},Symbol.toStringTag,{value:"Module"})),Ln=Array.isArray;function Lo(e){return e!=null?Ln(e)?e:[e]:[]}function rrt(e=0,t=1/0){return`${bK(e)} < row_number() && row_number() <= ${bK(t)}`}function bK(e){return e<0?`count() + ${e}`:e}class Nfe{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(rrt(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,Lo(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function en(e){throw Error(e)}function Js(e){return typeof e=="number"}function Ir(e){return typeof e=="function"}function tT(e,t){const n=Array(e);if(Ir(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let irt=class extends Nfe{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){en("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){en("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){en("Not implemented")}getter(t){en("Not implemented")}objects(t){en("Not implemented")}object(t){en("Not implemented")}[Symbol.iterator](){en("Not implemented")}print(t={}){Js(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,l=this._data;r.sort((u,c)=>a(u,c,l))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=tT(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let l=0,u;l<a;++l)u=s[l],i[n[u]].push(u);else if(o)for(let l=o.next(0);l>=0;l=o.next(l+1))i[n[l]].push(l);else for(let l=0;l<a;++l)i[n[l]].push(l);if(t&&!s&&this.isOrdered()){const l=this._order,u=this._data;for(let c=0;c<r;++c)i[c].sort((d,h)=>l(d,h,u))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let l=i||0;if(l>o)return;const u=Math.min(o,l+r),c=()=>l=this._total;if(n&&this.isOrdered()||s&&this._index){const d=this.indices(),h=this._data;for(;l<u;++l)t(d[l],h,c)}else if(s){let d=u-l+1;for(l=s.nth(l);--d&&l>-1;l=s.next(l+1))t(l,a,c)}else for(;l<u;++l)t(l,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},srt=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},ort=function(e){return e&&Ir(e.get)?e:new srt(e)};function Gc(e){return e instanceof Date}function Ms(e){return e===Object(e)}function m$(e){return e instanceof RegExp}function ps(e){return typeof e=="string"}function art(e,t){const n=r=>en(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?SK(e.entries(),t):Gc(e)?n("Date"):m$(e)?n("RegExp"):ps(e)?n():Ln(e)?lrt(e,t):Ir(e[Symbol.iterator])?urt(e,t):Ms(e)?SK(Object.entries(e),t):n()}function SK(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function lrt(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const l=e[a];for(let u=0;u<o;++u)s[u][a]=l[t[u]]}}else t&&t.forEach(i);return r}function urt(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:crt}=Object.prototype;function Wl(e,t){return crt.call(e,t)}function wa(e){return e?new xK({...e.data()},e.columnNames()):new xK}class xK{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Wl(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const An=void 0,frt=Object.getPrototypeOf(Int8Array);function M1(e){return e instanceof frt}function Gh(e){return Ln(e)||M1(e)}function Al(e){return e!=null&&e===e}const c0=e=>Gh(e)||ps(e),drt={compact:e=>Gh(e)?e.filter(t=>Al(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>c0(e)?e.includes(t,n):!1,indexof:(e,t)=>c0(e)?e.indexOf(t):-1,join:(e,t)=>Gh(e)?e.join(t):An,lastindexof:(e,t)=>c0(e)?e.lastIndexOf(t):-1,length:e=>c0(e)?e.length:0,pluck:(e,t)=>Gh(e)?e.map(n=>Al(n)?n[t]:An):An,reverse:e=>Gh(e)?e.slice().reverse():ps(e)?e.split("").reverse().join(""):An,slice:(e,t,n)=>c0(e)?e.slice(t,n):An};function hrt(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function Wx(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const tu=e=>(e<10?"0":"")+e,prt=e=>e<0?"-"+Wx(-e,6):e>9999?"+"+Wx(e,6):Wx(e,4);function Rfe(e,t,n,r,i,s,o,a,l){const u=a?"Z":"";return prt(e)+"-"+tu(t+1)+"-"+tu(n)+(!l||o?"T"+tu(r)+":"+tu(i)+":"+tu(s)+"."+Wx(o,3)+u:s?"T"+tu(r)+":"+tu(i)+":"+tu(s)+u:i||r||!a?"T"+tu(r)+":"+tu(i)+u:"")}function Dfe(e,t){return isNaN(e)?"Invalid Date":Rfe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function nT(e,t){return isNaN(e)?"Invalid Date":Rfe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const mrt=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function grt(e){return e.match(mrt)}function yrt(e,t=Date.parse){return grt(e)?t(e):e}const Mfe=6e4,Lfe=864e5,Ffe=6048e5,Kr=new Date,Qr=new Date,ri=e=>(Kr.setTime(typeof e=="string"?yrt(e):e),Kr);function vrt(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function _rt(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function wrt(e){Qr.setTime(+e),Qr.setHours(0,0,0,0),Kr.setTime(+Qr),Kr.setMonth(0),Kr.setDate(1);const t=(Qr.getTimezoneOffset()-Kr.getTimezoneOffset())*Mfe;return Math.floor(1+(Qr-Kr-t)/Lfe)}function brt(e){Qr.setTime(+e),Qr.setUTCHours(0,0,0,0);const t=Date.UTC(Qr.getUTCFullYear(),0,1);return Math.floor(1+(Qr-t)/Lfe)}function Srt(e,t){const n=t||0;Qr.setTime(+e),Qr.setDate(Qr.getDate()-(Qr.getDay()+7-n)%7),Qr.setHours(0,0,0,0),Kr.setTime(+e),Kr.setMonth(0),Kr.setDate(1),Kr.setDate(1-(Kr.getDay()+7-n)%7),Kr.setHours(0,0,0,0);const r=(Qr.getTimezoneOffset()-Kr.getTimezoneOffset())*Mfe;return Math.floor((1+(Qr-Kr)-r)/Ffe)}function xrt(e,t){const n=t||0;return Qr.setTime(+e),Qr.setUTCDate(Qr.getUTCDate()-(Qr.getUTCDay()+7-n)%7),Qr.setUTCHours(0,0,0,0),Kr.setTime(+e),Kr.setUTCMonth(0),Kr.setUTCDate(1),Kr.setUTCDate(1-(Kr.getUTCDay()+7-n)%7),Kr.setUTCHours(0,0,0,0),Math.floor((1+(Qr-Kr))/Ffe)}const Ert={format_date:(e,t)=>Dfe(ri(e),!t),format_utcdate:(e,t)=>nT(ri(e),!t),timestamp:e=>+ri(e),year:e=>ri(e).getFullYear(),quarter:e=>Math.floor(ri(e).getMonth()/3),month:e=>ri(e).getMonth(),date:e=>ri(e).getDate(),dayofweek:e=>ri(e).getDay(),hours:e=>ri(e).getHours(),minutes:e=>ri(e).getMinutes(),seconds:e=>ri(e).getSeconds(),milliseconds:e=>ri(e).getMilliseconds(),utcyear:e=>ri(e).getUTCFullYear(),utcquarter:e=>Math.floor(ri(e).getUTCMonth()/3),utcmonth:e=>ri(e).getUTCMonth(),utcdate:e=>ri(e).getUTCDate(),utcdayofweek:e=>ri(e).getUTCDay(),utchours:e=>ri(e).getUTCHours(),utcminutes:e=>ri(e).getUTCMinutes(),utcseconds:e=>ri(e).getUTCSeconds(),utcmilliseconds:e=>ri(e).getUTCMilliseconds(),datetime:vrt,dayofyear:wrt,week:Srt,utcdatetime:_rt,utcdayofyear:brt,utcweek:xrt,now:Date.now};function tB(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Gc(e)||Gc(t)?+e==+t:m$(e)&&m$(t)?e+""==t+"":Ms(e)&&Ms(t)?Irt(e,t):!1}function Irt(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return EK(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!EK(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!tB(e[o],t[o]))return!1}return!0}function EK(e,t,n=tB){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const Ort={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let $rt=Math.random;function nv(){return $rt()}const Crt={random:nv,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function nB(e){return e instanceof Map}function Prt(e){return e instanceof Set}function qx(e){return nB(e)||Prt(e)}function eR(e){return Array.from(e)}const Trt={has:(e,t)=>qx(e)?e.has(t):e!=null?Wl(e,t):!1,keys:e=>nB(e)?eR(e.keys()):e!=null?Object.keys(e):[],values:e=>qx(e)?eR(e.values()):e!=null?Object.values(e):[],entries:e=>qx(e)?eR(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):An};function krt(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Wl(t,e))return t[e];return n!==void 0?n:e}function Art(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const Nrt={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},ug={bin:hrt,equal:tB,recode:krt,sequence:Art,...drt,...Ert,...Ort,...Crt,...Trt,...Nrt};function ww(e){return typeof e=="bigint"}function Mu(e){return e===void 0?e+"":ww(e)?e+"n":JSON.stringify(e)}function Qt(e,t=[],n=[]){return new Rrt(e,Lo(t),Lo(n))}let Rrt=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${Mu(n)}]`),...this.params.map(Mu)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const jfe=e=>Qt("any",e),Bfe=()=>Qt("count"),zfe=e=>Qt("array_agg",e),Vfe=e=>Qt("array_agg_distinct",e),Ufe=(e,t)=>Qt("map_agg",[e,t]),Hfe=(e,t)=>Qt("object_agg",[e,t]),Wfe=(e,t)=>Qt("entries_agg",[e,t]);({...ug});function Drt(e,t){e=qx(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function Mrt(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,d)=>c+d,0);if(o===i)return e;const a=Array(o);let l=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=l++]=r[c]);const u=new Uint32Array(n.length);return t.scan(c=>u[c]=s[n[c]]),{...e,keys:u,rows:a,size:l}}function Lrt(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,l=o,u=null;if(n){u=new Int32Array(o),t(g=>u[i[g]]=1);const m=u.reduce((g,y)=>g+y,0);if(m!==o){a=Array(m),l=0;for(let g=0;g<o;++g)u[g]&&(a[u[g]=l++]=s[g])}}let c=-1;const d=new Uint32Array(r);return t(l!==o?m=>d[++c]=u[i[m]]:m=>d[++c]=i[m]),{...e,keys:d,rows:a,size:l}}function Frt(e,t,n,r){const i=r==="map"||r===!0?Ufe:r==="entries"?Wfe:r==="object"?Hfe:en('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=Drt(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:zfe(o)});for(let l=s.length;--l>=0;)a=a.groupby(s.slice(0,l)).rollup({[o]:i(s[l],o)});return a.get(o)}const jrt="ArrayPattern",Brt="ArrowFunctionExpression",zrt="FunctionExpression",yd="Identifier",rv="Literal",qfe="MemberExpression",Vrt="ObjectExpression",Gfe="ObjectPattern",Kfe="Property",L1="Column",Urt="Constant",Hrt="Dictionary",Wrt="Function",qrt="Parameter",Yfe="Op",mr=(e,t)=>{const n=Grt[e.type];return n?n(e,t):en(`Unsupported expression construct: ${e.type}`)},tR=(e,t)=>"("+mr(e.left,t)+" "+e.operator+" "+mr(e.right,t)+")",nR=(e,t)=>"("+iu(e.params,t)+")=>"+mr(e.body,t),IK=(e,t)=>mr(e.callee,t)+"("+iu(e.arguments,t)+")",iu=(e,t,n=",")=>e.map(r=>mr(r,t)).join(n),Qfe=e=>e.computed?`[${Mu(e.name)}]`:`.${e.name}`,OK=(e,t,n)=>{const r=e.table||"";return`data${r}${Qfe(e)}.${n}(${t.index}${r})`},Grt={Constant:e=>e.raw,Column:(e,t)=>OK(e,t,"get"),Dictionary:(e,t)=>OK(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${Qfe(e)}`,Op:(e,t)=>`op(${Mu(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+mr(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=mr(e.object,t),i=mr(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:IK,NewExpression:(e,t)=>"new "+IK(e,t),ArrayExpression:(e,t)=>"["+iu(e.elements,t)+"]",AssignmentExpression:tR,BinaryExpression:tR,LogicalExpression:tR,UnaryExpression:(e,t)=>"("+e.operator+mr(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+mr(e.test,t)+"?"+mr(e.consequent,t)+":"+mr(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+iu(e.properties,t)+"})",Property:(e,t)=>{const n=mr(e.key,t);return(e.computed?`[${n}]`:n)+":"+mr(e.value,t)},ArrowFunctionExpression:nR,FunctionExpression:nR,FunctionDeclaration:nR,ArrayPattern:(e,t)=>"["+iu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+iu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+iu(e.declarations,t,","),VariableDeclarator:(e,t)=>mr(e.id,t)+"="+mr(e.init,t),SpreadElement:(e,t)=>"..."+mr(e.argument,t),BlockStatement:(e,t)=>"{"+iu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>mr(e.expression,t),IfStatement:(e,t)=>"if ("+mr(e.test,t)+")"+mr(e.consequent,t)+(e.alternate?" else "+mr(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+mr(e.discriminant,t)+") {"+iu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+mr(e.test,t):"default")+": "+iu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+mr(e.argument,t),Program:(e,t)=>mr(e.body[0],t)};function g$(e,t={index:"row"}){return mr(e,t)}function Krt(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const l=Math.ceil(Math.log(n)/a),u=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(u)/a)-l));Math.ceil(u/s)>n;)s*=10;const d=c.length;for(let h=0;h<d;++h){const m=s/c[h];m>=i&&u/m<=n&&(s=m)}}if(r){let l=Math.log(s);const u=l>=0?0:~~(-l/a)+1,c=Math.pow(10,-u-1);l=Math.floor(e/s+c)*s,e=e<l?l-s:l,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function wy(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Gc(e)?+e:Ln(e)||M1(e)?`[${e.map(wy)}]`:m$(e)?e+"":Yrt(e)}function Yrt(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${wy(e[r])}`;return t+="}",t}function y$(e,t){const n=e.length;return n===1?(r,i)=>wy(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=wy(a)}return s}}function Qrt(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=wy(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=wy(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function dc(){}function Xrt(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function xi(e){return e.init=e.init||dc,e.add=e.add||dc,e.rem=e.rem||dc,e}function $K(e,t){return e.product_v=!1,e.product=t}const Xfe={count:{create:()=>xi({value:e=>e.count}),param:[]},array_agg:{create:()=>xi({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>xi({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>xi({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>xi({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>xi({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:An}),param:[1]},valid:{create:()=>xi({value:e=>e.valid}),param:[1]},invalid:{create:()=>xi({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=Qrt(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>xi({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>xi({value:e=>{let t=An,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:An,add:(e,t)=>ww(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>$K(e,1),value:e=>e.valid?e.product_v?$K(e,Xrt(e.list.values())):e.product:void 0,add:(e,t)=>ww(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:An,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>xi({value:e=>e.valid?e.mean:An}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):An,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>xi({value:e=>e.valid>1?e.dev/e.valid:An}),param:[1],req:["variance"]},stdev:{create:()=>xi({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):An}),param:[1],req:["variance"]},stdevp:{create:()=>xi({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):An}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=An,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===An)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=An,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===An)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>xi({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>xi({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):An,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>xi({value:e=>e.valid>1?e.cov/e.valid:An}),param:[2],req:["covariance"]},corr:{create:()=>xi({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):An}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>xi({value:i=>Krt(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},CK={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},PK={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},Jfe={row_number:{create(){return{init:dc,value:e=>e.index+1}},param:[]},rank:CK,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=CK.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:PK,ntile:{create(e){e=+e,e>0||en("ntile num must be greater than zero.");const{init:t,value:n}=PK.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=An){return e=+e||1,{init:dc,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=An){return e=+e||1,{init:dc,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:dc,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:dc,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||en("nth_value nth must be greater than zero."),{init:dc,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):An}}},param:[1,1]},fill_down:{create(e=An){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Al(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=An){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=Jrt(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function Jrt(e,t,n){for(const r=e.size;n<r;++n)if(Al(e.value(n,t)))return n;return-1}function rB(e){return Wl(Xfe,e)}function iB(e){return Wl(Jfe,e)}function Zfe(e){return Wl(ug,e)||e==="row_object"}function ede(e){return rB(e)&&Xfe[e]}function tde(e){return iB(e)&&Jfe[e]}function f0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const sB={escape:(e,t,n)=>f0(e,t,n),expr:(e,t)=>f0(`(row,data,op)=>${e}`,ug,t),expr2:(e,t)=>f0(`(row0,data0,row,data)=>${e}`,ug,t),join:(e,t)=>f0(`(row1,data1,row2,data2)=>${e}`,ug,t),param:(e,t)=>f0(e,ug,t)},Zrt={"==":1,"!=":1,"===":1,"!==":1};function nde(e,t,n=0,r,i){if(e.type=L1,e.name=t,e.table=n,i&&r&&Ir(r.keyFor)){const s=Zrt[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===rv&&eit(i,e,s,r.keyFor(s.value))}return e}function eit(e,t,n,r){return r<0?(e.type=rv,e.value=!1,e.raw="false"):(t.type=Hrt,n.value=r,n.raw=r+""),!0}function rT(e){return Ln(e)?e:nB(e)?e.entries():e?Object.entries(e):[]}const rde="row_object";function ide(e,t){e.type=Vrt;const n=e.properties=[];for(const r of rT(t)){const[i,s]=Ln(r)?r:[r,r];n.push({type:Kfe,key:{type:rv,raw:Mu(s)},value:nde({computed:!0},i)})}return e}function sde(e){return g$(ide({},e))}function ode(e){return sB.expr(sde(e))}function oB(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function pc(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function TK(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xn(e){return this instanceof xn?(this.v=e,this):new xn(e)}function Kh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(m){return new Promise(function(g,y){s.push([h,m,g,y])>1||a(h,m)})})}function a(h,m){try{l(r[h](m))}catch(g){d(s[0][3],g)}}function l(h){h.value instanceof xn?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,m){h(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function rR(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:xn(e[i](o)),done:!1}:s?s(o):o}:s}}function p_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof TK=="function"?TK(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const tit=new TextDecoder("utf-8"),MM=e=>tit.decode(e),nit=new TextEncoder,aB=e=>nit.encode(e),[eIt,ade]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[em,tIt]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[tm,nIt]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),rit=e=>typeof e=="boolean",yo=e=>typeof e=="function",Zd=e=>e!=null&&Object(e)===e,iT=e=>Zd(e)&&yo(e.then),lB=e=>Zd(e)&&yo(e[Symbol.iterator]),sT=e=>Zd(e)&&yo(e[Symbol.asyncIterator]),iit=e=>Zd(e)&&"done"in e&&"value"in e,lde=e=>"_getDOMStream"in e&&"_getNodeStream"in e,sit=e=>Zd(e)&&yo(e.abort)&&yo(e.getWriter)&&!lde(e),oit=e=>Zd(e)&&yo(e.end)&&yo(e.write)&&rit(e.writable)&&!lde(e),ait=e=>Zd(e)&&yo(e.clear)&&yo(e.bytes)&&yo(e.position)&&yo(e.setPosition)&&yo(e.capacity)&&yo(e.getBufferIdentifier)&&yo(e.createLong),uB=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function lit(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=e.length;++l<c;){if(o=t[u],a=e[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++u]=a);continue}t[u]=new Uint8Array(o.buffer,n,r-n+s)}return t}function v$(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function Lu(e,t){const n=lit(e),r=n.reduce((c,d)=>c+d.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?v$(o,s,a):o=s;break}v$(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function is(e,t){let n=iit(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=aB(n)),n instanceof ArrayBuffer?new e(n):n instanceof uB?new e(n):ait(n)?is(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const d0=e=>is(Int32Array,e),Qn=e=>is(Uint8Array,e),LM=e=>(e.next(),e);function*uit(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof uB?n(t):lB(t)?t:n(t);return yield*LM(function*(i){let s=null;do s=i.next(yield is(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const cit=e=>uit(Uint8Array,e);function ude(e,t){return Kh(this,arguments,function*(){if(iT(t))return yield xn(yield xn(yield*rR(p_(ude(e,yield xn(t))))));const r=function(o){return Kh(this,arguments,function*(){yield yield xn(yield xn(o))})},i=function(o){return Kh(this,arguments,function*(){yield xn(yield*rR(p_(LM(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof uB?r(t):lB(t)?i(t):sT(t)?t:r(t);return yield xn(yield*rR(p_(LM(function(o){return Kh(this,arguments,function*(){let a=null;do a=yield xn(o.next(yield yield xn(is(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield xn(new e)})}const fit=e=>ude(Uint8Array,e);function cB(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function dit(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const kK={fromIterable(e){return KS(hit(e))},fromAsyncIterable(e){return KS(pit(e))},fromDOMStream(e){return KS(mit(e))},fromNodeStream(e){return KS(yit(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},KS=e=>(e.next(),e);function*hit(e){let t,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?Lu(r,o)[0]:([i,r,a]=Lu(r,o),i)}({cmd:s,size:o}=yield null);const u=cit(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!t)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function pit(e){return Kh(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?Lu(i,a)[0]:([s,i,l]=Lu(i,a),s)}({cmd:o,size:a}=yield yield xn(null));const c=fit(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield xn(c.next()):yield xn(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield xn(u()));while(a<l);while(!n)}catch(d){(r=!0)&&typeof c.throw=="function"&&(yield xn(c.throw(d)))}finally{r===!1&&typeof c.return=="function"&&(yield xn(c.return(new Uint8Array(0))))}return yield xn(null)})}function mit(e){return Kh(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?Lu(i,a)[0]:([s,i,l]=Lu(i,a),s)}({cmd:o,size:a}=yield yield xn(null));const c=new git(e);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield xn(c.read()):yield xn(c.read(a-l)),!n&&s.byteLength>0&&(i.push(Qn(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield xn(u()));while(a<l);while(!n)}catch(d){(r=!0)&&(yield xn(c.cancel(d)))}finally{r===!1?yield xn(c.cancel()):e.locked&&c.releaseLock()}return yield xn(null)})}class git{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return pc(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return pc(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Qn(n)),n})}}const iR=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function yit(e){return Kh(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function d(){return o==="peek"?Lu(u,a)[0]:([c,u,l]=Lu(u,a),c)}if({cmd:o,size:a}=yield yield xn(null),e.isTTY)return yield yield xn(new Uint8Array(0)),yield xn(null);try{n[0]=iR(e,"end"),n[1]=iR(e,"error");do{if(n[2]=iR(e,"readable"),[r,s]=yield xn(Promise.race(n.map(m=>m[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=Qn(e.read(a-l)),c.byteLength<a-l&&(c=Qn(e.read()))):c=Qn(e.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield xn(d()));while(a<l)}while(!i)}finally{yield xn(h(n,r==="error"?s:null))}return yield xn(null);function h(m,g){return c=u=null,new Promise((y,_)=>{for(const[v,b]of m)e.off(v,b);try{const v=e.destroy;v&&v.call(e,g),g=void 0}catch(v){g=v||g}finally{g!=null?_(g):y()}})}})}var ea;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(ea||(ea={}));var rl;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(rl||(rl={}));var fs;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(fs||(fs={}));var Fu;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Fu||(Fu={}));var En;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(En||(En={}));var ju;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(ju||(ju={}));var Bi;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(Bi||(Bi={}));var te;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(te||(te={}));var uc;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(uc||(uc={}));const vit=void 0;function vd(e){if(e===null)return"null";if(e===vit)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof em||e instanceof tm?`[${[...e].map(t=>vd(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const _it=Symbol.for("isArrowBigNum");function Yl(e,...t){return t.length===0?Object.setPrototypeOf(is(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Yl.prototype[_it]=!0;Yl.prototype.toJSON=function(){return`"${cp(this)}"`};Yl.prototype.valueOf=function(){return cde(this)};Yl.prototype.toString=function(){return cp(this)};Yl.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return cde(this);case"string":return cp(this);case"default":return FM(this)}return cp(this)};function Tg(...e){return Yl.apply(this,e)}function kg(...e){return Yl.apply(this,e)}function bw(...e){return Yl.apply(this,e)}Object.setPrototypeOf(Tg.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(kg.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(bw.prototype,Object.create(Uint32Array.prototype));Object.assign(Tg.prototype,Yl.prototype,{constructor:Tg,signed:!0,TypedArray:Int32Array,BigIntArray:em});Object.assign(kg.prototype,Yl.prototype,{constructor:kg,signed:!1,TypedArray:Uint32Array,BigIntArray:tm});Object.assign(bw.prototype,Yl.prototype,{constructor:bw,signed:!0,TypedArray:Uint32Array,BigIntArray:tm});function cde(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new tm(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),l=BigInt(0);if(o){for(const u of s)a+=~u*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of s)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}let cp,FM;ade?(FM=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:sR(e),cp=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:sR(e)):(cp=sR,FM=cp);function sR(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class fB{static new(t,n){switch(n){case!0:return new Tg(t);case!1:return new kg(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case em:return new Tg(t)}return t.byteLength===16?new bw(t):new kg(t)}static signed(t){return new Tg(t)}static unsigned(t){return new kg(t)}static decimal(t){return new bw(t)}constructor(t,n){return fB.new(t,n)}}var fde,dde,hde,pde,mde,gde,yde,vde,_de,wde,bde,Sde,xde,Ede,Ide,Ode,$de,Cde,Pde;class gn{static isNull(t){return(t==null?void 0:t.typeId)===te.Null}static isInt(t){return(t==null?void 0:t.typeId)===te.Int}static isFloat(t){return(t==null?void 0:t.typeId)===te.Float}static isBinary(t){return(t==null?void 0:t.typeId)===te.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===te.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===te.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===te.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===te.Date}static isTime(t){return(t==null?void 0:t.typeId)===te.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===te.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===te.Interval}static isList(t){return(t==null?void 0:t.typeId)===te.List}static isStruct(t){return(t==null?void 0:t.typeId)===te.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===te.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===te.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===te.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===te.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===te.Dictionary}static isDenseUnion(t){return gn.isUnion(t)&&t.mode===rl.Dense}static isSparseUnion(t){return gn.isUnion(t)&&t.mode===rl.Sparse}get typeId(){return te.NONE}}fde=Symbol.toStringTag;gn[fde]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(gn.prototype);let Kc=class extends gn{toString(){return"Null"}get typeId(){return te.Null}};dde=Symbol.toStringTag;Kc[dde]=(e=>e[Symbol.toStringTag]="Null")(Kc.prototype);class Zs extends gn{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return te.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?em:tm}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}hde=Symbol.toStringTag;Zs[hde]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(Zs.prototype);class dB extends Zs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class hB extends Zs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Td extends Zs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class pB extends Zs{constructor(){super(!0,64)}get ArrayType(){return em}}class mB extends Zs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class gB extends Zs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class yB extends Zs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class vB extends Zs{constructor(){super(!1,64)}get ArrayType(){return tm}}Object.defineProperty(dB.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(hB.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Td.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(pB.prototype,"ArrayType",{value:em});Object.defineProperty(mB.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(gB.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(yB.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(vB.prototype,"ArrayType",{value:tm});class kd extends gn{constructor(t){super(),this.precision=t}get typeId(){return te.Float}get ArrayType(){switch(this.precision){case fs.HALF:return Uint16Array;case fs.SINGLE:return Float32Array;case fs.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}pde=Symbol.toStringTag;kd[pde]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(kd.prototype);class Tde extends kd{constructor(){super(fs.HALF)}}class _B extends kd{constructor(){super(fs.SINGLE)}}class wB extends kd{constructor(){super(fs.DOUBLE)}}Object.defineProperty(Tde.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(_B.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(wB.prototype,"ArrayType",{value:Float64Array});let Sw=class extends gn{constructor(){super()}get typeId(){return te.Binary}toString(){return"Binary"}};mde=Symbol.toStringTag;Sw[mde]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Sw.prototype);let by=class extends gn{constructor(){super()}get typeId(){return te.Utf8}toString(){return"Utf8"}};gde=Symbol.toStringTag;by[gde]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(by.prototype);let xw=class extends gn{constructor(){super()}get typeId(){return te.Bool}toString(){return"Bool"}};yde=Symbol.toStringTag;xw[yde]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(xw.prototype);let _$=class extends gn{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return te.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};vde=Symbol.toStringTag;_$[vde]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(_$.prototype);class Sy extends gn{constructor(t){super(),this.unit=t}get typeId(){return te.Date}toString(){return`Date${(this.unit+1)*32}<${Fu[this.unit]}>`}}_de=Symbol.toStringTag;Sy[_de]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(Sy.prototype);class wit extends Sy{constructor(){super(Fu.DAY)}}class bit extends Sy{constructor(){super(Fu.MILLISECOND)}}class Yc extends gn{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return te.Time}toString(){return`Time${this.bitWidth}<${En[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return em}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}wde=Symbol.toStringTag;Yc[wde]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Yc.prototype);class Sit extends Yc{constructor(){super(En.SECOND,32)}}class xit extends Yc{constructor(){super(En.MILLISECOND,32)}}class Eit extends Yc{constructor(){super(En.MICROSECOND,64)}}class Iit extends Yc{constructor(){super(En.NANOSECOND,64)}}class w$ extends gn{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return te.Timestamp}toString(){return`Timestamp<${En[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}bde=Symbol.toStringTag;w$[bde]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(w$.prototype);class xy extends gn{constructor(t){super(),this.unit=t}get typeId(){return te.Interval}toString(){return`Interval<${ju[this.unit]}>`}}Sde=Symbol.toStringTag;xy[Sde]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(xy.prototype);class Oit extends xy{constructor(){super(ju.DAY_TIME)}}class $it extends xy{constructor(){super(ju.YEAR_MONTH)}}let Ey=class extends gn{constructor(t){super(),this.children=[t]}get typeId(){return te.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};xde=Symbol.toStringTag;Ey[xde]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Ey.prototype);class As extends gn{constructor(t){super(),this.children=t}get typeId(){return te.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Ede=Symbol.toStringTag;As[Ede]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(As.prototype);class Ew extends gn{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return te.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Ide=Symbol.toStringTag;Ew[Ide]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Ew.prototype);let b$=class extends gn{constructor(t){super(),this.byteWidth=t}get typeId(){return te.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Ode=Symbol.toStringTag;b$[Ode]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(b$.prototype);let Iy=class extends gn{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return te.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};$de=Symbol.toStringTag;Iy[$de]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(Iy.prototype);class Iw extends gn{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return te.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Cde=Symbol.toStringTag;Iw[Cde]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Iw.prototype);const Cit=(e=>()=>++e)(-1);class Ad extends gn{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?Cit():typeof r=="number"?r:r.low}get typeId(){return te.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Pde=Symbol.toStringTag;Ad[Pde]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Ad.prototype);function lu(e){const t=e;switch(e.typeId){case te.Decimal:return e.bitWidth/32;case te.Timestamp:return 2;case te.Date:return 1+t.unit;case te.Interval:return 1+t.unit;case te.FixedSizeList:return t.listSize;case te.FixedSizeBinary:return t.byteWidth;default:return 1}}class In{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return Pit(this,t,n)}getVisitFnByTypeId(t,n=!0){return Fm(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function Pit(e,t,n=!0){return typeof t=="number"?Fm(e,t,n):typeof t=="string"&&t in te?Fm(e,te[t],n):t&&t instanceof gn?Fm(e,AK(t),n):t!=null&&t.type&&t.type instanceof gn?Fm(e,AK(t.type),n):Fm(e,te.NONE,n)}function Fm(e,t,n=!0){let r=null;switch(t){case te.Null:r=e.visitNull;break;case te.Bool:r=e.visitBool;break;case te.Int:r=e.visitInt;break;case te.Int8:r=e.visitInt8||e.visitInt;break;case te.Int16:r=e.visitInt16||e.visitInt;break;case te.Int32:r=e.visitInt32||e.visitInt;break;case te.Int64:r=e.visitInt64||e.visitInt;break;case te.Uint8:r=e.visitUint8||e.visitInt;break;case te.Uint16:r=e.visitUint16||e.visitInt;break;case te.Uint32:r=e.visitUint32||e.visitInt;break;case te.Uint64:r=e.visitUint64||e.visitInt;break;case te.Float:r=e.visitFloat;break;case te.Float16:r=e.visitFloat16||e.visitFloat;break;case te.Float32:r=e.visitFloat32||e.visitFloat;break;case te.Float64:r=e.visitFloat64||e.visitFloat;break;case te.Utf8:r=e.visitUtf8;break;case te.Binary:r=e.visitBinary;break;case te.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case te.Date:r=e.visitDate;break;case te.DateDay:r=e.visitDateDay||e.visitDate;break;case te.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case te.Timestamp:r=e.visitTimestamp;break;case te.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case te.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case te.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case te.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case te.Time:r=e.visitTime;break;case te.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case te.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case te.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case te.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case te.Decimal:r=e.visitDecimal;break;case te.List:r=e.visitList;break;case te.Struct:r=e.visitStruct;break;case te.Union:r=e.visitUnion;break;case te.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case te.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case te.Dictionary:r=e.visitDictionary;break;case te.Interval:r=e.visitInterval;break;case te.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case te.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case te.FixedSizeList:r=e.visitFixedSizeList;break;case te.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${te[t]}'`)}function AK(e){switch(e.typeId){case te.Null:return te.Null;case te.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?te.Int8:te.Uint8;case 16:return n?te.Int16:te.Uint16;case 32:return n?te.Int32:te.Uint32;case 64:return n?te.Int64:te.Uint64}return te.Int}case te.Float:switch(e.precision){case fs.HALF:return te.Float16;case fs.SINGLE:return te.Float32;case fs.DOUBLE:return te.Float64}return te.Float;case te.Binary:return te.Binary;case te.Utf8:return te.Utf8;case te.Bool:return te.Bool;case te.Decimal:return te.Decimal;case te.Time:switch(e.unit){case En.SECOND:return te.TimeSecond;case En.MILLISECOND:return te.TimeMillisecond;case En.MICROSECOND:return te.TimeMicrosecond;case En.NANOSECOND:return te.TimeNanosecond}return te.Time;case te.Timestamp:switch(e.unit){case En.SECOND:return te.TimestampSecond;case En.MILLISECOND:return te.TimestampMillisecond;case En.MICROSECOND:return te.TimestampMicrosecond;case En.NANOSECOND:return te.TimestampNanosecond}return te.Timestamp;case te.Date:switch(e.unit){case Fu.DAY:return te.DateDay;case Fu.MILLISECOND:return te.DateMillisecond}return te.Date;case te.Interval:switch(e.unit){case ju.DAY_TIME:return te.IntervalDayTime;case ju.YEAR_MONTH:return te.IntervalYearMonth}return te.Interval;case te.Map:return te.Map;case te.List:return te.List;case te.Struct:return te.Struct;case te.Union:switch(e.mode){case rl.Dense:return te.DenseUnion;case rl.Sparse:return te.SparseUnion}return te.Union;case te.FixedSizeBinary:return te.FixedSizeBinary;case te.FixedSizeList:return te.FixedSizeList;case te.Dictionary:return te.Dictionary}throw new Error(`Unrecognized type '${te[e.typeId]}'`)}In.prototype.visitInt8=null;In.prototype.visitInt16=null;In.prototype.visitInt32=null;In.prototype.visitInt64=null;In.prototype.visitUint8=null;In.prototype.visitUint16=null;In.prototype.visitUint32=null;In.prototype.visitUint64=null;In.prototype.visitFloat16=null;In.prototype.visitFloat32=null;In.prototype.visitFloat64=null;In.prototype.visitDateDay=null;In.prototype.visitDateMillisecond=null;In.prototype.visitTimestampSecond=null;In.prototype.visitTimestampMillisecond=null;In.prototype.visitTimestampMicrosecond=null;In.prototype.visitTimestampNanosecond=null;In.prototype.visitTimeSecond=null;In.prototype.visitTimeMillisecond=null;In.prototype.visitTimeMicrosecond=null;In.prototype.visitTimeNanosecond=null;In.prototype.visitDenseUnion=null;In.prototype.visitSparseUnion=null;In.prototype.visitIntervalDayTime=null;In.prototype.visitIntervalYearMonth=null;const kde=new Float64Array(1),Am=new Uint32Array(kde.buffer);function Ade(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function Nde(e){if(e!==e)return 32256;kde[0]=e;const t=(Am[1]&2147483648)>>16&65535;let n=Am[1]&2146435072,r=0;return n>=1089470464?Am[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Am[1]&1048575)>>10):n<=1056964608?(r=1048576+(Am[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Am[1]&1048575)+512>>10),t|n|r&65535}class qt extends In{}function Jt(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const Tit=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},bB=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},kit=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},Ait=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Rde=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},Nit=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},lf=({values:e},t,n)=>{e[t]=n},SB=({values:e},t,n)=>{e[t]=n},Dde=({values:e},t,n)=>{e[t]=Nde(n)},Rit=(e,t,n)=>{switch(e.type.precision){case fs.HALF:return Dde(e,t,n);case fs.SINGLE:case fs.DOUBLE:return SB(e,t,n)}},xB=({values:e},t,n)=>{Tit(e,t,n.valueOf())},EB=({values:e},t,n)=>{bB(e,t*2,n.valueOf())},Mde=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},Dit=({values:e,valueOffsets:t},n,r)=>Rde(e,t,n,r),Mit=({values:e,valueOffsets:t},n,r)=>{Rde(e,t,n,aB(r))},Lde=(e,t,n)=>{e.type.unit===Fu.DAY?xB(e,t,n):EB(e,t,n)},IB=({values:e},t,n)=>bB(e,t*2,n/1e3),OB=({values:e},t,n)=>bB(e,t*2,n),$B=({values:e},t,n)=>kit(e,t*2,n),CB=({values:e},t,n)=>Ait(e,t*2,n),Fde=(e,t,n)=>{switch(e.type.unit){case En.SECOND:return IB(e,t,n);case En.MILLISECOND:return OB(e,t,n);case En.MICROSECOND:return $B(e,t,n);case En.NANOSECOND:return CB(e,t,n)}},PB=({values:e},t,n)=>{e[t]=n},TB=({values:e},t,n)=>{e[t]=n},kB=({values:e},t,n)=>{e[t]=n},AB=({values:e},t,n)=>{e[t]=n},jde=(e,t,n)=>{switch(e.type.unit){case En.SECOND:return PB(e,t,n);case En.MILLISECOND:return TB(e,t,n);case En.MICROSECOND:return kB(e,t,n);case En.NANOSECOND:return AB(e,t,n)}},Bde=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},Lit=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=il.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],l=i[t+1];a<l;)s(r,a++,n.get(++o))},Fit=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=il.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},jit=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),Bit=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),zit=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),Vit=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),Uit=(e,t,n)=>{const r=e.type.children.map(s=>il.getVisitFn(s.type)),i=n instanceof Map?zit(t,n):n instanceof Fn?Bit(t,n):Array.isArray(n)?jit(t,n):Vit(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},Hit=(e,t,n)=>{e.type.mode===rl.Dense?zde(e,t,n):Vde(e,t,n)},zde=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];il.visit(i,e.valueOffsets[t],n)},Vde=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];il.visit(i,t,n)},Wit=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Ude=(e,t,n)=>{e.type.unit===ju.DAY_TIME?NB(e,t,n):RB(e,t,n)},NB=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},RB=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},qit=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=il.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};qt.prototype.visitBool=Jt(Nit);qt.prototype.visitInt=Jt(lf);qt.prototype.visitInt8=Jt(lf);qt.prototype.visitInt16=Jt(lf);qt.prototype.visitInt32=Jt(lf);qt.prototype.visitInt64=Jt(lf);qt.prototype.visitUint8=Jt(lf);qt.prototype.visitUint16=Jt(lf);qt.prototype.visitUint32=Jt(lf);qt.prototype.visitUint64=Jt(lf);qt.prototype.visitFloat=Jt(Rit);qt.prototype.visitFloat16=Jt(Dde);qt.prototype.visitFloat32=Jt(SB);qt.prototype.visitFloat64=Jt(SB);qt.prototype.visitUtf8=Jt(Mit);qt.prototype.visitBinary=Jt(Dit);qt.prototype.visitFixedSizeBinary=Jt(Mde);qt.prototype.visitDate=Jt(Lde);qt.prototype.visitDateDay=Jt(xB);qt.prototype.visitDateMillisecond=Jt(EB);qt.prototype.visitTimestamp=Jt(Fde);qt.prototype.visitTimestampSecond=Jt(IB);qt.prototype.visitTimestampMillisecond=Jt(OB);qt.prototype.visitTimestampMicrosecond=Jt($B);qt.prototype.visitTimestampNanosecond=Jt(CB);qt.prototype.visitTime=Jt(jde);qt.prototype.visitTimeSecond=Jt(PB);qt.prototype.visitTimeMillisecond=Jt(TB);qt.prototype.visitTimeMicrosecond=Jt(kB);qt.prototype.visitTimeNanosecond=Jt(AB);qt.prototype.visitDecimal=Jt(Bde);qt.prototype.visitList=Jt(Lit);qt.prototype.visitStruct=Jt(Uit);qt.prototype.visitUnion=Jt(Hit);qt.prototype.visitDenseUnion=Jt(zde);qt.prototype.visitSparseUnion=Jt(Vde);qt.prototype.visitDictionary=Jt(Wit);qt.prototype.visitInterval=Jt(Ude);qt.prototype.visitIntervalDayTime=Jt(NB);qt.prototype.visitIntervalYearMonth=Jt(RB);qt.prototype.visitFixedSizeList=Jt(qit);qt.prototype.visitMap=Jt(Fit);const il=new qt,Il=Symbol.for("parent"),Ag=Symbol.for("rowIndex");class DB{constructor(t,n){return this[Il]=t,this[Ag]=n,new Proxy(this,new Kit)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ag],n=this[Il],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Fo.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${vd(t)}: ${vd(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Git(this[Il],this[Ag])}}class Git{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Fo.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(DB.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Il]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ag]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Kit{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Il].type.children.map(n=>n.name)}has(t,n){return t[Il].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[Il].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Il].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Fo.visit(t[Il].children[r],t[Ag]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Il].type.children.findIndex(s=>s.name===n);return i!==-1?(il.visit(t[Il].children[i],t[Ag],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class zt extends In{}function Gt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const Yit=(e,t)=>864e5*e[t],MB=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),Qit=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,Xit=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Hde=e=>new Date(e),Jit=(e,t)=>Hde(Yit(e,t)),Zit=(e,t)=>Hde(MB(e,t)),est=(e,t)=>null,Wde=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},tst=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},qde=({values:e},t)=>Jit(e,t),Gde=({values:e},t)=>Zit(e,t*2),eh=({stride:e,values:t},n)=>t[e*n],nst=({stride:e,values:t},n)=>Ade(t[e*n]),Kde=({values:e},t)=>e[t],rst=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),ist=({values:e,valueOffsets:t},n)=>Wde(e,t,n),sst=({values:e,valueOffsets:t},n)=>{const r=Wde(e,t,n);return r!==null?MM(r):null},ost=({values:e},t)=>e[t],ast=({type:e,values:t},n)=>e.precision!==fs.HALF?t[n]:Ade(t[n]),lst=(e,t)=>e.type.unit===Fu.DAY?qde(e,t):Gde(e,t),Yde=({values:e},t)=>1e3*MB(e,t*2),Qde=({values:e},t)=>MB(e,t*2),Xde=({values:e},t)=>Qit(e,t*2),Jde=({values:e},t)=>Xit(e,t*2),ust=(e,t)=>{switch(e.type.unit){case En.SECOND:return Yde(e,t);case En.MILLISECOND:return Qde(e,t);case En.MICROSECOND:return Xde(e,t);case En.NANOSECOND:return Jde(e,t)}},Zde=({values:e},t)=>e[t],ehe=({values:e},t)=>e[t],the=({values:e},t)=>e[t],nhe=({values:e},t)=>e[t],cst=(e,t)=>{switch(e.type.unit){case En.SECOND:return Zde(e,t);case En.MILLISECOND:return ehe(e,t);case En.MICROSECOND:return the(e,t);case En.NANOSECOND:return nhe(e,t)}},fst=({values:e,stride:t},n)=>fB.decimal(e.subarray(t*n,t*(n+1))),dst=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,l=i[0].slice(s,o-s);return new Fn([l])},hst=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new oT(o.slice(i,s-i))},pst=(e,t)=>new DB(e,t),mst=(e,t)=>e.type.mode===rl.Dense?rhe(e,t):ihe(e,t),rhe=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Fo.visit(r,e.valueOffsets[t])},ihe=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Fo.visit(r,t)},gst=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},yst=(e,t)=>e.type.unit===ju.DAY_TIME?she(e,t):ohe(e,t),she=({values:e},t)=>e.subarray(2*t,2*(t+1)),ohe=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},vst=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new Fn([s])};zt.prototype.visitNull=Gt(est);zt.prototype.visitBool=Gt(tst);zt.prototype.visitInt=Gt(ost);zt.prototype.visitInt8=Gt(eh);zt.prototype.visitInt16=Gt(eh);zt.prototype.visitInt32=Gt(eh);zt.prototype.visitInt64=Gt(Kde);zt.prototype.visitUint8=Gt(eh);zt.prototype.visitUint16=Gt(eh);zt.prototype.visitUint32=Gt(eh);zt.prototype.visitUint64=Gt(Kde);zt.prototype.visitFloat=Gt(ast);zt.prototype.visitFloat16=Gt(nst);zt.prototype.visitFloat32=Gt(eh);zt.prototype.visitFloat64=Gt(eh);zt.prototype.visitUtf8=Gt(sst);zt.prototype.visitBinary=Gt(ist);zt.prototype.visitFixedSizeBinary=Gt(rst);zt.prototype.visitDate=Gt(lst);zt.prototype.visitDateDay=Gt(qde);zt.prototype.visitDateMillisecond=Gt(Gde);zt.prototype.visitTimestamp=Gt(ust);zt.prototype.visitTimestampSecond=Gt(Yde);zt.prototype.visitTimestampMillisecond=Gt(Qde);zt.prototype.visitTimestampMicrosecond=Gt(Xde);zt.prototype.visitTimestampNanosecond=Gt(Jde);zt.prototype.visitTime=Gt(cst);zt.prototype.visitTimeSecond=Gt(Zde);zt.prototype.visitTimeMillisecond=Gt(ehe);zt.prototype.visitTimeMicrosecond=Gt(the);zt.prototype.visitTimeNanosecond=Gt(nhe);zt.prototype.visitDecimal=Gt(fst);zt.prototype.visitList=Gt(dst);zt.prototype.visitStruct=Gt(pst);zt.prototype.visitUnion=Gt(mst);zt.prototype.visitDenseUnion=Gt(rhe);zt.prototype.visitSparseUnion=Gt(ihe);zt.prototype.visitDictionary=Gt(gst);zt.prototype.visitInterval=Gt(yst);zt.prototype.visitIntervalDayTime=Gt(she);zt.prototype.visitIntervalYearMonth=Gt(ohe);zt.prototype.visitFixedSizeList=Gt(vst);zt.prototype.visitMap=Gt(hst);const Fo=new zt,Tl=Symbol.for("keys"),Ng=Symbol.for("vals");class oT{constructor(t){return this[Tl]=new Fn([t.children[0]]).memoize(),this[Ng]=t.children[1],new Proxy(this,new wst)}[Symbol.iterator](){return new _st(this[Tl],this[Ng])}get size(){return this[Tl].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Tl],n=this[Ng],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Fo.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${vd(t)}: ${vd(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class _st{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Fo.visit(this.vals,t)]})}}class wst{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Tl].toArray().map(String)}has(t,n){return t[Tl].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Tl].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Tl].indexOf(n);if(r!==-1){const i=Fo.visit(Reflect.get(t,Ng),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Tl].indexOf(n);return i!==-1?(il.visit(Reflect.get(t,Ng),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(oT.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Tl]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ng]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let NK;function ahe(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(NK=s,s=o,o=NK),o>i&&(o=i),r?r(e,s,o):[s,o]}const RK=e=>e!==e;function iv(e){if(typeof e!=="object"||e===null)return RK(e)?RK:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?dit(e,n):!1:e instanceof Map?Sst(e):Array.isArray(e)?bst(e):e instanceof Fn?xst(e):Est(e,!0)}function bst(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=iv(e[n]);return aT(t)}function Sst(e){let t=-1;const n=[];for(const r of e.values())n[++t]=iv(r);return aT(n)}function xst(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=iv(e.get(n));return aT(t)}function Est(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=iv(e[n[i]]);return aT(r,n)}function aT(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Ist(e,n);case Map:return DK(e,n,n.keys());case oT:case DB:case Object:case void 0:return DK(e,n,t||Object.keys(n))}return n instanceof Fn?Ost(e,n):!1}}function Ist(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function Ost(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function DK(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!e[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function lhe(e,t,n,r){return(n&1<<r)!==0}function $st(e,t,n,r){return(n&1<<r)>>r}function LB(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):uhe(new FB(n,e,t,null,lhe)).subarray(0,r)),i}return n}function uhe(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class FB{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function jM(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new FB(e,t,n-t,e,$st))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return jM(e,t,i)+jM(e,r,n)+Cst(e,i>>3,r-i>>3)}function Cst(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=oR(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=oR(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=oR(s.getUint8(i)),i+=1;return r}function oR(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const Pst=-1;class or{constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof or?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=lu(t),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=Pst&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-jM(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new or(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===te.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(LB(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[uc.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[uc.TYPE])&&(o[uc.TYPE]=s.subarray(t,t+n)),(s=o[uc.OFFSET])&&(o[uc.OFFSET]=s.subarray(t,t+n+1))||(s=o[uc.DATA])&&(o[uc.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}or.prototype.children=Object.freeze([]);class m_ extends In{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new or(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.data),s=Qn(t.nullBitmap),o=d0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new or(n,r,a,l,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.data),s=Qn(t.nullBitmap),o=d0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new or(n,r,a,l,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length/lu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length/lu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length/lu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length/lu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length/lu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Qn(t.nullBitmap),o=d0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new or(n,r,a,l,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Qn(t.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Qn(t.nullBitmap),o=is(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;if(gn.isSparseUnion(n))return new or(n,r,a,l,[void 0,void 0,s,o],i);const u=d0(t.valueOffsets);return new or(n,r,a,l,[u,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.indices.ArrayType,t.data),{["dictionary"]:o=new Fn([new m_().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new or(n,r,a,l,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Qn(t.nullBitmap),s=is(n.ArrayType,t.data),{["length"]:o=s.length/lu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new m_().visit({type:n.valueType})}=t,s=Qn(t.nullBitmap),{["length"]:o=i.length/lu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new or(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new m_().visit({type:n.childType})}=t,s=Qn(t.nullBitmap),o=d0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new or(n,r,a,l,[o,void 0,s],[i])}}function Ps(e){return new m_().visit(e)}class MK{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function che(e){return e.reduce((t,n)=>t+n.nullCount,0)}function fhe(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function dhe(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],l=t[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),d=Math.min(r-l,u);i.push(a.slice(c,d-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function jB(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function BB(e,t){return e.getValid(t)}function Rg(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return jB(r,this._offsets,n,t)}}function hhe(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=jB(s,this._offsets,r,n);return t=void 0,o}}function phe(e){let t;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const d=r[u];if(~(a=e(d,t,o)))return l+a;o=0,l+=d.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):jB(s,this._offsets,i,n);return t=void 0,o}}class Vt extends In{}function Tst(e,t){return t===null&&e.length>0?0:-1}function kst(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new FB(n,e.offset+(t||0),e.length,n,lhe)){if(!i)return r;++r}return-1}function sn(e,t,n){if(t===void 0)return-1;if(t===null)return kst(e,n);const r=Fo.getVisitFn(e),i=iv(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function mhe(e,t,n){const r=Fo.getVisitFn(e),i=iv(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Vt.prototype.visitNull=Tst;Vt.prototype.visitBool=sn;Vt.prototype.visitInt=sn;Vt.prototype.visitInt8=sn;Vt.prototype.visitInt16=sn;Vt.prototype.visitInt32=sn;Vt.prototype.visitInt64=sn;Vt.prototype.visitUint8=sn;Vt.prototype.visitUint16=sn;Vt.prototype.visitUint32=sn;Vt.prototype.visitUint64=sn;Vt.prototype.visitFloat=sn;Vt.prototype.visitFloat16=sn;Vt.prototype.visitFloat32=sn;Vt.prototype.visitFloat64=sn;Vt.prototype.visitUtf8=sn;Vt.prototype.visitBinary=sn;Vt.prototype.visitFixedSizeBinary=sn;Vt.prototype.visitDate=sn;Vt.prototype.visitDateDay=sn;Vt.prototype.visitDateMillisecond=sn;Vt.prototype.visitTimestamp=sn;Vt.prototype.visitTimestampSecond=sn;Vt.prototype.visitTimestampMillisecond=sn;Vt.prototype.visitTimestampMicrosecond=sn;Vt.prototype.visitTimestampNanosecond=sn;Vt.prototype.visitTime=sn;Vt.prototype.visitTimeSecond=sn;Vt.prototype.visitTimeMillisecond=sn;Vt.prototype.visitTimeMicrosecond=sn;Vt.prototype.visitTimeNanosecond=sn;Vt.prototype.visitDecimal=sn;Vt.prototype.visitList=sn;Vt.prototype.visitStruct=sn;Vt.prototype.visitUnion=sn;Vt.prototype.visitDenseUnion=mhe;Vt.prototype.visitSparseUnion=mhe;Vt.prototype.visitDictionary=sn;Vt.prototype.visitInterval=sn;Vt.prototype.visitIntervalDayTime=sn;Vt.prototype.visitIntervalYearMonth=sn;Vt.prototype.visitFixedSizeList=sn;Vt.prototype.visitMap=sn;const S$=new Vt;class Ut extends In{}function Kt(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===te.Timestamp||t instanceof Zs&&t.bitWidth!==64||t instanceof Yc&&t.bitWidth!==64||t instanceof kd&&t.precision!==fs.HALF))return new MK(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new MK(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new Ast(o)})}class Ast{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ut.prototype.visitNull=Kt;Ut.prototype.visitBool=Kt;Ut.prototype.visitInt=Kt;Ut.prototype.visitInt8=Kt;Ut.prototype.visitInt16=Kt;Ut.prototype.visitInt32=Kt;Ut.prototype.visitInt64=Kt;Ut.prototype.visitUint8=Kt;Ut.prototype.visitUint16=Kt;Ut.prototype.visitUint32=Kt;Ut.prototype.visitUint64=Kt;Ut.prototype.visitFloat=Kt;Ut.prototype.visitFloat16=Kt;Ut.prototype.visitFloat32=Kt;Ut.prototype.visitFloat64=Kt;Ut.prototype.visitUtf8=Kt;Ut.prototype.visitBinary=Kt;Ut.prototype.visitFixedSizeBinary=Kt;Ut.prototype.visitDate=Kt;Ut.prototype.visitDateDay=Kt;Ut.prototype.visitDateMillisecond=Kt;Ut.prototype.visitTimestamp=Kt;Ut.prototype.visitTimestampSecond=Kt;Ut.prototype.visitTimestampMillisecond=Kt;Ut.prototype.visitTimestampMicrosecond=Kt;Ut.prototype.visitTimestampNanosecond=Kt;Ut.prototype.visitTime=Kt;Ut.prototype.visitTimeSecond=Kt;Ut.prototype.visitTimeMillisecond=Kt;Ut.prototype.visitTimeMicrosecond=Kt;Ut.prototype.visitTimeNanosecond=Kt;Ut.prototype.visitDecimal=Kt;Ut.prototype.visitList=Kt;Ut.prototype.visitStruct=Kt;Ut.prototype.visitUnion=Kt;Ut.prototype.visitDenseUnion=Kt;Ut.prototype.visitSparseUnion=Kt;Ut.prototype.visitDictionary=Kt;Ut.prototype.visitInterval=Kt;Ut.prototype.visitIntervalDayTime=Kt;Ut.prototype.visitIntervalYearMonth=Kt;Ut.prototype.visitFixedSizeList=Kt;Ut.prototype.visitMap=Kt;const zB=new Ut,Nst=(e,t)=>e+t;class th extends In{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===En.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+Bu.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+Bu.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const Rst=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),Dst=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),Mst=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=Bu.getVisitFn(i.type),l=i.slice(s,o-s);let u=8;for(let c=-1,d=o-s;++c<d;)u+=a(l,c);return u},Lst=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=Bu.getVisitFn(r.type);let o=0;for(let a=-1,l=i.length;++a<l;)o+=s(i,a);return o},Fst=(e,t)=>e.type.mode===rl.Dense?ghe(e,t):yhe(e,t),ghe=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+Bu.visit(t[s],r[i])},yhe=({children:e},t)=>4+Bu.visitMany(e,e.map(()=>t)).reduce(Nst,0);th.prototype.visitUtf8=Rst;th.prototype.visitBinary=Dst;th.prototype.visitList=Mst;th.prototype.visitFixedSizeList=Lst;th.prototype.visitUnion=Fst;th.prototype.visitDenseUnion=ghe;th.prototype.visitSparseUnion=yhe;const Bu=new th;var vhe;const _he={},whe={};class Fn{constructor(t){var n,r,i;const s=t[0]instanceof Fn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof or)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u,byteLength:c}=_he[o.typeId],d=s[0];this.isValid=h=>BB(d,h),this.get=h=>a(d,h),this.set=(h,m)=>l(d,h,m),this.indexOf=h=>u(d,h),this.getByteLength=h=>c(d,h),this._offsets=[0,d.length];break}default:Object.setPrototypeOf(this,whe[o.typeId]),this._offsets=fhe(s);break}this.data=s,this.type=o,this.stride=lu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=che(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${te[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return zB.visit(this)}concat(...t){return new Fn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new Fn(ahe(this,t,n,({data:r,_offsets:i},s,o)=>dhe(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case te.Int:case te.Float:case te.Decimal:case te.Time:case te.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Fn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return gn.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(gn.isDictionary(this.type)){const t=new x$(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Fn(n)}return new x$(this)}unmemoize(){if(gn.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new Fn(n)}return this}}vhe=Symbol.toStringTag;Fn[vhe]=(e=>{e.type=gn.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(te).map(n=>te[n]).filter(n=>typeof n=="number"&&n!==te.NONE);for(const n of t){const r=Fo.getVisitFnByTypeId(n),i=il.getVisitFnByTypeId(n),s=S$.getVisitFnByTypeId(n),o=Bu.getVisitFnByTypeId(n);_he[n]={get:r,set:i,indexOf:s,byteLength:o},whe[n]=Object.create(e,{isValid:{value:Rg(BB)},get:{value:Rg(Fo.getVisitFnByTypeId(n))},set:{value:hhe(il.getVisitFnByTypeId(n))},indexOf:{value:phe(S$.getVisitFnByTypeId(n))},getByteLength:{value:Rg(Bu.getVisitFnByTypeId(n))}})}return"Vector"})(Fn.prototype);class x$ extends Fn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new x$(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Fn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function jst(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${Bst(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function Bst(e){return typeof e!="bigint"?vd(e):ade?`${vd(e)}n`:`"${vd(e)}"`}const aR=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,zst=(e,t=0)=>e.length>=t?e.subarray(0,t):v$(new e.constructor(t),e,0);class lT{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?aR(r*1,this.BYTES_PER_ELEMENT):aR(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=aR(t*this.stride,this.BYTES_PER_ELEMENT);const n=zst(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=v$(new this.ArrayType(t),this.buffer)}}lT.prototype.offset=0;class F1 extends lT{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class bhe extends F1{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class She extends F1{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Bo=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=lu(t),this._nulls=new bhe,n&&n.length>0&&(this._isValid=jst(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new Fn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,l)=>a+l.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:l,_offsets:u,_values:c,_nulls:d}=this;(n=l==null?void 0:l.flush(o))?i=u==null?void 0:u.flush(o):(i=u==null?void 0:u.flush(o))?t=c==null?void 0:c.flush(u.last()):t=c==null?void 0:c.flush(o),a>0&&(r=d==null?void 0:d.flush(o));const h=this.children.map(m=>m.flush());return this.clear(),Ps({type:s,length:o,nullCount:a,children:h,child:h[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};Bo.prototype.length=1;Bo.prototype.stride=1;Bo.prototype.children=null;Bo.prototype.finished=!1;Bo.prototype.nullValues=null;Bo.prototype._isValid=()=>!0;class nh extends Bo{constructor(t){super(t),this._values=new F1(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class uT extends Bo{constructor(t){super(t),this._pendingLength=0,this._offsets=new She}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof oT?n[Tl].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class BM{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const lR=2,pu=4,mc=4,dr=4,Lf=new Int32Array(2),LK=new Float32Array(Lf.buffer),FK=new Float64Array(Lf.buffer),YS=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Nc=class zM{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?zM.ZERO:new zM(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};Nc.ZERO=new Nc(0,0);var VM;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(VM||(VM={}));let E$=class xhe{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new xhe(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Nc(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Nc(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Lf[0]=this.readInt32(t),LK[0]}readFloat64(t){return Lf[YS?0:1]=this.readInt32(t),Lf[YS?1:0]=this.readInt32(t+4),FK[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){LK[0]=n,this.writeInt32(t,Lf[0])}writeFloat64(t,n){FK[0]=n,this.writeInt32(t,Lf[YS?0:1]),this.writeInt32(t+4,Lf[YS?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+pu+mc)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<mc;n++)t+=String.fromCharCode(this.readInt8(this.position_+pu+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=pu,n===VM.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const l=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|l&63;else{const u=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(l&63)<<6|u&63;else{const c=this.readUint8(t+s++);o=(a&7)<<18|(l&63)<<12|(u&63)<<6|c&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+pu}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=mc)throw new Error("FlatBuffers: file identifier must be length "+mc);for(let n=0;n<mc;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+pu+n))return!1;return!0}createLong(t,n){return Nc.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Ehe=class Ihe{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=E$.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Ihe.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=E$.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(pu,0),this.writeInt32(this.offset()-t+pu)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*lR;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=lR;u<s;u+=lR)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?dr:0;if(n){const s=n;if(this.prep(this.minalign,pu+mc+i),s.length!=mc)throw new Error("FlatBuffers: file identifier must be length "+mc);for(let o=mc-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,pu+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(pu,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+(65536-(55296<<10)-56320)}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return Nc.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Oi{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Oi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+dr),(n||new Oi).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Oi.startKeyValue(t),Oi.addKey(t,n),Oi.addValue(t,r),Oi.endKeyValue(t)}}var Oy;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Oy||(Oy={}));var $y;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})($y||($y={}));var I$;(function(e){e[e.DenseArray=0]="DenseArray"})(I$||(I$={}));class Jo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Jo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+dr),(n||new Jo).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Jo.startInt(t),Jo.addBitWidth(t,n),Jo.addIsSigned(t,r),Jo.endInt(t)}}class gc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new gc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+dr),(n||new gc).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Jo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):I$.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,I$.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Yh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Yh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+dr),(n||new Yh).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Yh.startBinary(t),Yh.endBinary(t)}}class Qh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new Qh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+dr),(n||new Qh).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Qh.startBool(t),Qh.endBool(t)}}var O$;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(O$||(O$={}));let Gx=class jm{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new jm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+dr),(n||new jm).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):O$.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,O$.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return jm.startDate(t),jm.addUnit(t,n),jm.endDate(t)}};class vo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new vo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+dr),(n||new vo).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return vo.startDecimal(t),vo.addPrecision(t,n),vo.addScale(t,r),vo.addBitWidth(t,i),vo.endDecimal(t)}}var Cy;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Cy||(Cy={}));class mu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new mu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+dr),(n||new mu).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return mu.startFixedSizeBinary(t),mu.addByteWidth(t,n),mu.endFixedSizeBinary(t)}}class gu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new gu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+dr),(n||new gu).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return gu.startFixedSizeList(t),gu.addListSize(t,n),gu.endFixedSizeList(t)}}var $$;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})($$||($$={}));class yu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new yu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+dr),(n||new yu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):$$.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,$$.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return yu.startFloatingPoint(t),yu.addPrecision(t,n),yu.endFloatingPoint(t)}}var C$;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(C$||(C$={}));class vu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new vu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+dr),(n||new vu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):C$.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,C$.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return vu.startInterval(t),vu.addUnit(t,n),vu.endInterval(t)}}class Xh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Xh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+dr),(n||new Xh).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Xh.startList(t),Xh.endList(t)}}let Kx=class Bm{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Bm).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+dr),(n||new Bm).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Bm.startMap(t),Bm.addKeysSorted(t,n),Bm.endMap(t)}};class Jh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Jh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+dr),(n||new Jh).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Jh.startNull(t),Jh.endNull(t)}}class Zh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Zh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+dr),(n||new Zh).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Zh.startStruct_(t),Zh.endStruct_(t)}}class ja{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new ja).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+dr),(n||new ja).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Cy.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Cy.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return ja.startTime(t),ja.addUnit(t,n),ja.addBitWidth(t,r),ja.endTime(t)}}class Ba{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Ba).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+dr),(n||new Ba).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Cy.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Cy.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Ba.startTimestamp(t),Ba.addUnit(t,n),Ba.addTimezone(t,r),Ba.endTimestamp(t)}}var P$;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(P$||(P$={}));class wo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+dr),(n||new wo).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):P$.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,P$.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return wo.startUnion(t),wo.addMode(t,n),wo.addTypeIds(t,r),wo.endUnion(t)}}class ep{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new ep).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+dr),(n||new ep).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return ep.startUtf8(t),ep.endUtf8(t)}}var Lr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(Lr||(Lr={}));let Na=class Yx{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Yx).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+dr),(n||new Yx).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Lr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new gc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Yx).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Oi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,Lr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},su=class ac{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new ac).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+dr),(n||new ac).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):$y.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Na).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Oi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,$y.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return ac.startSchema(t),ac.addEndianness(t,n),ac.addFields(t,r),ac.addCustomMetadata(t,i),ac.addFeatures(t,s),ac.endSchema(t)}};class Qo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Qo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+dr),(n||new Qo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Oy.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new su).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new BM).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new BM).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Oi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Oy.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}let jr=class Ch{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=UM(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Ch(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Ch(n,this.metadata)}assign(...t){const n=t[0]instanceof Ch?t[0]:Array.isArray(t[0])?new Ch(t[0]):new Ch(t),r=[...this.fields],i=QS(QS(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:QS(QS(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=UM(s,new Map);return new Ch([...r,...s],i,new Map([...this.dictionaries,...o]))}};jr.prototype.fields=null;jr.prototype.metadata=null;jr.prototype.dictionaries=null;class Un{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Un(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Un.new(n,r,i,s)}}Un.prototype.type=null;Un.prototype.name=null;Un.prototype.nullable=null;Un.prototype.metadata=null;function QS(e,t){return new Map([...e||new Map,...t||new Map])}function UM(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(gn.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&UM(s.children,t)}return t}var jK=Nc,Vst=Ehe,Ust=E$;class HM{constructor(t,n=ea.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new Ust(Qn(t));const n=Qo.getRootAsFooter(t),r=jr.decode(n.schema());return new Hst(r,n)}static encode(t){const n=new Vst,r=jr.encode(n,t.schema);Qo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Nd.encode(n,o);const i=n.endVector();Qo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Nd.encode(n,o);const s=n.endVector();return Qo.startFooter(n),Qo.addSchema(n,r),Qo.addVersion(n,ea.V4),Qo.addRecordBatches(n,i),Qo.addDictionaries(n,s),Qo.finishFooterBuffer(n,Qo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Hst extends HM{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Nd.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Nd.decode(n)}return null}}class Nd{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new Nd(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new jK(n.offset,0),s=new jK(n.bodyLength,0);return BM.createBlock(t,i,r,s)}}const XS=Object.freeze({done:!0,value:void 0});class Ohe{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Wst extends Ohe{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return pc(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(XS);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return kK.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return kK.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return pc(this,void 0,void 0,function*(){return yield this.abort(t),XS})}return(t){return pc(this,void 0,void 0,function*(){return yield this.close(),XS})}read(t){return pc(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return pc(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(XS)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class uR extends Wst{write(t){if((t=Qn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?MM(this.toUint8Array(!0)):this.toUint8Array(!1).then(MM)}toUint8Array(t=!1){return t?Lu(this._values)[0]:(()=>pc(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=p_(this),a;a=yield o.next(),!a.done;){const l=a.value;i.push(l),s+=l.byteLength}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return Lu(i,s)[0]}))()}}class $he extends uT{constructor(t){super(t),this._values=new lT(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Qn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const l=a.length;i.set(a,s),r.set(o,l),s+=l}}}class qst extends Bo{constructor(t){super(t),this._values=new bhe}setValue(t,n){this._values.set(t,+n)}}class cT extends nh{}cT.prototype._setValue=Lde;class Che extends cT{}Che.prototype._setValue=xB;class Phe extends cT{}Phe.prototype._setValue=EB;class The extends nh{}The.prototype._setValue=Bde;class Gst extends Bo{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Ad(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=T$({type:this.type.indices,nullValues:n}),this.dictionary=T$({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class khe extends nh{}khe.prototype._setValue=Mde;class Kst extends Bo{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new Iy(this.type.listSize,new Un(n,t.type,!0)),r}}class fT extends nh{setValue(t,n){this._values.set(t,n)}}class Yst extends fT{setValue(t,n){super.setValue(t,Nde(n))}}class Qst extends fT{}class Xst extends fT{}class dT extends nh{}dT.prototype._setValue=Ude;class Ahe extends dT{}Ahe.prototype._setValue=NB;class Nhe extends dT{}Nhe.prototype._setValue=RB;class uf extends nh{setValue(t,n){this._values.set(t,n)}}class Jst extends uf{}class Zst extends uf{}class eot extends uf{}class tot extends uf{}class not extends uf{}class rot extends uf{}class iot extends uf{}class sot extends uf{}class oot extends uT{constructor(t){super(t),this._offsets=new She}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Ey(new Un(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s.length,a=n.set(i,o).buffer[i];for(let l=-1;++l<o;)r.set(a+l,s[l])}}}class aot extends uT{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Iw(new Un(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const l of s.entries())if(r.set(o,l),++o>=a)break}}}class lot extends Bo{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class uot extends Bo{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new As([...this.type.children,new Un(n,t.type,!0)]),r}}class sv extends nh{}sv.prototype._setValue=Fde;class Rhe extends sv{}Rhe.prototype._setValue=IB;class Dhe extends sv{}Dhe.prototype._setValue=OB;class Mhe extends sv{}Mhe.prototype._setValue=$B;class Lhe extends sv{}Lhe.prototype._setValue=CB;class ov extends nh{}ov.prototype._setValue=jde;class Fhe extends ov{}Fhe.prototype._setValue=PB;class jhe extends ov{}jhe.prototype._setValue=TB;class Bhe extends ov{}Bhe.prototype._setValue=kB;class zhe extends ov{}zhe.prototype._setValue=AB;class VB extends Bo{constructor(t){super(t),this._typeIds=new F1(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Un(n,t.type)];return this.type=new Ew(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class cot extends VB{}class fot extends VB{constructor(t){super(t),this._offsets=new F1(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class Vhe extends uT{constructor(t){super(t),this._values=new lT(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,aB(n))}_flushPending(t,n){}}Vhe.prototype._flushPending=$he.prototype._flushPending;class dot extends In{visitNull(){return lot}visitBool(){return qst}visitInt(){return uf}visitInt8(){return Jst}visitInt16(){return Zst}visitInt32(){return eot}visitInt64(){return tot}visitUint8(){return not}visitUint16(){return rot}visitUint32(){return iot}visitUint64(){return sot}visitFloat(){return fT}visitFloat16(){return Yst}visitFloat32(){return Qst}visitFloat64(){return Xst}visitUtf8(){return Vhe}visitBinary(){return $he}visitFixedSizeBinary(){return khe}visitDate(){return cT}visitDateDay(){return Che}visitDateMillisecond(){return Phe}visitTimestamp(){return sv}visitTimestampSecond(){return Rhe}visitTimestampMillisecond(){return Dhe}visitTimestampMicrosecond(){return Mhe}visitTimestampNanosecond(){return Lhe}visitTime(){return ov}visitTimeSecond(){return Fhe}visitTimeMillisecond(){return jhe}visitTimeMicrosecond(){return Bhe}visitTimeNanosecond(){return zhe}visitDecimal(){return The}visitList(){return oot}visitStruct(){return uot}visitUnion(){return VB}visitDenseUnion(){return fot}visitSparseUnion(){return cot}visitDictionary(){return Gst}visitInterval(){return dT}visitIntervalDayTime(){return Ahe}visitIntervalYearMonth(){return Nhe}visitFixedSizeList(){return Kst}visitMap(){return aot}}const hot=new dot;class Ht extends In{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function zo(e,t){return t instanceof e.constructor}function j1(e,t){return e===t||zo(e,t)}function cf(e,t){return e===t||zo(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function hT(e,t){return e===t||zo(e,t)&&e.precision===t.precision}function pot(e,t){return e===t||zo(e,t)&&e.byteWidth===t.byteWidth}function UB(e,t){return e===t||zo(e,t)&&e.unit===t.unit}function B1(e,t){return e===t||zo(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function z1(e,t){return e===t||zo(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function mot(e,t){return e===t||zo(e,t)&&e.children.length===t.children.length&&Rd.compareManyFields(e.children,t.children)}function got(e,t){return e===t||zo(e,t)&&e.children.length===t.children.length&&Rd.compareManyFields(e.children,t.children)}function HB(e,t){return e===t||zo(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&Rd.compareManyFields(e.children,t.children)}function yot(e,t){return e===t||zo(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&Rd.visit(e.indices,t.indices)&&Rd.visit(e.dictionary,t.dictionary)}function WB(e,t){return e===t||zo(e,t)&&e.unit===t.unit}function vot(e,t){return e===t||zo(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&Rd.compareManyFields(e.children,t.children)}function _ot(e,t){return e===t||zo(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&Rd.compareManyFields(e.children,t.children)}Ht.prototype.visitNull=j1;Ht.prototype.visitBool=j1;Ht.prototype.visitInt=cf;Ht.prototype.visitInt8=cf;Ht.prototype.visitInt16=cf;Ht.prototype.visitInt32=cf;Ht.prototype.visitInt64=cf;Ht.prototype.visitUint8=cf;Ht.prototype.visitUint16=cf;Ht.prototype.visitUint32=cf;Ht.prototype.visitUint64=cf;Ht.prototype.visitFloat=hT;Ht.prototype.visitFloat16=hT;Ht.prototype.visitFloat32=hT;Ht.prototype.visitFloat64=hT;Ht.prototype.visitUtf8=j1;Ht.prototype.visitBinary=j1;Ht.prototype.visitFixedSizeBinary=pot;Ht.prototype.visitDate=UB;Ht.prototype.visitDateDay=UB;Ht.prototype.visitDateMillisecond=UB;Ht.prototype.visitTimestamp=B1;Ht.prototype.visitTimestampSecond=B1;Ht.prototype.visitTimestampMillisecond=B1;Ht.prototype.visitTimestampMicrosecond=B1;Ht.prototype.visitTimestampNanosecond=B1;Ht.prototype.visitTime=z1;Ht.prototype.visitTimeSecond=z1;Ht.prototype.visitTimeMillisecond=z1;Ht.prototype.visitTimeMicrosecond=z1;Ht.prototype.visitTimeNanosecond=z1;Ht.prototype.visitDecimal=j1;Ht.prototype.visitList=mot;Ht.prototype.visitStruct=got;Ht.prototype.visitUnion=HB;Ht.prototype.visitDenseUnion=HB;Ht.prototype.visitSparseUnion=HB;Ht.prototype.visitDictionary=yot;Ht.prototype.visitInterval=WB;Ht.prototype.visitIntervalDayTime=WB;Ht.prototype.visitIntervalYearMonth=WB;Ht.prototype.visitFixedSizeList=vot;Ht.prototype.visitMap=_ot;const Rd=new Ht;function WM(e,t){return Rd.compareSchemas(e,t)}function T$(e){const t=e.type,n=new(hot.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:l}=a,u=s(a,o);n.children.push(T$(Object.assign(Object.assign({},u),{type:l})))}}return n}function cR(e,t){return wot(e,t.map(n=>n.data.concat()))}function wot(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((d,h)=>Math.max(d,h.length),0)};let s=0,o=0,a=-1;const l=t.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=t[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=bot(n,o,c,t,i),o>0&&(r[s++]=Ps({type:new As(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(d=>new Zo(e,d))]}function bot(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u==null?void 0:u.length;if(c>=t)c===t?n[a]=u:(n[a]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(t,c-t))));else{const d=e[a];e[a]=d.clone({nullable:!0}),n[a]=(s=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Ps({type:d.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var Uhe;class bo{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new jr([]),this._offsets=[0],this;let i,s;t[0]instanceof jr&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=l=>{if(l){if(l instanceof Zo)return[l];if(l instanceof bo)return l.batches;if(l instanceof or){if(l.type instanceof As)return[new Zo(new jr(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(m=>new Fn([l[m]])),d=new jr(u.map((m,g)=>new Un(String(m),c[g].type))),[,h]=cR(d,c);return h.length===0?[new Zo(l)]:h}}}return[]},a=t.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new jr([]),!(i instanceof jr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof Zo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!WM(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??fhe(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=che(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?zB.visit(new Fn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new bo(n,r.map(i=>new Zo(n,i)))}slice(t,n){const r=this.schema;[t,n]=ahe({length:this.numRows},t,n);const i=dhe(this.data,this._offsets,t,n);return new bo(r,i.map(s=>new Zo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Ps({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Fn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new Fn([Ps({type:new Kc,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[t],a[t]]=[o,n],[r,i]=cR(r,a)}return new bo(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new bo(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,l,u)=>{const[c,d]=a,h=n.findIndex(m=>m.name===l.name);return~h?d[h]=u:c.push(u),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new bo(...cR(s,o))}}Uhe=Symbol.toStringTag;bo[Uhe]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Rg(BB),e.get=Rg(Fo.getVisitFn(te.Struct)),e.set=hhe(il.getVisitFn(te.Struct)),e.indexOf=phe(S$.getVisitFn(te.Struct)),e.getByteLength=Rg(Bu.getVisitFn(te.Struct)),"Table"))(bo.prototype);var Hhe;let Zo=class M0{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof jr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ps({nullCount:0,type:new As(this.schema.fields),children:this.schema.fields.map(n=>Ps({type:n.type,nullCount:0}))})]=t,!(this.data instanceof or))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=BK(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=Un.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new jr(r),a=Ps({type:new As(r),length:s,children:i,nullCount:0});[this.schema,this.data]=BK(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Whe(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Fo.visit(this.data,t)}set(t,n){return il.visit(this.data,t,n)}indexOf(t,n){return S$.visit(this.data,t,n)}getByteLength(t){return Bu.visit(this.data,t)}[Symbol.iterator](){return zB.visit(new Fn([this.data]))}toArray(){return[...this]}concat(...t){return new bo(this.schema,[this,...t])}slice(t,n){const[r]=new Fn([this.data]).slice(t,n).data;return new M0(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Fn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new Fn([Ps({type:new Kc,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new jr(s,new Map(this.schema.metadata)),i=Ps({type:new As(s),children:o})}return new M0(r,i)}select(t){const n=this.schema.select(t),r=new As(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new M0(n,Ps({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Ps({type:new As(n.fields),length:this.numRows,children:r});return new M0(n,i)}};Hhe=Symbol.toStringTag;Zo[Hhe]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Zo.prototype);function BK(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,l]of e.fields.entries()){const u=t[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Ps({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Ps({type:new As(i),length:n,children:s})]}function Whe(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,a=t[r];if(gn.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Whe(o.children,a.children,n)}return n}class Sot extends Zo{constructor(t){const n=t.fields.map(i=>Ps({type:i.type})),r=Ps({type:new As(t.fields),nullCount:0,children:n});super(t,r)}}var k$;(function(e){e[e.BUFFER=0]="BUFFER"})(k$||(k$={}));var A$;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(A$||(A$={}));class Ff{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new Ff).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+dr),(n||new Ff).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):A$.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):k$.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,A$.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,k$.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return Ff.startBodyCompression(t),Ff.addCodec(t,n),Ff.addMethod(t,r),Ff.endBodyCompression(t)}}class qhe{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let Ghe=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},cc=class qM{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new qM).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+dr),(n||new qM).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Ghe).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new qhe).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new Ff).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},zm=class GM{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new GM).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+dr),(n||new GM).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new cc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var N$;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(N$||(N$={}));let Tf=class nu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new nu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+dr),(n||new nu).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Oy.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):N$.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Oi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Oy.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,N$.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return nu.startMessage(t),nu.addVersion(t,n),nu.addHeaderType(t,r),nu.addHeader(t,i),nu.addBodyLength(t,s),nu.addCustomMetadata(t,o),nu.endMessage(t)}};var xot=Nc;class Eot extends In{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Jh.startNull(n),Jh.endNull(n)}visitInt(t,n){return Jo.startInt(n),Jo.addBitWidth(n,t.bitWidth),Jo.addIsSigned(n,t.isSigned),Jo.endInt(n)}visitFloat(t,n){return yu.startFloatingPoint(n),yu.addPrecision(n,t.precision),yu.endFloatingPoint(n)}visitBinary(t,n){return Yh.startBinary(n),Yh.endBinary(n)}visitBool(t,n){return Qh.startBool(n),Qh.endBool(n)}visitUtf8(t,n){return ep.startUtf8(n),ep.endUtf8(n)}visitDecimal(t,n){return vo.startDecimal(n),vo.addScale(n,t.scale),vo.addPrecision(n,t.precision),vo.addBitWidth(n,t.bitWidth),vo.endDecimal(n)}visitDate(t,n){return Gx.startDate(n),Gx.addUnit(n,t.unit),Gx.endDate(n)}visitTime(t,n){return ja.startTime(n),ja.addUnit(n,t.unit),ja.addBitWidth(n,t.bitWidth),ja.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return Ba.startTimestamp(n),Ba.addUnit(n,t.unit),r!==void 0&&Ba.addTimezone(n,r),Ba.endTimestamp(n)}visitInterval(t,n){return vu.startInterval(n),vu.addUnit(n,t.unit),vu.endInterval(n)}visitList(t,n){return Xh.startList(n),Xh.endList(n)}visitStruct(t,n){return Zh.startStruct_(n),Zh.endStruct_(n)}visitUnion(t,n){wo.startTypeIdsVector(n,t.typeIds.length);const r=wo.createTypeIdsVector(n,t.typeIds);return wo.startUnion(n),wo.addMode(n,t.mode),wo.addTypeIds(n,r),wo.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return gc.startDictionaryEncoding(n),gc.addId(n,new xot(t.id,0)),gc.addIsOrdered(n,t.isOrdered),r!==void 0&&gc.addIndexType(n,r),gc.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return mu.startFixedSizeBinary(n),mu.addByteWidth(n,t.byteWidth),mu.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return gu.startFixedSizeList(n),gu.addListSize(n,t.listSize),gu.endFixedSizeList(n)}visitMap(t,n){return Kx.startMap(n),Kx.addKeysSorted(n,t.keysSorted),Kx.endMap(n)}}const fR=new Eot;function Iot(e,t=new Map){return new jr($ot(e,t),Qx(e.customMetadata),t)}function Khe(e){return new ma(e.count,Yhe(e.columns),Qhe(e.columns))}function Oot(e){return new zu(Khe(e.data),e.id,e.isDelta)}function $ot(e,t){return(e.fields||[]).filter(Boolean).map(n=>Un.fromJSON(n,t))}function zK(e,t){return(e.children||[]).filter(Boolean).map(n=>Un.fromJSON(n,t))}function Yhe(e){return(e||[]).reduce((t,n)=>[...t,new nm(n.count,Cot(n.VALIDITY)),...Yhe(n.children)],[])}function Qhe(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new Eu(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new Eu(t.length,i.TYPE.length)),i.OFFSET&&t.push(new Eu(t.length,i.OFFSET.length)),i.DATA&&t.push(new Eu(t.length,i.DATA.length)),t=Qhe(i.children,t)}return t}function Cot(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function Pot(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=UK(e,zK(e,t)),i=new Un(e.name,o,e.nullable,Qx(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?VK(r):new Td,a=new Ad(t.get(n),r,n,s.isOrdered),i=new Un(e.name,a,e.nullable,Qx(e.customMetadata))):(r=(r=s.indexType)?VK(r):new Td,t.set(n,o=UK(e,zK(e,t))),a=new Ad(o,r,n,s.isOrdered),i=new Un(e.name,a,e.nullable,Qx(e.customMetadata))),i||null}function Qx(e){return new Map(Object.entries(e||{}))}function VK(e){return new Zs(e.isSigned,e.bitWidth)}function UK(e,t){const n=e.type.name;switch(n){case"NONE":return new Kc;case"null":return new Kc;case"binary":return new Sw;case"utf8":return new by;case"bool":return new xw;case"list":return new Ey((t||[])[0]);case"struct":return new As(t||[]);case"struct_":return new As(t||[])}switch(n){case"int":{const r=e.type;return new Zs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new kd(fs[r.precision])}case"decimal":{const r=e.type;return new _$(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new Sy(Fu[r.unit])}case"time":{const r=e.type;return new Yc(En[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new w$(En[r.unit],r.timezone)}case"interval":{const r=e.type;return new xy(ju[r.unit])}case"union":{const r=e.type;return new Ew(rl[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new b$(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new Iy(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new Iw((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Lp=Nc,Tot=Ehe,kot=E$;class _u{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new _u(0,ea.V4,n);return r._createHeader=Aot(t,n),r}static decode(t){t=new kot(Qn(t));const n=Tf.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new _u(r,i,s);return o._createHeader=Not(n,s),o}static encode(t){const n=new Tot;let r=-1;return t.isSchema()?r=jr.encode(n,t.header()):t.isRecordBatch()?r=ma.encode(n,t.header()):t.isDictionaryBatch()&&(r=zu.encode(n,t.header())),Tf.startMessage(n),Tf.addVersion(n,ea.V4),Tf.addHeader(n,r),Tf.addHeaderType(n,t.headerType),Tf.addBodyLength(n,new Lp(t.bodyLength,0)),Tf.finishMessageBuffer(n,Tf.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof jr)return new _u(0,ea.V4,Bi.Schema,t);if(t instanceof ma)return new _u(n,ea.V4,Bi.RecordBatch,t);if(t instanceof zu)return new _u(n,ea.V4,Bi.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Bi.Schema}isRecordBatch(){return this.headerType===Bi.RecordBatch}isDictionaryBatch(){return this.headerType===Bi.DictionaryBatch}}class ma{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class zu{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class Eu{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class nm{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function Aot(e,t){return()=>{switch(t){case Bi.Schema:return jr.fromJSON(e);case Bi.RecordBatch:return ma.fromJSON(e);case Bi.DictionaryBatch:return zu.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${Bi[t]}, type: ${t} }`)}}function Not(e,t){return()=>{switch(t){case Bi.Schema:return jr.decode(e.header(new su));case Bi.RecordBatch:return ma.decode(e.header(new cc),e.version());case Bi.DictionaryBatch:return zu.decode(e.header(new zm),e.version())}throw new Error(`Unrecognized Message type: { name: ${Bi[t]}, type: ${t} }`)}}Un.encode=Hot;Un.decode=Vot;Un.fromJSON=Pot;jr.encode=Uot;jr.decode=Rot;jr.fromJSON=Iot;ma.encode=Wot;ma.decode=Dot;ma.fromJSON=Khe;zu.encode=qot;zu.decode=Mot;zu.fromJSON=Oot;nm.encode=Got;nm.decode=Fot;Eu.encode=Kot;Eu.decode=Lot;function Rot(e,t=new Map){const n=zot(e,t);return new jr(n,Xx(e),t)}function Dot(e,t=ea.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new ma(e.length(),jot(e),Bot(e,t))}function Mot(e,t=ea.V4){return new zu(ma.decode(e.data(),t),e.id(),e.isDelta())}function Lot(e){return new Eu(e.offset(),e.length())}function Fot(e){return new nm(e.length(),e.nullCount())}function jot(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=nm.decode(n));return t}function Bot(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<ea.V4&&(r.bb_pos+=8*(i+1)),n[++s]=Eu.decode(r));return n}function zot(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Un.decode(r,t));return n}function HK(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Un.decode(r,t));return n}function Vot(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=qK(e,HK(e,t)),r=new Un(e.name(),i,e.nullable(),Xx(e))):t.has(n=a.id().low)?(s=(s=a.indexType())?WK(s):new Td,o=new Ad(t.get(n),s,n,a.isOrdered()),r=new Un(e.name(),o,e.nullable(),Xx(e))):(s=(s=a.indexType())?WK(s):new Td,t.set(n,i=qK(e,HK(e,t))),o=new Ad(i,s,n,a.isOrdered()),r=new Un(e.name(),o,e.nullable(),Xx(e))),r||null}function Xx(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function WK(e){return new Zs(e.isSigned(),e.bitWidth())}function qK(e,t){const n=e.typeType();switch(n){case Lr.NONE:return new Kc;case Lr.Null:return new Kc;case Lr.Binary:return new Sw;case Lr.Utf8:return new by;case Lr.Bool:return new xw;case Lr.List:return new Ey((t||[])[0]);case Lr.Struct_:return new As(t||[])}switch(n){case Lr.Int:{const r=e.type(new Jo);return new Zs(r.isSigned(),r.bitWidth())}case Lr.FloatingPoint:{const r=e.type(new yu);return new kd(r.precision())}case Lr.Decimal:{const r=e.type(new vo);return new _$(r.scale(),r.precision(),r.bitWidth())}case Lr.Date:{const r=e.type(new Gx);return new Sy(r.unit())}case Lr.Time:{const r=e.type(new ja);return new Yc(r.unit(),r.bitWidth())}case Lr.Timestamp:{const r=e.type(new Ba);return new w$(r.unit(),r.timezone())}case Lr.Interval:{const r=e.type(new vu);return new xy(r.unit())}case Lr.Union:{const r=e.type(new wo);return new Ew(r.mode(),r.typeIdsArray()||[],t||[])}case Lr.FixedSizeBinary:{const r=e.type(new mu);return new b$(r.byteWidth())}case Lr.FixedSizeList:{const r=e.type(new gu);return new Iy(r.listSize(),(t||[])[0])}case Lr.Map:{const r=e.type(new Kx);return new Iw((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${Lr[n]}" (${n})`)}function Uot(e,t){const n=t.fields.map(s=>Un.encode(e,s));su.startFieldsVector(e,n.length);const r=su.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?su.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),l=e.createString(`${o}`);return Oi.startKeyValue(e),Oi.addKey(e,a),Oi.addValue(e,l),Oi.endKeyValue(e)})):-1;return su.startSchema(e),su.addFields(e,r),su.addEndianness(e,Yot?$y.Little:$y.Big),i!==-1&&su.addCustomMetadata(e,i),su.endSchema(e)}function Hot(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;gn.isDictionary(s)?(o=s.dictionary.typeId,i=fR.visit(s,e),r=fR.visit(s.dictionary,e)):r=fR.visit(s,e);const a=(s.children||[]).map(c=>Un.encode(e,c)),l=Na.createChildrenVector(e,a),u=t.metadata&&t.metadata.size>0?Na.createCustomMetadataVector(e,[...t.metadata].map(([c,d])=>{const h=e.createString(`${c}`),m=e.createString(`${d}`);return Oi.startKeyValue(e),Oi.addKey(e,h),Oi.addValue(e,m),Oi.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Na.startField(e),Na.addType(e,r),Na.addTypeType(e,o),Na.addChildren(e,l),Na.addNullable(e,!!t.nullable),n!==-1&&Na.addName(e,n),i!==-1&&Na.addDictionary(e,i),u!==-1&&Na.addCustomMetadata(e,u),Na.endField(e)}function Wot(e,t){const n=t.nodes||[],r=t.buffers||[];cc.startNodesVector(e,n.length);for(const o of n.slice().reverse())nm.encode(e,o);const i=e.endVector();cc.startBuffersVector(e,r.length);for(const o of r.slice().reverse())Eu.encode(e,o);const s=e.endVector();return cc.startRecordBatch(e),cc.addLength(e,new Lp(t.length,0)),cc.addNodes(e,i),cc.addBuffers(e,s),cc.endRecordBatch(e)}function qot(e,t){const n=ma.encode(e,t.data);return zm.startDictionaryBatch(e),zm.addId(e,new Lp(t.id,0)),zm.addIsDelta(e,t.isDelta),zm.addData(e,n),zm.endDictionaryBatch(e)}function Got(e,t){return Ghe.createFieldNode(e,new Lp(t.length,0),new Lp(t.nullCount,0))}function Kot(e,t){return qhe.createBuffer(e,new Lp(t.offset,0),new Lp(t.length,0))}const Yot=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),KM="ARROW1",qB=new Uint8Array(KM.length);for(let e=0;e<KM.length;e+=1)qB[e]=KM.codePointAt(e);qB.length;class vi extends In{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof Zo?s.data.children:s.data),r=new vi;return r.visitMany(n(t)),r}visit(t){if(t instanceof Fn)return this.visitMany(t.data),this;const{type:n}=t;if(!gn.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");gn.isNull(n)||Bl.call(this,i<=0?new Uint8Array(0):LB(t.offset,r,t.nullBitmap)),this.nodes.push(new nm(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Bl(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new Eu(this._byteLength,t)),this._byteLength+=t,this}function Qot(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(Bl.call(this,r),t.mode===rl.Sparse)return YM.call(this,e);if(t.mode===rl.Dense){if(e.offset<=0)return Bl.call(this,i),YM.call(this,e);{const s=r.reduce((c,d)=>Math.max(c,d),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),l=new Int32Array(n),u=cB(-i[0],n,i);for(let c,d,h=-1;++h<n;)(d=a[c=r[h]])===-1&&(d=a[c]=u[c]),l[h]=u[h]-d,++o[c];Bl.call(this,l);for(let c,d=-1,h=t.children.length;++d<h;)if(c=e.children[d]){const m=t.typeIds[d],g=Math.min(n,o[m]);this.visit(c.slice(a[m],g))}}}return this}function Xot(e){let t;return e.nullCount>=e.length?Bl.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Bl.call(this,LB(e.offset,e.length,t)):Bl.call(this,uhe(e.values))}function rh(e){return Bl.call(this,e.values.subarray(0,e.length*e.stride))}function Xhe(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return Bl.call(this,cB(-r[0],t,r)),Bl.call(this,n.subarray(i,i+o)),this}function GB(e){const{length:t,valueOffsets:n}=e;return n&&Bl.call(this,cB(n[0],t,n)),this.visit(e.children[0])}function YM(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}vi.prototype.visitBool=Xot;vi.prototype.visitInt=rh;vi.prototype.visitFloat=rh;vi.prototype.visitUtf8=Xhe;vi.prototype.visitBinary=Xhe;vi.prototype.visitFixedSizeBinary=rh;vi.prototype.visitDate=rh;vi.prototype.visitTimestamp=rh;vi.prototype.visitTime=rh;vi.prototype.visitDecimal=rh;vi.prototype.visitList=GB;vi.prototype.visitStruct=YM;vi.prototype.visitUnion=Qot;vi.prototype.visitInterval=rh;vi.prototype.visitFixedSizeList=GB;vi.prototype.visitMap=GB;class Jhe extends Ohe{constructor(t){super(),this._position=0,this._started=!1,this._sink=new uR,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Zd(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return iT(t)?t.then(n=>this.writeAll(n)):sT(t)?XB(this,t):QB(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof uR?this._sink=t:(this._sink=new uR,t&&sit(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&oit(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!WM(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof bo&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof Zo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!WM(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof Zo?t instanceof Sot||this._writeRecordBatch(t):t instanceof bo?this.writeAll(t.batches):lB(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=_u.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return t.headerType===Bi.RecordBatch?this._recordBatchBlocks.push(new Nd(a,t.bodyLength,this._position)):t.headerType===Bi.DictionaryBatch&&this._dictionaryBlocks.push(new Nd(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const n=Qn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(_u.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(qB)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=vi.assemble(t),o=new ma(t.numRows,r,i),a=_u.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=vi.assemble(new Fn([t])),l=new ma(t.length,s,o),u=new zu(l,n,r),c=_u.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class KB extends Jhe{static writeAll(t,n){const r=new KB(n);return iT(t)?t.then(i=>r.writeAll(i)):sT(t)?XB(r,t):QB(r,t)}}class YB extends Jhe{static writeAll(t){const n=new YB;return iT(t)?t.then(r=>n.writeAll(r)):sT(t)?XB(n,t):QB(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=HM.encode(new HM(t,ea.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function QB(e,t){let n=t;t instanceof bo&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function XB(e,t){var n,r,i,s;return pc(this,void 0,void 0,function*(){try{for(n=p_(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function Jot(e,t="stream"){return(t==="stream"?KB:YB).writeAll(e).toUint8Array(!0)}function JB(e,t=1){return(e*t+63&-64||64)/t}function Dd(e,t,n=e.BYTES_PER_ELEMENT){return new e(JB(t,n))}function ZB(e){return e instanceof or?e:new or(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function Zot(e){return new Fn([ZB(e)])}const e4=new TextEncoder;function eat(e,t,n){const r=e4.encode(n);return e.set(r,t),r.length}function tat(e,t,n){return e4.encodeInto(n,e.subarray(t)).written}const nat=e4.encodeInto?tat:eat;function GK(e,t){const n=Dd(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function rat(e,t){const n=Dd(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function iat(e,t){const n=Dd(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function sat(e,t){const n=Dd(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function oat(e){const t=T$({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function aat(e,t,n){const r=Dd(Int32Array,t+1),i=Dd(Uint8Array,3*n);let s=0;return{set(o,a){s+=nat(i,s,o),r[a+1]=s},data:()=>{const o=JB(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function lat(e,t){const n=[],r=Dd(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,l){const u=String(a);let c=i[u];c===void 0&&(o+=u.length,i[u]=c=++s,n.push(u)),r[l]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:uat(e.dictionary,n,o)})}}function uat(e,t,n){const r=aat(e,t.length,n);return t.forEach(r.set),Zot(r.data())}function cat(e,t){const n=Dd(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function fat(e,t,n=!0){let r;switch(e.typeId){case te.Int:r=e.bitWidth<64?GK:null;break;case te.Float:r=e.precision>0?GK:null;break;case te.Dictionary:r=e.dictionary.typeId===te.Utf8&&e.indices.typeId===te.Int&&e.indices.bitWidth<64?lat:null;break;case te.Bool:r=rat;break;case te.Date:r=e.unit?sat:iat;break}return r==null?oat(e):n?cat(r(e,t),t):r(e,t)}function dat(e,t){const n=e.length,r=JB(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),ZB({type:t,length:n,buffers:[null,i]})}function Zhe(e,t,n,r,i=!0){const s=fat(r,e,i);return t(n,s.set),ZB(s.data())}function t4(e){if(e instanceof gn||e==null)return e;switch(e){case te.Binary:return new Sw;case te.Bool:return new xw;case te.DateDay:return new wit;case te.DateMillisecond:case te.Date:return new bit;case te.Dictionary:return new Ad(new by,new Td);case te.Float16:return new Tde;case te.Float32:return new _B;case te.Float64:case te.Float:return new wB;case te.Int8:return new dB;case te.Int16:return new hB;case te.Int32:case te.Int:return new Td;case te.Int64:return new pB;case te.IntervalDayTime:return new Oit;case te.Interval:case te.IntervalYearMonth:return new $it;case te.Null:return new Kc;case te.TimeMicrosecond:return new Eit;case te.TimeMillisecond:case te.Time:return new xit;case te.TimeNanosecond:return new Iit;case te.TimeSecond:return new Sit;case te.Uint8:return new mB;case te.Uint16:return new gB;case te.Uint32:return new yB;case te.Uint64:return new vB;case te.Utf8:return new by;default:en(`Unsupported type code: ${Mu(e)}. Use a data type constructor instead?`)}}function hat(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function epe(e,t){const n=QM();return e(t,n.add),n}function QM(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Gc(t))++e.dates,hat(t)&&++e.utcdays;else if(Gh(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=QM());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=QM())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return t4(pat(e))}};return e}function pat(e){const t=e.count-e.nulls;if(t===0)return te.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?te.Float64:n<1<<7?te.Int8:n<1<<15?te.Int16:te.Int32:n>=2**32?te.Float64:n<1<<8?te.Uint8:n<1<<16?te.Uint16:te.Uint32}else{if(e.nums===t)return te.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?te.Int64:en(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?te.Uint64:en(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return te.Bool;if(e.utcdays===t)return te.DateDay;if(e.dates===t)return te.DateMillisecond;if(e.arrays===t){const n=Un.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new Iy(e.minlen,n):new Ey(n)}else if(e.structs===t){const n=e.struct_prof;return new As(Object.keys(n).map(r=>Un.new(r,n[r].type(),!0)))}else{if(e.strings>0)return te.Dictionary;en("Type inference failure")}}}}function mat(e,t,n,r,i,s=!0){if(i=t4(i),!i){const o=epe(r,t);s=o.nulls>0,i=o.type()}return Zhe(n,r,t,i,s)}function gat(e,t,n,r,i,s=!0){i=t4(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),l=yat(o);if(l&&a&&KK(l.type,i))return l;const u=o.data;if(M1(u)){const c=vat(u);if(a&&c&&KK(c,i))return dat(u,c);i=i||c,s=!1}if(!i){const c=epe(r,o);s=c.nulls>0,i=c.type()}return Zhe(n,r,o,i,s)}function yat(e){return e instanceof Fn?e:e.vector instanceof Fn?e.vector:null}function vat(e){const n={Float32Array:_B,Float64Array:wB,Int8Array:dB,Int16Array:hB,Int32Array:Td,Uint8Array:mB,Uint16Array:gB,Uint32Array:yB,BigInt64Array:pB,BigUint64Array:vB}[e.constructor.name];return n?new n:null}function KK(e,t){return!e||!t?!0:e.compareTo(t)}function _at(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function wat(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Gh(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const bat=()=>en("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function Sat(){try{return bo}catch{bat()}}function tpe(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=xat(e,t),a={};i.forEach(u=>{const c=r(e,u,s,o,n[u]);c.length!==s&&en("Column length mismatch"),a[u]=c});const l=Sat();return new l(a)}function xat(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=Ir(n)?n(e):Ln(n)?n:null;if(Ln(e))return{dataFrom:mat,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:_at(e,r,i)};if(Eat(e))return{dataFrom:gat,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:wat(e,r,i)};en("Unsupported input data type")}function Eat(e){return e&&Ir(e.reify)}function Iat(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return Jot(tpe(e,r),n)}function Oat(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function $at(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(l=>{if(++n,l==null){++r;return}const u=typeof l;if(u==="object"&&Gc(l))++i,Oat(l)&&++s;else if(u==="number"&&(++o,l===l&&(l|0)!==l)){const c=l+"",d=c.indexOf(".");if(d>=0){const h=c.indexOf("e"),m=h>0?h:c.length;a=Math.max(a,m-d-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function pT(e,t){return Ir(t)?t(e):t||e.columnNames()}function npe(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const l=$at(Cat(e,a),n);o[a]=i[a]||l.align,s[a]=r[a]||l.format}),{align:o,format:s}}function Cat(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function n4(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let l=0;l<o;++l){const u=t[l];i.cell(s[t[l]].get(a),u,l)}},!0,n,r)}function Pat(e,t={}){const n=pT(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=u=>u==null?"":Gc(u)?nT(u,!0):s.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u,a=n.map(o);let l="";return n4(e,n,t.limit||1/0,t.offset,{row(){l+=a.join(i)+`
`},cell(u,c,d){a[d]=o(r[c]?r[c](u):u)}}),l+a.join(i)}function rpe(e,t={}){if(Ir(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Gc(e))return t.utc?nT(e):Dfe(e);{const r=JSON.stringify(e,(s,o)=>M1(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function mT(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function Tat(e,t={}){const n=pT(e,t.columns),{align:r,format:i}=npe(e,n,t),s=kat(t),o=t.null,a=y=>y==="c"?"center":y==="r"?"right":"left",l=y=>y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=(y,_)=>l(rpe(y,_)),c=o?(y,_)=>y==null?o(y):u(y,_):u;let d=-1,h=-1;const m=(y,_,v)=>{const b=v?a(r[_]):"",S=s[y]&&s[y](_,h,d)||"",x=(b?`text-align: ${b};`+(S?" ":""):"")+S;return`<${y}${x?` style="${x}"`:""}>`};let g=m("table")+m("thead")+m("tr",d)+n.map(y=>`${m("th",y,1)}${y}</th>`).join("")+"</tr></thead>"+m("tbody");return n4(e,n,t.limit,t.offset,{row(y){d=y,g+=(++h?"</tr>":"")+m("tr")},cell(y,_){g+=m("td",_,1)+c(y,i[_])+"</td>"}}),g+"</tr></tbody></table>"}function kat(e){return mT(e.style,t=>Ir(t)?t:()=>t)}function Aat(e,t=!0,n=!1){return e===void 0||e?t:n}const Nat=e=>Gc(e)?nT(e,!0):e;function Rat(e,t={}){const n=Aat(t.schema),r=t.format||{},i=pT(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const l=e.column(o),u=r[o]||Nat;let c=-1;e.scan(d=>{const h=l.get(d);s+=(++c?",":"")+JSON.stringify(u(h))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function Dat(e,t={}){const n=pT(e,t.columns),{align:r,format:i}=npe(e,n,t),s=l=>l==="c"?":-:":l==="r"?"-:":":-",o=l=>l.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(l=>s(r[l])).join("|")+"|";return n4(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(l,u){a+=o(rpe(l,i[u]))+"|"}}),a+`
`}function ipe(e,t){for(const[n,r]of rT(t))e.set(n,r);return e}function Mat(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Qc(e,t,n=new Map){return t=Js(t)?e.columnName(t):t,ps(t)?n.set(t,t):Ln(t)?t.forEach(r=>Qc(e,r,n)):Ir(t)?Qc(e,t(e),n):Ms(t)?ipe(n,t):en(`Invalid column selection: ${Mu(t)}`),n}function gT(e,t){return e.toObject=t,e}function spe(e){return Ln(e)?e.map(spe):e&&e.toObject?e.toObject():e}function Py(){return gT(e=>e.columnNames(),()=>({all:[]}))}function ope(...e){return e=e.flat(),gT(t=>{const n=Qc(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:spe(e)}))}function Lat(e,t){return gT(n=>{let r=Js(e)?e:n.columnIndex(e),i=Js(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function Fat(e){return ps(e)&&(e=RegExp(Mat(e))),gT(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function jat(e){return M1(e.data)?e.data.constructor:Array}class yc extends irt{static from(t,n){return new yc(art(t,n),n)}static new(t,n){if(t instanceof yc)return t;const r={},i=[];for(const[s,o]of rT(t))r[s]=o,i.push(s);return new yc(r,n||i)}constructor(t,n,r,i,s,o){mT(t,ort,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new yc(t||this._data,n||(t?null:this._names),o,i!==void 0?i:Mrt(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=wa(r).groupby(r.groups());return t.forEach(s=>{s=yc.new(s),s.numRows()!==n&&en("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):en(`Unrecognized column: ${t}`)}object(t=0){return YK(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=Qc(this,t.columns||Py()),o=ode(s),a=[];if(this.scan((l,u)=>a.push(o(l,u)),!0,r,i),n&&this.isGrouped()){const l=[];return this.scan(u=>l.push(u),!0,r,i),Frt(this,l,a,n)}return a}*[Symbol.iterator](){const t=YK(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?l=>t.forEach(l):l=>this.scan(l,!0),a=r.length;i={};for(let l=0;l<a;++l){const u=r[l],c=this.column(u),d=i[u]=new(jat(c))(n);let h=-1;o(m=>d[++h]=c.get(m))}this.isGrouped()&&(s=Lrt(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return tpe(this,t)}toArrowBuffer(t){return Iat(this,t)}toCSV(t){return Pat(this,t)}toHTML(t){return Tat(this,t)}toJSON(t){return Rat(this,t)}toMarkdown(t){return Dat(this,t)}}function YK(e){let t=e._builder;if(!t){const n=ode(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class Bat{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function Cn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=zat[e.type];s&&s(e,t,n)}const JS=(e,t,n)=>{Cn(e.argument,t,n,e)},dR=(e,t,n)=>{Cn(e.left,t,n,e),Cn(e.right,t,n,e)},QK=(e,t,n)=>{Cn(e.test,t,n,e),Cn(e.consequent,t,n,e),e.alternate&&Cn(e.alternate,t,n,e)},hR=(e,t,n)=>{ou(e.params,t,n,e),Cn(e.body,t,n,e)},XK=(e,t,n)=>{Cn(e.callee,t,n,e),ou(e.arguments,t,n,e)},ou=(e,t,n,r)=>{e.forEach(i=>Cn(i,t,n,r))},zat={TemplateLiteral:(e,t,n)=>{ou(e.expressions,t,n,e),ou(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{Cn(e.object,t,n,e),Cn(e.property,t,n,e)},CallExpression:XK,NewExpression:XK,ArrayExpression:(e,t,n)=>{ou(e.elements,t,n,e)},AssignmentExpression:dR,AwaitExpression:JS,BinaryExpression:dR,LogicalExpression:dR,UnaryExpression:JS,UpdateExpression:JS,ConditionalExpression:QK,ObjectExpression:(e,t,n)=>{ou(e.properties,t,n,e)},Property:(e,t,n)=>{Cn(e.key,t,n,e),Cn(e.value,t,n,e)},ArrowFunctionExpression:hR,FunctionExpression:hR,FunctionDeclaration:hR,VariableDeclaration:(e,t,n)=>{ou(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{Cn(e.id,t,n,e),Cn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{Cn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{ou(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{Cn(e.expression,t,n,e)},IfStatement:QK,ForStatement:(e,t,n)=>{Cn(e.init,t,n,e),Cn(e.test,t,n,e),Cn(e.update,t,n,e),Cn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{Cn(e.test,t,n,e),Cn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{Cn(e.body,t,n,e),Cn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{Cn(e.discriminant,t,n,e),ou(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&Cn(e.test,t,n,e),ou(e.consequent,t,n,e)},ReturnStatement:JS,Program:(e,t,n)=>{Cn(e.body[0],t,n,e)}};function ape(e){delete e.start,delete e.end,delete e.optional}function JK(e){ape(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Vat(e){return Cn(e,null,{Column:JK,Constant:JK,Default:ape}),e}function $i(e,t){return t&&t.type===e}function Uat(e){return $i(zrt,e)||$i(Brt,e)}function Hat(e){return Ir(e)?e:()=>e}const Wat="Escaped functions are not valid as rollup or pivot values.";function qat(e,t,n){e.aggronly&&en(Wat);const r="(row,data)=>fn("+sde(e.table.columnNames())+",$)";return{escape:sB.escape(r,Hat(t.expr),n)}}var Gat=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],lpe=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Kat="-----------------------------------------------------------------------------------------------------------------------------------------------------",upe="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",pR={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},mR="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Yat={5:mR,"5module":mR+" export import",6:mR+" const class extends export import super"},Qat=/^in(stanceof)?$/,Xat=new RegExp("["+upe+"]"),Jat=new RegExp("["+upe+Kat+"]");function XM(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Xc(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Xat.test(String.fromCharCode(e)):t===!1?!1:XM(e,lpe)}function Ty(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Jat.test(String.fromCharCode(e)):t===!1?!1:XM(e,lpe)||XM(e,Gat)}var kn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function ka(e,t){return new kn(e,{beforeExpr:!0,binop:t})}var Aa={beforeExpr:!0},uo={startsExpr:!0},r4={};function Sn(e,t){return t===void 0&&(t={}),t.keyword=e,r4[e]=new kn(e,t)}var j={num:new kn("num",uo),regexp:new kn("regexp",uo),string:new kn("string",uo),name:new kn("name",uo),privateId:new kn("privateId",uo),eof:new kn("eof"),bracketL:new kn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new kn("]"),braceL:new kn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new kn("}"),parenL:new kn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new kn(")"),comma:new kn(",",Aa),semi:new kn(";",Aa),colon:new kn(":",Aa),dot:new kn("."),question:new kn("?",Aa),questionDot:new kn("?."),arrow:new kn("=>",Aa),template:new kn("template"),invalidTemplate:new kn("invalidTemplate"),ellipsis:new kn("...",Aa),backQuote:new kn("`",uo),dollarBraceL:new kn("${",{beforeExpr:!0,startsExpr:!0}),eq:new kn("=",{beforeExpr:!0,isAssign:!0}),assign:new kn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new kn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new kn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ka("||",1),logicalAND:ka("&&",2),bitwiseOR:ka("|",3),bitwiseXOR:ka("^",4),bitwiseAND:ka("&",5),equality:ka("==/!=/===/!==",6),relational:ka("</>/<=/>=",7),bitShift:ka("<</>>/>>>",8),plusMin:new kn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ka("%",10),star:ka("*",10),slash:ka("/",10),starstar:new kn("**",{beforeExpr:!0}),coalesce:ka("??",1),_break:Sn("break"),_case:Sn("case",Aa),_catch:Sn("catch"),_continue:Sn("continue"),_debugger:Sn("debugger"),_default:Sn("default",Aa),_do:Sn("do",{isLoop:!0,beforeExpr:!0}),_else:Sn("else",Aa),_finally:Sn("finally"),_for:Sn("for",{isLoop:!0}),_function:Sn("function",uo),_if:Sn("if"),_return:Sn("return",Aa),_switch:Sn("switch"),_throw:Sn("throw",Aa),_try:Sn("try"),_var:Sn("var"),_const:Sn("const"),_while:Sn("while",{isLoop:!0}),_with:Sn("with"),_new:Sn("new",{beforeExpr:!0,startsExpr:!0}),_this:Sn("this",uo),_super:Sn("super",uo),_class:Sn("class",uo),_extends:Sn("extends",Aa),_export:Sn("export"),_import:Sn("import",uo),_null:Sn("null",uo),_true:Sn("true",uo),_false:Sn("false",uo),_in:Sn("in",{beforeExpr:!0,binop:7}),_instanceof:Sn("instanceof",{beforeExpr:!0,binop:7}),_typeof:Sn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Sn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Sn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ll=/\r\n?|\n|\u2028|\u2029/,Zat=new RegExp(ll.source,"g");function av(e){return e===10||e===13||e===8232||e===8233}function cpe(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(av(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var fpe=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,za=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,dpe=Object.prototype,elt=dpe.hasOwnProperty,tlt=dpe.toString,V1=Object.hasOwn||function(e,t){return elt.call(e,t)},ZK=Array.isArray||function(e){return tlt.call(e)==="[object Array]"},eY=Object.create(null);function ed(e){return eY[e]||(eY[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Md(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var nlt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ow=function(t,n){this.line=t,this.column=n};Ow.prototype.offset=function(t){return new Ow(this.line,this.column+t)};var yT=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function hpe(e,t){for(var n=1,r=0;;){var i=cpe(e,r,t);if(i<0)return new Ow(n,t-r);++n,r=i}}var JM={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},tY=!1;function rlt(e){var t={};for(var n in JM)t[n]=e&&V1(e,n)?e[n]:JM[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!tY&&typeof console=="object"&&console.warn&&(tY=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),ZK(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return ZK(t.onComment)&&(t.onComment=ilt(t,t.onComment)),t}function ilt(e,t){return function(n,r,i,s,o,a){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new yT(this,o,a)),e.ranges&&(l.range=[i,s]),t.push(l)}}var $w=1,lv=2,i4=4,ppe=8,mpe=16,gpe=32,s4=64,ype=128,U1=256,o4=$w|lv|U1;function a4(e,t){return lv|(e?i4:0)|(t?ppe:0)}var R$=0,l4=1,ff=2,vpe=3,_pe=4,wpe=5,Ai=function(t,n,r){this.options=t=rlt(t),this.sourceFile=t.sourceFile,this.keywords=ed(Yat[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=pR[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=ed(i);var s=(i?i+" ":"")+pR.strict;this.reservedWordsStrict=ed(s),this.reservedWordsStrictBind=ed(s+" "+pR.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ll).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=j.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope($w),this.regexpState=null,this.privateNameStack=[]},qu={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ai.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};qu.inFunction.get=function(){return(this.currentVarScope().flags&lv)>0};qu.inGenerator.get=function(){return(this.currentVarScope().flags&ppe)>0&&!this.currentVarScope().inClassFieldInit};qu.inAsync.get=function(){return(this.currentVarScope().flags&i4)>0&&!this.currentVarScope().inClassFieldInit};qu.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&U1)return!1;if(t.flags&lv)return(t.flags&i4)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};qu.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&s4)>0||n||this.options.allowSuperOutsideMethod};qu.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ype)>0};qu.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};qu.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(lv|U1))>0||n};qu.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&U1)>0};Ai.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};Ai.parse=function(t,n){return new this(n,t).parse()};Ai.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};Ai.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(Ai.prototype,qu);var no=Ai.prototype,slt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;no.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){za.lastIndex=e,e+=za.exec(this.input)[0].length;var t=slt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){za.lastIndex=e+t[0].length;var n=za.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ll.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,za.lastIndex=e,e+=za.exec(this.input)[0].length,this.input[e]===";"&&e++}};no.eat=function(e){return this.type===e?(this.next(),!0):!1};no.isContextual=function(e){return this.type===j.name&&this.value===e&&!this.containsEsc};no.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};no.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};no.canInsertSemicolon=function(){return this.type===j.eof||this.type===j.braceR||ll.test(this.input.slice(this.lastTokEnd,this.start))};no.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};no.semicolon=function(){!this.eat(j.semi)&&!this.insertSemicolon()&&this.unexpected()};no.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};no.expect=function(e){this.eat(e)||this.unexpected()};no.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var vT=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};no.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};no.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};no.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};no.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var yt=Ai.prototype;yt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==j.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var u4={kind:"loop"},olt={kind:"switch"};yt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;za.lastIndex=this.pos;var t=za.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Xc(r,!0)){for(var i=n+1;Ty(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Qat.test(s))return!0}return!1};yt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;za.lastIndex=this.pos;var e=za.exec(this.input),t=this.pos+e[0].length,n;return!ll.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Ty(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};yt.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=j._var,s="let"),r){case j._break:case j._continue:return this.parseBreakContinueStatement(i,r.keyword);case j._debugger:return this.parseDebuggerStatement(i);case j._do:return this.parseDoStatement(i);case j._for:return this.parseForStatement(i);case j._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case j._class:return e&&this.unexpected(),this.parseClass(i,!0);case j._if:return this.parseIfStatement(i);case j._return:return this.parseReturnStatement(i);case j._switch:return this.parseSwitchStatement(i);case j._throw:return this.parseThrowStatement(i);case j._try:return this.parseTryStatement(i);case j._const:case j._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case j._while:return this.parseWhileStatement(i);case j._with:return this.parseWithStatement(i);case j.braceL:return this.parseBlock(!0,i);case j.semi:return this.parseEmptyStatement(i);case j._export:case j._import:if(this.options.ecmaVersion>10&&r===j._import){za.lastIndex=this.pos;var o=za.exec(this.input),a=this.pos+o[0].length,l=this.input.charCodeAt(a);if(l===40||l===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===j._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var u=this.value,c=this.parseExpression();return r===j.name&&c.type==="Identifier"&&this.eat(j.colon)?this.parseLabeledStatement(i,u,c,e):this.parseExpressionStatement(i,c)}};yt.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(j.semi)||this.insertSemicolon()?e.label=null:this.type!==j.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};yt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};yt.parseDoStatement=function(e){return this.next(),this.labels.push(u4),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(j._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(j.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};yt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(u4),this.enterScope(0),this.expect(j.parenL),this.type===j.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===j._var||this.type===j._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new vT,l=this.parseExpression(t>-1?"await":!0,a);return this.type===j._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===j._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,a),this.checkLValPattern(l),this.parseForIn(e,l)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,l))};yt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,g_|(n?0:ZM),!1,t)};yt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(j._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};yt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(j.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};yt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(j.braceL),this.labels.push(olt),this.enterScope(0);for(var t,n=!1;this.type!==j.braceR;)if(this.type===j._case||this.type===j._default){var r=this.type===j._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(j.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};yt.parseThrowStatement=function(e){return this.next(),ll.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var alt=[];yt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?gpe:0),this.checkLValPattern(e,t?_pe:ff),this.expect(j.parenR),e};yt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===j._catch){var t=this.startNode();this.next(),this.eat(j.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(j._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};yt.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};yt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(u4),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};yt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};yt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};yt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===j._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===e.start)u.statementStart=this.start,u.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};yt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};yt.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(j.braceL),e&&this.enterScope(0);this.type!==j.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};yt.parseFor=function(e,t){return e.init=t,this.expect(j.semi),e.test=this.type===j.semi?null:this.parseExpression(),this.expect(j.semi),e.update=this.type===j.parenR?null:this.parseExpression(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};yt.parseForIn=function(e,t){var n=this.type===j._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(j.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};yt.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(j.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===j._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===j._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(j.comma))break}return e};yt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?l4:ff,!1)};var g_=1,ZM=2,bpe=4;yt.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===j.star&&t&ZM&&this.unexpected(),e.generator=this.eat(j.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&g_&&(e.id=t&bpe&&this.type!==j.name?null:this.parseIdent(),e.id&&!(t&ZM)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?l4:ff:vpe));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(a4(e.async,e.generator)),t&g_||(e.id=this.type===j.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&g_?"FunctionDeclaration":"FunctionExpression")};yt.parseFunctionParams=function(e){this.expect(j.parenL),e.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};yt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(j.braceL);this.type!==j.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&llt(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};yt.parseClassElement=function(e){if(this.eat(j.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(j.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===j.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===j.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(j.star)&&(i=!0),!r&&!s&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===j.parenL||o!=="method"||i||s){var u=!n.static&&D$(n,"constructor"),c=u&&e;u&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};yt.isClassElementNameStart=function(){return this.type===j.name||this.type===j.privateId||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword};yt.parseClassElementName=function(e){this.type===j.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};yt.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&D$(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};yt.parseClassField=function(e){if(D$(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&D$(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(j.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};yt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(U1|s4);this.type!==j.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};yt.parseClassId=function(e,t){this.type===j.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,ff,!1)):(t===!0&&this.unexpected(),e.id=null)};yt.parseClassSuper=function(e){e.superClass=this.eat(j._extends)?this.parseExprSubscripts(null,!1):null};yt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};yt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];V1(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function llt(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function D$(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}yt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};yt.parseExport=function(e,t){if(this.next(),this.eat(j.star))return this.parseExportAllDeclaration(e,t);if(this.eat(j._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==j.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};yt.parseExportDeclaration=function(e){return this.parseStatement(null)};yt.parseExportDefaultDeclaration=function(){var e;if(this.type===j._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,g_|bpe,!1,e)}else if(this.type===j._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};yt.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),V1(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};yt.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(e,l)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};yt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};yt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};yt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};yt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(j.braceL);!this.eat(j.braceR);){if(n)n=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;t.push(this.parseExportSpecifier(e))}return t};yt.parseImport=function(e){return this.next(),this.type===j.string?(e.specifiers=alt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===j.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};yt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,ff),this.finishNode(e,"ImportSpecifier")};yt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,ff),this.finishNode(e,"ImportDefaultSpecifier")};yt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,ff),this.finishNode(e,"ImportNamespaceSpecifier")};yt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===j.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(j.comma)))return e;if(this.type===j.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(j.braceL);!this.eat(j.braceR);){if(t)t=!1;else if(this.expect(j.comma),this.afterTrailingComma(j.braceR))break;e.push(this.parseImportSpecifier())}return e};yt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===j.string){var e=this.parseLiteral(this.value);return nlt.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};yt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};yt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var ul=Ai.prototype;ul.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};ul.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};ul.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};ul.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==j.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};ul.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case j.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(j.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case j.braceL:return this.parseObj(!0)}return this.parseIdent()};ul.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(j.comma),t&&this.type===j.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===j.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};ul.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};ul.parseBindingListItem=function(e){return e};ul.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(j.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};ul.checkLValSimple=function(e,t,n){t===void 0&&(t=R$);var r=t!==R$;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===ff&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(V1(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==wpe&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};ul.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=R$),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}};ul.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=R$),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var bl=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},Nr={b_stat:new bl("{",!1),b_expr:new bl("{",!0),b_tmpl:new bl("${",!1),p_stat:new bl("(",!1),p_expr:new bl("(",!0),q_tmpl:new bl("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new bl("function",!1),f_expr:new bl("function",!0),f_expr_gen:new bl("function",!0,!1,null,!0),f_gen:new bl("function",!1,!1,null,!0)},uv=Ai.prototype;uv.initialContext=function(){return[Nr.b_stat]};uv.curContext=function(){return this.context[this.context.length-1]};uv.braceIsBlock=function(e){var t=this.curContext();return t===Nr.f_expr||t===Nr.f_stat?!0:e===j.colon&&(t===Nr.b_stat||t===Nr.b_expr)?!t.isExpr:e===j._return||e===j.name&&this.exprAllowed?ll.test(this.input.slice(this.lastTokEnd,this.start)):e===j._else||e===j.semi||e===j.eof||e===j.parenR||e===j.arrow?!0:e===j.braceL?t===Nr.b_stat:e===j._var||e===j._const||e===j.name?!1:!this.exprAllowed};uv.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};uv.updateContext=function(e){var t,n=this.type;n.keyword&&e===j.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};uv.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};j.parenR.updateContext=j.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Nr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};j.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Nr.b_stat:Nr.b_expr),this.exprAllowed=!0};j.dollarBraceL.updateContext=function(){this.context.push(Nr.b_tmpl),this.exprAllowed=!0};j.parenL.updateContext=function(e){var t=e===j._if||e===j._for||e===j._with||e===j._while;this.context.push(t?Nr.p_stat:Nr.p_expr),this.exprAllowed=!0};j.incDec.updateContext=function(){};j._function.updateContext=j._class.updateContext=function(e){e.beforeExpr&&e!==j._else&&!(e===j.semi&&this.curContext()!==Nr.p_stat)&&!(e===j._return&&ll.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===j.colon||e===j.braceL)&&this.curContext()===Nr.b_stat)?this.context.push(Nr.f_expr):this.context.push(Nr.f_stat),this.exprAllowed=!1};j.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};j.backQuote.updateContext=function(){this.curContext()===Nr.q_tmpl?this.context.pop():this.context.push(Nr.q_tmpl),this.exprAllowed=!1};j.star.updateContext=function(e){if(e===j._function){var t=this.context.length-1;this.context[t]===Nr.f_expr?this.context[t]=Nr.f_expr_gen:this.context[t]=Nr.f_gen}this.exprAllowed=!0};j.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==j.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Nt=Ai.prototype;Nt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};Nt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===j.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(j.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};Nt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new vT,r=!0);var a=this.start,l=this.startLoc;(this.type===j.parenL||this.type===j.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,a,l)),this.type.isAssign){var c=this.startNodeAt(a,l);return c.operator=this.value,this.type===j.eq&&(u=this.toAssignable(u,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===j.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),u};Nt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(j.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(j.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};Nt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};Nt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==j._in)&&s>r){var o=this.type===j.logicalOR||this.type===j.logicalAND,a=this.type===j.coalesce;a&&(s=j.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,c,s,i),h=this.buildBinary(t,n,e,d,l,o||a);return(o&&this.type===j.coalesce||a&&(this.type===j.logicalOR||this.type===j.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(h,t,n,r,i)}return e};Nt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Nt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===j.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Spe(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===j.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==j._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(i,s);u.operator=this.value,u.prefix=!1,u.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(u,"UpdateExpression")}}if(!n&&this.eat(j.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function Spe(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Spe(e.expression)}Nt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};Nt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var l=this.startNodeAt(t,n);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}e=a}};Nt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(j.arrow)};Nt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};Nt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(j.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(j.bracketL);if(u||l&&this.type!==j.parenL&&this.type!==j.backQuote||this.eat(j.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(j.bracketR)):this.type===j.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!u,a&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(j.parenL)){var d=new vT,h=this.yieldPos,m=this.awaitPos,g=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var y=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1,d);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=h,this.awaitPos=m,this.awaitIdentPos=g,this.parseSubscriptAsyncArrow(t,n,y,o);this.checkExpressionErrors(d,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=m||this.awaitPos,this.awaitIdentPos=g||this.awaitIdentPos;var _=this.startNodeAt(t,n);_.callee=e,_.arguments=y,a&&(_.optional=l),e=this.finishNode(_,"CallExpression")}else if(this.type===j.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var v=this.startNodeAt(t,n);v.tag=e,v.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(v,"TaggedTemplateExpression")}return e};Nt.parseExprAtom=function(e,t,n){this.type===j.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case j._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===j.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==j.dot&&this.type!==j.bracketL&&this.type!==j.parenL&&this.unexpected(),this.finishNode(r,"Super");case j._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case j.name:var s=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(j._function))return this.overrideContext(Nr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(j.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[l],!1,t);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===j.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(j.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[l],!0,t)}return l;case j.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case j.num:case j.string:return this.parseLiteral(this.value);case j._null:case j._true:case j._false:return r=this.startNode(),r.value=this.type===j._null?null:this.type===j._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case j.parenL:var c=this.start,d=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),d;case j.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(j.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case j.braceL:return this.overrideContext(Nr.b_expr),this.parseObj(!1,e);case j._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case j._class:return this.parseClass(this.startNode(),!1);case j._new:return this.parseNew();case j.backQuote:return this.parseTemplate();case j._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Nt.parseExprAtomDefault=function(){this.unexpected()};Nt.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===j.parenL&&!e)return this.parseDynamicImport(t);if(this.type===j.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};Nt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(j.parenR)){var t=this.start;this.eat(j.comma)&&this.eat(j.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};Nt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};Nt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};Nt.parseParenExpression=function(){this.expect(j.parenL);var e=this.parseExpression();return this.expect(j.parenR),e};Nt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};Nt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,l=[],u=!0,c=!1,d=new vT,h=this.yieldPos,m=this.awaitPos,g;for(this.yieldPos=0,this.awaitPos=0;this.type!==j.parenR;)if(u?u=!1:this.expect(j.comma),s&&this.afterTrailingComma(j.parenR,!0)){c=!0;break}else if(this.type===j.ellipsis){g=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,d,this.parseParenItem));var y=this.lastTokEnd,_=this.lastTokEndLoc;if(this.expect(j.parenR),e&&this.shouldParseArrow(l)&&this.eat(j.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=h,this.awaitPos=m,this.parseParenArrowList(n,r,l,t);(!l.length||c)&&this.unexpected(this.lastTokStart),g&&this.unexpected(g),this.checkExpressionErrors(d,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=m||this.awaitPos,l.length>1?(i=this.startNodeAt(o,a),i.expressions=l,this.finishNodeAt(i,"SequenceExpression",y,_)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(n,r);return v.expression=i,this.finishNode(v,"ParenthesizedExpression")}else return i};Nt.parseParenItem=function(e){return e};Nt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var ult=[];Nt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===j.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(j.parenL)?e.arguments=this.parseExprList(j.parenR,this.options.ecmaVersion>=8,!1):e.arguments=ult,this.finishNode(e,"NewExpression")};Nt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===j.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===j.backQuote,this.finishNode(n,"TemplateElement")};Nt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===j.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(j.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(j.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};Nt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===j.name||this.type===j.num||this.type===j.string||this.type===j.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===j.star)&&!ll.test(this.input.slice(this.lastTokEnd,this.start))};Nt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(j.braceR);){if(r)r=!1;else if(this.expect(j.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(j.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};Nt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(j.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===j.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===j.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(j.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(j.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};Nt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};Nt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===j.colon&&this.unexpected(),this.eat(j.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===j.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==j.comma&&this.type!==j.braceR&&this.type!==j.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===j.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};Nt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(j.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(j.bracketR),e.key;e.computed=!1}return e.key=this.type===j.num||this.type===j.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Nt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};Nt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(a4(t,r.generator)|s4|(n?ype:0)),this.expect(j.parenL),r.params=this.parseBindingList(j.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};Nt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(a4(n,!1)|mpe),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};Nt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==j.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,wpe),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()};Nt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};Nt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,l4,t?null:n)}};Nt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(j.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===j.comma?o=null:this.type===j.ellipsis?(o=this.parseSpread(r),r&&this.type===j.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};Nt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};Nt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};Nt.parseIdentNode=function(){var e=this.startNode();return this.type===j.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=j.name):this.unexpected(),e};Nt.parsePrivateIdent=function(){var e=this.startNode();return this.type===j.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};Nt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===j.semi||this.canInsertSemicolon()||this.type!==j.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(j.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};Nt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var M$=Ai.prototype;M$.raise=function(e,t){var n=hpe(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};M$.raiseRecoverable=M$.raise;M$.curPosition=function(){if(this.options.locations)return new Ow(this.curLine,this.pos-this.lineStart)};var ih=Ai.prototype,clt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};ih.enterScope=function(e){this.scopeStack.push(new clt(e))};ih.exitScope=function(){this.scopeStack.pop()};ih.treatFunctionsAsVarInScope=function(e){return e.flags&lv||!this.inModule&&e.flags&$w};ih.declareName=function(e,t,n){var r=!1;if(t===ff){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&$w&&delete this.undefinedExports[e]}else if(t===_pe){var s=this.currentScope();s.lexical.push(e)}else if(t===vpe){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var l=this.scopeStack[a];if(l.lexical.indexOf(e)>-1&&!(l.flags&gpe&&l.lexical[0]===e)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(e)>-1){r=!0;break}if(l.var.push(e),this.inModule&&l.flags&$w&&delete this.undefinedExports[e],l.flags&o4)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};ih.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};ih.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};ih.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&o4)return t}};ih.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&o4&&!(t.flags&mpe))return t}};var _T=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new yT(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},H1=Ai.prototype;H1.startNode=function(){return new _T(this,this.start,this.startLoc)};H1.startNodeAt=function(e,t){return new _T(this,e,t)};function xpe(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}H1.finishNode=function(e,t){return xpe.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};H1.finishNodeAt=function(e,t,n,r){return xpe.call(this,e,t,n,r)};H1.copyNode=function(e){var t=new _T(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var Epe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Ipe=Epe+" Extended_Pictographic",Ope=Ipe,$pe=Ope+" EBase EComp EMod EPres ExtPict",Cpe=$pe,flt=Cpe,dlt={9:Epe,10:Ipe,11:Ope,12:$pe,13:Cpe,14:flt},hlt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",plt={9:"",10:"",11:"",12:"",13:"",14:hlt},nY="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ppe="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Tpe=Ppe+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",kpe=Tpe+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ape=kpe+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Npe=Ape+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",mlt=Npe+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",glt={9:Ppe,10:Tpe,11:kpe,12:Ape,13:Npe,14:mlt},Rpe={};function ylt(e){var t=Rpe[e]={binary:ed(dlt[e]+" "+nY),binaryOfStrings:ed(plt[e]),nonBinary:{General_Category:ed(nY),Script:ed(glt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var gR=0,rY=[9,10,11,12,13,14];gR<rY.length;gR+=1){var vlt=rY[gR];ylt(vlt)}var lt=Ai.prototype,Gu=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Rpe[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Gu.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Gu.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Gu.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Gu.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Gu.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Gu.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Gu.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Gu.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Gu.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};lt.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};lt.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};lt.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};lt.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};lt.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};lt.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};lt.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};lt.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};lt.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};lt.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};lt.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};lt.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};lt.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};lt.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};lt.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};lt.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};lt.regexp_eatSyntaxCharacter=function(e){var t=e.current();return Dpe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Dpe(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}lt.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!Dpe(n);)e.advance();return e.pos!==t};lt.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};lt.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};lt.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};lt.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Md(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Md(e.lastIntValue);return!0}return!1};lt.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),_lt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function _lt(e){return Xc(e,!0)||e===36||e===95}lt.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),wlt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function wlt(e){return Ty(e,!0)||e===36||e===95||e===8204||e===8205}lt.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};lt.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};lt.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};lt.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};lt.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};lt.regexp_eatZero=function(e){return e.current()===48&&!wT(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};lt.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};lt.regexp_eatControlLetter=function(e){var t=e.current();return Mpe(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Mpe(e){return e>=65&&e<=90||e>=97&&e<=122}lt.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&blt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function blt(e){return e>=0&&e<=1114111}lt.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};lt.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Lpe=0,Jc=1,Ha=2;lt.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(Slt(t))return e.lastIntValue=-1,e.advance(),Jc;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===Ha&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Lpe};function Slt(e){return e===100||e===68||e===115||e===83||e===119||e===87}lt.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Jc}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Lpe};lt.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){V1(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};lt.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Jc;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Ha;e.raise("Invalid property name")};lt.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Fpe(t=e.current());)e.lastStringValue+=Md(t),e.advance();return e.lastStringValue!==""};function Fpe(e){return Mpe(e)||e===95}lt.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";xlt(t=e.current());)e.lastStringValue+=Md(t),e.advance();return e.lastStringValue!==""};function xlt(e){return Fpe(e)||wT(e)}lt.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};lt.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Ha&&e.raise("Negated character class may contain strings"),!0}return!1};lt.regexp_classContents=function(e){return e.current()===93?Jc:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Jc)};lt.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};lt.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||zpe(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};lt.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};lt.regexp_classSetExpression=function(e){var t=Jc,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Ha&&(t=Ha);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Ha&&(t=Jc);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Ha&&(t=Ha)}};lt.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};lt.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Jc:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};lt.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===Ha&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};lt.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};lt.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Ha&&(t=Ha);return t};lt.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Jc:Ha};lt.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&Elt(n)||Ilt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function Elt(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function Ilt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}lt.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return Olt(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Olt(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}lt.regexp_eatClassControlLetter=function(e){var t=e.current();return wT(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};lt.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};lt.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;wT(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function wT(e){return e>=48&&e<=57}lt.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;jpe(n=e.current());)e.lastIntValue=16*e.lastIntValue+Bpe(n),e.advance();return e.pos!==t};function jpe(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Bpe(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}lt.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};lt.regexp_eatOctalDigit=function(e){var t=e.current();return zpe(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function zpe(e){return e>=48&&e<=55}lt.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!jpe(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Bpe(i),e.advance()}return!0};var c4=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new yT(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},vn=Ai.prototype;vn.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new c4(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};vn.getToken=function(){return this.next(),new c4(this)};typeof Symbol<"u"&&(vn[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===j.eof,value:t}}}});vn.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(j.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};vn.readToken=function(e){return Xc(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};vn.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};vn.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=cpe(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};vn.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!av(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};vn.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&fpe.test(String.fromCharCode(e)))++this.pos;else break e}}};vn.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};vn.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(j.ellipsis)):(++this.pos,this.finishToken(j.dot))};vn.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(j.assign,2):this.finishOp(j.slash,1)};vn.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?j.star:j.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=j.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(j.assign,n+1):this.finishOp(r,n)};vn.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(j.assign,3)}return this.finishOp(e===124?j.logicalOR:j.logicalAND,2)}return t===61?this.finishOp(j.assign,2):this.finishOp(e===124?j.bitwiseOR:j.bitwiseAND,1)};vn.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(j.assign,2):this.finishOp(j.bitwiseXOR,1)};vn.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ll.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(j.incDec,2):t===61?this.finishOp(j.assign,2):this.finishOp(j.plusMin,1)};vn.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(j.assign,n+1):this.finishOp(j.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(j.relational,n))};vn.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(j.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(j.arrow)):this.finishOp(e===61?j.eq:j.prefix,1)};vn.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(j.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(j.assign,3)}return this.finishOp(j.coalesce,2)}}return this.finishOp(j.question,1)};vn.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Xc(t,!0)||t===92))return this.finishToken(j.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Md(t)+"'")};vn.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(j.parenL);case 41:return++this.pos,this.finishToken(j.parenR);case 59:return++this.pos,this.finishToken(j.semi);case 44:return++this.pos,this.finishToken(j.comma);case 91:return++this.pos,this.finishToken(j.bracketL);case 93:return++this.pos,this.finishToken(j.bracketR);case 123:return++this.pos,this.finishToken(j.braceL);case 125:return++this.pos,this.finishToken(j.braceR);case 58:return++this.pos,this.finishToken(j.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(j.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(j.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Md(e)+"'")};vn.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};vn.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ll.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Gu(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(i,o)}catch{}return this.finishToken(j.regexp,{pattern:i,flags:o,value:l})};vn.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,l=0,u=t??1/0;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),d=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?d=c-97+10:c>=65?d=c-65+10:c>=48&&c<=57?d=c-48:d=1/0,d>=e)break;a=c,o=o*e+d}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function $lt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Vpe(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}vn.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Vpe(this.input.slice(t,this.pos)),++this.pos):Xc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,n)};vn.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Vpe(this.input.slice(t,this.pos));return++this.pos,Xc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(j.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Xc(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=$lt(this.input.slice(t,this.pos),n);return this.finishToken(j.num,s)};vn.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};vn.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(av(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(j.string,t)};var Upe={};vn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Upe)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};vn.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Upe;this.raise(e,t)};vn.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===j.template||this.type===j.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(j.dollarBraceL)):(++this.pos,this.finishToken(j.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(j.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(av(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};vn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(j.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};vn.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Md(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return av(t)?"":String.fromCharCode(t)}};vn.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};vn.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(Ty(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Xc:Ty)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Md(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};vn.readWord=function(){var e=this.readWord1(),t=j.name;return this.keywords.test(e)&&(t=r4[e]),this.finishToken(t,e)};var Clt="8.11.2";Ai.acorn={Parser:Ai,version:Clt,defaultOptions:JM,Position:Ow,SourceLocation:yT,getLineInfo:hpe,Node:_T,TokenType:kn,tokTypes:j,keywordTypes:r4,TokContext:bl,tokContexts:Nr,isIdentifierChar:Ty,isIdentifierStart:Xc,Token:c4,isNewLine:av,lineBreak:ll,lineBreakG:Zat,nonASCIIwhitespace:fpe};function Plt(e,t){return Ai.parse(e,t)}const f4={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},Tlt={ecmaVersion:11},iY="$",klt="d",Alt="d1",Nlt="d2",rs=e=>(t,n)=>n.error(t,e+" not allowed"),Rlt=rs("Aggregate function"),Dlt=rs("Window function"),Mlt="Invalid argument",d4="Invalid column reference",Llt=d4+" (must be input to an aggregate function)",Hpe="Invalid function call",Flt="Invalid member expression",jlt="Invalid operator parameter",Blt="Invalid param reference",zlt="Invalid variable reference",Vlt="Variable not accessible in operator call",Ult="Unsupported variable declaration",Hlt="Unsupported destructuring pattern",Wpe="Table expressions do not support closures",qpe="Use aq.escape(fn) to use a function as-is (including closures)",Wlt="use table.params({ name: value }) to define dynamic parameters",qlt="use aq.addFunction(name, fn) to add new op functions",Glt=`
Note: ${Wpe}. ${qpe}, or ${Wlt}.`,Gpe=`
Note: ${Wpe}. ${qpe}, or ${qlt}.`,Klt=`The ${rde} method is not valid in multi-table expressions.`;function Ylt(e,t){const n=Qlt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Uat(r)?(Jlt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=Alt),e.scope.add(e.tuple2=Nlt),e.scope.add(e.$param=iY)):(e.scope.add(e.tuple=klt),e.scope.add(e.$param=iY)),Cn(r,e,h4),e.root}function Qlt(e){try{const t=e.field?Xlt(e):Ln(e)?Mu(e):e;return Plt(`expr=(${t})`,Tlt).body[0].expression.right}catch{en(`Expression parse error: ${e+""}`)}}function Xlt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const h4={FunctionDeclaration:rs("Function definitions"),ForStatement:rs("For loops"),ForOfStatement:rs("For-of loops"),ForInStatement:rs("For-in loops"),WhileStatement:rs("While loops"),DoWhileStatement:rs("Do-while loops"),AwaitExpression:rs("Await expressions"),ArrowFunctionExpression:rs("Function definitions"),AssignmentExpression:rs("Assignments"),FunctionExpression:rs("Function definitions"),NewExpression:rs('Use of "new"'),UpdateExpression:rs("Update expressions"),VariableDeclarator(e,t){nL(e.id,t)},Identifier(e,t,n){Qpe(e,t,n)&&!t.scope.has(e.name)&&t.error(e,zlt,Glt)},CallExpression(e,t){const n=Kpe(e.callee),r=ede(n)||tde(n);if(r){if((t.join||t.aggregate===!1)&&rB(n)&&Rlt(e,t),(t.join||t.window===!1)&&iB(n)&&Dlt(e,t),t.$op=1,t.ast)tL(e,n,t),e.arguments.forEach(i=>Cn(i,t,eL));else{const i=t.op(Zlt(t,r,n,e.arguments));Object.assign(e,{type:Yfe,name:i.id})}return t.$op=0,!1}else Zfe(n)?tL(e,n,t):t.error(e,Hpe,Gpe)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!$i(yd,r))return;const{name:s}=r;if(Ype(e)&&$i(yd,i)&&Wl(f4,i.name)){Zpe(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return sY(e,o,t,Xpe,n);if(s===t.$param)return sY(e,o,t,tut);t.paramsRef.has(s)?Cw(e,t.paramsRef.get(s)):t.columnRef.has(s)?Jpe(r,s,t,e):Wl(t.params,s)&&Cw(r,s)}};function sY(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if($i(rv,s))a=s.value;else try{Cn(s,n,h4,e),a=n.param(s)}catch{n.error(e,Flt)}return r(e,a,t,n,i),!1}const eL={...h4,VariableDeclarator:rs("Variable declaration in operator call"),Identifier(e,t,n){Qpe(e,t,n)&&t.error(e,Vlt)},CallExpression(e,t){const n=Kpe(e.callee);Zfe(n)?tL(e,n,t):t.error(e,Hpe,Gpe)}};function Jlt(e,t){e.generator&&rs("Generator functions")(e,t),e.async&&rs("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,l)=>t.columnRef.set(a,[l,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(h0(t,n[0],"tuple1",i(1)),r>1&&h0(t,n[1],"tuple2",i(2)),r>2&&h0(t,n[2],"$param",s)):(h0(t,n[0],"tuple",i(0)),r>1&&h0(t,n[1],"$param",s))),t.root=e.body}function h0(e,t,n,r){$i(yd,t)?(e.scope.add(t.name),e[n]=t.name):$i(Gfe,t)&&t.properties.forEach(i=>{const s=$i(yd,i.key)?i.key.name:$i(rv,i.key)?i.key.value:e.error(i,Mlt);$i(yd,i.value)||e.error(i.value,Hlt),r(i.value.name,s)})}function Zlt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((l,u)=>{u<o?(Cn(l,e,eL),i.push(e.field(l))):u<a?(Cn(l,e,eL),s.push(e.param(l))):e.error(l,jlt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function Kpe(e){return $i(yd,e)?e.name:$i(qfe,e)?Ype(e)?eut(e.property.name):e.property.name:null}function Ype(e){return $i(yd,e.object)&&e.object.name==="Math"}function eut(e){return e==="max"?"greatest":e==="min"?"least":e}function Qpe(e,t,n){const{name:r}=e;if(!($i(qfe,n)&&n.property===e)){if(!($i(Kfe,n)&&n.key===e))if(t.paramsRef.has(r))Cw(e,t.paramsRef.get(r));else if(t.columnRef.has(r))Jpe(e,r,t,n);else if(Wl(t.params,r))Cw(e,r);else if(Wl(f4,r))Zpe(e,r);else return!0}}function Xpe(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,d4),r.aggronly&&!r.$op&&r.error(e,Llt),nde(e,t,n,o,i)}function Jpe(e,t,n,r){const[i,s]=n.columnRef.get(t);Xpe(e,i,s,n,r)}function tut(e,t,n,r){r.params&&!Wl(r.params,t)&&r.error(e,Blt),Cw(e,t)}function Cw(e,t){e.type=qrt,e.name=t}function Zpe(e,t){e.type=Urt,e.name=t,e.raw=f4[t]}function tL(e,t,n){if(t===rde){const r=n.table;r||n.error(e,Klt),ide(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Js(s)?r.columnName(s):s;return r.column(o)||n.error(i,d4),o}):r.columnNames())}else e.callee={type:Wrt,name:t}}function nL(e,t){$i(yd,e)?t.scope.add(e.name):$i(jrt,e)?e.elements.forEach(n=>nL(n,t)):$i(Gfe,e)?e.properties.forEach(n=>nL(n.value,t)):t.error(e.id,Ult)}const nut={[L1]:1,[Yfe]:1};function jo(e,t={}){const n=t.generate||g$,r=t.compiler||sB,i=iut(t),s={},o={},a=[],l=[];let u=0,c=-1;const d=t.join?r.join:t.index==1?r.expr2:r.expr,h={op(y){const _=rut(y);return o[_]||(y.id=++c,o[_]=y)},field(y){const _=n(y);return s[_]||(s[_]=++u)},param(y){return $i(rv,y)?y.value:r.param(n(y),i)},value(y,_){a.push(y);const v=_.escape||(t.ast?Vat(_):d(n(_),i));l.push(v),nut[_.type]&&v!==_&&Ms(v)&&(v.field=_.name)},error(y,_,v=""){const b=y.start-6,S=y.end-6,x=String(h.spec).slice(b,S);en(`${_}: "${x}"${v}`)}};Object.assign(h,t,{params:i});for(const[y,_]of rT(e))h.value(y+"",_.escape?qat(h,_,i):Ylt(h,_));if(t.ast)return{names:a,exprs:l};const m=[];for(const y in s)m[s[y]]=r.expr(y,i);const g=Object.values(o);return g.forEach(y=>y.fields=y.fields.map(_=>m[_])),{names:a,exprs:l,ops:g}}function rut(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function iut(e){return(e.table?yR(e.table):e.join?{...yR(e.join[1]),...yR(e.join[0])}:{})||{}}function yR(e){return e&&Ir(e.params)?e.params():{}}const eme="Expr",Sl="ExprList",tme="ExprNumber",L0="ExprObject",cg="JoinKeys",L$="JoinValues",Ra="Options",p4="OrderKeys",Af="SelectionList",Fh="TableRef",fg="TableRefList",sut="Descending",out="Query",aut="Selection",lut="Verb",uut="Window";function bT(e,t){return e&&e.expr?new oY({...e,...t}):new oY(t,e)}class oY{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Ir(this.expr)?{func:!0}:{}}}}function cut(e){return bT(e,{desc:!0})}function Fp(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return bT(e,t?{expr:t,...r}:r)}function fut(e,t,n){return bT(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function dut(e){const t=n=>n;return t.toString=()=>e,t}function aY(e,t){return t=t&&Ir(t.query)?t.query():t,t&&Ir(t.evaluate)?t.evaluate(null,e):e(t)}function nme(e){return Ms(e)&&(Ln(e.all)||Ln(e.matches)||Ln(e.not)||Ln(e.range))}function Pw(e){return e&&Ir(e.toObject)?e.toObject():Ir(e)?{expr:String(e),func:!0}:Ln(e)?e.map(Pw):Ms(e)?mT(e,t=>Pw(t)):e}function m4(e){return Ln(e)?e.map(m4):Ms(e)?Ln(e.verbs)?W1.from(e):Ln(e.all)?Py():Ln(e.range)?Lat(...e.range):Ln(e.match)?Fat(RegExp(...e.match)):Ln(e.not)?ope(e.not.map(Pw)):hut(e):e}function hut(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Fp(n):e.func===!0&&(t=n=dut(n)),Ms(e.window)){const{frame:r,peers:i}=e.window;t=n=fut(n,r,i)}e.desc===!0&&(t=cut(n))}return e===t?mT(e,r=>m4(r)):t}function put(e){return Ln(e)?e.map(mut):e}function mut(e){const t=[];return Lo(e).forEach(n=>{Js(n)?t.push(n):ps(n)?t.push(Fp(n,null)):Ms(n)&&n.expr||Ir(n)?t.push(n):en(`Invalid key value: ${n+""}`)}),t}function gut(e){return Ln(e)?e.map(yut):e}function yut(e,t){return t<2?Lo(e):e}function vut(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(Ms(r)&&!Ir(r))for(const i in r)t.push(r[i]);else n=Js(r)?r:ps(r)?Fp(n):Ir(r)?n:en(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const _ut={[eme]:ome,[Sl]:ky,[tme]:Iut,[L0]:Ld,[cg]:Out,[L$]:$ut,[p4]:ky,[Af]:xut};function wut(e,t,n){return t===Fh?lY(e):t===fg?e.map(lY):rme(Pw(e),t,n)}function rme(e,t,n){return t===Ra?e&&but(e,n):_ut[t](e)}function but(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?rme(i,t[r]):i}return n}function Sut(e,t){return jo({expr:e},{...t,ast:!0}).exprs[0]}function g4(e){return{type:L1,name:e}}function ime(e){return{type:L1,index:e}}function Ld(e,t){if(ps(e))return Sut(e,t);if(e.expr){let n;if(e.field===!0?n=g4(e.expr):e.func===!0&&(n=Ld(e.expr,t)),n)return e.desc&&(n={type:sut,expr:n}),e.window&&(n={type:uut,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...Ld(e[n],t),as:n}))}function sme(e){const t=aut;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:ky(e.not)}:e.range?{type:t,operator:"range",arguments:ky(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:en("Invalid input")}function xut(e){return Lo(e).map(Eut).flat()}function Eut(e){return nme(e)?sme(e):Js(e)?ime(e):ps(e)?g4(e):Ms(e)?Object.keys(e).map(t=>({type:L1,name:t,as:e[t]})):en("Invalid input")}function ome(e){return nme(e)?sme(e):Js(e)?ime(e):ps(e)?g4(e):Ms(e)?Ld(e):en("Invalid input")}function ky(e){return Lo(e).map(ome).flat()}function Iut(e){return Js(e)?e:Ld(e)}function Out(e){return Ln(e)?e.map(ky):Ld(e,{join:!0})}function $ut(e){return Ln(e)?e.map((t,n)=>n<2?ky(t):Ld(t,{join:!0})):Ld(e,{join:!0})}function lY(e){return e&&Ir(e.toAST)?e.toAST():e}class ame{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],l=o===cg?put(a):o===L$?gut(a):o===p4?vut(a):a;this[i.name]=l!==void 0?l:i.default})}static from(t){const n=rL[t.verb],r=(n.schema||[]).map(({name:i})=>m4(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Fh?aY(n,o):s===fg?o.map(a=>aY(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=Pw(this[n])}),t}toAST(){const t={type:lut,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=wut(this[n],r,i)}),t}}function sr(e,t){return Object.assign((...n)=>new ame(e,t,n),{schema:t})}const rL={count:sr("count",[{name:"options",type:Ra}]),derive:sr("derive",[{name:"values",type:L0},{name:"options",type:Ra,props:{before:Af,after:Af}}]),filter:sr("filter",[{name:"criteria",type:L0}]),groupby:sr("groupby",[{name:"keys",type:Sl}]),orderby:sr("orderby",[{name:"keys",type:p4}]),relocate:sr("relocate",[{name:"columns",type:Af},{name:"options",type:Ra,props:{before:Af,after:Af}}]),rename:sr("rename",[{name:"columns",type:Af}]),rollup:sr("rollup",[{name:"values",type:L0}]),sample:sr("sample",[{name:"size",type:tme},{name:"options",type:Ra,props:{weight:eme}}]),select:sr("select",[{name:"columns",type:Af}]),ungroup:sr("ungroup"),unorder:sr("unorder"),reify:sr("reify"),dedupe:sr("dedupe",[{name:"keys",type:Sl,default:[]}]),impute:sr("impute",[{name:"values",type:L0},{name:"options",type:Ra,props:{expand:Sl}}]),fold:sr("fold",[{name:"values",type:Sl},{name:"options",type:Ra}]),pivot:sr("pivot",[{name:"keys",type:Sl},{name:"values",type:Sl},{name:"options",type:Ra}]),spread:sr("spread",[{name:"values",type:Sl},{name:"options",type:Ra}]),unroll:sr("unroll",[{name:"values",type:Sl},{name:"options",type:Ra,props:{drop:Sl}}]),lookup:sr("lookup",[{name:"table",type:Fh},{name:"on",type:cg},{name:"values",type:Sl}]),join:sr("join",[{name:"table",type:Fh},{name:"on",type:cg},{name:"values",type:L$},{name:"options",type:Ra}]),cross:sr("cross",[{name:"table",type:Fh},{name:"values",type:L$},{name:"options",type:Ra}]),semijoin:sr("semijoin",[{name:"table",type:Fh},{name:"on",type:cg}]),antijoin:sr("antijoin",[{name:"table",type:Fh},{name:"on",type:cg}]),concat:sr("concat",[{name:"tables",type:fg}]),union:sr("union",[{name:"tables",type:fg}]),intersect:sr("intersect",[{name:"tables",type:fg}]),except:sr("except",[{name:"tables",type:fg}])};class W1 extends Nfe{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new W1(t.map(ame.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return uY(this,"toObject")}toJSON(){return this.toObject()}toAST(){return uY(this,"toAST",{type:out})}}function uY(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function Cut(e,t){return new W1(e._verbs.concat(t),e._params,e._table)}for(const e in rL){const t=rL[e];W1.prototype["__"+e]=function(n,...r){return Cut(n,t(...r))}}function cv(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,l)=>`${r[o]}${l} = ${r[o]}[${l}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function Put(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function y4(e,t){const n=wa();return t.forEach((r,i)=>{const s=ps(r)?r:i;if(s){const o=e.column(i)||en(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function lme(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||en("relocate requires a before or after option."),i&&s&&en("relocate accepts only one of the before or after options."),t=Qc(e,t);const o=[...Qc(e,i?n:r).keys()],a=i?o[0]:o.pop(),l=new Map;return e.columnNames().forEach(u=>{const c=!t.has(u);if(u===a){s&&c&&l.set(u,u);for(const[d,h]of t)l.set(d,h);if(s)return}c&&l.set(u,u)}),y4(e,l)}function q1(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function v4(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Tut(e,t=0,n=e.length){let r=n?e[t++]:An;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function kut(e,t=0,n=e.length){let r=n?e[t++]:An;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function ZS(e){return ww(e)?e:+e}function Aut(e,t){const n=e.length;if(!n)return An;if((t=+t)<=0||n<2)return ZS(e[0]);if(t>=1)return ZS(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=ZS(e[i]);return ww(s)?s:s+(ZS(e[i+1])-s)*(r-i)}class Nut{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:Tut(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:kut(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(v4)),Aut(this._sorted,t)}}const F$=(e,t,n)=>cv(t,"{"+q1(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function Rut(e,t){const{ops:n,output:r}=Dut(e,t),i=e[0].fields,s=i.length,o=s===0?_4:s===1?Mut:s===2?Lut:en("Unsupported field count: "+s);return new o(i,n,r,t)}function Dut(e,t){const n={},r=[];function i(o,a=[]){const l=o+":"+a;if(n[l])return n[l];const u=ede(o),c=u.create(...a);return t<0&&u.stream&&u.stream.forEach(d=>i(d,[])),u.req&&u.req.forEach(d=>i(d,[])),n[l]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class _4 extends Bat{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new Nut),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Mut extends _4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=F$(n,s,"add"),this._rem=F$(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Al(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Al(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class Lut extends _4{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=F$(n,s,"add"),this._rem=F$(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Al(i)&&Al(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Al(i)&&Al(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function rm(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=fv(e,t),o=i?(a,l)=>s[a][i[l]]:a=>s[a][0];n=n.map(a=>l=>a(l,r,o))}return n}function fv(e,t,n){if(!t.length)return n;const r=ume(t),i=e.groups(),s=i?i.size:1;return n=n||tT(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=fme(e,o,i);for(let l=0;l<s;++l)o.write(a[l],n,l)}):r.forEach(o=>{const a=cme(e,o);o.write(a,n,0)}),n}function ume(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(Rut(r[i],t));return n}function cme(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function fme(e,t,n){const{keys:r,size:i}=n,s=tT(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),l=a.length;for(let u=0;u<l;++u){const c=a[u];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let l=a.next(0);l>=0;l=a.next(l+1))t.add(s[r[l]],l,o)}else{const a=e.totalRows();for(let l=0;l<a;++l)t.add(s[r[l]],l,o)}return s}function dme(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const l=e.add(r[a],Array(s)),u=n[a];for(let c=0;c<s;++c)l[c]=u(i[c])}}function hme(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const cY=hme(v4);function Fut(e,t,n,r,i){let s,o,a,l,u;const c=y=>o[y-1]===o[y],d=r.length,h=i.length,m=r.length?cv(["w","r","k"],"{"+q1(r,(y,_)=>`r[_${_}.id][k]=_${_}.value(w,_${_}.get);`)+"}",r):()=>{},g={i0:0,i1:0,index:0,size:0,peer:c,init(y,_,v,b){g.index=g.i0=g.i1=0,g.size=_.length,s=y,o=_,l=v,u=b,a=i?i.map(S=>S.init()):null;for(let S=0;S<d;++S)r[S].init();return g},value(y,_){return _(s[y],e)},step(y){const[_,v]=t,b=g.size,S=g.i0,x=g.i1;g.i0=_!=null?Math.max(0,y-Math.abs(_)):0,g.i1=v!=null?Math.min(b,y+Math.abs(v)+1):b,g.index=y,n&&(g.i0>0&&c(g.i0)&&(g.i0=cY.left(o,o[g.i0])),g.i1<b&&c(g.i1)&&(g.i1=cY.right(o,o[g.i1-1])));for(let $=0;$<h;++$){const E=i[$],I=a[$];for(let T=S;T<g.i0;++T)E.rem(I,s[T],e);for(let T=x;T<g.i1;++T)E.add(I,s[T],e);E.write(I,l,u)}return m(g,l,u),l}};return g}const jut=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),But=e=>!!e.peers;function zut(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=tde(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function Vut(e,t,n,r={},i){const s=e.data(),o=Uut(i,s),a=o.length,l=cv(["r","d","op"],"{"+q1(t,(u,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((u,c)=>{const d=u.length,h=Hut(e,u);for(let g=0;g<a;++g)o[g].init(u,h,r,c);const m=g=>r[g][c];for(let g=0;g<d;++g){for(let y=0;y<a;++y)o[y].step(g);l(u[g],s,m)}})}function Uut(e,t){const n={};return e.forEach(r=>{const i=jut(r),s=But(r),o=`${i},${s}`,{aggOps:a,winOps:l}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});rB(r.name)?a.push(r):l.push(zut(r))}),Object.values(n).map(r=>Fut(t,r.frame,r.peers,r.winOps,ume(r.aggOps,r.frame[0]!=null?-1:1)))}function Hut(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function Wut(e){return iB(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function w4(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=wa(i.drop?null:e),a=t.map(h=>o.add(h,Array(s))),[l,u]=qut(r),c=e.isGrouped()?e.groups().size:1,d=fv(e,l,tT(r.length,()=>Array(c)));return u.length?Vut(e,a,n,d,u):Gut(e,a,n,d),e.create(o)}function qut(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(Wut(s)?n:t).push(s)}return[t,n]}function Gut(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(u,c)=>r[u][o[c]]:u=>r[u][0],l=t.length;for(let u=0;u<l;++u){const c=n[u],d=t[u];if(i)for(let h=i.next(0);h>=0;h=i.next(h+1))d[h]=c(h,s,a);else{const h=e.totalRows();for(let m=0;m<h;++m)d[m]=c(m,s,a)}}}function Kut(e,t,n={}){const r=w4(e,jo(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:lme(r,Object.keys(t).filter(i=>!e.column(i)),n)}function Yut(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const ex=2147483648,Qut=4294967295;class pme{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&ex>>>t}set(t){this._bits[t>>5]|=ex>>>t}clear(t){this._bits[t>>5]&=~(ex>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&Qut>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=ex>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function Xut(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new pme(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function Jut(e,t){const n=jo({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=w4(e,n,{drop:!0}).column("p");r=s=>i[s]}return Xut(e,r)}function mme(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),l=rm(e,r,n),u=wa(),c=new Set(t),d=[],h=[],m=[];e.columnNames().forEach(x=>{if(!a.has(x)){const $=u.add(x,[]);c.has(x)||(d.push(e.column(x)),h.push($))}}),t.forEach(x=>{a.has(x)||(u.has(x)||u.add(x,[]),m.push(u.data[x]))});const g=o?u.add(o,[]):null;let y=0;const _=d.length,v=m.length,b=(x,$)=>{for(let E=0;E<_;++E)h[E].length=y+$,h[E].fill(d[E].get(x),y,y+$)},S=g?(x,$)=>{for(let E=0;E<$;++E)g[x+E]=E}:()=>{};if(v===1){const x=l[0],$=m[0];e.scan((E,I)=>{const T=Lo(x(E,I)),M=Math.min(T.length,s);b(E,M);for(let U=0;U<M;++U)$[y+U]=T[U];S(y,M),y+=M})}else e.scan((x,$)=>{let E=0;const I=l.map(T=>{const M=Lo(T(x,$));return E=Math.min(Math.max(E,M.length),s),M});b(x,E);for(let T=0;T<v;++T){const M=m[T],U=I[T];for(let z=0;z<E;++z)M[y+z]=U[z]}S(y,E),y+=E});return e.create(u.new())}function Zut(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=rm(e,r,n);return mme(e,{names:[s,o],exprs:[()=>t,(l,u)=>a.map(c=>c(l,u))]},{...i,drop:t})}function ql(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Js(o)?t.columnName(o):o,ps(o)?i.set(o,Fp(o)):Ir(o)?Qc(t,o).forEach(s):Ms(o)?ipe(i,o):en(`Invalid ${e} value: ${o+""}`)};return Lo(n).forEach(s),r.preparse&&r.preparse(i),jo(i,{table:t,...r})}function ect(e,t,n){return Zut(e,ql("fold",e,t),n)}function fY(e,t,n,r){const i=n&&n.length;return tct(i?nct(e,n,r):e,t,i)}function tct(e,{names:t,exprs:n,ops:r},i){const s=rm(e,r,n),o=i?null:wa(e),a=e.totalRows();return t.forEach((l,u)=>{const c=e.column(l),d=i?c.data:o.add(l,Array(a)),h=s[u];e.scan(m=>{const g=c.get(m);d[m]=Al(g)?g:h(m)})}),i?e:e.create(o)}function nct(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(g=>e.getter(g))),a=new Set,l=y$(o);e.scan((g,y)=>a.add(l(g,y)));const u=e.columnNames(),c=wa(),d=u.map(g=>c.add(g,[]));u.forEach((g,y)=>{const _=i[g],v=d[y];e.scan(b=>v.push(_.get(b)))});const h=y$(o.map((g,y)=>_=>_[y])),m=cv("v","{"+d.map((g,y)=>`_${y}.push(v[$${y}]);`).join("")+"}",d,u.map(g=>s.indexOf(g)));if(r){let g=r.keys.length;const y=n.reduce((v,b)=>v*b.length,r.size),_=new Uint32Array(y+(g-a.size));_.set(r.keys),dY(r,n,(v,b)=>{a.has(h(v))||(m(v),_[g++]=b[0])}),c.groupby({...r,keys:_})}else dY(r,n,g=>{a.has(h(g))||m(g)});return e.create(c.new())}function dY(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),l=[];if(e){const{get:c,rows:d,size:h}=e;o[0]=h,l.push((m,g)=>{const y=d[g];for(let _=0;_<r;++_)m[_]=c[_](y)})}t.forEach((c,d)=>{const h=d+r;o[d+i]=c.length,l.push((m,g)=>m[h]=c[g])});const u=Array(r+t.length);for(let c=0;c<s;++c)l[c](u,0);n(u,a);for(let c=s-1;c>=0;){const d=++a[c];d<o[c]?(l[c](u,d),n(u,a),c=s-1):(a[c]=0,l[c](u,0),--c)}}function b4(e,{names:t,exprs:n,ops:r}){const i=wa(),s=e.groups();return s&&dme(i,s),rct(t,n,s,fv(e,r),i),e.create(i.new())}function rct(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(l,u)=>r[l][u],a=e.length;for(let l=0;l<a;++l){const u=t[l];if(u.field!=null)i.add(e[l],r[u.field]);else if(s>1){const c=i.add(e[l],Array(s));for(let d=0;d<s;++d)c[d]=u(d,null,o)}else i.add(e[l],[u(0,null,o)])}}function ict(e,t,n={}){if(t=jo(t,{table:e}),t.names.forEach(r=>e.column(r)?0:en(`Invalid impute column ${Mu(r)}`)),n.expand){const r={preparse:sct,aggronly:!0},i=ql("impute",e,n.expand,r),s=b4(e.ungroup(),i);return fY(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return fY(e,t)}function sct(e){e.forEach((t,n)=>t.field?e.set(n,Vfe(t+"")):0)}function oct(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function gme(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function act(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function lct(e,t){const n=["i","a","j","b"];return cv(n,"{"+q1(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function uct(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),l=a.length,u=new Int32Array(l),c=t.data(),d=t.indices(!1),h=d.length,m=new Int32Array(h),g=r.length,y=wa(),_=Array(g),v=Array(g);for(let x=0;x<r.length;++x)_[x]=y.add(r[x],[]),v[x]=i[x];const b=lct(_,v);if((Ln(n)?fct:cct)(b,n,o,c,a,d,u,m,l,h),s.left)for(let x=0;x<l;++x)u[x]||b(a[x],o,-1,c);if(s.right)for(let x=0;x<h;++x)m[x]||b(-1,o,d[x],c);return e.create(y.new())}function cct(e,t,n,r,i,s,o,a,l,u){for(let c=0;c<l;++c){const d=i[c];for(let h=0;h<u;++h){const m=s[h];t(d,n,m,r)&&(e(d,n,m,r),o[c]=1,a[h]=1)}}}function fct(e,[t,n],r,i,s,o,a,l,u,c){let d,h,m,g,y,_,v,b,S=e;u>=c?(d=r,h=t,m=a,g=s,y=i,_=n,v=l,b=o):(d=i,h=n,m=l,g=o,y=r,_=t,v=a,b=s,S=(E,I,T,M)=>e(T,M,E,I));const x=act(b,y,_),$=g.length;for(let E=0;E<$;++E){const I=g[E],T=x.get(h(I,d));if(T){const M=T.length;for(let U=0;U<M;++U){const z=T[U];S(I,d,b[z],y),v[z]=1}m[E]=1}}}function j$(e,t,n){const r=new Map;Lo(n).forEach((s,o)=>{s=Js(s)?t.columnName(s):s,ps(s)?r.set(o,Fp(s)):Ir(s)||Ms(s)&&s.expr?r.set(o,s):en(`Invalid ${e} key value: ${s+""}`)});const i=jo(r,{table:t,aggregate:!1,window:!1});return y$(i.exprs,!0)}function dct(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function S4(e,t,n){if(n)ps(n)?n=[n,n]:Ln(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=dct(e.columnNames(),t.columnNames());r.length||en("Natural join requires shared column names."),n=[r,r]}return n}function yme(e,t,n,r){return n.length!==r.length&&en("Mismatched number of join keys"),[j$("join",e,n),j$("join",t,r)]}const hct={aggregate:!1,window:!1},pct={...hct,index:1};function hY(e,t,n,r,i={}){n=S4(e,t,n);const s={join:[e,t]};let o;if(Ln(n)){const[a,l]=n.map(Lo);o=yme(e,t,a,l),r||(r=mct(e,a,l,i))}else o=jo({on:n},s).exprs[0],r||(r=[Py(),Py()]);return uct(e,t,o,gct(e,t,r,s,i&&i.suffix),i)}function mct(e,t,n,r){const i=[];t.forEach((o,a)=>ps(o)&&o===n[a]?i.push(o):0);const s=ope(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const l=`[${Mu(a)}]`;return o.has(a)?{[a]:`(a, b) => a${l} == null ? b${l} : a${l}`}:a}),s]}return r.right?[s,Py()]:[Py(),s]}function gct(e,t,n,r,i=[]){if(Ln(n)){let s,o,a,l=n.length;s=o=a={names:[],exprs:[]},l--&&(s=ql("join",e,n[0],r)),l--&&(o=ql("join",t,n[1],pct)),l--&&(a=jo(n[2],r));const u=new Set,c=new Set(s.names);return o.names.forEach(d=>{c.has(d)&&u.add(d)}),u.size&&(pY(s.names,u,i[0]||"_1"),pY(o.names,u,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return jo(n,r)}function pY(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function yct(e,t,n,r={}){const i=new pme(e.totalRows());return(Ln(n)?vct:_ct)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function vct(e,t,n,[r,i]){const s=gme(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function _ct(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const l=t.indices(!1),u=n.indices(!1);for(let c=0;c<i;++c){const d=l[c];for(let h=0;h<s;++h)if(r(d,o,u[h],a)){e.set(d);break}}}else for(let l=0;l<i;++l)for(let u=0;u<s;++u)if(r(l,o,u,a)){e.set(l);break}}function mY(e,t,n,r){n=S4(e,t,n);const i=Ln(n)?yme(e,t,...n.map(Lo)):jo({on:n},{join:[e,t]}).exprs[0];return yct(e,t,i,r)}function wct(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=wa(e),l=e.totalRows();i.forEach(h=>a.add(h,Array(l).fill(An)));const u=gme(t,r),c=cv(["lr","rr","data"],"{"+q1(i,(h,m)=>`_[${m}][lr] = $[${m}](rr, data);`)+"}",i.map(h=>a.data[h]),rm(t,o,s)),d=t.data();return e.scan((h,m)=>{const g=u.get(n(h,m));g>=0&&c(h,g,d)}),e.create(a)}function bct(e,t,n,r){return n=S4(e,t,n),wct(e,t,[j$("lookup",e,n[0]),j$("lookup",t,n[1])],ql("lookup",t,r))}const iL=(e,t)=>e??t;function Sct(e,t,n,r={}){const{keys:i,keyColumn:s}=xct(e,t,r),o=iL(r.valueSeparator,"_"),a=n.names.length>1?(u,c)=>c+o+i[u]:u=>i[u],l=i.map(u=>fv(e,n.ops.map(c=>{if(c.name==="count"){const h=m=>u===s[m]?1:NaN;return h.toString=()=>u+":1",{...c,name:"sum",fields:[h]}}const d=c.fields.map(h=>{const m=(g,y)=>u===s[g]?h(g,y):NaN;return m.toString=()=>u+":"+h,m});return{...c,fields:d}})));return e.create(Ect(n,a,e.groups(),l))}function xct(e,t,n){const r=n.limit>0?+n.limit:1/0,i=iL(n.sort,!0),s=iL(n.keySeparator,"_"),o=rm(e,t.ops,t.exprs),a=o.length===1?o[0]:(d,h)=>o.map(m=>m(d,h)).join(s),l=Array(e.totalRows());e.scan((d,h)=>l[d]=a(d,h));const u=fv(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[d=>l[d]],params:[]}])[0][0],c=i?u.sort():u;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:l}}function Ect({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=wa(),a=i.length,l=e.length;let u;const c=(d,h)=>u[d][h];r&&dme(o,r);for(let d=0;d<l;++d){const h=t[d];if(h.field!=null)for(let m=0;m<a;++m)o.add(n(m,e[d]),i[m][h.field]);else if(s>1)for(let m=0;m<a;++m){u=i[m];const g=o.add(n(m,e[d]),Array(s));for(let y=0;y<s;++y)g[y]=h(y,null,c)}else for(let m=0;m<a;++m)u=i[m],o.add(n(m,e[d]),[h(0,null,c)])}return o.new()}function Ict(e,t,n,r){return Sct(e,ql("fold",e,t),ql("fold",e,n,{preparse:Oct,aggronly:!0}),r)}function Oct(e){e.forEach((t,n)=>t.field?e.set(n,jfe(t+"")):0)}function $ct(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),y4(e,Qc(e,t,n))}function gY(e,t){return b4(e,jo(t,{table:e,aggronly:!0,window:!1}))}function Cct(e,t,n,r){return(t?r?Tct:Pct:r?Act:kct)(e.length,e,n,r)}function Pct(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*nv()|0];return t}function Tct(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let l=0;l<i;++l)s[l]=o+=r(n[l]);const a=hme(v4).right;for(let l=0;l<e;++l)t[l]=n[a(s,o*nv())];return t}function kct(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*nv();s<e&&(t[s|0]=n[i])}return t}function Act(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(nv())/r(n[a]);o.sort((a,l)=>s[a]-s[l]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function Nct(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=nv()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function Rct(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,d)=>{let h=t(d);return a+=h=i?h:Math.min(c.length,h),h});const l=new Uint32Array(a);let u=0;return o.forEach((c,d)=>{const h=t[d],m=l.subarray(u,u+=h);!i&&h===c.length?m.set(c):Cct(m,i,c,n)}),s!==!1&&(o.length>1||!i)&&Nct(l),e.reify(l)}function Dct(e,t,n={}){return Rct(e,Mct(e,t),Lct(e,n.weight),n)}const vme=e=>t=>e.get(t)||0;function Mct(e,t){return Js(t)?()=>t:vme(b4(e,jo({size:t},{table:e,window:!1})).column("size"))}function Lct(e,t){return t==null?null:(t=Js(t)?e.columnName(t):t,vme(ps(t)?e.column(t):w4(e,jo({w:t},{table:e}),{drop:!0}).column("w")))}function Fct(e,t){return y4(e,Qc(e,t))}function jct(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),l=rm(e,r,n),u=wa(),c=t.reduce((h,m,g)=>h.set(m,g),new Map),d=(h,m)=>{const g=Bct(e,l[h],a),y=g.length;for(let _=0;_<y;++_)u.add(s[_]||`${m}_${_+1}`,g[_])};return e.columnNames().forEach(h=>{c.has(h)?(o||u.add(h,e.column(h)),d(c.get(h),h),c.delete(h)):u.add(h,e.column(h))}),c.forEach(d),e.create(u)}function Bct(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=Lo(t(s,o)),l=Math.min(a.length,n);for(;i.length<l;)i.push(Array(r).fill(An));for(let u=0;u<l;++u)i[u][s]=a[u]}),i}function zct(e,t,n){return jct(e,ql("spread",e,t),n)}function Vct(e,t){return e.concat(t).dedupe()}function Uct(e,t,n){return mme(e,ql("unroll",e,t),n&&n.drop?{...n,drop:ql("unroll",e,n.drop).names}:n)}function Hct(e,t){return e.create({groups:Wct(e,t)})}function Wct(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const m=e.column(n[0].field);if(m.groups)return m.groups(t)}let s=rm(e,r,n);const o=y$(s),a=e.totalRows(),l=new Uint32Array(a),u={},c=[],d=e.data(),h=e.mask();if(h)for(let m=h.next(0);m>=0;m=h.next(m+1)){const g=o(m,d)+"",y=u[g];l[m]=y??(u[g]=c.push(m)-1)}else for(let m=0;m<a;++m){const g=o(m,d)+"",y=u[g];l[m]=y??(u[g]=c.push(m)-1)}return r.length||(s=s.map(m=>g=>m(g,d))),{keys:l,get:s,names:t,rows:c,size:c.length}}function qct(e,t){return Hct(e,ql("groupby",e,t))}function Gct(e,t){return e.create({order:t})}const Kct=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function Yct(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:l}=jo(t,{table:e,value:(m,g)=>{if(n.push(m),g.escape){const y=_=>`fn[${i.length}](${_}, data)`;r.push([y("a"),y("b")]),i.push(g.escape)}else r.push([g$(g,{index:"a",op:o}),g$(g,{index:"b",op:a})])},window:!1}),u=fv(e,l),c=(m,g)=>u[m][g],d=n.length;let h="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let m=0;m<d;++m){const g=t.get(n[m]).desc?-1:1,[y,_]=r[m];h+=Kct(y,_,-g,g)}return h+="0;};",Function("op","keys","fn","data",h)(c,s,i,e.data())}function Qct(e,t){return Gct(e,Xct(e,t))}function Xct(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(Ms(o)&&!Ir(o))for(const a in o)i(o[a]);else i(Js(o)?Fp(s,e.columnName(o)):ps(o)?Fp(s):Ir(o)?s:en(`Invalid orderby field: ${s+""}`))}),Yct(e,r)}function Jct(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=wa();return e.columnNames().forEach(o=>{const a=Array(r);let l=0;i.forEach(u=>{const c=u.column(o)||{get:()=>An};u.scan(d=>a[l++]=c.get(d))}),s.add(o,a)}),e.create(s.new())}function Zct(e,t){const n=wa(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},l=new Uint32Array(a+1);s.forEach(h=>n.add(h,null));const u=r?fme(e,t,r):[cme(e,t)];t.outputs().map(h=>n.add(h,[]));const c=l.length-1;let d=0;for(let h=0;h<c;++h)d+=l[h+1]=t.write(u[h],n.data,l[h]);if(r){const h=e.data();s.forEach((m,g)=>{const y=n.data[m]=Array(d),_=i[g];for(let v=0,b=0;v<a;++v)y.fill(_(o[v],h),b,b+=l[v+1])})}return e.create(n.new())}function eft(e){return e.isGrouped()?e.create({groups:null}):e}function tft(e){return e.isOrdered()?e.create({order:null}):e}const nft={__antijoin:(e,t,n)=>mY(e,t,n,{anti:!0}),__count:(e,t={})=>gY(e,{[t.as||"count"]:Bfe()}),__cross:(e,t,n,r)=>hY(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:Jct,__dedupe:Put,__derive:Kut,__except:Yut,__filter:Jut,__fold:ect,__impute:ict,__intersect:oct,__join:hY,__lookup:bct,__pivot:Ict,__relocate:lme,__rename:$ct,__rollup:gY,__sample:Dct,__select:Fct,__semijoin:mY,__spread:zct,__union:Vct,__unroll:Uct,__groupby:qct,__orderby:Qct,__ungroup:eft,__unorder:tft,__reduce:Zct};Object.assign(yc.prototype,nft);function rft(e,t){return yc.from(e,t)}function vR(e){return bT(e,{escape:!0,toString(){en("Escaped values can not be serialized.")}})}yc.prototype;var B$={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */B$.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,h=2,m=4,g=1,y=2,_=1,v=2,b=4,S=8,x=16,$=32,E=64,I=128,T=256,M=512,U=30,z="...",H=800,q=16,B=1,ue=2,le=3,pe=1/0,Z=9007199254740991,oe=17976931348623157e292,X=0/0,k=4294967295,A=k-1,K=k>>>1,D=[["ary",I],["bind",_],["bindKey",v],["curry",S],["curryRight",x],["flip",M],["partial",$],["partialRight",E],["rearg",T]],R="[object Arguments]",Y="[object Array]",fe="[object AsyncFunction]",he="[object Boolean]",ge="[object Date]",ve="[object DOMException]",ke="[object Error]",ye="[object Function]",it="[object GeneratorFunction]",Ke="[object Map]",Je="[object Number]",He="[object Null]",Ae="[object Object]",Xe="[object Promise]",_n="[object Proxy]",We="[object RegExp]",Ve="[object Set]",Tt="[object String]",st="[object Symbol]",Rt="[object Undefined]",on="[object WeakMap]",On="[object WeakSet]",Kn="[object ArrayBuffer]",me="[object DataView]",Ie="[object Float32Array]",qe="[object Float64Array]",mt="[object Int8Array]",ze="[object Int16Array]",gt="[object Int32Array]",Ge="[object Uint8Array]",ft="[object Uint8ClampedArray]",ur="[object Uint16Array]",dn="[object Uint32Array]",Ft=/\b__p \+= '';/g,hr=/\b(__p \+=) '' \+/g,Bn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,hl=/&(?:amp|lt|gt|quot|#39);/g,ui=/[&<>"']/g,ms=RegExp(hl.source),gs=RegExp(ui.source),ci=/<%-([\s\S]+?)%>/g,Dr=/<%([\s\S]+?)%>/g,nr=/<%=([\s\S]+?)%>/g,wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ri=/^\w*$/,ro=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ur=/[\\^$.*+?()[\]{}|]/g,Ki=RegExp(Ur.source),ys=/^\s+/,ee=/\s/,G=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ne=/\{\n\/\* \[wrapped with (.+)\] \*/,we=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nt=/[()=,{}\[\]\/\s]/,Ce=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ct=/\w*$/,ct=/^[-+]0x[0-9a-f]+$/i,Pt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,rr=/^0o[0-7]+$/i,Et=/^(?:0|[1-9]\d*)$/,Hn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kt=/($^)/,Mn=/['\n\r\u2028\u2029\\]/g,Or="\\ud800-\\udfff",Yi="\\u0300-\\u036f",ei="\\ufe20-\\ufe2f",ba="\\u20d0-\\u20ff",Qi=Yi+ei+ba,$r="\\u2700-\\u27bf",rt="a-z\\xdf-\\xf6\\xf8-\\xff",an="\\xac\\xb1\\xd7\\xf7",yr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Di="\\u2000-\\u206f",io=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",F="A-Z\\xc0-\\xd6\\xd8-\\xde",J="\\ufe0e\\ufe0f",W=an+yr+Di+io,se="[']",ce="["+Or+"]",ie="["+W+"]",xe="["+Qi+"]",Re="\\d+",Le="["+$r+"]",Fe="["+rt+"]",Be="[^"+Or+W+Re+$r+rt+F+"]",ot="\\ud83c[\\udffb-\\udfff]",tn="(?:"+xe+"|"+ot+")",Pn="[^"+Or+"]",Tn="(?:\\ud83c[\\udde6-\\uddff]){2}",Cr="[\\ud800-\\udbff][\\udc00-\\udfff]",ir="["+F+"]",js="\\u200d",hf="(?:"+Fe+"|"+Be+")",_v="(?:"+ir+"|"+Be+")",tb="(?:"+se+"(?:d|ll|m|re|s|t|ve))?",am="(?:"+se+"(?:D|LL|M|RE|S|T|VE))?",HT=tn+"?",nb="["+J+"]?",WT="(?:"+js+"(?:"+[Pn,Tn,Cr].join("|")+")"+nb+HT+")*",rb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gye="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Y4=nb+HT+WT,Kye="(?:"+[Le,Tn,Cr].join("|")+")"+Y4,Yye="(?:"+[Pn+xe+"?",xe,Tn,Cr,ce].join("|")+")",Qye=RegExp(se,"g"),Xye=RegExp(xe,"g"),qT=RegExp(ot+"(?="+ot+")|"+Yye+Y4,"g"),Jye=RegExp([ir+"?"+Fe+"+"+tb+"(?="+[ie,ir,"$"].join("|")+")",_v+"+"+am+"(?="+[ie,ir+hf,"$"].join("|")+")",ir+"?"+hf+"+"+tb,ir+"+"+am,Gye,rb,Re,Kye].join("|"),"g"),Zye=RegExp("["+js+Or+Qi+J+"]"),eve=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tve=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nve=-1,vr={};vr[Ie]=vr[qe]=vr[mt]=vr[ze]=vr[gt]=vr[Ge]=vr[ft]=vr[ur]=vr[dn]=!0,vr[R]=vr[Y]=vr[Kn]=vr[he]=vr[me]=vr[ge]=vr[ke]=vr[ye]=vr[Ke]=vr[Je]=vr[Ae]=vr[We]=vr[Ve]=vr[Tt]=vr[on]=!1;var pr={};pr[R]=pr[Y]=pr[Kn]=pr[me]=pr[he]=pr[ge]=pr[Ie]=pr[qe]=pr[mt]=pr[ze]=pr[gt]=pr[Ke]=pr[Je]=pr[Ae]=pr[We]=pr[Ve]=pr[Tt]=pr[st]=pr[Ge]=pr[ft]=pr[ur]=pr[dn]=!0,pr[ke]=pr[ye]=pr[on]=!1;var rve={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ive={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sve={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ove={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ave=parseFloat,lve=parseInt,Q4=typeof So=="object"&&So&&So.Object===Object&&So,uve=typeof self=="object"&&self&&self.Object===Object&&self,Xi=Q4||uve||Function("return this")(),GT=t&&!t.nodeType&&t,oh=GT&&!0&&e&&!e.nodeType&&e,X4=oh&&oh.exports===GT,KT=X4&&Q4.process,Sa=function(){try{var ae=oh&&oh.require&&oh.require("util").types;return ae||KT&&KT.binding&&KT.binding("util")}catch{}}(),J4=Sa&&Sa.isArrayBuffer,Z4=Sa&&Sa.isDate,ez=Sa&&Sa.isMap,tz=Sa&&Sa.isRegExp,nz=Sa&&Sa.isSet,rz=Sa&&Sa.isTypedArray;function Vo(ae,Ee,Se){switch(Se.length){case 0:return ae.call(Ee);case 1:return ae.call(Ee,Se[0]);case 2:return ae.call(Ee,Se[0],Se[1]);case 3:return ae.call(Ee,Se[0],Se[1],Se[2])}return ae.apply(Ee,Se)}function cve(ae,Ee,Se,Ze){for(var jt=-1,zn=ae==null?0:ae.length;++jt<zn;){var bi=ae[jt];Ee(Ze,bi,Se(bi),ae)}return Ze}function xa(ae,Ee){for(var Se=-1,Ze=ae==null?0:ae.length;++Se<Ze&&Ee(ae[Se],Se,ae)!==!1;);return ae}function fve(ae,Ee){for(var Se=ae==null?0:ae.length;Se--&&Ee(ae[Se],Se,ae)!==!1;);return ae}function iz(ae,Ee){for(var Se=-1,Ze=ae==null?0:ae.length;++Se<Ze;)if(!Ee(ae[Se],Se,ae))return!1;return!0}function pf(ae,Ee){for(var Se=-1,Ze=ae==null?0:ae.length,jt=0,zn=[];++Se<Ze;){var bi=ae[Se];Ee(bi,Se,ae)&&(zn[jt++]=bi)}return zn}function ib(ae,Ee){var Se=ae==null?0:ae.length;return!!Se&&lm(ae,Ee,0)>-1}function YT(ae,Ee,Se){for(var Ze=-1,jt=ae==null?0:ae.length;++Ze<jt;)if(Se(Ee,ae[Ze]))return!0;return!1}function Pr(ae,Ee){for(var Se=-1,Ze=ae==null?0:ae.length,jt=Array(Ze);++Se<Ze;)jt[Se]=Ee(ae[Se],Se,ae);return jt}function mf(ae,Ee){for(var Se=-1,Ze=Ee.length,jt=ae.length;++Se<Ze;)ae[jt+Se]=Ee[Se];return ae}function QT(ae,Ee,Se,Ze){var jt=-1,zn=ae==null?0:ae.length;for(Ze&&zn&&(Se=ae[++jt]);++jt<zn;)Se=Ee(Se,ae[jt],jt,ae);return Se}function dve(ae,Ee,Se,Ze){var jt=ae==null?0:ae.length;for(Ze&&jt&&(Se=ae[--jt]);jt--;)Se=Ee(Se,ae[jt],jt,ae);return Se}function XT(ae,Ee){for(var Se=-1,Ze=ae==null?0:ae.length;++Se<Ze;)if(Ee(ae[Se],Se,ae))return!0;return!1}var hve=JT("length");function pve(ae){return ae.split("")}function mve(ae){return ae.match(_e)||[]}function sz(ae,Ee,Se){var Ze;return Se(ae,function(jt,zn,bi){if(Ee(jt,zn,bi))return Ze=zn,!1}),Ze}function sb(ae,Ee,Se,Ze){for(var jt=ae.length,zn=Se+(Ze?1:-1);Ze?zn--:++zn<jt;)if(Ee(ae[zn],zn,ae))return zn;return-1}function lm(ae,Ee,Se){return Ee===Ee?$ve(ae,Ee,Se):sb(ae,oz,Se)}function gve(ae,Ee,Se,Ze){for(var jt=Se-1,zn=ae.length;++jt<zn;)if(Ze(ae[jt],Ee))return jt;return-1}function oz(ae){return ae!==ae}function az(ae,Ee){var Se=ae==null?0:ae.length;return Se?ek(ae,Ee)/Se:X}function JT(ae){return function(Ee){return Ee==null?n:Ee[ae]}}function ZT(ae){return function(Ee){return ae==null?n:ae[Ee]}}function lz(ae,Ee,Se,Ze,jt){return jt(ae,function(zn,bi,cr){Se=Ze?(Ze=!1,zn):Ee(Se,zn,bi,cr)}),Se}function yve(ae,Ee){var Se=ae.length;for(ae.sort(Ee);Se--;)ae[Se]=ae[Se].value;return ae}function ek(ae,Ee){for(var Se,Ze=-1,jt=ae.length;++Ze<jt;){var zn=Ee(ae[Ze]);zn!==n&&(Se=Se===n?zn:Se+zn)}return Se}function tk(ae,Ee){for(var Se=-1,Ze=Array(ae);++Se<ae;)Ze[Se]=Ee(Se);return Ze}function vve(ae,Ee){return Pr(Ee,function(Se){return[Se,ae[Se]]})}function uz(ae){return ae&&ae.slice(0,hz(ae)+1).replace(ys,"")}function Uo(ae){return function(Ee){return ae(Ee)}}function nk(ae,Ee){return Pr(Ee,function(Se){return ae[Se]})}function wv(ae,Ee){return ae.has(Ee)}function cz(ae,Ee){for(var Se=-1,Ze=ae.length;++Se<Ze&&lm(Ee,ae[Se],0)>-1;);return Se}function fz(ae,Ee){for(var Se=ae.length;Se--&&lm(Ee,ae[Se],0)>-1;);return Se}function _ve(ae,Ee){for(var Se=ae.length,Ze=0;Se--;)ae[Se]===Ee&&++Ze;return Ze}var wve=ZT(rve),bve=ZT(ive);function Sve(ae){return"\\"+ove[ae]}function xve(ae,Ee){return ae==null?n:ae[Ee]}function um(ae){return Zye.test(ae)}function Eve(ae){return eve.test(ae)}function Ive(ae){for(var Ee,Se=[];!(Ee=ae.next()).done;)Se.push(Ee.value);return Se}function rk(ae){var Ee=-1,Se=Array(ae.size);return ae.forEach(function(Ze,jt){Se[++Ee]=[jt,Ze]}),Se}function dz(ae,Ee){return function(Se){return ae(Ee(Se))}}function gf(ae,Ee){for(var Se=-1,Ze=ae.length,jt=0,zn=[];++Se<Ze;){var bi=ae[Se];(bi===Ee||bi===c)&&(ae[Se]=c,zn[jt++]=Se)}return zn}function ob(ae){var Ee=-1,Se=Array(ae.size);return ae.forEach(function(Ze){Se[++Ee]=Ze}),Se}function Ove(ae){var Ee=-1,Se=Array(ae.size);return ae.forEach(function(Ze){Se[++Ee]=[Ze,Ze]}),Se}function $ve(ae,Ee,Se){for(var Ze=Se-1,jt=ae.length;++Ze<jt;)if(ae[Ze]===Ee)return Ze;return-1}function Cve(ae,Ee,Se){for(var Ze=Se+1;Ze--;)if(ae[Ze]===Ee)return Ze;return Ze}function cm(ae){return um(ae)?Tve(ae):hve(ae)}function pl(ae){return um(ae)?kve(ae):pve(ae)}function hz(ae){for(var Ee=ae.length;Ee--&&ee.test(ae.charAt(Ee)););return Ee}var Pve=ZT(sve);function Tve(ae){for(var Ee=qT.lastIndex=0;qT.test(ae);)++Ee;return Ee}function kve(ae){return ae.match(qT)||[]}function Ave(ae){return ae.match(Jye)||[]}var Nve=function ae(Ee){Ee=Ee==null?Xi:fm.defaults(Xi.Object(),Ee,fm.pick(Xi,tve));var Se=Ee.Array,Ze=Ee.Date,jt=Ee.Error,zn=Ee.Function,bi=Ee.Math,cr=Ee.Object,ik=Ee.RegExp,Rve=Ee.String,Ea=Ee.TypeError,ab=Se.prototype,Dve=zn.prototype,dm=cr.prototype,lb=Ee["__core-js_shared__"],ub=Dve.toString,Yn=dm.hasOwnProperty,Mve=0,pz=function(){var f=/[^.]+$/.exec(lb&&lb.keys&&lb.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),cb=dm.toString,Lve=ub.call(cr),Fve=Xi._,jve=ik("^"+ub.call(Yn).replace(Ur,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fb=X4?Ee.Buffer:n,yf=Ee.Symbol,db=Ee.Uint8Array,mz=fb?fb.allocUnsafe:n,hb=dz(cr.getPrototypeOf,cr),gz=cr.create,yz=dm.propertyIsEnumerable,pb=ab.splice,vz=yf?yf.isConcatSpreadable:n,bv=yf?yf.iterator:n,ah=yf?yf.toStringTag:n,mb=function(){try{var f=dh(cr,"defineProperty");return f({},"",{}),f}catch{}}(),Bve=Ee.clearTimeout!==Xi.clearTimeout&&Ee.clearTimeout,zve=Ze&&Ze.now!==Xi.Date.now&&Ze.now,Vve=Ee.setTimeout!==Xi.setTimeout&&Ee.setTimeout,gb=bi.ceil,yb=bi.floor,sk=cr.getOwnPropertySymbols,Uve=fb?fb.isBuffer:n,_z=Ee.isFinite,Hve=ab.join,Wve=dz(cr.keys,cr),Si=bi.max,vs=bi.min,qve=Ze.now,Gve=Ee.parseInt,wz=bi.random,Kve=ab.reverse,ok=dh(Ee,"DataView"),Sv=dh(Ee,"Map"),ak=dh(Ee,"Promise"),hm=dh(Ee,"Set"),xv=dh(Ee,"WeakMap"),Ev=dh(cr,"create"),vb=xv&&new xv,pm={},Yve=hh(ok),Qve=hh(Sv),Xve=hh(ak),Jve=hh(hm),Zve=hh(xv),_b=yf?yf.prototype:n,Iv=_b?_b.valueOf:n,bz=_b?_b.toString:n;function L(f){if(Hr(f)&&!Wt(f)&&!(f instanceof pn)){if(f instanceof Ia)return f;if(Yn.call(f,"__wrapped__"))return S5(f)}return new Ia(f)}var mm=function(){function f(){}return function(p){if(!Mr(p))return{};if(gz)return gz(p);f.prototype=p;var w=new f;return f.prototype=n,w}}();function wb(){}function Ia(f,p){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=n}L.templateSettings={escape:ci,evaluate:Dr,interpolate:nr,variable:"",imports:{_:L}},L.prototype=wb.prototype,L.prototype.constructor=L,Ia.prototype=mm(wb.prototype),Ia.prototype.constructor=Ia;function pn(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=k,this.__views__=[]}function e0e(){var f=new pn(this.__wrapped__);return f.__actions__=so(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=so(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=so(this.__views__),f}function t0e(){if(this.__filtered__){var f=new pn(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function n0e(){var f=this.__wrapped__.value(),p=this.__dir__,w=Wt(f),C=p<0,N=w?f.length:0,V=p_e(0,N,this.__views__),Q=V.start,re=V.end,de=re-Q,Pe=C?re:Q-1,Te=this.__iteratees__,Ne=Te.length,Ye=0,dt=vs(de,this.__takeCount__);if(!w||!C&&N==de&&dt==de)return Wz(f,this.__actions__);var It=[];e:for(;de--&&Ye<dt;){Pe+=p;for(var nn=-1,Ot=f[Pe];++nn<Ne;){var hn=Te[nn],bn=hn.iteratee,qo=hn.type,Vs=bn(Ot);if(qo==ue)Ot=Vs;else if(!Vs){if(qo==B)continue e;break e}}It[Ye++]=Ot}return It}pn.prototype=mm(wb.prototype),pn.prototype.constructor=pn;function lh(f){var p=-1,w=f==null?0:f.length;for(this.clear();++p<w;){var C=f[p];this.set(C[0],C[1])}}function r0e(){this.__data__=Ev?Ev(null):{},this.size=0}function i0e(f){var p=this.has(f)&&delete this.__data__[f];return this.size-=p?1:0,p}function s0e(f){var p=this.__data__;if(Ev){var w=p[f];return w===l?n:w}return Yn.call(p,f)?p[f]:n}function o0e(f){var p=this.__data__;return Ev?p[f]!==n:Yn.call(p,f)}function a0e(f,p){var w=this.__data__;return this.size+=this.has(f)?0:1,w[f]=Ev&&p===n?l:p,this}lh.prototype.clear=r0e,lh.prototype.delete=i0e,lh.prototype.get=s0e,lh.prototype.has=o0e,lh.prototype.set=a0e;function Yu(f){var p=-1,w=f==null?0:f.length;for(this.clear();++p<w;){var C=f[p];this.set(C[0],C[1])}}function l0e(){this.__data__=[],this.size=0}function u0e(f){var p=this.__data__,w=bb(p,f);if(w<0)return!1;var C=p.length-1;return w==C?p.pop():pb.call(p,w,1),--this.size,!0}function c0e(f){var p=this.__data__,w=bb(p,f);return w<0?n:p[w][1]}function f0e(f){return bb(this.__data__,f)>-1}function d0e(f,p){var w=this.__data__,C=bb(w,f);return C<0?(++this.size,w.push([f,p])):w[C][1]=p,this}Yu.prototype.clear=l0e,Yu.prototype.delete=u0e,Yu.prototype.get=c0e,Yu.prototype.has=f0e,Yu.prototype.set=d0e;function Qu(f){var p=-1,w=f==null?0:f.length;for(this.clear();++p<w;){var C=f[p];this.set(C[0],C[1])}}function h0e(){this.size=0,this.__data__={hash:new lh,map:new(Sv||Yu),string:new lh}}function p0e(f){var p=Nb(this,f).delete(f);return this.size-=p?1:0,p}function m0e(f){return Nb(this,f).get(f)}function g0e(f){return Nb(this,f).has(f)}function y0e(f,p){var w=Nb(this,f),C=w.size;return w.set(f,p),this.size+=w.size==C?0:1,this}Qu.prototype.clear=h0e,Qu.prototype.delete=p0e,Qu.prototype.get=m0e,Qu.prototype.has=g0e,Qu.prototype.set=y0e;function uh(f){var p=-1,w=f==null?0:f.length;for(this.__data__=new Qu;++p<w;)this.add(f[p])}function v0e(f){return this.__data__.set(f,l),this}function _0e(f){return this.__data__.has(f)}uh.prototype.add=uh.prototype.push=v0e,uh.prototype.has=_0e;function ml(f){var p=this.__data__=new Yu(f);this.size=p.size}function w0e(){this.__data__=new Yu,this.size=0}function b0e(f){var p=this.__data__,w=p.delete(f);return this.size=p.size,w}function S0e(f){return this.__data__.get(f)}function x0e(f){return this.__data__.has(f)}function E0e(f,p){var w=this.__data__;if(w instanceof Yu){var C=w.__data__;if(!Sv||C.length<i-1)return C.push([f,p]),this.size=++w.size,this;w=this.__data__=new Qu(C)}return w.set(f,p),this.size=w.size,this}ml.prototype.clear=w0e,ml.prototype.delete=b0e,ml.prototype.get=S0e,ml.prototype.has=x0e,ml.prototype.set=E0e;function Sz(f,p){var w=Wt(f),C=!w&&ph(f),N=!w&&!C&&Sf(f),V=!w&&!C&&!N&&_m(f),Q=w||C||N||V,re=Q?tk(f.length,Rve):[],de=re.length;for(var Pe in f)(p||Yn.call(f,Pe))&&!(Q&&(Pe=="length"||N&&(Pe=="offset"||Pe=="parent")||V&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||ec(Pe,de)))&&re.push(Pe);return re}function xz(f){var p=f.length;return p?f[vk(0,p-1)]:n}function I0e(f,p){return Rb(so(f),ch(p,0,f.length))}function O0e(f){return Rb(so(f))}function lk(f,p,w){(w!==n&&!gl(f[p],w)||w===n&&!(p in f))&&Xu(f,p,w)}function Ov(f,p,w){var C=f[p];(!(Yn.call(f,p)&&gl(C,w))||w===n&&!(p in f))&&Xu(f,p,w)}function bb(f,p){for(var w=f.length;w--;)if(gl(f[w][0],p))return w;return-1}function $0e(f,p,w,C){return vf(f,function(N,V,Q){p(C,N,w(N),Q)}),C}function Ez(f,p){return f&&Xl(p,Mi(p),f)}function C0e(f,p){return f&&Xl(p,ao(p),f)}function Xu(f,p,w){p=="__proto__"&&mb?mb(f,p,{configurable:!0,enumerable:!0,value:w,writable:!0}):f[p]=w}function uk(f,p){for(var w=-1,C=p.length,N=Se(C),V=f==null;++w<C;)N[w]=V?n:Uk(f,p[w]);return N}function ch(f,p,w){return f===f&&(w!==n&&(f=f<=w?f:w),p!==n&&(f=f>=p?f:p)),f}function Oa(f,p,w,C,N,V){var Q,re=p&d,de=p&h,Pe=p&m;if(w&&(Q=N?w(f,C,N,V):w(f)),Q!==n)return Q;if(!Mr(f))return f;var Te=Wt(f);if(Te){if(Q=g_e(f),!re)return so(f,Q)}else{var Ne=_s(f),Ye=Ne==ye||Ne==it;if(Sf(f))return Kz(f,re);if(Ne==Ae||Ne==R||Ye&&!N){if(Q=de||Ye?{}:h5(f),!re)return de?s_e(f,C0e(Q,f)):i_e(f,Ez(Q,f))}else{if(!pr[Ne])return N?f:{};Q=y_e(f,Ne,re)}}V||(V=new ml);var dt=V.get(f);if(dt)return dt;V.set(f,Q),V5(f)?f.forEach(function(Ot){Q.add(Oa(Ot,p,w,Ot,f,V))}):B5(f)&&f.forEach(function(Ot,hn){Q.set(hn,Oa(Ot,p,w,hn,f,V))});var It=Pe?de?Pk:Ck:de?ao:Mi,nn=Te?n:It(f);return xa(nn||f,function(Ot,hn){nn&&(hn=Ot,Ot=f[hn]),Ov(Q,hn,Oa(Ot,p,w,hn,f,V))}),Q}function P0e(f){var p=Mi(f);return function(w){return Iz(w,f,p)}}function Iz(f,p,w){var C=w.length;if(f==null)return!C;for(f=cr(f);C--;){var N=w[C],V=p[N],Q=f[N];if(Q===n&&!(N in f)||!V(Q))return!1}return!0}function Oz(f,p,w){if(typeof f!="function")throw new Ea(o);return Nv(function(){f.apply(n,w)},p)}function $v(f,p,w,C){var N=-1,V=ib,Q=!0,re=f.length,de=[],Pe=p.length;if(!re)return de;w&&(p=Pr(p,Uo(w))),C?(V=YT,Q=!1):p.length>=i&&(V=wv,Q=!1,p=new uh(p));e:for(;++N<re;){var Te=f[N],Ne=w==null?Te:w(Te);if(Te=C||Te!==0?Te:0,Q&&Ne===Ne){for(var Ye=Pe;Ye--;)if(p[Ye]===Ne)continue e;de.push(Te)}else V(p,Ne,C)||de.push(Te)}return de}var vf=Zz(Ql),$z=Zz(fk,!0);function T0e(f,p){var w=!0;return vf(f,function(C,N,V){return w=!!p(C,N,V),w}),w}function Sb(f,p,w){for(var C=-1,N=f.length;++C<N;){var V=f[C],Q=p(V);if(Q!=null&&(re===n?Q===Q&&!Wo(Q):w(Q,re)))var re=Q,de=V}return de}function k0e(f,p,w,C){var N=f.length;for(w=Zt(w),w<0&&(w=-w>N?0:N+w),C=C===n||C>N?N:Zt(C),C<0&&(C+=N),C=w>C?0:H5(C);w<C;)f[w++]=p;return f}function Cz(f,p){var w=[];return vf(f,function(C,N,V){p(C,N,V)&&w.push(C)}),w}function Ji(f,p,w,C,N){var V=-1,Q=f.length;for(w||(w=__e),N||(N=[]);++V<Q;){var re=f[V];p>0&&w(re)?p>1?Ji(re,p-1,w,C,N):mf(N,re):C||(N[N.length]=re)}return N}var ck=e5(),Pz=e5(!0);function Ql(f,p){return f&&ck(f,p,Mi)}function fk(f,p){return f&&Pz(f,p,Mi)}function xb(f,p){return pf(p,function(w){return tc(f[w])})}function fh(f,p){p=wf(p,f);for(var w=0,C=p.length;f!=null&&w<C;)f=f[Jl(p[w++])];return w&&w==C?f:n}function Tz(f,p,w){var C=p(f);return Wt(f)?C:mf(C,w(f))}function Bs(f){return f==null?f===n?Rt:He:ah&&ah in cr(f)?h_e(f):O_e(f)}function dk(f,p){return f>p}function A0e(f,p){return f!=null&&Yn.call(f,p)}function N0e(f,p){return f!=null&&p in cr(f)}function R0e(f,p,w){return f>=vs(p,w)&&f<Si(p,w)}function hk(f,p,w){for(var C=w?YT:ib,N=f[0].length,V=f.length,Q=V,re=Se(V),de=1/0,Pe=[];Q--;){var Te=f[Q];Q&&p&&(Te=Pr(Te,Uo(p))),de=vs(Te.length,de),re[Q]=!w&&(p||N>=120&&Te.length>=120)?new uh(Q&&Te):n}Te=f[0];var Ne=-1,Ye=re[0];e:for(;++Ne<N&&Pe.length<de;){var dt=Te[Ne],It=p?p(dt):dt;if(dt=w||dt!==0?dt:0,!(Ye?wv(Ye,It):C(Pe,It,w))){for(Q=V;--Q;){var nn=re[Q];if(!(nn?wv(nn,It):C(f[Q],It,w)))continue e}Ye&&Ye.push(It),Pe.push(dt)}}return Pe}function D0e(f,p,w,C){return Ql(f,function(N,V,Q){p(C,w(N),V,Q)}),C}function Cv(f,p,w){p=wf(p,f),f=y5(f,p);var C=f==null?f:f[Jl(Ca(p))];return C==null?n:Vo(C,f,w)}function kz(f){return Hr(f)&&Bs(f)==R}function M0e(f){return Hr(f)&&Bs(f)==Kn}function L0e(f){return Hr(f)&&Bs(f)==ge}function Pv(f,p,w,C,N){return f===p?!0:f==null||p==null||!Hr(f)&&!Hr(p)?f!==f&&p!==p:F0e(f,p,w,C,Pv,N)}function F0e(f,p,w,C,N,V){var Q=Wt(f),re=Wt(p),de=Q?Y:_s(f),Pe=re?Y:_s(p);de=de==R?Ae:de,Pe=Pe==R?Ae:Pe;var Te=de==Ae,Ne=Pe==Ae,Ye=de==Pe;if(Ye&&Sf(f)){if(!Sf(p))return!1;Q=!0,Te=!1}if(Ye&&!Te)return V||(V=new ml),Q||_m(f)?c5(f,p,w,C,N,V):f_e(f,p,de,w,C,N,V);if(!(w&g)){var dt=Te&&Yn.call(f,"__wrapped__"),It=Ne&&Yn.call(p,"__wrapped__");if(dt||It){var nn=dt?f.value():f,Ot=It?p.value():p;return V||(V=new ml),N(nn,Ot,w,C,V)}}return Ye?(V||(V=new ml),d_e(f,p,w,C,N,V)):!1}function j0e(f){return Hr(f)&&_s(f)==Ke}function pk(f,p,w,C){var N=w.length,V=N,Q=!C;if(f==null)return!V;for(f=cr(f);N--;){var re=w[N];if(Q&&re[2]?re[1]!==f[re[0]]:!(re[0]in f))return!1}for(;++N<V;){re=w[N];var de=re[0],Pe=f[de],Te=re[1];if(Q&&re[2]){if(Pe===n&&!(de in f))return!1}else{var Ne=new ml;if(C)var Ye=C(Pe,Te,de,f,p,Ne);if(!(Ye===n?Pv(Te,Pe,g|y,C,Ne):Ye))return!1}}return!0}function Az(f){if(!Mr(f)||b_e(f))return!1;var p=tc(f)?jve:Yt;return p.test(hh(f))}function B0e(f){return Hr(f)&&Bs(f)==We}function z0e(f){return Hr(f)&&_s(f)==Ve}function V0e(f){return Hr(f)&&Bb(f.length)&&!!vr[Bs(f)]}function Nz(f){return typeof f=="function"?f:f==null?lo:typeof f=="object"?Wt(f)?Mz(f[0],f[1]):Dz(f):tV(f)}function mk(f){if(!Av(f))return Wve(f);var p=[];for(var w in cr(f))Yn.call(f,w)&&w!="constructor"&&p.push(w);return p}function U0e(f){if(!Mr(f))return I_e(f);var p=Av(f),w=[];for(var C in f)C=="constructor"&&(p||!Yn.call(f,C))||w.push(C);return w}function gk(f,p){return f<p}function Rz(f,p){var w=-1,C=oo(f)?Se(f.length):[];return vf(f,function(N,V,Q){C[++w]=p(N,V,Q)}),C}function Dz(f){var p=kk(f);return p.length==1&&p[0][2]?m5(p[0][0],p[0][1]):function(w){return w===f||pk(w,f,p)}}function Mz(f,p){return Nk(f)&&p5(p)?m5(Jl(f),p):function(w){var C=Uk(w,f);return C===n&&C===p?Hk(w,f):Pv(p,C,g|y)}}function Eb(f,p,w,C,N){f!==p&&ck(p,function(V,Q){if(N||(N=new ml),Mr(V))H0e(f,p,Q,w,Eb,C,N);else{var re=C?C(Dk(f,Q),V,Q+"",f,p,N):n;re===n&&(re=V),lk(f,Q,re)}},ao)}function H0e(f,p,w,C,N,V,Q){var re=Dk(f,w),de=Dk(p,w),Pe=Q.get(de);if(Pe){lk(f,w,Pe);return}var Te=V?V(re,de,w+"",f,p,Q):n,Ne=Te===n;if(Ne){var Ye=Wt(de),dt=!Ye&&Sf(de),It=!Ye&&!dt&&_m(de);Te=de,Ye||dt||It?Wt(re)?Te=re:ti(re)?Te=so(re):dt?(Ne=!1,Te=Kz(de,!0)):It?(Ne=!1,Te=Yz(de,!0)):Te=[]:Rv(de)||ph(de)?(Te=re,ph(re)?Te=W5(re):(!Mr(re)||tc(re))&&(Te=h5(de))):Ne=!1}Ne&&(Q.set(de,Te),N(Te,de,C,V,Q),Q.delete(de)),lk(f,w,Te)}function Lz(f,p){var w=f.length;if(w)return p+=p<0?w:0,ec(p,w)?f[p]:n}function Fz(f,p,w){p.length?p=Pr(p,function(V){return Wt(V)?function(Q){return fh(Q,V.length===1?V[0]:V)}:V}):p=[lo];var C=-1;p=Pr(p,Uo(bt()));var N=Rz(f,function(V,Q,re){var de=Pr(p,function(Pe){return Pe(V)});return{criteria:de,index:++C,value:V}});return yve(N,function(V,Q){return r_e(V,Q,w)})}function W0e(f,p){return jz(f,p,function(w,C){return Hk(f,C)})}function jz(f,p,w){for(var C=-1,N=p.length,V={};++C<N;){var Q=p[C],re=fh(f,Q);w(re,Q)&&Tv(V,wf(Q,f),re)}return V}function q0e(f){return function(p){return fh(p,f)}}function yk(f,p,w,C){var N=C?gve:lm,V=-1,Q=p.length,re=f;for(f===p&&(p=so(p)),w&&(re=Pr(f,Uo(w)));++V<Q;)for(var de=0,Pe=p[V],Te=w?w(Pe):Pe;(de=N(re,Te,de,C))>-1;)re!==f&&pb.call(re,de,1),pb.call(f,de,1);return f}function Bz(f,p){for(var w=f?p.length:0,C=w-1;w--;){var N=p[w];if(w==C||N!==V){var V=N;ec(N)?pb.call(f,N,1):bk(f,N)}}return f}function vk(f,p){return f+yb(wz()*(p-f+1))}function G0e(f,p,w,C){for(var N=-1,V=Si(gb((p-f)/(w||1)),0),Q=Se(V);V--;)Q[C?V:++N]=f,f+=w;return Q}function _k(f,p){var w="";if(!f||p<1||p>Z)return w;do p%2&&(w+=f),p=yb(p/2),p&&(f+=f);while(p);return w}function ln(f,p){return Mk(g5(f,p,lo),f+"")}function K0e(f){return xz(wm(f))}function Y0e(f,p){var w=wm(f);return Rb(w,ch(p,0,w.length))}function Tv(f,p,w,C){if(!Mr(f))return f;p=wf(p,f);for(var N=-1,V=p.length,Q=V-1,re=f;re!=null&&++N<V;){var de=Jl(p[N]),Pe=w;if(de==="__proto__"||de==="constructor"||de==="prototype")return f;if(N!=Q){var Te=re[de];Pe=C?C(Te,de,re):n,Pe===n&&(Pe=Mr(Te)?Te:ec(p[N+1])?[]:{})}Ov(re,de,Pe),re=re[de]}return f}var zz=vb?function(f,p){return vb.set(f,p),f}:lo,Q0e=mb?function(f,p){return mb(f,"toString",{configurable:!0,enumerable:!1,value:qk(p),writable:!0})}:lo;function X0e(f){return Rb(wm(f))}function $a(f,p,w){var C=-1,N=f.length;p<0&&(p=-p>N?0:N+p),w=w>N?N:w,w<0&&(w+=N),N=p>w?0:w-p>>>0,p>>>=0;for(var V=Se(N);++C<N;)V[C]=f[C+p];return V}function J0e(f,p){var w;return vf(f,function(C,N,V){return w=p(C,N,V),!w}),!!w}function Ib(f,p,w){var C=0,N=f==null?C:f.length;if(typeof p=="number"&&p===p&&N<=K){for(;C<N;){var V=C+N>>>1,Q=f[V];Q!==null&&!Wo(Q)&&(w?Q<=p:Q<p)?C=V+1:N=V}return N}return wk(f,p,lo,w)}function wk(f,p,w,C){var N=0,V=f==null?0:f.length;if(V===0)return 0;p=w(p);for(var Q=p!==p,re=p===null,de=Wo(p),Pe=p===n;N<V;){var Te=yb((N+V)/2),Ne=w(f[Te]),Ye=Ne!==n,dt=Ne===null,It=Ne===Ne,nn=Wo(Ne);if(Q)var Ot=C||It;else Pe?Ot=It&&(C||Ye):re?Ot=It&&Ye&&(C||!dt):de?Ot=It&&Ye&&!dt&&(C||!nn):dt||nn?Ot=!1:Ot=C?Ne<=p:Ne<p;Ot?N=Te+1:V=Te}return vs(V,A)}function Vz(f,p){for(var w=-1,C=f.length,N=0,V=[];++w<C;){var Q=f[w],re=p?p(Q):Q;if(!w||!gl(re,de)){var de=re;V[N++]=Q===0?0:Q}}return V}function Uz(f){return typeof f=="number"?f:Wo(f)?X:+f}function Ho(f){if(typeof f=="string")return f;if(Wt(f))return Pr(f,Ho)+"";if(Wo(f))return bz?bz.call(f):"";var p=f+"";return p=="0"&&1/f==-pe?"-0":p}function _f(f,p,w){var C=-1,N=ib,V=f.length,Q=!0,re=[],de=re;if(w)Q=!1,N=YT;else if(V>=i){var Pe=p?null:u_e(f);if(Pe)return ob(Pe);Q=!1,N=wv,de=new uh}else de=p?[]:re;e:for(;++C<V;){var Te=f[C],Ne=p?p(Te):Te;if(Te=w||Te!==0?Te:0,Q&&Ne===Ne){for(var Ye=de.length;Ye--;)if(de[Ye]===Ne)continue e;p&&de.push(Ne),re.push(Te)}else N(de,Ne,w)||(de!==re&&de.push(Ne),re.push(Te))}return re}function bk(f,p){return p=wf(p,f),f=y5(f,p),f==null||delete f[Jl(Ca(p))]}function Hz(f,p,w,C){return Tv(f,p,w(fh(f,p)),C)}function Ob(f,p,w,C){for(var N=f.length,V=C?N:-1;(C?V--:++V<N)&&p(f[V],V,f););return w?$a(f,C?0:V,C?V+1:N):$a(f,C?V+1:0,C?N:V)}function Wz(f,p){var w=f;return w instanceof pn&&(w=w.value()),QT(p,function(C,N){return N.func.apply(N.thisArg,mf([C],N.args))},w)}function Sk(f,p,w){var C=f.length;if(C<2)return C?_f(f[0]):[];for(var N=-1,V=Se(C);++N<C;)for(var Q=f[N],re=-1;++re<C;)re!=N&&(V[N]=$v(V[N]||Q,f[re],p,w));return _f(Ji(V,1),p,w)}function qz(f,p,w){for(var C=-1,N=f.length,V=p.length,Q={};++C<N;){var re=C<V?p[C]:n;w(Q,f[C],re)}return Q}function xk(f){return ti(f)?f:[]}function Ek(f){return typeof f=="function"?f:lo}function wf(f,p){return Wt(f)?f:Nk(f,p)?[f]:b5(Wn(f))}var Z0e=ln;function bf(f,p,w){var C=f.length;return w=w===n?C:w,!p&&w>=C?f:$a(f,p,w)}var Gz=Bve||function(f){return Xi.clearTimeout(f)};function Kz(f,p){if(p)return f.slice();var w=f.length,C=mz?mz(w):new f.constructor(w);return f.copy(C),C}function Ik(f){var p=new f.constructor(f.byteLength);return new db(p).set(new db(f)),p}function e_e(f,p){var w=p?Ik(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.byteLength)}function t_e(f){var p=new f.constructor(f.source,Ct.exec(f));return p.lastIndex=f.lastIndex,p}function n_e(f){return Iv?cr(Iv.call(f)):{}}function Yz(f,p){var w=p?Ik(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.length)}function Qz(f,p){if(f!==p){var w=f!==n,C=f===null,N=f===f,V=Wo(f),Q=p!==n,re=p===null,de=p===p,Pe=Wo(p);if(!re&&!Pe&&!V&&f>p||V&&Q&&de&&!re&&!Pe||C&&Q&&de||!w&&de||!N)return 1;if(!C&&!V&&!Pe&&f<p||Pe&&w&&N&&!C&&!V||re&&w&&N||!Q&&N||!de)return-1}return 0}function r_e(f,p,w){for(var C=-1,N=f.criteria,V=p.criteria,Q=N.length,re=w.length;++C<Q;){var de=Qz(N[C],V[C]);if(de){if(C>=re)return de;var Pe=w[C];return de*(Pe=="desc"?-1:1)}}return f.index-p.index}function Xz(f,p,w,C){for(var N=-1,V=f.length,Q=w.length,re=-1,de=p.length,Pe=Si(V-Q,0),Te=Se(de+Pe),Ne=!C;++re<de;)Te[re]=p[re];for(;++N<Q;)(Ne||N<V)&&(Te[w[N]]=f[N]);for(;Pe--;)Te[re++]=f[N++];return Te}function Jz(f,p,w,C){for(var N=-1,V=f.length,Q=-1,re=w.length,de=-1,Pe=p.length,Te=Si(V-re,0),Ne=Se(Te+Pe),Ye=!C;++N<Te;)Ne[N]=f[N];for(var dt=N;++de<Pe;)Ne[dt+de]=p[de];for(;++Q<re;)(Ye||N<V)&&(Ne[dt+w[Q]]=f[N++]);return Ne}function so(f,p){var w=-1,C=f.length;for(p||(p=Se(C));++w<C;)p[w]=f[w];return p}function Xl(f,p,w,C){var N=!w;w||(w={});for(var V=-1,Q=p.length;++V<Q;){var re=p[V],de=C?C(w[re],f[re],re,w,f):n;de===n&&(de=f[re]),N?Xu(w,re,de):Ov(w,re,de)}return w}function i_e(f,p){return Xl(f,Ak(f),p)}function s_e(f,p){return Xl(f,f5(f),p)}function $b(f,p){return function(w,C){var N=Wt(w)?cve:$0e,V=p?p():{};return N(w,f,bt(C,2),V)}}function gm(f){return ln(function(p,w){var C=-1,N=w.length,V=N>1?w[N-1]:n,Q=N>2?w[2]:n;for(V=f.length>3&&typeof V=="function"?(N--,V):n,Q&&zs(w[0],w[1],Q)&&(V=N<3?n:V,N=1),p=cr(p);++C<N;){var re=w[C];re&&f(p,re,C,V)}return p})}function Zz(f,p){return function(w,C){if(w==null)return w;if(!oo(w))return f(w,C);for(var N=w.length,V=p?N:-1,Q=cr(w);(p?V--:++V<N)&&C(Q[V],V,Q)!==!1;);return w}}function e5(f){return function(p,w,C){for(var N=-1,V=cr(p),Q=C(p),re=Q.length;re--;){var de=Q[f?re:++N];if(w(V[de],de,V)===!1)break}return p}}function o_e(f,p,w){var C=p&_,N=kv(f);function V(){var Q=this&&this!==Xi&&this instanceof V?N:f;return Q.apply(C?w:this,arguments)}return V}function t5(f){return function(p){p=Wn(p);var w=um(p)?pl(p):n,C=w?w[0]:p.charAt(0),N=w?bf(w,1).join(""):p.slice(1);return C[f]()+N}}function ym(f){return function(p){return QT(Z5(J5(p).replace(Qye,"")),f,"")}}function kv(f){return function(){var p=arguments;switch(p.length){case 0:return new f;case 1:return new f(p[0]);case 2:return new f(p[0],p[1]);case 3:return new f(p[0],p[1],p[2]);case 4:return new f(p[0],p[1],p[2],p[3]);case 5:return new f(p[0],p[1],p[2],p[3],p[4]);case 6:return new f(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new f(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var w=mm(f.prototype),C=f.apply(w,p);return Mr(C)?C:w}}function a_e(f,p,w){var C=kv(f);function N(){for(var V=arguments.length,Q=Se(V),re=V,de=vm(N);re--;)Q[re]=arguments[re];var Pe=V<3&&Q[0]!==de&&Q[V-1]!==de?[]:gf(Q,de);if(V-=Pe.length,V<w)return o5(f,p,Cb,N.placeholder,n,Q,Pe,n,n,w-V);var Te=this&&this!==Xi&&this instanceof N?C:f;return Vo(Te,this,Q)}return N}function n5(f){return function(p,w,C){var N=cr(p);if(!oo(p)){var V=bt(w,3);p=Mi(p),w=function(re){return V(N[re],re,N)}}var Q=f(p,w,C);return Q>-1?N[V?p[Q]:Q]:n}}function r5(f){return Zu(function(p){var w=p.length,C=w,N=Ia.prototype.thru;for(f&&p.reverse();C--;){var V=p[C];if(typeof V!="function")throw new Ea(o);if(N&&!Q&&Ab(V)=="wrapper")var Q=new Ia([],!0)}for(C=Q?C:w;++C<w;){V=p[C];var re=Ab(V),de=re=="wrapper"?Tk(V):n;de&&Rk(de[0])&&de[1]==(I|S|$|T)&&!de[4].length&&de[9]==1?Q=Q[Ab(de[0])].apply(Q,de[3]):Q=V.length==1&&Rk(V)?Q[re]():Q.thru(V)}return function(){var Pe=arguments,Te=Pe[0];if(Q&&Pe.length==1&&Wt(Te))return Q.plant(Te).value();for(var Ne=0,Ye=w?p[Ne].apply(this,Pe):Te;++Ne<w;)Ye=p[Ne].call(this,Ye);return Ye}})}function Cb(f,p,w,C,N,V,Q,re,de,Pe){var Te=p&I,Ne=p&_,Ye=p&v,dt=p&(S|x),It=p&M,nn=Ye?n:kv(f);function Ot(){for(var hn=arguments.length,bn=Se(hn),qo=hn;qo--;)bn[qo]=arguments[qo];if(dt)var Vs=vm(Ot),Go=_ve(bn,Vs);if(C&&(bn=Xz(bn,C,N,dt)),V&&(bn=Jz(bn,V,Q,dt)),hn-=Go,dt&&hn<Pe){var ni=gf(bn,Vs);return o5(f,p,Cb,Ot.placeholder,w,bn,ni,re,de,Pe-hn)}var yl=Ne?w:this,rc=Ye?yl[f]:f;return hn=bn.length,re?bn=$_e(bn,re):It&&hn>1&&bn.reverse(),Te&&de<hn&&(bn.length=de),this&&this!==Xi&&this instanceof Ot&&(rc=nn||kv(rc)),rc.apply(yl,bn)}return Ot}function i5(f,p){return function(w,C){return D0e(w,f,p(C),{})}}function Pb(f,p){return function(w,C){var N;if(w===n&&C===n)return p;if(w!==n&&(N=w),C!==n){if(N===n)return C;typeof w=="string"||typeof C=="string"?(w=Ho(w),C=Ho(C)):(w=Uz(w),C=Uz(C)),N=f(w,C)}return N}}function Ok(f){return Zu(function(p){return p=Pr(p,Uo(bt())),ln(function(w){var C=this;return f(p,function(N){return Vo(N,C,w)})})})}function Tb(f,p){p=p===n?" ":Ho(p);var w=p.length;if(w<2)return w?_k(p,f):p;var C=_k(p,gb(f/cm(p)));return um(p)?bf(pl(C),0,f).join(""):C.slice(0,f)}function l_e(f,p,w,C){var N=p&_,V=kv(f);function Q(){for(var re=-1,de=arguments.length,Pe=-1,Te=C.length,Ne=Se(Te+de),Ye=this&&this!==Xi&&this instanceof Q?V:f;++Pe<Te;)Ne[Pe]=C[Pe];for(;de--;)Ne[Pe++]=arguments[++re];return Vo(Ye,N?w:this,Ne)}return Q}function s5(f){return function(p,w,C){return C&&typeof C!="number"&&zs(p,w,C)&&(w=C=n),p=nc(p),w===n?(w=p,p=0):w=nc(w),C=C===n?p<w?1:-1:nc(C),G0e(p,w,C,f)}}function kb(f){return function(p,w){return typeof p=="string"&&typeof w=="string"||(p=Pa(p),w=Pa(w)),f(p,w)}}function o5(f,p,w,C,N,V,Q,re,de,Pe){var Te=p&S,Ne=Te?Q:n,Ye=Te?n:Q,dt=Te?V:n,It=Te?n:V;p|=Te?$:E,p&=~(Te?E:$),p&b||(p&=~(_|v));var nn=[f,p,N,dt,Ne,It,Ye,re,de,Pe],Ot=w.apply(n,nn);return Rk(f)&&v5(Ot,nn),Ot.placeholder=C,_5(Ot,f,p)}function $k(f){var p=bi[f];return function(w,C){if(w=Pa(w),C=C==null?0:vs(Zt(C),292),C&&_z(w)){var N=(Wn(w)+"e").split("e"),V=p(N[0]+"e"+(+N[1]+C));return N=(Wn(V)+"e").split("e"),+(N[0]+"e"+(+N[1]-C))}return p(w)}}var u_e=hm&&1/ob(new hm([,-0]))[1]==pe?function(f){return new hm(f)}:Yk;function a5(f){return function(p){var w=_s(p);return w==Ke?rk(p):w==Ve?Ove(p):vve(p,f(p))}}function Ju(f,p,w,C,N,V,Q,re){var de=p&v;if(!de&&typeof f!="function")throw new Ea(o);var Pe=C?C.length:0;if(Pe||(p&=~($|E),C=N=n),Q=Q===n?Q:Si(Zt(Q),0),re=re===n?re:Zt(re),Pe-=N?N.length:0,p&E){var Te=C,Ne=N;C=N=n}var Ye=de?n:Tk(f),dt=[f,p,w,C,N,Te,Ne,V,Q,re];if(Ye&&E_e(dt,Ye),f=dt[0],p=dt[1],w=dt[2],C=dt[3],N=dt[4],re=dt[9]=dt[9]===n?de?0:f.length:Si(dt[9]-Pe,0),!re&&p&(S|x)&&(p&=~(S|x)),!p||p==_)var It=o_e(f,p,w);else p==S||p==x?It=a_e(f,p,re):(p==$||p==(_|$))&&!N.length?It=l_e(f,p,w,C):It=Cb.apply(n,dt);var nn=Ye?zz:v5;return _5(nn(It,dt),f,p)}function l5(f,p,w,C){return f===n||gl(f,dm[w])&&!Yn.call(C,w)?p:f}function u5(f,p,w,C,N,V){return Mr(f)&&Mr(p)&&(V.set(p,f),Eb(f,p,n,u5,V),V.delete(p)),f}function c_e(f){return Rv(f)?n:f}function c5(f,p,w,C,N,V){var Q=w&g,re=f.length,de=p.length;if(re!=de&&!(Q&&de>re))return!1;var Pe=V.get(f),Te=V.get(p);if(Pe&&Te)return Pe==p&&Te==f;var Ne=-1,Ye=!0,dt=w&y?new uh:n;for(V.set(f,p),V.set(p,f);++Ne<re;){var It=f[Ne],nn=p[Ne];if(C)var Ot=Q?C(nn,It,Ne,p,f,V):C(It,nn,Ne,f,p,V);if(Ot!==n){if(Ot)continue;Ye=!1;break}if(dt){if(!XT(p,function(hn,bn){if(!wv(dt,bn)&&(It===hn||N(It,hn,w,C,V)))return dt.push(bn)})){Ye=!1;break}}else if(!(It===nn||N(It,nn,w,C,V))){Ye=!1;break}}return V.delete(f),V.delete(p),Ye}function f_e(f,p,w,C,N,V,Q){switch(w){case me:if(f.byteLength!=p.byteLength||f.byteOffset!=p.byteOffset)return!1;f=f.buffer,p=p.buffer;case Kn:return!(f.byteLength!=p.byteLength||!V(new db(f),new db(p)));case he:case ge:case Je:return gl(+f,+p);case ke:return f.name==p.name&&f.message==p.message;case We:case Tt:return f==p+"";case Ke:var re=rk;case Ve:var de=C&g;if(re||(re=ob),f.size!=p.size&&!de)return!1;var Pe=Q.get(f);if(Pe)return Pe==p;C|=y,Q.set(f,p);var Te=c5(re(f),re(p),C,N,V,Q);return Q.delete(f),Te;case st:if(Iv)return Iv.call(f)==Iv.call(p)}return!1}function d_e(f,p,w,C,N,V){var Q=w&g,re=Ck(f),de=re.length,Pe=Ck(p),Te=Pe.length;if(de!=Te&&!Q)return!1;for(var Ne=de;Ne--;){var Ye=re[Ne];if(!(Q?Ye in p:Yn.call(p,Ye)))return!1}var dt=V.get(f),It=V.get(p);if(dt&&It)return dt==p&&It==f;var nn=!0;V.set(f,p),V.set(p,f);for(var Ot=Q;++Ne<de;){Ye=re[Ne];var hn=f[Ye],bn=p[Ye];if(C)var qo=Q?C(bn,hn,Ye,p,f,V):C(hn,bn,Ye,f,p,V);if(!(qo===n?hn===bn||N(hn,bn,w,C,V):qo)){nn=!1;break}Ot||(Ot=Ye=="constructor")}if(nn&&!Ot){var Vs=f.constructor,Go=p.constructor;Vs!=Go&&"constructor"in f&&"constructor"in p&&!(typeof Vs=="function"&&Vs instanceof Vs&&typeof Go=="function"&&Go instanceof Go)&&(nn=!1)}return V.delete(f),V.delete(p),nn}function Zu(f){return Mk(g5(f,n,I5),f+"")}function Ck(f){return Tz(f,Mi,Ak)}function Pk(f){return Tz(f,ao,f5)}var Tk=vb?function(f){return vb.get(f)}:Yk;function Ab(f){for(var p=f.name+"",w=pm[p],C=Yn.call(pm,p)?w.length:0;C--;){var N=w[C],V=N.func;if(V==null||V==f)return N.name}return p}function vm(f){var p=Yn.call(L,"placeholder")?L:f;return p.placeholder}function bt(){var f=L.iteratee||Gk;return f=f===Gk?Nz:f,arguments.length?f(arguments[0],arguments[1]):f}function Nb(f,p){var w=f.__data__;return w_e(p)?w[typeof p=="string"?"string":"hash"]:w.map}function kk(f){for(var p=Mi(f),w=p.length;w--;){var C=p[w],N=f[C];p[w]=[C,N,p5(N)]}return p}function dh(f,p){var w=xve(f,p);return Az(w)?w:n}function h_e(f){var p=Yn.call(f,ah),w=f[ah];try{f[ah]=n;var C=!0}catch{}var N=cb.call(f);return C&&(p?f[ah]=w:delete f[ah]),N}var Ak=sk?function(f){return f==null?[]:(f=cr(f),pf(sk(f),function(p){return yz.call(f,p)}))}:Qk,f5=sk?function(f){for(var p=[];f;)mf(p,Ak(f)),f=hb(f);return p}:Qk,_s=Bs;(ok&&_s(new ok(new ArrayBuffer(1)))!=me||Sv&&_s(new Sv)!=Ke||ak&&_s(ak.resolve())!=Xe||hm&&_s(new hm)!=Ve||xv&&_s(new xv)!=on)&&(_s=function(f){var p=Bs(f),w=p==Ae?f.constructor:n,C=w?hh(w):"";if(C)switch(C){case Yve:return me;case Qve:return Ke;case Xve:return Xe;case Jve:return Ve;case Zve:return on}return p});function p_e(f,p,w){for(var C=-1,N=w.length;++C<N;){var V=w[C],Q=V.size;switch(V.type){case"drop":f+=Q;break;case"dropRight":p-=Q;break;case"take":p=vs(p,f+Q);break;case"takeRight":f=Si(f,p-Q);break}}return{start:f,end:p}}function m_e(f){var p=f.match(ne);return p?p[1].split(we):[]}function d5(f,p,w){p=wf(p,f);for(var C=-1,N=p.length,V=!1;++C<N;){var Q=Jl(p[C]);if(!(V=f!=null&&w(f,Q)))break;f=f[Q]}return V||++C!=N?V:(N=f==null?0:f.length,!!N&&Bb(N)&&ec(Q,N)&&(Wt(f)||ph(f)))}function g_e(f){var p=f.length,w=new f.constructor(p);return p&&typeof f[0]=="string"&&Yn.call(f,"index")&&(w.index=f.index,w.input=f.input),w}function h5(f){return typeof f.constructor=="function"&&!Av(f)?mm(hb(f)):{}}function y_e(f,p,w){var C=f.constructor;switch(p){case Kn:return Ik(f);case he:case ge:return new C(+f);case me:return e_e(f,w);case Ie:case qe:case mt:case ze:case gt:case Ge:case ft:case ur:case dn:return Yz(f,w);case Ke:return new C;case Je:case Tt:return new C(f);case We:return t_e(f);case Ve:return new C;case st:return n_e(f)}}function v_e(f,p){var w=p.length;if(!w)return f;var C=w-1;return p[C]=(w>1?"& ":"")+p[C],p=p.join(w>2?", ":" "),f.replace(G,`{
/* [wrapped with `+p+`] */
`)}function __e(f){return Wt(f)||ph(f)||!!(vz&&f&&f[vz])}function ec(f,p){var w=typeof f;return p=p??Z,!!p&&(w=="number"||w!="symbol"&&Et.test(f))&&f>-1&&f%1==0&&f<p}function zs(f,p,w){if(!Mr(w))return!1;var C=typeof p;return(C=="number"?oo(w)&&ec(p,w.length):C=="string"&&p in w)?gl(w[p],f):!1}function Nk(f,p){if(Wt(f))return!1;var w=typeof f;return w=="number"||w=="symbol"||w=="boolean"||f==null||Wo(f)?!0:Ri.test(f)||!wn.test(f)||p!=null&&f in cr(p)}function w_e(f){var p=typeof f;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?f!=="__proto__":f===null}function Rk(f){var p=Ab(f),w=L[p];if(typeof w!="function"||!(p in pn.prototype))return!1;if(f===w)return!0;var C=Tk(w);return!!C&&f===C[0]}function b_e(f){return!!pz&&pz in f}var S_e=lb?tc:Xk;function Av(f){var p=f&&f.constructor,w=typeof p=="function"&&p.prototype||dm;return f===w}function p5(f){return f===f&&!Mr(f)}function m5(f,p){return function(w){return w==null?!1:w[f]===p&&(p!==n||f in cr(w))}}function x_e(f){var p=Fb(f,function(C){return w.size===u&&w.clear(),C}),w=p.cache;return p}function E_e(f,p){var w=f[1],C=p[1],N=w|C,V=N<(_|v|I),Q=C==I&&w==S||C==I&&w==T&&f[7].length<=p[8]||C==(I|T)&&p[7].length<=p[8]&&w==S;if(!(V||Q))return f;C&_&&(f[2]=p[2],N|=w&_?0:b);var re=p[3];if(re){var de=f[3];f[3]=de?Xz(de,re,p[4]):re,f[4]=de?gf(f[3],c):p[4]}return re=p[5],re&&(de=f[5],f[5]=de?Jz(de,re,p[6]):re,f[6]=de?gf(f[5],c):p[6]),re=p[7],re&&(f[7]=re),C&I&&(f[8]=f[8]==null?p[8]:vs(f[8],p[8])),f[9]==null&&(f[9]=p[9]),f[0]=p[0],f[1]=N,f}function I_e(f){var p=[];if(f!=null)for(var w in cr(f))p.push(w);return p}function O_e(f){return cb.call(f)}function g5(f,p,w){return p=Si(p===n?f.length-1:p,0),function(){for(var C=arguments,N=-1,V=Si(C.length-p,0),Q=Se(V);++N<V;)Q[N]=C[p+N];N=-1;for(var re=Se(p+1);++N<p;)re[N]=C[N];return re[p]=w(Q),Vo(f,this,re)}}function y5(f,p){return p.length<2?f:fh(f,$a(p,0,-1))}function $_e(f,p){for(var w=f.length,C=vs(p.length,w),N=so(f);C--;){var V=p[C];f[C]=ec(V,w)?N[V]:n}return f}function Dk(f,p){if(!(p==="constructor"&&typeof f[p]=="function")&&p!="__proto__")return f[p]}var v5=w5(zz),Nv=Vve||function(f,p){return Xi.setTimeout(f,p)},Mk=w5(Q0e);function _5(f,p,w){var C=p+"";return Mk(f,v_e(C,C_e(m_e(C),w)))}function w5(f){var p=0,w=0;return function(){var C=qve(),N=q-(C-w);if(w=C,N>0){if(++p>=H)return arguments[0]}else p=0;return f.apply(n,arguments)}}function Rb(f,p){var w=-1,C=f.length,N=C-1;for(p=p===n?C:p;++w<p;){var V=vk(w,N),Q=f[V];f[V]=f[w],f[w]=Q}return f.length=p,f}var b5=x_e(function(f){var p=[];return f.charCodeAt(0)===46&&p.push(""),f.replace(ro,function(w,C,N,V){p.push(N?V.replace(Ce,"$1"):C||w)}),p});function Jl(f){if(typeof f=="string"||Wo(f))return f;var p=f+"";return p=="0"&&1/f==-pe?"-0":p}function hh(f){if(f!=null){try{return ub.call(f)}catch{}try{return f+""}catch{}}return""}function C_e(f,p){return xa(D,function(w){var C="_."+w[0];p&w[1]&&!ib(f,C)&&f.push(C)}),f.sort()}function S5(f){if(f instanceof pn)return f.clone();var p=new Ia(f.__wrapped__,f.__chain__);return p.__actions__=so(f.__actions__),p.__index__=f.__index__,p.__values__=f.__values__,p}function P_e(f,p,w){(w?zs(f,p,w):p===n)?p=1:p=Si(Zt(p),0);var C=f==null?0:f.length;if(!C||p<1)return[];for(var N=0,V=0,Q=Se(gb(C/p));N<C;)Q[V++]=$a(f,N,N+=p);return Q}function T_e(f){for(var p=-1,w=f==null?0:f.length,C=0,N=[];++p<w;){var V=f[p];V&&(N[C++]=V)}return N}function k_e(){var f=arguments.length;if(!f)return[];for(var p=Se(f-1),w=arguments[0],C=f;C--;)p[C-1]=arguments[C];return mf(Wt(w)?so(w):[w],Ji(p,1))}var A_e=ln(function(f,p){return ti(f)?$v(f,Ji(p,1,ti,!0)):[]}),N_e=ln(function(f,p){var w=Ca(p);return ti(w)&&(w=n),ti(f)?$v(f,Ji(p,1,ti,!0),bt(w,2)):[]}),R_e=ln(function(f,p){var w=Ca(p);return ti(w)&&(w=n),ti(f)?$v(f,Ji(p,1,ti,!0),n,w):[]});function D_e(f,p,w){var C=f==null?0:f.length;return C?(p=w||p===n?1:Zt(p),$a(f,p<0?0:p,C)):[]}function M_e(f,p,w){var C=f==null?0:f.length;return C?(p=w||p===n?1:Zt(p),p=C-p,$a(f,0,p<0?0:p)):[]}function L_e(f,p){return f&&f.length?Ob(f,bt(p,3),!0,!0):[]}function F_e(f,p){return f&&f.length?Ob(f,bt(p,3),!0):[]}function j_e(f,p,w,C){var N=f==null?0:f.length;return N?(w&&typeof w!="number"&&zs(f,p,w)&&(w=0,C=N),k0e(f,p,w,C)):[]}function x5(f,p,w){var C=f==null?0:f.length;if(!C)return-1;var N=w==null?0:Zt(w);return N<0&&(N=Si(C+N,0)),sb(f,bt(p,3),N)}function E5(f,p,w){var C=f==null?0:f.length;if(!C)return-1;var N=C-1;return w!==n&&(N=Zt(w),N=w<0?Si(C+N,0):vs(N,C-1)),sb(f,bt(p,3),N,!0)}function I5(f){var p=f==null?0:f.length;return p?Ji(f,1):[]}function B_e(f){var p=f==null?0:f.length;return p?Ji(f,pe):[]}function z_e(f,p){var w=f==null?0:f.length;return w?(p=p===n?1:Zt(p),Ji(f,p)):[]}function V_e(f){for(var p=-1,w=f==null?0:f.length,C={};++p<w;){var N=f[p];C[N[0]]=N[1]}return C}function O5(f){return f&&f.length?f[0]:n}function U_e(f,p,w){var C=f==null?0:f.length;if(!C)return-1;var N=w==null?0:Zt(w);return N<0&&(N=Si(C+N,0)),lm(f,p,N)}function H_e(f){var p=f==null?0:f.length;return p?$a(f,0,-1):[]}var W_e=ln(function(f){var p=Pr(f,xk);return p.length&&p[0]===f[0]?hk(p):[]}),q_e=ln(function(f){var p=Ca(f),w=Pr(f,xk);return p===Ca(w)?p=n:w.pop(),w.length&&w[0]===f[0]?hk(w,bt(p,2)):[]}),G_e=ln(function(f){var p=Ca(f),w=Pr(f,xk);return p=typeof p=="function"?p:n,p&&w.pop(),w.length&&w[0]===f[0]?hk(w,n,p):[]});function K_e(f,p){return f==null?"":Hve.call(f,p)}function Ca(f){var p=f==null?0:f.length;return p?f[p-1]:n}function Y_e(f,p,w){var C=f==null?0:f.length;if(!C)return-1;var N=C;return w!==n&&(N=Zt(w),N=N<0?Si(C+N,0):vs(N,C-1)),p===p?Cve(f,p,N):sb(f,oz,N,!0)}function Q_e(f,p){return f&&f.length?Lz(f,Zt(p)):n}var X_e=ln($5);function $5(f,p){return f&&f.length&&p&&p.length?yk(f,p):f}function J_e(f,p,w){return f&&f.length&&p&&p.length?yk(f,p,bt(w,2)):f}function Z_e(f,p,w){return f&&f.length&&p&&p.length?yk(f,p,n,w):f}var ewe=Zu(function(f,p){var w=f==null?0:f.length,C=uk(f,p);return Bz(f,Pr(p,function(N){return ec(N,w)?+N:N}).sort(Qz)),C});function twe(f,p){var w=[];if(!(f&&f.length))return w;var C=-1,N=[],V=f.length;for(p=bt(p,3);++C<V;){var Q=f[C];p(Q,C,f)&&(w.push(Q),N.push(C))}return Bz(f,N),w}function Lk(f){return f==null?f:Kve.call(f)}function nwe(f,p,w){var C=f==null?0:f.length;return C?(w&&typeof w!="number"&&zs(f,p,w)?(p=0,w=C):(p=p==null?0:Zt(p),w=w===n?C:Zt(w)),$a(f,p,w)):[]}function rwe(f,p){return Ib(f,p)}function iwe(f,p,w){return wk(f,p,bt(w,2))}function swe(f,p){var w=f==null?0:f.length;if(w){var C=Ib(f,p);if(C<w&&gl(f[C],p))return C}return-1}function owe(f,p){return Ib(f,p,!0)}function awe(f,p,w){return wk(f,p,bt(w,2),!0)}function lwe(f,p){var w=f==null?0:f.length;if(w){var C=Ib(f,p,!0)-1;if(gl(f[C],p))return C}return-1}function uwe(f){return f&&f.length?Vz(f):[]}function cwe(f,p){return f&&f.length?Vz(f,bt(p,2)):[]}function fwe(f){var p=f==null?0:f.length;return p?$a(f,1,p):[]}function dwe(f,p,w){return f&&f.length?(p=w||p===n?1:Zt(p),$a(f,0,p<0?0:p)):[]}function hwe(f,p,w){var C=f==null?0:f.length;return C?(p=w||p===n?1:Zt(p),p=C-p,$a(f,p<0?0:p,C)):[]}function pwe(f,p){return f&&f.length?Ob(f,bt(p,3),!1,!0):[]}function mwe(f,p){return f&&f.length?Ob(f,bt(p,3)):[]}var gwe=ln(function(f){return _f(Ji(f,1,ti,!0))}),ywe=ln(function(f){var p=Ca(f);return ti(p)&&(p=n),_f(Ji(f,1,ti,!0),bt(p,2))}),vwe=ln(function(f){var p=Ca(f);return p=typeof p=="function"?p:n,_f(Ji(f,1,ti,!0),n,p)});function _we(f){return f&&f.length?_f(f):[]}function wwe(f,p){return f&&f.length?_f(f,bt(p,2)):[]}function bwe(f,p){return p=typeof p=="function"?p:n,f&&f.length?_f(f,n,p):[]}function Fk(f){if(!(f&&f.length))return[];var p=0;return f=pf(f,function(w){if(ti(w))return p=Si(w.length,p),!0}),tk(p,function(w){return Pr(f,JT(w))})}function C5(f,p){if(!(f&&f.length))return[];var w=Fk(f);return p==null?w:Pr(w,function(C){return Vo(p,n,C)})}var Swe=ln(function(f,p){return ti(f)?$v(f,p):[]}),xwe=ln(function(f){return Sk(pf(f,ti))}),Ewe=ln(function(f){var p=Ca(f);return ti(p)&&(p=n),Sk(pf(f,ti),bt(p,2))}),Iwe=ln(function(f){var p=Ca(f);return p=typeof p=="function"?p:n,Sk(pf(f,ti),n,p)}),Owe=ln(Fk);function $we(f,p){return qz(f||[],p||[],Ov)}function Cwe(f,p){return qz(f||[],p||[],Tv)}var Pwe=ln(function(f){var p=f.length,w=p>1?f[p-1]:n;return w=typeof w=="function"?(f.pop(),w):n,C5(f,w)});function P5(f){var p=L(f);return p.__chain__=!0,p}function Twe(f,p){return p(f),f}function Db(f,p){return p(f)}var kwe=Zu(function(f){var p=f.length,w=p?f[0]:0,C=this.__wrapped__,N=function(V){return uk(V,f)};return p>1||this.__actions__.length||!(C instanceof pn)||!ec(w)?this.thru(N):(C=C.slice(w,+w+(p?1:0)),C.__actions__.push({func:Db,args:[N],thisArg:n}),new Ia(C,this.__chain__).thru(function(V){return p&&!V.length&&V.push(n),V}))});function Awe(){return P5(this)}function Nwe(){return new Ia(this.value(),this.__chain__)}function Rwe(){this.__values__===n&&(this.__values__=U5(this.value()));var f=this.__index__>=this.__values__.length,p=f?n:this.__values__[this.__index__++];return{done:f,value:p}}function Dwe(){return this}function Mwe(f){for(var p,w=this;w instanceof wb;){var C=S5(w);C.__index__=0,C.__values__=n,p?N.__wrapped__=C:p=C;var N=C;w=w.__wrapped__}return N.__wrapped__=f,p}function Lwe(){var f=this.__wrapped__;if(f instanceof pn){var p=f;return this.__actions__.length&&(p=new pn(this)),p=p.reverse(),p.__actions__.push({func:Db,args:[Lk],thisArg:n}),new Ia(p,this.__chain__)}return this.thru(Lk)}function Fwe(){return Wz(this.__wrapped__,this.__actions__)}var jwe=$b(function(f,p,w){Yn.call(f,w)?++f[w]:Xu(f,w,1)});function Bwe(f,p,w){var C=Wt(f)?iz:T0e;return w&&zs(f,p,w)&&(p=n),C(f,bt(p,3))}function zwe(f,p){var w=Wt(f)?pf:Cz;return w(f,bt(p,3))}var Vwe=n5(x5),Uwe=n5(E5);function Hwe(f,p){return Ji(Mb(f,p),1)}function Wwe(f,p){return Ji(Mb(f,p),pe)}function qwe(f,p,w){return w=w===n?1:Zt(w),Ji(Mb(f,p),w)}function T5(f,p){var w=Wt(f)?xa:vf;return w(f,bt(p,3))}function k5(f,p){var w=Wt(f)?fve:$z;return w(f,bt(p,3))}var Gwe=$b(function(f,p,w){Yn.call(f,w)?f[w].push(p):Xu(f,w,[p])});function Kwe(f,p,w,C){f=oo(f)?f:wm(f),w=w&&!C?Zt(w):0;var N=f.length;return w<0&&(w=Si(N+w,0)),zb(f)?w<=N&&f.indexOf(p,w)>-1:!!N&&lm(f,p,w)>-1}var Ywe=ln(function(f,p,w){var C=-1,N=typeof p=="function",V=oo(f)?Se(f.length):[];return vf(f,function(Q){V[++C]=N?Vo(p,Q,w):Cv(Q,p,w)}),V}),Qwe=$b(function(f,p,w){Xu(f,w,p)});function Mb(f,p){var w=Wt(f)?Pr:Rz;return w(f,bt(p,3))}function Xwe(f,p,w,C){return f==null?[]:(Wt(p)||(p=p==null?[]:[p]),w=C?n:w,Wt(w)||(w=w==null?[]:[w]),Fz(f,p,w))}var Jwe=$b(function(f,p,w){f[w?0:1].push(p)},function(){return[[],[]]});function Zwe(f,p,w){var C=Wt(f)?QT:lz,N=arguments.length<3;return C(f,bt(p,4),w,N,vf)}function e1e(f,p,w){var C=Wt(f)?dve:lz,N=arguments.length<3;return C(f,bt(p,4),w,N,$z)}function t1e(f,p){var w=Wt(f)?pf:Cz;return w(f,jb(bt(p,3)))}function n1e(f){var p=Wt(f)?xz:K0e;return p(f)}function r1e(f,p,w){(w?zs(f,p,w):p===n)?p=1:p=Zt(p);var C=Wt(f)?I0e:Y0e;return C(f,p)}function i1e(f){var p=Wt(f)?O0e:X0e;return p(f)}function s1e(f){if(f==null)return 0;if(oo(f))return zb(f)?cm(f):f.length;var p=_s(f);return p==Ke||p==Ve?f.size:mk(f).length}function o1e(f,p,w){var C=Wt(f)?XT:J0e;return w&&zs(f,p,w)&&(p=n),C(f,bt(p,3))}var a1e=ln(function(f,p){if(f==null)return[];var w=p.length;return w>1&&zs(f,p[0],p[1])?p=[]:w>2&&zs(p[0],p[1],p[2])&&(p=[p[0]]),Fz(f,Ji(p,1),[])}),Lb=zve||function(){return Xi.Date.now()};function l1e(f,p){if(typeof p!="function")throw new Ea(o);return f=Zt(f),function(){if(--f<1)return p.apply(this,arguments)}}function A5(f,p,w){return p=w?n:p,p=f&&p==null?f.length:p,Ju(f,I,n,n,n,n,p)}function N5(f,p){var w;if(typeof p!="function")throw new Ea(o);return f=Zt(f),function(){return--f>0&&(w=p.apply(this,arguments)),f<=1&&(p=n),w}}var jk=ln(function(f,p,w){var C=_;if(w.length){var N=gf(w,vm(jk));C|=$}return Ju(f,C,p,w,N)}),R5=ln(function(f,p,w){var C=_|v;if(w.length){var N=gf(w,vm(R5));C|=$}return Ju(p,C,f,w,N)});function D5(f,p,w){p=w?n:p;var C=Ju(f,S,n,n,n,n,n,p);return C.placeholder=D5.placeholder,C}function M5(f,p,w){p=w?n:p;var C=Ju(f,x,n,n,n,n,n,p);return C.placeholder=M5.placeholder,C}function L5(f,p,w){var C,N,V,Q,re,de,Pe=0,Te=!1,Ne=!1,Ye=!0;if(typeof f!="function")throw new Ea(o);p=Pa(p)||0,Mr(w)&&(Te=!!w.leading,Ne="maxWait"in w,V=Ne?Si(Pa(w.maxWait)||0,p):V,Ye="trailing"in w?!!w.trailing:Ye);function dt(ni){var yl=C,rc=N;return C=N=n,Pe=ni,Q=f.apply(rc,yl),Q}function It(ni){return Pe=ni,re=Nv(hn,p),Te?dt(ni):Q}function nn(ni){var yl=ni-de,rc=ni-Pe,nV=p-yl;return Ne?vs(nV,V-rc):nV}function Ot(ni){var yl=ni-de,rc=ni-Pe;return de===n||yl>=p||yl<0||Ne&&rc>=V}function hn(){var ni=Lb();if(Ot(ni))return bn(ni);re=Nv(hn,nn(ni))}function bn(ni){return re=n,Ye&&C?dt(ni):(C=N=n,Q)}function qo(){re!==n&&Gz(re),Pe=0,C=de=N=re=n}function Vs(){return re===n?Q:bn(Lb())}function Go(){var ni=Lb(),yl=Ot(ni);if(C=arguments,N=this,de=ni,yl){if(re===n)return It(de);if(Ne)return Gz(re),re=Nv(hn,p),dt(de)}return re===n&&(re=Nv(hn,p)),Q}return Go.cancel=qo,Go.flush=Vs,Go}var u1e=ln(function(f,p){return Oz(f,1,p)}),c1e=ln(function(f,p,w){return Oz(f,Pa(p)||0,w)});function f1e(f){return Ju(f,M)}function Fb(f,p){if(typeof f!="function"||p!=null&&typeof p!="function")throw new Ea(o);var w=function(){var C=arguments,N=p?p.apply(this,C):C[0],V=w.cache;if(V.has(N))return V.get(N);var Q=f.apply(this,C);return w.cache=V.set(N,Q)||V,Q};return w.cache=new(Fb.Cache||Qu),w}Fb.Cache=Qu;function jb(f){if(typeof f!="function")throw new Ea(o);return function(){var p=arguments;switch(p.length){case 0:return!f.call(this);case 1:return!f.call(this,p[0]);case 2:return!f.call(this,p[0],p[1]);case 3:return!f.call(this,p[0],p[1],p[2])}return!f.apply(this,p)}}function d1e(f){return N5(2,f)}var h1e=Z0e(function(f,p){p=p.length==1&&Wt(p[0])?Pr(p[0],Uo(bt())):Pr(Ji(p,1),Uo(bt()));var w=p.length;return ln(function(C){for(var N=-1,V=vs(C.length,w);++N<V;)C[N]=p[N].call(this,C[N]);return Vo(f,this,C)})}),Bk=ln(function(f,p){var w=gf(p,vm(Bk));return Ju(f,$,n,p,w)}),F5=ln(function(f,p){var w=gf(p,vm(F5));return Ju(f,E,n,p,w)}),p1e=Zu(function(f,p){return Ju(f,T,n,n,n,p)});function m1e(f,p){if(typeof f!="function")throw new Ea(o);return p=p===n?p:Zt(p),ln(f,p)}function g1e(f,p){if(typeof f!="function")throw new Ea(o);return p=p==null?0:Si(Zt(p),0),ln(function(w){var C=w[p],N=bf(w,0,p);return C&&mf(N,C),Vo(f,this,N)})}function y1e(f,p,w){var C=!0,N=!0;if(typeof f!="function")throw new Ea(o);return Mr(w)&&(C="leading"in w?!!w.leading:C,N="trailing"in w?!!w.trailing:N),L5(f,p,{leading:C,maxWait:p,trailing:N})}function v1e(f){return A5(f,1)}function _1e(f,p){return Bk(Ek(p),f)}function w1e(){if(!arguments.length)return[];var f=arguments[0];return Wt(f)?f:[f]}function b1e(f){return Oa(f,m)}function S1e(f,p){return p=typeof p=="function"?p:n,Oa(f,m,p)}function x1e(f){return Oa(f,d|m)}function E1e(f,p){return p=typeof p=="function"?p:n,Oa(f,d|m,p)}function I1e(f,p){return p==null||Iz(f,p,Mi(p))}function gl(f,p){return f===p||f!==f&&p!==p}var O1e=kb(dk),$1e=kb(function(f,p){return f>=p}),ph=kz(function(){return arguments}())?kz:function(f){return Hr(f)&&Yn.call(f,"callee")&&!yz.call(f,"callee")},Wt=Se.isArray,C1e=J4?Uo(J4):M0e;function oo(f){return f!=null&&Bb(f.length)&&!tc(f)}function ti(f){return Hr(f)&&oo(f)}function P1e(f){return f===!0||f===!1||Hr(f)&&Bs(f)==he}var Sf=Uve||Xk,T1e=Z4?Uo(Z4):L0e;function k1e(f){return Hr(f)&&f.nodeType===1&&!Rv(f)}function A1e(f){if(f==null)return!0;if(oo(f)&&(Wt(f)||typeof f=="string"||typeof f.splice=="function"||Sf(f)||_m(f)||ph(f)))return!f.length;var p=_s(f);if(p==Ke||p==Ve)return!f.size;if(Av(f))return!mk(f).length;for(var w in f)if(Yn.call(f,w))return!1;return!0}function N1e(f,p){return Pv(f,p)}function R1e(f,p,w){w=typeof w=="function"?w:n;var C=w?w(f,p):n;return C===n?Pv(f,p,n,w):!!C}function zk(f){if(!Hr(f))return!1;var p=Bs(f);return p==ke||p==ve||typeof f.message=="string"&&typeof f.name=="string"&&!Rv(f)}function D1e(f){return typeof f=="number"&&_z(f)}function tc(f){if(!Mr(f))return!1;var p=Bs(f);return p==ye||p==it||p==fe||p==_n}function j5(f){return typeof f=="number"&&f==Zt(f)}function Bb(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=Z}function Mr(f){var p=typeof f;return f!=null&&(p=="object"||p=="function")}function Hr(f){return f!=null&&typeof f=="object"}var B5=ez?Uo(ez):j0e;function M1e(f,p){return f===p||pk(f,p,kk(p))}function L1e(f,p,w){return w=typeof w=="function"?w:n,pk(f,p,kk(p),w)}function F1e(f){return z5(f)&&f!=+f}function j1e(f){if(S_e(f))throw new jt(s);return Az(f)}function B1e(f){return f===null}function z1e(f){return f==null}function z5(f){return typeof f=="number"||Hr(f)&&Bs(f)==Je}function Rv(f){if(!Hr(f)||Bs(f)!=Ae)return!1;var p=hb(f);if(p===null)return!0;var w=Yn.call(p,"constructor")&&p.constructor;return typeof w=="function"&&w instanceof w&&ub.call(w)==Lve}var Vk=tz?Uo(tz):B0e;function V1e(f){return j5(f)&&f>=-Z&&f<=Z}var V5=nz?Uo(nz):z0e;function zb(f){return typeof f=="string"||!Wt(f)&&Hr(f)&&Bs(f)==Tt}function Wo(f){return typeof f=="symbol"||Hr(f)&&Bs(f)==st}var _m=rz?Uo(rz):V0e;function U1e(f){return f===n}function H1e(f){return Hr(f)&&_s(f)==on}function W1e(f){return Hr(f)&&Bs(f)==On}var q1e=kb(gk),G1e=kb(function(f,p){return f<=p});function U5(f){if(!f)return[];if(oo(f))return zb(f)?pl(f):so(f);if(bv&&f[bv])return Ive(f[bv]());var p=_s(f),w=p==Ke?rk:p==Ve?ob:wm;return w(f)}function nc(f){if(!f)return f===0?f:0;if(f=Pa(f),f===pe||f===-pe){var p=f<0?-1:1;return p*oe}return f===f?f:0}function Zt(f){var p=nc(f),w=p%1;return p===p?w?p-w:p:0}function H5(f){return f?ch(Zt(f),0,k):0}function Pa(f){if(typeof f=="number")return f;if(Wo(f))return X;if(Mr(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=Mr(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=uz(f);var w=Pt.test(f);return w||rr.test(f)?lve(f.slice(2),w?2:8):ct.test(f)?X:+f}function W5(f){return Xl(f,ao(f))}function K1e(f){return f?ch(Zt(f),-Z,Z):f===0?f:0}function Wn(f){return f==null?"":Ho(f)}var Y1e=gm(function(f,p){if(Av(p)||oo(p)){Xl(p,Mi(p),f);return}for(var w in p)Yn.call(p,w)&&Ov(f,w,p[w])}),q5=gm(function(f,p){Xl(p,ao(p),f)}),Vb=gm(function(f,p,w,C){Xl(p,ao(p),f,C)}),Q1e=gm(function(f,p,w,C){Xl(p,Mi(p),f,C)}),X1e=Zu(uk);function J1e(f,p){var w=mm(f);return p==null?w:Ez(w,p)}var Z1e=ln(function(f,p){f=cr(f);var w=-1,C=p.length,N=C>2?p[2]:n;for(N&&zs(p[0],p[1],N)&&(C=1);++w<C;)for(var V=p[w],Q=ao(V),re=-1,de=Q.length;++re<de;){var Pe=Q[re],Te=f[Pe];(Te===n||gl(Te,dm[Pe])&&!Yn.call(f,Pe))&&(f[Pe]=V[Pe])}return f}),ebe=ln(function(f){return f.push(n,u5),Vo(G5,n,f)});function tbe(f,p){return sz(f,bt(p,3),Ql)}function nbe(f,p){return sz(f,bt(p,3),fk)}function rbe(f,p){return f==null?f:ck(f,bt(p,3),ao)}function ibe(f,p){return f==null?f:Pz(f,bt(p,3),ao)}function sbe(f,p){return f&&Ql(f,bt(p,3))}function obe(f,p){return f&&fk(f,bt(p,3))}function abe(f){return f==null?[]:xb(f,Mi(f))}function lbe(f){return f==null?[]:xb(f,ao(f))}function Uk(f,p,w){var C=f==null?n:fh(f,p);return C===n?w:C}function ube(f,p){return f!=null&&d5(f,p,A0e)}function Hk(f,p){return f!=null&&d5(f,p,N0e)}var cbe=i5(function(f,p,w){p!=null&&typeof p.toString!="function"&&(p=cb.call(p)),f[p]=w},qk(lo)),fbe=i5(function(f,p,w){p!=null&&typeof p.toString!="function"&&(p=cb.call(p)),Yn.call(f,p)?f[p].push(w):f[p]=[w]},bt),dbe=ln(Cv);function Mi(f){return oo(f)?Sz(f):mk(f)}function ao(f){return oo(f)?Sz(f,!0):U0e(f)}function hbe(f,p){var w={};return p=bt(p,3),Ql(f,function(C,N,V){Xu(w,p(C,N,V),C)}),w}function pbe(f,p){var w={};return p=bt(p,3),Ql(f,function(C,N,V){Xu(w,N,p(C,N,V))}),w}var mbe=gm(function(f,p,w){Eb(f,p,w)}),G5=gm(function(f,p,w,C){Eb(f,p,w,C)}),gbe=Zu(function(f,p){var w={};if(f==null)return w;var C=!1;p=Pr(p,function(V){return V=wf(V,f),C||(C=V.length>1),V}),Xl(f,Pk(f),w),C&&(w=Oa(w,d|h|m,c_e));for(var N=p.length;N--;)bk(w,p[N]);return w});function ybe(f,p){return K5(f,jb(bt(p)))}var vbe=Zu(function(f,p){return f==null?{}:W0e(f,p)});function K5(f,p){if(f==null)return{};var w=Pr(Pk(f),function(C){return[C]});return p=bt(p),jz(f,w,function(C,N){return p(C,N[0])})}function _be(f,p,w){p=wf(p,f);var C=-1,N=p.length;for(N||(N=1,f=n);++C<N;){var V=f==null?n:f[Jl(p[C])];V===n&&(C=N,V=w),f=tc(V)?V.call(f):V}return f}function wbe(f,p,w){return f==null?f:Tv(f,p,w)}function bbe(f,p,w,C){return C=typeof C=="function"?C:n,f==null?f:Tv(f,p,w,C)}var Y5=a5(Mi),Q5=a5(ao);function Sbe(f,p,w){var C=Wt(f),N=C||Sf(f)||_m(f);if(p=bt(p,4),w==null){var V=f&&f.constructor;N?w=C?new V:[]:Mr(f)?w=tc(V)?mm(hb(f)):{}:w={}}return(N?xa:Ql)(f,function(Q,re,de){return p(w,Q,re,de)}),w}function xbe(f,p){return f==null?!0:bk(f,p)}function Ebe(f,p,w){return f==null?f:Hz(f,p,Ek(w))}function Ibe(f,p,w,C){return C=typeof C=="function"?C:n,f==null?f:Hz(f,p,Ek(w),C)}function wm(f){return f==null?[]:nk(f,Mi(f))}function Obe(f){return f==null?[]:nk(f,ao(f))}function $be(f,p,w){return w===n&&(w=p,p=n),w!==n&&(w=Pa(w),w=w===w?w:0),p!==n&&(p=Pa(p),p=p===p?p:0),ch(Pa(f),p,w)}function Cbe(f,p,w){return p=nc(p),w===n?(w=p,p=0):w=nc(w),f=Pa(f),R0e(f,p,w)}function Pbe(f,p,w){if(w&&typeof w!="boolean"&&zs(f,p,w)&&(p=w=n),w===n&&(typeof p=="boolean"?(w=p,p=n):typeof f=="boolean"&&(w=f,f=n)),f===n&&p===n?(f=0,p=1):(f=nc(f),p===n?(p=f,f=0):p=nc(p)),f>p){var C=f;f=p,p=C}if(w||f%1||p%1){var N=wz();return vs(f+N*(p-f+ave("1e-"+((N+"").length-1))),p)}return vk(f,p)}var Tbe=ym(function(f,p,w){return p=p.toLowerCase(),f+(w?X5(p):p)});function X5(f){return Wk(Wn(f).toLowerCase())}function J5(f){return f=Wn(f),f&&f.replace(Hn,wve).replace(Xye,"")}function kbe(f,p,w){f=Wn(f),p=Ho(p);var C=f.length;w=w===n?C:ch(Zt(w),0,C);var N=w;return w-=p.length,w>=0&&f.slice(w,N)==p}function Abe(f){return f=Wn(f),f&&gs.test(f)?f.replace(ui,bve):f}function Nbe(f){return f=Wn(f),f&&Ki.test(f)?f.replace(Ur,"\\$&"):f}var Rbe=ym(function(f,p,w){return f+(w?"-":"")+p.toLowerCase()}),Dbe=ym(function(f,p,w){return f+(w?" ":"")+p.toLowerCase()}),Mbe=t5("toLowerCase");function Lbe(f,p,w){f=Wn(f),p=Zt(p);var C=p?cm(f):0;if(!p||C>=p)return f;var N=(p-C)/2;return Tb(yb(N),w)+f+Tb(gb(N),w)}function Fbe(f,p,w){f=Wn(f),p=Zt(p);var C=p?cm(f):0;return p&&C<p?f+Tb(p-C,w):f}function jbe(f,p,w){f=Wn(f),p=Zt(p);var C=p?cm(f):0;return p&&C<p?Tb(p-C,w)+f:f}function Bbe(f,p,w){return w||p==null?p=0:p&&(p=+p),Gve(Wn(f).replace(ys,""),p||0)}function zbe(f,p,w){return(w?zs(f,p,w):p===n)?p=1:p=Zt(p),_k(Wn(f),p)}function Vbe(){var f=arguments,p=Wn(f[0]);return f.length<3?p:p.replace(f[1],f[2])}var Ube=ym(function(f,p,w){return f+(w?"_":"")+p.toLowerCase()});function Hbe(f,p,w){return w&&typeof w!="number"&&zs(f,p,w)&&(p=w=n),w=w===n?k:w>>>0,w?(f=Wn(f),f&&(typeof p=="string"||p!=null&&!Vk(p))&&(p=Ho(p),!p&&um(f))?bf(pl(f),0,w):f.split(p,w)):[]}var Wbe=ym(function(f,p,w){return f+(w?" ":"")+Wk(p)});function qbe(f,p,w){return f=Wn(f),w=w==null?0:ch(Zt(w),0,f.length),p=Ho(p),f.slice(w,w+p.length)==p}function Gbe(f,p,w){var C=L.templateSettings;w&&zs(f,p,w)&&(p=n),f=Wn(f),p=Vb({},p,C,l5);var N=Vb({},p.imports,C.imports,l5),V=Mi(N),Q=nk(N,V),re,de,Pe=0,Te=p.interpolate||kt,Ne="__p += '",Ye=ik((p.escape||kt).source+"|"+Te.source+"|"+(Te===nr?et:kt).source+"|"+(p.evaluate||kt).source+"|$","g"),dt="//# sourceURL="+(Yn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nve+"]")+`
`;f.replace(Ye,function(Ot,hn,bn,qo,Vs,Go){return bn||(bn=qo),Ne+=f.slice(Pe,Go).replace(Mn,Sve),hn&&(re=!0,Ne+=`' +
__e(`+hn+`) +
'`),Vs&&(de=!0,Ne+=`';
`+Vs+`;
__p += '`),bn&&(Ne+=`' +
((__t = (`+bn+`)) == null ? '' : __t) +
'`),Pe=Go+Ot.length,Ot}),Ne+=`';
`;var It=Yn.call(p,"variable")&&p.variable;if(!It)Ne=`with (obj) {
`+Ne+`
}
`;else if(nt.test(It))throw new jt(a);Ne=(de?Ne.replace(Ft,""):Ne).replace(hr,"$1").replace(Bn,"$1;"),Ne="function("+(It||"obj")+`) {
`+(It?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(de?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var nn=eV(function(){return zn(V,dt+"return "+Ne).apply(n,Q)});if(nn.source=Ne,zk(nn))throw nn;return nn}function Kbe(f){return Wn(f).toLowerCase()}function Ybe(f){return Wn(f).toUpperCase()}function Qbe(f,p,w){if(f=Wn(f),f&&(w||p===n))return uz(f);if(!f||!(p=Ho(p)))return f;var C=pl(f),N=pl(p),V=cz(C,N),Q=fz(C,N)+1;return bf(C,V,Q).join("")}function Xbe(f,p,w){if(f=Wn(f),f&&(w||p===n))return f.slice(0,hz(f)+1);if(!f||!(p=Ho(p)))return f;var C=pl(f),N=fz(C,pl(p))+1;return bf(C,0,N).join("")}function Jbe(f,p,w){if(f=Wn(f),f&&(w||p===n))return f.replace(ys,"");if(!f||!(p=Ho(p)))return f;var C=pl(f),N=cz(C,pl(p));return bf(C,N).join("")}function Zbe(f,p){var w=U,C=z;if(Mr(p)){var N="separator"in p?p.separator:N;w="length"in p?Zt(p.length):w,C="omission"in p?Ho(p.omission):C}f=Wn(f);var V=f.length;if(um(f)){var Q=pl(f);V=Q.length}if(w>=V)return f;var re=w-cm(C);if(re<1)return C;var de=Q?bf(Q,0,re).join(""):f.slice(0,re);if(N===n)return de+C;if(Q&&(re+=de.length-re),Vk(N)){if(f.slice(re).search(N)){var Pe,Te=de;for(N.global||(N=ik(N.source,Wn(Ct.exec(N))+"g")),N.lastIndex=0;Pe=N.exec(Te);)var Ne=Pe.index;de=de.slice(0,Ne===n?re:Ne)}}else if(f.indexOf(Ho(N),re)!=re){var Ye=de.lastIndexOf(N);Ye>-1&&(de=de.slice(0,Ye))}return de+C}function eSe(f){return f=Wn(f),f&&ms.test(f)?f.replace(hl,Pve):f}var tSe=ym(function(f,p,w){return f+(w?" ":"")+p.toUpperCase()}),Wk=t5("toUpperCase");function Z5(f,p,w){return f=Wn(f),p=w?n:p,p===n?Eve(f)?Ave(f):mve(f):f.match(p)||[]}var eV=ln(function(f,p){try{return Vo(f,n,p)}catch(w){return zk(w)?w:new jt(w)}}),nSe=Zu(function(f,p){return xa(p,function(w){w=Jl(w),Xu(f,w,jk(f[w],f))}),f});function rSe(f){var p=f==null?0:f.length,w=bt();return f=p?Pr(f,function(C){if(typeof C[1]!="function")throw new Ea(o);return[w(C[0]),C[1]]}):[],ln(function(C){for(var N=-1;++N<p;){var V=f[N];if(Vo(V[0],this,C))return Vo(V[1],this,C)}})}function iSe(f){return P0e(Oa(f,d))}function qk(f){return function(){return f}}function sSe(f,p){return f==null||f!==f?p:f}var oSe=r5(),aSe=r5(!0);function lo(f){return f}function Gk(f){return Nz(typeof f=="function"?f:Oa(f,d))}function lSe(f){return Dz(Oa(f,d))}function uSe(f,p){return Mz(f,Oa(p,d))}var cSe=ln(function(f,p){return function(w){return Cv(w,f,p)}}),fSe=ln(function(f,p){return function(w){return Cv(f,w,p)}});function Kk(f,p,w){var C=Mi(p),N=xb(p,C);w==null&&!(Mr(p)&&(N.length||!C.length))&&(w=p,p=f,f=this,N=xb(p,Mi(p)));var V=!(Mr(w)&&"chain"in w)||!!w.chain,Q=tc(f);return xa(N,function(re){var de=p[re];f[re]=de,Q&&(f.prototype[re]=function(){var Pe=this.__chain__;if(V||Pe){var Te=f(this.__wrapped__),Ne=Te.__actions__=so(this.__actions__);return Ne.push({func:de,args:arguments,thisArg:f}),Te.__chain__=Pe,Te}return de.apply(f,mf([this.value()],arguments))})}),f}function dSe(){return Xi._===this&&(Xi._=Fve),this}function Yk(){}function hSe(f){return f=Zt(f),ln(function(p){return Lz(p,f)})}var pSe=Ok(Pr),mSe=Ok(iz),gSe=Ok(XT);function tV(f){return Nk(f)?JT(Jl(f)):q0e(f)}function ySe(f){return function(p){return f==null?n:fh(f,p)}}var vSe=s5(),_Se=s5(!0);function Qk(){return[]}function Xk(){return!1}function wSe(){return{}}function bSe(){return""}function SSe(){return!0}function xSe(f,p){if(f=Zt(f),f<1||f>Z)return[];var w=k,C=vs(f,k);p=bt(p),f-=k;for(var N=tk(C,p);++w<f;)p(w);return N}function ESe(f){return Wt(f)?Pr(f,Jl):Wo(f)?[f]:so(b5(Wn(f)))}function ISe(f){var p=++Mve;return Wn(f)+p}var OSe=Pb(function(f,p){return f+p},0),$Se=$k("ceil"),CSe=Pb(function(f,p){return f/p},1),PSe=$k("floor");function TSe(f){return f&&f.length?Sb(f,lo,dk):n}function kSe(f,p){return f&&f.length?Sb(f,bt(p,2),dk):n}function ASe(f){return az(f,lo)}function NSe(f,p){return az(f,bt(p,2))}function RSe(f){return f&&f.length?Sb(f,lo,gk):n}function DSe(f,p){return f&&f.length?Sb(f,bt(p,2),gk):n}var MSe=Pb(function(f,p){return f*p},1),LSe=$k("round"),FSe=Pb(function(f,p){return f-p},0);function jSe(f){return f&&f.length?ek(f,lo):0}function BSe(f,p){return f&&f.length?ek(f,bt(p,2)):0}return L.after=l1e,L.ary=A5,L.assign=Y1e,L.assignIn=q5,L.assignInWith=Vb,L.assignWith=Q1e,L.at=X1e,L.before=N5,L.bind=jk,L.bindAll=nSe,L.bindKey=R5,L.castArray=w1e,L.chain=P5,L.chunk=P_e,L.compact=T_e,L.concat=k_e,L.cond=rSe,L.conforms=iSe,L.constant=qk,L.countBy=jwe,L.create=J1e,L.curry=D5,L.curryRight=M5,L.debounce=L5,L.defaults=Z1e,L.defaultsDeep=ebe,L.defer=u1e,L.delay=c1e,L.difference=A_e,L.differenceBy=N_e,L.differenceWith=R_e,L.drop=D_e,L.dropRight=M_e,L.dropRightWhile=L_e,L.dropWhile=F_e,L.fill=j_e,L.filter=zwe,L.flatMap=Hwe,L.flatMapDeep=Wwe,L.flatMapDepth=qwe,L.flatten=I5,L.flattenDeep=B_e,L.flattenDepth=z_e,L.flip=f1e,L.flow=oSe,L.flowRight=aSe,L.fromPairs=V_e,L.functions=abe,L.functionsIn=lbe,L.groupBy=Gwe,L.initial=H_e,L.intersection=W_e,L.intersectionBy=q_e,L.intersectionWith=G_e,L.invert=cbe,L.invertBy=fbe,L.invokeMap=Ywe,L.iteratee=Gk,L.keyBy=Qwe,L.keys=Mi,L.keysIn=ao,L.map=Mb,L.mapKeys=hbe,L.mapValues=pbe,L.matches=lSe,L.matchesProperty=uSe,L.memoize=Fb,L.merge=mbe,L.mergeWith=G5,L.method=cSe,L.methodOf=fSe,L.mixin=Kk,L.negate=jb,L.nthArg=hSe,L.omit=gbe,L.omitBy=ybe,L.once=d1e,L.orderBy=Xwe,L.over=pSe,L.overArgs=h1e,L.overEvery=mSe,L.overSome=gSe,L.partial=Bk,L.partialRight=F5,L.partition=Jwe,L.pick=vbe,L.pickBy=K5,L.property=tV,L.propertyOf=ySe,L.pull=X_e,L.pullAll=$5,L.pullAllBy=J_e,L.pullAllWith=Z_e,L.pullAt=ewe,L.range=vSe,L.rangeRight=_Se,L.rearg=p1e,L.reject=t1e,L.remove=twe,L.rest=m1e,L.reverse=Lk,L.sampleSize=r1e,L.set=wbe,L.setWith=bbe,L.shuffle=i1e,L.slice=nwe,L.sortBy=a1e,L.sortedUniq=uwe,L.sortedUniqBy=cwe,L.split=Hbe,L.spread=g1e,L.tail=fwe,L.take=dwe,L.takeRight=hwe,L.takeRightWhile=pwe,L.takeWhile=mwe,L.tap=Twe,L.throttle=y1e,L.thru=Db,L.toArray=U5,L.toPairs=Y5,L.toPairsIn=Q5,L.toPath=ESe,L.toPlainObject=W5,L.transform=Sbe,L.unary=v1e,L.union=gwe,L.unionBy=ywe,L.unionWith=vwe,L.uniq=_we,L.uniqBy=wwe,L.uniqWith=bwe,L.unset=xbe,L.unzip=Fk,L.unzipWith=C5,L.update=Ebe,L.updateWith=Ibe,L.values=wm,L.valuesIn=Obe,L.without=Swe,L.words=Z5,L.wrap=_1e,L.xor=xwe,L.xorBy=Ewe,L.xorWith=Iwe,L.zip=Owe,L.zipObject=$we,L.zipObjectDeep=Cwe,L.zipWith=Pwe,L.entries=Y5,L.entriesIn=Q5,L.extend=q5,L.extendWith=Vb,Kk(L,L),L.add=OSe,L.attempt=eV,L.camelCase=Tbe,L.capitalize=X5,L.ceil=$Se,L.clamp=$be,L.clone=b1e,L.cloneDeep=x1e,L.cloneDeepWith=E1e,L.cloneWith=S1e,L.conformsTo=I1e,L.deburr=J5,L.defaultTo=sSe,L.divide=CSe,L.endsWith=kbe,L.eq=gl,L.escape=Abe,L.escapeRegExp=Nbe,L.every=Bwe,L.find=Vwe,L.findIndex=x5,L.findKey=tbe,L.findLast=Uwe,L.findLastIndex=E5,L.findLastKey=nbe,L.floor=PSe,L.forEach=T5,L.forEachRight=k5,L.forIn=rbe,L.forInRight=ibe,L.forOwn=sbe,L.forOwnRight=obe,L.get=Uk,L.gt=O1e,L.gte=$1e,L.has=ube,L.hasIn=Hk,L.head=O5,L.identity=lo,L.includes=Kwe,L.indexOf=U_e,L.inRange=Cbe,L.invoke=dbe,L.isArguments=ph,L.isArray=Wt,L.isArrayBuffer=C1e,L.isArrayLike=oo,L.isArrayLikeObject=ti,L.isBoolean=P1e,L.isBuffer=Sf,L.isDate=T1e,L.isElement=k1e,L.isEmpty=A1e,L.isEqual=N1e,L.isEqualWith=R1e,L.isError=zk,L.isFinite=D1e,L.isFunction=tc,L.isInteger=j5,L.isLength=Bb,L.isMap=B5,L.isMatch=M1e,L.isMatchWith=L1e,L.isNaN=F1e,L.isNative=j1e,L.isNil=z1e,L.isNull=B1e,L.isNumber=z5,L.isObject=Mr,L.isObjectLike=Hr,L.isPlainObject=Rv,L.isRegExp=Vk,L.isSafeInteger=V1e,L.isSet=V5,L.isString=zb,L.isSymbol=Wo,L.isTypedArray=_m,L.isUndefined=U1e,L.isWeakMap=H1e,L.isWeakSet=W1e,L.join=K_e,L.kebabCase=Rbe,L.last=Ca,L.lastIndexOf=Y_e,L.lowerCase=Dbe,L.lowerFirst=Mbe,L.lt=q1e,L.lte=G1e,L.max=TSe,L.maxBy=kSe,L.mean=ASe,L.meanBy=NSe,L.min=RSe,L.minBy=DSe,L.stubArray=Qk,L.stubFalse=Xk,L.stubObject=wSe,L.stubString=bSe,L.stubTrue=SSe,L.multiply=MSe,L.nth=Q_e,L.noConflict=dSe,L.noop=Yk,L.now=Lb,L.pad=Lbe,L.padEnd=Fbe,L.padStart=jbe,L.parseInt=Bbe,L.random=Pbe,L.reduce=Zwe,L.reduceRight=e1e,L.repeat=zbe,L.replace=Vbe,L.result=_be,L.round=LSe,L.runInContext=ae,L.sample=n1e,L.size=s1e,L.snakeCase=Ube,L.some=o1e,L.sortedIndex=rwe,L.sortedIndexBy=iwe,L.sortedIndexOf=swe,L.sortedLastIndex=owe,L.sortedLastIndexBy=awe,L.sortedLastIndexOf=lwe,L.startCase=Wbe,L.startsWith=qbe,L.subtract=FSe,L.sum=jSe,L.sumBy=BSe,L.template=Gbe,L.times=xSe,L.toFinite=nc,L.toInteger=Zt,L.toLength=H5,L.toLower=Kbe,L.toNumber=Pa,L.toSafeInteger=K1e,L.toString=Wn,L.toUpper=Ybe,L.trim=Qbe,L.trimEnd=Xbe,L.trimStart=Jbe,L.truncate=Zbe,L.unescape=eSe,L.uniqueId=ISe,L.upperCase=tSe,L.upperFirst=Wk,L.each=T5,L.eachRight=k5,L.first=O5,Kk(L,function(){var f={};return Ql(L,function(p,w){Yn.call(L.prototype,w)||(f[w]=p)}),f}(),{chain:!1}),L.VERSION=r,xa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){L[f].placeholder=L}),xa(["drop","take"],function(f,p){pn.prototype[f]=function(w){w=w===n?1:Si(Zt(w),0);var C=this.__filtered__&&!p?new pn(this):this.clone();return C.__filtered__?C.__takeCount__=vs(w,C.__takeCount__):C.__views__.push({size:vs(w,k),type:f+(C.__dir__<0?"Right":"")}),C},pn.prototype[f+"Right"]=function(w){return this.reverse()[f](w).reverse()}}),xa(["filter","map","takeWhile"],function(f,p){var w=p+1,C=w==B||w==le;pn.prototype[f]=function(N){var V=this.clone();return V.__iteratees__.push({iteratee:bt(N,3),type:w}),V.__filtered__=V.__filtered__||C,V}}),xa(["head","last"],function(f,p){var w="take"+(p?"Right":"");pn.prototype[f]=function(){return this[w](1).value()[0]}}),xa(["initial","tail"],function(f,p){var w="drop"+(p?"":"Right");pn.prototype[f]=function(){return this.__filtered__?new pn(this):this[w](1)}}),pn.prototype.compact=function(){return this.filter(lo)},pn.prototype.find=function(f){return this.filter(f).head()},pn.prototype.findLast=function(f){return this.reverse().find(f)},pn.prototype.invokeMap=ln(function(f,p){return typeof f=="function"?new pn(this):this.map(function(w){return Cv(w,f,p)})}),pn.prototype.reject=function(f){return this.filter(jb(bt(f)))},pn.prototype.slice=function(f,p){f=Zt(f);var w=this;return w.__filtered__&&(f>0||p<0)?new pn(w):(f<0?w=w.takeRight(-f):f&&(w=w.drop(f)),p!==n&&(p=Zt(p),w=p<0?w.dropRight(-p):w.take(p-f)),w)},pn.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},pn.prototype.toArray=function(){return this.take(k)},Ql(pn.prototype,function(f,p){var w=/^(?:filter|find|map|reject)|While$/.test(p),C=/^(?:head|last)$/.test(p),N=L[C?"take"+(p=="last"?"Right":""):p],V=C||/^find/.test(p);N&&(L.prototype[p]=function(){var Q=this.__wrapped__,re=C?[1]:arguments,de=Q instanceof pn,Pe=re[0],Te=de||Wt(Q),Ne=function(hn){var bn=N.apply(L,mf([hn],re));return C&&Ye?bn[0]:bn};Te&&w&&typeof Pe=="function"&&Pe.length!=1&&(de=Te=!1);var Ye=this.__chain__,dt=!!this.__actions__.length,It=V&&!Ye,nn=de&&!dt;if(!V&&Te){Q=nn?Q:new pn(this);var Ot=f.apply(Q,re);return Ot.__actions__.push({func:Db,args:[Ne],thisArg:n}),new Ia(Ot,Ye)}return It&&nn?f.apply(this,re):(Ot=this.thru(Ne),It?C?Ot.value()[0]:Ot.value():Ot)})}),xa(["pop","push","shift","sort","splice","unshift"],function(f){var p=ab[f],w=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",C=/^(?:pop|shift)$/.test(f);L.prototype[f]=function(){var N=arguments;if(C&&!this.__chain__){var V=this.value();return p.apply(Wt(V)?V:[],N)}return this[w](function(Q){return p.apply(Wt(Q)?Q:[],N)})}}),Ql(pn.prototype,function(f,p){var w=L[p];if(w){var C=w.name+"";Yn.call(pm,C)||(pm[C]=[]),pm[C].push({name:p,func:w})}}),pm[Cb(n,v).name]=[{name:"wrapper",func:n}],pn.prototype.clone=e0e,pn.prototype.reverse=t0e,pn.prototype.value=n0e,L.prototype.at=kwe,L.prototype.chain=Awe,L.prototype.commit=Nwe,L.prototype.next=Rwe,L.prototype.plant=Mwe,L.prototype.reverse=Lwe,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=Fwe,L.prototype.first=L.prototype.head,bv&&(L.prototype[bv]=Dwe),L},fm=Nve();oh?((oh.exports=fm)._=fm,GT._=fm):Xi._=fm}).call(So)})(B$,B$.exports);var x4=B$.exports;function yY({parameters:e,trialId:t,setAnswer:n,updateProvenance:r}){const[i,s]=O.useState(null),[o,a]=O.useState({hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]}),[l,u]=O.useState(null);O.useEffect(()=>{LZe(`./data/${e.dataset}.csv`).then(S=>{u(S)})},[e]);const c=O.useMemo(()=>l?rft(l):null,[l]),d=Vd().pathname,{actions:h,trrack:m}=O.useMemo(()=>{const S=cP.create(),x=S.register("brush",(M,U)=>(M={all:{...U}},M)),$=S.register("brushMove",(M,U)=>(M={all:{...U}},M)),E=S.register("brushResize",(M,U)=>(M={all:{...U}},M)),I=S.register("brushClear",(M,U)=>(M={all:{...U}},M)),T=aP({registry:S,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:x,brushMove:$,brushResize:E,clearBrush:I},trrack:T}},[]),g=O.useCallback((S,x)=>{S==="drag"?m.apply("Move Brush",h.brushMove(x)):S==="handle"&&m.apply("Brush",h.brush(x))},[h,m]),y=O.useMemo(()=>x4.debounce(g,100,{maxWait:100}),[g]),_=O.useCallback((S,x,$,E,I)=>{if(!x||!$)return;const T=x.invert(S[0][0]||o.x1),M=x.invert(S[1][0]||o.x2),U=$.invert(S[1][1]||o.y2),z=$.invert(S[0][1]||o.y1);let H=null;if(E==="clear")H=c;else if(I){const B=new Set(I);H=c.filter(vR(ue=>B.has(ue[e.ids])))}else e.brushType==="Axis Selection"?H=c.filter(vR(B=>new Date(B[e.x])>=new Date(T)&&new Date(B[e.x])<=new Date(M)&&B[e.y]>=U&&B[e.y]<=z)):H=c.filter(vR(B=>B[e.x]>=T&&B[e.x]<=M&&B[e.y]>=U&&B[e.y]<=z));const q={x1:S[0][0]||(o==null?void 0:o.x1)||0,x2:S[1][0]||(o==null?void 0:o.x2)||0,y1:S[0][1]||(o==null?void 0:o.y1)||0,y2:S[1][1]||(o==null?void 0:o.y2)||0,hasBrush:E!=="clear",ids:E!=="clear"?H==null?void 0:H.array("id"):[]};a(q),E==="drag"||E==="handle"?y(E,q):E==="clear"&&m.apply("Clear Brush",h.clearBrush(q)),s(H),r(m.graph.backend),n({trialId:d,status:!0,provenanceRoot:m.graph.root.id,answers:{}})},[o,c,e,m,d,n,y,h,r]),v=O.useMemo(()=>i?i.groupby(e.category).count():c?c.groupby(e.category).count():null,[i,c,e.category]),b=O.useCallback(S=>{s(S)},[]);return l?$e(qa,{spacing:"xs",children:[P(DM,{brushedPoints:o==null?void 0:o.ids,data:l,params:e,filteredTable:i,brushType:e.brushType,setBrushedSpace:_,brushState:o,fullTable:c,setFilteredTable:b}),P(RM,{data:l,parameters:e,fullTable:i||c,barsTable:v})]}):P(qw,{})}const ift=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:yY,default:yY},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _me="firebasestorage.googleapis.com",wme="storageBucket",sft=2*60*1e3,oft=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Gl{constructor(t,n,r=0){super(_R(t),`Firebase Storage: ${n} (${_R(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return _R(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _i;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_i||(_i={}));function _R(e){return"storage/"+e}function E4(){const e="An unknown error occurred, please check the error payload for server response.";return new wi(_i.UNKNOWN,e)}function aft(e){return new wi(_i.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lft(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wi(_i.UNAUTHENTICATED,e)}function uft(){return new wi(_i.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cft(e){return new wi(_i.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function fft(){return new wi(_i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dft(){return new wi(_i.CANCELED,"User canceled the upload/download.")}function hft(e){return new wi(_i.INVALID_URL,"Invalid URL '"+e+"'.")}function pft(e){return new wi(_i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function mft(){return new wi(_i.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wme+"' property when initializing the app?")}function gft(){return new wi(_i.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yft(e){return new wi(_i.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sL(e){return new wi(_i.INVALID_ARGUMENT,e)}function bme(){return new wi(_i.APP_DELETED,"The Firebase app was deleted.")}function vft(e){return new wi(_i.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function y_(e,t){return new wi(_i.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function p0(e){throw new wi(_i.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ra.makeFromUrl(t,n)}catch{return new ra(t,"")}if(r.path==="")return r;throw pft(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},y=n===_me?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${_}`,"i"),S=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<S.length;x++){const $=S[x],E=$.regex.exec(t);if(E){const I=E[$.indices.bucket];let T=E[$.indices.path];T||(T=""),r=new ra(I,T),$.postModify(r);break}}if(r==null)throw hft(t);return r}}class _ft{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wft(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,t.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,e(m,l())},_)}function h(){s&&clearTimeout(s)}function m(_,...v){if(u){h();return}if(_){h(),c.call(null,_,...v);return}if(l()||o){h(),c.call(null,_,...v);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let g=!1;function y(_){g||(g=!0,h(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function bft(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sft(e){return e!==void 0}function xft(e){return typeof e=="object"&&!Array.isArray(e)}function Sme(e){return typeof e=="string"||e instanceof String}function vY(e){return I4()&&e instanceof Blob}function I4(){return typeof Blob<"u"&&!rae()}function _Y(e,t,n,r){if(r<t)throw sL(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw sL(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eft(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Ift(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(fp||(fp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oft(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ft{constructor(t,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new tx(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===fp.NO_ERROR,l=s.getStatus();if(!a||Oft(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===fp.ABORT;r(!1,new tx(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new tx(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Sft(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=E4();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?bme():dft();o(l)}else{const l=fft();o(l)}};this.canceled_?n(!1,new tx(!1,null,!0)):this.backoffId_=wft(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&bft(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tx{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Cft(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Pft(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Tft(e,t){t&&(e["X-Firebase-GMPID"]=t)}function kft(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Aft(e,t,n,r,i,s,o=!0){const a=Ift(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return Tft(u,t),Cft(u,n),Pft(u,s),kft(u,r),new $ft(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nft(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Rft(...e){const t=Nft();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(I4())return new Blob(e);throw new wi(_i.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Dft(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mft(e){if(typeof atob>"u")throw yft("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wR{constructor(t,n){this.data=t,this.contentType=n||null}}function Lft(e,t){switch(e){case Iu.RAW:return new wR(xme(t));case Iu.BASE64:case Iu.BASE64URL:return new wR(Eme(e,t));case Iu.DATA_URL:return new wR(jft(t),Bft(t))}throw E4()}function xme(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Fft(e){let t;try{t=decodeURIComponent(e)}catch{throw y_(Iu.DATA_URL,"Malformed data URL.")}return xme(t)}function Eme(e,t){switch(e){case Iu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw y_(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Iu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw y_(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Mft(t)}catch(i){throw i.message.includes("polyfill")?i:y_(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Ime{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw y_(Iu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zft(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function jft(e){const t=new Ime(e);return t.base64?Eme(Iu.BASE64,t.rest):Fft(t.rest)}function Bft(e){return new Ime(e).contentType}function zft(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n){let r=0,i="";vY(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(vY(this.data_)){const r=this.data_,i=Dft(r,t,n);return i===null?null:new Hf(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Hf(r,!0)}}static getBlob(...t){if(I4()){const n=t.map(r=>r instanceof Hf?r.data_:r);return new Hf(Rft.apply(null,n))}else{const n=t.map(o=>Sme(o)?Lft(Iu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Hf(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vft(e){let t;try{t=JSON.parse(e)}catch{return null}return xft(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uft(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Hft(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Ome(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wft(e,t){return t}class Us{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Wft}}let nx=null;function qft(e){return!Sme(e)||e.length<2?e:Ome(e)}function Gft(){if(nx)return nx;const e=[];e.push(new Us("bucket")),e.push(new Us("generation")),e.push(new Us("metageneration")),e.push(new Us("name","fullPath",!0));function t(s,o){return qft(o)}const n=new Us("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Us("size");return i.xform=r,e.push(i),e.push(new Us("timeCreated")),e.push(new Us("updated")),e.push(new Us("md5Hash",null,!0)),e.push(new Us("cacheControl",null,!0)),e.push(new Us("contentDisposition",null,!0)),e.push(new Us("contentEncoding",null,!0)),e.push(new Us("contentLanguage",null,!0)),e.push(new Us("contentType",null,!0)),e.push(new Us("metadata","customMetadata",!0)),nx=e,nx}function Kft(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new ra(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Yft(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Kft(r,e),r}function Qft(e,t,n){const r=Vft(t);return r===null?null:Yft(e,r,n)}function Xft(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Jft{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zft(e){if(!e)throw E4()}function edt(e,t){function n(r,i){const s=Qft(e,i,t);return Zft(s!==null),s}return n}function tdt(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=uft():i=lft():n.getStatus()===402?i=aft(e.bucket):n.getStatus()===403?i=cft(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function ndt(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function rdt(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=ndt(null,t)),r}function idt(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let x=0;x<2;x++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=rdt(t,r,i),c=Xft(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=Hf.getBlob(d,r,h);if(m===null)throw gft();const g={name:u.fullPath},y=Eft(s,e.host,e._protocol),_="POST",v=e.maxUploadRetryTime,b=new Jft(y,_,edt(e,n),v);return b.urlParams=g,b.headers=o,b.body=m.uploadData(),b.errorHandler=tdt(t),b}class sdt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw p0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw p0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw p0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw p0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw p0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class odt extends sdt{initXhr(){this.xhr_.responseType="text"}}function adt(){return new odt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n){this._service=t,n instanceof ra?this._location=n:this._location=ra.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new jp(t,n)}get root(){const t=new ra(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ome(this._location.path)}get storage(){return this._service}get parent(){const t=Uft(this._location.path);if(t===null)return null;const n=new ra(this._location.bucket,t);return new jp(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw vft(t)}}function ldt(e,t,n){e._throwIfRoot("uploadBytes");const r=idt(e.storage,e._location,Gft(),new Hf(t,!0),n);return e.storage.makeRequestWithTokens(r,adt).then(i=>({metadata:i,ref:e}))}function udt(e,t){const n=Hft(e._location.path,t),r=new ra(e._location.bucket,n);return new jp(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cdt(e){return/^[A-Za-z]+:\/\//.test(e)}function fdt(e,t){return new jp(e,t)}function $me(e,t){if(e instanceof O4){const n=e;if(n._bucket==null)throw mft();const r=new jp(n,n._bucket);return t!=null?$me(r,t):r}else return t!==void 0?udt(e,t):e}function ddt(e,t){if(t&&cdt(t)){if(e instanceof O4)return fdt(e,t);throw sL("To use ref(service, url), the first argument must be a Storage instance.")}else return $me(e,t)}function wY(e,t){const n=t==null?void 0:t[wme];return n==null?null:ra.makeFromBucketSpec(n,e)}function hdt(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:k9e(i,e.app.options.projectId))}class O4{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=_me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sft,this._maxUploadRetryTime=oft,this._requests=new Set,i!=null?this._bucket=ra.makeFromBucketSpec(i,this._host):this._bucket=wY(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ra.makeFromBucketSpec(this._url,t):this._bucket=wY(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){_Y("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){_Y("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new jp(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new _ft(bme());{const o=Aft(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const bY="@firebase/storage",SY="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cme="storage";function pdt(e,t,n){return e=li(e),ldt(e,t,n)}function mdt(e,t){return e=li(e),ddt(e,t)}function gdt(e=_j(),t){e=li(e);const r=Gp(e,Cme).getImmediate({identifier:t}),i=P9e("storage");return i&&ydt(r,...i),r}function ydt(e,t,n,r={}){hdt(e,t,n,r)}function vdt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new O4(n,r,i,t,Kp)}function _dt(){zc(new Ru(Cme,vdt,"PUBLIC").setMultipleInstances(!0)),Ll(bY,SY,""),Ll(bY,SY,"esm2017")}_dt();const wdt=Object.assign({"../components/stimuli/BarChart.tsx":Pnt,"../components/stimuli/BubbleChart.tsx":Mnt,"../components/stimuli/ClickAccuracyTest.tsx":jnt,"../components/stimuli/PieChart.tsx":Wnt,"../components/stimuli/StackedBarChart.tsx":Qnt,"../components/stimuli/brush-interactions/Bar.tsx":Znt,"../components/stimuli/brush-interactions/BrushPlot.tsx":ift,"../components/stimuli/brush-interactions/Paintbrush.tsx":trt,"../components/stimuli/brush-interactions/Scatter.tsx":nrt,"../components/stimuli/brush-interactions/XAxisBar.tsx":Xnt,"../components/stimuli/brush-interactions/YAxis.tsx":ert,"../components/stimuli/brush-interactions/YAxisBar.tsx":Jnt,"../components/stimuli/chartcomponents/Bars.tsx":Ent,"../components/stimuli/chartcomponents/Bubbles.tsx":Tnt,"../components/stimuli/chartcomponents/DotMarks.tsx":knt,"../components/stimuli/chartcomponents/NumericAxisH.tsx":qnt,"../components/stimuli/chartcomponents/NumericAxisV.tsx":Int,"../components/stimuli/chartcomponents/OrdinalAxisHWithDotMarks.tsx":Ont,"../components/stimuli/chartcomponents/Slices.tsx":Bnt,"../components/stimuli/chartcomponents/SlicesDotMarks.tsx":znt,"../components/stimuli/chartcomponents/StackedBars.tsx":Gnt,"../components/stimuli/hooks/useChartDimensions.tsx":CYe,"../components/stimuli/hooks/useHoverInteraction.ts":xnt,"../components/stimuli/inputcomponents/utils.ts":hYe}),bdt=({path:e,parameters:t,trialId:n})=>{const r=`../components/stimuli/${e}`,i=wdt[r].default,s=O.useCallback(x4.debounce(o=>{const a=gdt(),l=mdt(a,`${n}/${o.root}`),u=new Blob([JSON.stringify(o.nodes)],{type:"application/json"});pdt(l,u).then(c=>{console.log("Uploaded a blob or file!")})},5e3,{maxWait:5e3}),[n]);return P(O.Suspense,{fallback:P("div",{children:"Loading..."}),children:P(i,{parameters:t,trialId:n,setAnswer:kKe,updateProvenance:s})})},xY=["http","https","mailto","tel"];function Sdt(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<xY.length;){const s=xY[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var xdt=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const Pme=Uu(xdt);function v_(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?EY(e.position):"start"in e||"end"in e?EY(e):"line"in e||"column"in e?oL(e):""}function oL(e){return IY(e&&e.line)+":"+IY(e&&e.column)}function EY(e){return oL(e&&e.start)+"-"+oL(e&&e.end)}function IY(e){return e&&typeof e=="number"?e:1}class cl extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=v_(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}cl.prototype.file="";cl.prototype.name="";cl.prototype.reason="";cl.prototype.message="";cl.prototype.stack="";cl.prototype.fatal=null;cl.prototype.column=null;cl.prototype.line=null;cl.prototype.source=null;cl.prototype.ruleId=null;cl.prototype.position=null;const au={basename:Edt,dirname:Idt,extname:Odt,join:$dt,sep:"/"};function Edt(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');G1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Idt(e){if(G1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function Odt(e){G1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function $dt(...e){let t=-1,n;for(;++t<e.length;)G1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Cdt(n)}function Cdt(e){G1(e);const t=e.charCodeAt(0)===47;let n=Pdt(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Pdt(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function G1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Tdt={cwd:kdt};function kdt(){return"/"}function aL(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Adt(e){if(typeof e=="string")e=new URL(e);else if(!aL(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Ndt(e)}function Ndt(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const bR=["history","path","basename","stem","extname","dirname"];class Tme{constructor(t){let n;t?typeof t=="string"||Pme(t)?n={value:t}:aL(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=Tdt.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<bR.length;){const s=bR[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)bR.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){aL(t)&&(t=Adt(t)),xR(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?au.dirname(this.path):void 0}set dirname(t){OY(this.basename,"dirname"),this.path=au.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?au.basename(this.path):void 0}set basename(t){xR(t,"basename"),SR(t,"basename"),this.path=au.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?au.extname(this.path):void 0}set extname(t){if(SR(t,"extname"),OY(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=au.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?au.basename(this.path,this.extname):void 0}set stem(t){xR(t,"stem"),SR(t,"stem"),this.path=au.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new cl(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function SR(e,t){if(e&&e.includes(au.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+au.sep+"`")}function xR(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function OY(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function $Y(e){if(e)throw e}var Jx=Object.prototype.hasOwnProperty,kme=Object.prototype.toString,CY=Object.defineProperty,PY=Object.getOwnPropertyDescriptor,TY=function(t){return typeof Array.isArray=="function"?Array.isArray(t):kme.call(t)==="[object Array]"},kY=function(t){if(!t||kme.call(t)!=="[object Object]")return!1;var n=Jx.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Jx.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Jx.call(t,i)},AY=function(t,n){CY&&n.name==="__proto__"?CY(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},NY=function(t,n){if(n==="__proto__")if(Jx.call(t,n)){if(PY)return PY(t,n).value}else return;return t[n]},Rdt=function e(){var t,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=NY(a,n),i=NY(t,n),a!==i&&(c&&i&&(kY(i)||(s=TY(i)))?(s?(s=!1,o=r&&TY(r)?r:[]):o=r&&kY(r)?r:{},AY(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&AY(a,{name:n,newValue:i}));return a};const RY=Uu(Rdt);function lL(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ddt(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?Mdt(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Mdt(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Ldt=Nme().freeze(),Ame={}.hasOwnProperty;function Nme(){const e=Ddt(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=l,s.parse=u,s.stringify=c,s.run=d,s.runSync=h,s.process=m,s.processSync=g,s;function s(){const y=Nme();let _=-1;for(;++_<t.length;)y.use(...t[_]);return y.data(RY(!0,{},n)),y}function o(y,_){return typeof y=="string"?arguments.length===2?(OR("data",r),n[y]=_,s):Ame.call(n,y)&&n[y]||null:y?(OR("data",r),n=y,s):n}function a(){if(r)return s;for(;++i<t.length;){const[y,..._]=t[i];if(_[0]===!1)continue;_[0]===!0&&(_[0]=void 0);const v=y.call(s,..._);typeof v=="function"&&e.use(v)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(y,..._){let v;if(OR("use",r),y!=null)if(typeof y=="function")$(y,..._);else if(typeof y=="object")Array.isArray(y)?x(y):S(y);else throw new TypeError("Expected usable value, not `"+y+"`");return v&&(n.settings=Object.assign(n.settings||{},v)),s;function b(E){if(typeof E=="function")$(E);else if(typeof E=="object")if(Array.isArray(E)){const[I,...T]=E;$(I,...T)}else S(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function S(E){x(E.plugins),E.settings&&(v=Object.assign(v||{},E.settings))}function x(E){let I=-1;if(E!=null)if(Array.isArray(E))for(;++I<E.length;){const T=E[I];b(T)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function $(E,I){let T=-1,M;for(;++T<t.length;)if(t[T][0]===E){M=t[T];break}M?(lL(M[1])&&lL(I)&&(I=RY(!0,M[1],I)),M[1]=I):t.push([...arguments])}}function u(y){s.freeze();const _=m0(y),v=s.Parser;return ER("parse",v),DY(v,"parse")?new v(String(_),_).parse():v(String(_),_)}function c(y,_){s.freeze();const v=m0(_),b=s.Compiler;return IR("stringify",b),MY(y),DY(b,"compile")?new b(y,v).compile():b(y,v)}function d(y,_,v){if(MY(y),s.freeze(),!v&&typeof _=="function"&&(v=_,_=void 0),!v)return new Promise(b);b(null,v);function b(S,x){e.run(y,m0(_),$);function $(E,I,T){I=I||y,E?x(E):S?S(I):v(null,I,T)}}}function h(y,_){let v,b;return s.run(y,_,S),LY("runSync","run",b),v;function S(x,$){$Y(x),v=$,b=!0}}function m(y,_){if(s.freeze(),ER("process",s.Parser),IR("process",s.Compiler),!_)return new Promise(v);v(null,_);function v(b,S){const x=m0(y);s.run(s.parse(x),x,(E,I,T)=>{if(E||!I||!T)$(E);else{const M=s.stringify(I,T);M==null||(Bdt(M)?T.value=M:T.result=M),$(E,T)}});function $(E,I){E||!I?S(E):b?b(I):_(null,I)}}}function g(y){let _;s.freeze(),ER("processSync",s.Parser),IR("processSync",s.Compiler);const v=m0(y);return s.process(v,b),LY("processSync","process",_),v;function b(S){_=!0,$Y(S)}}}function DY(e,t){return typeof e=="function"&&e.prototype&&(Fdt(e.prototype)||t in e.prototype)}function Fdt(e){let t;for(t in e)if(Ame.call(e,t))return!0;return!1}function ER(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function IR(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function OR(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function MY(e){if(!lL(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function LY(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function m0(e){return jdt(e)?e:new Tme(e)}function jdt(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Bdt(e){return typeof e=="string"||Pme(e)}function zdt(e,t){var{includeImageAlt:n=!0}=t||{};return Rme(e,n)}function Rme(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&FY(e.children,t)||Array.isArray(e)&&FY(e,t))||""}function FY(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=Rme(e[r],t);return n.join("")}function Vu(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function Va(e,t){return e.length>0?(Vu(e,e.length,0,t),e):t}const jY={}.hasOwnProperty;function Vdt(e){const t={};let n=-1;for(;++n<e.length;)Udt(t,e[n]);return t}function Udt(e,t){let n;for(n in t){const i=(jY.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;for(o in s){jY.call(i,o)||(i[o]=[]);const a=s[o];Hdt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Hdt(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Vu(e,0,0,r)}const Wdt=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,wu=sh(/[A-Za-z]/),uL=sh(/\d/),qdt=sh(/[\dA-Fa-f]/),ia=sh(/[\dA-Za-z]/),Gdt=sh(/[!-/:-@[-`{-~]/),BY=sh(/[#-'*+\--9=?A-Z^-~]/);function cL(e){return e!==null&&(e<32||e===127)}function Ja(e){return e!==null&&(e<0||e===32)}function Dt(e){return e!==null&&e<-2}function mi(e){return e===-2||e===-1||e===32}const Kdt=sh(/\s/),Ydt=sh(Wdt);function sh(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function fr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return mi(l)?(e.enter(n),a(l)):t(l)}function a(l){return mi(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const Qdt={tokenize:Xdt};function Xdt(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),fr(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Dt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Jdt={tokenize:Zdt},zY={tokenize:eht};function Zdt(e){const t=this,n=[];let r=0,i,s,o;return a;function a(S){if(r<n.length){const x=n[r];return t.containerState=x[1],e.attempt(x[0].continuation,l,u)(S)}return u(S)}function l(S){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const x=t.events.length;let $=x,E;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){E=t.events[$][1].end;break}v(r);let I=x;for(;I<t.events.length;)t.events[I][1].end=Object.assign({},E),I++;return Vu(t.events,$+1,0,t.events.slice(x)),t.events.length=I,u(S)}return a(S)}function u(S){if(r===n.length){if(!i)return h(S);if(i.currentConstruct&&i.currentConstruct.concrete)return g(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(zY,c,d)(S)}function c(S){return i&&b(),v(r),h(S)}function d(S){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(S)}function h(S){return t.containerState={},e.attempt(zY,m,g)(S)}function m(S){return r++,n.push([t.currentConstruct,t.containerState]),h(S)}function g(S){if(S===null){i&&b(),v(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),y(S)}function y(S){if(S===null){_(e.exit("chunkFlow"),!0),v(0),e.consume(S);return}return Dt(S)?(e.consume(S),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(S),y)}function _(S,x){const $=t.sliceStream(S);if(x&&$.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write($),t.parser.lazy[S.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const I=t.events.length;let T=I,M,U;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(M){U=t.events[T][1].end;break}M=!0}for(v(r),E=I;E<t.events.length;)t.events[E][1].end=Object.assign({},U),E++;Vu(t.events,T+1,0,t.events.slice(I)),t.events.length=E}}function v(S){let x=n.length;for(;x-- >S;){const $=n[x];t.containerState=$[1],$[0].exit.call(t,e)}n.length=S}function b(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function eht(e,t,n){return fr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function VY(e){if(e===null||Ja(e)||Kdt(e))return 1;if(Ydt(e))return 2}function $4(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const fL={name:"attention",tokenize:nht,resolveAll:tht};function tht(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),h=Object.assign({},e[n][1].start);UY(d,-l),UY(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:h},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Va(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Va(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Va(u,$4(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Va(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Va(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Vu(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function nht(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=VY(r);let s;return o;function o(l){return e.enter("attentionSequence"),s=l,a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=VY(l),d=!c||c===2&&i||n.includes(l),h=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!h)),u._close=!!(s===42?h:h&&(c||!d)),t(l)}}function UY(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const rht={name:"autolink",tokenize:iht};function iht(e,t,n){let r=1;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return wu(g)?(e.consume(g),o):BY(g)?u(g):n(g)}function o(g){return g===43||g===45||g===46||ia(g)?a(g):u(g)}function a(g){return g===58?(e.consume(g),l):(g===43||g===45||g===46||ia(g))&&r++<32?(e.consume(g),a):u(g)}function l(g){return g===62?(e.exit("autolinkProtocol"),m(g)):g===null||g===32||g===60||cL(g)?n(g):(e.consume(g),l)}function u(g){return g===64?(e.consume(g),r=0,c):BY(g)?(e.consume(g),u):n(g)}function c(g){return ia(g)?d(g):n(g)}function d(g){return g===46?(e.consume(g),r=0,c):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",m(g)):h(g)}function h(g){return(g===45||ia(g))&&r++<63?(e.consume(g),g===45?h:d):n(g)}function m(g){return e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t}}const ST={tokenize:sht,partial:!0};function sht(e,t,n){return fr(e,r,"linePrefix");function r(i){return i===null||Dt(i)?t(i):n(i)}}const Dme={name:"blockQuote",tokenize:oht,continuation:{tokenize:aht},exit:lht};function oht(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return mi(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function aht(e,t,n){return fr(e,e.attempt(Dme,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lht(e){e.exit("blockQuote")}const Mme={name:"characterEscape",tokenize:uht};function uht(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Gdt(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const HY=document.createElement("i");function C4(e){const t="&"+e+";";HY.innerHTML=t;const n=HY.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const Lme={name:"characterReference",tokenize:cht};function cht(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=ia,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=qdt,c):(e.enter("characterReferenceValue"),s=7,o=uL,c(d))}function c(d){let h;return d===59&&i?(h=e.exit("characterReferenceValue"),o===ia&&!C4(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(d)&&i++<s?(e.consume(d),c):n(d)}}const WY={name:"codeFenced",tokenize:fht,concrete:!0};function fht(e,t,n){const r=this,i={tokenize:$,partial:!0},s={tokenize:x,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let l=0,u;return c;function c(E){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u=E,d(E)}function d(E){return E===u?(e.consume(E),l++,d):(e.exit("codeFencedFenceSequence"),l<3?n(E):fr(e,h,"whitespace")(E))}function h(E){return E===null||Dt(E)?_(E):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||Ja(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),fr(e,g,"whitespace")(E)):E===96&&E===u?n(E):(e.consume(E),m)}function g(E){return E===null||Dt(E)?_(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||Dt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),_(E)):E===96&&E===u?n(E):(e.consume(E),y)}function _(E){return e.exit("codeFencedFence"),r.interrupt?t(E):v(E)}function v(E){return E===null?S(E):Dt(E)?e.attempt(s,e.attempt(i,S,a?fr(e,v,"linePrefix",a+1):v),S)(E):(e.enter("codeFlowValue"),b(E))}function b(E){return E===null||Dt(E)?(e.exit("codeFlowValue"),v(E)):(e.consume(E),b)}function S(E){return e.exit("codeFenced"),t(E)}function x(E,I,T){const M=this;return U;function U(H){return E.enter("lineEnding"),E.consume(H),E.exit("lineEnding"),z}function z(H){return M.parser.lazy[M.now().line]?T(H):I(H)}}function $(E,I,T){let M=0;return fr(E,U,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function U(q){return E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),z(q)}function z(q){return q===u?(E.consume(q),M++,z):M<l?T(q):(E.exit("codeFencedFenceSequence"),fr(E,H,"whitespace")(q))}function H(q){return q===null||Dt(q)?(E.exit("codeFencedFence"),I(q)):T(q)}}}const $R={name:"codeIndented",tokenize:hht},dht={tokenize:pht,partial:!0};function hht(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),fr(e,s,"linePrefix",4+1)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Dt(u)?e.attempt(dht,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||Dt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function pht(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Dt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):fr(e,s,"linePrefix",4+1)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Dt(o)?i(o):n(o)}}const mht={name:"codeText",tokenize:vht,resolve:ght,previous:yht};function ght(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function yht(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function vht(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):Dt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Dt(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}function Fme(e){const t={};let n=-1,r,i,s,o,a,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,_ht(e,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),Vu(e,i,n-i+1,a))}}return!u}function _ht(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,d,h=-1,m=n,g=0,y=0;const _=[y];for(;m;){for(;e[++i][1]!==m;);s.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),d&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=m,m=m.next}for(m=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(y=h+1,_.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):_.pop(),h=_.length;h--;){const v=a.slice(_[h],_[h+1]),b=s.pop();l.unshift([b,b+v.length-1]),Vu(e,b,2,v)}for(h=-1;++h<l.length;)u[g+l[h][0]]=g+l[h][1],g+=l[h][1]-l[h][0]-1;return u}const wht={tokenize:xht,resolve:Sht},bht={tokenize:Eht,partial:!0};function Sht(e){return Fme(e),e}function xht(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Dt(a)?e.check(bht,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Eht(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),fr(e,s,"linePrefix")}function s(o){if(o===null||Dt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function jme(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),h):v===null||v===41||cL(v)?n(v):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(v))}function h(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(a),h(v)):v===null||v===60||Dt(v)?n(v):(e.consume(v),v===92?g:m)}function g(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function y(v){return v===40?++c>u?n(v):(e.consume(v),y):v===41?c--?(e.consume(v),y):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(v)):v===null||Ja(v)?c?n(v):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(v)):cL(v)?n(v):(e.consume(v),v===92?_:y)}function _(v){return v===40||v===41||v===92?(e.consume(v),y):y(v)}}function Bme(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),c}function c(m){return m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Dt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||Dt(m)||a++>999?(e.exit("chunkString"),c(m)):(e.consume(m),l=l||!mi(m),m===92?h:d)}function h(m){return m===91||m===92||m===93?(e.consume(m),a++,d):d(m)}}function zme(e,t,n,r,i,s){let o;return a;function a(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===o?(e.exit(s),l(o)):h===null?n(h):Dt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),fr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===o||h===null||Dt(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:c)}function d(h){return h===o||h===92?(e.consume(h),c):c(h)}}function __(e,t){let n;return r;function r(i){return Dt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):mi(i)?fr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Dg(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Iht={name:"definition",tokenize:$ht},Oht={tokenize:Cht,partial:!0};function $ht(e,t,n){const r=this;let i;return s;function s(l){return e.enter("definition"),Bme.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=Dg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(e.enter("definitionMarker"),e.consume(l),e.exit("definitionMarker"),__(e,jme(e,e.attempt(Oht,fr(e,a,"whitespace"),fr(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||Dt(l)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(l)):n(l)}}function Cht(e,t,n){return r;function r(o){return Ja(o)?__(e,i)(o):n(o)}function i(o){return o===34||o===39||o===40?zme(e,fr(e,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||Dt(o)?t(o):n(o)}}const Pht={name:"hardBreakEscape",tokenize:Tht};function Tht(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(s),i}function i(s){return Dt(s)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(s)):n(s)}}const kht={name:"headingAtx",tokenize:Nht,resolve:Aht};function Aht(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Vu(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Nht(e,t,n){const r=this;let i=0;return s;function s(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||Ja(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Dt(c)?(e.exit("atxHeading"),t(c)):mi(c)?fr(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Ja(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const Rht=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qY=["pre","script","style","textarea"],Dht={name:"htmlFlow",tokenize:Fht,resolveTo:Lht,concrete:!0},Mht={tokenize:jht,partial:!0};function Lht(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Fht(e,t,n){const r=this;let i,s,o,a,l;return u;function u(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),c}function c(A){return A===33?(e.consume(A),d):A===47?(e.consume(A),g):A===63?(e.consume(A),i=3,r.interrupt?t:oe):wu(A)?(e.consume(A),o=String.fromCharCode(A),s=!0,y):n(A)}function d(A){return A===45?(e.consume(A),i=2,h):A===91?(e.consume(A),i=5,o="CDATA[",a=0,m):wu(A)?(e.consume(A),i=4,r.interrupt?t:oe):n(A)}function h(A){return A===45?(e.consume(A),r.interrupt?t:oe):n(A)}function m(A){return A===o.charCodeAt(a++)?(e.consume(A),a===o.length?r.interrupt?t:z:m):n(A)}function g(A){return wu(A)?(e.consume(A),o=String.fromCharCode(A),y):n(A)}function y(A){return A===null||A===47||A===62||Ja(A)?A!==47&&s&&qY.includes(o.toLowerCase())?(i=1,r.interrupt?t(A):z(A)):Rht.includes(o.toLowerCase())?(i=6,A===47?(e.consume(A),_):r.interrupt?t(A):z(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):s?b(A):v(A)):A===45||ia(A)?(e.consume(A),o+=String.fromCharCode(A),y):n(A)}function _(A){return A===62?(e.consume(A),r.interrupt?t:z):n(A)}function v(A){return mi(A)?(e.consume(A),v):M(A)}function b(A){return A===47?(e.consume(A),M):A===58||A===95||wu(A)?(e.consume(A),S):mi(A)?(e.consume(A),b):M(A)}function S(A){return A===45||A===46||A===58||A===95||ia(A)?(e.consume(A),S):x(A)}function x(A){return A===61?(e.consume(A),$):mi(A)?(e.consume(A),x):b(A)}function $(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),l=A,E):mi(A)?(e.consume(A),$):(l=null,I(A))}function E(A){return A===null||Dt(A)?n(A):A===l?(e.consume(A),T):(e.consume(A),E)}function I(A){return A===null||A===34||A===39||A===60||A===61||A===62||A===96||Ja(A)?x(A):(e.consume(A),I)}function T(A){return A===47||A===62||mi(A)?b(A):n(A)}function M(A){return A===62?(e.consume(A),U):n(A)}function U(A){return mi(A)?(e.consume(A),U):A===null||Dt(A)?z(A):n(A)}function z(A){return A===45&&i===2?(e.consume(A),ue):A===60&&i===1?(e.consume(A),le):A===62&&i===4?(e.consume(A),X):A===63&&i===3?(e.consume(A),oe):A===93&&i===5?(e.consume(A),Z):Dt(A)&&(i===6||i===7)?e.check(Mht,X,H)(A):A===null||Dt(A)?H(A):(e.consume(A),z)}function H(A){return e.exit("htmlFlowData"),q(A)}function q(A){return A===null?k(A):Dt(A)?e.attempt({tokenize:B,partial:!0},q,k)(A):(e.enter("htmlFlowData"),z(A))}function B(A,K,D){return R;function R(fe){return A.enter("lineEnding"),A.consume(fe),A.exit("lineEnding"),Y}function Y(fe){return r.parser.lazy[r.now().line]?D(fe):K(fe)}}function ue(A){return A===45?(e.consume(A),oe):z(A)}function le(A){return A===47?(e.consume(A),o="",pe):z(A)}function pe(A){return A===62&&qY.includes(o.toLowerCase())?(e.consume(A),X):wu(A)&&o.length<8?(e.consume(A),o+=String.fromCharCode(A),pe):z(A)}function Z(A){return A===93?(e.consume(A),oe):z(A)}function oe(A){return A===62?(e.consume(A),X):A===45&&i===2?(e.consume(A),oe):z(A)}function X(A){return A===null||Dt(A)?(e.exit("htmlFlowData"),k(A)):(e.consume(A),X)}function k(A){return e.exit("htmlFlow"),t(A)}}function jht(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(ST,t,n)}}const Bht={name:"htmlText",tokenize:zht};function zht(e,t,n){const r=this;let i,s,o,a;return l;function l(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),u}function u(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),I):k===63?(e.consume(k),$):wu(k)?(e.consume(k),U):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),s="CDATA[",o=0,_):wu(k)?(e.consume(k),x):n(k)}function d(k){return k===45?(e.consume(k),h):n(k)}function h(k){return k===null||k===62?n(k):k===45?(e.consume(k),m):g(k)}function m(k){return k===null||k===62?n(k):g(k)}function g(k){return k===null?n(k):k===45?(e.consume(k),y):Dt(k)?(a=g,Z(k)):(e.consume(k),g)}function y(k){return k===45?(e.consume(k),X):g(k)}function _(k){return k===s.charCodeAt(o++)?(e.consume(k),o===s.length?v:_):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),b):Dt(k)?(a=v,Z(k)):(e.consume(k),v)}function b(k){return k===93?(e.consume(k),S):v(k)}function S(k){return k===62?X(k):k===93?(e.consume(k),S):v(k)}function x(k){return k===null||k===62?X(k):Dt(k)?(a=x,Z(k)):(e.consume(k),x)}function $(k){return k===null?n(k):k===63?(e.consume(k),E):Dt(k)?(a=$,Z(k)):(e.consume(k),$)}function E(k){return k===62?X(k):$(k)}function I(k){return wu(k)?(e.consume(k),T):n(k)}function T(k){return k===45||ia(k)?(e.consume(k),T):M(k)}function M(k){return Dt(k)?(a=M,Z(k)):mi(k)?(e.consume(k),M):X(k)}function U(k){return k===45||ia(k)?(e.consume(k),U):k===47||k===62||Ja(k)?z(k):n(k)}function z(k){return k===47?(e.consume(k),X):k===58||k===95||wu(k)?(e.consume(k),H):Dt(k)?(a=z,Z(k)):mi(k)?(e.consume(k),z):X(k)}function H(k){return k===45||k===46||k===58||k===95||ia(k)?(e.consume(k),H):q(k)}function q(k){return k===61?(e.consume(k),B):Dt(k)?(a=q,Z(k)):mi(k)?(e.consume(k),q):z(k)}function B(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,ue):Dt(k)?(a=B,Z(k)):mi(k)?(e.consume(k),B):(e.consume(k),i=void 0,pe)}function ue(k){return k===i?(e.consume(k),le):k===null?n(k):Dt(k)?(a=ue,Z(k)):(e.consume(k),ue)}function le(k){return k===62||k===47||Ja(k)?z(k):n(k)}function pe(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===62||Ja(k)?z(k):(e.consume(k),pe)}function Z(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),fr(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oe(k){return e.enter("htmlTextData"),a(k)}function X(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}}const P4={name:"labelEnd",tokenize:Ght,resolveTo:qht,resolveAll:Wht},Vht={tokenize:Kht},Uht={tokenize:Yht},Hht={tokenize:Qht};function Wht(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function qht(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=Va(a,e.slice(s+1,s+r+3)),a=Va(a,[["enter",c,t]]),a=Va(a,$4(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Va(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=Va(a,e.slice(o+1)),a=Va(a,[["exit",l,t]]),Vu(e,s,e.length,a),e}function Ght(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(c){return s?s._inactive?u(c):(o=r.parser.defined.includes(Dg(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),l):n(c)}function l(c){return c===40?e.attempt(Vht,t,o?t:u)(c):c===91?e.attempt(Uht,t,o?e.attempt(Hht,t,u):u)(c):o?t(c):u(c)}function u(c){return s._balanced=!0,n(c)}}function Kht(e,t,n){return r;function r(l){return e.enter("resource"),e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),__(e,i)}function i(l){return l===41?a(l):jme(e,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function s(l){return Ja(l)?__(e,o)(l):a(l)}function o(l){return l===34||l===39||l===40?zme(e,__(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),e.exit("resource"),t):n(l)}}function Yht(e,t,n){const r=this;return i;function i(o){return Bme.call(r,e,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Dg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function Qht(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Xht={name:"labelStartImage",tokenize:Jht,resolveAll:P4.resolveAll};function Jht(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Zht={name:"labelStartLink",tokenize:ept,resolveAll:P4.resolveAll};function ept(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const CR={name:"lineEnding",tokenize:tpt};function tpt(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),fr(e,t,"linePrefix")}}const Zx={name:"thematicBreak",tokenize:npt};function npt(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(e.enter("thematicBreakSequence"),a(l)):mi(l)?fr(e,o,"whitespace")(l):r<3||l!==null&&!Dt(l)?n(l):(e.exit("thematicBreak"),t(l))}function a(l){return l===i?(e.consume(l),r++,a):(e.exit("thematicBreakSequence"),o(l))}}const fo={name:"list",tokenize:spt,continuation:{tokenize:opt},exit:lpt},rpt={tokenize:upt,partial:!0},ipt={tokenize:apt,partial:!0};function spt(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:uL(m)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Zx,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return uL(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(ST,r.interrupt?n:c,e.attempt(rpt,h,d))}function c(m){return r.containerState.initialBlankLine=!0,s++,h(m)}function d(m){return mi(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function opt(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ST,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,fr(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!mi(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(ipt,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,fr(e,e.attempt(fo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function apt(e,t,n){const r=this;return fr(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function lpt(e){e.exit(this.containerState.type)}function upt(e,t,n){const r=this;return fr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const o=r.events[r.events.length-1];return!mi(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const GY={name:"setextUnderline",tokenize:fpt,resolveTo:cpt};function cpt(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function fpt(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),s=c,l(c)):n(c)}function l(c){return c===s?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),fr(e,u,"lineSuffix")(c))}function u(c){return c===null||Dt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const dpt={tokenize:hpt};function hpt(e){const t=this,n=e.attempt(ST,r,e.attempt(this.parser.constructs.flowInitial,i,fr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(wht,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ppt={resolveAll:Ume()},mpt=Vme("string"),gpt=Vme("text");function Vme(e){return{tokenize:t,resolveAll:Ume(e==="text"?ypt:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let h=-1;if(d)for(;++h<d.length;){const m=d[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Ume(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function ypt(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function vpt(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:b,enter:S,exit:x,attempt:I($),check:I(E),interrupt:I(E,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:h,now:g,defineSkip:y,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(z){return o=Va(o,z),_(),o[o.length-1]!==null?[]:(T(t,0),u.events=$4(s,u.events,u),u.events)}function h(z,H){return wpt(m(z),H)}function m(z){return _pt(o,z)}function g(){return Object.assign({},r)}function y(z){i[z.line]=z.column,U()}function _(){let z;for(;r._index<o.length;){const H=o[r._index];if(typeof H=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<H.length;)v(H.charCodeAt(r._bufferIndex));else v(H)}}function v(z){c=c(z)}function b(z){Dt(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,U()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=z}function S(z,H){const q=H||{};return q.type=z,q.start=g(),u.events.push(["enter",q,u]),a.push(q),q}function x(z){const H=a.pop();return H.end=g(),u.events.push(["exit",H,u]),H}function $(z,H){T(z,H.from)}function E(z,H){H.restore()}function I(z,H){return q;function q(B,ue,le){let pe,Z,oe,X;return Array.isArray(B)?A(B):"tokenize"in B?A([B]):k(B);function k(Y){return fe;function fe(he){const ge=he!==null&&Y[he],ve=he!==null&&Y.null,ke=[...Array.isArray(ge)?ge:ge?[ge]:[],...Array.isArray(ve)?ve:ve?[ve]:[]];return A(ke)(he)}}function A(Y){return pe=Y,Z=0,Y.length===0?le:K(Y[Z])}function K(Y){return fe;function fe(he){return X=M(),oe=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?R():Y.tokenize.call(H?Object.assign(Object.create(u),H):u,l,D,R)(he)}}function D(Y){return z(oe,X),ue}function R(Y){return X.restore(),++Z<pe.length?K(pe[Z]):le}}}function T(z,H){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&Vu(u.events,H,u.events.length-H,z.resolve(u.events.slice(H),u)),z.resolveTo&&(u.events=z.resolveTo(u.events,u))}function M(){const z=g(),H=u.previous,q=u.currentConstruct,B=u.events.length,ue=Array.from(a);return{restore:le,from:B};function le(){r=z,u.previous=H,u.currentConstruct=q,u.events.length=B,a=ue,U()}}function U(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function _pt(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;return n===i?o=[e[n].slice(r,s)]:(o=e.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(e[i].slice(0,s))),o}function wpt(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const bpt={[42]:fo,[43]:fo,[45]:fo,[48]:fo,[49]:fo,[50]:fo,[51]:fo,[52]:fo,[53]:fo,[54]:fo,[55]:fo,[56]:fo,[57]:fo,[62]:Dme},Spt={[91]:Iht},xpt={[-2]:$R,[-1]:$R,[32]:$R},Ept={[35]:kht,[42]:Zx,[45]:[GY,Zx],[60]:Dht,[61]:GY,[95]:Zx,[96]:WY,[126]:WY},Ipt={[38]:Lme,[92]:Mme},Opt={[-5]:CR,[-4]:CR,[-3]:CR,[33]:Xht,[38]:Lme,[42]:fL,[60]:[rht,Bht],[91]:Zht,[92]:[Pht,Mme],[93]:P4,[95]:fL,[96]:mht},$pt={null:[fL,ppt]},Cpt={null:[42,95]},Ppt={null:[]},Tpt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Cpt,contentInitial:Spt,disable:Ppt,document:bpt,flow:Ept,flowInitial:xpt,insideSpan:$pt,string:Ipt,text:Opt},Symbol.toStringTag,{value:"Module"}));function kpt(e={}){const t=Vdt([Tpt].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(Qdt),document:r(Jdt),flow:r(dpt),string:r(mpt),text:r(gpt)};return n;function r(i){return s;function s(o){return vpt(n,i,o)}}}const KY=/[\0\t\n\r]/g;function Apt(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,h,m;for(s=t+s.toString(o),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(KY.lastIndex=d,u=KY.exec(s),h=u&&u.index!==void 0?u.index:s.length,m=s.charCodeAt(h),!u){t=s.slice(d);break}if(m===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(s.slice(d,h)),e+=h-d),m){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function Npt(e){for(;!Fme(e););return e}function Hme(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const Rpt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Dpt(e){return e.replace(Rpt,Mpt)}function Mpt(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Hme(n.slice(s?2:1),s?16:10)}return C4(n)||e}const dL={}.hasOwnProperty,Lpt=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Fpt(n)(Npt(kpt(n).document().write(Apt()(e,t,!0))))};function Fpt(e={}){const t=Wme({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ve),autolinkProtocol:H,autolinkEmail:H,atxHeading:l(Ae),blockQuote:l(ye),characterEscape:H,characterReference:H,codeFenced:l(it),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(it,u),codeText:l(Ke,u),codeTextData:H,data:H,codeFlowValue:H,definition:l(Je),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(He),hardBreakEscape:l(Xe),hardBreakTrailing:l(Xe),htmlFlow:l(_n,u),htmlFlowData:H,htmlText:l(_n,u),htmlTextData:H,image:l(We),label:u,link:l(Ve),listItem:l(st),listItemValue:y,listOrdered:l(Tt,g),listUnordered:l(Tt),paragraph:l(Rt),reference:Y,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Ae),strong:l(on),thematicBreak:l(Kn)},exit:{atxHeading:d(),atxHeadingSequence:T,autolink:d(),autolinkEmail:ke,autolinkProtocol:ve,blockQuote:d(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:he,characterReferenceMarkerNumeric:he,characterReferenceValue:ge,codeFenced:d(S),codeFencedFence:b,codeFencedFenceInfo:_,codeFencedFenceMeta:v,codeFlowValue:q,codeIndented:d(x),codeText:d(Z),codeTextData:q,data:q,definition:d(),definitionDestinationString:I,definitionLabelString:$,definitionTitleString:E,emphasis:d(),hardBreakEscape:d(ue),hardBreakTrailing:d(ue),htmlFlow:d(le),htmlFlowData:q,htmlText:d(pe),htmlTextData:q,image:d(X),label:A,labelText:k,lineEnding:B,link:d(oe),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:fe,resourceDestinationString:K,resourceTitleString:D,resource:R,setextHeading:d(z),setextHeadingLineSequence:U,setextHeadingText:M,strong:d(),thematicBreak:d()}},e.mdastExtensions||[]),n={};return r;function r(me){let Ie={type:"root",children:[]};const qe=[Ie],mt=[],ze=[],gt={stack:qe,tokenStack:mt,config:t,enter:c,exit:h,buffer:u,resume:m,setData:s,getData:o};let Ge=-1;for(;++Ge<me.length;)if(me[Ge][1].type==="listOrdered"||me[Ge][1].type==="listUnordered")if(me[Ge][0]==="enter")ze.push(Ge);else{const ft=ze.pop();Ge=i(me,ft,Ge)}for(Ge=-1;++Ge<me.length;){const ft=t[me[Ge][0]];dL.call(ft,me[Ge][1].type)&&ft[me[Ge][1].type].call(Object.assign({sliceSerialize:me[Ge][2].sliceSerialize},gt),me[Ge][1])}if(mt.length>0){const ft=mt[mt.length-1];(ft[1]||YY).call(gt,void 0,ft[0])}for(Ie.position={start:a(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:a(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<t.transforms.length;)Ie=t.transforms[Ge](Ie)||Ie;return Ie}function i(me,Ie,qe){let mt=Ie-1,ze=-1,gt=!1,Ge,ft,ur,dn;for(;++mt<=qe;){const Ft=me[mt];if(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered"||Ft[1].type==="blockQuote"?(Ft[0]==="enter"?ze++:ze--,dn=void 0):Ft[1].type==="lineEndingBlank"?Ft[0]==="enter"&&(Ge&&!dn&&!ze&&!ur&&(ur=mt),dn=void 0):Ft[1].type==="linePrefix"||Ft[1].type==="listItemValue"||Ft[1].type==="listItemMarker"||Ft[1].type==="listItemPrefix"||Ft[1].type==="listItemPrefixWhitespace"||(dn=void 0),!ze&&Ft[0]==="enter"&&Ft[1].type==="listItemPrefix"||ze===-1&&Ft[0]==="exit"&&(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered")){if(Ge){let hr=mt;for(ft=void 0;hr--;){const Bn=me[hr];if(Bn[1].type==="lineEnding"||Bn[1].type==="lineEndingBlank"){if(Bn[0]==="exit")continue;ft&&(me[ft][1].type="lineEndingBlank",gt=!0),Bn[1].type="lineEnding",ft=hr}else if(!(Bn[1].type==="linePrefix"||Bn[1].type==="blockQuotePrefix"||Bn[1].type==="blockQuotePrefixWhitespace"||Bn[1].type==="blockQuoteMarker"||Bn[1].type==="listItemIndent"))break}ur&&(!ft||ur<ft)&&(Ge._spread=!0),Ge.end=Object.assign({},ft?me[ft][1].start:Ft[1].end),me.splice(ft||mt,0,["exit",Ge,Ft[2]]),mt++,qe++}Ft[1].type==="listItemPrefix"&&(Ge={type:"listItem",_spread:!1,start:Object.assign({},Ft[1].start)},me.splice(mt,0,["enter",Ge,Ft[2]]),mt++,qe++,ur=void 0,dn=!0)}}return me[Ie][1]._spread=gt,qe}function s(me,Ie){n[me]=Ie}function o(me){return n[me]}function a(me){return{line:me.line,column:me.column,offset:me.offset}}function l(me,Ie){return qe;function qe(mt){c.call(this,me(mt),mt),Ie&&Ie.call(this,mt)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(me,Ie,qe){return this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Ie,qe]),me.position={start:a(Ie.start)},me}function d(me){return Ie;function Ie(qe){me&&me.call(this,qe),h.call(this,qe)}}function h(me,Ie){const qe=this.stack.pop(),mt=this.tokenStack.pop();if(mt)mt[0].type!==me.type&&(Ie?Ie.call(this,me,mt[0]):(mt[1]||YY).call(this,me,mt[0]));else throw new Error("Cannot close `"+me.type+"` ("+v_({start:me.start,end:me.end})+"): its not open");return qe.position.end=a(me.end),qe}function m(){return zdt(this.stack.pop())}function g(){s("expectingFirstListItemValue",!0)}function y(me){if(o("expectingFirstListItemValue")){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(me),10),s("expectingFirstListItemValue")}}function _(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=me}function v(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=me}function b(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function S(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function x(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me.replace(/(\r?\n|\r)$/g,"")}function $(me){const Ie=this.resume(),qe=this.stack[this.stack.length-1];qe.label=Ie,qe.identifier=Dg(this.sliceSerialize(me)).toLowerCase()}function E(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=me}function I(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=me}function T(me){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const qe=this.sliceSerialize(me).length;Ie.depth=qe}}function M(){s("setextHeadingSlurpLineEnding",!0)}function U(me){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(me).charCodeAt(0)===61?1:2}function z(){s("setextHeadingSlurpLineEnding")}function H(me){const Ie=this.stack[this.stack.length-1];let qe=Ie.children[Ie.children.length-1];(!qe||qe.type!=="text")&&(qe=On(),qe.position={start:a(me.start)},Ie.children.push(qe)),this.stack.push(qe)}function q(me){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(me),Ie.position.end=a(me.end)}function B(me){const Ie=this.stack[this.stack.length-1];if(o("atHardBreak")){const qe=Ie.children[Ie.children.length-1];qe.position.end=a(me.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Ie.type)&&(H.call(this,me),q.call(this,me))}function ue(){s("atHardBreak",!0)}function le(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function pe(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function Z(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=me}function oe(){const me=this.stack[this.stack.length-1];o("inReference")?(me.type+="Reference",me.referenceType=o("referenceType")||"shortcut",delete me.url,delete me.title):(delete me.identifier,delete me.label),s("referenceType")}function X(){const me=this.stack[this.stack.length-1];o("inReference")?(me.type+="Reference",me.referenceType=o("referenceType")||"shortcut",delete me.url,delete me.title):(delete me.identifier,delete me.label),s("referenceType")}function k(me){const Ie=this.stack[this.stack.length-2],qe=this.sliceSerialize(me);Ie.label=Dpt(qe),Ie.identifier=Dg(qe).toLowerCase()}function A(){const me=this.stack[this.stack.length-1],Ie=this.resume(),qe=this.stack[this.stack.length-1];s("inReference",!0),qe.type==="link"?qe.children=me.children:qe.alt=Ie}function K(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=me}function D(){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=me}function R(){s("inReference")}function Y(){s("referenceType","collapsed")}function fe(me){const Ie=this.resume(),qe=this.stack[this.stack.length-1];qe.label=Ie,qe.identifier=Dg(this.sliceSerialize(me)).toLowerCase(),s("referenceType","full")}function he(me){s("characterReferenceType",me.type)}function ge(me){const Ie=this.sliceSerialize(me),qe=o("characterReferenceType");let mt;qe?(mt=Hme(Ie,qe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):mt=C4(Ie);const ze=this.stack.pop();ze.value+=mt,ze.position.end=a(me.end)}function ve(me){q.call(this,me);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(me)}function ke(me){q.call(this,me);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(me)}function ye(){return{type:"blockquote",children:[]}}function it(){return{type:"code",lang:null,meta:null,value:""}}function Ke(){return{type:"inlineCode",value:""}}function Je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function He(){return{type:"emphasis",children:[]}}function Ae(){return{type:"heading",depth:void 0,children:[]}}function Xe(){return{type:"break"}}function _n(){return{type:"html",value:""}}function We(){return{type:"image",title:null,url:"",alt:null}}function Ve(){return{type:"link",title:null,url:"",children:[]}}function Tt(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function st(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function Rt(){return{type:"paragraph",children:[]}}function on(){return{type:"strong",children:[]}}function On(){return{type:"text",value:""}}function Kn(){return{type:"thematicBreak"}}}function Wme(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Wme(e,r):jpt(e,r)}return e}function jpt(e,t){let n;for(n in t)if(dL.call(t,n)){const r=n==="canContainEols"||n==="transforms",s=(dL.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),o=t[n];o&&(r?e[n]=[...s,...o]:Object.assign(s,o))}}function YY(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+v_({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+v_({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+v_({start:t.start,end:t.end})+") is still open")}function Bpt(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return Lpt(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Ti=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const eE={}.hasOwnProperty;function zpt(e,t){const n=t.data||{};return"value"in t&&!(eE.call(n,"hName")||eE.call(n,"hProperties")||eE.call(n,"hChildren"))?e.augment(t,Ti("text",t.value)):e(t,"div",Fs(e,t))}function qme(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return eE.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=Vpt:i=e.unknownHandler,(typeof i=="function"?i:zpt)(e,t,n)}function Vpt(e,t){return"children"in t?{...t,children:Fs(e,t)}:t}function Fs(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=qme(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}const Gme=function(e){if(e==null)return qpt;if(typeof e=="string")return Wpt(e);if(typeof e=="object")return Array.isArray(e)?Upt(e):Hpt(e);if(typeof e=="function")return xT(e);throw new Error("Expected function, string, or object as test")};function Upt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Gme(e[n]);return xT(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function Hpt(e){return xT(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Wpt(e){return xT(t);function t(n){return n&&n.type===e}}function xT(e){return t;function t(...n){return!!e.call(this,...n)}}function qpt(){return!0}const Gpt=!0,Kpt="skip",QY=!1,Ypt=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=Gme(t),s=r?-1:1;o(e,null,[])();function o(a,l,u){const c=typeof a=="object"&&a!==null?a:{};let d;return typeof c.type=="string"&&(d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(h,"name",{value:"node ("+(c.type+(d?"<"+d+">":""))+")"})),h;function h(){let m=[],g,y,_;if((!t||i(a,l,u[u.length-1]||null))&&(m=Qpt(n(a,u)),m[0]===QY))return m;if(a.children&&m[0]!==Kpt)for(y=(r?a.children.length:-1)+s,_=u.concat(a);y>-1&&y<a.children.length;){if(g=o(a.children[y],y,_)(),g[0]===QY)return g;y=typeof g[1]=="number"?g[1]:y+s}return m}}};function Qpt(e){return Array.isArray(e)?e:typeof e=="number"?[Gpt,e]:[e]}const T4=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),Ypt(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}},Kme=Qme("start"),Yme=Qme("end");function Qme(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Xpt(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const XY={}.hasOwnProperty;function Jpt(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return T4(e,"definition",r=>{const i=JY(r.identifier);i&&!XY.call(t,i)&&(t[i]=r)}),n;function n(r){const i=JY(r);return i&&XY.call(t,i)?t[i]:null}}function JY(e){return String(e||"").toUpperCase()}function dv(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&ia(e.charCodeAt(n+1))&&ia(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ec(e,t){const n=[];let r=-1;for(t&&n.push(Ti("text",`
`));++r<e.length;)r&&n.push(Ti("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(Ti("text",`
`)),n}function Zpt(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=Fs(e,r),s=String(r.identifier),o=dv(s.toLowerCase());let a=0;const l=[];for(;++a<=e.footnoteCounts[s];){const d={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&d.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(d)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const d=u.children[u.children.length-1];d&&d.type==="text"?d.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:Ec(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Ti("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:Ec(n,!0)},{type:"text",value:`
`}]}}function emt(e,t){return e(t,"blockquote",Ec(Fs(e,t),!0))}function tmt(e,t){return[e(t,"br"),Ti("text",`
`)]}function nmt(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const s=e(t,"code",i,[Ti("text",n)]);return t.meta&&(s.data={meta:t.meta}),e(t.position,"pre",[s])}function rmt(e,t){return e(t,"del",Fs(e,t))}function imt(e,t){return e(t,"em",Fs(e,t))}function Xme(e,t){const n=String(t.identifier),r=dv(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Ti("text",String(s))])])}function smt(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Xme(e,{type:"footnoteReference",identifier:i,position:t.position})}function omt(e,t){return e(t,"h"+t.depth,Fs(e,t))}function amt(e,t){return e.dangerous?e.augment(t,Ti("raw",t.value)):null}function Jme(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Ti("text","!["+t.alt+r);const i=Fs(e,t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift(Ti("text","["));const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push(Ti("text",r)),i}function lmt(e,t){const n=e.definition(t.identifier);if(!n)return Jme(e,t);const r={src:dv(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function umt(e,t){const n={src:dv(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function cmt(e,t){return e(t,"code",[Ti("text",t.value.replace(/\r?\n|\r/g," "))])}function fmt(e,t){const n=e.definition(t.identifier);if(!n)return Jme(e,t);const r={href:dv(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,Fs(e,t))}function dmt(e,t){const n={href:dv(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,Fs(e,t))}function hmt(e,t,n){const r=Fs(e,t),i=n?pmt(n):Zme(t),s={},o=[];if(typeof t.checked=="boolean"){let u;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?u=r[0]:(u=e(null,"p",[]),r.unshift(u)),u.children.length>0&&u.children.unshift(Ti("text"," ")),u.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push(Ti("text",`
`)),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];return l&&(i||!("tagName"in l)||l.tagName!=="p")&&o.push(Ti("text",`
`)),e(t,"li",s,o)}function pmt(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Zme(n[r]);return!!t}function Zme(e){const t=e.spread;return t??e.children.length>1}function mmt(e,t){const n={},r=t.ordered?"ol":"ul",i=Fs(e,t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,Ec(i,!0))}function gmt(e,t){return e(t,"p",Fs(e,t))}function ymt(e,t){return e.augment(t,Ti("root",Ec(Fs(e,t))))}function vmt(e,t){return e(t,"strong",Fs(e,t))}function _mt(e,t){const n=t.children;let r=-1;const i=t.align||[],s=[];for(;++r<n.length;){const o=n[r].children,a=r===0?"th":"td",l=[];let u=-1;const c=t.align?i.length:o.length;for(;++u<c;){const d=o[u];l.push(e(d,a,{align:i[u]},d?Fs(e,d):[]))}s[r]=e(n[r],"tr",Ec(l,!0))}return e(t,"table",Ec([e(s[0].position,"thead",Ec([s[0]],!0))].concat(s[1]?e({start:Kme(s[1]),end:Yme(s[s.length-1])},"tbody",Ec(s.slice(1),!0)):[]),!0))}const ZY=9,eQ=32;function wmt(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(tQ(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(tQ(t.slice(i),i>0,!1)),s.join("")}function tQ(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===ZY||s===eQ;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===ZY||s===eQ;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function bmt(e,t){return e.augment(t,Ti("text",wmt(String(t.value))))}function Smt(e,t){return e(t,"hr")}const xmt={blockquote:emt,break:tmt,code:nmt,delete:rmt,emphasis:imt,footnoteReference:Xme,footnote:smt,heading:omt,html:amt,imageReference:lmt,image:umt,inlineCode:cmt,linkReference:fmt,link:dmt,listItem:hmt,list:mmt,paragraph:gmt,root:ymt,strong:vmt,table:_mt,text:bmt,thematicBreak:Smt,toml:rx,yaml:rx,definition:rx,footnoteDefinition:rx};function rx(){return null}const Emt={}.hasOwnProperty;function Imt(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=Jpt(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=s,o.handlers={...xmt,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,T4(e,"footnoteDefinition",a=>{const l=String(a.identifier).toUpperCase();Emt.call(i,l)||(i[l]=a)}),o;function s(a,l){if(a&&"data"in a&&a.data){const u=a.data;u.hName&&(l.type!=="element"&&(l={type:"element",tagName:"",properties:{},children:[]}),l.tagName=u.hName),l.type==="element"&&u.hProperties&&(l.properties={...l.properties,...u.hProperties}),"children"in l&&l.children&&u.hChildren&&(l.children=u.hChildren)}if(a){const u="type"in a?a:{position:a};Xpt(u)||(l.position={start:Kme(u),end:Yme(u)})}return l}function o(a,l,u,c){return Array.isArray(u)&&(c=u,u={}),s(a,{type:"element",tagName:l,properties:u||{},children:c||[]})}}function ege(e,t){const n=Imt(e,t),r=qme(n,e,null),i=Zpt(n);return i&&r.children.push(Ti("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const Omt=function(e,t){return e&&"run"in e?Cmt(e,t):Pmt(e||t)},$mt=Omt;function Cmt(e,t){return(n,r,i)=>{e.run(ege(n,t),r,s=>{i(s)})}}function Pmt(e){return t=>ege(t,e)}var tge={exports:{}},Tmt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kmt=Tmt,Amt=kmt;function nge(){}function rge(){}rge.resetWarningCache=nge;var Nmt=function(){function e(r,i,s,o,a,l){if(l!==Amt){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rge,resetWarningCache:nge};return n.PropTypes=n,n};tge.exports=Nmt();var Rmt=tge.exports;const St=Uu(Rmt);class K1{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}K1.prototype.property={};K1.prototype.normal={};K1.prototype.space=null;function ige(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new K1(n,r,t)}function hL(e){return e.toLowerCase()}class fl{constructor(t,n){this.property=t,this.attribute=n}}fl.prototype.space=null;fl.prototype.boolean=!1;fl.prototype.booleanish=!1;fl.prototype.overloadedBoolean=!1;fl.prototype.number=!1;fl.prototype.commaSeparated=!1;fl.prototype.spaceSeparated=!1;fl.prototype.commaOrSpaceSeparated=!1;fl.prototype.mustUseProperty=!1;fl.prototype.defined=!1;let Dmt=0;const rn=im(),di=im(),sge=im(),je=im(),wr=im(),Mg=im(),Yo=im();function im(){return 2**++Dmt}const pL=Object.freeze(Object.defineProperty({__proto__:null,boolean:rn,booleanish:di,commaOrSpaceSeparated:Yo,commaSeparated:Mg,number:je,overloadedBoolean:sge,spaceSeparated:wr},Symbol.toStringTag,{value:"Module"})),PR=Object.keys(pL);class k4 extends fl{constructor(t,n,r,i){let s=-1;if(super(t,n),nQ(this,"space",i),typeof r=="number")for(;++s<PR.length;){const o=PR[s];nQ(this,PR[s],(r&pL[o])===pL[o])}}}k4.prototype.defined=!0;function nQ(e,t,n){n&&(e[t]=n)}const Mmt={}.hasOwnProperty;function hv(e){const t={},n={};let r;for(r in e.properties)if(Mmt.call(e.properties,r)){const i=e.properties[r],s=new k4(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[hL(r)]=r,n[hL(s.attribute)]=r}return new K1(t,n,e.space)}const oge=hv({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),age=hv({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function lge(e,t){return t in e?e[t]:t}function uge(e,t){return lge(e,t.toLowerCase())}const cge=hv({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:uge,properties:{xmlns:null,xmlnsXLink:null}}),fge=hv({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:di,ariaAutoComplete:null,ariaBusy:di,ariaChecked:di,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:wr,ariaCurrent:null,ariaDescribedBy:wr,ariaDetails:null,ariaDisabled:di,ariaDropEffect:wr,ariaErrorMessage:null,ariaExpanded:di,ariaFlowTo:wr,ariaGrabbed:di,ariaHasPopup:null,ariaHidden:di,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wr,ariaLevel:je,ariaLive:null,ariaModal:di,ariaMultiLine:di,ariaMultiSelectable:di,ariaOrientation:null,ariaOwns:wr,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:di,ariaReadOnly:di,ariaRelevant:null,ariaRequired:di,ariaRoleDescription:wr,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:di,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null}}),Lmt=hv({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:uge,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Mg,acceptCharset:wr,accessKey:wr,action:null,allow:null,allowFullScreen:rn,allowPaymentRequest:rn,allowUserMedia:rn,alt:null,as:null,async:rn,autoCapitalize:null,autoComplete:wr,autoFocus:rn,autoPlay:rn,capture:rn,charSet:null,checked:rn,cite:null,className:wr,cols:je,colSpan:null,content:null,contentEditable:di,controls:rn,controlsList:wr,coords:je|Mg,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rn,defer:rn,dir:null,dirName:null,disabled:rn,download:sge,draggable:di,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rn,formTarget:null,headers:wr,height:je,hidden:rn,high:je,href:null,hrefLang:null,htmlFor:wr,httpEquiv:wr,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:rn,itemId:null,itemProp:wr,itemRef:wr,itemScope:rn,itemType:wr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rn,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:rn,muted:rn,name:null,nonce:null,noModule:rn,noValidate:rn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rn,optimum:je,pattern:null,ping:wr,placeholder:null,playsInline:rn,poster:null,preload:null,readOnly:rn,referrerPolicy:null,rel:wr,required:rn,reversed:rn,rows:je,rowSpan:je,sandbox:wr,scope:null,scoped:rn,seamless:rn,selected:rn,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:di,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:rn,useMap:null,value:di,width:je,wrap:null,align:null,aLink:null,archive:wr,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rn,declare:rn,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:rn,noHref:rn,noShade:rn,noWrap:rn,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:di,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rn,disableRemotePlayback:rn,prefix:null,property:null,results:je,security:null,unselectable:null}}),Fmt=hv({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:lge,properties:{about:Yo,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:wr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:rn,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Mg,g2:Mg,glyphName:Mg,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:Yo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Yo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Yo,rev:Yo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Yo,requiredFeatures:Yo,requiredFonts:Yo,requiredFormats:Yo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:Yo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Yo,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Yo,to:null,transform:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),jmt=/^data[-\w.:]+$/i,rQ=/-[a-z]/g,Bmt=/[A-Z]/g;function zmt(e,t){const n=hL(t);let r=t,i=fl;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jmt.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(rQ,Umt);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!rQ.test(s)){let o=s.replace(Bmt,Vmt);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=k4}return new i(r,t)}function Vmt(e){return"-"+e.toLowerCase()}function Umt(e){return e.charAt(1).toUpperCase()}const iQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Hmt=ige([age,oge,cge,fge,Lmt],"html"),Wmt=ige([age,oge,cge,fge,Fmt],"svg");function qmt(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{T4(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var dge={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A4=Symbol.for("react.element"),N4=Symbol.for("react.portal"),ET=Symbol.for("react.fragment"),IT=Symbol.for("react.strict_mode"),OT=Symbol.for("react.profiler"),$T=Symbol.for("react.provider"),CT=Symbol.for("react.context"),Gmt=Symbol.for("react.server_context"),PT=Symbol.for("react.forward_ref"),TT=Symbol.for("react.suspense"),kT=Symbol.for("react.suspense_list"),AT=Symbol.for("react.memo"),NT=Symbol.for("react.lazy"),Kmt=Symbol.for("react.offscreen"),hge;hge=Symbol.for("react.module.reference");function dl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case A4:switch(e=e.type,e){case ET:case OT:case IT:case TT:case kT:return e;default:switch(e=e&&e.$$typeof,e){case Gmt:case CT:case PT:case NT:case AT:case $T:return e;default:return t}}case N4:return t}}}tr.ContextConsumer=CT;tr.ContextProvider=$T;tr.Element=A4;tr.ForwardRef=PT;tr.Fragment=ET;tr.Lazy=NT;tr.Memo=AT;tr.Portal=N4;tr.Profiler=OT;tr.StrictMode=IT;tr.Suspense=TT;tr.SuspenseList=kT;tr.isAsyncMode=function(){return!1};tr.isConcurrentMode=function(){return!1};tr.isContextConsumer=function(e){return dl(e)===CT};tr.isContextProvider=function(e){return dl(e)===$T};tr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===A4};tr.isForwardRef=function(e){return dl(e)===PT};tr.isFragment=function(e){return dl(e)===ET};tr.isLazy=function(e){return dl(e)===NT};tr.isMemo=function(e){return dl(e)===AT};tr.isPortal=function(e){return dl(e)===N4};tr.isProfiler=function(e){return dl(e)===OT};tr.isStrictMode=function(e){return dl(e)===IT};tr.isSuspense=function(e){return dl(e)===TT};tr.isSuspenseList=function(e){return dl(e)===kT};tr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ET||e===OT||e===IT||e===TT||e===kT||e===Kmt||typeof e=="object"&&e!==null&&(e.$$typeof===NT||e.$$typeof===AT||e.$$typeof===$T||e.$$typeof===CT||e.$$typeof===PT||e.$$typeof===hge||e.getModuleId!==void 0)};tr.typeOf=dl;dge.exports=tr;var Ymt=dge.exports;const Qmt=Uu(Ymt);function Xmt(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function Jmt(e){return e.join(" ").trim()}function Zmt(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var R4={exports:{}},sQ=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,egt=/\n/g,tgt=/^\s*/,ngt=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,rgt=/^:\s*/,igt=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sgt=/^[;\s]*/,ogt=/^\s+|\s+$/g,agt=`
`,oQ="/",aQ="*",jh="",lgt="comment",ugt="declaration",cgt=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var y=g.match(egt);y&&(n+=y.length);var _=g.lastIndexOf(agt);r=~_?g.length-_:r+g.length}function s(){var g={line:n,column:r};return function(y){return y.position=new o(g),u(),y}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(g){var y=g.exec(e);if(y){var _=y[0];return i(_),e=e.slice(_.length),y}}function u(){l(tgt)}function c(g){var y;for(g=g||[];y=d();)y!==!1&&g.push(y);return g}function d(){var g=s();if(!(oQ!=e.charAt(0)||aQ!=e.charAt(1))){for(var y=2;jh!=e.charAt(y)&&(aQ!=e.charAt(y)||oQ!=e.charAt(y+1));)++y;if(y+=2,jh===e.charAt(y-1))return a("End of comment missing");var _=e.slice(2,y-2);return r+=2,i(_),e=e.slice(y),r+=2,g({type:lgt,comment:_})}}function h(){var g=s(),y=l(ngt);if(y){if(d(),!l(rgt))return a("property missing ':'");var _=l(igt),v=g({type:ugt,property:lQ(y[0].replace(sQ,jh)),value:_?lQ(_[0].replace(sQ,jh)):jh});return l(sgt),v}}function m(){var g=[];c(g);for(var y;y=h();)y!==!1&&(g.push(y),c(g));return g}return u(),m()};function lQ(e){return e?e.replace(ogt,jh):jh}var fgt=cgt;function pge(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=fgt(e),s=typeof t=="function",o,a,l=0,u=i.length;l<u;l++)r=i[l],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}R4.exports=pge;R4.exports.default=pge;var dgt=R4.exports;const hgt=Uu(dgt),mL={}.hasOwnProperty,pgt=new Set(["table","thead","tbody","tfoot","tr"]);function mge(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(mgt(e,i,r,t)):i.type==="text"?(t.type!=="element"||!pgt.has(t.tagName)||!Xmt(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function mgt(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?Sdt:i.transformLinkUri,o=e.schema,a=t.tagName,l={};let u=o,c;if(o.space==="html"&&a==="svg"&&(u=Wmt,e.schema=u),t.properties)for(c in t.properties)mL.call(t.properties,c)&&ygt(l,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const d=mge(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const h=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&mL.call(i.components,a)?i.components[a]:a,g=typeof m=="string"||m===Ka.Fragment;if(!Qmt.isValidElementType(m))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=[a,h.start.line,h.start.column,n].join("-"),a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&s&&(l.href=s(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!g&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!g&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!g&&a==="li"&&r.type==="element"){const y=ggt(t);l.checked=y&&y.properties?!!y.properties.checked:null,l.index=TR(r,t),l.ordered=r.tagName==="ol"}return!g&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=e.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),g||(l.isHeader=a==="th")),!g&&a==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=wgt(h)),!g&&i.rawSourcePos&&(l.sourcePosition=t.position),!g&&i.includeElementIndex&&(l.index=TR(r,t),l.siblingCount=TR(r)),g||(l.node=t),d.length>0?Ka.createElement(m,l,d):Ka.createElement(m,l)}function ggt(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function TR(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function ygt(e,t,n,r){const i=zmt(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Zmt(s):Jmt(s)),i.property==="style"&&typeof s=="string"&&(s=vgt(s)),i.space&&i.property?e[mL.call(iQ,i.property)?iQ[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function vgt(e){const t={};try{hgt(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,_gt)]=i}}function _gt(e,t){return t.toUpperCase()}function wgt(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const uQ={}.hasOwnProperty,bgt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ix={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function gge(e){for(const s in ix)if(uQ.call(ix,s)&&uQ.call(e,s)){const o=ix[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${bgt}#${o.id}> for more info)`),delete ix[s]}const t=Ldt().use(Bpt).use(e.remarkPlugins||[]).use($mt,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(qmt,e),n=new Tme;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=P(Zn,{children:mge({options:e,schema:Hmt,listDepth:0},r)});return e.className&&(i=P("div",{className:e.className,children:i})),i}gge.propTypes={children:St.string,className:St.string,allowElement:St.func,allowedElements:St.arrayOf(St.string),disallowedElements:St.arrayOf(St.string),unwrapDisallowed:St.bool,remarkPlugins:St.arrayOf(St.oneOfType([St.object,St.func,St.arrayOf(St.oneOfType([St.bool,St.string,St.object,St.func,St.arrayOf(St.any)]))])),rehypePlugins:St.arrayOf(St.oneOfType([St.object,St.func,St.arrayOf(St.oneOfType([St.bool,St.string,St.object,St.func,St.arrayOf(St.any)]))])),sourcePos:St.bool,rawSourcePos:St.bool,skipHtml:St.bool,includeElementIndex:St.bool,transformLinkUri:St.oneOfType([St.func,St.bool]),linkTarget:St.oneOfType([St.func,St.string]),transformImageUri:St.func,components:St.object};function Ay({text:e}){return P(Zn,{children:P(gge,{components:{img:({node:n,...r})=>P(Xw,{...r}),p:({node:n,...r})=>P(Bt,{...r,pb:8}),h1:({node:n,...r})=>P(Mf,{order:1,...r,pb:12}),h2:({node:n,...r})=>P(Mf,{order:2,...r,pb:12}),h3:({node:n,...r})=>P(Mf,{order:3,...r,pb:12}),h4:({node:n,...r})=>P(Mf,{order:4,...r,pb:12}),h5:({node:n,...r})=>P(Mf,{order:5,...r,pb:12}),h6:({node:n,...r})=>P(Mf,{order:6,...r,pb:12}),a:({node:n,...r})=>P(Bee,{...r}),ul:({node:n,...r})=>P(Xg,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>P(Xg,{type:"ordered",withPadding:!0,...r,pb:8})},children:e})})}function Sgt({path:e}){const[t,n]=O.useState(null);return O.useEffect(()=>{fetch(`${Ku}${e}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:P(Zn,{children:P(Ay,{text:t})})}function Ny(){return Hl(e=>e.unTrrackedSlice.config)}function yge(){const e=Hl(r=>r.trrackedSlice),t=Jd();return e[t]}function xgt(){this.__data__=[],this.size=0}var Egt=xgt;function Igt(e,t){return e===t||e!==e&&t!==t}var RT=Igt,Ogt=RT;function $gt(e,t){for(var n=e.length;n--;)if(Ogt(e[n][0],t))return n;return-1}var DT=$gt,Cgt=DT,Pgt=Array.prototype,Tgt=Pgt.splice;function kgt(e){var t=this.__data__,n=Cgt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Tgt.call(t,n,1),--this.size,!0}var Agt=kgt,Ngt=DT;function Rgt(e){var t=this.__data__,n=Ngt(t,e);return n<0?void 0:t[n][1]}var Dgt=Rgt,Mgt=DT;function Lgt(e){return Mgt(this.__data__,e)>-1}var Fgt=Lgt,jgt=DT;function Bgt(e,t){var n=this.__data__,r=jgt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var zgt=Bgt,Vgt=Egt,Ugt=Agt,Hgt=Dgt,Wgt=Fgt,qgt=zgt;function pv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pv.prototype.clear=Vgt;pv.prototype.delete=Ugt;pv.prototype.get=Hgt;pv.prototype.has=Wgt;pv.prototype.set=qgt;var MT=pv,Ggt=MT;function Kgt(){this.__data__=new Ggt,this.size=0}var Ygt=Kgt;function Qgt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Xgt=Qgt;function Jgt(e){return this.__data__.get(e)}var Zgt=Jgt;function eyt(e){return this.__data__.has(e)}var tyt=eyt,nyt=typeof So=="object"&&So&&So.Object===Object&&So,vge=nyt,ryt=vge,iyt=typeof self=="object"&&self&&self.Object===Object&&self,syt=ryt||iyt||Function("return this")(),mv=syt,oyt=mv,ayt=oyt.Symbol,_ge=ayt,cQ=_ge,wge=Object.prototype,lyt=wge.hasOwnProperty,uyt=wge.toString,g0=cQ?cQ.toStringTag:void 0;function cyt(e){var t=lyt.call(e,g0),n=e[g0];try{e[g0]=void 0;var r=!0}catch{}var i=uyt.call(e);return r&&(t?e[g0]=n:delete e[g0]),i}var fyt=cyt,dyt=Object.prototype,hyt=dyt.toString;function pyt(e){return hyt.call(e)}var myt=pyt,fQ=_ge,gyt=fyt,yyt=myt,vyt="[object Null]",_yt="[object Undefined]",dQ=fQ?fQ.toStringTag:void 0;function wyt(e){return e==null?e===void 0?_yt:vyt:dQ&&dQ in Object(e)?gyt(e):yyt(e)}var LT=wyt;function byt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var sm=byt,Syt=LT,xyt=sm,Eyt="[object AsyncFunction]",Iyt="[object Function]",Oyt="[object GeneratorFunction]",$yt="[object Proxy]";function Cyt(e){if(!xyt(e))return!1;var t=Syt(e);return t==Iyt||t==Oyt||t==Eyt||t==$yt}var D4=Cyt,Pyt=mv,Tyt=Pyt["__core-js_shared__"],kyt=Tyt,kR=kyt,hQ=function(){var e=/[^.]+$/.exec(kR&&kR.keys&&kR.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ayt(e){return!!hQ&&hQ in e}var Nyt=Ayt,Ryt=Function.prototype,Dyt=Ryt.toString;function Myt(e){if(e!=null){try{return Dyt.call(e)}catch{}try{return e+""}catch{}}return""}var Lyt=Myt,Fyt=D4,jyt=Nyt,Byt=sm,zyt=Lyt,Vyt=/[\\^$.*+?()[\]{}|]/g,Uyt=/^\[object .+?Constructor\]$/,Hyt=Function.prototype,Wyt=Object.prototype,qyt=Hyt.toString,Gyt=Wyt.hasOwnProperty,Kyt=RegExp("^"+qyt.call(Gyt).replace(Vyt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yyt(e){if(!Byt(e)||jyt(e))return!1;var t=Fyt(e)?Kyt:Uyt;return t.test(zyt(e))}var Qyt=Yyt;function Xyt(e,t){return e==null?void 0:e[t]}var Jyt=Xyt,Zyt=Qyt,evt=Jyt;function tvt(e,t){var n=evt(e,t);return Zyt(n)?n:void 0}var M4=tvt,nvt=M4,rvt=mv,ivt=nvt(rvt,"Map"),bge=ivt,svt=M4,ovt=svt(Object,"create"),FT=ovt,pQ=FT;function avt(){this.__data__=pQ?pQ(null):{},this.size=0}var lvt=avt;function uvt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cvt=uvt,fvt=FT,dvt="__lodash_hash_undefined__",hvt=Object.prototype,pvt=hvt.hasOwnProperty;function mvt(e){var t=this.__data__;if(fvt){var n=t[e];return n===dvt?void 0:n}return pvt.call(t,e)?t[e]:void 0}var gvt=mvt,yvt=FT,vvt=Object.prototype,_vt=vvt.hasOwnProperty;function wvt(e){var t=this.__data__;return yvt?t[e]!==void 0:_vt.call(t,e)}var bvt=wvt,Svt=FT,xvt="__lodash_hash_undefined__";function Evt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Svt&&t===void 0?xvt:t,this}var Ivt=Evt,Ovt=lvt,$vt=cvt,Cvt=gvt,Pvt=bvt,Tvt=Ivt;function gv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gv.prototype.clear=Ovt;gv.prototype.delete=$vt;gv.prototype.get=Cvt;gv.prototype.has=Pvt;gv.prototype.set=Tvt;var kvt=gv,mQ=kvt,Avt=MT,Nvt=bge;function Rvt(){this.size=0,this.__data__={hash:new mQ,map:new(Nvt||Avt),string:new mQ}}var Dvt=Rvt;function Mvt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Lvt=Mvt,Fvt=Lvt;function jvt(e,t){var n=e.__data__;return Fvt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var jT=jvt,Bvt=jT;function zvt(e){var t=Bvt(this,e).delete(e);return this.size-=t?1:0,t}var Vvt=zvt,Uvt=jT;function Hvt(e){return Uvt(this,e).get(e)}var Wvt=Hvt,qvt=jT;function Gvt(e){return qvt(this,e).has(e)}var Kvt=Gvt,Yvt=jT;function Qvt(e,t){var n=Yvt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Xvt=Qvt,Jvt=Dvt,Zvt=Vvt,e0t=Wvt,t0t=Kvt,n0t=Xvt;function yv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yv.prototype.clear=Jvt;yv.prototype.delete=Zvt;yv.prototype.get=e0t;yv.prototype.has=t0t;yv.prototype.set=n0t;var r0t=yv,i0t=MT,s0t=bge,o0t=r0t,a0t=200;function l0t(e,t){var n=this.__data__;if(n instanceof i0t){var r=n.__data__;if(!s0t||r.length<a0t-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new o0t(r)}return n.set(e,t),this.size=n.size,this}var u0t=l0t,c0t=MT,f0t=Ygt,d0t=Xgt,h0t=Zgt,p0t=tyt,m0t=u0t;function vv(e){var t=this.__data__=new c0t(e);this.size=t.size}vv.prototype.clear=f0t;vv.prototype.delete=d0t;vv.prototype.get=h0t;vv.prototype.has=p0t;vv.prototype.set=m0t;var g0t=vv,y0t=M4,v0t=function(){try{var e=y0t(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sge=v0t,gQ=Sge;function _0t(e,t,n){t=="__proto__"&&gQ?gQ(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var L4=_0t,w0t=L4,b0t=RT;function S0t(e,t,n){(n!==void 0&&!b0t(e[t],n)||n===void 0&&!(t in e))&&w0t(e,t,n)}var xge=S0t;function x0t(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(n(s[l],l,s)===!1)break}return t}}var E0t=x0t,I0t=E0t,O0t=I0t(),$0t=O0t,z$={exports:{}};z$.exports;(function(e,t){var n=mv,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}e.exports=l})(z$,z$.exports);var C0t=z$.exports,P0t=mv,T0t=P0t.Uint8Array,k0t=T0t,yQ=k0t;function A0t(e){var t=new e.constructor(e.byteLength);return new yQ(t).set(new yQ(e)),t}var N0t=A0t,R0t=N0t;function D0t(e,t){var n=t?R0t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var M0t=D0t;function L0t(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var F0t=L0t,j0t=sm,vQ=Object.create,B0t=function(){function e(){}return function(t){if(!j0t(t))return{};if(vQ)return vQ(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),z0t=B0t;function V0t(e,t){return function(n){return e(t(n))}}var U0t=V0t,H0t=U0t,W0t=H0t(Object.getPrototypeOf,Object),Ege=W0t,q0t=Object.prototype;function G0t(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||q0t;return e===n}var Ige=G0t,K0t=z0t,Y0t=Ege,Q0t=Ige;function X0t(e){return typeof e.constructor=="function"&&!Q0t(e)?K0t(Y0t(e)):{}}var J0t=X0t;function Z0t(e){return e!=null&&typeof e=="object"}var Y1=Z0t,e_t=LT,t_t=Y1,n_t="[object Arguments]";function r_t(e){return t_t(e)&&e_t(e)==n_t}var i_t=r_t,_Q=i_t,s_t=Y1,Oge=Object.prototype,o_t=Oge.hasOwnProperty,a_t=Oge.propertyIsEnumerable,l_t=_Q(function(){return arguments}())?_Q:function(e){return s_t(e)&&o_t.call(e,"callee")&&!a_t.call(e,"callee")},$ge=l_t,u_t=Array.isArray,Cge=u_t,c_t=9007199254740991;function f_t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=c_t}var Pge=f_t,d_t=D4,h_t=Pge;function p_t(e){return e!=null&&h_t(e.length)&&!d_t(e)}var F4=p_t,m_t=F4,g_t=Y1;function y_t(e){return g_t(e)&&m_t(e)}var v_t=y_t,V$={exports:{}};function __t(){return!1}var w_t=__t;V$.exports;(function(e,t){var n=mv,r=w_t,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(V$,V$.exports);var Tge=V$.exports,b_t=LT,S_t=Ege,x_t=Y1,E_t="[object Object]",I_t=Function.prototype,O_t=Object.prototype,kge=I_t.toString,$_t=O_t.hasOwnProperty,C_t=kge.call(Object);function P_t(e){if(!x_t(e)||b_t(e)!=E_t)return!1;var t=S_t(e);if(t===null)return!0;var n=$_t.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&kge.call(n)==C_t}var T_t=P_t,k_t=LT,A_t=Pge,N_t=Y1,R_t="[object Arguments]",D_t="[object Array]",M_t="[object Boolean]",L_t="[object Date]",F_t="[object Error]",j_t="[object Function]",B_t="[object Map]",z_t="[object Number]",V_t="[object Object]",U_t="[object RegExp]",H_t="[object Set]",W_t="[object String]",q_t="[object WeakMap]",G_t="[object ArrayBuffer]",K_t="[object DataView]",Y_t="[object Float32Array]",Q_t="[object Float64Array]",X_t="[object Int8Array]",J_t="[object Int16Array]",Z_t="[object Int32Array]",ewt="[object Uint8Array]",twt="[object Uint8ClampedArray]",nwt="[object Uint16Array]",rwt="[object Uint32Array]",br={};br[Y_t]=br[Q_t]=br[X_t]=br[J_t]=br[Z_t]=br[ewt]=br[twt]=br[nwt]=br[rwt]=!0;br[R_t]=br[D_t]=br[G_t]=br[M_t]=br[K_t]=br[L_t]=br[F_t]=br[j_t]=br[B_t]=br[z_t]=br[V_t]=br[U_t]=br[H_t]=br[W_t]=br[q_t]=!1;function iwt(e){return N_t(e)&&A_t(e.length)&&!!br[k_t(e)]}var swt=iwt;function owt(e){return function(t){return e(t)}}var awt=owt,U$={exports:{}};U$.exports;(function(e,t){var n=vge,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(U$,U$.exports);var lwt=U$.exports,uwt=swt,cwt=awt,wQ=lwt,bQ=wQ&&wQ.isTypedArray,fwt=bQ?cwt(bQ):uwt,Age=fwt;function dwt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Nge=dwt,hwt=L4,pwt=RT,mwt=Object.prototype,gwt=mwt.hasOwnProperty;function ywt(e,t,n){var r=e[t];(!(gwt.call(e,t)&&pwt(r,n))||n===void 0&&!(t in e))&&hwt(e,t,n)}var vwt=ywt,_wt=vwt,wwt=L4;function bwt(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?wwt(n,a,l):_wt(n,a,l)}return n}var Swt=bwt;function xwt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Ewt=xwt,Iwt=9007199254740991,Owt=/^(?:0|[1-9]\d*)$/;function $wt(e,t){var n=typeof e;return t=t??Iwt,!!t&&(n=="number"||n!="symbol"&&Owt.test(e))&&e>-1&&e%1==0&&e<t}var Rge=$wt,Cwt=Ewt,Pwt=$ge,Twt=Cge,kwt=Tge,Awt=Rge,Nwt=Age,Rwt=Object.prototype,Dwt=Rwt.hasOwnProperty;function Mwt(e,t){var n=Twt(e),r=!n&&Pwt(e),i=!n&&!r&&kwt(e),s=!n&&!r&&!i&&Nwt(e),o=n||r||i||s,a=o?Cwt(e.length,String):[],l=a.length;for(var u in e)(t||Dwt.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Awt(u,l)))&&a.push(u);return a}var Lwt=Mwt;function Fwt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var jwt=Fwt,Bwt=sm,zwt=Ige,Vwt=jwt,Uwt=Object.prototype,Hwt=Uwt.hasOwnProperty;function Wwt(e){if(!Bwt(e))return Vwt(e);var t=zwt(e),n=[];for(var r in e)r=="constructor"&&(t||!Hwt.call(e,r))||n.push(r);return n}var qwt=Wwt,Gwt=Lwt,Kwt=qwt,Ywt=F4;function Qwt(e){return Ywt(e)?Gwt(e,!0):Kwt(e)}var Dge=Qwt,Xwt=Swt,Jwt=Dge;function Zwt(e){return Xwt(e,Jwt(e))}var e1t=Zwt,SQ=xge,t1t=C0t,n1t=M0t,r1t=F0t,i1t=J0t,xQ=$ge,EQ=Cge,s1t=v_t,o1t=Tge,a1t=D4,l1t=sm,u1t=T_t,c1t=Age,IQ=Nge,f1t=e1t;function d1t(e,t,n,r,i,s,o){var a=IQ(e,n),l=IQ(t,n),u=o.get(l);if(u){SQ(e,n,u);return}var c=s?s(a,l,n+"",e,t,o):void 0,d=c===void 0;if(d){var h=EQ(l),m=!h&&o1t(l),g=!h&&!m&&c1t(l);c=l,h||m||g?EQ(a)?c=a:s1t(a)?c=r1t(a):m?(d=!1,c=t1t(l,!0)):g?(d=!1,c=n1t(l,!0)):c=[]:u1t(l)||xQ(l)?(c=a,xQ(a)?c=f1t(a):(!l1t(a)||a1t(a))&&(c=i1t(l))):d=!1}d&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),SQ(e,n,c)}var h1t=d1t,p1t=g0t,m1t=xge,g1t=$0t,y1t=h1t,v1t=sm,_1t=Dge,w1t=Nge;function Mge(e,t,n,r,i){e!==t&&g1t(t,function(s,o){if(i||(i=new p1t),v1t(s))y1t(e,t,o,n,Mge,r,i);else{var a=r?r(w1t(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),m1t(e,o,a)}},_1t)}var b1t=Mge;function S1t(e){return e}var Lge=S1t;function x1t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var E1t=x1t,I1t=E1t,OQ=Math.max;function O1t(e,t,n){return t=OQ(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=OQ(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),I1t(e,this,a)}}var $1t=O1t;function C1t(e){return function(){return e}}var P1t=C1t,T1t=P1t,$Q=Sge,k1t=Lge,A1t=$Q?function(e,t){return $Q(e,"toString",{configurable:!0,enumerable:!1,value:T1t(t),writable:!0})}:k1t,N1t=A1t,R1t=800,D1t=16,M1t=Date.now;function L1t(e){var t=0,n=0;return function(){var r=M1t(),i=D1t-(r-n);if(n=r,i>0){if(++t>=R1t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var F1t=L1t,j1t=N1t,B1t=F1t,z1t=B1t(j1t),V1t=z1t,U1t=Lge,H1t=$1t,W1t=V1t;function q1t(e,t){return W1t(H1t(e,t,U1t),e+"")}var G1t=q1t,K1t=RT,Y1t=F4,Q1t=Rge,X1t=sm;function J1t(e,t,n){if(!X1t(n))return!1;var r=typeof t;return(r=="number"?Y1t(n)&&Q1t(t,n.length):r=="string"&&t in n)?K1t(n[t],e):!1}var Z1t=J1t,ebt=G1t,tbt=Z1t;function nbt(e){return ebt(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&tbt(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t})}var rbt=nbt,ibt=b1t,sbt=rbt,obt=sbt(function(e,t,n){ibt(e,t,n)}),abt=obt;const Fge=Uu(abt);function lbt(){var u;const e=Ny(),t=Jd(),n=e.components[t],r=Snt(),i=yge(),s=JC(n)&&e.baseComponents?Fge({},(u=e.baseComponents)==null?void 0:u[n.baseComponent],n):n,o=s.instruction||"",a=s.instructionLocation,l=e.uiConfig.sidebar&&(a==="sidebar"||a===void 0);return P(Zn,{children:$e(Sfe.Provider,{value:r,children:[a==="aboveStimulus"&&P(Ay,{text:o}),P(ZO,{status:i,config:s,location:"aboveStimulus"}),$e(O.Suspense,{fallback:P("div",{children:"Loading..."}),children:[s.type==="markdown"&&P(Sgt,{path:s.path||""}),s.type==="website"&&P(IYe,{path:s.path||"",parameters:s.parameters}),s.type==="image"&&P($Ye,{path:s.path,style:s.style}),s.type==="react-component"&&P(bdt,{path:s.path||"",parameters:s.parameters,trialId:t})]},t),(a==="belowStimulus"||a===void 0&&!l)&&P(Ay,{text:o}),P(ZO,{status:i,config:s,location:"belowStimulus"})]})})}function jge(e,t){return`${t}-${e}`}const Bge="prod",gL=jge("studies",Bge),om=jge("sessions",Bge),zge="nodes",ubt="6LdjOd0lAAAAAASvFfDZFWgtbzFSS9Y3so8rHJth";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new Map,Vge={activated:!1,tokenObservers:[]},cbt={initialized:!1,enabled:!1};function Vi(e){return yL.get(e)||Object.assign({},Vge)}function fbt(e,t){return yL.set(e,t),yL.get(e)}function BT(){return cbt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uge="https://content-firebaseappcheck.googleapis.com/v1",dbt="exchangeRecaptchaV3Token",hbt="exchangeDebugToken",CQ={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},pbt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mbt{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new J_,await gbt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new J_,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function gbt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ybt={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ko=new Hy("appCheck","AppCheck",ybt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function Hge(e){if(!Vi(e).activated)throw ko.create("use-before-activation",{appName:e.name})}function Wge(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=sx(n)+"d:"),r&&(o+=sx(r)+"h:"),o+=sx(i)+"m:"+sx(s)+"s",o}function sx(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qge({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(d){throw ko.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw ko.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw ko.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ko.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function vbt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Uge}/projects/${n}/apps/${r}:${dbt}?key=${i}`,body:{recaptcha_v3_token:t}}}function _bt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Uge}/projects/${n}/apps/${r}:${hbt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wbt="firebase-app-check-database",bbt=1,Tw="firebase-app-check-store",Gge="debug-token";let ox=null;function Kge(){return ox||(ox=new Promise((e,t)=>{try{const n=indexedDB.open(wbt,bbt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(ko.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Tw,{keyPath:"compositeKey"})}}}catch(n){t(ko.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),ox)}function Sbt(e){return Qge(Xge(e))}function xbt(e,t){return Yge(Xge(e),t)}function Ebt(e){return Yge(Gge,e)}function Ibt(){return Qge(Gge)}async function Yge(e,t){const r=(await Kge()).transaction(Tw,"readwrite"),s=r.objectStore(Tw).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(ko.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function Qge(e){const n=(await Kge()).transaction(Tw,"readonly"),i=n.objectStore(Tw).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(ko.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function Xge(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new hP("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Obt(e){if(dP()){let t;try{t=await Sbt(e)}catch(n){kw.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function AR(e,t){return dP()?xbt(e,t).catch(n=>{kw.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function $bt(){let e;try{e=await Ibt()}catch{}if(e)return e;{const t=W9e();return Ebt(t).catch(n=>kw.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jge(){return BT().enabled}async function Zge(){const e=BT();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Cbt(){const e=eae(),t=BT();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new J_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve($bt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pbt={error:"UNKNOWN_ERROR"};function Tbt(e){return yj.encodeString(JSON.stringify(e),!1)}async function vL(e,t=!1){const n=e.app;Hge(n);const r=Vi(n);let i=r.token,s;if(i&&!dg(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(dg(l)?i=l:await AR(n,void 0))}if(!t&&i&&dg(i))return{token:i.token};let o=!1;if(Jge()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qge(_bt(n,await Zge()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await AR(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Vi(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?kw.warn(l.message):kw.error(l),s=l}let a;return i?s?dg(i)?a={token:i.token,internalError:s}:a=kQ(s):(a={token:i.token},r.token=i,await AR(n,i)):a=kQ(s),o&&nye(n,a),a}function eye(e,t,n,r){const{app:i}=e,s=Vi(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&dg(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),TQ(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>TQ(e))}function tye(e,t){const n=Vi(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function TQ(e){const{app:t}=e,n=Vi(t);let r=n.tokenRefresher;r||(r=kbt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function kbt(e){const{app:t}=e;return new mbt(async()=>{const n=Vi(t);let r;if(n.token?r=await vL(e,!0):r=await vL(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Vi(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},CQ.RETRIAL_MIN_WAIT,CQ.RETRIAL_MAX_WAIT)}function nye(e,t){const n=Vi(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function dg(e){return e.expireTimeMillis-Date.now()>0}function kQ(e){return{token:Tbt(Pbt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Abt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Vi(this.app);for(const n of t)tye(this.app,n.next);return Promise.resolve()}}function Nbt(e,t){return new Abt(e,t)}function Rbt(e){return{getToken:t=>vL(e,t),addTokenListener:t=>eye(e,"INTERNAL",t),removeTokenListener:t=>tye(e.app,t)}}const Dbt="@firebase/app-check",Mbt="0.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lbt="https://www.google.com/recaptcha/api.js";function Fbt(e,t){const n=new J_,r=Vi(e);r.reCAPTCHAState={initialized:n};const i=jbt(e),s=PQ(!1);return s?AQ(e,t,s,i,n):Vbt(()=>{const o=PQ(!1);if(!o)throw new Error("no recaptcha");AQ(e,t,o,i,n)}),n.promise}function AQ(e,t,n,r,i){n.ready(()=>{zbt(e,t,n,r),i.resolve(n)})}function jbt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Bbt(e){Hge(e);const n=await Vi(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Vi(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function zbt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{Vi(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Vi(e).reCAPTCHAState.succeeded=!1}}),s=Vi(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Vbt(e){const t=document.createElement("script");t.src=Lbt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;Hbt(this._throttleData);const i=await Bbt(this._app).catch(o=>{throw ko.create("recaptcha-error")});if(!(!((t=Vi(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw ko.create("recaptcha-error");let s;try{s=await qge(vbt(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Ubt(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),ko.create("throttled",{time:Wge(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=Gp(t,"heartbeat"),Fbt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof j4?this._siteKey===t._siteKey:!1}}function Ubt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+pbt,httpStatus:e};{const n=t?t.backoffCount:0,r=Q9e(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function Hbt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw ko.create("throttled",{time:Wge(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wbt(e=_j(),t){e=li(e);const n=Gp(e,"app-check");if(BT().initialized||Cbt(),Jge()&&Zge().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw ko.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return qbt(e,t.provider,t.isTokenAutoRefreshEnabled),Vi(e).isTokenAutoRefreshEnabled&&eye(r,"INTERNAL",()=>{}),r}function qbt(e,t,n){const r=fbt(e,Object.assign({},Vge));r.activated=!0,r.provider=t,r.cachedTokenPromise=Obt(e).then(i=>(i&&dg(i)&&(r.token=i,nye(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const Gbt="app-check",NQ="app-check-internal";function Kbt(){zc(new Ru(Gbt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Nbt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(NQ).initialize()})),zc(new Ru(NQ,e=>{const t=e.getProvider("app-check").getImmediate();return Rbt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ll(Dbt,Mbt)}Kbt();function rye(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ybt=rye,iye=new Hy("auth","Firebase",rye());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=new hP("@firebase/auth");function Qbt(e,...t){H$.logLevel<=Nn.WARN&&H$.warn(`Auth (${Kp}): ${e}`,...t)}function tE(e,...t){H$.logLevel<=Nn.ERROR&&H$.error(`Auth (${Kp}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(e,...t){throw B4(e,...t)}function Au(e,...t){return B4(e,...t)}function Xbt(e,t,n){const r=Object.assign(Object.assign({},Ybt()),{[t]:n});return new Hy("auth","Firebase",r).create(t,{appName:e.name})}function B4(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return iye.create(e,...t)}function Mt(e,t,...n){if(!e)throw B4(t,...n)}function Ic(e){const t="INTERNAL ASSERTION FAILED: "+e;throw tE(t),new Error(t)}function ef(e,t){e||Ic(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Jbt(){return RQ()==="http:"||RQ()==="https:"}function RQ(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zbt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jbt()||N9e()||"connection"in navigator)?navigator.onLine:!0}function eSt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,n){this.shortDelay=t,this.longDelay=n,ef(n>t,"Short delay should be less than long delay!"),this.isMobile=A9e()||R9e()}get(){return Zbt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(e,t){ef(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sye{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tSt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nSt=new Q1(3e4,6e4);function V4(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function X1(e,t,n,r,i={}){return oye(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=f1(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),sye.fetch()(lye(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function oye(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},tSt),t);try{const i=new rSt(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ax(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ax(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ax(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw ax(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xbt(e,c,u);Zc(e,c)}}catch(i){if(i instanceof Gl)throw i;Zc(e,"network-request-failed",{message:String(i)})}}async function aye(e,t,n,r,i={}){const s=await X1(e,t,n,r,i);return"mfaPendingCredential"in s&&Zc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function lye(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?z4(e.config,i):`${e.config.apiScheme}://${i}`}class rSt{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Au(this.auth,"network-request-failed")),nSt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ax(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Au(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iSt(e,t){return X1(e,"POST","/v1/accounts:delete",t)}async function sSt(e,t){return X1(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oSt(e,t=!1){const n=li(e),r=await n.getIdToken(t),i=U4(r);Mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:w_(NR(i.auth_time)),issuedAtTime:w_(NR(i.iat)),expirationTime:w_(NR(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function NR(e){return Number(e)*1e3}function U4(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return tE("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zoe(n);return i?JSON.parse(i):(tE("Failed to decode base64 JWT payload"),null)}catch(i){return tE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aSt(e){const t=U4(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Gl&&lSt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function lSt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uSt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uye{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=w_(this.lastLoginAt),this.creationTime=w_(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Aw(e,sSt(n,{idToken:r}));Mt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?dSt(s.providerUserInfo):[],a=fSt(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uye(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function cSt(e){const t=li(e);await W$(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fSt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function dSt(e){return e.map(t=>{var{providerId:n}=t,r=oB(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hSt(e,t){const n=await oye(e,{},async()=>{const r=f1({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=lye(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sye.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aSt(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Mt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await hSt(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Nw;return r&&(Mt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Mt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Mt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nw,this.toJSON())}_performRefresh(){return Ic("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class dp{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=oB(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uSt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uye(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Aw(this,this.stsTokenManager.getToken(this.auth,t));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return oSt(this,t)}reload(){return cSt(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new dp(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await W$(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Aw(this,iSt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:x,isAnonymous:$,providerData:E,stsTokenManager:I}=n;Mt(S&&I,t,"internal-error");const T=Nw.fromJSON(this.name,I);Mt(typeof S=="string",t,"internal-error"),kf(d,t.name),kf(h,t.name),Mt(typeof x=="boolean",t,"internal-error"),Mt(typeof $=="boolean",t,"internal-error"),kf(m,t.name),kf(g,t.name),kf(y,t.name),kf(_,t.name),kf(v,t.name),kf(b,t.name);const M=new dp({uid:S,auth:t,email:h,emailVerified:x,displayName:d,isAnonymous:$,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:T,createdAt:v,lastLoginAt:b});return E&&Array.isArray(E)&&(M.providerData=E.map(U=>Object.assign({},U))),_&&(M._redirectEventId=_),M}static async _fromIdTokenResponse(t,n,r=!1){const i=new Nw;i.updateFromServerResponse(n);const s=new dp({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await W$(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=new Map;function Oc(e){ef(e instanceof Function,"Expected a class definition");let t=DQ.get(e);return t?(ef(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,DQ.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cye{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}cye.type="NONE";const MQ=cye;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(e,t,n){return`firebase:${e}:${t}:${n}`}class Lg{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nE(this.userKey,i.apiKey,s),this.fullPersistenceKey=nE("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?dp._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Lg(Oc(MQ),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Oc(MQ);const o=nE(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=dp._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Lg(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Lg(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hye(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fye(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mye(t))return"Blackberry";if(gye(t))return"Webos";if(H4(t))return"Safari";if((t.includes("chrome/")||dye(t))&&!t.includes("edge/"))return"Chrome";if(pye(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fye(e=ki()){return/firefox\//i.test(e)}function H4(e=ki()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dye(e=ki()){return/crios\//i.test(e)}function hye(e=ki()){return/iemobile/i.test(e)}function pye(e=ki()){return/android/i.test(e)}function mye(e=ki()){return/blackberry/i.test(e)}function gye(e=ki()){return/webos/i.test(e)}function zT(e=ki()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pSt(e=ki()){var t;return zT(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function mSt(){return D9e()&&document.documentMode===10}function yye(e=ki()){return zT(e)||pye(e)||gye(e)||mye(e)||/windows phone/i.test(e)||hye(e)}function gSt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vye(e,t=[]){let n;switch(e){case"Browser":n=LQ(ki());break;case"Worker":n=`${LQ(ki())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kp}/${r}`}async function _ye(e,t){return X1(e,"GET","/v2/recaptchaConfig",V4(e,t))}function FQ(e){return e!==void 0&&e.enterprise!==void 0}class wye{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ySt(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function bye(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Au("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ySt().appendChild(r)})}function vSt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const _St="https://www.google.com/recaptcha/enterprise.js?render=",wSt="recaptcha-enterprise",bSt="NO_RECAPTCHA";class SSt{constructor(t){this.type=wSt,this.auth=J1(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{_ye(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new wye(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;FQ(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(bSt)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&FQ(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}bye(_St+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xSt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ESt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jQ(this),this.idTokenSubscription=new jQ(this),this.beforeStateQueue=new xSt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Oc(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Lg.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await W$(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eSt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?li(t):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Oc(t))})}async initializeRecaptchaConfig(){const t=await _ye(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new wye(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new SSt(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Hy("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Oc(t)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await Lg.create(this,[Oc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Mt(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Qbt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function J1(e){return li(e)}class jQ{constructor(t){this.auth=t,this.observer=null,this.addObserver=V9e(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ISt(e,t){const n=Gp(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Z_(s,t??{}))return i;Zc(i,"already-initialized")}return n.initialize({options:t})}function OSt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oc);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function $St(e,t,n){const r=J1(e);Mt(r._canInitEmulator,r,"emulator-config-failed"),Mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Sye(t),{host:o,port:a}=CSt(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PSt()}function Sye(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function CSt(e){const t=Sye(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:BQ(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:BQ(o)}}}function BQ(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function PSt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xye{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ic("not implemented")}_getIdTokenResponse(t){return Ic("not implemented")}_linkToIdToken(t,n){return Ic("not implemented")}_getReauthenticationResolver(t){return Ic("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(e,t){return aye(e,"POST","/v1/accounts:signInWithIdp",V4(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TSt="http://localhost";class Bp extends xye{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bp(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=oB(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bp(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Fg(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Fg(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Fg(t,n)}buildRequest(){const t={requestUri:TSt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=f1(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eye{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Eye{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Z1{constructor(){super("facebook.com")}static credential(t){return Bp._fromParams({providerId:Wf.PROVIDER_ID,signInMethod:Wf.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wf.credentialFromTaggedObject(t)}static credentialFromError(t){return Wf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wf.credential(t.oauthAccessToken)}catch{return null}}}Wf.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends Z1{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bp._fromParams({providerId:qf.PROVIDER_ID,signInMethod:qf.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qf.credentialFromTaggedObject(t)}static credentialFromError(t){return qf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qf.credential(n,r)}catch{return null}}}qf.GOOGLE_SIGN_IN_METHOD="google.com";qf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Z1{constructor(){super("github.com")}static credential(t){return Bp._fromParams({providerId:Gf.PROVIDER_ID,signInMethod:Gf.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gf.credentialFromTaggedObject(t)}static credentialFromError(t){return Gf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gf.credential(t.oauthAccessToken)}catch{return null}}}Gf.GITHUB_SIGN_IN_METHOD="github.com";Gf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Z1{constructor(){super("twitter.com")}static credential(t,n){return Bp._fromParams({providerId:Kf.PROVIDER_ID,signInMethod:Kf.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kf.credentialFromTaggedObject(t)}static credentialFromError(t){return Kf.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kf.credential(n,r)}catch{return null}}}Kf.TWITTER_SIGN_IN_METHOD="twitter.com";Kf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kSt(e,t){return aye(e,"POST","/v1/accounts:signUp",V4(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await dp._fromIdTokenResponse(t,r,i),o=zQ(r);return new Fd({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=zQ(r);return new Fd({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function zQ(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ASt(e){var t;const n=J1(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Fd({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await kSt(n,{returnSecureToken:!0}),i=await Fd._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q$ extends Gl{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,q$.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new q$(t,n,r,i)}}function Iye(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?q$._fromErrorAndOperation(e,s,t,r):s})}async function NSt(e,t,n=!1){const r=await Aw(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fd._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RSt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await Aw(e,Iye(r,i,t,e),n);Mt(s.idToken,r,"internal-error");const o=U4(s.idToken);Mt(o,r,"internal-error");const{sub:a}=o;return Mt(e.uid===a,r,"user-mismatch"),Fd._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zc(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DSt(e,t,n=!1){const r="signIn",i=await Iye(e,r,t),s=await Fd._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function MSt(e,t,n,r){return li(e).onIdTokenChanged(t,n,r)}function LSt(e,t,n){return li(e).beforeAuthStateChanged(t,n)}const G$="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oye{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(G$,"1"),this.storage.removeItem(G$),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FSt(){const e=ki();return H4(e)||zT(e)}const jSt=1e3,BSt=10;class $ye extends Oye{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FSt()&&gSt(),this.fallbackToPolling=yye(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);mSt()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,BSt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},jSt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}$ye.type="LOCAL";const zSt=$ye;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cye extends Oye{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Cye.type="SESSION";const Pye=Cye;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VSt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new VT(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await VSt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}VT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class USt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=W4("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(){return window}function HSt(e){Nu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tye(){return typeof Nu().WorkerGlobalScope<"u"&&typeof Nu().importScripts=="function"}async function WSt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qSt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function GSt(){return Tye()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kye="firebaseLocalStorageDb",KSt=1,K$="firebaseLocalStorage",Aye="fbase_key";class eb{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function UT(e,t){return e.transaction([K$],t?"readwrite":"readonly").objectStore(K$)}function YSt(){const e=indexedDB.deleteDatabase(kye);return new eb(e).toPromise()}function wL(){const e=indexedDB.open(kye,KSt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(K$,{keyPath:Aye})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(K$)?t(r):(r.close(),await YSt(),t(await wL()))})})}async function VQ(e,t,n){const r=UT(e,!0).put({[Aye]:t,value:n});return new eb(r).toPromise()}async function QSt(e,t){const n=UT(e,!1).get(t),r=await new eb(n).toPromise();return r===void 0?null:r.value}function UQ(e,t){const n=UT(e,!0).delete(t);return new eb(n).toPromise()}const XSt=800,JSt=3;class Nye{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wL(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>JSt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tye()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=VT._getInstance(GSt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await WSt(),!this.activeServiceWorker)return;this.sender=new USt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qSt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wL();return await VQ(t,G$,"1"),await UQ(t,G$),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VQ(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>QSt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>UQ(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=UT(i,!1).getAll();return new eb(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XSt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nye.type="LOCAL";const ZSt=Nye;new Q1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ext(e,t){return t?Oc(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4 extends xye{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fg(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Fg(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Fg(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function txt(e){return DSt(e.auth,new q4(e),e.bypassAuthState)}function nxt(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),RSt(n,new q4(e),e.bypassAuthState)}async function rxt(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),NSt(n,new q4(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rye{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return txt;case"linkViaPopup":case"linkViaRedirect":return rxt;case"reauthViaPopup":case"reauthViaRedirect":return nxt;default:Zc(this.auth,"internal-error")}}resolve(t){ef(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ef(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ixt=new Q1(2e3,1e4);class hg extends Rye{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hg.currentPopupAction&&hg.currentPopupAction.cancel(),hg.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){ef(this.filter.length===1,"Popup operations only handle one event");const t=W4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Au(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Au(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hg.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Au(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ixt.get())};t()}}hg.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sxt="pendingRedirect",rE=new Map;class oxt extends Rye{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=rE.get(this.auth._key());if(!t){try{const r=await axt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}rE.set(this.auth._key(),t)}return this.bypassAuthState||rE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function axt(e,t){const n=cxt(t),r=uxt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lxt(e,t){rE.set(e._key(),t)}function uxt(e){return Oc(e._redirectPersistence)}function cxt(e){return nE(sxt,e.config.apiKey,e.name)}async function fxt(e,t,n=!1){const r=J1(e),i=ext(r,t),o=await new oxt(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dxt=10*60*1e3;class hxt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pxt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Dye(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Au(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dxt&&this.cachedEventUids.clear(),this.cachedEventUids.has(HQ(t))}saveEventToCache(t){this.cachedEventUids.add(HQ(t)),this.lastProcessedEventTime=Date.now()}}function HQ(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Dye({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pxt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dye(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mxt(e,t={}){return X1(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gxt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yxt=/^https?/;async function vxt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mxt(e);for(const n of t)try{if(_xt(n))return}catch{}Zc(e,"unauthorized-domain")}function _xt(e){const t=_L(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yxt.test(n))return!1;if(gxt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wxt=new Q1(3e4,6e4);function WQ(){const e=Nu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function bxt(e){return new Promise((t,n)=>{var r,i,s;function o(){WQ(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{WQ(),n(Au(e,"network-request-failed"))},timeout:wxt.get()})}if(!((i=(r=Nu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Nu().gapi)===null||s===void 0)&&s.load)o();else{const a=vSt("iframefcb");return Nu()[a]=()=>{gapi.load?o():n(Au(e,"network-request-failed"))},bye(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw iE=null,t})}let iE=null;function Sxt(e){return iE=iE||bxt(e),iE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xxt=new Q1(5e3,15e3),Ext="__/auth/iframe",Ixt="emulator/auth/iframe",Oxt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$xt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cxt(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?z4(t,Ixt):`https://${e.config.authDomain}/${Ext}`,r={apiKey:t.apiKey,appName:e.name,v:Kp},i=$xt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${f1(r).slice(1)}`}async function Pxt(e){const t=await Sxt(e),n=Nu().gapi;return Mt(n,e,"internal-error"),t.open({where:document.body,url:Cxt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oxt,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Au(e,"network-request-failed"),a=Nu().setTimeout(()=>{s(o)},xxt.get());function l(){Nu().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Txt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kxt=500,Axt=600,Nxt="_blank",Rxt="http://localhost";class qQ{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dxt(e,t,n,r=kxt,i=Axt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Txt),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ki().toLowerCase();n&&(a=dye(u)?Nxt:n),fye(u)&&(t=t||Rxt,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[m,g])=>`${h}${m}=${g},`,"");if(pSt(u)&&a!=="_self")return Mxt(t||"",a),new qQ(null);const d=window.open(t||"",a,c);Mt(d,e,"popup-blocked");try{d.focus()}catch{}return new qQ(d)}function Mxt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lxt="__/auth/handler",Fxt="emulator/auth/handler",jxt=encodeURIComponent("fac");async function GQ(e,t,n,r,i,s){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kp,eventId:i};if(t instanceof Eye){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",z9e(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof Z1){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${jxt}=${encodeURIComponent(l)}`:"";return`${Bxt(e)}?${f1(a).slice(1)}${u}`}function Bxt({config:e}){return e.emulator?z4(e,Fxt):`https://${e.authDomain}/${Lxt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="webStorageSupport";class zxt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pye,this._completeRedirectFn=fxt,this._overrideRedirectResult=lxt}async _openPopup(t,n,r,i){var s;ef((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await GQ(t,n,r,_L(),i);return Dxt(t,o,W4())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await GQ(t,n,r,_L(),i);return HSt(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ef(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Pxt(t),r=new hxt(t);return n.register("authEvent",i=>(Mt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(RR,{type:RR},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[RR];o!==void 0&&n(!!o),Zc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vxt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return yye()||H4()||zT()}}const Vxt=zxt;var KQ="@firebase/auth",YQ="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uxt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hxt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Wxt(e){zc(new Ru("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),Mt(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vye(e)},u=new ESt(r,i,s,l);return OSt(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),zc(new Ru("auth-internal",t=>{const n=J1(t.getProvider("auth").getImmediate());return(r=>new Uxt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ll(KQ,YQ,Hxt(e)),Ll(KQ,YQ,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qxt=5*60,Gxt=nae("authIdTokenMaxAge")||qxt;let QQ=null;const Kxt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Gxt)return;const i=n==null?void 0:n.token;QQ!==i&&(QQ=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yxt(e=_j()){const t=Gp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ISt(e,{popupRedirectResolver:Vxt,persistence:[ZSt,zSt,Pye]}),r=nae("authTokenSyncURL");if(r){const s=Kxt(r);LSt(n,s,()=>s(n.currentUser)),MSt(n,o=>s(o))}const i=tae("auth");return i&&$St(n,`http://${i}`),n}Wxt("Browser");var Qxt="firebase",Xxt="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ll(Qxt,Xxt,"app");const Jxt={localCache:SKe({cacheSizeBytes:eKe,tabManager:OKe()})};let DR=null,XQ=null,y0="OFFLINE_ANON_USER",_h=null;async function Zxt(e=!0){var s;const t=u3.parse(`
{
  apiKey: "AIzaSyAm9QtUgx1lYPDeE0vKLN-lK17WfUGVkLo",
  authDomain: "revisit-utah.firebaseapp.com",
  projectId: "revisit-utah",
  storageBucket: "revisit-utah.appspot.com",
  messagingSenderId: "811568460432",
  appId: "1:811568460432:web:995f6b4f1fc8042b5dde15"
}
`);console.log("Firebase config",t);const n=DR||oae(t);DR||(DR=n);function r(){return tKe(n,Jxt)}_h||(_h=r());let i=!1;if(iKe(_h),!e)return{pid:y0,connected:i,startFirestore:r,firestore:_h};try{XQ||(XQ=Wbt(n,{provider:new j4(ubt),isTokenAutoRefreshEnabled:!1}));const o=Yxt();if(o.currentUser||await ASt(o),y0=((s=o.currentUser)==null?void 0:s.uid)||y0,!y0)throw new Error("Login failed with firebase");i=!0,rKe(_h)}catch(o){if(o instanceof Gl)o.code==="appCheck/fetch-status-error"?console.warn("App check request failed, please check if debug token is set properly if running locally. If accessing deployed version check if the domain has proper permissions. Running in offline mode, all data is stored locally."):console.error(o);else throw o}return{connected:i,pid:y0,firestore:_h,startFirestore:()=>_h=r()}}function Mye(e,t=!1){return typeof e=="number"?JQ(e,t):JQ(e.length,t).map(r=>r.map(i=>e[i]))}function JQ(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function Ry(){return new Date}function eEt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return new Uint32Array([t])[0].toString(36)}function Lye(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&Lye(s,t,i,o)})}function tEt(e){const t=[];return Lye(e,t,"",0),t}async function nEt(e,t,n){const r=await K4(e,t);n.import(JSON.stringify(r))}async function ZQ(e,t,n,r,i,s){return i&&await jye(e,r),await sEt(e,t,n,s.root.id,s)}async function rEt(e){const{pid:t,firestore:n,connected:r,startFirestore:i}=await Zxt(e);return{pid:t,startFirestore:i,connected:r,firestore:n,async initialize(s,o,a){let l=await aEt(n,o);const u=!!l&&l.exists();return u?{createNew:async()=>{l=await ZQ(n,s,t,o,u,a)},restoreSession:async()=>{nEt(n,o,a)}}:(await ZQ(n,s,t,o,u,a),null)},saveStudyConfig(s,o){return oEt(n,s,o)},saveNewProvenanceNode(s){return Bye(n,s.root.id,s.current)},completeSession(s){return iEt(n,s)},abandonSession(s){return jye(n,s)}}}const Fye=O.createContext(null);function G4(){return O.useContext(Fye)}async function iEt(e,t){const n=jl(e,om,t),r=await Xd(n);if(r.exists()){const{status:i}=r.data();if(i.endStatus)return;const s={status:"completed",timestamp:Ry()};i.history.push(s),i.endStatus=s,C6(n,{status:i})}}async function jye(e,t){const n=jl(e,om,t),r=await Xd(n);if(r.exists()){const{status:i}=r.data();if(i.endStatus)return;const s={status:"abandoned",timestamp:Ry()};i.history.push(s),i.endStatus=s,C6(n,{status:i})}}async function sEt(e,t,n,r,i){const s=JSON.parse(i.export()),o=jl(e,om,r),a={studyId:t,pid:n,lastUpdatedAt:Ry(),lastSavedNode:s.root,current:s.current,root:s.root,status:{history:[{status:"started",timestamp:Ry()}],endStatus:null}};_Ke(o,a);const l=Object.values(s.nodes);for(const c of l)Bye(e,r,c);return await Xd(o)}async function K4(e,t,n=!0){const r=jl(e,om,t),i=await Xd(r);if(!i.exists())throw new Error("session not found");const{current:s,root:o,status:a}=i.data(),l={},u=hce(_6(r,zge));return(await vce(u)).forEach(d=>{const h=d.data();l[h.id]=h}),n&&(a.history.push({status:"restored",timestamp:Ry()}),C6(r,{status:a})),{current:s,root:o,nodes:l}}async function eX(e,t,n,r,i,s){const o=[],a=t.map(l=>{const u=jl(e,gL,r,"versions",s,"random",l);return Xd(u).then(d=>{const h=d.data();if(h){const m=h.perms.pop();if(m)o.push({path:l,order:Object.values(m)}),n.set(u,{perms:h.perms,options:h.options});else{const g=Mye(h.options.sort(()=>.5-Math.random()),!0);o.push({path:l,order:g[0]}),n.set(u,{perms:g.slice(1).map(y=>Object.assign({},y)),options:h.options})}}})});return await Promise.all(a),o}async function Bye(e,t,n){const r=JSON.parse(JSON.stringify(n)),i=_ce(e),s=jl(e,om,t),o=_6(s,zge);await i.set(jl(o,r.id),r).update(s,{lastUpdatedAt:Ry(),current:r.id}).commit();const a=await Xd(jl(o,r.id));return await K4(e,t,!1),a}async function oEt(e,t,n){const r=_ce(e),i=eEt(JSON.stringify(t)),s=jl(e,gL,n,"versions",i),o=tEt(t.sequence);let a=null;try{a=await Xd(s)}catch{return console.log("problem"),Promise.resolve(null)}if(a.exists()){const u=await eX(e,o,r,n,t,i);return r.commit(),Promise.resolve(u)}o.forEach(u=>{const c={},d=u.split("-");let h=t.sequence;d.forEach(_=>{if(_==="root")return;const v=h.components[+_];typeof v!="string"&&(h=v)});const m=h.components.map((_,v)=>typeof _=="string"?_:`_orderObj${v}`),g=Mye(m.sort(()=>.5-Math.random()),!0);c.perms=g.map(_=>Object.assign({},_)),c.options=m;const y=jl(e,gL,n,"versions",i,"random",u);r.set(y,c)}),await r.set(s,{...t});const l=await eX(e,o,r,n,t,i);return r.commit(),Promise.resolve(l)}async function aEt(e,t){const n=jl(e,om,t);try{return await Xd(n)}catch{return null}}var lEt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},uEt=Object.defineProperty,cEt=Object.defineProperties,fEt=Object.getOwnPropertyDescriptors,Y$=Object.getOwnPropertySymbols,zye=Object.prototype.hasOwnProperty,Vye=Object.prototype.propertyIsEnumerable,tX=(e,t,n)=>t in e?uEt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nX=(e,t)=>{for(var n in t||(t={}))zye.call(t,n)&&tX(e,n,t[n]);if(Y$)for(var n of Y$(t))Vye.call(t,n)&&tX(e,n,t[n]);return e},dEt=(e,t)=>cEt(e,fEt(t)),hEt=(e,t)=>{var n={};for(var r in e)zye.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Y$)for(var r of Y$(e))t.indexOf(r)<0&&Vye.call(e,r)&&(n[r]=e[r]);return n},df=(e,t,n)=>{const r=O.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:l=24,stroke:u=2,children:c}=o,d=hEt(o,["color","size","stroke","children"]);return O.createElement("svg",nX(dEt(nX({ref:s},lEt),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${e}`}),d),[...n.map(([h,m])=>O.createElement(h,m)),...c||[]])});return r.propTypes={color:St.string,size:St.oneOfType([St.string,St.number]),stroke:St.oneOfType([St.string,St.number])},r.displayName=`${t}`,r},pEt=df("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),mEt=df("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),gEt=df("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),yEt=df("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),vEt=df("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),_Et=df("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),wEt=df("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),Uye=df("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]),bEt=df("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);async function Hye(e,t){const n=_6(e,om),r=hce(n,pKe("studyId","==",t)),i=(await vce(r)).docs,s=[];for(const o of i){const a=await K4(e,o.id,!1);s.push({graph:a,session:o.data()})}return s}async function SEt(e,t){return(await Hye(e,t)).map(r=>r.graph)}const bL=["description","instruction","answer","correctAnswer","startTime","endTime","duration","studyId","measure"],sE=["pid","sessionId","status","trialId"];async function xEt(e,t,n,r=[...sE,...bL],i){const o=(await Hye(e.firestore,t)).filter(c=>{var d;return((d=c.session.status.endStatus)==null?void 0:d.status)==="completed"}).map(c=>EEt(c,n)).flat(),a=c=>c.replace(/"/g,'""'),l=o.map(c=>r.map(d=>c===null?"":typeof c[d]=="string"?`"${a(c[d])}"`:JSON.stringify(c[d])).join(",")),u=[r.join(","),...l].join(`
`);oE(u,i)}function EEt({graph:e,session:t},n){const r=[],i=Object.values(e.nodes);if(i.sort((l,u)=>l.meta.createdOn-u.meta.createdOn),i.length<3)return null;const s=i[i.length-1],o=s.state.val.trrackedSlice,{config:a}=s.state.val.unTrrackedSlice;return n.forEach(l=>{var c,d,h;const u=o[l];if(u){const m="answer"in u?u:null,g=m!=null&&m.startTime?new Date(m.startTime).toUTCString():null,y=m!=null&&m.endTime?new Date(m.endTime).toUTCString():null,_=((m==null?void 0:m.endTime)||0)-((m==null?void 0:m.startTime)||0);let v=a.components[l];JC(v)&&v.baseComponent&&(v=x4.merge(a.baseComponents[v.baseComponent],v));const b=m==null?void 0:m.answer;for(const S in b)if(Object.prototype.hasOwnProperty.call(b,S)){const x=S.split("/").filter(E=>E.length>0),$={pid:o.studyIdentifiers.pid,sessionId:o.studyIdentifiers.session_id,status:((c=t.status.endStatus)==null?void 0:c.status)||"incomplete",trialId:l,answer:b[S],studyId:x[0],measure:x[2],correctAnswer:((h=(d=v.response)==null?void 0:d.find(E=>E.id===x[2]))==null?void 0:h.correctAnswer)||"",description:u.description,instruction:v.instruction,startTime:g,endTime:y,duration:_};r.push($)}}}),r}function IEt({opened:e,close:t,filename:n}){const r=G4(),i=A6(),s=Hl(c=>c.unTrrackedSlice.config.components),[o,a]=aee([...sE,...bL]),l=O.useCallback(c=>{sE.every(d=>c.includes(d))&&a(c)},[a]),u=O.useMemo(()=>[...sE,...bL],[]);return $e(RC,{opened:e,size:"lg",onClose:t,title:P(Bt,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[P(xt,{children:P(oie,{searchable:!0,limit:30,nothingFound:"Property not found",data:u,value:o,onChange:l,label:P(Bt,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),$e(Qg,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[P(Dl,{leftIcon:P(Uye,{}),onClick:()=>{xEt(r,i,Object.keys(s),o,`${n}.csv`)},children:"Download"}),P(Dl,{onClick:t,color:"red",children:"Close"})]})]})}function oE(e,t){const n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function OEt(){const{trrack:e}=T1(),t=Ny(),n=Hl(y=>y.trrackedSlice.studyIdentifiers),r=A6(),i=G4(),[s,{open:o,close:a}]=lee(!1),l=(t==null?void 0:t.uiConfig.autoDownloadStudy)||!1,u=l&&(t==null?void 0:t.uiConfig.autoDownloadTime)||-1,[c,d]=O.useState(Math.floor(u/1e3));if(O.useEffect(()=>{async function y(){await i.completeSession(e.root.id)}y()},[e,i]),O.useEffect(()=>{if(c<=0)return;const y=setInterval(()=>{d(_=>_-1)},1e3);return()=>clearInterval(y)},[c]),!t||!n)return null;const h=JSON.parse(e.export()),m=`${t.studyMetadata.title.replace(" ","_")}_${n.session_id}`,g=`${m}.json`;return c===0&&oE(JSON.stringify(h,null,2),g),$e(qa,{children:[P(Dl,{leftIcon:P(gEt,{}),mt:"1em",mr:"0.5em",onClick:()=>oE(JSON.stringify(h,null,2),g),display:"block",children:"Download Current (JSON)"}),P(Dl,{disabled:!i.connected,leftIcon:P(yEt,{}),mt:"1em",mr:"0.5em",onClick:async()=>{const y=await SEt(i.firestore,r);oE(JSON.stringify(y,null,2),g)},display:"block",children:"Download All (JSON)"}),P(Dl,{disabled:!i.connected,leftIcon:P(Uye,{}),mt:"1em",mr:"0.5em",onClick:o,display:"block",children:"Download All (Tidy)"}),l&&$e(Bt,{size:"lg",children:["Study results will be downloaded in ",c," seconds. If the download does not start automatically, click above to download."]}),P(IEt,{opened:s,close:a,filename:m})]})}function Wye({order:e}){const{studyId:t=null}=zw(),n=Jd(),r=Ud();return P(qa,{spacing:"xs",children:e.components.map((i,s)=>typeof i=="string"?P(Mo,{children:P(h2e,{style:{cursor:"pointer"},color:i===n?"red":"blue",onClick:()=>r(`/${t}/${i}`),size:"xs",children:i},i)},s):P(qa,{spacing:"xs",children:$e(Mo,{spacing:"xs",style:{width:"100%"},noWrap:!0,align:"center",position:"center",children:[i.order==="random"||i.order==="latinSquare"?P(mEt,{textAnchor:"middle"}):null,P(qa,{style:{width:"100%"},children:P(Wye,{order:i})})]})},s))})}function $Et(){const e=ev(o=>o.showAdmin),t=Ud(),{studyId:n=null}=zw(),r=Ny(),s=Hl(o=>o.trrackedSlice.order).map(o=>({...r.components[o],id:o}));return e?P(eg,{p:"0",width:{base:300},style:{zIndex:0},children:$e(x0,{p:"0",children:[P(eg.Section,{grow:!0,component:x0,px:"xs",my:"lg",children:P(Wye,{order:r.sequence})}),P(eg.Section,{grow:!0,component:x0,px:"xs",my:"lg",children:P(OEt,{})}),P(eg.Section,{grow:!0,component:x0,px:"xs",my:"lg",children:s.map((o,a)=>$e(Ka.Fragment,{children:[$e(Q0,{radius:0,p:0,withBorder:!0,children:[P(Q0,{radius:0,p:"xl",children:$e(Qg,{style:{justifyContent:"space-between"},children:[$e(Bt,{c:"gray.9",children:[$e(Bt,{span:!0,fw:700,inherit:!0,children:["Task ",a+1,":"]})," ",o.id]}),P(U_,{}),P(RF,{bg:"white",onClick:()=>t(`/${n}/${o.id}`),children:P(pEt,{size:"1.125rem"})})]})}),$e(Q0,{radius:0,p:"xl",children:[o.description&&$e(Bt,{fw:900,children:["Description:"," ",P(Bt,{fw:400,component:"span",children:o.description})]}),o.meta&&P(Bt,{fw:900,children:"Task Meta:"}),o.meta&&Object.keys(o.meta).map(l=>$e(Bt,{children:[l,": ",o.meta[l]]},l))]})]}),P(U_,{h:"md"})]},`admin_${o.id}`))})]})}):null}function CEt(){const e=Hl(_=>_.unTrrackedSlice.config),t=Hl(_=>_.trrackedSlice.order),n=T1().clearCache,r=P1(),i=Ud(),s=Jd(),o=e!==null?s==="end"?100:t.indexOf(s):0,a=t.length||0,l=o/a*100,[u,c]=O.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[m,g]=O.useState(new URLSearchParams(window.location.search)),y=m.get("admin")||"f";return P(Jee,{height:"70",p:"md",children:$e(tg,{mt:-7,align:"center",children:[P(tg.Col,{span:4,children:$e(Qg,{align:"center",children:[P(Xw,{maw:40,src:`${Ku}${d}`,alt:"Study Logo"}),P(U_,{w:"md"}),P(Mf,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),P(tg.Col,{span:4,children:h&&P(Oie,{radius:"md",size:"lg",value:l})}),P(tg.Col,{span:4,children:$e(Qg,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&P(Dl,{variant:"outline",onClick:()=>r(Sce()),children:"Help"}),P(U_,{w:"md"}),y==="t"&&$e(Fa,{shadow:"md",width:200,zIndex:1,opened:u,onChange:c,children:[P(Fa.Target,{children:P(RF,{size:"lg",children:P(vEt,{})})}),$e(Fa.Dropdown,{children:[P(Fa.Item,{icon:P(wEt,{size:14}),onClick:()=>r(TKe()),children:"Admin Mode"}),P(Fa.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:P(_Et,{size:14}),children:"Contact"}),P(Fa.Item,{onClick:async()=>{await n(),i(0)},icon:P(bEt,{size:14}),children:"Clear Cache & Refresh"})]})]})]})})]})})}function PEt(){var l,u;const e=(l=Ny())==null?void 0:l.uiConfig.sidebar,t=Ny(),n=Jd(),r=t.components[n],i=r?JC(r)&&t.baseComponents?Fge({},(u=t.baseComponents)==null?void 0:u[r.baseComponent],r):r:null,s=yge(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?$e(K0,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&P(K0.Section,{bg:"gray.3",p:"xl",children:$e(Bt,{c:"gray.9",children:[P(Bt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),P(Ay,{text:o})]})}),P(K0.Section,{p:"xl",children:P(ZO,{status:s,config:i,location:"sidebar"})})]}):P(ZO,{status:s,config:i,location:"sidebar",style:{display:"hidden"}})}function TEt(){const e=ev(s=>s.showHelpText),t=Hl(s=>s.unTrrackedSlice.config),n=P1(),[r,i]=O.useState("");return O.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Ku}${t.uiConfig.helpTextPath}`).then(s=>s.text()).then(s=>i(s))},[t]),P(RC,{size:"auto",opened:e,onClose:()=>n(Sce()),title:"Help",children:P(Ay,{text:r})})}function kEt(){const e=Ny(),t=G4(),{trrack:n}=T1();return O.useEffect(()=>{async function r(){await t.completeSession(n.root.id)}r()},[]),P(Zn,{children:P(Yg,{style:{height:"100%"},children:P(Qg,{direction:"column",children:P(Yg,{children:P(Bt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?P(Ay,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."})})})})})}const AEt=O.createContext(void 0);async function NEt(e,t){const n=await(await fetch(`${Ku}${e}`)).text();return Qse(n,t)}function qye(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=qye(i,t,n+"-"+r))}if(e.order==="random"&&t){const r=e.components.sort((i,s)=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t.find(r=>r.path===n).order.map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.flat().slice(0,e.numSamples?e.numSamples:void 0)}function REt(e,t){const n=hM(e);return qye(n,t,"root"),n.components.flat().slice(0,n.numSamples?n.numSamples:void 0)}function DEt({globalConfig:e}){const{studyId:t}=zw(),[n,r]=O.useState(null);if(!t||!e.configsList.map(g=>J2(g)).includes(t))throw new Error("Study id invalid");const[i,s]=O.useState(null),[o,a]=O.useState(null),[l,u]=O.useState(null);O.useEffect(()=>{const g=e.configsList.find(y=>J2(y)===t);if(g){const y=e.configs[g];NEt(`${y.path}`,g).then(_=>{s(_)})}},[e,t]),O.useEffect(()=>{if(!i)return;let g=!0;async function y(){a(null);const _=await rEt(!0);g&&a(_)}return y(),()=>{g=!1}},[i]),O.useEffect(()=>{if(!i||!t||!o)return;let g=!0;async function y(_,v,b){if(u(null),!o)return;const S=await(o==null?void 0:o.saveStudyConfig(v,_)),x=REt(i.sequence,S),$=await DKe(_,v,x,b);r(x),g&&u($)}return y(t,i,o),()=>{g=!1}},[i,t,o]);const c=LEt(t,i,n,l);if(!c||!l||!o)return null;const{trrackStore:d,store:h,trrack:m}=l;return P(Fye.Provider,{value:o,children:P(Oce.Provider,{value:l,children:P(JA,{store:d,context:AEt,children:P(JA,{store:h,children:P(JA,{store:T6,context:k6,children:c})})})})},m.root.id)}function MEt(){const e=T1(),t=ev(o=>o.trrackExists),n=P1(),[r,i]=lee(t),s=O.useCallback(o=>{o?e.restoreSession():e.startNewSession(),n(xce(!1)),i.close()},[n,i,e]);return $e(tte,{navbar:P(PEt,{}),aside:P($Et,{}),header:P(CEt,{}),children:[$e(RC,{opened:r,onClose:()=>s(!1),title:P(Bt,{weight:"bold",children:"Detected ongoing session"}),centered:!0,children:[P(Bt,{children:"Do you want to continue that session or start over?"}),$e(Mo,{mt:"xl",children:[P(Dl,{variant:"outline",onClick:()=>{s(!0)},children:"Continue"}),P(Dl,{variant:"outline",onClick:()=>{s(!1)},children:"Start Over"})]})]}),P(TEt,{}),P(oOe,{})]})}function LEt(e,t,n,r){const i=[];if(e&&t&&r&&n){const o=[...n,"end"],a=[];a.push({path:"/",element:P(jKe,{to:`${o[0]}`,replace:!0})}),o.forEach(u=>{u==="end"?a.push({path:"/end",element:P(kEt,{})}):a.push({path:`/${u}`,element:P(lbt,{})})});const l={element:P(MEt,{}),children:a};i.push(l)}const s=SZ(i);return i.length>0?s:null}const Ku="/study/";async function FEt(){const t=await(await fetch(`${Ku}configs/global.hjson`)).text();return wUe(t)}async function jEt(e){const t={},n=e.configsList.map(i=>`${Ku}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>Qse(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function BEt(){const[e,t]=O.useState(null),[n,r]=O.useState({});return O.useEffect(()=>{(async()=>{e&&r(await jEt(e))})()},[e]),O.useEffect(()=>{e||FEt().then(i=>{t(i)})},[e]),e?P(cOe,{basename:Ku,children:$e(lOe,{children:[P(k2,{path:"/",element:P(_Be,{globalConfig:e,studyConfigs:n})}),P(k2,{path:"/:studyId/*",element:P(zEt,{globalConfig:e})})]})}):null}function zEt(e){const{studyId:t}=zw();return P(DEt,{...e},t)}MR.createRoot(document.getElementById("root")).render(P(Ka.StrictMode,{children:P(BEt,{})}));
