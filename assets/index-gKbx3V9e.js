var Wse=Object.defineProperty;var qse=(e,t,n)=>t in e?Wse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qs=(e,t,n)=>(qse(e,typeof t!="symbol"?t+"":t,n),n);function Gse(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kse(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var K9={exports:{}},CE={},Y9={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=Symbol.for("react.element"),Yse=Symbol.for("react.portal"),Qse=Symbol.for("react.fragment"),Xse=Symbol.for("react.strict_mode"),Jse=Symbol.for("react.profiler"),Zse=Symbol.for("react.provider"),eae=Symbol.for("react.context"),tae=Symbol.for("react.forward_ref"),nae=Symbol.for("react.suspense"),rae=Symbol.for("react.memo"),iae=Symbol.for("react.lazy"),TL=Symbol.iterator;function oae(e){return e===null||typeof e!="object"?null:(e=TL&&e[TL]||e["@@iterator"],typeof e=="function"?e:null)}var Q9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X9=Object.assign,J9={};function tm(e,t,n){this.props=e,this.context=t,this.refs=J9,this.updater=n||Q9}tm.prototype.isReactComponent={};tm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z9(){}Z9.prototype=tm.prototype;function gA(e,t,n){this.props=e,this.context=t,this.refs=J9,this.updater=n||Q9}var yA=gA.prototype=new Z9;yA.constructor=gA;X9(yA,tm.prototype);yA.isPureReactComponent=!0;var CL=Array.isArray,e8=Object.prototype.hasOwnProperty,vA={current:null},t8={key:!0,ref:!0,__self:!0,__source:!0};function n8(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)e8.call(t,r)&&!t8.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nv,type:e,key:o,ref:s,props:i,_owner:vA.current}}function sae(e,t){return{$$typeof:Nv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _A(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nv}function aae(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $L=/\/+/g;function fI(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aae(""+e.key):t.toString(36)}function nw(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Nv:case Yse:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+fI(s,0):r,CL(i)?(n="",e!=null&&(n=e.replace($L,"$&/")+"/"),nw(i,t,n,"",function(u){return u})):i!=null&&(_A(i)&&(i=sae(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($L,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",CL(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+fI(o,a);s+=nw(o,t,n,l,i)}else if(l=oae(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+fI(o,a++),s+=nw(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function F0(e,t,n){if(e==null)return e;var r=[],i=0;return nw(e,r,"","",function(o){return t.call(n,o,i++)}),r}function lae(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var no={current:null},rw={transition:null},uae={ReactCurrentDispatcher:no,ReactCurrentBatchConfig:rw,ReactCurrentOwner:vA};zt.Children={map:F0,forEach:function(e,t,n){F0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return F0(e,function(){t++}),t},toArray:function(e){return F0(e,function(t){return t})||[]},only:function(e){if(!_A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=tm;zt.Fragment=Qse;zt.Profiler=Jse;zt.PureComponent=gA;zt.StrictMode=Xse;zt.Suspense=nae;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uae;zt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=X9({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=vA.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)e8.call(t,l)&&!t8.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Nv,type:e.type,key:i,ref:o,props:r,_owner:s}};zt.createContext=function(e){return e={$$typeof:eae,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zse,_context:e},e.Consumer=e};zt.createElement=n8;zt.createFactory=function(e){var t=n8.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:tae,render:e}};zt.isValidElement=_A;zt.lazy=function(e){return{$$typeof:iae,_payload:{_status:-1,_result:e},_init:lae}};zt.memo=function(e,t){return{$$typeof:rae,type:e,compare:t===void 0?null:t}};zt.startTransition=function(e){var t=rw.transition;rw.transition={};try{e()}finally{rw.transition=t}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(e,t){return no.current.useCallback(e,t)};zt.useContext=function(e){return no.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return no.current.useDeferredValue(e)};zt.useEffect=function(e,t){return no.current.useEffect(e,t)};zt.useId=function(){return no.current.useId()};zt.useImperativeHandle=function(e,t,n){return no.current.useImperativeHandle(e,t,n)};zt.useInsertionEffect=function(e,t){return no.current.useInsertionEffect(e,t)};zt.useLayoutEffect=function(e,t){return no.current.useLayoutEffect(e,t)};zt.useMemo=function(e,t){return no.current.useMemo(e,t)};zt.useReducer=function(e,t,n){return no.current.useReducer(e,t,n)};zt.useRef=function(e){return no.current.useRef(e)};zt.useState=function(e){return no.current.useState(e)};zt.useSyncExternalStore=function(e,t,n){return no.current.useSyncExternalStore(e,t,n)};zt.useTransition=function(){return no.current.useTransition()};zt.version="18.2.0";Y9.exports=zt;var S=Y9.exports;const M=wa(S),id=Gse({__proto__:null,default:M},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cae=S,fae=Symbol.for("react.element"),dae=Symbol.for("react.fragment"),hae=Object.prototype.hasOwnProperty,pae=cae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mae={key:!0,ref:!0,__self:!0,__source:!0};function r8(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)hae.call(t,r)&&!mae.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:fae,type:e,key:o,ref:s,props:i,_owner:pae.current}}CE.Fragment=dae;CE.jsx=r8;CE.jsxs=r8;K9.exports=CE;var T=K9.exports,HT={},i8={exports:{}},ss={},o8={exports:{}},s8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Q,ee){var W=Q.length;Q.push(ee);e:for(;0<W;){var P=W-1>>>1,O=Q[P];if(0<i(O,ee))Q[P]=ee,Q[W]=O,W=P;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ee=Q[0],W=Q.pop();if(W!==ee){Q[0]=W;e:for(var P=0,O=Q.length,F=O>>>1;P<F;){var $=2*(P+1)-1,C=Q[$],H=$+1,te=Q[H];if(0>i(C,W))H<O&&0>i(te,C)?(Q[P]=te,Q[H]=W,P=H):(Q[P]=C,Q[$]=W,P=$);else if(H<O&&0>i(te,W))Q[P]=te,Q[H]=W,P=H;else break e}}return ee}function i(Q,ee){var W=Q.sortIndex-ee.sortIndex;return W!==0?W:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Q){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=Q)r(u),ee.sortIndex=ee.expirationTime,t(l,ee);else break;ee=n(u)}}function b(Q){if(g=!1,_(Q),!p)if(n(l)!==null)p=!0,re(E);else{var ee=n(u);ee!==null&&ue(b,ee.startTime-Q)}}function E(Q,ee){p=!1,g&&(g=!1,m(I),I=-1),h=!0;var W=d;try{for(_(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||Q&&!N());){var P=f.callback;if(typeof P=="function"){f.callback=null,d=f.priorityLevel;var O=P(f.expirationTime<=ee);ee=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(l)&&r(l),_(ee)}else r(l);f=n(l)}if(f!==null)var F=!0;else{var $=n(u);$!==null&&ue(b,$.startTime-ee),F=!1}return F}finally{f=null,d=W,h=!1}}var w=!1,x=null,I=-1,D=5,R=-1;function N(){return!(e.unstable_now()-R<D)}function z(){if(x!==null){var Q=e.unstable_now();R=Q;var ee=!0;try{ee=x(!0,Q)}finally{ee?U():(w=!1,x=null)}}else w=!1}var U;if(typeof v=="function")U=function(){v(z)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ae=B.port2;B.port1.onmessage=z,U=function(){ae.postMessage(null)}}else U=function(){y(z,0)};function re(Q){x=Q,w||(w=!0,U())}function ue(Q,ee){I=y(function(){Q(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,re(E))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Q){switch(d){case 1:case 2:case 3:var ee=3;break;default:ee=d}var W=d;d=ee;try{return Q()}finally{d=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var W=d;d=Q;try{return ee()}finally{d=W}},e.unstable_scheduleCallback=function(Q,ee,W){var P=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?P+W:P):W=P,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=W+O,Q={id:c++,callback:ee,priorityLevel:Q,startTime:W,expirationTime:O,sortIndex:-1},W>P?(Q.sortIndex=W,t(u,Q),n(l)===null&&Q===n(u)&&(g?(m(I),I=-1):g=!0,ue(b,W-P))):(Q.sortIndex=O,t(l,Q),p||h||(p=!0,re(E))),Q},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(Q){var ee=d;return function(){var W=d;d=ee;try{return Q.apply(this,arguments)}finally{d=W}}}})(s8);o8.exports=s8;var gae=o8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8=S,Zo=gae;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l8=new Set,by={};function Td(e,t){dp(e,t),dp(e+"Capture",t)}function dp(e,t){for(by[e]=t,e=0;e<t.length;e++)l8.add(t[e])}var ru=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WT=Object.prototype.hasOwnProperty,yae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kL={},AL={};function vae(e){return WT.call(AL,e)?!0:WT.call(kL,e)?!1:yae.test(e)?AL[e]=!0:(kL[e]=!0,!1)}function _ae(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wae(e,t,n,r){if(t===null||typeof t>"u"||_ae(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ro(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Si[e]=new ro(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Si[t]=new ro(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Si[e]=new ro(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Si[e]=new ro(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Si[e]=new ro(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Si[e]=new ro(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Si[e]=new ro(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Si[e]=new ro(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Si[e]=new ro(e,5,!1,e.toLowerCase(),null,!1,!1)});var wA=/[\-:]([a-z])/g;function bA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wA,bA);Si[t]=new ro(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wA,bA);Si[t]=new ro(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wA,bA);Si[t]=new ro(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Si[e]=new ro(e,1,!1,e.toLowerCase(),null,!1,!1)});Si.xlinkHref=new ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Si[e]=new ro(e,1,!1,e.toLowerCase(),null,!0,!0)});function SA(e,t,n,r){var i=Si.hasOwnProperty(t)?Si[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wae(t,n,i,r)&&(n=null),r||i===null?vae(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pu=a8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V0=Symbol.for("react.element"),gh=Symbol.for("react.portal"),yh=Symbol.for("react.fragment"),EA=Symbol.for("react.strict_mode"),qT=Symbol.for("react.profiler"),u8=Symbol.for("react.provider"),c8=Symbol.for("react.context"),xA=Symbol.for("react.forward_ref"),GT=Symbol.for("react.suspense"),KT=Symbol.for("react.suspense_list"),PA=Symbol.for("react.memo"),Wu=Symbol.for("react.lazy"),f8=Symbol.for("react.offscreen"),RL=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=RL&&e[RL]||e["@@iterator"],typeof e=="function"?e:null)}var lr=Object.assign,dI;function _g(e){if(dI===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dI=t&&t[1]||""}return`
`+dI+e}var hI=!1;function pI(e,t){if(!e||hI)return"";hI=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{hI=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_g(e):""}function bae(e){switch(e.tag){case 5:return _g(e.type);case 16:return _g("Lazy");case 13:return _g("Suspense");case 19:return _g("SuspenseList");case 0:case 2:case 15:return e=pI(e.type,!1),e;case 11:return e=pI(e.type.render,!1),e;case 1:return e=pI(e.type,!0),e;default:return""}}function YT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yh:return"Fragment";case gh:return"Portal";case qT:return"Profiler";case EA:return"StrictMode";case GT:return"Suspense";case KT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case c8:return(e.displayName||"Context")+".Consumer";case u8:return(e._context.displayName||"Context")+".Provider";case xA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case PA:return t=e.displayName||null,t!==null?t:YT(e.type)||"Memo";case Wu:t=e._payload,e=e._init;try{return YT(e(t))}catch{}}return null}function Sae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return YT(t);case 8:return t===EA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eae(e){var t=d8(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function B0(e){e._valueTracker||(e._valueTracker=Eae(e))}function h8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=d8(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function QT(e,t){var n=t.checked;return lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function NL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function p8(e,t){t=t.checked,t!=null&&SA(e,"checked",t,!1)}function XT(e,t){p8(e,t);var n=kc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?JT(e,t.type,n):t.hasOwnProperty("defaultValue")&&JT(e,t.type,kc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function DL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function JT(e,t,n){(t!=="number"||Xw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wg=Array.isArray;function Vh(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ZT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ML(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xe(92));if(wg(n)){if(1<n.length)throw Error(xe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kc(n)}}function m8(e,t){var n=kc(t.value),r=kc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function LL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function g8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?g8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var z0,y8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(z0=z0||document.createElement("div"),z0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=z0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sy(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xae=["Webkit","ms","Moz","O"];Object.keys(Bg).forEach(function(e){xae.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bg[t]=Bg[e]})});function v8(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bg.hasOwnProperty(e)&&Bg[e]?(""+t).trim():t+"px"}function _8(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v8(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Pae=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tC(e,t){if(t){if(Pae[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function nC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rC=null;function IA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iC=null,Bh=null,zh=null;function jL(e){if(e=Lv(e)){if(typeof iC!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=NE(t),iC(e.stateNode,e.type,t))}}function w8(e){Bh?zh?zh.push(e):zh=[e]:Bh=e}function b8(){if(Bh){var e=Bh,t=zh;if(zh=Bh=null,jL(e),t)for(e=0;e<t.length;e++)jL(t[e])}}function S8(e,t){return e(t)}function E8(){}var mI=!1;function x8(e,t,n){if(mI)return e(t,n);mI=!0;try{return S8(e,t,n)}finally{mI=!1,(Bh!==null||zh!==null)&&(E8(),b8())}}function Ey(e,t){var n=e.stateNode;if(n===null)return null;var r=NE(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,t,typeof n));return n}var oC=!1;if(ru)try{var zm={};Object.defineProperty(zm,"passive",{get:function(){oC=!0}}),window.addEventListener("test",zm,zm),window.removeEventListener("test",zm,zm)}catch{oC=!1}function Iae(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var zg=!1,Jw=null,Zw=!1,sC=null,Oae={onError:function(e){zg=!0,Jw=e}};function Tae(e,t,n,r,i,o,s,a,l){zg=!1,Jw=null,Iae.apply(Oae,arguments)}function Cae(e,t,n,r,i,o,s,a,l){if(Tae.apply(this,arguments),zg){if(zg){var u=Jw;zg=!1,Jw=null}else throw Error(xe(198));Zw||(Zw=!0,sC=u)}}function Cd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function P8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function FL(e){if(Cd(e)!==e)throw Error(xe(188))}function $ae(e){var t=e.alternate;if(!t){if(t=Cd(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return FL(i),e;if(o===r)return FL(i),t;o=o.sibling}throw Error(xe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:t}function I8(e){return e=$ae(e),e!==null?O8(e):null}function O8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O8(e);if(t!==null)return t;e=e.sibling}return null}var T8=Zo.unstable_scheduleCallback,VL=Zo.unstable_cancelCallback,kae=Zo.unstable_shouldYield,Aae=Zo.unstable_requestPaint,xr=Zo.unstable_now,Rae=Zo.unstable_getCurrentPriorityLevel,OA=Zo.unstable_ImmediatePriority,C8=Zo.unstable_UserBlockingPriority,e1=Zo.unstable_NormalPriority,Nae=Zo.unstable_LowPriority,$8=Zo.unstable_IdlePriority,$E=null,Qa=null;function Dae(e){if(Qa&&typeof Qa.onCommitFiberRoot=="function")try{Qa.onCommitFiberRoot($E,e,void 0,(e.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:jae,Mae=Math.log,Lae=Math.LN2;function jae(e){return e>>>=0,e===0?32:31-(Mae(e)/Lae|0)|0}var U0=64,H0=4194304;function bg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function t1(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=bg(a):(o&=s,o!==0&&(r=bg(o)))}else s=n&~i,s!==0?r=bg(s):o!==0&&(r=bg(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ua(t),i=1<<n,r|=e[n],t&=~i;return r}function Fae(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vae(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ua(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Fae(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function aC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k8(){var e=U0;return U0<<=1,!(U0&4194240)&&(U0=64),e}function gI(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ua(t),e[t]=n}function Bae(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ua(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function TA(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ua(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bn=0;function A8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var R8,CA,N8,D8,M8,lC=!1,W0=[],dc=null,hc=null,pc=null,xy=new Map,Py=new Map,Xu=[],zae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BL(e,t){switch(e){case"focusin":case"focusout":dc=null;break;case"dragenter":case"dragleave":hc=null;break;case"mouseover":case"mouseout":pc=null;break;case"pointerover":case"pointerout":xy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Py.delete(t.pointerId)}}function Um(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Lv(t),t!==null&&CA(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Uae(e,t,n,r,i){switch(t){case"focusin":return dc=Um(dc,e,t,n,r,i),!0;case"dragenter":return hc=Um(hc,e,t,n,r,i),!0;case"mouseover":return pc=Um(pc,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xy.set(o,Um(xy.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Py.set(o,Um(Py.get(o)||null,e,t,n,r,i)),!0}return!1}function L8(e){var t=Rf(e.target);if(t!==null){var n=Cd(t);if(n!==null){if(t=n.tag,t===13){if(t=P8(n),t!==null){e.blockedOn=t,M8(e.priority,function(){N8(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function iw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rC=r,n.target.dispatchEvent(r),rC=null}else return t=Lv(n),t!==null&&CA(t),e.blockedOn=n,!1;t.shift()}return!0}function zL(e,t,n){iw(e)&&n.delete(t)}function Hae(){lC=!1,dc!==null&&iw(dc)&&(dc=null),hc!==null&&iw(hc)&&(hc=null),pc!==null&&iw(pc)&&(pc=null),xy.forEach(zL),Py.forEach(zL)}function Hm(e,t){e.blockedOn===t&&(e.blockedOn=null,lC||(lC=!0,Zo.unstable_scheduleCallback(Zo.unstable_NormalPriority,Hae)))}function Iy(e){function t(i){return Hm(i,e)}if(0<W0.length){Hm(W0[0],e);for(var n=1;n<W0.length;n++){var r=W0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dc!==null&&Hm(dc,e),hc!==null&&Hm(hc,e),pc!==null&&Hm(pc,e),xy.forEach(t),Py.forEach(t),n=0;n<Xu.length;n++)r=Xu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xu.length&&(n=Xu[0],n.blockedOn===null);)L8(n),n.blockedOn===null&&Xu.shift()}var Uh=Pu.ReactCurrentBatchConfig,n1=!0;function Wae(e,t,n,r){var i=bn,o=Uh.transition;Uh.transition=null;try{bn=1,$A(e,t,n,r)}finally{bn=i,Uh.transition=o}}function qae(e,t,n,r){var i=bn,o=Uh.transition;Uh.transition=null;try{bn=4,$A(e,t,n,r)}finally{bn=i,Uh.transition=o}}function $A(e,t,n,r){if(n1){var i=uC(e,t,n,r);if(i===null)II(e,t,r,r1,n),BL(e,r);else if(Uae(i,e,t,n,r))r.stopPropagation();else if(BL(e,r),t&4&&-1<zae.indexOf(e)){for(;i!==null;){var o=Lv(i);if(o!==null&&R8(o),o=uC(e,t,n,r),o===null&&II(e,t,r,r1,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else II(e,t,r,null,n)}}var r1=null;function uC(e,t,n,r){if(r1=null,e=IA(r),e=Rf(e),e!==null)if(t=Cd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=P8(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return r1=e,null}function j8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rae()){case OA:return 1;case C8:return 4;case e1:case Nae:return 16;case $8:return 536870912;default:return 16}default:return 16}}var sc=null,kA=null,ow=null;function F8(){if(ow)return ow;var e,t=kA,n=t.length,r,i="value"in sc?sc.value:sc.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return ow=i.slice(e,1<r?1-r:void 0)}function sw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function q0(){return!0}function UL(){return!1}function as(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?q0:UL,this.isPropagationStopped=UL,this}return lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q0)},persist:function(){},isPersistent:q0}),t}var nm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AA=as(nm),Mv=lr({},nm,{view:0,detail:0}),Gae=as(Mv),yI,vI,Wm,kE=lr({},Mv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wm&&(Wm&&e.type==="mousemove"?(yI=e.screenX-Wm.screenX,vI=e.screenY-Wm.screenY):vI=yI=0,Wm=e),yI)},movementY:function(e){return"movementY"in e?e.movementY:vI}}),HL=as(kE),Kae=lr({},kE,{dataTransfer:0}),Yae=as(Kae),Qae=lr({},Mv,{relatedTarget:0}),_I=as(Qae),Xae=lr({},nm,{animationName:0,elapsedTime:0,pseudoElement:0}),Jae=as(Xae),Zae=lr({},nm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ele=as(Zae),tle=lr({},nm,{data:0}),WL=as(tle),nle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ile={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ole(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ile[e])?!!t[e]:!1}function RA(){return ole}var sle=lr({},Mv,{key:function(e){if(e.key){var t=nle[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rle[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RA,charCode:function(e){return e.type==="keypress"?sw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ale=as(sle),lle=lr({},kE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qL=as(lle),ule=lr({},Mv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RA}),cle=as(ule),fle=lr({},nm,{propertyName:0,elapsedTime:0,pseudoElement:0}),dle=as(fle),hle=lr({},kE,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ple=as(hle),mle=[9,13,27,32],NA=ru&&"CompositionEvent"in window,Ug=null;ru&&"documentMode"in document&&(Ug=document.documentMode);var gle=ru&&"TextEvent"in window&&!Ug,V8=ru&&(!NA||Ug&&8<Ug&&11>=Ug),GL=" ",KL=!1;function B8(e,t){switch(e){case"keyup":return mle.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vh=!1;function yle(e,t){switch(e){case"compositionend":return z8(t);case"keypress":return t.which!==32?null:(KL=!0,GL);case"textInput":return e=t.data,e===GL&&KL?null:e;default:return null}}function vle(e,t){if(vh)return e==="compositionend"||!NA&&B8(e,t)?(e=F8(),ow=kA=sc=null,vh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return V8&&t.locale!=="ko"?null:t.data;default:return null}}var _le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_le[e.type]:t==="textarea"}function U8(e,t,n,r){w8(r),t=i1(t,"onChange"),0<t.length&&(n=new AA("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hg=null,Oy=null;function wle(e){e7(e,0)}function AE(e){var t=bh(e);if(h8(t))return e}function ble(e,t){if(e==="change")return t}var H8=!1;if(ru){var wI;if(ru){var bI="oninput"in document;if(!bI){var QL=document.createElement("div");QL.setAttribute("oninput","return;"),bI=typeof QL.oninput=="function"}wI=bI}else wI=!1;H8=wI&&(!document.documentMode||9<document.documentMode)}function XL(){Hg&&(Hg.detachEvent("onpropertychange",W8),Oy=Hg=null)}function W8(e){if(e.propertyName==="value"&&AE(Oy)){var t=[];U8(t,Oy,e,IA(e)),x8(wle,t)}}function Sle(e,t,n){e==="focusin"?(XL(),Hg=t,Oy=n,Hg.attachEvent("onpropertychange",W8)):e==="focusout"&&XL()}function Ele(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return AE(Oy)}function xle(e,t){if(e==="click")return AE(t)}function Ple(e,t){if(e==="input"||e==="change")return AE(t)}function Ile(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ma=typeof Object.is=="function"?Object.is:Ile;function Ty(e,t){if(ma(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!WT.call(t,i)||!ma(e[i],t[i]))return!1}return!0}function JL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ZL(e,t){var n=JL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JL(n)}}function q8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?q8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function G8(){for(var e=window,t=Xw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xw(e.document)}return t}function DA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ole(e){var t=G8(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&q8(n.ownerDocument.documentElement,n)){if(r!==null&&DA(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ZL(n,o);var s=ZL(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tle=ru&&"documentMode"in document&&11>=document.documentMode,_h=null,cC=null,Wg=null,fC=!1;function ej(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fC||_h==null||_h!==Xw(r)||(r=_h,"selectionStart"in r&&DA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wg&&Ty(Wg,r)||(Wg=r,r=i1(cC,"onSelect"),0<r.length&&(t=new AA("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_h)))}function G0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wh={animationend:G0("Animation","AnimationEnd"),animationiteration:G0("Animation","AnimationIteration"),animationstart:G0("Animation","AnimationStart"),transitionend:G0("Transition","TransitionEnd")},SI={},K8={};ru&&(K8=document.createElement("div").style,"AnimationEvent"in window||(delete wh.animationend.animation,delete wh.animationiteration.animation,delete wh.animationstart.animation),"TransitionEvent"in window||delete wh.transitionend.transition);function RE(e){if(SI[e])return SI[e];if(!wh[e])return e;var t=wh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in K8)return SI[e]=t[n];return e}var Y8=RE("animationend"),Q8=RE("animationiteration"),X8=RE("animationstart"),J8=RE("transitionend"),Z8=new Map,tj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jc(e,t){Z8.set(e,t),Td(t,[e])}for(var EI=0;EI<tj.length;EI++){var xI=tj[EI],Cle=xI.toLowerCase(),$le=xI[0].toUpperCase()+xI.slice(1);Jc(Cle,"on"+$le)}Jc(Y8,"onAnimationEnd");Jc(Q8,"onAnimationIteration");Jc(X8,"onAnimationStart");Jc("dblclick","onDoubleClick");Jc("focusin","onFocus");Jc("focusout","onBlur");Jc(J8,"onTransitionEnd");dp("onMouseEnter",["mouseout","mouseover"]);dp("onMouseLeave",["mouseout","mouseover"]);dp("onPointerEnter",["pointerout","pointerover"]);dp("onPointerLeave",["pointerout","pointerover"]);Td("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Td("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Td("onBeforeInput",["compositionend","keypress","textInput","paste"]);Td("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Td("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Td("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kle=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sg));function nj(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cae(r,t,void 0,e),e.currentTarget=null}function e7(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;nj(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;nj(i,a,u),o=l}}}if(Zw)throw e=sC,Zw=!1,sC=null,e}function Fn(e,t){var n=t[gC];n===void 0&&(n=t[gC]=new Set);var r=e+"__bubble";n.has(r)||(t7(t,e,2,!1),n.add(r))}function PI(e,t,n){var r=0;t&&(r|=4),t7(n,e,r,t)}var K0="_reactListening"+Math.random().toString(36).slice(2);function Cy(e){if(!e[K0]){e[K0]=!0,l8.forEach(function(n){n!=="selectionchange"&&(kle.has(n)||PI(n,!1,e),PI(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[K0]||(t[K0]=!0,PI("selectionchange",!1,t))}}function t7(e,t,n,r){switch(j8(t)){case 1:var i=Wae;break;case 4:i=qae;break;default:i=$A}n=i.bind(null,t,n,e),i=void 0,!oC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function II(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Rf(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}x8(function(){var u=o,c=IA(n),f=[];e:{var d=Z8.get(e);if(d!==void 0){var h=AA,p=e;switch(e){case"keypress":if(sw(n)===0)break e;case"keydown":case"keyup":h=ale;break;case"focusin":p="focus",h=_I;break;case"focusout":p="blur",h=_I;break;case"beforeblur":case"afterblur":h=_I;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=HL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Yae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=cle;break;case Y8:case Q8:case X8:h=Jae;break;case J8:h=dle;break;case"scroll":h=Gae;break;case"wheel":h=ple;break;case"copy":case"cut":case"paste":h=ele;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=qL}var g=(t&4)!==0,y=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,_;v!==null;){_=v;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,m!==null&&(b=Ey(v,m),b!=null&&g.push($y(v,b,_)))),y)break;v=v.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==rC&&(p=n.relatedTarget||n.fromElement)&&(Rf(p)||p[iu]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Rf(p):null,p!==null&&(y=Cd(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=HL,b="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=qL,b="onPointerLeave",m="onPointerEnter",v="pointer"),y=h==null?d:bh(h),_=p==null?d:bh(p),d=new g(b,v+"leave",h,n,c),d.target=y,d.relatedTarget=_,b=null,Rf(c)===u&&(g=new g(m,v+"enter",p,n,c),g.target=_,g.relatedTarget=y,b=g),y=b,h&&p)t:{for(g=h,m=p,v=0,_=g;_;_=Qd(_))v++;for(_=0,b=m;b;b=Qd(b))_++;for(;0<v-_;)g=Qd(g),v--;for(;0<_-v;)m=Qd(m),_--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=Qd(g),m=Qd(m)}g=null}else g=null;h!==null&&rj(f,d,h,g,!1),p!==null&&y!==null&&rj(f,y,p,g,!0)}}e:{if(d=u?bh(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=ble;else if(YL(d))if(H8)E=Ple;else{E=Ele;var w=Sle}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=xle);if(E&&(E=E(e,u))){U8(f,E,n,c);break e}w&&w(e,d,u),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&JT(d,"number",d.value)}switch(w=u?bh(u):window,e){case"focusin":(YL(w)||w.contentEditable==="true")&&(_h=w,cC=u,Wg=null);break;case"focusout":Wg=cC=_h=null;break;case"mousedown":fC=!0;break;case"contextmenu":case"mouseup":case"dragend":fC=!1,ej(f,n,c);break;case"selectionchange":if(Tle)break;case"keydown":case"keyup":ej(f,n,c)}var x;if(NA)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else vh?B8(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(V8&&n.locale!=="ko"&&(vh||I!=="onCompositionStart"?I==="onCompositionEnd"&&vh&&(x=F8()):(sc=c,kA="value"in sc?sc.value:sc.textContent,vh=!0)),w=i1(u,I),0<w.length&&(I=new WL(I,e,null,n,c),f.push({event:I,listeners:w}),x?I.data=x:(x=z8(n),x!==null&&(I.data=x)))),(x=gle?yle(e,n):vle(e,n))&&(u=i1(u,"onBeforeInput"),0<u.length&&(c=new WL("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=x))}e7(f,t)})}function $y(e,t,n){return{instance:e,listener:t,currentTarget:n}}function i1(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ey(e,n),o!=null&&r.unshift($y(e,o,i)),o=Ey(e,t),o!=null&&r.push($y(e,o,i))),e=e.return}return r}function Qd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rj(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ey(n,o),l!=null&&s.unshift($y(n,l,a))):i||(l=Ey(n,o),l!=null&&s.push($y(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ale=/\r\n?/g,Rle=/\u0000|\uFFFD/g;function ij(e){return(typeof e=="string"?e:""+e).replace(Ale,`
`).replace(Rle,"")}function Y0(e,t,n){if(t=ij(t),ij(e)!==t&&n)throw Error(xe(425))}function o1(){}var dC=null,hC=null;function pC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mC=typeof setTimeout=="function"?setTimeout:void 0,Nle=typeof clearTimeout=="function"?clearTimeout:void 0,oj=typeof Promise=="function"?Promise:void 0,Dle=typeof queueMicrotask=="function"?queueMicrotask:typeof oj<"u"?function(e){return oj.resolve(null).then(e).catch(Mle)}:mC;function Mle(e){setTimeout(function(){throw e})}function OI(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Iy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iy(t)}function mc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rm=Math.random().toString(36).slice(2),Da="__reactFiber$"+rm,ky="__reactProps$"+rm,iu="__reactContainer$"+rm,gC="__reactEvents$"+rm,Lle="__reactListeners$"+rm,jle="__reactHandles$"+rm;function Rf(e){var t=e[Da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[iu]||n[Da]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sj(e);e!==null;){if(n=e[Da])return n;e=sj(e)}return t}e=n,n=e.parentNode}return null}function Lv(e){return e=e[Da]||e[iu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function NE(e){return e[ky]||null}var yC=[],Sh=-1;function Zc(e){return{current:e}}function Un(e){0>Sh||(e.current=yC[Sh],yC[Sh]=null,Sh--)}function Mn(e,t){Sh++,yC[Sh]=e.current,e.current=t}var Ac={},Vi=Zc(Ac),Oo=Zc(!1),od=Ac;function hp(e,t){var n=e.type.contextTypes;if(!n)return Ac;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function To(e){return e=e.childContextTypes,e!=null}function s1(){Un(Oo),Un(Vi)}function aj(e,t,n){if(Vi.current!==Ac)throw Error(xe(168));Mn(Vi,t),Mn(Oo,n)}function n7(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(xe(108,Sae(e)||"Unknown",i));return lr({},n,r)}function a1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ac,od=Vi.current,Mn(Vi,e),Mn(Oo,Oo.current),!0}function lj(e,t,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=n7(e,t,od),r.__reactInternalMemoizedMergedChildContext=e,Un(Oo),Un(Vi),Mn(Vi,e)):Un(Oo),Mn(Oo,n)}var kl=null,DE=!1,TI=!1;function r7(e){kl===null?kl=[e]:kl.push(e)}function Fle(e){DE=!0,r7(e)}function ef(){if(!TI&&kl!==null){TI=!0;var e=0,t=bn;try{var n=kl;for(bn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kl=null,DE=!1}catch(i){throw kl!==null&&(kl=kl.slice(e+1)),T8(OA,ef),i}finally{bn=t,TI=!1}}return null}var Eh=[],xh=0,l1=null,u1=0,vs=[],_s=0,sd=null,jl=1,Fl="";function yf(e,t){Eh[xh++]=u1,Eh[xh++]=l1,l1=e,u1=t}function i7(e,t,n){vs[_s++]=jl,vs[_s++]=Fl,vs[_s++]=sd,sd=e;var r=jl;e=Fl;var i=32-ua(r)-1;r&=~(1<<i),n+=1;var o=32-ua(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,jl=1<<32-ua(t)+i|n<<i|r,Fl=o+e}else jl=1<<o|n<<i|r,Fl=e}function MA(e){e.return!==null&&(yf(e,1),i7(e,1,0))}function LA(e){for(;e===l1;)l1=Eh[--xh],Eh[xh]=null,u1=Eh[--xh],Eh[xh]=null;for(;e===sd;)sd=vs[--_s],vs[_s]=null,Fl=vs[--_s],vs[_s]=null,jl=vs[--_s],vs[_s]=null}var Ko=null,Wo=null,Xn=!1,ta=null;function o7(e,t){var n=Os(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uj(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ko=e,Wo=mc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ko=e,Wo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sd!==null?{id:jl,overflow:Fl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Os(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ko=e,Wo=null,!0):!1;default:return!1}}function vC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _C(e){if(Xn){var t=Wo;if(t){var n=t;if(!uj(e,t)){if(vC(e))throw Error(xe(418));t=mc(n.nextSibling);var r=Ko;t&&uj(e,t)?o7(r,n):(e.flags=e.flags&-4097|2,Xn=!1,Ko=e)}}else{if(vC(e))throw Error(xe(418));e.flags=e.flags&-4097|2,Xn=!1,Ko=e}}}function cj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ko=e}function Q0(e){if(e!==Ko)return!1;if(!Xn)return cj(e),Xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pC(e.type,e.memoizedProps)),t&&(t=Wo)){if(vC(e))throw s7(),Error(xe(418));for(;t;)o7(e,t),t=mc(t.nextSibling)}if(cj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wo=mc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wo=null}}else Wo=Ko?mc(e.stateNode.nextSibling):null;return!0}function s7(){for(var e=Wo;e;)e=mc(e.nextSibling)}function pp(){Wo=Ko=null,Xn=!1}function jA(e){ta===null?ta=[e]:ta.push(e)}var Vle=Pu.ReactCurrentBatchConfig;function Js(e,t){if(e&&e.defaultProps){t=lr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var c1=Zc(null),f1=null,Ph=null,FA=null;function VA(){FA=Ph=f1=null}function BA(e){var t=c1.current;Un(c1),e._currentValue=t}function wC(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hh(e,t){f1=e,FA=Ph=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Eo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(FA!==e)if(e={context:e,memoizedValue:t,next:null},Ph===null){if(f1===null)throw Error(xe(308));Ph=e,f1.dependencies={lanes:0,firstContext:e}}else Ph=Ph.next=e;return t}var Nf=null;function zA(e){Nf===null?Nf=[e]:Nf.push(e)}function a7(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,zA(t)):(n.next=i.next,i.next=n),t.interleaved=n,ou(e,r)}function ou(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qu=!1;function UA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,on&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ou(e,n)}return i=r.interleaved,i===null?(t.next=t,zA(r)):(t.next=i.next,i.next=t),r.interleaved=t,ou(e,n)}function aw(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TA(e,n)}}function fj(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function d1(e,t,n,r){var i=e.updateQueue;qu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=lr({},f,d);break e;case 2:qu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ld|=s,e.lanes=s,e.memoizedState=f}}function dj(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xe(191,i));i.call(r)}}}var u7=new a8.Component().refs;function bC(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:lr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ME={isMounted:function(e){return(e=e._reactInternals)?Cd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ji(),i=vc(e),o=Kl(r,i);o.payload=t,n!=null&&(o.callback=n),t=gc(e,o,i),t!==null&&(ca(t,e,i,r),aw(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ji(),i=vc(e),o=Kl(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=gc(e,o,i),t!==null&&(ca(t,e,i,r),aw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ji(),r=vc(e),i=Kl(n,r);i.tag=2,t!=null&&(i.callback=t),t=gc(e,i,r),t!==null&&(ca(t,e,r,n),aw(t,e,r))}};function hj(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ty(n,r)||!Ty(i,o):!0}function c7(e,t,n){var r=!1,i=Ac,o=t.contextType;return typeof o=="object"&&o!==null?o=As(o):(i=To(t)?od:Vi.current,r=t.contextTypes,o=(r=r!=null)?hp(e,i):Ac),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ME,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function pj(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ME.enqueueReplaceState(t,t.state,null)}function SC(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=u7,UA(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=As(o):(o=To(t)?od:Vi.current,i.context=hp(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bC(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ME.enqueueReplaceState(i,i.state,null),d1(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===u7&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function X0(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mj(e){var t=e._init;return t(e._payload)}function f7(e){function t(m,v){if(e){var _=m.deletions;_===null?(m.deletions=[v],m.flags|=16):_.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=_c(m,v),m.index=0,m.sibling=null,m}function o(m,v,_){return m.index=_,e?(_=m.alternate,_!==null?(_=_.index,_<v?(m.flags|=2,v):_):(m.flags|=2,v)):(m.flags|=1048576,v)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,v,_,b){return v===null||v.tag!==6?(v=DI(_,m.mode,b),v.return=m,v):(v=i(v,_),v.return=m,v)}function l(m,v,_,b){var E=_.type;return E===yh?c(m,v,_.props.children,b,_.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wu&&mj(E)===v.type)?(b=i(v,_.props),b.ref=qm(m,v,_),b.return=m,b):(b=hw(_.type,_.key,_.props,null,m.mode,b),b.ref=qm(m,v,_),b.return=m,b)}function u(m,v,_,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=MI(_,m.mode,b),v.return=m,v):(v=i(v,_.children||[]),v.return=m,v)}function c(m,v,_,b,E){return v===null||v.tag!==7?(v=Qf(_,m.mode,b,E),v.return=m,v):(v=i(v,_),v.return=m,v)}function f(m,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=DI(""+v,m.mode,_),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case V0:return _=hw(v.type,v.key,v.props,null,m.mode,_),_.ref=qm(m,null,v),_.return=m,_;case gh:return v=MI(v,m.mode,_),v.return=m,v;case Wu:var b=v._init;return f(m,b(v._payload),_)}if(wg(v)||Bm(v))return v=Qf(v,m.mode,_,null),v.return=m,v;X0(m,v)}return null}function d(m,v,_,b){var E=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(m,v,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case V0:return _.key===E?l(m,v,_,b):null;case gh:return _.key===E?u(m,v,_,b):null;case Wu:return E=_._init,d(m,v,E(_._payload),b)}if(wg(_)||Bm(_))return E!==null?null:c(m,v,_,b,null);X0(m,_)}return null}function h(m,v,_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(_)||null,a(v,m,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case V0:return m=m.get(b.key===null?_:b.key)||null,l(v,m,b,E);case gh:return m=m.get(b.key===null?_:b.key)||null,u(v,m,b,E);case Wu:var w=b._init;return h(m,v,_,w(b._payload),E)}if(wg(b)||Bm(b))return m=m.get(_)||null,c(v,m,b,E,null);X0(v,b)}return null}function p(m,v,_,b){for(var E=null,w=null,x=v,I=v=0,D=null;x!==null&&I<_.length;I++){x.index>I?(D=x,x=null):D=x.sibling;var R=d(m,x,_[I],b);if(R===null){x===null&&(x=D);break}e&&x&&R.alternate===null&&t(m,x),v=o(R,v,I),w===null?E=R:w.sibling=R,w=R,x=D}if(I===_.length)return n(m,x),Xn&&yf(m,I),E;if(x===null){for(;I<_.length;I++)x=f(m,_[I],b),x!==null&&(v=o(x,v,I),w===null?E=x:w.sibling=x,w=x);return Xn&&yf(m,I),E}for(x=r(m,x);I<_.length;I++)D=h(x,m,I,_[I],b),D!==null&&(e&&D.alternate!==null&&x.delete(D.key===null?I:D.key),v=o(D,v,I),w===null?E=D:w.sibling=D,w=D);return e&&x.forEach(function(N){return t(m,N)}),Xn&&yf(m,I),E}function g(m,v,_,b){var E=Bm(_);if(typeof E!="function")throw Error(xe(150));if(_=E.call(_),_==null)throw Error(xe(151));for(var w=E=null,x=v,I=v=0,D=null,R=_.next();x!==null&&!R.done;I++,R=_.next()){x.index>I?(D=x,x=null):D=x.sibling;var N=d(m,x,R.value,b);if(N===null){x===null&&(x=D);break}e&&x&&N.alternate===null&&t(m,x),v=o(N,v,I),w===null?E=N:w.sibling=N,w=N,x=D}if(R.done)return n(m,x),Xn&&yf(m,I),E;if(x===null){for(;!R.done;I++,R=_.next())R=f(m,R.value,b),R!==null&&(v=o(R,v,I),w===null?E=R:w.sibling=R,w=R);return Xn&&yf(m,I),E}for(x=r(m,x);!R.done;I++,R=_.next())R=h(x,m,I,R.value,b),R!==null&&(e&&R.alternate!==null&&x.delete(R.key===null?I:R.key),v=o(R,v,I),w===null?E=R:w.sibling=R,w=R);return e&&x.forEach(function(z){return t(m,z)}),Xn&&yf(m,I),E}function y(m,v,_,b){if(typeof _=="object"&&_!==null&&_.type===yh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case V0:e:{for(var E=_.key,w=v;w!==null;){if(w.key===E){if(E=_.type,E===yh){if(w.tag===7){n(m,w.sibling),v=i(w,_.props.children),v.return=m,m=v;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wu&&mj(E)===w.type){n(m,w.sibling),v=i(w,_.props),v.ref=qm(m,w,_),v.return=m,m=v;break e}n(m,w);break}else t(m,w);w=w.sibling}_.type===yh?(v=Qf(_.props.children,m.mode,b,_.key),v.return=m,m=v):(b=hw(_.type,_.key,_.props,null,m.mode,b),b.ref=qm(m,v,_),b.return=m,m=b)}return s(m);case gh:e:{for(w=_.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(m,v.sibling),v=i(v,_.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=MI(_,m.mode,b),v.return=m,m=v}return s(m);case Wu:return w=_._init,y(m,v,w(_._payload),b)}if(wg(_))return p(m,v,_,b);if(Bm(_))return g(m,v,_,b);X0(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,_),v.return=m,m=v):(n(m,v),v=DI(_,m.mode,b),v.return=m,m=v),s(m)):n(m,v)}return y}var mp=f7(!0),d7=f7(!1),jv={},Xa=Zc(jv),Ay=Zc(jv),Ry=Zc(jv);function Df(e){if(e===jv)throw Error(xe(174));return e}function HA(e,t){switch(Mn(Ry,t),Mn(Ay,e),Mn(Xa,jv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eC(t,e)}Un(Xa),Mn(Xa,t)}function gp(){Un(Xa),Un(Ay),Un(Ry)}function h7(e){Df(Ry.current);var t=Df(Xa.current),n=eC(t,e.type);t!==n&&(Mn(Ay,e),Mn(Xa,n))}function WA(e){Ay.current===e&&(Un(Xa),Un(Ay))}var or=Zc(0);function h1(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var CI=[];function qA(){for(var e=0;e<CI.length;e++)CI[e]._workInProgressVersionPrimary=null;CI.length=0}var lw=Pu.ReactCurrentDispatcher,$I=Pu.ReactCurrentBatchConfig,ad=0,ar=null,jr=null,Zr=null,p1=!1,qg=!1,Ny=0,Ble=0;function Pi(){throw Error(xe(321))}function GA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ma(e[n],t[n]))return!1;return!0}function KA(e,t,n,r,i,o){if(ad=o,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lw.current=e===null||e.memoizedState===null?Wle:qle,e=n(r,i),qg){o=0;do{if(qg=!1,Ny=0,25<=o)throw Error(xe(301));o+=1,Zr=jr=null,t.updateQueue=null,lw.current=Gle,e=n(r,i)}while(qg)}if(lw.current=m1,t=jr!==null&&jr.next!==null,ad=0,Zr=jr=ar=null,p1=!1,t)throw Error(xe(300));return e}function YA(){var e=Ny!==0;return Ny=0,e}function Oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?ar.memoizedState=Zr=e:Zr=Zr.next=e,Zr}function Rs(){if(jr===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=jr.next;var t=Zr===null?ar.memoizedState:Zr.next;if(t!==null)Zr=t,jr=e;else{if(e===null)throw Error(xe(310));jr=e,e={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},Zr===null?ar.memoizedState=Zr=e:Zr=Zr.next=e}return Zr}function Dy(e,t){return typeof t=="function"?t(e):t}function kI(e){var t=Rs(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=jr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ad&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ar.lanes|=c,ld|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,ma(r,t.memoizedState)||(Eo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ar.lanes|=o,ld|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function AI(e){var t=Rs(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);ma(o,t.memoizedState)||(Eo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function p7(){}function m7(e,t){var n=ar,r=Rs(),i=t(),o=!ma(r.memoizedState,i);if(o&&(r.memoizedState=i,Eo=!0),r=r.queue,QA(v7.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Zr!==null&&Zr.memoizedState.tag&1){if(n.flags|=2048,My(9,y7.bind(null,n,r,i,t),void 0,null),ti===null)throw Error(xe(349));ad&30||g7(n,t,i)}return i}function g7(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function y7(e,t,n,r){t.value=n,t.getSnapshot=r,_7(t)&&w7(e)}function v7(e,t,n){return n(function(){_7(t)&&w7(e)})}function _7(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ma(e,n)}catch{return!0}}function w7(e){var t=ou(e,1);t!==null&&ca(t,e,1,-1)}function gj(e){var t=Oa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:e},t.queue=e,e=e.dispatch=Hle.bind(null,ar,e),[t.memoizedState,e]}function My(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function b7(){return Rs().memoizedState}function uw(e,t,n,r){var i=Oa();ar.flags|=e,i.memoizedState=My(1|t,n,void 0,r===void 0?null:r)}function LE(e,t,n,r){var i=Rs();r=r===void 0?null:r;var o=void 0;if(jr!==null){var s=jr.memoizedState;if(o=s.destroy,r!==null&&GA(r,s.deps)){i.memoizedState=My(t,n,o,r);return}}ar.flags|=e,i.memoizedState=My(1|t,n,o,r)}function yj(e,t){return uw(8390656,8,e,t)}function QA(e,t){return LE(2048,8,e,t)}function S7(e,t){return LE(4,2,e,t)}function E7(e,t){return LE(4,4,e,t)}function x7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P7(e,t,n){return n=n!=null?n.concat([e]):null,LE(4,4,x7.bind(null,t,e),n)}function XA(){}function I7(e,t){var n=Rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&GA(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function O7(e,t){var n=Rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&GA(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function T7(e,t,n){return ad&21?(ma(n,t)||(n=k8(),ar.lanes|=n,ld|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=n)}function zle(e,t){var n=bn;bn=n!==0&&4>n?n:4,e(!0);var r=$I.transition;$I.transition={};try{e(!1),t()}finally{bn=n,$I.transition=r}}function C7(){return Rs().memoizedState}function Ule(e,t,n){var r=vc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$7(e))k7(t,n);else if(n=a7(e,t,n,r),n!==null){var i=Ji();ca(n,e,r,i),A7(n,t,r)}}function Hle(e,t,n){var r=vc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($7(e))k7(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ma(a,s)){var l=t.interleaved;l===null?(i.next=i,zA(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=a7(e,t,i,r),n!==null&&(i=Ji(),ca(n,e,r,i),A7(n,t,r))}}function $7(e){var t=e.alternate;return e===ar||t!==null&&t===ar}function k7(e,t){qg=p1=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function A7(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TA(e,n)}}var m1={readContext:As,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},Wle={readContext:As,useCallback:function(e,t){return Oa().memoizedState=[e,t===void 0?null:t],e},useContext:As,useEffect:yj,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,uw(4194308,4,x7.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uw(4194308,4,e,t)},useInsertionEffect:function(e,t){return uw(4,2,e,t)},useMemo:function(e,t){var n=Oa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oa();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ule.bind(null,ar,e),[r.memoizedState,e]},useRef:function(e){var t=Oa();return e={current:e},t.memoizedState=e},useState:gj,useDebugValue:XA,useDeferredValue:function(e){return Oa().memoizedState=e},useTransition:function(){var e=gj(!1),t=e[0];return e=zle.bind(null,e[1]),Oa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ar,i=Oa();if(Xn){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=t(),ti===null)throw Error(xe(349));ad&30||g7(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,yj(v7.bind(null,r,o,e),[e]),r.flags|=2048,My(9,y7.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Oa(),t=ti.identifierPrefix;if(Xn){var n=Fl,r=jl;n=(r&~(1<<32-ua(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ny++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ble++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qle={readContext:As,useCallback:I7,useContext:As,useEffect:QA,useImperativeHandle:P7,useInsertionEffect:S7,useLayoutEffect:E7,useMemo:O7,useReducer:kI,useRef:b7,useState:function(){return kI(Dy)},useDebugValue:XA,useDeferredValue:function(e){var t=Rs();return T7(t,jr.memoizedState,e)},useTransition:function(){var e=kI(Dy)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:p7,useSyncExternalStore:m7,useId:C7,unstable_isNewReconciler:!1},Gle={readContext:As,useCallback:I7,useContext:As,useEffect:QA,useImperativeHandle:P7,useInsertionEffect:S7,useLayoutEffect:E7,useMemo:O7,useReducer:AI,useRef:b7,useState:function(){return AI(Dy)},useDebugValue:XA,useDeferredValue:function(e){var t=Rs();return jr===null?t.memoizedState=e:T7(t,jr.memoizedState,e)},useTransition:function(){var e=AI(Dy)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:p7,useSyncExternalStore:m7,useId:C7,unstable_isNewReconciler:!1};function yp(e,t){try{var n="",r=t;do n+=bae(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function RI(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function EC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kle=typeof WeakMap=="function"?WeakMap:Map;function R7(e,t,n){n=Kl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){y1||(y1=!0,RC=r),EC(e,t)},n}function N7(e,t,n){n=Kl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){EC(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){EC(e,t),typeof r!="function"&&(yc===null?yc=new Set([this]):yc.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function vj(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kle;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=lue.bind(null,e,t,n),t.then(e,e))}function _j(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wj(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kl(-1,1),t.tag=2,gc(n,t,1))),n.lanes|=1),e)}var Yle=Pu.ReactCurrentOwner,Eo=!1;function Yi(e,t,n,r){t.child=e===null?d7(t,null,n,r):mp(t,e.child,n,r)}function bj(e,t,n,r,i){n=n.render;var o=t.ref;return Hh(t,i),r=KA(e,t,n,r,o,i),n=YA(),e!==null&&!Eo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,su(e,t,i)):(Xn&&n&&MA(t),t.flags|=1,Yi(e,t,r,i),t.child)}function Sj(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!oR(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,D7(e,t,o,r,i)):(e=hw(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ty,n(s,r)&&e.ref===t.ref)return su(e,t,i)}return t.flags|=1,e=_c(o,r),e.ref=t.ref,e.return=t,t.child=e}function D7(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ty(o,r)&&e.ref===t.ref)if(Eo=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Eo=!0);else return t.lanes=e.lanes,su(e,t,i)}return xC(e,t,n,r,i)}function M7(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(Oh,Vo),Vo|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mn(Oh,Vo),Vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Mn(Oh,Vo),Vo|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Mn(Oh,Vo),Vo|=r;return Yi(e,t,i,n),t.child}function L7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xC(e,t,n,r,i){var o=To(n)?od:Vi.current;return o=hp(t,o),Hh(t,i),n=KA(e,t,n,r,o,i),r=YA(),e!==null&&!Eo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,su(e,t,i)):(Xn&&r&&MA(t),t.flags|=1,Yi(e,t,n,i),t.child)}function Ej(e,t,n,r,i){if(To(n)){var o=!0;a1(t)}else o=!1;if(Hh(t,i),t.stateNode===null)cw(e,t),c7(t,n,r),SC(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=As(u):(u=To(n)?od:Vi.current,u=hp(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&pj(t,s,r,u),qu=!1;var d=t.memoizedState;s.state=d,d1(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Oo.current||qu?(typeof c=="function"&&(bC(t,n,c,r),l=t.memoizedState),(a=qu||hj(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,l7(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Js(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=As(l):(l=To(n)?od:Vi.current,l=hp(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&pj(t,s,r,l),qu=!1,d=t.memoizedState,s.state=d,d1(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||Oo.current||qu?(typeof h=="function"&&(bC(t,n,h,r),p=t.memoizedState),(u=qu||hj(t,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return PC(e,t,n,r,o,i)}function PC(e,t,n,r,i,o){L7(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&lj(t,n,!1),su(e,t,o);r=t.stateNode,Yle.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=mp(t,e.child,null,o),t.child=mp(t,null,a,o)):Yi(e,t,a,o),t.memoizedState=r.state,i&&lj(t,n,!0),t.child}function j7(e){var t=e.stateNode;t.pendingContext?aj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&aj(e,t.context,!1),HA(e,t.containerInfo)}function xj(e,t,n,r,i){return pp(),jA(i),t.flags|=256,Yi(e,t,n,r),t.child}var IC={dehydrated:null,treeContext:null,retryLane:0};function OC(e){return{baseLanes:e,cachePool:null,transitions:null}}function F7(e,t,n){var r=t.pendingProps,i=or.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Mn(or,i&1),e===null)return _C(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=VE(s,r,0,null),e=Qf(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=OC(n),t.memoizedState=IC,e):JA(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Qle(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=_c(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=_c(a,o):(o=Qf(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?OC(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=IC,r}return o=e.child,e=o.sibling,r=_c(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function JA(e,t){return t=VE({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function J0(e,t,n,r){return r!==null&&jA(r),mp(t,e.child,null,n),e=JA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qle(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=RI(Error(xe(422))),J0(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=VE({mode:"visible",children:r.children},i,0,null),o=Qf(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&mp(t,e.child,null,s),t.child.memoizedState=OC(s),t.memoizedState=IC,o);if(!(t.mode&1))return J0(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(xe(419)),r=RI(o,r,void 0),J0(e,t,s,r)}if(a=(s&e.childLanes)!==0,Eo||a){if(r=ti,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ou(e,i),ca(r,e,i,-1))}return iR(),r=RI(Error(xe(421))),J0(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=uue.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Wo=mc(i.nextSibling),Ko=t,Xn=!0,ta=null,e!==null&&(vs[_s++]=jl,vs[_s++]=Fl,vs[_s++]=sd,jl=e.id,Fl=e.overflow,sd=t),t=JA(t,r.children),t.flags|=4096,t)}function Pj(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wC(e.return,t,n)}function NI(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function V7(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Yi(e,t,r.children,n),r=or.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pj(e,n,t);else if(e.tag===19)Pj(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mn(or,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&h1(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),NI(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&h1(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}NI(t,!0,n,null,o);break;case"together":NI(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function su(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ld|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,n=_c(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_c(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xle(e,t,n){switch(t.tag){case 3:j7(t),pp();break;case 5:h7(t);break;case 1:To(t.type)&&a1(t);break;case 4:HA(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Mn(c1,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Mn(or,or.current&1),t.flags|=128,null):n&t.child.childLanes?F7(e,t,n):(Mn(or,or.current&1),e=su(e,t,n),e!==null?e.sibling:null);Mn(or,or.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return V7(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mn(or,or.current),r)break;return null;case 22:case 23:return t.lanes=0,M7(e,t,n)}return su(e,t,n)}var B7,TC,z7,U7;B7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};TC=function(){};z7=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Df(Xa.current);var o=null;switch(n){case"input":i=QT(e,i),r=QT(e,r),o=[];break;case"select":i=lr({},i,{value:void 0}),r=lr({},r,{value:void 0}),o=[];break;case"textarea":i=ZT(e,i),r=ZT(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=o1)}tC(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(by.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(by.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fn("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};U7=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gm(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ii(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jle(e,t,n){var r=t.pendingProps;switch(LA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(t),null;case 1:return To(t.type)&&s1(),Ii(t),null;case 3:return r=t.stateNode,gp(),Un(Oo),Un(Vi),qA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Q0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ta!==null&&(MC(ta),ta=null))),TC(e,t),Ii(t),null;case 5:WA(t);var i=Df(Ry.current);if(n=t.type,e!==null&&t.stateNode!=null)z7(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(xe(166));return Ii(t),null}if(e=Df(Xa.current),Q0(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Da]=t,r[ky]=o,e=(t.mode&1)!==0,n){case"dialog":Fn("cancel",r),Fn("close",r);break;case"iframe":case"object":case"embed":Fn("load",r);break;case"video":case"audio":for(i=0;i<Sg.length;i++)Fn(Sg[i],r);break;case"source":Fn("error",r);break;case"img":case"image":case"link":Fn("error",r),Fn("load",r);break;case"details":Fn("toggle",r);break;case"input":NL(r,o),Fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fn("invalid",r);break;case"textarea":ML(r,o),Fn("invalid",r)}tC(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Y0(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Y0(r.textContent,a,e),i=["children",""+a]):by.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fn("scroll",r)}switch(n){case"input":B0(r),DL(r,o,!0);break;case"textarea":B0(r),LL(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=o1)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=g8(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Da]=t,e[ky]=r,B7(e,t,!1,!1),t.stateNode=e;e:{switch(s=nC(n,r),n){case"dialog":Fn("cancel",e),Fn("close",e),i=r;break;case"iframe":case"object":case"embed":Fn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sg.length;i++)Fn(Sg[i],e);i=r;break;case"source":Fn("error",e),i=r;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),i=r;break;case"details":Fn("toggle",e),i=r;break;case"input":NL(e,r),i=QT(e,r),Fn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=lr({},r,{value:void 0}),Fn("invalid",e);break;case"textarea":ML(e,r),i=ZT(e,r),Fn("invalid",e);break;default:i=r}tC(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?_8(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y8(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sy(e,l):typeof l=="number"&&Sy(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(by.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fn("scroll",e):l!=null&&SA(e,o,l,s))}switch(n){case"input":B0(e),DL(e,r,!1);break;case"textarea":B0(e),LL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kc(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Vh(e,!!r.multiple,o,!1):r.defaultValue!=null&&Vh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=o1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ii(t),null;case 6:if(e&&t.stateNode!=null)U7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xe(166));if(n=Df(Ry.current),Df(Xa.current),Q0(t)){if(r=t.stateNode,n=t.memoizedProps,r[Da]=t,(o=r.nodeValue!==n)&&(e=Ko,e!==null))switch(e.tag){case 3:Y0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Y0(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Da]=t,t.stateNode=r}return Ii(t),null;case 13:if(Un(or),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xn&&Wo!==null&&t.mode&1&&!(t.flags&128))s7(),pp(),t.flags|=98560,o=!1;else if(o=Q0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(xe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(xe(317));o[Da]=t}else pp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ii(t),o=!1}else ta!==null&&(MC(ta),ta=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||or.current&1?Ur===0&&(Ur=3):iR())),t.updateQueue!==null&&(t.flags|=4),Ii(t),null);case 4:return gp(),TC(e,t),e===null&&Cy(t.stateNode.containerInfo),Ii(t),null;case 10:return BA(t.type._context),Ii(t),null;case 17:return To(t.type)&&s1(),Ii(t),null;case 19:if(Un(or),o=t.memoizedState,o===null)return Ii(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Gm(o,!1);else{if(Ur!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=h1(e),s!==null){for(t.flags|=128,Gm(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mn(or,or.current&1|2),t.child}e=e.sibling}o.tail!==null&&xr()>vp&&(t.flags|=128,r=!0,Gm(o,!1),t.lanes=4194304)}else{if(!r)if(e=h1(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Xn)return Ii(t),null}else 2*xr()-o.renderingStartTime>vp&&n!==1073741824&&(t.flags|=128,r=!0,Gm(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xr(),t.sibling=null,n=or.current,Mn(or,r?n&1|2:n&1),t):(Ii(t),null);case 22:case 23:return rR(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vo&1073741824&&(Ii(t),t.subtreeFlags&6&&(t.flags|=8192)):Ii(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function Zle(e,t){switch(LA(t),t.tag){case 1:return To(t.type)&&s1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gp(),Un(Oo),Un(Vi),qA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return WA(t),null;case 13:if(Un(or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));pp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Un(or),null;case 4:return gp(),null;case 10:return BA(t.type._context),null;case 22:case 23:return rR(),null;case 24:return null;default:return null}}var Z0=!1,Di=!1,eue=typeof WeakSet=="function"?WeakSet:Set,je=null;function Ih(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pr(e,t,r)}else n.current=null}function CC(e,t,n){try{n()}catch(r){pr(e,t,r)}}var Ij=!1;function tue(e,t){if(dC=n1,e=G8(),DA(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hC={focusedElem:e,selectionRange:n},n1=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Js(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(b){pr(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return p=Ij,Ij=!1,p}function Gg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&CC(t,n,o)}i=i.next}while(i!==r)}}function jE(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $C(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function H7(e){var t=e.alternate;t!==null&&(e.alternate=null,H7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Da],delete t[ky],delete t[gC],delete t[Lle],delete t[jle])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W7(e){return e.tag===5||e.tag===3||e.tag===4}function Oj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=o1));else if(r!==4&&(e=e.child,e!==null))for(kC(e,t,n),e=e.sibling;e!==null;)kC(e,t,n),e=e.sibling}function AC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(AC(e,t,n),e=e.sibling;e!==null;)AC(e,t,n),e=e.sibling}var ci=null,Zs=!1;function Mu(e,t,n){for(n=n.child;n!==null;)q7(e,t,n),n=n.sibling}function q7(e,t,n){if(Qa&&typeof Qa.onCommitFiberUnmount=="function")try{Qa.onCommitFiberUnmount($E,n)}catch{}switch(n.tag){case 5:Di||Ih(n,t);case 6:var r=ci,i=Zs;ci=null,Mu(e,t,n),ci=r,Zs=i,ci!==null&&(Zs?(e=ci,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ci.removeChild(n.stateNode));break;case 18:ci!==null&&(Zs?(e=ci,n=n.stateNode,e.nodeType===8?OI(e.parentNode,n):e.nodeType===1&&OI(e,n),Iy(e)):OI(ci,n.stateNode));break;case 4:r=ci,i=Zs,ci=n.stateNode.containerInfo,Zs=!0,Mu(e,t,n),ci=r,Zs=i;break;case 0:case 11:case 14:case 15:if(!Di&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&CC(n,t,s),i=i.next}while(i!==r)}Mu(e,t,n);break;case 1:if(!Di&&(Ih(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pr(n,t,a)}Mu(e,t,n);break;case 21:Mu(e,t,n);break;case 22:n.mode&1?(Di=(r=Di)||n.memoizedState!==null,Mu(e,t,n),Di=r):Mu(e,t,n);break;default:Mu(e,t,n)}}function Tj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eue),t.forEach(function(r){var i=cue.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ci=a.stateNode,Zs=!1;break e;case 3:ci=a.stateNode.containerInfo,Zs=!0;break e;case 4:ci=a.stateNode.containerInfo,Zs=!0;break e}a=a.return}if(ci===null)throw Error(xe(160));q7(o,s,i),ci=null,Zs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)G7(t,e),t=t.sibling}function G7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gs(t,e),Ea(e),r&4){try{Gg(3,e,e.return),jE(3,e)}catch(g){pr(e,e.return,g)}try{Gg(5,e,e.return)}catch(g){pr(e,e.return,g)}}break;case 1:Gs(t,e),Ea(e),r&512&&n!==null&&Ih(n,n.return);break;case 5:if(Gs(t,e),Ea(e),r&512&&n!==null&&Ih(n,n.return),e.flags&32){var i=e.stateNode;try{Sy(i,"")}catch(g){pr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&p8(i,o),nC(a,s);var u=nC(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?_8(i,f):c==="dangerouslySetInnerHTML"?y8(i,f):c==="children"?Sy(i,f):SA(i,c,f,u)}switch(a){case"input":XT(i,o);break;case"textarea":m8(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Vh(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Vh(i,!!o.multiple,o.defaultValue,!0):Vh(i,!!o.multiple,o.multiple?[]:"",!1))}i[ky]=o}catch(g){pr(e,e.return,g)}}break;case 6:if(Gs(t,e),Ea(e),r&4){if(e.stateNode===null)throw Error(xe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){pr(e,e.return,g)}}break;case 3:if(Gs(t,e),Ea(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iy(t.containerInfo)}catch(g){pr(e,e.return,g)}break;case 4:Gs(t,e),Ea(e);break;case 13:Gs(t,e),Ea(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tR=xr())),r&4&&Tj(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Di=(u=Di)||c,Gs(t,e),Di=u):Gs(t,e),Ea(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(je=e,c=e.child;c!==null;){for(f=je=c;je!==null;){switch(d=je,h=d.child,d.tag){case 0:case 11:case 14:case 15:Gg(4,d,d.return);break;case 1:Ih(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){pr(r,n,g)}}break;case 5:Ih(d,d.return);break;case 22:if(d.memoizedState!==null){$j(f);continue}}h!==null?(h.return=d,je=h):$j(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=v8("display",s))}catch(g){pr(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){pr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gs(t,e),Ea(e),r&4&&Tj(e);break;case 21:break;default:Gs(t,e),Ea(e)}}function Ea(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(W7(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sy(i,""),r.flags&=-33);var o=Oj(e);AC(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Oj(e);kC(e,a,s);break;default:throw Error(xe(161))}}catch(l){pr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nue(e,t,n){je=e,K7(e)}function K7(e,t,n){for(var r=(e.mode&1)!==0;je!==null;){var i=je,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Z0;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Di;a=Z0;var u=Di;if(Z0=s,(Di=l)&&!u)for(je=i;je!==null;)s=je,l=s.child,s.tag===22&&s.memoizedState!==null?kj(i):l!==null?(l.return=s,je=l):kj(i);for(;o!==null;)je=o,K7(o),o=o.sibling;je=i,Z0=a,Di=u}Cj(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,je=o):Cj(e)}}function Cj(e){for(;je!==null;){var t=je;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Di||jE(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Di)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Js(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&dj(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}dj(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Iy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Di||t.flags&512&&$C(t)}catch(d){pr(t,t.return,d)}}if(t===e){je=null;break}if(n=t.sibling,n!==null){n.return=t.return,je=n;break}je=t.return}}function $j(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,je=n;break}je=t.return}}function kj(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jE(4,t)}catch(l){pr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){pr(t,i,l)}}var o=t.return;try{$C(t)}catch(l){pr(t,o,l)}break;case 5:var s=t.return;try{$C(t)}catch(l){pr(t,s,l)}}}catch(l){pr(t,t.return,l)}if(t===e){je=null;break}var a=t.sibling;if(a!==null){a.return=t.return,je=a;break}je=t.return}}var rue=Math.ceil,g1=Pu.ReactCurrentDispatcher,ZA=Pu.ReactCurrentOwner,$s=Pu.ReactCurrentBatchConfig,on=0,ti=null,Rr=null,vi=0,Vo=0,Oh=Zc(0),Ur=0,Ly=null,ld=0,FE=0,eR=0,Kg=null,vo=null,tR=0,vp=1/0,Tl=null,y1=!1,RC=null,yc=null,e_=!1,ac=null,v1=0,Yg=0,NC=null,fw=-1,dw=0;function Ji(){return on&6?xr():fw!==-1?fw:fw=xr()}function vc(e){return e.mode&1?on&2&&vi!==0?vi&-vi:Vle.transition!==null?(dw===0&&(dw=k8()),dw):(e=bn,e!==0||(e=window.event,e=e===void 0?16:j8(e.type)),e):1}function ca(e,t,n,r){if(50<Yg)throw Yg=0,NC=null,Error(xe(185));Dv(e,n,r),(!(on&2)||e!==ti)&&(e===ti&&(!(on&2)&&(FE|=n),Ur===4&&Ju(e,vi)),Co(e,r),n===1&&on===0&&!(t.mode&1)&&(vp=xr()+500,DE&&ef()))}function Co(e,t){var n=e.callbackNode;Vae(e,t);var r=t1(e,e===ti?vi:0);if(r===0)n!==null&&VL(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&VL(n),t===1)e.tag===0?Fle(Aj.bind(null,e)):r7(Aj.bind(null,e)),Dle(function(){!(on&6)&&ef()}),n=null;else{switch(A8(r)){case 1:n=OA;break;case 4:n=C8;break;case 16:n=e1;break;case 536870912:n=$8;break;default:n=e1}n=nH(n,Y7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Y7(e,t){if(fw=-1,dw=0,on&6)throw Error(xe(327));var n=e.callbackNode;if(Wh()&&e.callbackNode!==n)return null;var r=t1(e,e===ti?vi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_1(e,r);else{t=r;var i=on;on|=2;var o=X7();(ti!==e||vi!==t)&&(Tl=null,vp=xr()+500,Yf(e,t));do try{sue();break}catch(a){Q7(e,a)}while(!0);VA(),g1.current=o,on=i,Rr!==null?t=0:(ti=null,vi=0,t=Ur)}if(t!==0){if(t===2&&(i=aC(e),i!==0&&(r=i,t=DC(e,i))),t===1)throw n=Ly,Yf(e,0),Ju(e,r),Co(e,xr()),n;if(t===6)Ju(e,r);else{if(i=e.current.alternate,!(r&30)&&!iue(i)&&(t=_1(e,r),t===2&&(o=aC(e),o!==0&&(r=o,t=DC(e,o))),t===1))throw n=Ly,Yf(e,0),Ju(e,r),Co(e,xr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(xe(345));case 2:vf(e,vo,Tl);break;case 3:if(Ju(e,r),(r&130023424)===r&&(t=tR+500-xr(),10<t)){if(t1(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ji(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mC(vf.bind(null,e,vo,Tl),t);break}vf(e,vo,Tl);break;case 4:if(Ju(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ua(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=xr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rue(r/1960))-r,10<r){e.timeoutHandle=mC(vf.bind(null,e,vo,Tl),r);break}vf(e,vo,Tl);break;case 5:vf(e,vo,Tl);break;default:throw Error(xe(329))}}}return Co(e,xr()),e.callbackNode===n?Y7.bind(null,e):null}function DC(e,t){var n=Kg;return e.current.memoizedState.isDehydrated&&(Yf(e,t).flags|=256),e=_1(e,t),e!==2&&(t=vo,vo=n,t!==null&&MC(t)),e}function MC(e){vo===null?vo=e:vo.push.apply(vo,e)}function iue(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ma(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ju(e,t){for(t&=~eR,t&=~FE,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ua(t),r=1<<n;e[n]=-1,t&=~r}}function Aj(e){if(on&6)throw Error(xe(327));Wh();var t=t1(e,0);if(!(t&1))return Co(e,xr()),null;var n=_1(e,t);if(e.tag!==0&&n===2){var r=aC(e);r!==0&&(t=r,n=DC(e,r))}if(n===1)throw n=Ly,Yf(e,0),Ju(e,t),Co(e,xr()),n;if(n===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vf(e,vo,Tl),Co(e,xr()),null}function nR(e,t){var n=on;on|=1;try{return e(t)}finally{on=n,on===0&&(vp=xr()+500,DE&&ef())}}function ud(e){ac!==null&&ac.tag===0&&!(on&6)&&Wh();var t=on;on|=1;var n=$s.transition,r=bn;try{if($s.transition=null,bn=1,e)return e()}finally{bn=r,$s.transition=n,on=t,!(on&6)&&ef()}}function rR(){Vo=Oh.current,Un(Oh)}function Yf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nle(n)),Rr!==null)for(n=Rr.return;n!==null;){var r=n;switch(LA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&s1();break;case 3:gp(),Un(Oo),Un(Vi),qA();break;case 5:WA(r);break;case 4:gp();break;case 13:Un(or);break;case 19:Un(or);break;case 10:BA(r.type._context);break;case 22:case 23:rR()}n=n.return}if(ti=e,Rr=e=_c(e.current,null),vi=Vo=t,Ur=0,Ly=null,eR=FE=ld=0,vo=Kg=null,Nf!==null){for(t=0;t<Nf.length;t++)if(n=Nf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Nf=null}return e}function Q7(e,t){do{var n=Rr;try{if(VA(),lw.current=m1,p1){for(var r=ar.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}p1=!1}if(ad=0,Zr=jr=ar=null,qg=!1,Ny=0,ZA.current=null,n===null||n.return===null){Ur=1,Ly=t,Rr=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=vi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=_j(s);if(h!==null){h.flags&=-257,wj(h,s,a,o,t),h.mode&1&&vj(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){vj(o,u,t),iR();break e}l=Error(xe(426))}}else if(Xn&&a.mode&1){var y=_j(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),wj(y,s,a,o,t),jA(yp(l,a));break e}}o=l=yp(l,a),Ur!==4&&(Ur=2),Kg===null?Kg=[o]:Kg.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=R7(o,l,t);fj(o,m);break e;case 1:a=l;var v=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(yc===null||!yc.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=N7(o,a,t);fj(o,b);break e}}o=o.return}while(o!==null)}Z7(n)}catch(E){t=E,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(!0)}function X7(){var e=g1.current;return g1.current=m1,e===null?m1:e}function iR(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),ti===null||!(ld&268435455)&&!(FE&268435455)||Ju(ti,vi)}function _1(e,t){var n=on;on|=2;var r=X7();(ti!==e||vi!==t)&&(Tl=null,Yf(e,t));do try{oue();break}catch(i){Q7(e,i)}while(!0);if(VA(),on=n,g1.current=r,Rr!==null)throw Error(xe(261));return ti=null,vi=0,Ur}function oue(){for(;Rr!==null;)J7(Rr)}function sue(){for(;Rr!==null&&!kae();)J7(Rr)}function J7(e){var t=tH(e.alternate,e,Vo);e.memoizedProps=e.pendingProps,t===null?Z7(e):Rr=t,ZA.current=null}function Z7(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zle(n,t),n!==null){n.flags&=32767,Rr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ur=6,Rr=null;return}}else if(n=Jle(n,t,Vo),n!==null){Rr=n;return}if(t=t.sibling,t!==null){Rr=t;return}Rr=t=e}while(t!==null);Ur===0&&(Ur=5)}function vf(e,t,n){var r=bn,i=$s.transition;try{$s.transition=null,bn=1,aue(e,t,n,r)}finally{$s.transition=i,bn=r}return null}function aue(e,t,n,r){do Wh();while(ac!==null);if(on&6)throw Error(xe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bae(e,o),e===ti&&(Rr=ti=null,vi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||e_||(e_=!0,nH(e1,function(){return Wh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$s.transition,$s.transition=null;var s=bn;bn=1;var a=on;on|=4,ZA.current=null,tue(e,n),G7(n,e),Ole(hC),n1=!!dC,hC=dC=null,e.current=n,nue(n),Aae(),on=a,bn=s,$s.transition=o}else e.current=n;if(e_&&(e_=!1,ac=e,v1=i),o=e.pendingLanes,o===0&&(yc=null),Dae(n.stateNode),Co(e,xr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(y1)throw y1=!1,e=RC,RC=null,e;return v1&1&&e.tag!==0&&Wh(),o=e.pendingLanes,o&1?e===NC?Yg++:(Yg=0,NC=e):Yg=0,ef(),null}function Wh(){if(ac!==null){var e=A8(v1),t=$s.transition,n=bn;try{if($s.transition=null,bn=16>e?16:e,ac===null)var r=!1;else{if(e=ac,ac=null,v1=0,on&6)throw Error(xe(331));var i=on;for(on|=4,je=e.current;je!==null;){var o=je,s=o.child;if(je.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(je=u;je!==null;){var c=je;switch(c.tag){case 0:case 11:case 15:Gg(8,c,o)}var f=c.child;if(f!==null)f.return=c,je=f;else for(;je!==null;){c=je;var d=c.sibling,h=c.return;if(H7(c),c===u){je=null;break}if(d!==null){d.return=h,je=d;break}je=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}je=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,je=s;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gg(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,je=m;break e}je=o.return}}var v=e.current;for(je=v;je!==null;){s=je;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,je=_;else e:for(s=v;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jE(9,a)}}catch(E){pr(a,a.return,E)}if(a===s){je=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,je=b;break e}je=a.return}}if(on=i,ef(),Qa&&typeof Qa.onPostCommitFiberRoot=="function")try{Qa.onPostCommitFiberRoot($E,e)}catch{}r=!0}return r}finally{bn=n,$s.transition=t}}return!1}function Rj(e,t,n){t=yp(n,t),t=R7(e,t,1),e=gc(e,t,1),t=Ji(),e!==null&&(Dv(e,1,t),Co(e,t))}function pr(e,t,n){if(e.tag===3)Rj(e,e,n);else for(;t!==null;){if(t.tag===3){Rj(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yc===null||!yc.has(r))){e=yp(n,e),e=N7(t,e,1),t=gc(t,e,1),e=Ji(),t!==null&&(Dv(t,1,e),Co(t,e));break}}t=t.return}}function lue(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ji(),e.pingedLanes|=e.suspendedLanes&n,ti===e&&(vi&n)===n&&(Ur===4||Ur===3&&(vi&130023424)===vi&&500>xr()-tR?Yf(e,0):eR|=n),Co(e,t)}function eH(e,t){t===0&&(e.mode&1?(t=H0,H0<<=1,!(H0&130023424)&&(H0=4194304)):t=1);var n=Ji();e=ou(e,t),e!==null&&(Dv(e,t,n),Co(e,n))}function uue(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eH(e,n)}function cue(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(t),eH(e,n)}var tH;tH=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oo.current)Eo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Eo=!1,Xle(e,t,n);Eo=!!(e.flags&131072)}else Eo=!1,Xn&&t.flags&1048576&&i7(t,u1,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cw(e,t),e=t.pendingProps;var i=hp(t,Vi.current);Hh(t,n),i=KA(null,t,r,e,i,n);var o=YA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,To(r)?(o=!0,a1(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UA(t),i.updater=ME,t.stateNode=i,i._reactInternals=t,SC(t,r,e,n),t=PC(null,t,r,!0,o,n)):(t.tag=0,Xn&&o&&MA(t),Yi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cw(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=due(r),e=Js(r,e),i){case 0:t=xC(null,t,r,e,n);break e;case 1:t=Ej(null,t,r,e,n);break e;case 11:t=bj(null,t,r,e,n);break e;case 14:t=Sj(null,t,r,Js(r.type,e),n);break e}throw Error(xe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Js(r,i),xC(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Js(r,i),Ej(e,t,r,i,n);case 3:e:{if(j7(t),e===null)throw Error(xe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,l7(e,t),d1(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=yp(Error(xe(423)),t),t=xj(e,t,r,n,i);break e}else if(r!==i){i=yp(Error(xe(424)),t),t=xj(e,t,r,n,i);break e}else for(Wo=mc(t.stateNode.containerInfo.firstChild),Ko=t,Xn=!0,ta=null,n=d7(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pp(),r===i){t=su(e,t,n);break e}Yi(e,t,r,n)}t=t.child}return t;case 5:return h7(t),e===null&&_C(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,pC(r,i)?s=null:o!==null&&pC(r,o)&&(t.flags|=32),L7(e,t),Yi(e,t,s,n),t.child;case 6:return e===null&&_C(t),null;case 13:return F7(e,t,n);case 4:return HA(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mp(t,null,r,n):Yi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Js(r,i),bj(e,t,r,i,n);case 7:return Yi(e,t,t.pendingProps,n),t.child;case 8:return Yi(e,t,t.pendingProps.children,n),t.child;case 12:return Yi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Mn(c1,r._currentValue),r._currentValue=s,o!==null)if(ma(o.value,s)){if(o.children===i.children&&!Oo.current){t=su(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Kl(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wC(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(xe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wC(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Yi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hh(t,n),i=As(i),r=r(i),t.flags|=1,Yi(e,t,r,n),t.child;case 14:return r=t.type,i=Js(r,t.pendingProps),i=Js(r.type,i),Sj(e,t,r,i,n);case 15:return D7(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Js(r,i),cw(e,t),t.tag=1,To(r)?(e=!0,a1(t)):e=!1,Hh(t,n),c7(t,r,i),SC(t,r,i,n),PC(null,t,r,!0,e,n);case 19:return V7(e,t,n);case 22:return M7(e,t,n)}throw Error(xe(156,t.tag))};function nH(e,t){return T8(e,t)}function fue(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(e,t,n,r){return new fue(e,t,n,r)}function oR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function due(e){if(typeof e=="function")return oR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xA)return 11;if(e===PA)return 14}return 2}function _c(e,t){var n=e.alternate;return n===null?(n=Os(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hw(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")oR(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case yh:return Qf(n.children,i,o,t);case EA:s=8,i|=8;break;case qT:return e=Os(12,n,t,i|2),e.elementType=qT,e.lanes=o,e;case GT:return e=Os(13,n,t,i),e.elementType=GT,e.lanes=o,e;case KT:return e=Os(19,n,t,i),e.elementType=KT,e.lanes=o,e;case f8:return VE(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u8:s=10;break e;case c8:s=9;break e;case xA:s=11;break e;case PA:s=14;break e;case Wu:s=16,r=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=Os(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Qf(e,t,n,r){return e=Os(7,e,r,t),e.lanes=n,e}function VE(e,t,n,r){return e=Os(22,e,r,t),e.elementType=f8,e.lanes=n,e.stateNode={isHidden:!1},e}function DI(e,t,n){return e=Os(6,e,null,t),e.lanes=n,e}function MI(e,t,n){return t=Os(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hue(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gI(0),this.expirationTimes=gI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gI(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sR(e,t,n,r,i,o,s,a,l){return e=new hue(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Os(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},UA(o),e}function pue(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rH(e){if(!e)return Ac;e=e._reactInternals;e:{if(Cd(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(To(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var n=e.type;if(To(n))return n7(e,n,t)}return t}function iH(e,t,n,r,i,o,s,a,l){return e=sR(n,r,!0,e,i,o,s,a,l),e.context=rH(null),n=e.current,r=Ji(),i=vc(n),o=Kl(r,i),o.callback=t??null,gc(n,o,i),e.current.lanes=i,Dv(e,i,r),Co(e,r),e}function BE(e,t,n,r){var i=t.current,o=Ji(),s=vc(i);return n=rH(n),t.context===null?t.context=n:t.pendingContext=n,t=Kl(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gc(i,t,s),e!==null&&(ca(e,i,s,o),aw(e,i,s)),s}function w1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function aR(e,t){Nj(e,t),(e=e.alternate)&&Nj(e,t)}function mue(){return null}var oH=typeof reportError=="function"?reportError:function(e){console.error(e)};function lR(e){this._internalRoot=e}zE.prototype.render=lR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));BE(e,t,null,null)};zE.prototype.unmount=lR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ud(function(){BE(null,e,null,null)}),t[iu]=null}};function zE(e){this._internalRoot=e}zE.prototype.unstable_scheduleHydration=function(e){if(e){var t=D8();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xu.length&&t!==0&&t<Xu[n].priority;n++);Xu.splice(n,0,e),n===0&&L8(e)}};function uR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function UE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dj(){}function gue(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=w1(s);o.call(u)}}var s=iH(t,r,e,0,null,!1,!1,"",Dj);return e._reactRootContainer=s,e[iu]=s.current,Cy(e.nodeType===8?e.parentNode:e),ud(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=w1(l);a.call(u)}}var l=sR(e,0,!1,null,null,!1,!1,"",Dj);return e._reactRootContainer=l,e[iu]=l.current,Cy(e.nodeType===8?e.parentNode:e),ud(function(){BE(t,l,n,r)}),l}function HE(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=w1(s);a.call(l)}}BE(t,s,e,i)}else s=gue(n,t,e,i,r);return w1(s)}R8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bg(t.pendingLanes);n!==0&&(TA(t,n|1),Co(t,xr()),!(on&6)&&(vp=xr()+500,ef()))}break;case 13:ud(function(){var r=ou(e,1);if(r!==null){var i=Ji();ca(r,e,1,i)}}),aR(e,1)}};CA=function(e){if(e.tag===13){var t=ou(e,134217728);if(t!==null){var n=Ji();ca(t,e,134217728,n)}aR(e,134217728)}};N8=function(e){if(e.tag===13){var t=vc(e),n=ou(e,t);if(n!==null){var r=Ji();ca(n,e,t,r)}aR(e,t)}};D8=function(){return bn};M8=function(e,t){var n=bn;try{return bn=e,t()}finally{bn=n}};iC=function(e,t,n){switch(t){case"input":if(XT(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=NE(r);if(!i)throw Error(xe(90));h8(r),XT(r,i)}}}break;case"textarea":m8(e,n);break;case"select":t=n.value,t!=null&&Vh(e,!!n.multiple,t,!1)}};S8=nR;E8=ud;var yue={usingClientEntryPoint:!1,Events:[Lv,bh,NE,w8,b8,nR]},Km={findFiberByHostInstance:Rf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vue={bundleType:Km.bundleType,version:Km.version,rendererPackageName:Km.rendererPackageName,rendererConfig:Km.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I8(e),e===null?null:e.stateNode},findFiberByHostInstance:Km.findFiberByHostInstance||mue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t_.isDisabled&&t_.supportsFiber)try{$E=t_.inject(vue),Qa=t_}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yue;ss.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uR(t))throw Error(xe(200));return pue(e,t,null,n)};ss.createRoot=function(e,t){if(!uR(e))throw Error(xe(299));var n=!1,r="",i=oH;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sR(e,1,!1,null,null,n,!1,r,i),e[iu]=t.current,Cy(e.nodeType===8?e.parentNode:e),new lR(t)};ss.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=I8(t),e=e===null?null:e.stateNode,e};ss.flushSync=function(e){return ud(e)};ss.hydrate=function(e,t,n){if(!UE(t))throw Error(xe(200));return HE(null,e,t,!0,n)};ss.hydrateRoot=function(e,t,n){if(!uR(e))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=oH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=iH(t,null,e,1,n??null,i,!1,o,s),e[iu]=t.current,Cy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new zE(t)};ss.render=function(e,t,n){if(!UE(t))throw Error(xe(200));return HE(null,e,t,!1,n)};ss.unmountComponentAtNode=function(e){if(!UE(e))throw Error(xe(40));return e._reactRootContainer?(ud(function(){HE(null,null,e,!1,function(){e._reactRootContainer=null,e[iu]=null})}),!0):!1};ss.unstable_batchedUpdates=nR;ss.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!UE(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return HE(e,t,n,!1,r)};ss.version="18.2.0-next-9e3b772b8-20220608";function sH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sH)}catch(e){console.error(e)}}sH(),i8.exports=ss;var Fv=i8.exports,Mj=Fv;HT.createRoot=Mj.createRoot,HT.hydrateRoot=Mj.hydrateRoot;const aH=S.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),$d=()=>S.useContext(aH),_ue=({children:e})=>{const[t,n]=M.useState(void 0),r=M.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return T.jsx(aH.Provider,{value:r,children:e})};/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(this,arguments)}var lc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lc||(lc={}));const Lj="popstate";function wue(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return LC("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:lH(i)}return Sue(t,n,null,e)}function Nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bue(){return Math.random().toString(36).substr(2,8)}function jj(e,t){return{usr:e.state,key:e.key,idx:t}}function LC(e,t,n,r){return n===void 0&&(n=null),jy({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?im(t):t,{state:n,key:t&&t.key||r||bue()})}function lH(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function im(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Sue(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=lc.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(jy({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=lc.Pop;let y=c(),m=y==null?null:y-u;u=y,l&&l({action:a,location:g.location,delta:m})}function d(y,m){a=lc.Push;let v=LC(g.location,y,m);n&&n(v,y),u=c()+1;let _=jj(v,u),b=g.createHref(v);try{s.pushState(_,"",b)}catch{i.location.assign(b)}o&&l&&l({action:a,location:g.location,delta:1})}function h(y,m){a=lc.Replace;let v=LC(g.location,y,m);n&&n(v,y),u=c();let _=jj(v,u),b=g.createHref(v);s.replaceState(_,"",b),o&&l&&l({action:a,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:lH(y);return Nr(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let g={get action(){return a},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Lj,f),l=y,()=>{i.removeEventListener(Lj,f),l=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(y){return s.go(y)}};return g}var Fj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fj||(Fj={}));function Eue(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?im(t):t,i=fH(r.pathname||"/",n);if(i==null)return null;let o=uH(e);xue(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=Rue(o[a],Mue(i));return s}function uH(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Nr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wc([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Nr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uH(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:kue(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of cH(o.path))i(o,s,l)}),t}function cH(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=cH(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function xue(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Aue(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Pue=/^:\w+$/,Iue=3,Oue=2,Tue=1,Cue=10,$ue=-2,Vj=e=>e==="*";function kue(e,t){let n=e.split("/"),r=n.length;return n.some(Vj)&&(r+=$ue),t&&(r+=Oue),n.filter(i=>!Vj(i)).reduce((i,o)=>i+(Pue.test(o)?Iue:o===""?Tue:Cue),r)}function Aue(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Rue(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Nue({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:wc([i,c.pathname]),pathnameBase:Vue(wc([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=wc([i,c.pathnameBase]))}return o}function Nue(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Due(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=a[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=Lue(a[f]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:e}}function Due(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),cR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Mue(e){try{return decodeURI(e)}catch(t){return cR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lue(e,t){try{return decodeURIComponent(e)}catch(n){return cR(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function fH(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function jue(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?im(e):e;return{pathname:n?n.startsWith("/")?n:Fue(n,t):t,search:Bue(r),hash:zue(i)}}function Fue(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function LI(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hH(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=im(e):(i=jy({},e),Nr(!i.pathname||!i.pathname.includes("?"),LI("?","pathname","search",i)),Nr(!i.pathname||!i.pathname.includes("#"),LI("#","pathname","hash",i)),Nr(!i.search||!i.search.includes("#"),LI("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let f=t.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let l=jue(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const wc=e=>e.join("/").replace(/\/\/+/g,"/"),Vue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bue=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zue=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uue(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pH=["post","put","patch","delete"];new Set(pH);const Hue=["get",...pH];new Set(Hue);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wue(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const que=typeof Object.is=="function"?Object.is:Wue,{useState:Gue,useEffect:Kue,useLayoutEffect:Yue,useDebugValue:Que}=id;function Xue(e,t,n){const r=t(),[{inst:i},o]=Gue({inst:{value:r,getSnapshot:t}});return Yue(()=>{i.value=r,i.getSnapshot=t,jI(i)&&o({inst:i})},[e,r,t]),Kue(()=>(jI(i)&&o({inst:i}),e(()=>{jI(i)&&o({inst:i})})),[e]),Que(r),r}function jI(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!que(n,r)}catch{return!0}}function Jue(e,t,n){return t()}const Zue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ece=!Zue,tce=ece?Jue:Xue;"useSyncExternalStore"in id&&(e=>e.useSyncExternalStore)(id);const mH=S.createContext(null),fR=S.createContext(null),WE=S.createContext(null),qE=S.createContext(null),tf=S.createContext({outlet:null,matches:[]}),gH=S.createContext(null);function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jC.apply(this,arguments)}function nce(e,t){let{relative:n}=t===void 0?{}:t;om()||Nr(!1);let{basename:r,navigator:i}=S.useContext(WE),{hash:o,pathname:s,search:a}=oce(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:wc([r,s])),i.createHref({pathname:l,search:a,hash:o})}function om(){return S.useContext(qE)!=null}function sm(){return om()||Nr(!1),S.useContext(qE).location}function kd(){om()||Nr(!1);let{basename:e,navigator:t}=S.useContext(WE),{matches:n}=S.useContext(tf),{pathname:r}=sm(),i=JSON.stringify(dH(n).map(a=>a.pathnameBase)),o=S.useRef(!1);return S.useEffect(()=>{o.current=!0}),S.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){t.go(a);return}let u=hH(a,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:wc([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}const rce=S.createContext(null);function ice(e){let t=S.useContext(tf).outlet;return t&&S.createElement(rce.Provider,{value:e},t)}function dR(){let{matches:e}=S.useContext(tf),t=e[e.length-1];return t?t.params:{}}function oce(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=S.useContext(tf),{pathname:i}=sm(),o=JSON.stringify(dH(r).map(s=>s.pathnameBase));return S.useMemo(()=>hH(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function yH(e,t){om()||Nr(!1);let{navigator:n}=S.useContext(WE),r=S.useContext(fR),{matches:i}=S.useContext(tf),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=sm(),u;if(t){var c;let g=typeof t=="string"?im(t):t;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||Nr(!1),u=g}else u=l;let f=u.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=Eue(e,{pathname:d}),p=uce(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:wc([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:wc([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return t&&p?S.createElement(qE.Provider,{value:{location:jC({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lc.Pop}},p):p}function sce(){let e=hce(),t=Uue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,o)}class ace extends S.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?S.createElement(tf.Provider,{value:this.props.routeContext},S.createElement(gH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lce(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(mH);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(tf.Provider,{value:t},r)}function uce(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||Nr(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=null;n&&(s.route.ErrorBoundary?u=S.createElement(s.route.ErrorBoundary,null):s.route.errorElement?u=s.route.errorElement:u=S.createElement(sce,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=o;return l?d=u:s.route.Component?d=S.createElement(s.route.Component,null):s.route.element&&(d=s.route.element),S.createElement(lce,{match:s,routeContext:{outlet:o,matches:c},children:d})};return n&&(s.route.ErrorBoundary||s.route.errorElement||a===0)?S.createElement(ace,{location:n.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var Bj;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Bj||(Bj={}));var b1;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(b1||(b1={}));function cce(e){let t=S.useContext(fR);return t||Nr(!1),t}function fce(e){let t=S.useContext(tf);return t||Nr(!1),t}function dce(e){let t=fce(),n=t.matches[t.matches.length-1];return n.route.id||Nr(!1),n.route.id}function hce(){var e;let t=S.useContext(gH),n=cce(b1.UseRouteError),r=dce(b1.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function pce(e){let{to:t,replace:n,state:r,relative:i}=e;om()||Nr(!1);let o=S.useContext(fR),s=kd();return S.useEffect(()=>{o&&o.navigation.state!=="idle"||s(t,{replace:n,state:r,relative:i})}),null}function mce(e){return ice(e.context)}function FC(e){Nr(!1)}function gce(e){let{basename:t="/",children:n=null,location:r,navigationType:i=lc.Pop,navigator:o,static:s=!1}=e;om()&&Nr(!1);let a=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=im(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=S.useMemo(()=>{let g=fH(u,a);return g==null?null:{location:{pathname:g,search:c,hash:f,state:d,key:h},navigationType:i}},[a,u,c,f,d,h,i]);return p==null?null:S.createElement(WE.Provider,{value:l},S.createElement(qE.Provider,{children:n,value:p}))}function yce(e){let{children:t,location:n}=e,r=S.useContext(mH),i=r&&!t?r.router.routes:VC(t);return yH(i,n)}var zj;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(zj||(zj={}));new Promise(()=>{});function VC(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let o=[...t,i];if(r.type===S.Fragment){n.push.apply(n,VC(r.props.children,o));return}r.type!==FC&&Nr(!1),!r.props.index||!r.props.children||Nr(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=VC(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BC(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function vce(e,t){let n=BC(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function _ce(e){let{basename:t,children:n,window:r}=e,i=S.useRef();i.current==null&&(i.current=wue({window:r,v5Compat:!0}));let o=i.current,[s,a]=S.useState({action:o.action,location:o.location});return S.useLayoutEffect(()=>o.listen(a),[o]),S.createElement(gce,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var Uj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Uj||(Uj={}));var Hj;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hj||(Hj={}));function vH(e){let t=S.useRef(BC(e)),n=S.useRef(!1),r=sm(),i=S.useMemo(()=>vce(r.search,n.current?null:t.current),[r.search]),o=kd(),s=S.useCallback((a,l)=>{const u=BC(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}function S1(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function wce(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function bce(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Sce(e,t,n){return S1(e,n)===S1(t,n)}function Ece({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var l;n==null||n(a);const u=Array.from(((l=S1(a.currentTarget,e))==null?void 0:l.querySelectorAll(t))||[]).filter(g=>Sce(a.currentTarget,g,e)),c=u.findIndex(g=>a.currentTarget===g),f=bce(c,u,r),d=wce(c,u,r),h=o==="rtl"?d:f,p=o==="rtl"?f:d;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[p].focus(),i&&u[p].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[d].focus(),i&&u[d].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[f].focus(),i&&u[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=u.length-1;!u[g].disabled&&u[g].focus();break}}}}function xce(e,t,n){var r;return n?Array.from(((r=S1(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function _H(e){const t=S.createContext(null);return[({children:i,value:o})=>M.createElement(t.Provider,{value:o},i),()=>{const i=S.useContext(t);if(i===null)throw new Error(e);return i}]}function cd(e){return Array.isArray(e)?e:[e]}const Pce=()=>{};function Ice(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Pce:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Vl(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Oce(){const[e,t]=S.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function wH({data:e}){const t=[],n=[],r=e.reduce((i,o,s)=>(o.group?i[o.group]?i[o.group].push(s):i[o.group]=[s]:n.push(s),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(o=>e[o]))}),t.push(...n.map(i=>e[i])),t}function Vv(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==M.Fragment:!1}function bH(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=bH(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function SH(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=bH(t))&&(r&&(r+=" "),r+=n);return r}const Tce={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function Cce(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var $ce=Object.defineProperty,Wj=Object.getOwnPropertySymbols,kce=Object.prototype.hasOwnProperty,Ace=Object.prototype.propertyIsEnumerable,qj=(e,t,n)=>t in e?$ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gj=(e,t)=>{for(var n in t||(t={}))kce.call(t,n)&&qj(e,n,t[n]);if(Wj)for(var n of Wj(t))Ace.call(t,n)&&qj(e,n,t[n]);return e};function Rce(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:Gj({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:Gj({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function Bv(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function hR(e){const t=Bv(e);return(n,r,i=!0,o=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,l]=n.split("."),u=parseInt(l,10);if(a in e.colors&&u>=0&&u<10)return e.colors[a][typeof r=="number"&&!o?r:u]}const s=typeof r=="number"?r:t();return n in e.colors?e.colors[n][s]:i?e.colors[e.primaryColor][s]:n}}function EH(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function Nce(e,...t){return`linear-gradient(${e}deg, ${EH(t)})`}function Dce(...e){return`radial-gradient(circle, ${EH(e)})`}function xH(e){const t=hR(e),n=Bv(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function pR(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function Mce(e){return t=>`@media (min-width: ${pR({size:t,sizes:e.breakpoints})}px)`}function Lce(e){return t=>`@media (max-width: ${pR({size:t,sizes:e.breakpoints})-1}px)`}function jce(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Fce(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function Vce(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function mR(e){return jce(e)?Fce(e):e.startsWith("rgb")?Vce(e):{r:0,g:0,b:0,a:1}}function ah(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=mR(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Bce(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function zce(e,t){const{r:n,g:r,b:i,a:o}=mR(e),s=1-t,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function Uce(e,t){const{r:n,g:r,b:i,a:o}=mR(e),s=a=>Math.round(a+(255-a)*t);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${o})`}function Hce(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function Wce(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function qce(e){const t=hR(e),n=Bv(e),r=xH(e);return({variant:i,color:o,gradient:s,primaryFallback:a})=>{const l=Wce(o,e);switch(i){case"light":return{border:"transparent",background:ah(t(o,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:o==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(o,e.colorScheme==="dark"?2:n("light")),hover:ah(t(o,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:o==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(o,e.colorScheme==="dark"?2:n("light")),hover:ah(t(o,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(o,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(o,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?ah(t(o,5,a,!1),.05):ah(t(o,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(o,n()),hover:null};case"transparent":return{border:"transparent",color:o==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(o,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(s),color:e.white,border:"transparent",hover:null};default:{const u=n(),c=l.isSplittedColor?l.shade:u,f=l.isSplittedColor?l.key:o;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function Gce(e){return t=>{const n=Bv(e)(t);return e.colors[e.primaryColor][n]}}function Kce(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const Xr={fontStyles:Cce,themeColor:hR,focusStyles:Rce,linearGradient:Nce,radialGradient:Dce,smallerThan:Lce,largerThan:Mce,rgba:ah,size:pR,cover:Bce,darken:zce,lighten:Uce,radius:Hce,variant:qce,primaryShade:Bv,hover:Kce,gradient:xH,primaryColor:Gce};var Yce=Object.defineProperty,Qce=Object.defineProperties,Xce=Object.getOwnPropertyDescriptors,Kj=Object.getOwnPropertySymbols,Jce=Object.prototype.hasOwnProperty,Zce=Object.prototype.propertyIsEnumerable,Yj=(e,t,n)=>t in e?Yce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,efe=(e,t)=>{for(var n in t||(t={}))Jce.call(t,n)&&Yj(e,n,t[n]);if(Kj)for(var n of Kj(t))Zce.call(t,n)&&Yj(e,n,t[n]);return e},tfe=(e,t)=>Qce(e,Xce(t));function nfe(e){return tfe(efe({},e),{fn:{fontStyles:Xr.fontStyles(e),themeColor:Xr.themeColor(e),focusStyles:Xr.focusStyles(e),largerThan:Xr.largerThan(e),smallerThan:Xr.smallerThan(e),radialGradient:Xr.radialGradient,linearGradient:Xr.linearGradient,gradient:Xr.gradient(e),rgba:Xr.rgba,size:Xr.size,cover:Xr.cover,lighten:Xr.lighten,darken:Xr.darken,primaryShade:Xr.primaryShade(e),radius:Xr.radius(e),variant:Xr.variant(e),hover:Xr.hover,primaryColor:Xr.primaryColor(e)}})}const rfe=["xs","sm","md","lg","xl"],ife={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:Tce,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},PH=nfe(ife);function ofe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function sfe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var afe=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sfe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=ofe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Ai="-ms-",E1="-moz-",mn="-webkit-",IH="comm",gR="rule",yR="decl",lfe="@import",OH="@keyframes",ufe=Math.abs,GE=String.fromCharCode,cfe=Object.assign;function ffe(e,t){return pi(e,0)^45?(((t<<2^pi(e,0))<<2^pi(e,1))<<2^pi(e,2))<<2^pi(e,3):0}function TH(e){return e.trim()}function dfe(e,t){return(e=t.exec(e))?e[0]:e}function _n(e,t,n){return e.replace(t,n)}function zC(e,t){return e.indexOf(t)}function pi(e,t){return e.charCodeAt(t)|0}function Fy(e,t,n){return e.slice(t,n)}function Ra(e){return e.length}function vR(e){return e.length}function n_(e,t){return t.push(e),e}function hfe(e,t){return e.map(t).join("")}var KE=1,_p=1,CH=0,$o=0,kr=0,am="";function YE(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:KE,column:_p,length:s,return:""}}function Ym(e,t){return cfe(YE("",null,null,"",null,null,0),e,{length:-e.length},t)}function pfe(){return kr}function mfe(){return kr=$o>0?pi(am,--$o):0,_p--,kr===10&&(_p=1,KE--),kr}function Yo(){return kr=$o<CH?pi(am,$o++):0,_p++,kr===10&&(_p=1,KE++),kr}function Ja(){return pi(am,$o)}function pw(){return $o}function zv(e,t){return Fy(am,e,t)}function Vy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $H(e){return KE=_p=1,CH=Ra(am=e),$o=0,[]}function kH(e){return am="",e}function mw(e){return TH(zv($o-1,UC(e===91?e+2:e===40?e+1:e)))}function gfe(e){for(;(kr=Ja())&&kr<33;)Yo();return Vy(e)>2||Vy(kr)>3?"":" "}function yfe(e,t){for(;--t&&Yo()&&!(kr<48||kr>102||kr>57&&kr<65||kr>70&&kr<97););return zv(e,pw()+(t<6&&Ja()==32&&Yo()==32))}function UC(e){for(;Yo();)switch(kr){case e:return $o;case 34:case 39:e!==34&&e!==39&&UC(kr);break;case 40:e===41&&UC(e);break;case 92:Yo();break}return $o}function vfe(e,t){for(;Yo()&&e+kr!==57;)if(e+kr===84&&Ja()===47)break;return"/*"+zv(t,$o-1)+"*"+GE(e===47?e:Yo())}function _fe(e){for(;!Vy(Ja());)Yo();return zv(e,$o)}function wfe(e){return kH(gw("",null,null,null,[""],e=$H(e),0,[0],e))}function gw(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,d=0,h=0,p=0,g=1,y=1,m=1,v=0,_="",b=i,E=o,w=r,x=_;y;)switch(p=v,v=Yo()){case 40:if(p!=108&&pi(x,f-1)==58){zC(x+=_n(mw(v),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:x+=mw(v);break;case 9:case 10:case 13:case 32:x+=gfe(p);break;case 92:x+=yfe(pw()-1,7);continue;case 47:switch(Ja()){case 42:case 47:n_(bfe(vfe(Yo(),pw()),t,n),l);break;default:x+="/"}break;case 123*g:a[u++]=Ra(x)*m;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+c:h>0&&Ra(x)-f&&n_(h>32?Xj(x+";",r,n,f-1):Xj(_n(x," ","")+";",r,n,f-2),l);break;case 59:x+=";";default:if(n_(w=Qj(x,t,n,u,c,i,a,_,b=[],E=[],f),o),v===123)if(c===0)gw(x,t,w,w,b,o,f,a,E);else switch(d===99&&pi(x,3)===110?100:d){case 100:case 109:case 115:gw(e,w,w,r&&n_(Qj(e,w,w,0,0,i,a,_,i,b=[],f),E),i,E,f,a,r?b:E);break;default:gw(x,w,w,w,[""],E,0,a,E)}}u=c=h=0,g=m=1,_=x="",f=s;break;case 58:f=1+Ra(x),h=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&mfe()==125)continue}switch(x+=GE(v),v*g){case 38:m=c>0?1:(x+="\f",-1);break;case 44:a[u++]=(Ra(x)-1)*m,m=1;break;case 64:Ja()===45&&(x+=mw(Yo())),d=Ja(),c=f=Ra(_=x+=_fe(pw())),v++;break;case 45:p===45&&Ra(x)==2&&(g=0)}}return o}function Qj(e,t,n,r,i,o,s,a,l,u,c){for(var f=i-1,d=i===0?o:[""],h=vR(d),p=0,g=0,y=0;p<r;++p)for(var m=0,v=Fy(e,f+1,f=ufe(g=s[p])),_=e;m<h;++m)(_=TH(g>0?d[m]+" "+v:_n(v,/&\f/g,d[m])))&&(l[y++]=_);return YE(e,t,n,i===0?gR:a,l,u,c)}function bfe(e,t,n){return YE(e,t,n,IH,GE(pfe()),Fy(e,2,-2),0)}function Xj(e,t,n,r){return YE(e,t,n,yR,Fy(e,0,r),Fy(e,r+1,-1),r)}function qh(e,t){for(var n="",r=vR(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Sfe(e,t,n,r){switch(e.type){case lfe:case yR:return e.return=e.return||e.value;case IH:return"";case OH:return e.return=e.value+"{"+qh(e.children,r)+"}";case gR:e.value=e.props.join(",")}return Ra(n=qh(e.children,r))?e.return=e.value+"{"+n+"}":""}function Efe(e){var t=vR(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function xfe(e){return function(t){t.root||(t=t.return)&&e(t)}}function Pfe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Ife=function(t,n,r){for(var i=0,o=0;i=o,o=Ja(),i===38&&o===12&&(n[r]=1),!Vy(o);)Yo();return zv(t,$o)},Ofe=function(t,n){var r=-1,i=44;do switch(Vy(i)){case 0:i===38&&Ja()===12&&(n[r]=1),t[r]+=Ife($o-1,n,r);break;case 2:t[r]+=mw(i);break;case 4:if(i===44){t[++r]=Ja()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=GE(i)}while(i=Yo());return t},Tfe=function(t,n){return kH(Ofe($H(t),n))},Jj=new WeakMap,Cfe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Jj.get(r))&&!i){Jj.set(t,!0);for(var o=[],s=Tfe(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},$fe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function AH(e,t){switch(ffe(e,t)){case 5103:return mn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mn+e+E1+e+Ai+e+e;case 6828:case 4268:return mn+e+Ai+e+e;case 6165:return mn+e+Ai+"flex-"+e+e;case 5187:return mn+e+_n(e,/(\w+).+(:[^]+)/,mn+"box-$1$2"+Ai+"flex-$1$2")+e;case 5443:return mn+e+Ai+"flex-item-"+_n(e,/flex-|-self/,"")+e;case 4675:return mn+e+Ai+"flex-line-pack"+_n(e,/align-content|flex-|-self/,"")+e;case 5548:return mn+e+Ai+_n(e,"shrink","negative")+e;case 5292:return mn+e+Ai+_n(e,"basis","preferred-size")+e;case 6060:return mn+"box-"+_n(e,"-grow","")+mn+e+Ai+_n(e,"grow","positive")+e;case 4554:return mn+_n(e,/([^-])(transform)/g,"$1"+mn+"$2")+e;case 6187:return _n(_n(_n(e,/(zoom-|grab)/,mn+"$1"),/(image-set)/,mn+"$1"),e,"")+e;case 5495:case 3959:return _n(e,/(image-set\([^]*)/,mn+"$1$`$1");case 4968:return _n(_n(e,/(.+:)(flex-)?(.*)/,mn+"box-pack:$3"+Ai+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mn+e+e;case 4095:case 3583:case 4068:case 2532:return _n(e,/(.+)-inline(.+)/,mn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ra(e)-1-t>6)switch(pi(e,t+1)){case 109:if(pi(e,t+4)!==45)break;case 102:return _n(e,/(.+:)(.+)-([^]+)/,"$1"+mn+"$2-$3$1"+E1+(pi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~zC(e,"stretch")?AH(_n(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(pi(e,t+1)!==115)break;case 6444:switch(pi(e,Ra(e)-3-(~zC(e,"!important")&&10))){case 107:return _n(e,":",":"+mn)+e;case 101:return _n(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mn+(pi(e,14)===45?"inline-":"")+"box$3$1"+mn+"$2$3$1"+Ai+"$2box$3")+e}break;case 5936:switch(pi(e,t+11)){case 114:return mn+e+Ai+_n(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mn+e+Ai+_n(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mn+e+Ai+_n(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mn+e+Ai+e+e}return e}var kfe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case yR:t.return=AH(t.value,t.length);break;case OH:return qh([Ym(t,{value:_n(t.value,"@","@"+mn)})],i);case gR:if(t.length)return hfe(t.props,function(o){switch(dfe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qh([Ym(t,{props:[_n(o,/:(read-\w+)/,":"+E1+"$1")]})],i);case"::placeholder":return qh([Ym(t,{props:[_n(o,/:(plac\w+)/,":"+mn+"input-$1")]}),Ym(t,{props:[_n(o,/:(plac\w+)/,":"+E1+"$1")]}),Ym(t,{props:[_n(o,/:(plac\w+)/,Ai+"input-$1")]})],i)}return""})}},Afe=[kfe],Rfe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||Afe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)o[y[m]]=!0;a.push(g)});var l,u=[Cfe,$fe];{var c,f=[Sfe,xfe(function(g){c.insert(g)})],d=Efe(u.concat(i,f)),h=function(y){return qh(wfe(y),d)};l=function(y,m,v,_){c=v,h(y?y+"{"+m.styles+"}":m.styles),_&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new afe({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};const RH=Rfe;function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}var NH={exports:{}},En={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri=typeof Symbol=="function"&&Symbol.for,_R=ri?Symbol.for("react.element"):60103,wR=ri?Symbol.for("react.portal"):60106,QE=ri?Symbol.for("react.fragment"):60107,XE=ri?Symbol.for("react.strict_mode"):60108,JE=ri?Symbol.for("react.profiler"):60114,ZE=ri?Symbol.for("react.provider"):60109,ex=ri?Symbol.for("react.context"):60110,bR=ri?Symbol.for("react.async_mode"):60111,tx=ri?Symbol.for("react.concurrent_mode"):60111,nx=ri?Symbol.for("react.forward_ref"):60112,rx=ri?Symbol.for("react.suspense"):60113,Nfe=ri?Symbol.for("react.suspense_list"):60120,ix=ri?Symbol.for("react.memo"):60115,ox=ri?Symbol.for("react.lazy"):60116,Dfe=ri?Symbol.for("react.block"):60121,Mfe=ri?Symbol.for("react.fundamental"):60117,Lfe=ri?Symbol.for("react.responder"):60118,jfe=ri?Symbol.for("react.scope"):60119;function ls(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _R:switch(e=e.type,e){case bR:case tx:case QE:case JE:case XE:case rx:return e;default:switch(e=e&&e.$$typeof,e){case ex:case nx:case ox:case ix:case ZE:return e;default:return t}}case wR:return t}}}function DH(e){return ls(e)===tx}En.AsyncMode=bR;En.ConcurrentMode=tx;En.ContextConsumer=ex;En.ContextProvider=ZE;En.Element=_R;En.ForwardRef=nx;En.Fragment=QE;En.Lazy=ox;En.Memo=ix;En.Portal=wR;En.Profiler=JE;En.StrictMode=XE;En.Suspense=rx;En.isAsyncMode=function(e){return DH(e)||ls(e)===bR};En.isConcurrentMode=DH;En.isContextConsumer=function(e){return ls(e)===ex};En.isContextProvider=function(e){return ls(e)===ZE};En.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_R};En.isForwardRef=function(e){return ls(e)===nx};En.isFragment=function(e){return ls(e)===QE};En.isLazy=function(e){return ls(e)===ox};En.isMemo=function(e){return ls(e)===ix};En.isPortal=function(e){return ls(e)===wR};En.isProfiler=function(e){return ls(e)===JE};En.isStrictMode=function(e){return ls(e)===XE};En.isSuspense=function(e){return ls(e)===rx};En.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===QE||e===tx||e===JE||e===XE||e===rx||e===Nfe||typeof e=="object"&&e!==null&&(e.$$typeof===ox||e.$$typeof===ix||e.$$typeof===ZE||e.$$typeof===ex||e.$$typeof===nx||e.$$typeof===Mfe||e.$$typeof===Lfe||e.$$typeof===jfe||e.$$typeof===Dfe)};En.typeOf=ls;NH.exports=En;var Ffe=NH.exports,MH=Ffe,Vfe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bfe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LH={};LH[MH.ForwardRef]=Vfe;LH[MH.Memo]=Bfe;var zfe=!0;function Ufe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Hfe=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||zfe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},jH=function(t,n,r){Hfe(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Wfe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var qfe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gfe=/[A-Z]|^ms/g,Kfe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,FH=function(t){return t.charCodeAt(1)===45},Zj=function(t){return t!=null&&typeof t!="boolean"},FI=Pfe(function(e){return FH(e)?e:e.replace(Gfe,"-$&").toLowerCase()}),eF=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Kfe,function(r,i,o){return Na={name:i,styles:o,next:Na},i})}return qfe[t]!==1&&!FH(t)&&typeof n=="number"&&n!==0?n+"px":n};function By(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Na={name:n.name,styles:n.styles,next:Na},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Na={name:r.name,styles:r.styles,next:Na},r=r.next;var i=n.styles+";";return i}return Yfe(e,t,n)}case"function":{if(e!==void 0){var o=Na,s=n(e);return Na=o,By(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Yfe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=By(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":Zj(s)&&(r+=FI(o)+":"+eF(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)Zj(s[a])&&(r+=FI(o)+":"+eF(o,s[a])+";");else{var l=By(e,t,s);switch(o){case"animation":case"animationName":{r+=FI(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var tF=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Na,SR=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Na=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=By(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=By(r,n,t[a]),i&&(o+=s[a]);tF.lastIndex=0;for(var l="",u;(u=tF.exec(o))!==null;)l+="-"+u[1];var c=Wfe(o)+l;return{name:c,styles:o,next:Na}},Qfe=id.useInsertionEffect?id.useInsertionEffect:!1,nF=Qfe||S.useLayoutEffect,VH=S.createContext(typeof HTMLElement<"u"?RH({key:"css"}):null);VH.Provider;var Xfe=function(t){return S.forwardRef(function(n,r){var i=S.useContext(VH);return t(n,i,r)})},Jfe=S.createContext({}),Zfe=Xfe(function(e,t){var n=e.styles,r=SR([n],void 0,S.useContext(Jfe)),i=S.useRef();return nF(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),nF(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&jH(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function BH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SR(t)}var ede=function(){var t=BH.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function zH(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var tde=Object.defineProperty,rF=Object.getOwnPropertySymbols,nde=Object.prototype.hasOwnProperty,rde=Object.prototype.propertyIsEnumerable,iF=(e,t,n)=>t in e?tde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VI=(e,t)=>{for(var n in t||(t={}))nde.call(t,n)&&iF(e,n,t[n]);if(rF)for(var n of rF(t))rde.call(t,n)&&iF(e,n,t[n]);return e};const UH=S.createContext({theme:PH});function Wi(){var e;return((e=S.useContext(UH))==null?void 0:e.theme)||PH}function ide(e){const t=Wi(),n=r=>{var i,o;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((o=t.components[r])==null?void 0:o.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function HH(){var e;return(e=S.useContext(UH))==null?void 0:e.emotionCache}function st(e,t,n){var r;const o=(r=Wi().components[e])==null?void 0:r.defaultProps;return VI(VI(VI({},t),o),zH(n))}const WH=S.createContext({classNames:{},styles:{},unstyled:!1});function qH({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return M.createElement(WH.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i}},e)}function Uv(){return S.useContext(WH)}const ode={app:100,modal:200,popover:300,overlay:400,max:9999};function us(e){return ode[e]}function sde(e,t){const n=S.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const ade=RH({key:"mantine",prepend:!0});function lde(){return HH()||ade}var ude=Object.defineProperty,oF=Object.getOwnPropertySymbols,cde=Object.prototype.hasOwnProperty,fde=Object.prototype.propertyIsEnumerable,sF=(e,t,n)=>t in e?ude(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dde=(e,t)=>{for(var n in t||(t={}))cde.call(t,n)&&sF(e,n,t[n]);if(oF)for(var n of oF(t))fde.call(t,n)&&sF(e,n,t[n]);return e};const BI="ref";function hde(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(BI in n))return{args:e,ref:t};t=n[BI];const r=dde({},n);return delete r[BI],{args:[r],ref:t}}const{cssFactory:pde}=(()=>{function e(n,r,i){const o=[],s=Ufe(n,o,i);return o.length<2?i:s+r(o)}function t(n){const{cache:r}=n,i=(...s)=>{const{ref:a,args:l}=hde(s),u=SR(l,r.registered);return jH(r,u,!1),`${r.key}-${u.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...s)=>e(r.registered,i,SH(s))}}return{cssFactory:t}})();function GH(){const e=lde();return sde(()=>pde({cache:e}),[e])}function mde({cx:e,classes:t,context:n,classNames:r,name:i,cache:o}){const s=n.reduce((a,l)=>(Object.keys(l.classNames).forEach(u=>{typeof a[u]!="string"?a[u]=`${l.classNames[u]}`:a[u]=`${a[u]} ${l.classNames[u]}`}),a),{});return Object.keys(t).reduce((a,l)=>(a[l]=e(t[l],s[l],r!=null&&r[l],Array.isArray(i)?i.filter(Boolean).map(u=>`${(o==null?void 0:o.key)||"mantine"}-${u}-${l}`).join(" "):i?`${(o==null?void 0:o.key)||"mantine"}-${i}-${l}`:null),a),{})}var gde=Object.defineProperty,aF=Object.getOwnPropertySymbols,yde=Object.prototype.hasOwnProperty,vde=Object.prototype.propertyIsEnumerable,lF=(e,t,n)=>t in e?gde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zI=(e,t)=>{for(var n in t||(t={}))yde.call(t,n)&&lF(e,n,t[n]);if(aF)for(var n of aF(t))vde.call(t,n)&&lF(e,n,t[n]);return e};function _de(e){return`__mantine-ref-${e||""}`}function uF(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,o)=>(Object.keys(o).forEach(s=>{i[s]?i[s]=zI(zI({},i[s]),o[s]):i[s]=zI({},o[s])}),i),{}):r(e)}function et(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const o=Wi(),s=ide(i==null?void 0:i.name),a=HH(),{css:l,cx:u}=GH(),c=t(o,r,_de),f=uF(i==null?void 0:i.styles,o,r),d=uF(s,o,r),h=Object.fromEntries(Object.keys(c).map(p=>{const g=u({[l(c[p])]:!(i!=null&&i.unstyled)},l(d[p]),l(f[p]));return[p,g]}));return{classes:mde({cx:u,classes:h,context:s,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:u,theme:o}}return n}function KH({styles:e}){const t=Wi();return M.createElement(Zfe,{styles:BH(typeof e=="function"?e(t):e)})}var wde=Object.defineProperty,bde=Object.defineProperties,Sde=Object.getOwnPropertyDescriptors,cF=Object.getOwnPropertySymbols,Ede=Object.prototype.hasOwnProperty,xde=Object.prototype.propertyIsEnumerable,fF=(e,t,n)=>t in e?wde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qm=(e,t)=>{for(var n in t||(t={}))Ede.call(t,n)&&fF(e,n,t[n]);if(cF)for(var n of cF(t))xde.call(t,n)&&fF(e,n,t[n]);return e},Xm=(e,t)=>bde(e,Sde(t));const Jm={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},r_={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:Xm(Qm({},Jm),{common:{transformOrigin:"center center"}}),"pop-bottom-left":Xm(Qm({},Jm),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":Xm(Qm({},Jm),{common:{transformOrigin:"bottom right"}}),"pop-top-left":Xm(Qm({},Jm),{common:{transformOrigin:"top left"}}),"pop-top-right":Xm(Qm({},Jm),{common:{transformOrigin:"top right"}})},dF=["mousedown","touchstart"];function Pde(e,t,n){const r=S.useRef();return S.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s);n.every(u=>!!u&&!u.contains(s))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||dF).forEach(o=>document.addEventListener(o,i)),()=>{(t||dF).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function Ide(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Ode(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Tde(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=S.useState(n?!1:Ode(e,t)),o=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),Ide(o.current,s=>i(s.matches))},[e]),r}function bc(e,t,n){return Math.min(Math.max(e,t),n)}const ER=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Qo(e,t){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function YH({opened:e,shouldReturnFocus:t=!0}){const n=S.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Qo(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}const Cde=/input|select|textarea|button|object/,QH="a, input, select, textarea, button, object, [tabindex]";function $de(e){return e.style.display==="none"}function kde(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if($de(n))return!1;n=n.parentNode}return!0}function XH(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function HC(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(XH(e));return(Cde.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&kde(e)}function JH(e){const t=XH(e);return(Number.isNaN(t)||t>=0)&&HC(e)}function Ade(e){return Array.from(e.querySelectorAll(QH)).filter(JH)}function Rde(e,t){const n=Ade(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function Nde(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function ZH(e=!0){const t=S.useRef(),n=S.useRef(null),r=S.useCallback(i=>{if(e&&i!==null&&(n.current=Nde(i),t.current!==i))if(i){const o=()=>{let s=i.querySelector("[data-autofocus]");if(!s){const a=Array.from(i.querySelectorAll(QH));s=a.find(JH)||a.find(HC)||null,!s&&HC(i)&&(s=i)}s&&s.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&o()}),t.current=i}else t.current=null},[e]);return S.useEffect(()=>{if(!e)return;const i=o=>{o.key==="Tab"&&t.current&&Rde(t.current,o)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const Dde=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,Mde=M.useId||(()=>{});function Lde(){const[e,t]=S.useState("");return ER(()=>{t(Dde())},[]),e}function jde(){const e=Mde();return e?`mantine-${e.replace(/:/g,"")}`:""}function Iu(e){return typeof e=="string"?e:jde()||Lde()}function WC(e,t,n){S.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function eW(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Fde(...e){return t=>{e.forEach(n=>eW(n,t))}}function Ms(...e){return S.useCallback(Fde(...e),e)}function tW(e,t,n="ltr"){const r=S.useRef(),i=S.useRef(!1),o=S.useRef(!1),s=S.useRef(0),[a,l]=S.useState(!1);return S.useEffect(()=>{i.current=!0},[]),S.useEffect(()=>{const u=({x:v,y:_})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const b=r.current.getBoundingClientRect();if(b.width&&b.height){const E=bc((v-b.left)/b.width,0,1);e({x:n==="ltr"?E:1-E,y:bc((_-b.top)/b.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)},d=()=>{!o.current&&i.current&&(o.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),c())},h=()=>{o.current&&i.current&&(o.current=!1,l(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=v=>{d(),g(v)},g=v=>u({x:v.clientX,y:v.clientY}),y=v=>{v.cancelable&&v.preventDefault(),d(),m(v)},m=v=>{v.cancelable&&v.preventDefault(),u({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function ga({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=S.useState(t!==void 0?t:n),s=a=>{o(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,s,!1]}function xR(e,t){return Tde("(prefers-reduced-motion: reduce)",e,t)}const Vde=e=>e<.5?2*e*e:-1+(4-2*e)*e,Bde=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:o})=>{if(!t||!n&&typeof document>"u")return 0;const s=!!n,l=(n||document.body).getBoundingClientRect(),u=t.getBoundingClientRect(),c=f=>u[f]-l[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=u.height*(o?0:1)||!o?h:0}const d=s?l.height:window.innerHeight;if(r==="end"){const h=f+i-d+u.height;return h>=-u.height*(o?0:1)||!o?h:0}return r==="center"?f-d/2+u.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=u.width||!o?h:0}const d=s?l.width:window.innerWidth;if(r==="end"){const h=f+i-d+u.width;return h>=-u.width||!o?h:0}return r==="center"?f-d/2+u.width/2:0}return 0},zde=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},Ude=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:o}=document;i[r]=n,o[r]=n}};function nW({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=Vde,offset:i=0,cancelable:o=!0,isList:s=!1}={}){const a=S.useRef(0),l=S.useRef(0),u=S.useRef(!1),c=S.useRef(null),f=S.useRef(null),d=xR(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=S.useCallback(({alignment:y="start"}={})=>{var m;u.current=!1,a.current&&h();const v=(m=zde({parent:c.current,axis:t}))!=null?m:0,_=Bde({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:s})-(c.current?0:v);function b(){l.current===0&&(l.current=performance.now());const w=performance.now()-l.current,x=d||e===0?1:w/e,I=v+_*r(x);Ude({parent:c.current,axis:t,distance:I}),!u.current&&x<1?a.current=requestAnimationFrame(b):(typeof n=="function"&&n(),l.current=0,a.current=0,h())}b()},[t,e,r,s,i,n,d]),g=()=>{o&&(u.current=!0)};return WC("wheel",g,{passive:!0}),WC("touchmove",g,{passive:!0}),S.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const Hde={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Qg(){const e=S.useRef(0),t=S.useRef(null),[n,r]=S.useState(Hde),i=S.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const s=o[0];s&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(s.contentRect)}))}):null,[]);return S.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function Wde(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const qde=({disableBodyPadding:e})=>{const t=e?null:Wde();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function Gde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kde(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function Yde(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function Qde(e,t={disableBodyPadding:!1}){const[n,r]=S.useState(e||!1),i=S.useRef(0),{disableBodyPadding:o}=t,s=S.useRef(null),a=()=>{i.current=window.scrollY;const u=qde({disableBodyPadding:o}),c=Yde();Gde(c,u),Kde(c),s.current=c},l=()=>{s!=null&&s.current&&(s.current.parentNode.removeChild(s.current),s.current=null)};return S.useEffect(()=>(n?a():l(),l),[n]),S.useEffect(()=>{e!==void 0&&r(e)},[e]),S.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var Xde=Object.defineProperty,Jde=Object.defineProperties,Zde=Object.getOwnPropertyDescriptors,hF=Object.getOwnPropertySymbols,ehe=Object.prototype.hasOwnProperty,the=Object.prototype.propertyIsEnumerable,pF=(e,t,n)=>t in e?Xde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nhe=(e,t)=>{for(var n in t||(t={}))ehe.call(t,n)&&pF(e,n,t[n]);if(hF)for(var n of hF(t))the.call(t,n)&&pF(e,n,t[n]);return e},rhe=(e,t)=>Jde(e,Zde(t));function ihe(e){const t=e.toLowerCase().split("+").map(o=>o.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(o=>!r.includes(o));return rhe(nhe({},n),{key:i})}function ohe(e,t){const{alt:n,ctrl:r,meta:i,mod:o,shift:s,key:a}=e,{altKey:l,ctrlKey:u,metaKey:c,shiftKey:f,key:d}=t;if(n!==l)return!1;if(o){if(!u&&!c)return!1}else if(r!==u||i!==c)return!1;return s!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function she(e){return t=>ohe(ihe(e),t)}function ahe(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i])=>{she(r)(n)&&(t.preventDefault(),i(n))})}}function lhe(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function uhe(){return typeof window<"u"?lhe():"undetermined"}function che(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function fhe(e){const[t,n]=S.useState(e);return[t,che(n)]}function dhe(e,t){const[n,r]=S.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},o=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:o,toggle:()=>{n?o():i()}}]}function hhe(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var mF=Object.getOwnPropertySymbols,phe=Object.prototype.hasOwnProperty,mhe=Object.prototype.propertyIsEnumerable,ghe=(e,t)=>{var n={};for(var r in e)phe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mF)for(var r of mF(e))t.indexOf(r)<0&&mhe.call(e,r)&&(n[r]=e[r]);return n};function Ad(e){const t=e,{m:n,mx:r,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:v,ff:_,fz:b,fw:E,lts:w,ta:x,lh:I,fs:D,tt:R,td:N,w:z,miw:U,maw:B,h:ae,mih:re,mah:ue,bgsz:Q,bgp:ee,bgr:W,bga:P,pos:O,top:F,left:$,bottom:C,right:H,inset:te,display:ie}=t,le=ghe(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:zH({m:n,mx:r,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:v,ff:_,fz:b,fw:E,lts:w,ta:x,lh:I,fs:D,tt:R,td:N,w:z,miw:U,maw:B,h:ae,mih:re,mah:ue,bgsz:Q,bgp:ee,bgr:W,bga:P,pos:O,top:F,left:$,bottom:C,right:H,inset:te,display:ie}),rest:le}}function yhe(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function vhe({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return yhe(e,t).reduce((s,a)=>{if(a==="base"&&e.base!==void 0){const u=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{s[c]=u}),s):(s[r]=u,s)}const l=n(e[a],t);return Array.isArray(r)?(s[t.fn.largerThan(a)]={},r.forEach(u=>{s[t.fn.largerThan(a)][u]=l}),s):(s[t.fn.largerThan(a)]={[r]:l},s)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((o,s)=>(o[s]=i,o),{}):{[r]:i}}function _he(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function whe(e){return e}function bhe(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const She=["-xs","-sm","-md","-lg","-xl"];function Ehe(e,t){return She.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const xhe={color:_he,default:whe,fontSize:bhe,spacing:Ehe},Phe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var Ihe=Object.defineProperty,gF=Object.getOwnPropertySymbols,Ohe=Object.prototype.hasOwnProperty,The=Object.prototype.propertyIsEnumerable,yF=(e,t,n)=>t in e?Ihe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vF=(e,t)=>{for(var n in t||(t={}))Ohe.call(t,n)&&yF(e,n,t[n]);if(gF)for(var n of gF(t))The.call(t,n)&&yF(e,n,t[n]);return e};function qC(e,t,n=Phe){return Object.keys(n).reduce((i,o)=>(o in e&&e[o]!==void 0&&i.push(vhe({value:e[o],getValue:xhe[n[o].type],property:n[o].property,theme:t})),i),[]).reduce((i,o)=>(Object.keys(o).forEach(s=>{typeof o[s]=="object"&&o[s]!==null&&s in i?i[s]=vF(vF({},i[s]),o[s]):i[s]=o[s]}),i),{})}function _F(e,t){return typeof e=="function"?e(t):e}function Che(e,t,n){const r=Wi(),{css:i,cx:o}=GH();return Array.isArray(e)?o(n,i(qC(t,r)),e.map(s=>i(_F(s,r)))):o(n,i(_F(e,r)),i(qC(t,r)))}var $he=Object.defineProperty,x1=Object.getOwnPropertySymbols,rW=Object.prototype.hasOwnProperty,iW=Object.prototype.propertyIsEnumerable,wF=(e,t,n)=>t in e?$he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,khe=(e,t)=>{for(var n in t||(t={}))rW.call(t,n)&&wF(e,n,t[n]);if(x1)for(var n of x1(t))iW.call(t,n)&&wF(e,n,t[n]);return e},Ahe=(e,t)=>{var n={};for(var r in e)rW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&x1)for(var r of x1(e))t.indexOf(r)<0&&iW.call(e,r)&&(n[r]=e[r]);return n};const oW=S.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:o,sx:s}=n,a=Ahe(n,["className","component","style","sx"]);const{systemStyles:l,rest:u}=Ad(a),c=i||"div";return M.createElement(c,khe({ref:t,className:Che(s,l,r),style:o},u))});oW.displayName="@mantine/core/Box";const rt=oW;var Rhe=Object.defineProperty,Nhe=Object.defineProperties,Dhe=Object.getOwnPropertyDescriptors,bF=Object.getOwnPropertySymbols,Mhe=Object.prototype.hasOwnProperty,Lhe=Object.prototype.propertyIsEnumerable,SF=(e,t,n)=>t in e?Rhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EF=(e,t)=>{for(var n in t||(t={}))Mhe.call(t,n)&&SF(e,n,t[n]);if(bF)for(var n of bF(t))Lhe.call(t,n)&&SF(e,n,t[n]);return e},jhe=(e,t)=>Nhe(e,Dhe(t)),Fhe=et(e=>({root:jhe(EF(EF({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const Vhe=Fhe;var Bhe=Object.defineProperty,P1=Object.getOwnPropertySymbols,sW=Object.prototype.hasOwnProperty,aW=Object.prototype.propertyIsEnumerable,xF=(e,t,n)=>t in e?Bhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zhe=(e,t)=>{for(var n in t||(t={}))sW.call(t,n)&&xF(e,n,t[n]);if(P1)for(var n of P1(t))aW.call(t,n)&&xF(e,n,t[n]);return e},Uhe=(e,t)=>{var n={};for(var r in e)sW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&P1)for(var r of P1(e))t.indexOf(r)<0&&aW.call(e,r)&&(n[r]=e[r]);return n};const lW=S.forwardRef((e,t)=>{const n=st("UnstyledButton",{},e),{className:r,component:i="button",unstyled:o}=n,s=Uhe(n,["className","component","unstyled"]),{classes:a,cx:l}=Vhe(null,{name:"UnstyledButton",unstyled:o});return M.createElement(rt,zhe({component:i,ref:t,className:l(a.root,r),type:i==="button"?"button":void 0},s))});lW.displayName="@mantine/core/UnstyledButton";const PR=lW;var Hhe=Object.defineProperty,Whe=Object.defineProperties,qhe=Object.getOwnPropertyDescriptors,PF=Object.getOwnPropertySymbols,Ghe=Object.prototype.hasOwnProperty,Khe=Object.prototype.propertyIsEnumerable,IF=(e,t,n)=>t in e?Hhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uW=(e,t)=>{for(var n in t||(t={}))Ghe.call(t,n)&&IF(e,n,t[n]);if(PF)for(var n of PF(t))Khe.call(t,n)&&IF(e,n,t[n]);return e},Yhe=(e,t)=>Whe(e,qhe(t));const Eg={xs:18,sm:22,md:28,lg:34,xl:44};function Qhe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:uW({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var Xhe=et((e,{color:t,size:n,radius:r,variant:i,gradient:o})=>({root:Yhe(uW({},Qhe({variant:i,theme:e,color:t,gradient:o})),{position:"relative",height:e.fn.size({size:n,sizes:Eg}),minHeight:e.fn.size({size:n,sizes:Eg}),width:e.fn.size({size:n,sizes:Eg}),minWidth:e.fn.size({size:n,sizes:Eg}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const Jhe=Xhe;var Zhe=Object.defineProperty,I1=Object.getOwnPropertySymbols,cW=Object.prototype.hasOwnProperty,fW=Object.prototype.propertyIsEnumerable,OF=(e,t,n)=>t in e?Zhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,epe=(e,t)=>{for(var n in t||(t={}))cW.call(t,n)&&OF(e,n,t[n]);if(I1)for(var n of I1(t))fW.call(t,n)&&OF(e,n,t[n]);return e},tpe=(e,t)=>{var n={};for(var r in e)cW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&I1)for(var r of I1(e))t.indexOf(r)<0&&fW.call(e,r)&&(n[r]=e[r]);return n};function npe(e){var t=e,{size:n,color:r}=t,i=tpe(t,["size","color"]);return M.createElement("svg",epe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),M.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var rpe=Object.defineProperty,O1=Object.getOwnPropertySymbols,dW=Object.prototype.hasOwnProperty,hW=Object.prototype.propertyIsEnumerable,TF=(e,t,n)=>t in e?rpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ipe=(e,t)=>{for(var n in t||(t={}))dW.call(t,n)&&TF(e,n,t[n]);if(O1)for(var n of O1(t))hW.call(t,n)&&TF(e,n,t[n]);return e},ope=(e,t)=>{var n={};for(var r in e)dW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&O1)for(var r of O1(e))t.indexOf(r)<0&&hW.call(e,r)&&(n[r]=e[r]);return n};function spe(e){var t=e,{size:n,color:r}=t,i=ope(t,["size","color"]);return M.createElement("svg",ipe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),M.createElement("g",{fill:"none",fillRule:"evenodd"},M.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},M.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),M.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},M.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var ape=Object.defineProperty,T1=Object.getOwnPropertySymbols,pW=Object.prototype.hasOwnProperty,mW=Object.prototype.propertyIsEnumerable,CF=(e,t,n)=>t in e?ape(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lpe=(e,t)=>{for(var n in t||(t={}))pW.call(t,n)&&CF(e,n,t[n]);if(T1)for(var n of T1(t))mW.call(t,n)&&CF(e,n,t[n]);return e},upe=(e,t)=>{var n={};for(var r in e)pW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&T1)for(var r of T1(e))t.indexOf(r)<0&&mW.call(e,r)&&(n[r]=e[r]);return n};function cpe(e){var t=e,{size:n,color:r}=t,i=upe(t,["size","color"]);return M.createElement("svg",lpe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),M.createElement("circle",{cx:"15",cy:"15",r:"15"},M.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},M.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("circle",{cx:"105",cy:"15",r:"15"},M.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var fpe=Object.defineProperty,C1=Object.getOwnPropertySymbols,gW=Object.prototype.hasOwnProperty,yW=Object.prototype.propertyIsEnumerable,$F=(e,t,n)=>t in e?fpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dpe=(e,t)=>{for(var n in t||(t={}))gW.call(t,n)&&$F(e,n,t[n]);if(C1)for(var n of C1(t))yW.call(t,n)&&$F(e,n,t[n]);return e},hpe=(e,t)=>{var n={};for(var r in e)gW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&C1)for(var r of C1(e))t.indexOf(r)<0&&yW.call(e,r)&&(n[r]=e[r]);return n};const UI={bars:npe,oval:spe,dots:cpe},ppe={xs:18,sm:22,md:36,lg:44,xl:58},mpe={size:"md"};function Rd(e){const t=st("Loader",mpe,e),{size:n,color:r,variant:i}=t,o=hpe(t,["size","color","variant"]),s=Wi(),a=i in UI?i:s.loader;return M.createElement(rt,dpe({role:"presentation",component:UI[a]||UI.bars,size:s.fn.size({size:n,sizes:ppe}),color:s.fn.variant({variant:"filled",primaryFallback:!1,color:r||s.primaryColor}).background},o))}Rd.displayName="@mantine/core/Loader";var gpe=Object.defineProperty,$1=Object.getOwnPropertySymbols,vW=Object.prototype.hasOwnProperty,_W=Object.prototype.propertyIsEnumerable,kF=(e,t,n)=>t in e?gpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AF=(e,t)=>{for(var n in t||(t={}))vW.call(t,n)&&kF(e,n,t[n]);if($1)for(var n of $1(t))_W.call(t,n)&&kF(e,n,t[n]);return e},ype=(e,t)=>{var n={};for(var r in e)vW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$1)for(var r of $1(e))t.indexOf(r)<0&&_W.call(e,r)&&(n[r]=e[r]);return n};const vpe={color:"gray",size:"md",variant:"subtle",loading:!1},wW=S.forwardRef((e,t)=>{const n=st("ActionIcon",vpe,e),{className:r,color:i,children:o,radius:s,size:a,variant:l,gradient:u,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=ype(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:y,theme:m}=Jhe({size:a,radius:s,color:i,variant:l,gradient:u},{name:"ActionIcon",unstyled:h}),v=m.fn.variant({color:i,variant:l}),_=M.createElement(Rd,AF({color:v.color,size:m.fn.size({size:a,sizes:Eg})-12},f));return M.createElement(PR,AF({className:y(g.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?_:o)});wW.displayName="@mantine/core/ActionIcon";const IR=wW;function bW(e){const{children:t,target:n,className:r}=st("Portal",{},e),i=Wi(),[o,s]=S.useState(!1),a=S.useRef();return ER(()=>(s(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),o?Fv.createPortal(M.createElement("div",{className:r,dir:i.dir},t),a.current):null}bW.displayName="@mantine/core/Portal";var _pe=Object.defineProperty,k1=Object.getOwnPropertySymbols,SW=Object.prototype.hasOwnProperty,EW=Object.prototype.propertyIsEnumerable,RF=(e,t,n)=>t in e?_pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wpe=(e,t)=>{for(var n in t||(t={}))SW.call(t,n)&&RF(e,n,t[n]);if(k1)for(var n of k1(t))EW.call(t,n)&&RF(e,n,t[n]);return e},bpe=(e,t)=>{var n={};for(var r in e)SW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&k1)for(var r of k1(e))t.indexOf(r)<0&&EW.call(e,r)&&(n[r]=e[r]);return n};function Hv(e){var t=e,{withinPortal:n=!0,children:r}=t,i=bpe(t,["withinPortal","children"]);return n?M.createElement(bW,wpe({},i),r):M.createElement(M.Fragment,null,r)}Hv.displayName="@mantine/core/OptionalPortal";var Spe=Object.defineProperty,NF=Object.getOwnPropertySymbols,Epe=Object.prototype.hasOwnProperty,xpe=Object.prototype.propertyIsEnumerable,DF=(e,t,n)=>t in e?Spe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ppe=(e,t)=>{for(var n in t||(t={}))Epe.call(t,n)&&DF(e,n,t[n]);if(NF)for(var n of NF(t))xpe.call(t,n)&&DF(e,n,t[n]);return e};function xW(e){return M.createElement("svg",Ppe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}xW.displayName="@mantine/core/CloseIcon";var Ipe=Object.defineProperty,A1=Object.getOwnPropertySymbols,PW=Object.prototype.hasOwnProperty,IW=Object.prototype.propertyIsEnumerable,MF=(e,t,n)=>t in e?Ipe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ope=(e,t)=>{for(var n in t||(t={}))PW.call(t,n)&&MF(e,n,t[n]);if(A1)for(var n of A1(t))IW.call(t,n)&&MF(e,n,t[n]);return e},Tpe=(e,t)=>{var n={};for(var r in e)PW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&A1)for(var r of A1(e))t.indexOf(r)<0&&IW.call(e,r)&&(n[r]=e[r]);return n};const Cpe={xs:12,sm:14,md:16,lg:20,xl:24},$pe={size:"md"},OW=S.forwardRef((e,t)=>{const n=st("CloseButton",$pe,e),{iconSize:r,size:i="md"}=n,o=Tpe(n,["iconSize","size"]),s=Wi(),a=r||s.fn.size({size:i,sizes:Cpe});return M.createElement(IR,Ope({size:i,ref:t},o),M.createElement(xW,{width:a,height:a}))});OW.displayName="@mantine/core/CloseButton";const OR=OW;var kpe=Object.defineProperty,Ape=Object.defineProperties,Rpe=Object.getOwnPropertyDescriptors,LF=Object.getOwnPropertySymbols,Npe=Object.prototype.hasOwnProperty,Dpe=Object.prototype.propertyIsEnumerable,jF=(e,t,n)=>t in e?kpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i_=(e,t)=>{for(var n in t||(t={}))Npe.call(t,n)&&jF(e,n,t[n]);if(LF)for(var n of LF(t))Dpe.call(t,n)&&jF(e,n,t[n]);return e},Mpe=(e,t)=>Ape(e,Rpe(t));function Lpe({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function jpe({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function Fpe(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var Vpe=et((e,{color:t,variant:n,size:r,lineClamp:i,inline:o,inherit:s,underline:a,gradient:l,weight:u,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:l});return{root:i_(Mpe(i_(i_(i_({},e.fn.fontStyles()),e.fn.focusStyles()),Fpe(i)),{color:jpe({color:t,theme:e,variant:n}),fontFamily:s?"inherit":e.fontFamily,fontSize:s||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:s?"inherit":o?1:e.lineHeight,textDecoration:Lpe({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:s?"inherit":u,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const Bpe=Vpe;var zpe=Object.defineProperty,R1=Object.getOwnPropertySymbols,TW=Object.prototype.hasOwnProperty,CW=Object.prototype.propertyIsEnumerable,FF=(e,t,n)=>t in e?zpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Upe=(e,t)=>{for(var n in t||(t={}))TW.call(t,n)&&FF(e,n,t[n]);if(R1)for(var n of R1(t))CW.call(t,n)&&FF(e,n,t[n]);return e},Hpe=(e,t)=>{var n={};for(var r in e)TW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&R1)for(var r of R1(e))t.indexOf(r)<0&&CW.call(e,r)&&(n[r]=e[r]);return n};const Wpe={variant:"text"},$W=S.forwardRef((e,t)=>{const n=st("Text",Wpe,e),{className:r,size:i,weight:o,transform:s,color:a,align:l,variant:u,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:g,italic:y,classNames:m,styles:v,unstyled:_,span:b}=n,E=Hpe(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:w,cx:x}=Bpe({variant:u,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:g,italic:y,weight:o,transform:s,align:l,gradient:f},{unstyled:_,name:"Text"});return M.createElement(rt,Upe({ref:t,className:x(w.root,{[w.gradient]:u==="gradient"},r),component:b?"span":"div"},E))});$W.displayName="@mantine/core/Text";const Et=$W;var qpe=et(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const Gpe=qpe;var Kpe=Object.defineProperty,N1=Object.getOwnPropertySymbols,kW=Object.prototype.hasOwnProperty,AW=Object.prototype.propertyIsEnumerable,VF=(e,t,n)=>t in e?Kpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BF=(e,t)=>{for(var n in t||(t={}))kW.call(t,n)&&VF(e,n,t[n]);if(N1)for(var n of N1(t))AW.call(t,n)&&VF(e,n,t[n]);return e},Ype=(e,t)=>{var n={};for(var r in e)kW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&N1)for(var r of N1(e))t.indexOf(r)<0&&AW.call(e,r)&&(n[r]=e[r]);return n};const Qpe={},RW=S.forwardRef((e,t)=>{const n=st("Anchor",Qpe,e),{component:r,className:i,unstyled:o}=n,s=Ype(n,["component","className","unstyled"]),{classes:a,cx:l}=Gpe(null,{name:"Anchor",unstyled:o}),u=r==="button"?{type:"button"}:null;return M.createElement(Et,BF(BF({component:r||"a",variant:"link",ref:t,className:l(a.root,i)},u),s))});RW.displayName="@mantine/core/Anchor";const NW=RW,DW=S.createContext({}),Xpe=DW.Provider;function MW(){return S.useContext(DW)}function sx(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var Jpe=Object.defineProperty,Zpe=Object.defineProperties,eme=Object.getOwnPropertyDescriptors,zF=Object.getOwnPropertySymbols,tme=Object.prototype.hasOwnProperty,nme=Object.prototype.propertyIsEnumerable,UF=(e,t,n)=>t in e?Jpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o_=(e,t)=>{for(var n in t||(t={}))tme.call(t,n)&&UF(e,n,t[n]);if(zF)for(var n of zF(t))nme.call(t,n)&&UF(e,n,t[n]);return e},HF=(e,t)=>Zpe(e,eme(t)),rme=et((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:o,zIndex:s,section:a,withBorder:l})=>{const u=typeof n=="object"&&n!==null?sx(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=l?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:HF(o_(o_(HF(o_(o_({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:s,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),u),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:o,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const ime=rme;var ome=Object.defineProperty,D1=Object.getOwnPropertySymbols,LW=Object.prototype.hasOwnProperty,jW=Object.prototype.propertyIsEnumerable,WF=(e,t,n)=>t in e?ome(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qF=(e,t)=>{for(var n in t||(t={}))LW.call(t,n)&&WF(e,n,t[n]);if(D1)for(var n of D1(t))jW.call(t,n)&&WF(e,n,t[n]);return e},sme=(e,t)=>{var n={};for(var r in e)LW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&D1)for(var r of D1(e))t.indexOf(r)<0&&jW.call(e,r)&&(n[r]=e[r]);return n};const TR=S.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:o=!1,position:s,zIndex:a=us("app"),hiddenBreakpoint:l="md",hidden:u=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:g,__staticSelector:y,unstyled:m}=n,v=sme(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const _=MW(),{classes:b,cx:E,theme:w}=ime({width:r,height:i,fixed:_.fixed||o,position:s,hiddenBreakpoint:l,zIndex:_.zIndex||a,section:g,withBorder:c},{classNames:d,styles:h,name:y,unstyled:m}),x=sx(r,w).reduce((I,[D,R])=>(I[`@media (min-width: ${D}px)`]={[`--mantine-${g}-width`]:`${R}px`},I),{});return M.createElement(rt,qF({component:g==="navbar"?"nav":"aside",ref:t,"data-hidden":u||void 0,className:E(b.root,f)},v),p,M.createElement(KH,{styles:()=>({":root":qF({[`--mantine-${g}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},x)})}))});TR.displayName="@mantine/core/HorizontalSection";var ame=Object.defineProperty,M1=Object.getOwnPropertySymbols,FW=Object.prototype.hasOwnProperty,VW=Object.prototype.propertyIsEnumerable,GF=(e,t,n)=>t in e?ame(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lme=(e,t)=>{for(var n in t||(t={}))FW.call(t,n)&&GF(e,n,t[n]);if(M1)for(var n of M1(t))VW.call(t,n)&&GF(e,n,t[n]);return e},ume=(e,t)=>{var n={};for(var r in e)FW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&M1)for(var r of M1(e))t.indexOf(r)<0&&VW.call(e,r)&&(n[r]=e[r]);return n};const BW=S.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:o}=n,s=ume(n,["children","grow","sx"]);return M.createElement(rt,lme({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...cd(o)]},s),r)});BW.displayName="@mantine/core/Section";const zW=BW;var cme=Object.defineProperty,KF=Object.getOwnPropertySymbols,fme=Object.prototype.hasOwnProperty,dme=Object.prototype.propertyIsEnumerable,YF=(e,t,n)=>t in e?cme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hme=(e,t)=>{for(var n in t||(t={}))fme.call(t,n)&&YF(e,n,t[n]);if(KF)for(var n of KF(t))dme.call(t,n)&&YF(e,n,t[n]);return e};const pme={fixed:!1,position:{top:0,left:0},zIndex:us("app"),hiddenBreakpoint:"md",hidden:!1},Xg=S.forwardRef((e,t)=>{const n=st("Navbar",pme,e);return M.createElement(TR,hme({section:"navbar",__staticSelector:"Navbar",ref:t},n))});Xg.Section=zW;Xg.displayName="@mantine/core/Navbar";var mme=Object.defineProperty,gme=Object.defineProperties,yme=Object.getOwnPropertyDescriptors,QF=Object.getOwnPropertySymbols,vme=Object.prototype.hasOwnProperty,_me=Object.prototype.propertyIsEnumerable,XF=(e,t,n)=>t in e?mme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HI=(e,t)=>{for(var n in t||(t={}))vme.call(t,n)&&XF(e,n,t[n]);if(QF)for(var n of QF(t))_me.call(t,n)&&XF(e,n,t[n]);return e},JF=(e,t)=>gme(e,yme(t)),wme=et((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:o})=>{const s=typeof t=="object"&&t!==null?sx(t,e).reduce((a,[l,u])=>(a[`@media (min-width: ${l}px)`]={height:u,minHeight:u},a),{}):null;return{root:JF(HI(JF(HI(HI({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),s),{borderBottom:o==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:o==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const bme=wme;var Sme=Object.defineProperty,L1=Object.getOwnPropertySymbols,UW=Object.prototype.hasOwnProperty,HW=Object.prototype.propertyIsEnumerable,ZF=(e,t,n)=>t in e?Sme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e4=(e,t)=>{for(var n in t||(t={}))UW.call(t,n)&&ZF(e,n,t[n]);if(L1)for(var n of L1(t))HW.call(t,n)&&ZF(e,n,t[n]);return e},Eme=(e,t)=>{var n={};for(var r in e)UW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&L1)for(var r of L1(e))t.indexOf(r)<0&&HW.call(e,r)&&(n[r]=e[r]);return n};const WW=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:o,styles:s,height:a,fixed:l=!1,withBorder:u=!0,position:c,zIndex:f=us("app"),section:d,unstyled:h,__staticSelector:p}=n,g=Eme(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=MW(),{classes:m,cx:v,theme:_}=bme({height:a,fixed:y.fixed||l,position:c,zIndex:y.zIndex||f,borderPosition:u?d==="header"?"bottom":"top":"none"},{name:p,classNames:o,styles:s,unstyled:h}),b=typeof a=="object"&&a!==null?sx(a,_).reduce((E,[w,x])=>(E[`@media (min-width: ${w}px)`]={[`--mantine-${d}-height`]:`${x}px`},E),{}):null;return M.createElement(rt,e4({component:d==="header"?"header":"footer",className:v(m.root,i),ref:t},g),r,M.createElement(KH,{styles:()=>({":root":e4({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},b)})}))});WW.displayName="@mantine/core/VerticalSection";var xme=Object.defineProperty,Pme=Object.defineProperties,Ime=Object.getOwnPropertyDescriptors,t4=Object.getOwnPropertySymbols,Ome=Object.prototype.hasOwnProperty,Tme=Object.prototype.propertyIsEnumerable,n4=(e,t,n)=>t in e?xme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cme=(e,t)=>{for(var n in t||(t={}))Ome.call(t,n)&&n4(e,n,t[n]);if(t4)for(var n of t4(t))Tme.call(t,n)&&n4(e,n,t[n]);return e},$me=(e,t)=>Pme(e,Ime(t));const kme={fixed:!1,position:{top:0,left:0,right:0},zIndex:us("app")},qW=S.forwardRef((e,t)=>{const n=st("Header",kme,e);return M.createElement(WW,$me(Cme({section:"header",__staticSelector:"Header"},n),{ref:t}))});qW.displayName="@mantine/core/Header";var Ame=Object.defineProperty,r4=Object.getOwnPropertySymbols,Rme=Object.prototype.hasOwnProperty,Nme=Object.prototype.propertyIsEnumerable,i4=(e,t,n)=>t in e?Ame(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dme=(e,t)=>{for(var n in t||(t={}))Rme.call(t,n)&&i4(e,n,t[n]);if(r4)for(var n of r4(t))Nme.call(t,n)&&i4(e,n,t[n]);return e};const Mme={fixed:!1,position:{top:0,right:0},zIndex:us("app"),hiddenBreakpoint:"md",hidden:!1},Th=S.forwardRef((e,t)=>{const n=st("Aside",Mme,e);return M.createElement(TR,Dme({section:"aside",__staticSelector:"Aside",ref:t},n))});Th.Section=zW;Th.displayName="@mantine/core/Aside";var Lme=Object.defineProperty,o4=Object.getOwnPropertySymbols,jme=Object.prototype.hasOwnProperty,Fme=Object.prototype.propertyIsEnumerable,s4=(e,t,n)=>t in e?Lme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vme=(e,t)=>{for(var n in t||(t={}))jme.call(t,n)&&s4(e,n,t[n]);if(o4)for(var n of o4(t))Fme.call(t,n)&&s4(e,n,t[n]);return e};function Bme(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var zme=et((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:Vme({flex:1,width:"100vw",boxSizing:"border-box"},Bme(t,e))}));const Ume=zme;var Hme=Object.defineProperty,j1=Object.getOwnPropertySymbols,GW=Object.prototype.hasOwnProperty,KW=Object.prototype.propertyIsEnumerable,a4=(e,t,n)=>t in e?Hme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wme=(e,t)=>{for(var n in t||(t={}))GW.call(t,n)&&a4(e,n,t[n]);if(j1)for(var n of j1(t))KW.call(t,n)&&a4(e,n,t[n]);return e},qme=(e,t)=>{var n={};for(var r in e)GW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&j1)for(var r of j1(e))t.indexOf(r)<0&&KW.call(e,r)&&(n[r]=e[r]);return n};const Gme={fixed:!0,zIndex:us("app"),padding:"md"},YW=S.forwardRef((e,t)=>{const n=st("AppShell",Gme,e),{children:r,navbar:i,header:o,footer:s,aside:a,fixed:l,zIndex:u,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:g,unstyled:y,hidden:m}=n,v=qme(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:_,cx:b}=Ume({padding:c,fixed:l,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:g,unstyled:y,name:"AppShell"});return m?M.createElement(M.Fragment,null,r):M.createElement(Xpe,{value:{fixed:l,zIndex:u}},M.createElement(rt,Wme({className:b(_.root,h),ref:t},v),o,M.createElement("div",{className:_.body},i,M.createElement("main",{className:_.main},r),a),s))});YW.displayName="@mantine/core/AppShell";const s_={xs:1,sm:2,md:3,lg:4,xl:5};function a_(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var Kme=et((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:s_})}px ${n} ${a_(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:s_})}px ${n} ${a_(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:s_}),borderTopColor:a_(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:s_}),borderLeftColor:a_(e,r),borderLeftStyle:n}}));const Yme=Kme;var Qme=Object.defineProperty,Xme=Object.defineProperties,Jme=Object.getOwnPropertyDescriptors,F1=Object.getOwnPropertySymbols,QW=Object.prototype.hasOwnProperty,XW=Object.prototype.propertyIsEnumerable,l4=(e,t,n)=>t in e?Qme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u4=(e,t)=>{for(var n in t||(t={}))QW.call(t,n)&&l4(e,n,t[n]);if(F1)for(var n of F1(t))XW.call(t,n)&&l4(e,n,t[n]);return e},Zme=(e,t)=>Xme(e,Jme(t)),ege=(e,t)=>{var n={};for(var r in e)QW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&F1)for(var r of F1(e))t.indexOf(r)<0&&XW.call(e,r)&&(n[r]=e[r]);return n};const tge={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},GC=S.forwardRef((e,t)=>{const n=st("Divider",tge,e),{className:r,color:i,orientation:o,size:s,label:a,labelPosition:l,labelProps:u,variant:c,styles:f,classNames:d,unstyled:h}=n,p=ege(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:y}=Yme({color:i,size:s,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),m=o==="vertical",v=o==="horizontal",_=!!a&&v,b=!(u!=null&&u.color);return M.createElement(rt,u4({ref:t,className:y(g.root,{[g.vertical]:m,[g.horizontal]:v,[g.withLabel]:_},r),role:"separator"},p),_&&M.createElement(Et,Zme(u4({},u),{size:(u==null?void 0:u.size)||"xs",sx:{marginTop:2},className:y(g.label,g[l],{[g.labelDefaultStyles]:b})}),a))});GC.displayName="@mantine/core/Divider";var nge=Object.defineProperty,rge=Object.defineProperties,ige=Object.getOwnPropertyDescriptors,c4=Object.getOwnPropertySymbols,oge=Object.prototype.hasOwnProperty,sge=Object.prototype.propertyIsEnumerable,f4=(e,t,n)=>t in e?nge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d4=(e,t)=>{for(var n in t||(t={}))oge.call(t,n)&&f4(e,n,t[n]);if(c4)for(var n of c4(t))sge.call(t,n)&&f4(e,n,t[n]);return e},age=(e,t)=>rge(e,ige(t)),lge=et((e,{size:t})=>({item:age(d4({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":d4({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const uge=lge;var cge=Object.defineProperty,h4=Object.getOwnPropertySymbols,fge=Object.prototype.hasOwnProperty,dge=Object.prototype.propertyIsEnumerable,p4=(e,t,n)=>t in e?cge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hge=(e,t)=>{for(var n in t||(t={}))fge.call(t,n)&&p4(e,n,t[n]);if(h4)for(var n of h4(t))dge.call(t,n)&&p4(e,n,t[n]);return e};function CR({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:o,__staticSelector:s,onItemHover:a,onItemSelect:l,itemsRefs:u,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:g}){const{classes:y}=uge({size:f},{classNames:n,styles:r,unstyled:g,name:s}),m=[],v=[];let _=null;const b=(w,x)=>{const I=typeof i=="function"?i(w.value):!1;return M.createElement(c,hge({key:w.value,className:y.item,"data-disabled":w.disabled||void 0,"data-hovered":!w.disabled&&t===x||void 0,"data-selected":!w.disabled&&I||void 0,onMouseEnter:()=>a(x),id:`${o}-${x}`,role:"option",tabIndex:-1,"aria-selected":t===x,ref:D=>{u&&u.current&&(u.current[w.value]=D)},onMouseDown:w.disabled?null:D=>{D.preventDefault(),l(w)},disabled:w.disabled},w))};let E=null;if(e.forEach((w,x)=>{w.creatable?_=x:w.group?(E!==w.group&&(E=w.group,v.push(M.createElement("div",{className:y.separator,key:`__mantine-divider-${x}`},M.createElement(GC,{classNames:{label:y.separatorLabel},label:w.group})))),v.push(b(w,x))):m.push(b(w,x))}),h){const w=e[_];m.push(M.createElement("div",{key:hhe(),className:y.item,"data-hovered":t===_||void 0,onMouseEnter:()=>a(_),onMouseDown:x=>{x.preventDefault(),l(w)},tabIndex:-1,ref:x=>{u&&u.current&&(u.current[w.value]=x)}},p))}return v.length>0&&m.length>0&&m.unshift(M.createElement("div",{className:y.separator,key:"empty-group-separator"},M.createElement(GC,null))),v.length>0||m.length>0?M.createElement(M.Fragment,null,v,m):M.createElement(Et,{size:f,unstyled:g,className:y.nothingFound},d)}CR.displayName="@mantine/core/SelectItems";var pge=Object.defineProperty,V1=Object.getOwnPropertySymbols,JW=Object.prototype.hasOwnProperty,ZW=Object.prototype.propertyIsEnumerable,m4=(e,t,n)=>t in e?pge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mge=(e,t)=>{for(var n in t||(t={}))JW.call(t,n)&&m4(e,n,t[n]);if(V1)for(var n of V1(t))ZW.call(t,n)&&m4(e,n,t[n]);return e},gge=(e,t)=>{var n={};for(var r in e)JW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&V1)for(var r of V1(e))t.indexOf(r)<0&&ZW.call(e,r)&&(n[r]=e[r]);return n};const $R=S.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,o=gge(n,["label","value"]);return M.createElement("div",mge({ref:t},o),r||i)});$R.displayName="@mantine/core/DefaultItem";function yge(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function eq(...e){return t=>e.forEach(n=>yge(n,t))}function Nd(...e){return S.useCallback(eq(...e),e)}const tq=S.forwardRef((e,t)=>{const{children:n,...r}=e,i=S.Children.toArray(n),o=i.find(_ge);if(o){const s=o.props.children,a=i.map(l=>l===o?S.Children.count(s)>1?S.Children.only(null):S.isValidElement(s)?s.props.children:null:l);return S.createElement(KC,er({},r,{ref:t}),S.isValidElement(s)?S.cloneElement(s,void 0,a):null)}return S.createElement(KC,er({},r,{ref:t}),n)});tq.displayName="Slot";const KC=S.forwardRef((e,t)=>{const{children:n,...r}=e;return S.isValidElement(n)?S.cloneElement(n,{...wge(r,n.props),ref:eq(t,n.ref)}):S.Children.count(n)>1?S.Children.only(null):null});KC.displayName="SlotClone";const vge=({children:e})=>S.createElement(S.Fragment,null,e);function _ge(e){return S.isValidElement(e)&&e.type===vge}function wge(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{o==null||o(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const bge=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Wv=bge.reduce((e,t)=>{const n=S.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?tq:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(a,er({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),YC=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function Sge(e,t){return S.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const qv=e=>{const{present:t,children:n}=e,r=Ege(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),o=Nd(r.ref,i.ref);return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:o}):null};qv.displayName="Presence";function Ege(e){const[t,n]=S.useState(),r=S.useRef({}),i=S.useRef(e),o=S.useRef("none"),s=e?"mounted":"unmounted",[a,l]=Sge(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=l_(r.current);o.current=a==="mounted"?u:"none"},[a]),YC(()=>{const u=r.current,c=i.current;if(c!==e){const d=o.current,h=l_(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),YC(()=>{if(t){const u=f=>{const h=l_(r.current).includes(f.animationName);f.target===t&&h&&Fv.flushSync(()=>l("ANIMATION_END"))},c=f=>{f.target===t&&(o.current=l_(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function l_(e){return(e==null?void 0:e.animationName)||"none"}function xge(e,t=[]){let n=[];function r(o,s){const a=S.createContext(s),l=n.length;n=[...n,s];function u(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][l])||a,y=S.useMemo(()=>p,Object.values(p));return S.createElement(g.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][l])||a,p=S.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(s=>S.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return S.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,Pge(i,...t)]}function Pge(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function If(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const Ige=S.createContext(void 0);function Oge(e){const t=S.useContext(Ige);return e||t||"ltr"}function Tge(e,[t,n]){return Math.min(n,Math.max(t,e))}function Xf(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Cge(e,t){return S.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const nq="ScrollArea",[rq,Jtt]=xge(nq),[$ge,Ls]=rq(nq),kge=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,l]=S.useState(null),[u,c]=S.useState(null),[f,d]=S.useState(null),[h,p]=S.useState(null),[g,y]=S.useState(null),[m,v]=S.useState(0),[_,b]=S.useState(0),[E,w]=S.useState(!1),[x,I]=S.useState(!1),D=Nd(t,N=>l(N)),R=Oge(i);return S.createElement($ge,{scope:n,type:r,dir:R,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:E,onScrollbarXEnabledChange:w,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:x,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:b},S.createElement(Wv.div,er({dir:R},s,{ref:D,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})))}),Age="ScrollAreaViewport",Rge=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,o=Ls(Age,n),s=S.useRef(null),a=Nd(t,s,o.onViewportChange);return S.createElement(S.Fragment,null,S.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),S.createElement(Wv.div,er({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style}}),S.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Ou="ScrollAreaScrollbar",Nge=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ls(Ou,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return S.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?S.createElement(Dge,er({},r,{ref:t,forceMount:n})):i.type==="scroll"?S.createElement(Mge,er({},r,{ref:t,forceMount:n})):i.type==="auto"?S.createElement(iq,er({},r,{ref:t,forceMount:n})):i.type==="always"?S.createElement(kR,er({},r,{ref:t})):null}),Dge=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ls(Ou,e.__scopeScrollArea),[o,s]=S.useState(!1);return S.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),S.createElement(qv,{present:n||o},S.createElement(iq,er({"data-state":o?"visible":"hidden"},r,{ref:t})))}),Mge=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ls(Ou,e.__scopeScrollArea),o=e.orientation==="horizontal",s=lx(()=>l("SCROLL_END"),100),[a,l]=Cge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),S.useEffect(()=>{const u=i.viewport,c=o?"scrollLeft":"scrollTop";if(u){let f=u[c];const d=()=>{const h=u[c];f!==h&&(l("SCROLL"),s()),f=h};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,o,l,s]),S.createElement(qv,{present:n||a!=="hidden"},S.createElement(kR,er({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Xf(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Xf(e.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),iq=S.forwardRef((e,t)=>{const n=Ls(Ou,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,s]=S.useState(!1),a=e.orientation==="horizontal",l=lx(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return wp(n.viewport,l),wp(n.content,l),S.createElement(qv,{present:r||o},S.createElement(kR,er({"data-state":o?"visible":"hidden"},i,{ref:t})))}),kR=S.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Ls(Ou,e.__scopeScrollArea),o=S.useRef(null),s=S.useRef(0),[a,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=lq(a.viewport,a.content),c={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:d=>o.current=d,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:d=>s.current=d};function f(d,h){return Hge(d,s.current,a,h)}return n==="horizontal"?S.createElement(Lge,er({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollLeft,h=g4(d,a,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?S.createElement(jge,er({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollTop,h=g4(d,a);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),Lge=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Ls(Ou,e.__scopeScrollArea),[s,a]=S.useState(),l=S.useRef(null),u=Nd(t,l,o.onScrollbarXChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),S.createElement(sq,er({"data-orientation":"horizontal"},i,{ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ax(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(o.viewport){const d=o.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),cq(d,f)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:B1(s.paddingLeft),paddingEnd:B1(s.paddingRight)}})}}))}),jge=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Ls(Ou,e.__scopeScrollArea),[s,a]=S.useState(),l=S.useRef(null),u=Nd(t,l,o.onScrollbarYChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),S.createElement(sq,er({"data-orientation":"vertical"},i,{ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ax(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(o.viewport){const d=o.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),cq(d,f)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:B1(s.paddingTop),paddingEnd:B1(s.paddingBottom)}})}}))}),[Fge,oq]=rq(Ou),sq=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:f,...d}=e,h=Ls(Ou,n),[p,g]=S.useState(null),y=Nd(t,D=>g(D)),m=S.useRef(null),v=S.useRef(""),_=h.viewport,b=r.content-r.viewport,E=If(c),w=If(l),x=lx(f,10);function I(D){if(m.current){const R=D.clientX-m.current.left,N=D.clientY-m.current.top;u({x:R,y:N})}}return S.useEffect(()=>{const D=R=>{const N=R.target;(p==null?void 0:p.contains(N))&&E(R,b)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[_,p,b,E]),S.useEffect(w,[r,w]),wp(p,x),wp(h.content,x),S.createElement(Fge,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:If(o),onThumbPointerUp:If(s),onThumbPositionChange:w,onThumbPointerDown:If(a)},S.createElement(Wv.div,er({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:Xf(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),m.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(D))}),onPointerMove:Xf(e.onPointerMove,I),onPointerUp:Xf(e.onPointerUp,D=>{D.target.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=v.current,m.current=null})})))}),QC="ScrollAreaThumb",Vge=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oq(QC,e.__scopeScrollArea);return S.createElement(qv,{present:n||i.hasThumb},S.createElement(Bge,er({ref:t},r)))}),Bge=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=Ls(QC,n),s=oq(QC,n),{onThumbPositionChange:a}=s,l=Nd(t,f=>s.onThumbChange(f)),u=S.useRef(),c=lx(()=>{u.current&&(u.current(),u.current=void 0)},100);return S.useEffect(()=>{const f=o.viewport;if(f){const d=()=>{if(c(),!u.current){const h=Wge(f,a);u.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[o.viewport,c,a]),S.createElement(Wv.div,er({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Xf(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;s.onThumbPointerDown({x:p,y:g})}),onPointerUp:Xf(e.onPointerUp,s.onThumbPointerUp)}))}),aq="ScrollAreaCorner",zge=S.forwardRef((e,t)=>{const n=Ls(aq,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.createElement(Uge,er({},e,{ref:t})):null}),Uge=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Ls(aq,n),[o,s]=S.useState(0),[a,l]=S.useState(0),u=!!(o&&a);return wp(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),l(f)}),wp(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),s(f)}),u?S.createElement(Wv.div,er({},r,{ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function B1(e){return e?parseInt(e,10):0}function lq(e,t){const n=e/t;return isNaN(n)?0:n}function ax(e){const t=lq(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Hge(e,t,n,r="ltr"){const i=ax(n),o=i/2,s=t||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return uq([l,u],f)(e)}function g4(e,t,n="ltr"){const r=ax(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=Tge(e,l);return uq([0,s],[0,a])(u)}function uq(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function cq(e,t){return e>0&&e<t}const Wge=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function lx(e,t){const n=If(e),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function wp(e,t){const n=If(t);YC(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const qge=kge,Gge=Rge,y4=Nge,v4=Vge,Kge=zge;var Yge=et((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},o)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${o("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:o("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const Qge=Yge;var Xge=Object.defineProperty,Jge=Object.defineProperties,Zge=Object.getOwnPropertyDescriptors,z1=Object.getOwnPropertySymbols,fq=Object.prototype.hasOwnProperty,dq=Object.prototype.propertyIsEnumerable,_4=(e,t,n)=>t in e?Xge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hq=(e,t)=>{for(var n in t||(t={}))fq.call(t,n)&&_4(e,n,t[n]);if(z1)for(var n of z1(t))dq.call(t,n)&&_4(e,n,t[n]);return e},eye=(e,t)=>Jge(e,Zge(t)),pq=(e,t)=>{var n={};for(var r in e)fq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&z1)for(var r of z1(e))t.indexOf(r)<0&&dq.call(e,r)&&(n[r]=e[r]);return n};const mq={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},ux=S.forwardRef((e,t)=>{const n=st("ScrollArea",mq,e),{children:r,className:i,classNames:o,styles:s,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,g=pq(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[y,m]=S.useState(!1),v=Wi(),{classes:_,cx:b}=Qge({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:y,hidden:u==="never"},{name:"ScrollArea",classNames:o,styles:s,unstyled:p});return M.createElement(qge,{type:u==="never"?"always":u,scrollHideDelay:l,dir:c||v.dir,ref:t,asChild:!0},M.createElement(rt,hq({className:b(_.root,i)},g),M.createElement(Gge,{className:_.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:E})=>h({x:E.scrollLeft,y:E.scrollTop}):void 0},r),M.createElement(y4,{orientation:"horizontal",className:_.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},M.createElement(v4,{className:_.thumb})),M.createElement(y4,{orientation:"vertical",className:_.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},M.createElement(v4,{className:_.thumb})),M.createElement(Kge,{className:_.corner})))}),gq=S.forwardRef((e,t)=>{const n=st("ScrollAreaAutosize",mq,e),{maxHeight:r,children:i,classNames:o,styles:s,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:g}=n,y=pq(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return M.createElement(rt,eye(hq({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...cd(g)]}),M.createElement(rt,{sx:{display:"flex",flexDirection:"column",flex:1}},M.createElement(ux,{classNames:o,styles:s,scrollHideDelay:l,scrollbarSize:a,type:u,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});gq.displayName="@mantine/core/ScrollAreaAutosize";ux.displayName="@mantine/core/ScrollArea";ux.Autosize=gq;const xg=ux;var tye=Object.defineProperty,nye=Object.defineProperties,rye=Object.getOwnPropertyDescriptors,U1=Object.getOwnPropertySymbols,yq=Object.prototype.hasOwnProperty,vq=Object.prototype.propertyIsEnumerable,w4=(e,t,n)=>t in e?tye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b4=(e,t)=>{for(var n in t||(t={}))yq.call(t,n)&&w4(e,n,t[n]);if(U1)for(var n of U1(t))vq.call(t,n)&&w4(e,n,t[n]);return e},iye=(e,t)=>nye(e,rye(t)),oye=(e,t)=>{var n={};for(var r in e)yq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&U1)for(var r of U1(e))t.indexOf(r)<0&&vq.call(e,r)&&(n[r]=e[r]);return n};const cx=S.forwardRef((e,t)=>{var n=e,{style:r}=n,i=oye(n,["style"]);return M.createElement(xg,iye(b4({},i),{style:b4({width:"100%"},r),viewportRef:t}),i.children)});cx.displayName="@mantine/core/SelectScrollArea";var sye=et(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const aye=sye;function au(e){return e.split("-")[0]}function Gv(e){return e.split("-")[1]}function Dd(e){return["top","bottom"].includes(au(e))?"x":"y"}function AR(e){return e==="y"?"height":"width"}function S4(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=Dd(t),l=AR(a),u=r[l]/2-i[l]/2,c=a==="x";let f;switch(au(t)){case"top":f={x:o,y:r.y-i.height};break;case"bottom":f={x:o,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-i.width,y:s};break;default:f={x:r.x,y:r.y}}switch(Gv(t)){case"start":f[a]-=u*(n&&c?-1:1);break;case"end":f[a]+=u*(n&&c?-1:1)}return f}const lye=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=S4(u,r,l),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:m}=a[g],{x:v,y:_,data:b,reset:E}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=v??c,f=_??f,h={...h,[y]:{...h[y],...b}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=S4(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function RR(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function zy(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function NR(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=RR(h),g=a[d?f==="floating"?"reference":"floating":f],y=zy(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),m=zy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...s.floating,x:r,y:i}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:l}):s[f]);return{top:y.top-m.top+p.top,bottom:m.bottom-y.bottom+p.bottom,left:y.left-m.left+p.left,right:m.right-y.right+p.right}}const _q=Math.min,Gu=Math.max;function XC(e,t,n){return Gu(e,_q(t,n))}const E4=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:o,placement:s,rects:a,platform:l}=t;if(n==null)return{};const u=RR(r),c={x:i,y:o},f=Dd(s),d=Gv(s),h=AR(f),p=await l.getDimensions(n),g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=a.reference[h]+a.reference[f]-c[f]-a.floating[h],v=c[f]-a.reference[f],_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let b=_?f==="y"?_.clientHeight||0:_.clientWidth||0:0;b===0&&(b=a.floating[h]);const E=m/2-v/2,w=u[g],x=b-p[h]-u[y],I=b/2-p[h]/2+E,D=XC(w,I,x),R=(d==="start"?u[g]:u[y])>0&&I!==D&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(R?I<w?w-I:x-I:0),data:{[f]:D,centerOffset:I-D}}}}),uye={left:"right",right:"left",bottom:"top",top:"bottom"};function H1(e){return e.replace(/left|right|bottom|top/g,t=>uye[t])}function cye(e,t,n){n===void 0&&(n=!1);const r=Gv(e),i=Dd(e),o=AR(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=H1(s)),{main:s,cross:H1(s)}}const fye={start:"end",end:"start"};function x4(e){return e.replace(/start|end/g,t=>fye[t])}const dye=["top","right","bottom","left"];dye.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const wq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,g=au(r),y=f||(g===s||!h?[H1(s)]:function(I){const D=H1(I);return[x4(I),D,x4(D)]}(s)),m=[s,...y],v=await NR(t,p),_=[];let b=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&_.push(v[g]),c){const{main:I,cross:D}=cye(r,o,await(a.isRTL==null?void 0:a.isRTL(l.floating)));_.push(v[I],v[D])}if(b=[...b,{placement:r,overflows:_}],!_.every(I=>I<=0)){var E,w;const I=((E=(w=i.flip)==null?void 0:w.index)!=null?E:0)+1,D=m[I];if(D)return{data:{index:I,overflows:b},reset:{placement:D}};let R="bottom";switch(d){case"bestFit":{var x;const N=(x=b.map(z=>[z,z.overflows.filter(U=>U>0).reduce((U,B)=>U+B,0)]).sort((z,U)=>z[1]-U[1])[0])==null?void 0:x[0].placement;N&&(R=N);break}case"initialPlacement":R=s}if(r!==R)return{reset:{placement:R}}}return{}}}},bq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(o,s){const{placement:a,platform:l,elements:u}=o,c=await(l.isRTL==null?void 0:l.isRTL(u.floating)),f=au(a),d=Gv(a),h=Dd(a)==="x",p=["left","top"].includes(f)?-1:1,g=c&&h?-1:1,y=typeof s=="function"?s(o):s;let{mainAxis:m,crossAxis:v,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof _=="number"&&(v=d==="end"?-1*_:_),h?{x:v*g,y:m*p}:{x:m*p,y:v*g}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function Sq(e){return e==="x"?"y":"x"}const DR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:m,y:v}=y;return{x:m,y:v}}},...l}=e,u={x:n,y:r},c=await NR(t,l),f=Dd(au(i)),d=Sq(f);let h=u[f],p=u[d];if(o){const y=f==="y"?"bottom":"right";h=XC(h+c[f==="y"?"top":"left"],h,h-c[y])}if(s){const y=d==="y"?"bottom":"right";p=XC(p+c[d==="y"?"top":"left"],p,p-c[y])}const g=a.fn({...t,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},hye=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=e,c={x:n,y:r},f=Dd(i),d=Sq(f);let h=c[f],p=c[d];const g=typeof a=="function"?a(t):a,y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const E=f==="y"?"height":"width",w=o.reference[f]-o.floating[E]+y.mainAxis,x=o.reference[f]+o.reference[E]-y.mainAxis;h<w?h=w:h>x&&(h=x)}if(u){var m,v,_,b;const E=f==="y"?"width":"height",w=["top","left"].includes(au(i)),x=o.reference[d]-o.floating[E]+(w&&(m=(v=s.offset)==null?void 0:v[d])!=null?m:0)+(w?0:y.crossAxis),I=o.reference[d]+o.reference[E]+(w?0:(_=(b=s.offset)==null?void 0:b[d])!=null?_:0)-(w?y.crossAxis:0);p<x?p=x:p>I&&(p=I)}return{[f]:h,[d]:p}}}},pye=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=e,l=await NR(t,a),u=au(n),c=Gv(n);let f,d;u==="top"||u==="bottom"?(f=u,d=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(d=u,f=c==="end"?"top":"bottom");const h=Gu(l.left,0),p=Gu(l.right,0),g=Gu(l.top,0),y=Gu(l.bottom,0),m={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(g!==0||y!==0?g+y:Gu(l.top,l.bottom)):l[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:Gu(l.left,l.right)):l[d])};await s({...t,...m});const v=await i.getDimensions(o.floating);return r.floating.width!==v.width||r.floating.height!==v.height?{reset:{rects:!0}}:{}}}},Eq=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:o,platform:s,strategy:a}=t,{padding:l=2,x:u,y:c}=e,f=zy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),strategy:a}):o.reference),d=(n=await(s.getClientRects==null?void 0:s.getClientRects(i.reference)))!=null?n:[],h=RR(l),p=await s.getElementRects({reference:{getBoundingClientRect:function(){var g;if(d.length===2&&d[0].left>d[1].right&&u!=null&&c!=null)return(g=d.find(y=>u>y.left-h.left&&u<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom))!=null?g:f;if(d.length>=2){if(Dd(r)==="x"){const w=d[0],x=d[d.length-1],I=au(r)==="top",D=w.top,R=x.bottom,N=I?w.left:x.left,z=I?w.right:x.right;return{top:D,bottom:R,left:N,right:z,width:z-N,height:R-D,x:N,y:D}}const y=au(r)==="left",m=Gu(...d.map(w=>w.right)),v=_q(...d.map(w=>w.left)),_=d.filter(w=>y?w.left===v:w.right===m),b=_[0].top,E=_[_.length-1].bottom;return{top:b,bottom:E,left:v,right:m,width:m-v,height:E-b,x:v,y:b}}return f}},floating:i.floating,strategy:a});return o.reference.x!==p.reference.x||o.reference.y!==p.reference.y||o.reference.width!==p.reference.width||o.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function xq(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Tu(e){if(e==null)return window;if(!xq(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Rc(e){return Tu(e).getComputedStyle(e)}function Nc(e){return xq(e)?"":e?(e.nodeName||"").toLowerCase():""}function Pq(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function lu(e){return e instanceof Tu(e).HTMLElement}function Yl(e){return e instanceof Tu(e).Element}function P4(e){return typeof ShadowRoot>"u"?!1:e instanceof Tu(e).ShadowRoot||e instanceof ShadowRoot}function fx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Rc(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function mye(e){return["table","td","th"].includes(Nc(e))}function JC(e){const t=/firefox/i.test(Pq()),n=Rc(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const o=n.contain;return o!=null&&o.includes(i)})}function Iq(){return!/^((?!chrome|android).)*safari/i.test(Pq())}function MR(e){return["html","body","#document"].includes(Nc(e))}const I4=Math.min,Jg=Math.max,W1=Math.round;function Ql(e,t,n){var r,i,o,s;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let l=1,u=1;t&&lu(e)&&(l=e.offsetWidth>0&&W1(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&W1(a.height)/e.offsetHeight||1);const c=Yl(e)?Tu(e):window,f=!Iq()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/l,h=(a.top+(f&&(o=(s=c.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/u,p=a.width/l,g=a.height/u;return{width:p,height:g,top:h,right:d+p,bottom:h+g,left:d,x:d,y:h}}function Sc(e){return(t=e,(t instanceof Tu(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function dx(e){return Yl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Oq(e){return Ql(Sc(e)).left+dx(e).scrollLeft}function gye(e,t,n){const r=lu(t),i=Sc(t),o=Ql(e,r&&function(l){const u=Ql(l);return W1(u.width)!==l.offsetWidth||W1(u.height)!==l.offsetHeight}(t),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Nc(t)!=="body"||fx(i))&&(s=dx(t)),lu(t)){const l=Ql(t,!0);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}else i&&(a.x=Oq(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function q1(e){if(Nc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(P4(e)?e.host:null)||Sc(e);return P4(t)?t.host:t}function O4(e){return lu(e)&&Rc(e).position!=="fixed"?e.offsetParent:null}function T4(e){const t=Tu(e);let n=O4(e);for(;n&&mye(n)&&Rc(n).position==="static";)n=O4(n);return n&&(Nc(n)==="html"||Nc(n)==="body"&&Rc(n).position==="static"&&!JC(n))?t:n||function(r){let i=q1(r);for(;lu(i)&&!MR(i);){if(JC(i))return i;i=q1(i)}return null}(e)||t}function C4(e){if(lu(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=Ql(e);return{width:t.width,height:t.height}}function Tq(e){const t=q1(e);return MR(t)?e.ownerDocument.body:lu(t)&&fx(t)?t:Tq(t)}function Xl(e,t){var n;t===void 0&&(t=[]);const r=Tq(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Tu(r),s=i?[o].concat(o.visualViewport||[],fx(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Xl(s))}function $4(e,t,n){return t==="viewport"?zy(function(r,i){const o=Tu(r),s=Sc(r),a=o.visualViewport;let l=s.clientWidth,u=s.clientHeight,c=0,f=0;if(a){l=a.width,u=a.height;const d=Iq();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:l,height:u,x:c,y:f}}(e,n)):Yl(t)?function(r,i){const o=Ql(r,!1,i==="fixed"),s=o.top+r.clientTop,a=o.left+r.clientLeft;return{top:s,left:a,x:a,y:s,right:a+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):zy(function(r){var i;const o=Sc(r),s=dx(r),a=(i=r.ownerDocument)==null?void 0:i.body,l=Jg(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),u=Jg(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-s.scrollLeft+Oq(r);const f=-s.scrollTop;return Rc(a||o).direction==="rtl"&&(c+=Jg(o.clientWidth,a?a.clientWidth:0)-l),{width:l,height:u,x:c,y:f}}(Sc(e)))}const yye={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=n==="clippingAncestors"?function(u){let c=Xl(u).filter(h=>Yl(h)&&Nc(h)!=="body"),f=u,d=null;for(;Yl(f)&&!MR(f);){const h=Rc(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!JC(f)?c=c.filter(p=>p!==f):d=h,f=q1(f)}return c}(t):[].concat(n),s=[...o,r],a=s[0],l=s.reduce((u,c)=>{const f=$4(t,c,i);return u.top=Jg(f.top,u.top),u.right=I4(f.right,u.right),u.bottom=I4(f.bottom,u.bottom),u.left=Jg(f.left,u.left),u},$4(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=lu(n),o=Sc(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Nc(n)!=="body"||fx(o))&&(s=dx(n)),lu(n))){const l=Ql(n,!0);a.x=l.x+n.clientLeft,a.y=l.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+a.x,y:t.y-s.scrollTop+a.y}},isElement:Yl,getDimensions:C4,getOffsetParent:T4,getDocumentElement:Sc,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:gye(t,T4(n),r),floating:{...C4(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Rc(e).direction==="rtl"};function vye(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||o?[...Yl(e)?Xl(e):e.contextElement?Xl(e.contextElement):[],...Xl(t)]:[];u.forEach(h=>{l&&h.addEventListener("scroll",n,{passive:!0}),o&&h.addEventListener("resize",n)});let c,f=null;if(s){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),Yl(e)&&!a&&f.observe(e),Yl(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?Ql(e):null;return a&&function h(){const p=Ql(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;u.forEach(p=>{l&&p.removeEventListener("scroll",n),o&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const _ye=(e,t,n)=>lye(e,t,{platform:yye,...n});var ZC=typeof document<"u"?S.useLayoutEffect:S.useEffect;function G1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!G1(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!G1(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function wye(e){const t=S.useRef(e);return ZC(()=>{t.current=e}),t}function bye(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[o,s]=S.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,l]=S.useState(t);G1(a,t)||l(t);const u=S.useRef(null),c=S.useRef(null),f=S.useRef(null),d=S.useRef(o),h=wye(i),p=S.useCallback(()=>{!u.current||!c.current||_ye(u.current,c.current,{middleware:a,placement:n,strategy:r}).then(b=>{g.current&&!G1(d.current,b)&&(d.current=b,Fv.flushSync(()=>{s(b)}))})},[a,n,r]);ZC(()=>{g.current&&p()},[p]);const g=S.useRef(!1);ZC(()=>(g.current=!0,()=>{g.current=!1}),[]);const y=S.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),u.current&&c.current)if(h.current){const b=h.current(u.current,c.current,p);f.current=b}else p()},[p,h]),m=S.useCallback(b=>{u.current=b,y()},[y]),v=S.useCallback(b=>{c.current=b,y()},[y]),_=S.useMemo(()=>({reference:u,floating:c}),[]);return S.useMemo(()=>({...o,update:p,refs:_,reference:m,floating:v}),[o,p,_,m,v])}const Cq=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?E4({element:t.current,padding:n}).fn(i):{}:t?E4({element:t,padding:n}).fn(i):{}}}};var bp=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Sye(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let WI=!1,Eye=0;const k4=()=>"floating-ui-"+Eye++;function xye(){const[e,t]=S.useState(()=>WI?k4():void 0);return bp(()=>{e==null&&t(k4())},[]),S.useEffect(()=>{WI||(WI=!0)},[]),e}const A4=id.useId,R4=A4??xye,Pye=S.createContext(null),Iye=S.createContext(null),$q=()=>{var e,t;return(e=(t=S.useContext(Pye))==null?void 0:t.id)!=null?e:null},LR=()=>S.useContext(Iye);function Zu(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function kq(e){var t;return(t=Zu(e).defaultView)!=null?t:window}function Mf(e){return e?e instanceof kq(e).Element:!1}function Oye(e){return e?e instanceof kq(e).HTMLElement:!1}const N4=id.useInsertionEffect;function Tye(e){const t=S.useRef(()=>{});return N4?N4(()=>{t.current=e}):t.current=e,S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function jR(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:o,strategy:s,nodeId:a}=e===void 0?{}:e;const[l,u]=S.useState(null),c=LR(),f=S.useRef(null),d=S.useRef({}),h=S.useState(()=>Sye())[0],p=bye({placement:i,middleware:o,strategy:s,whileElementsMounted:r}),g=Tye(n),y=S.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),m=S.useMemo(()=>({...p,refs:y,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:g,_:{domReference:l}}),[p,a,h,t,g,y,l]);bp(()=>{const b=c==null?void 0:c.nodesRef.current.find(E=>E.id===a);b&&(b.context=m)});const{reference:v}=p,_=S.useCallback(b=>{(Mf(b)||b===null)&&(m.refs.domReference.current=b,u(b)),v(b)},[v,m.refs]);return S.useMemo(()=>({...p,context:m,refs:y,reference:_}),[p,y,m,_])}function qI(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=l}),i),{})}}const Cye=function(e){e===void 0&&(e=[]);const t=e,n=S.useCallback(o=>qI(o,e,"reference"),t),r=S.useCallback(o=>qI(o,e,"floating"),t),i=S.useCallback(o=>qI(o,e,"item"),t);return S.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function GI(e,t){var n;let r=(n=e.filter(s=>{var a;return s.parentId===t&&((a=s.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var o;i=(o=e.filter(s=>{var a;return(a=i)==null?void 0:a.some(l=>{var u;return s.parentId===l.id&&((u=s.context)==null?void 0:u.open)})}))!=null?o:[],r=r.concat(i)}return r}function $ye(e){return"composedPath"in e?e.composedPath()[0]:e.target}function D4(e){const t=S.useRef(e);return bp(()=>{t.current=e}),t}function kye(e){const t=S.useRef();return bp(()=>{t.current=e},[e]),t.current}function yw(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const Aye=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:o=!1,restMs:s=0,move:a=!0}=t===void 0?{}:t;const{open:l,onOpenChange:u,dataRef:c,events:f,refs:d,_:h}=e,p=LR(),g=$q(),y=D4(i),m=D4(r),v=kye(l),_=S.useRef(),b=S.useRef(),E=S.useRef(),w=S.useRef(),x=S.useRef(!0),I=S.useRef(!1),D=S.useCallback(()=>{var U;const B=(U=c.current.openEvent)==null?void 0:U.type;return(B==null?void 0:B.includes("mouse"))&&B!=="mousedown"},[c]);S.useEffect(()=>{if(!n)return;function U(){clearTimeout(b.current),clearTimeout(w.current),x.current=!0}return f.on("dismiss",U),()=>{f.off("dismiss",U)}},[n,f,d]),S.useEffect(()=>{if(!n||!y.current)return;function U(){D()&&u(!1)}const B=Zu(d.floating.current).documentElement;return B.addEventListener("mouseleave",U),()=>{B.removeEventListener("mouseleave",U)}},[d,u,n,y,c,D]);const R=S.useCallback(function(U){U===void 0&&(U=!0);const B=yw(m.current,"close",_.current);B&&!E.current?(clearTimeout(b.current),b.current=setTimeout(()=>u(!1),B)):U&&(clearTimeout(b.current),u(!1))},[m,u]),N=S.useCallback(()=>{E.current&&(Zu(d.floating.current).removeEventListener("pointermove",E.current),E.current=void 0)},[d]),z=S.useCallback(()=>{Zu(d.floating.current).body.style.pointerEvents="",I.current=!1},[d]);return S.useEffect(()=>{if(!n)return;function U(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function B(ee){if(clearTimeout(b.current),x.current=!1,o&&_.current!=="mouse"||s>0&&yw(m.current,"open")===0)return;c.current.openEvent=ee;const W=yw(m.current,"open",_.current);W?b.current=setTimeout(()=>{u(!0)},W):u(!0)}function ae(ee){if(U())return;const W=Zu(d.floating.current);if(clearTimeout(w.current),y.current){clearTimeout(b.current),E.current&&W.removeEventListener("pointermove",E.current),E.current=y.current({...e,tree:p,x:ee.clientX,y:ee.clientY,onClose(){z(),N(),R()}}),W.addEventListener("pointermove",E.current);return}R()}function re(ee){U()||y.current==null||y.current({...e,tree:p,x:ee.clientX,y:ee.clientY,leave:!0,onClose(){z(),N(),R()}})(ee)}const ue=d.floating.current,Q=d.domReference.current;if(Mf(Q))return l&&Q.addEventListener("mouseleave",re),ue==null||ue.addEventListener("mouseleave",re),a&&Q.addEventListener("mousemove",B,{once:!0}),Q.addEventListener("mouseenter",B),Q.addEventListener("mouseleave",ae),()=>{l&&Q.removeEventListener("mouseleave",re),ue==null||ue.removeEventListener("mouseleave",re),a&&Q.removeEventListener("mousemove",B),Q.removeEventListener("mouseenter",B),Q.removeEventListener("mouseleave",ae)}},[h.domReference,n,e,o,s,a,R,N,z,u,l,p,d,m,y,c]),bp(()=>{if(n&&l&&y.current&&y.current.__options.blockPointerEvents&&D()){Zu(d.floating.current).body.style.pointerEvents="none",I.current=!0;const ae=d.domReference.current,re=d.floating.current;if(Mf(ae)&&re){var U,B;const ue=p==null||(U=p.nodesRef.current.find(Q=>Q.id===g))==null||(B=U.context)==null?void 0:B.refs.floating.current;return ue&&(ue.style.pointerEvents=""),ae.style.pointerEvents="auto",re.style.pointerEvents="auto",()=>{ae.style.pointerEvents="",re.style.pointerEvents=""}}}},[n,l,g,d,p,y,c,D]),bp(()=>{v&&!l&&(_.current=void 0,N(),z())}),S.useEffect(()=>()=>{N(),clearTimeout(b.current),clearTimeout(w.current),I.current&&z()},[n,N,z]),S.useMemo(()=>{if(!n)return{};function U(B){_.current=B.pointerType}return{reference:{onPointerDown:U,onPointerEnter:U,onMouseMove(){l||s===0||(clearTimeout(w.current),w.current=setTimeout(()=>{x.current||u(!0)},s))}},floating:{onMouseEnter(){clearTimeout(b.current)},onMouseLeave(){R(!1)}}}},[n,s,l,u,R])},Aq=S.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),Rq=()=>S.useContext(Aq),Rye=e=>{let{children:t,delay:n}=e;const[r,i]=S.useState({delay:n,initialDelay:n,currentId:null}),o=S.useCallback(s=>{i(a=>({...a,currentId:s}))},[]);return S.createElement(Aq.Provider,{value:S.useMemo(()=>({...r,setState:i,setCurrentId:o}),[r,i,o])},t)},Nye=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:o,initialDelay:s,setState:a}=Rq();S.useEffect(()=>{o&&(a(l=>({...l,delay:{open:1,close:yw(s,"close")}})),o!==i&&r(!1))},[i,r,a,o,s]),S.useEffect(()=>{!n&&o===i&&(r(!1),a(l=>({...l,delay:s,currentId:null})))},[n,a,o,i,r,s])},Dye=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const o=R4(),s=R4();return S.useMemo(()=>{const a={id:o,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?o:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...a,...i==="menu"&&{"aria-labelledby":s}}}:{}},[r,i,n,o,s])};function KI(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Mye={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Lye={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},jye=function(e,t){let{open:n,onOpenChange:r,refs:i,events:o,nodeId:s}=e,{enabled:a=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const g=LR(),y=$q()!=null,m=S.useRef(!1);return S.useEffect(()=>{if(!n||!a)return;function v(x){if(x.key==="Escape"){if(!p&&g&&GI(g.nodesRef.current,s).length>0)return;o.emit("dismiss",{preventScroll:!1}),r(!1)}}function _(x){const I=m.current;if(m.current=!1,I)return;const D=$ye(x);if(Mf(D)&&i.floating.current){var R;const z=(R=i.floating.current.ownerDocument.defaultView)!=null?R:window,U=D.scrollWidth>D.clientWidth,B=D.scrollHeight>D.clientHeight;let ae=B&&x.offsetX>D.clientWidth;if(B&&z.getComputedStyle(D).direction==="rtl"&&(ae=x.offsetX<=D.offsetWidth-D.clientWidth),ae||U&&x.offsetY>D.clientHeight)return}const N=g&&GI(g.nodesRef.current,s).some(z=>{var U;return KI(x,(U=z.context)==null?void 0:U.refs.floating.current)});KI(x,i.floating.current)||KI(x,i.domReference.current)||N||!p&&g&&GI(g.nodesRef.current,s).length>0||(o.emit("dismiss",y?{preventScroll:!0}:!1),r(!1))}function b(){r(!1)}const E=Zu(i.floating.current);l&&E.addEventListener("keydown",v),u&&E.addEventListener(c,_);let w=[];return h&&(Mf(i.domReference.current)&&(w=Xl(i.domReference.current)),Mf(i.floating.current)&&(w=w.concat(Xl(i.floating.current))),!Mf(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(w=w.concat(Xl(i.reference.current.contextElement)))),w=w.filter(x=>{var I;return x!==((I=E.defaultView)==null?void 0:I.visualViewport)}),w.forEach(x=>{x.addEventListener("scroll",b,{passive:!0})}),()=>{l&&E.removeEventListener("keydown",v),u&&E.removeEventListener(c,_),w.forEach(x=>{x.removeEventListener("scroll",b)})}},[l,u,c,o,g,s,n,r,h,a,p,i,y]),S.useEffect(()=>{m.current=!1},[u,c]),S.useMemo(()=>a?{reference:{[Mye[d]]:()=>{f&&(o.emit("dismiss"),r(!1))}},floating:{[Lye[c]]:()=>{m.current=!0}}}:{},[a,o,f,c,d,r])},Fye=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:o,events:s}=e,{enabled:a=!0,keyboardOnly:l=!0}=t===void 0?{}:t;const u=S.useRef(""),c=S.useRef(!1),f=S.useRef();return S.useEffect(()=>{var d;if(!a)return;const p=(d=Zu(o.floating.current).defaultView)!=null?d:window;function g(){!n&&Oye(o.domReference.current)&&o.domReference.current.blur()}return p.addEventListener("blur",g),()=>{p.removeEventListener("blur",g)}},[o,n,a]),S.useEffect(()=>{if(!a)return;function d(){c.current=!0}return s.on("dismiss",d),()=>{s.off("dismiss",d)}},[s,a]),S.useEffect(()=>()=>{clearTimeout(f.current)},[]),S.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;u.current=h,c.current=!!(h&&l)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,g;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=o.domReference.current)!=null&&p.contains((g=i.current.openEvent)==null?void 0:g.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,g;(p=o.floating.current)!=null&&p.contains(h)||(g=o.domReference.current)!=null&&g.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,l,o,i,r])};function Nq({opened:e,floating:t,positionDependencies:n}){const[r,i]=S.useState(0);S.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return vye(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),Qo(()=>{t.update()},n),Qo(()=>{i(o=>o+1)},[e])}function Vye(e){const t=[bq(e.offset)];return e.middlewares.shift&&t.push(DR({limiter:hye()})),e.middlewares.flip&&t.push(wq()),e.middlewares.inline&&t.push(Eq()),t.push(Cq({element:e.arrowRef})),t}function Bye(e){const[t,n]=ga({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var s;(s=e.onClose)==null||s.call(e),n(!1)},i=()=>{var s,a;t?((s=e.onClose)==null||s.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},o=jR({placement:e.position,middleware:[...Vye(e),...e.width==="target"?[pye({apply({rects:s}){var a,l;Object.assign((l=(a=o.refs.floating.current)==null?void 0:a.style)!=null?l:{},{width:`${s.reference.width}px`})}})]:[]]});return Nq({opened:e.opened,positionDependencies:e.positionDependencies,floating:o}),Qo(()=>{var s;(s=e.onPositionChange)==null||s.call(e,o.placement)},[o.placement]),{floating:o,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const Dq={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[zye,Mq]=_H(Dq.context);var Uye=Object.defineProperty,Hye=Object.defineProperties,Wye=Object.getOwnPropertyDescriptors,K1=Object.getOwnPropertySymbols,Lq=Object.prototype.hasOwnProperty,jq=Object.prototype.propertyIsEnumerable,M4=(e,t,n)=>t in e?Uye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u_=(e,t)=>{for(var n in t||(t={}))Lq.call(t,n)&&M4(e,n,t[n]);if(K1)for(var n of K1(t))jq.call(t,n)&&M4(e,n,t[n]);return e},qye=(e,t)=>Hye(e,Wye(t)),Gye=(e,t)=>{var n={};for(var r in e)Lq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&K1)for(var r of K1(e))t.indexOf(r)<0&&jq.call(e,r)&&(n[r]=e[r]);return n};const Fq=S.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:o="dialog"}=n,s=Gye(n,["children","refProp","popupType"]);if(!Vv(r))throw new Error(Dq.children);const a=s,l=Mq(),u=Ms(l.reference,r.ref,t),c=l.withRoles?{"aria-haspopup":o,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return S.cloneElement(r,u_(qye(u_(u_(u_({},a),c),l.targetProps),{className:SH(l.targetProps.className,a.className,r.props.className),[i]:u}),l.controlled?null:{onClick:l.onToggle}))});Fq.displayName="@mantine/core/PopoverTarget";var Kye=et((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const Yye=Kye;var Qye=Object.defineProperty,L4=Object.getOwnPropertySymbols,Xye=Object.prototype.hasOwnProperty,Jye=Object.prototype.propertyIsEnumerable,j4=(e,t,n)=>t in e?Qye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xd=(e,t)=>{for(var n in t||(t={}))Xye.call(t,n)&&j4(e,n,t[n]);if(L4)for(var n of L4(t))Jye.call(t,n)&&j4(e,n,t[n]);return e};const F4={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Vq({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in r_?Xd(Xd(Xd({transitionProperty:r_[e].transitionProperty},i),r_[e].common),r_[e][F4[t]]):null:Xd(Xd(Xd({transitionProperty:e.transitionProperty},i),e.common),e[F4[t]])}function Bq({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a}){const l=Wi(),u=xR(),c=l.respectReducedMotion?u:!1,[f,d]=S.useState(r?"entered":"exited");let h=c?0:e;const p=S.useRef(-1),g=y=>{const m=y?i:o,v=y?s:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof m=="function"&&m(),typeof v=="function"&&v(),d(y?"entered":"exited");else{const _=window.setTimeout(()=>{typeof m=="function"&&m(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(_),typeof v=="function"&&v(),d(y?"entered":"exited")},h)}};return Qo(()=>{g(r)},[r]),S.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||l.transitionTimingFunction}}function hx({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:o,onExit:s,onEntered:a,onEnter:l,onExited:u}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=Bq({mounted:r,exitDuration:n,duration:t,timingFunction:o,onExit:s,onEntered:a,onEnter:l,onExited:u});return c===0?r?M.createElement(M.Fragment,null,i({})):null:f==="exited"?null:M.createElement(M.Fragment,null,i(Vq({transition:e,duration:c,state:f,timingFunction:d})))}hx.displayName="@mantine/core/Transition";function zq({children:e,active:t=!0,refProp:n="ref"}){const r=ZH(t),i=Ms(r,e==null?void 0:e.ref);return Vv(e)?S.cloneElement(e,{[n]:i}):e}zq.displayName="@mantine/core/FocusTrap";var Zye=Object.defineProperty,eve=Object.defineProperties,tve=Object.getOwnPropertyDescriptors,V4=Object.getOwnPropertySymbols,nve=Object.prototype.hasOwnProperty,rve=Object.prototype.propertyIsEnumerable,B4=(e,t,n)=>t in e?Zye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lu=(e,t)=>{for(var n in t||(t={}))nve.call(t,n)&&B4(e,n,t[n]);if(V4)for(var n of V4(t))rve.call(t,n)&&B4(e,n,t[n]);return e},c_=(e,t)=>eve(e,tve(t));function z4(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function U4(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const ive={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function ove({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[ive[l]]:i},f=t?-n/2-1:-n/2;return l==="left"?c_(Lu(Lu({},c),z4(u,s,r)),{right:f,borderLeft:0,borderBottom:0}):l==="right"?c_(Lu(Lu({},c),z4(u,s,r)),{left:f,borderRight:0,borderTop:0}):l==="top"?c_(Lu(Lu({},c),U4(u,o,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):l==="bottom"?c_(Lu(Lu({},c),U4(u,o,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var sve=Object.defineProperty,ave=Object.defineProperties,lve=Object.getOwnPropertyDescriptors,Y1=Object.getOwnPropertySymbols,Uq=Object.prototype.hasOwnProperty,Hq=Object.prototype.propertyIsEnumerable,H4=(e,t,n)=>t in e?sve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uve=(e,t)=>{for(var n in t||(t={}))Uq.call(t,n)&&H4(e,n,t[n]);if(Y1)for(var n of Y1(t))Hq.call(t,n)&&H4(e,n,t[n]);return e},cve=(e,t)=>ave(e,lve(t)),fve=(e,t)=>{var n={};for(var r in e)Uq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Y1)for(var r of Y1(e))t.indexOf(r)<0&&Hq.call(e,r)&&(n[r]=e[r]);return n};const FR=S.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:o,arrowOffset:s,arrowRadius:a,visible:l,arrowX:u,arrowY:c}=n,f=fve(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=Wi();return l?M.createElement("div",cve(uve({},f),{ref:t,style:ove({withBorder:r,position:i,arrowSize:o,arrowOffset:s,arrowRadius:a,dir:d.dir,arrowX:u,arrowY:c})})):null});FR.displayName="@mantine/core/FloatingArrow";var dve=Object.defineProperty,hve=Object.defineProperties,pve=Object.getOwnPropertyDescriptors,Q1=Object.getOwnPropertySymbols,Wq=Object.prototype.hasOwnProperty,qq=Object.prototype.propertyIsEnumerable,W4=(e,t,n)=>t in e?dve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f_=(e,t)=>{for(var n in t||(t={}))Wq.call(t,n)&&W4(e,n,t[n]);if(Q1)for(var n of Q1(t))qq.call(t,n)&&W4(e,n,t[n]);return e},q4=(e,t)=>hve(e,pve(t)),mve=(e,t)=>{var n={};for(var r in e)Wq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Q1)for(var r of Q1(e))t.indexOf(r)<0&&qq.call(e,r)&&(n[r]=e[r]);return n};function Gq(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:o}=t,s=mve(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:l,unstyled:u,staticSelector:c}=Uv(),f=Mq(),{classes:d,cx:h}=Yye({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:l,unstyled:u}),p=YH({opened:f.opened,shouldReturnFocus:f.returnFocus}),g=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:M.createElement(Hv,{withinPortal:f.withinPortal},M.createElement(hx,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration},y=>{var m,v;return M.createElement(zq,{active:f.trapFocus},M.createElement(rt,f_(q4(f_({},g),{tabIndex:-1,ref:f.floating,style:q4(f_(f_({},n),y),{zIndex:f.zIndex,top:(m=f.y)!=null?m:0,left:(v=f.x)!=null?v:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:Ice(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:o}),"data-position":f.placement}),s),i,M.createElement(FR,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})))}))}Gq.displayName="@mantine/core/PopoverDropdown";function Kq(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var G4=Object.getOwnPropertySymbols,gve=Object.prototype.hasOwnProperty,yve=Object.prototype.propertyIsEnumerable,vve=(e,t)=>{var n={};for(var r in e)gve.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&G4)for(var r of G4(e))t.indexOf(r)<0&&yve.call(e,r)&&(n[r]=e[r]);return n};const _ve={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:us("popover"),__staticSelector:"Popover",width:"max-content"};function Cu(e){var t,n,r,i,o,s;const a=S.useRef(null),l=st("Popover",_ve,e),{children:u,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:g,transitionDuration:y,width:m,middlewares:v,withArrow:_,arrowSize:b,arrowOffset:E,arrowRadius:w,unstyled:x,classNames:I,styles:D,closeOnClickOutside:R,withinPortal:N,closeOnEscape:z,clickOutsideEvents:U,trapFocus:B,onClose:ae,onOpen:re,onChange:ue,zIndex:Q,radius:ee,shadow:W,id:P,defaultOpened:O,exitTransitionDuration:F,__staticSelector:$,withRoles:C,disabled:H,returnFocus:te}=l,ie=vve(l,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[le,se]=S.useState(null),[ye,ce]=S.useState(null),Ue=Iu(P),Fe=Wi(),Me=Bye({middlewares:v,width:m,position:Kq(Fe.dir,c),offset:f+(_?b/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:O,onChange:ue,onOpen:re,onClose:ae});Pde(()=>R&&Me.onClose(),U,[le,ye]);const Te=S.useCallback(Ne=>{se(Ne),Me.floating.reference(Ne)},[Me.floating.reference]),we=S.useCallback(Ne=>{ce(Ne),Me.floating.floating(Ne)},[Me.floating.floating]);return M.createElement(qH,{classNames:I,styles:D,unstyled:x,staticSelector:$},M.createElement(zye,{value:{returnFocus:te,disabled:H,controlled:Me.controlled,reference:Te,floating:we,x:Me.floating.x,y:Me.floating.y,arrowX:(r=(n=(t=Me.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(s=(o=(i=Me.floating)==null?void 0:i.middlewareData)==null?void 0:o.arrow)==null?void 0:s.y,opened:Me.opened,arrowRef:a,transition:g,transitionDuration:y,exitTransitionDuration:F,width:m,withArrow:_,arrowSize:b,arrowOffset:E,arrowRadius:w,placement:Me.floating.placement,trapFocus:B,withinPortal:N,zIndex:Q,radius:ee,shadow:W,closeOnEscape:z,onClose:Me.onClose,onToggle:Me.onToggle,getTargetId:()=>`${Ue}-target`,getDropdownId:()=>`${Ue}-dropdown`,withRoles:C,targetProps:ie}},u))}Cu.Target=Fq;Cu.Dropdown=Gq;Cu.displayName="@mantine/core/Popover";var wve=Object.defineProperty,X1=Object.getOwnPropertySymbols,Yq=Object.prototype.hasOwnProperty,Qq=Object.prototype.propertyIsEnumerable,K4=(e,t,n)=>t in e?wve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bve=(e,t)=>{for(var n in t||(t={}))Yq.call(t,n)&&K4(e,n,t[n]);if(X1)for(var n of X1(t))Qq.call(t,n)&&K4(e,n,t[n]);return e},Sve=(e,t)=>{var n={};for(var r in e)Yq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&X1)for(var r of X1(e))t.indexOf(r)<0&&Qq.call(e,r)&&(n[r]=e[r]);return n};function Eve(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:o="column",id:s,innerRef:a,__staticSelector:l,styles:u,classNames:c,unstyled:f}=t,d=Sve(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=aye(null,{name:l,styles:u,classNames:c,unstyled:f});return M.createElement(Cu.Dropdown,bve({p:0,onMouseDown:p=>p.preventDefault()},d),M.createElement("div",{style:{maxHeight:i,display:"flex"}},M.createElement(rt,{component:r||"div",id:`${s}-items`,"aria-labelledby":`${s}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==cx?"auto":void 0},"data-combobox-popover":!0,ref:a},M.createElement("div",{className:h.itemsWrapper,style:{flexDirection:o}},n))))}function Ec({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:o,__staticSelector:s,onDirectionChange:a,switchDirectionOnFlip:l,zIndex:u,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:g}){return M.createElement(Cu,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:u,__staticSelector:s,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:g,onPositionChange:y=>l&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},o)}Ec.Target=Cu.Target;Ec.Dropdown=Eve;var xve=Object.defineProperty,Pve=Object.defineProperties,Ive=Object.getOwnPropertyDescriptors,J1=Object.getOwnPropertySymbols,Xq=Object.prototype.hasOwnProperty,Jq=Object.prototype.propertyIsEnumerable,Y4=(e,t,n)=>t in e?xve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YI=(e,t)=>{for(var n in t||(t={}))Xq.call(t,n)&&Y4(e,n,t[n]);if(J1)for(var n of J1(t))Jq.call(t,n)&&Y4(e,n,t[n]);return e},Ove=(e,t)=>Pve(e,Ive(t)),Tve=(e,t)=>{var n={};for(var r in e)Xq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&J1)for(var r of J1(e))t.indexOf(r)<0&&Jq.call(e,r)&&(n[r]=e[r]);return n};function Zq(e,t,n){const r=st(e,t,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,wrapperProps:m,id:v,size:_,style:b,inputContainer:E,inputWrapperOrder:w,withAsterisk:x}=r,I=Tve(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),D=Iu(v),{systemStyles:R,rest:N}=Ad(I);return Ove(YI({},N),{classNames:l,styles:u,unstyled:f,wrapperProps:YI(YI({label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,unstyled:f,styles:u,id:D,size:_,style:b,inputContainer:E,inputWrapperOrder:w,withAsterisk:x},m),R),inputProps:{required:a,classNames:l,styles:u,unstyled:f,id:D,size:_,__staticSelector:d,invalid:!!s}})}var Cve=et((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const $ve=Cve;var kve=Object.defineProperty,Z1=Object.getOwnPropertySymbols,eG=Object.prototype.hasOwnProperty,tG=Object.prototype.propertyIsEnumerable,Q4=(e,t,n)=>t in e?kve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ave=(e,t)=>{for(var n in t||(t={}))eG.call(t,n)&&Q4(e,n,t[n]);if(Z1)for(var n of Z1(t))tG.call(t,n)&&Q4(e,n,t[n]);return e},Rve=(e,t)=>{var n={};for(var r in e)eG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Z1)for(var r of Z1(e))t.indexOf(r)<0&&tG.call(e,r)&&(n[r]=e[r]);return n};const VR=S.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:o,size:s="sm",classNames:a,styles:l,unstyled:u,className:c,htmlFor:f,__staticSelector:d}=n,h=Rve(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:g}=$ve({size:s},{name:["InputWrapper",d],classNames:a,styles:l,unstyled:u});return M.createElement(rt,Ave({component:r,ref:t,className:g(p.label,c),htmlFor:r==="label"?f:void 0},h),i,o&&M.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});VR.displayName="@mantine/core/InputLabel";var Nve=et((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const Dve=Nve;var Mve=Object.defineProperty,eb=Object.getOwnPropertySymbols,nG=Object.prototype.hasOwnProperty,rG=Object.prototype.propertyIsEnumerable,X4=(e,t,n)=>t in e?Mve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lve=(e,t)=>{for(var n in t||(t={}))nG.call(t,n)&&X4(e,n,t[n]);if(eb)for(var n of eb(t))rG.call(t,n)&&X4(e,n,t[n]);return e},jve=(e,t)=>{var n={};for(var r in e)nG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eb)for(var r of eb(e))t.indexOf(r)<0&&rG.call(e,r)&&(n[r]=e[r]);return n};const BR=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:o,styles:s,unstyled:a,size:l="sm",__staticSelector:u}=n,c=jve(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=Dve({size:l},{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a});return M.createElement(Et,Lve({className:d(f.error,i),ref:t,role:"alert"},c),r)});BR.displayName="@mantine/core/InputError";var Fve=et((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const Vve=Fve;var Bve=Object.defineProperty,tb=Object.getOwnPropertySymbols,iG=Object.prototype.hasOwnProperty,oG=Object.prototype.propertyIsEnumerable,J4=(e,t,n)=>t in e?Bve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zve=(e,t)=>{for(var n in t||(t={}))iG.call(t,n)&&J4(e,n,t[n]);if(tb)for(var n of tb(t))oG.call(t,n)&&J4(e,n,t[n]);return e},Uve=(e,t)=>{var n={};for(var r in e)iG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tb)for(var r of tb(e))t.indexOf(r)<0&&oG.call(e,r)&&(n[r]=e[r]);return n};const zR=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:o,styles:s,unstyled:a,size:l="sm",__staticSelector:u}=n,c=Uve(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=Vve({size:l},{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a});return M.createElement(Et,zve({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});zR.displayName="@mantine/core/InputDescription";const sG=S.createContext({offsetBottom:!1,offsetTop:!1}),Hve=sG.Provider,Wve=()=>S.useContext(sG);function qve(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e[r-1],o=e[r+1];return{offsetBottom:t&&o==="description"||n&&o==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var Gve=Object.defineProperty,Kve=Object.defineProperties,Yve=Object.getOwnPropertyDescriptors,Z4=Object.getOwnPropertySymbols,Qve=Object.prototype.hasOwnProperty,Xve=Object.prototype.propertyIsEnumerable,e6=(e,t,n)=>t in e?Gve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jve=(e,t)=>{for(var n in t||(t={}))Qve.call(t,n)&&e6(e,n,t[n]);if(Z4)for(var n of Z4(t))Xve.call(t,n)&&e6(e,n,t[n]);return e},Zve=(e,t)=>Kve(e,Yve(t)),e0e=et(e=>({root:Zve(Jve({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const t0e=e0e;var n0e=Object.defineProperty,r0e=Object.defineProperties,i0e=Object.getOwnPropertyDescriptors,nb=Object.getOwnPropertySymbols,aG=Object.prototype.hasOwnProperty,lG=Object.prototype.propertyIsEnumerable,t6=(e,t,n)=>t in e?n0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pf=(e,t)=>{for(var n in t||(t={}))aG.call(t,n)&&t6(e,n,t[n]);if(nb)for(var n of nb(t))lG.call(t,n)&&t6(e,n,t[n]);return e},n6=(e,t)=>r0e(e,i0e(t)),o0e=(e,t)=>{var n={};for(var r in e)aG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nb)for(var r of nb(e))t.indexOf(r)<0&&lG.call(e,r)&&(n[r]=e[r]);return n};const s0e={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},uG=S.forwardRef((e,t)=>{const n=st("InputWrapper",s0e,e),{className:r,label:i,children:o,required:s,id:a,error:l,description:u,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:g,size:y,inputContainer:m,__staticSelector:v,unstyled:_,inputWrapperOrder:b,withAsterisk:E}=n,w=o0e(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:x,cx:I}=t0e(null,{classNames:p,styles:g,name:["InputWrapper",v],unstyled:_}),D={classNames:p,styles:g,unstyled:_,size:y,__staticSelector:v},R=typeof E=="boolean"?E:s,N=i&&M.createElement(VR,pf(pf({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:R},D),f),i),z=u&&M.createElement(zR,n6(pf(pf({key:"description"},d),D),{size:(d==null?void 0:d.size)||D.size}),u),U=M.createElement(S.Fragment,{key:"input"},m(o)),B=typeof l!="boolean"&&l&&M.createElement(BR,n6(pf(pf({},h),D),{size:(h==null?void 0:h.size)||D.size,key:"error"}),l),ae=b.map(re=>{switch(re){case"label":return N;case"input":return U;case"description":return z;case"error":return B;default:return null}});return M.createElement(Hve,{value:qve(b,{hasDescription:!!z,hasError:!!B})},M.createElement(rt,pf({className:I(x.root,r),ref:t},w),ae))});uG.displayName="@mantine/core/InputWrapper";var a0e=Object.defineProperty,l0e=Object.defineProperties,u0e=Object.getOwnPropertyDescriptors,r6=Object.getOwnPropertySymbols,c0e=Object.prototype.hasOwnProperty,f0e=Object.prototype.propertyIsEnumerable,i6=(e,t,n)=>t in e?a0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QI=(e,t)=>{for(var n in t||(t={}))c0e.call(t,n)&&i6(e,n,t[n]);if(r6)for(var n of r6(t))f0e.call(t,n)&&i6(e,n,t[n]);return e},o6=(e,t)=>l0e(e,u0e(t));const mo={xs:30,sm:36,md:42,lg:50,xl:60};function d0e({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var h0e=et((e,{size:t,multiline:n,radius:r,variant:i,invalid:o,rightSectionWidth:s,withRightSection:a,iconWidth:l,offsetBottom:u,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:mo}),paddingLeft:e.fn.size({size:t,sizes:mo})/3,paddingRight:a?s:e.fn.size({size:t,sizes:mo})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:u?`calc(${e.spacing.xs}px / 2)`:void 0},input:QI(o6(QI(o6(QI({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:mo}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:mo})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),d0e({theme:e,variant:i})),withIcon:{paddingLeft:typeof l=="number"?l:e.fn.size({size:t,sizes:mo})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof l=="number"?l:e.fn.size({size:t,sizes:mo}),color:o?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:s}}});const p0e=h0e;var m0e=Object.defineProperty,g0e=Object.defineProperties,y0e=Object.getOwnPropertyDescriptors,rb=Object.getOwnPropertySymbols,cG=Object.prototype.hasOwnProperty,fG=Object.prototype.propertyIsEnumerable,s6=(e,t,n)=>t in e?m0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d_=(e,t)=>{for(var n in t||(t={}))cG.call(t,n)&&s6(e,n,t[n]);if(rb)for(var n of rb(t))fG.call(t,n)&&s6(e,n,t[n]);return e},a6=(e,t)=>g0e(e,y0e(t)),v0e=(e,t)=>{var n={};for(var r in e)cG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rb)for(var r of rb(e))t.indexOf(r)<0&&fG.call(e,r)&&(n[r]=e[r]);return n};const _0e={rightSectionWidth:36,size:"sm",variant:"default"},lm=S.forwardRef((e,t)=>{const n=st("Input",_0e,e),{className:r,invalid:i,required:o,disabled:s,variant:a,icon:l,style:u,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:g,wrapperProps:y,classNames:m,styles:v,__staticSelector:_,multiline:b,sx:E,unstyled:w,pointer:x}=n,I=v0e(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:D,offsetTop:R}=Wve(),{classes:N,cx:z}=p0e({radius:p,size:g,multiline:b,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:D,offsetTop:R,pointer:x},{classNames:m,styles:v,name:["Input",_],unstyled:w}),{systemStyles:U,rest:B}=Ad(I);return M.createElement(rt,d_(d_({className:z(N.wrapper,r),sx:E,style:u},U),y),l&&M.createElement("div",{className:N.icon},l),M.createElement(rt,a6(d_({component:"input"},B),{ref:t,required:o,"aria-invalid":i,disabled:s,className:z(N[`${a}Variant`],N.input,{[N.withIcon]:l,[N.invalid]:i,[N.disabled]:s})})),d&&M.createElement("div",a6(d_({},h),{className:N.rightSection}),d))});lm.displayName="@mantine/core/Input";lm.Wrapper=uG;lm.Label=VR;lm.Description=zR;lm.Error=BR;const Xo=lm;var w0e=Object.defineProperty,b0e=Object.defineProperties,S0e=Object.getOwnPropertyDescriptors,l6=Object.getOwnPropertySymbols,E0e=Object.prototype.hasOwnProperty,x0e=Object.prototype.propertyIsEnumerable,u6=(e,t,n)=>t in e?w0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XI=(e,t)=>{for(var n in t||(t={}))E0e.call(t,n)&&u6(e,n,t[n]);if(l6)for(var n of l6(t))x0e.call(t,n)&&u6(e,n,t[n]);return e},P0e=(e,t)=>b0e(e,S0e(t));const JI={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},I0e={xs:4,sm:4,md:6,lg:8,xl:10};function O0e({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const s=e.fn.size({size:r,sizes:I0e});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-s/2,"&::before":{content:'""',display:"block",width:s,height:s,borderRadius:s,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:s}}}const o=e.fn.variant({color:n,variant:t,gradient:i});return{background:o.background,color:o.color,border:`${t==="gradient"?0:1}px solid ${o.border}`}}var T0e=et((e,{color:t,size:n,radius:r,gradient:i,fullWidth:o,variant:s})=>{const{fontSize:a,height:l}=n in JI?JI[n]:JI.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:XI(P0e(XI(XI({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:l,WebkitTapHighlightColor:"transparent",lineHeight:`${l-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:o?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:o?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),O0e({theme:e,variant:s,color:t,size:n,gradient:i}))}});const C0e=T0e;var $0e=Object.defineProperty,ib=Object.getOwnPropertySymbols,dG=Object.prototype.hasOwnProperty,hG=Object.prototype.propertyIsEnumerable,c6=(e,t,n)=>t in e?$0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k0e=(e,t)=>{for(var n in t||(t={}))dG.call(t,n)&&c6(e,n,t[n]);if(ib)for(var n of ib(t))hG.call(t,n)&&c6(e,n,t[n]);return e},A0e=(e,t)=>{var n={};for(var r in e)dG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ib)for(var r of ib(e))t.indexOf(r)<0&&hG.call(e,r)&&(n[r]=e[r]);return n};const R0e={variant:"light",size:"md",radius:"xl"},pG=S.forwardRef((e,t)=>{const n=st("Badge",R0e,e),{className:r,color:i,variant:o,fullWidth:s,children:a,size:l,leftSection:u,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:g}=n,y=A0e(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:v}=C0e({size:l,fullWidth:s,color:i,radius:f,variant:o,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:g});return M.createElement(rt,k0e({className:v(m.root,r),ref:t},y),u&&M.createElement("span",{className:m.leftSection},u),M.createElement("span",{className:m.inner},a),c&&M.createElement("span",{className:m.rightSection},c))});pG.displayName="@mantine/core/Badge";const N0e=pG;var D0e=et((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const M0e=D0e;var L0e=Object.defineProperty,ob=Object.getOwnPropertySymbols,mG=Object.prototype.hasOwnProperty,gG=Object.prototype.propertyIsEnumerable,f6=(e,t,n)=>t in e?L0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j0e=(e,t)=>{for(var n in t||(t={}))mG.call(t,n)&&f6(e,n,t[n]);if(ob)for(var n of ob(t))gG.call(t,n)&&f6(e,n,t[n]);return e},F0e=(e,t)=>{var n={};for(var r in e)mG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ob)for(var r of ob(e))t.indexOf(r)<0&&gG.call(e,r)&&(n[r]=e[r]);return n};const V0e={orientation:"horizontal",buttonBorderWidth:1},yG=S.forwardRef((e,t)=>{const n=st("ButtonGroup",V0e,e),{className:r,orientation:i,buttonBorderWidth:o,unstyled:s}=n,a=F0e(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:l,cx:u}=M0e({orientation:i,buttonBorderWidth:o},{name:"ButtonGroup",unstyled:s});return M.createElement(rt,j0e({className:u(l.root,r),ref:t},a))});yG.displayName="@mantine/core/ButtonGroup";var B0e=Object.defineProperty,z0e=Object.defineProperties,U0e=Object.getOwnPropertyDescriptors,d6=Object.getOwnPropertySymbols,H0e=Object.prototype.hasOwnProperty,W0e=Object.prototype.propertyIsEnumerable,h6=(e,t,n)=>t in e?B0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Of=(e,t)=>{for(var n in t||(t={}))H0e.call(t,n)&&h6(e,n,t[n]);if(d6)for(var n of d6(t))W0e.call(t,n)&&h6(e,n,t[n]);return e},e$=(e,t)=>z0e(e,U0e(t));const t$={xs:{height:mo.xs,paddingLeft:14,paddingRight:14},sm:{height:mo.sm,paddingLeft:18,paddingRight:18},md:{height:mo.md,paddingLeft:22,paddingRight:22},lg:{height:mo.lg,paddingLeft:26,paddingRight:26},xl:{height:mo.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function q0e({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return t$[`compact-${t}`];const i=t$[t];return e$(Of({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const G0e=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function K0e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Of({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var Y0e=et((e,{color:t,size:n,radius:r,fullWidth:i,compact:o,gradient:s,variant:a,withLeftIcon:l,withRightIcon:u})=>({root:e$(Of(e$(Of(Of(Of(Of({},q0e({compact:o,size:n,withLeftIcon:l,withRightIcon:u})),e.fn.fontStyles()),e.fn.focusStyles()),G0e(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),K0e({variant:a,theme:e,color:t,gradient:s})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const Q0e=Y0e;var X0e=Object.defineProperty,sb=Object.getOwnPropertySymbols,vG=Object.prototype.hasOwnProperty,_G=Object.prototype.propertyIsEnumerable,p6=(e,t,n)=>t in e?X0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m6=(e,t)=>{for(var n in t||(t={}))vG.call(t,n)&&p6(e,n,t[n]);if(sb)for(var n of sb(t))_G.call(t,n)&&p6(e,n,t[n]);return e},J0e=(e,t)=>{var n={};for(var r in e)vG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sb)for(var r of sb(e))t.indexOf(r)<0&&_G.call(e,r)&&(n[r]=e[r]);return n};const Z0e={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},UR=S.forwardRef((e,t)=>{const n=st("Button",Z0e,e),{className:r,size:i,color:o,type:s,disabled:a,children:l,leftIcon:u,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:g,loading:y,loaderPosition:m,loaderProps:v,gradient:_,classNames:b,styles:E,unstyled:w}=n,x=J0e(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:I,cx:D,theme:R}=Q0e({radius:h,color:o,size:i,fullWidth:f,compact:g,gradient:_,variant:d,withLeftIcon:!!u,withRightIcon:!!c},{name:"Button",unstyled:w,classNames:b,styles:E}),N=R.fn.variant({color:o,variant:d}),z=M.createElement(Rd,m6({color:N.color,size:R.fn.size({size:i,sizes:t$}).height/2},v));return M.createElement(PR,m6({className:D(I.root,r),type:s,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:w},x),M.createElement("div",{className:I.inner},(u||y&&m==="left")&&M.createElement("span",{className:D(I.icon,I.leftIcon)},y&&m==="left"?z:u),y&&m==="center"&&M.createElement("span",{className:I.centerLoader},z),M.createElement("span",{className:I.label,style:{textTransform:p?"uppercase":void 0}},l),(c||y&&m==="right")&&M.createElement("span",{className:D(I.icon,I.rightIcon)},y&&m==="right"?z:c)))});UR.displayName="@mantine/core/Button";UR.Group=yG;const fa=UR;var e_e=et((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const t_e=e_e;var n_e=Object.defineProperty,ab=Object.getOwnPropertySymbols,wG=Object.prototype.hasOwnProperty,bG=Object.prototype.propertyIsEnumerable,g6=(e,t,n)=>t in e?n_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r_e=(e,t)=>{for(var n in t||(t={}))wG.call(t,n)&&g6(e,n,t[n]);if(ab)for(var n of ab(t))bG.call(t,n)&&g6(e,n,t[n]);return e},i_e=(e,t)=>{var n={};for(var r in e)wG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ab)for(var r of ab(e))t.indexOf(r)<0&&bG.call(e,r)&&(n[r]=e[r]);return n};const o_e={},SG=S.forwardRef((e,t)=>{const n=st("Paper",o_e,e),{className:r,children:i,radius:o,withBorder:s,shadow:a,unstyled:l}=n,u=i_e(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=t_e({radius:o,shadow:a,withBorder:s},{name:"Paper",unstyled:l});return M.createElement(rt,r_e({className:f(c.root,r),ref:t},u),i)});SG.displayName="@mantine/core/Paper";const Zg=SG,EG=S.createContext({padding:0}),s_e=EG.Provider,a_e=()=>S.useContext(EG).padding;var l_e=et((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),o=-1*i,s=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:o,marginRight:o,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${s}`,borderBottom:n&&`1px solid ${s}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:o,borderTop:0,borderBottom:n&&`1px solid ${s}`},"&[data-last]":{marginBottom:o,borderBottom:0}}}});const u_e=l_e;var c_e=Object.defineProperty,lb=Object.getOwnPropertySymbols,xG=Object.prototype.hasOwnProperty,PG=Object.prototype.propertyIsEnumerable,y6=(e,t,n)=>t in e?c_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f_e=(e,t)=>{for(var n in t||(t={}))xG.call(t,n)&&y6(e,n,t[n]);if(lb)for(var n of lb(t))PG.call(t,n)&&y6(e,n,t[n]);return e},d_e=(e,t)=>{var n={};for(var r in e)xG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lb)for(var r of lb(e))t.indexOf(r)<0&&PG.call(e,r)&&(n[r]=e[r]);return n};const IG=S.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:o=!1,unstyled:s}=n,a=d_e(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:l,cx:u}=u_e({padding:a_e(),withBorder:i,inheritPadding:o},{name:"Card",unstyled:s});return M.createElement(rt,f_e({className:u(l.cardSection,r),ref:t},a))});IG.displayName="@mantine/core/CardSection";const OG=IG;var h_e=et(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const p_e=h_e;var m_e=Object.defineProperty,ub=Object.getOwnPropertySymbols,TG=Object.prototype.hasOwnProperty,CG=Object.prototype.propertyIsEnumerable,v6=(e,t,n)=>t in e?m_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g_e=(e,t)=>{for(var n in t||(t={}))TG.call(t,n)&&v6(e,n,t[n]);if(ub)for(var n of ub(t))CG.call(t,n)&&v6(e,n,t[n]);return e},y_e=(e,t)=>{var n={};for(var r in e)TG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ub)for(var r of ub(e))t.indexOf(r)<0&&CG.call(e,r)&&(n[r]=e[r]);return n};const v_e={p:"md"},HR=S.forwardRef((e,t)=>{const n=st("Card",v_e,e),{className:r,p:i,radius:o,children:s,unstyled:a}=n,l=y_e(n,["className","p","radius","children","unstyled"]),{classes:u,cx:c}=p_e(null,{name:"Card",unstyled:a}),f=S.Children.toArray(s),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===OG?S.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return M.createElement(s_e,{value:{padding:i}},M.createElement(Zg,g_e({className:c(u.root,r),radius:o,p:i,ref:t},l),d))});HR.Section=OG;HR.displayName="@mantine/core/Card";const __e=HR;var w_e=Object.defineProperty,cb=Object.getOwnPropertySymbols,$G=Object.prototype.hasOwnProperty,kG=Object.prototype.propertyIsEnumerable,_6=(e,t,n)=>t in e?w_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b_e=(e,t)=>{for(var n in t||(t={}))$G.call(t,n)&&_6(e,n,t[n]);if(cb)for(var n of cb(t))kG.call(t,n)&&_6(e,n,t[n]);return e},S_e=(e,t)=>{var n={};for(var r in e)$G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cb)for(var r of cb(e))t.indexOf(r)<0&&kG.call(e,r)&&(n[r]=e[r]);return n};const AG=S.forwardRef((e,t)=>{const n=st("Center",{},e),{inline:r,sx:i}=n,o=S_e(n,["inline","sx"]);return M.createElement(rt,b_e({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...cd(i)]},o))});AG.displayName="@mantine/core/Center";const fd=AG,RG=S.createContext(null),E_e=RG.Provider,x_e=()=>S.useContext(RG);function P_e(e){return S.Children.toArray(e).filter(Boolean)}const I_e={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var O_e=et((e,{spacing:t,position:n,noWrap:r,grow:i,align:o,count:s})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:o||"center",flexWrap:r?"nowrap":"wrap",justifyContent:I_e[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/s}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/s}px)`:void 0,flexGrow:i?1:0}}}));const T_e=O_e;var C_e=Object.defineProperty,fb=Object.getOwnPropertySymbols,NG=Object.prototype.hasOwnProperty,DG=Object.prototype.propertyIsEnumerable,w6=(e,t,n)=>t in e?C_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$_e=(e,t)=>{for(var n in t||(t={}))NG.call(t,n)&&w6(e,n,t[n]);if(fb)for(var n of fb(t))DG.call(t,n)&&w6(e,n,t[n]);return e},k_e=(e,t)=>{var n={};for(var r in e)NG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fb)for(var r of fb(e))t.indexOf(r)<0&&DG.call(e,r)&&(n[r]=e[r]);return n};const A_e={position:"left",spacing:"md"},es=S.forwardRef((e,t)=>{const n=st("Group",A_e,e),{className:r,position:i,align:o,children:s,noWrap:a,grow:l,spacing:u,unstyled:c}=n,f=k_e(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=P_e(s),{classes:h,cx:p}=T_e({align:o,grow:l,noWrap:a,spacing:u,position:i,count:d.length},{unstyled:c,name:"Group"});return M.createElement(rt,$_e({className:p(h.root,r),ref:t},f),d)});es.displayName="@mantine/core/Group";var R_e=et((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const N_e=R_e;var D_e=Object.defineProperty,db=Object.getOwnPropertySymbols,MG=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,b6=(e,t,n)=>t in e?D_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M_e=(e,t)=>{for(var n in t||(t={}))MG.call(t,n)&&b6(e,n,t[n]);if(db)for(var n of db(t))LG.call(t,n)&&b6(e,n,t[n]);return e},L_e=(e,t)=>{var n={};for(var r in e)MG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&db)for(var r of db(e))t.indexOf(r)<0&&LG.call(e,r)&&(n[r]=e[r]);return n};const j_e={spacing:"md",align:"stretch",justify:"top"},Ts=S.forwardRef((e,t)=>{const n=st("Stack",j_e,e),{spacing:r,className:i,align:o,justify:s,unstyled:a}=n,l=L_e(n,["spacing","className","align","justify","unstyled"]),{classes:u,cx:c}=N_e({spacing:r,align:o,justify:s},{name:"Stack",unstyled:a});return M.createElement(rt,M_e({className:c(u.root,i),ref:t},l))});Ts.displayName="@mantine/core/Stack";function jG({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:o}){return n==="horizontal"?M.createElement(es,{pt:t,spacing:e,role:i,unstyled:o},r):M.createElement(Ts,{pt:t,spacing:e,role:i,unstyled:o},r)}var F_e=Object.defineProperty,hb=Object.getOwnPropertySymbols,FG=Object.prototype.hasOwnProperty,VG=Object.prototype.propertyIsEnumerable,S6=(e,t,n)=>t in e?F_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E6=(e,t)=>{for(var n in t||(t={}))FG.call(t,n)&&S6(e,n,t[n]);if(hb)for(var n of hb(t))VG.call(t,n)&&S6(e,n,t[n]);return e},V_e=(e,t)=>{var n={};for(var r in e)FG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hb)for(var r of hb(e))t.indexOf(r)<0&&VG.call(e,r)&&(n[r]=e[r]);return n};const B_e={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},BG=S.forwardRef((e,t)=>{const n=st("CheckboxGroup",B_e,e),{children:r,value:i,defaultValue:o,onChange:s,orientation:a,spacing:l,size:u,wrapperProps:c,offset:f}=n,d=V_e(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=ga({value:i,defaultValue:o,finalValue:[],onChange:s}),g=y=>{const m=y.currentTarget.value;p(h.includes(m)?h.filter(v=>v!==m):[...h,m])};return M.createElement(E_e,{value:{value:h,onChange:g,size:u}},M.createElement(Xo.Wrapper,E6(E6({labelElement:"div",size:u,__staticSelector:"CheckboxGroup",ref:t},c),d),M.createElement(jG,{spacing:l,orientation:a,offset:f},r)))});BG.displayName="@mantine/core/CheckboxGroup";var z_e=Object.defineProperty,pb=Object.getOwnPropertySymbols,zG=Object.prototype.hasOwnProperty,UG=Object.prototype.propertyIsEnumerable,x6=(e,t,n)=>t in e?z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n$=(e,t)=>{for(var n in t||(t={}))zG.call(t,n)&&x6(e,n,t[n]);if(pb)for(var n of pb(t))UG.call(t,n)&&x6(e,n,t[n]);return e},U_e=(e,t)=>{var n={};for(var r in e)zG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pb)for(var r of pb(e))t.indexOf(r)<0&&UG.call(e,r)&&(n[r]=e[r]);return n};function H_e(e){return M.createElement("svg",n$({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function W_e(e){var t=e,{indeterminate:n}=t,r=U_e(t,["indeterminate"]);return n?M.createElement("svg",n$({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),M.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):M.createElement(H_e,n$({},r))}var q_e=Object.defineProperty,G_e=Object.defineProperties,K_e=Object.getOwnPropertyDescriptors,P6=Object.getOwnPropertySymbols,Y_e=Object.prototype.hasOwnProperty,Q_e=Object.prototype.propertyIsEnumerable,I6=(e,t,n)=>t in e?q_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X_e=(e,t)=>{for(var n in t||(t={}))Y_e.call(t,n)&&I6(e,n,t[n]);if(P6)for(var n of P6(t))Q_e.call(t,n)&&I6(e,n,t[n]);return e},J_e=(e,t)=>G_e(e,K_e(t));const Z_e={xs:16,sm:20,md:24,lg:30,xl:36},ewe={xs:8,sm:10,md:14,lg:16,xl:20};var twe=et((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:o,error:s,indeterminate:a},l)=>{const u=e.fn.size({size:t,sizes:Z_e}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:l("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:ewe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:u,height:u,order:o==="left"?2:1},input:J_e(X_e({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:u,height:u,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${l("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${l("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const nwe=twe;var rwe=Object.defineProperty,iwe=Object.defineProperties,owe=Object.getOwnPropertyDescriptors,O6=Object.getOwnPropertySymbols,swe=Object.prototype.hasOwnProperty,awe=Object.prototype.propertyIsEnumerable,T6=(e,t,n)=>t in e?rwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lwe=(e,t)=>{for(var n in t||(t={}))swe.call(t,n)&&T6(e,n,t[n]);if(O6)for(var n of O6(t))awe.call(t,n)&&T6(e,n,t[n]);return e},uwe=(e,t)=>iwe(e,owe(t));const cwe={xs:16,sm:20,md:24,lg:30,xl:36};var fwe=et((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:uwe(lwe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:cwe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const dwe=fwe;var hwe=Object.defineProperty,mb=Object.getOwnPropertySymbols,HG=Object.prototype.hasOwnProperty,WG=Object.prototype.propertyIsEnumerable,C6=(e,t,n)=>t in e?hwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pwe=(e,t)=>{for(var n in t||(t={}))HG.call(t,n)&&C6(e,n,t[n]);if(mb)for(var n of mb(t))WG.call(t,n)&&C6(e,n,t[n]);return e},mwe=(e,t)=>{var n={};for(var r in e)HG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mb)for(var r of mb(e))t.indexOf(r)<0&&WG.call(e,r)&&(n[r]=e[r]);return n};function WR(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:o,unstyled:s,children:a,label:l,description:u,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,g=mwe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:m}=dwe({size:h,labelPosition:p},{name:n,styles:o,classNames:i,unstyled:s});return M.createElement(rt,pwe({className:m(y.root,r)},g),M.createElement("div",{className:m(y.body)},a,M.createElement("div",{className:y.labelWrapper},l&&M.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},l),u&&M.createElement(Xo.Description,{className:y.description},u),d&&d!=="boolean"&&M.createElement(Xo.Error,{className:y.error},d))))}WR.displayName="@mantine/core/InlineInput";var gwe=Object.defineProperty,gb=Object.getOwnPropertySymbols,qG=Object.prototype.hasOwnProperty,GG=Object.prototype.propertyIsEnumerable,$6=(e,t,n)=>t in e?gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h_=(e,t)=>{for(var n in t||(t={}))qG.call(t,n)&&$6(e,n,t[n]);if(gb)for(var n of gb(t))GG.call(t,n)&&$6(e,n,t[n]);return e},ywe=(e,t)=>{var n={};for(var r in e)qG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gb)for(var r of gb(e))t.indexOf(r)<0&&GG.call(e,r)&&(n[r]=e[r]);return n};const vwe={size:"sm",transitionDuration:100,icon:W_e,labelPosition:"right"},yb=S.forwardRef((e,t)=>{const n=st("Checkbox",vwe,e),{className:r,style:i,sx:o,checked:s,disabled:a,color:l,label:u,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:g,classNames:y,styles:m,transitionDuration:v,icon:_,unstyled:b,labelPosition:E,description:w,error:x}=n,I=ywe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),D=x_e(),R=Iu(f),{systemStyles:N,rest:z}=Ad(I),{classes:U}=nwe({size:(D==null?void 0:D.size)||d,radius:h,color:l,transitionDuration:v,labelPosition:E,error:!!x,indeterminate:c},{name:"Checkbox",classNames:y,styles:m,unstyled:b}),B=D?{checked:D.value.includes(z.value),onChange:D.onChange}:{};return M.createElement(WR,h_(h_({className:r,sx:o,style:i,id:R,size:(D==null?void 0:D.size)||d,labelPosition:E,label:u,description:w,error:x,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:m,unstyled:b,"data-checked":B.checked||void 0},N),p),M.createElement("div",{className:U.inner},M.createElement("input",h_(h_({id:R,ref:t,type:"checkbox",className:U.input,checked:s,disabled:a},z),B)),M.createElement(_,{indeterminate:c,className:U.icon})))});yb.displayName="@mantine/core/Checkbox";yb.Group=BG;var _we=et((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const wwe=_we;var bwe=Object.defineProperty,vb=Object.getOwnPropertySymbols,KG=Object.prototype.hasOwnProperty,YG=Object.prototype.propertyIsEnumerable,k6=(e,t,n)=>t in e?bwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Swe=(e,t)=>{for(var n in t||(t={}))KG.call(t,n)&&k6(e,n,t[n]);if(vb)for(var n of vb(t))YG.call(t,n)&&k6(e,n,t[n]);return e},Ewe=(e,t)=>{var n={};for(var r in e)KG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vb)for(var r of vb(e))t.indexOf(r)<0&&YG.call(e,r)&&(n[r]=e[r]);return n};const xwe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},QG=S.forwardRef((e,t)=>{const n=st("Container",xwe,e),{className:r,fluid:i,size:o,unstyled:s,sizes:a}=n,l=Ewe(n,["className","fluid","size","unstyled","sizes"]),{classes:u,cx:c}=wwe({fluid:i,size:o,sizes:a},{unstyled:s,name:"Container"});return M.createElement(rt,Swe({className:c(u.root,r),ref:t},l))});QG.displayName="@mantine/core/Container";function XG({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:o,onExit:s,onEntered:a,onEnter:l,onExited:u}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=Bq({mounted:r,duration:t,exitDuration:n,timingFunction:o,onExit:s,onEntered:a,onEnter:l,onExited:u});if(c===0)return r?M.createElement(M.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,g)=>(p[g]=Vq({duration:e[g].duration,transition:e[g].transition,timingFunction:e[g].timingFunction||d,state:f}),p),{});return M.createElement(M.Fragment,null,i(h))}XG.displayName="@mantine/core/GroupedTransition";var Pwe=et((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const Iwe=Pwe;var Owe=Object.defineProperty,Twe=Object.defineProperties,Cwe=Object.getOwnPropertyDescriptors,_b=Object.getOwnPropertySymbols,JG=Object.prototype.hasOwnProperty,ZG=Object.prototype.propertyIsEnumerable,A6=(e,t,n)=>t in e?Owe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZI=(e,t)=>{for(var n in t||(t={}))JG.call(t,n)&&A6(e,n,t[n]);if(_b)for(var n of _b(t))ZG.call(t,n)&&A6(e,n,t[n]);return e},$we=(e,t)=>Twe(e,Cwe(t)),kwe=(e,t)=>{var n={};for(var r in e)JG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_b)for(var r of _b(e))t.indexOf(r)<0&&ZG.call(e,r)&&(n[r]=e[r]);return n};const Awe={opacity:.6,color:"#fff",zIndex:us("modal"),radius:0,blur:0},eK=S.forwardRef((e,t)=>{const n=st("Overlay",Awe,e),{opacity:r,blur:i,color:o,gradient:s,zIndex:a,radius:l,sx:u,unstyled:c,className:f}=n,d=kwe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=Iwe({zIndex:a},{name:"Overlay",unstyled:c}),g=s?{backgroundImage:s}:{backgroundColor:o},y=m=>M.createElement(rt,ZI({ref:t,className:p(h.root,f),sx:[v=>$we(ZI({},g),{opacity:r,borderRadius:v.fn.size({size:l,sizes:v.radius})}),...cd(u)]},m));return i?M.createElement(rt,ZI({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...cd(u)]},d),y()):y(d)});eK.displayName="@mantine/core/Overlay";const Rwe=eK,Nwe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var Dwe=Object.defineProperty,Mwe=Object.defineProperties,Lwe=Object.getOwnPropertyDescriptors,wb=Object.getOwnPropertySymbols,tK=Object.prototype.hasOwnProperty,nK=Object.prototype.propertyIsEnumerable,R6=(e,t,n)=>t in e?Dwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jwe=(e,t)=>{for(var n in t||(t={}))tK.call(t,n)&&R6(e,n,t[n]);if(wb)for(var n of wb(t))nK.call(t,n)&&R6(e,n,t[n]);return e},Fwe=(e,t)=>Mwe(e,Lwe(t)),Vwe=(e,t)=>{var n={};for(var r in e)tK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wb)for(var r of wb(e))t.indexOf(r)<0&&nK.call(e,r)&&(n[r]=e[r]);return n};const Bwe={},Sp=S.forwardRef((e,t)=>{const n=st("Flex",Bwe,e),{gap:r,rowGap:i,columnGap:o,align:s,justify:a,wrap:l,direction:u,sx:c}=n,f=Vwe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return M.createElement(rt,Fwe(jwe({},f),{sx:[{display:"flex"},d=>qC({gap:r,rowGap:i,columnGap:o,align:s,justify:a,wrap:l,direction:u},d,Nwe),...cd(c)],ref:t}))});Sp.displayName="@mantine/core/Flex";const rK=S.createContext(null),zwe=rK.Provider,Uwe=()=>S.useContext(rK);var Hwe=Object.defineProperty,N6=Object.getOwnPropertySymbols,Wwe=Object.prototype.hasOwnProperty,qwe=Object.prototype.propertyIsEnumerable,D6=(e,t,n)=>t in e?Hwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gwe=(e,t)=>{for(var n in t||(t={}))Wwe.call(t,n)&&D6(e,n,t[n]);if(N6)for(var n of N6(t))qwe.call(t,n)&&D6(e,n,t[n]);return e};const qR=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,iK=(e,t,n)=>n||e==="auto"||e==="content"?"unset":qR(e,t),oK=(e,t)=>{if(e)return e==="auto"||t?1:0},sK=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function Kwe({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:o}){return rfe.reduce((s,a)=>(s[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:qR(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:iK(e[a],i,o),marginLeft:sK(t[a],i),flexGrow:oK(e[a],o)},s),{})}var Ywe=et((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:o,offsetMd:s,offsetLg:a,offsetXl:l,columns:u,span:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:b,orderXl:E})=>({root:Gwe({boxSizing:"border-box",flexGrow:oK(c,n),order:y,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:sK(r,u),flexBasis:qR(c,u),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:iK(c,u,n)},Kwe({sizes:{xs:f,sm:d,md:h,lg:p,xl:g},offsets:{xs:i,sm:o,md:s,lg:a,xl:l},orders:{xs:m,sm:v,md:_,lg:b,xl:E},theme:e,columns:u,grow:n}))}));const Qwe=Ywe;var Xwe=Object.defineProperty,bb=Object.getOwnPropertySymbols,aK=Object.prototype.hasOwnProperty,lK=Object.prototype.propertyIsEnumerable,M6=(e,t,n)=>t in e?Xwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jwe=(e,t)=>{for(var n in t||(t={}))aK.call(t,n)&&M6(e,n,t[n]);if(bb)for(var n of bb(t))lK.call(t,n)&&M6(e,n,t[n]);return e},Zwe=(e,t)=>{var n={};for(var r in e)aK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bb)for(var r of bb(e))t.indexOf(r)<0&&lK.call(e,r)&&(n[r]=e[r]);return n};const e1e={};function t1e(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const uK=S.forwardRef((e,t)=>{const n=st("Grid.Col",e1e,e),{children:r,span:i,offset:o,offsetXs:s,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:b,orderXl:E,className:w,id:x,unstyled:I}=n,D=Zwe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),R=Uwe();if(!R)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const N=i||R.columns,{classes:z,cx:U}=Qwe({gutter:R.gutter,offset:o,offsetXs:s,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:v,orderMd:_,orderLg:b,orderXl:E,grow:R.grow,columns:R.columns,span:N},{unstyled:I,name:"Col"});return!t1e(N)||N>R.columns?null:M.createElement(rt,Jwe({className:U(z.root,w),ref:t},D),r)});uK.displayName="@mantine/core/Col";var n1e=et((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const r1e=n1e;var i1e=Object.defineProperty,Sb=Object.getOwnPropertySymbols,cK=Object.prototype.hasOwnProperty,fK=Object.prototype.propertyIsEnumerable,L6=(e,t,n)=>t in e?i1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o1e=(e,t)=>{for(var n in t||(t={}))cK.call(t,n)&&L6(e,n,t[n]);if(Sb)for(var n of Sb(t))fK.call(t,n)&&L6(e,n,t[n]);return e},s1e=(e,t)=>{var n={};for(var r in e)cK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Sb)for(var r of Sb(e))t.indexOf(r)<0&&fK.call(e,r)&&(n[r]=e[r]);return n};const a1e={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Bl=S.forwardRef((e,t)=>{const n=st("Grid",a1e,e),{gutter:r,children:i,grow:o,justify:s,align:a,columns:l,className:u,id:c,unstyled:f}=n,d=s1e(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=r1e({gutter:r,justify:s,align:a},{unstyled:f,name:"Grid"});return M.createElement(zwe,{value:{gutter:r,grow:o,columns:l}},M.createElement(rt,o1e({className:p(h.root,u),ref:t},d),i))});Bl.Col=uK;Bl.displayName="@mantine/core/Grid";function l1e({open:e,close:t,openDelay:n,closeDelay:r}){const i=S.useRef(-1),o=S.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0?e():i.current=window.setTimeout(e,n)},l=()=>{s(),r===0?t():o.current=window.setTimeout(t,r)};return S.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}var u1e=Object.defineProperty,j6=Object.getOwnPropertySymbols,c1e=Object.prototype.hasOwnProperty,f1e=Object.prototype.propertyIsEnumerable,F6=(e,t,n)=>t in e?u1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d1e=(e,t)=>{for(var n in t||(t={}))c1e.call(t,n)&&F6(e,n,t[n]);if(j6)for(var n of j6(t))f1e.call(t,n)&&F6(e,n,t[n]);return e};function h1e(e){return M.createElement("svg",d1e({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var p1e=Object.defineProperty,m1e=Object.defineProperties,g1e=Object.getOwnPropertyDescriptors,V6=Object.getOwnPropertySymbols,y1e=Object.prototype.hasOwnProperty,v1e=Object.prototype.propertyIsEnumerable,B6=(e,t,n)=>t in e?p1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z6=(e,t)=>{for(var n in t||(t={}))y1e.call(t,n)&&B6(e,n,t[n]);if(V6)for(var n of V6(t))v1e.call(t,n)&&B6(e,n,t[n]);return e},U6=(e,t)=>m1e(e,g1e(t)),_1e=et((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:U6(z6({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:U6(z6({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const w1e=_1e;var b1e=Object.defineProperty,Eb=Object.getOwnPropertySymbols,dK=Object.prototype.hasOwnProperty,hK=Object.prototype.propertyIsEnumerable,H6=(e,t,n)=>t in e?b1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eO=(e,t)=>{for(var n in t||(t={}))dK.call(t,n)&&H6(e,n,t[n]);if(Eb)for(var n of Eb(t))hK.call(t,n)&&H6(e,n,t[n]);return e},S1e=(e,t)=>{var n={};for(var r in e)dK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Eb)for(var r of Eb(e))t.indexOf(r)<0&&hK.call(e,r)&&(n[r]=e[r]);return n};const E1e={fit:"cover",width:"100%",height:"auto",radius:0},Kv=S.forwardRef((e,t)=>{const n=st("Image",E1e,e),{className:r,alt:i,src:o,fit:s,width:a,height:l,radius:u,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:g,caption:y,unstyled:m,style:v}=n,_=S1e(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:b,cx:E}=w1e({radius:u},{classNames:p,styles:g,unstyled:m,name:"Image"}),[w,x]=S.useState(!o),I=f&&w;return Qo(()=>{x(!1)},[o]),M.createElement(rt,eO({className:E(b.root,r),ref:t,style:eO({width:a},v)},_),M.createElement("figure",{className:b.figure},M.createElement("div",{className:b.imageWrapper},M.createElement("img",eO({className:b.image,src:o,alt:i,style:{objectFit:s,width:a,height:l},ref:h,onError:D=>{x(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(D)}},c)),I&&M.createElement("div",{className:b.placeholder,title:i},d||M.createElement("div",null,M.createElement(h1e,{style:{width:40,height:40}})))),!!y&&M.createElement(Et,{component:"figcaption",size:"sm",align:"center",className:b.caption},y)))});Kv.displayName="@mantine/core/Image";function x1e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var P1e=S.useLayoutEffect,I1e=function(t){var n=S.useRef(t);return P1e(function(){n.current=t}),n},W6=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},O1e=function(t,n){var r=S.useRef();return S.useCallback(function(i){t.current=i,r.current&&W6(r.current,null),r.current=n,n&&W6(n,i)},[n])},q6={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},G6=function(t){Object.keys(q6).forEach(function(n){t.style.setProperty(n,q6[n],"important")})},Lo=null,T1e=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function C1e(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Lo||(Lo=document.createElement("textarea"),Lo.setAttribute("tabindex","-1"),Lo.setAttribute("aria-hidden","true"),G6(Lo)),Lo.parentNode===null&&document.body.appendChild(Lo);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(d){var h=d;Lo.style[h]=s[h]}),G6(Lo),Lo.value=t;var l=T1e(Lo,e);Lo.value="x";var u=Lo.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var f=u*r;return a==="border-box"&&(f=f+i+o),l=Math.min(f,l),[l,u]}var K6=function(){},$1e=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},k1e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],A1e=!!document.documentElement.currentStyle,R1e=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=$1e(k1e,n),i=r.boxSizing;if(i==="")return null;A1e&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},N1e=function(t){var n=I1e(t);S.useLayoutEffect(function(){var r=function(o){n.current(o)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},D1e=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?K6:s,l=t.onHeightChange,u=l===void 0?K6:l,c=x1e(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=S.useRef(null),h=O1e(d,n),p=S.useRef(0),g=S.useRef(),y=function(){var _=d.current,b=r&&g.current?g.current:R1e(_);if(b){g.current=b;var E=C1e(b,_.value||_.placeholder||"x",o,i),w=E[0],x=E[1];p.current!==w&&(p.current=w,_.style.setProperty("height",w+"px","important"),u(w,{rowHeight:x}))}},m=function(_){f||y(),a(_)};return S.useLayoutEffect(y),N1e(y),S.createElement("textarea",er({},c,{onChange:m,ref:h}))},M1e=S.forwardRef(D1e);const L1e=M1e;var j1e=et(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const F1e=j1e;var V1e=Object.defineProperty,B1e=Object.defineProperties,z1e=Object.getOwnPropertyDescriptors,xb=Object.getOwnPropertySymbols,pK=Object.prototype.hasOwnProperty,mK=Object.prototype.propertyIsEnumerable,Y6=(e,t,n)=>t in e?V1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jd=(e,t)=>{for(var n in t||(t={}))pK.call(t,n)&&Y6(e,n,t[n]);if(xb)for(var n of xb(t))mK.call(t,n)&&Y6(e,n,t[n]);return e},tO=(e,t)=>B1e(e,z1e(t)),U1e=(e,t)=>{var n={};for(var r in e)pK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xb)for(var r of xb(e))t.indexOf(r)<0&&mK.call(e,r)&&(n[r]=e[r]);return n};const H1e={autosize:!1,size:"sm",__staticSelector:"Textarea"},gK=S.forwardRef((e,t)=>{const n=st("Textarea",H1e,e),{autosize:r,maxRows:i,minRows:o,label:s,error:a,description:l,id:u,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:g,size:y,__staticSelector:m,sx:v,errorProps:_,descriptionProps:b,labelProps:E,inputWrapperOrder:w,inputContainer:x,unstyled:I,withAsterisk:D}=n,R=U1e(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),N=Iu(u),{classes:z,cx:U}=F1e(),{systemStyles:B,rest:ae}=Ad(R),re=Jd({required:f,ref:t,invalid:!!a,id:N,classNames:tO(Jd({},p),{input:U(z.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:y,multiline:!0,unstyled:I},ae);return M.createElement(Xo.Wrapper,Jd(Jd({label:s,error:a,id:N,description:l,required:f,style:d,className:c,classNames:p,styles:g,size:y,__staticSelector:m,sx:v,errorProps:_,labelProps:E,descriptionProps:b,inputContainer:x,inputWrapperOrder:w,unstyled:I,withAsterisk:D},B),h),r?M.createElement(Xo,tO(Jd({},re),{component:L1e,maxRows:i,minRows:o})):M.createElement(Xo,tO(Jd({},re),{component:"textarea",rows:o})))});gK.displayName="@mantine/core/Textarea";const yK=S.createContext(null);function W1e(){return S.useContext(yK)||{}}var q1e=et((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const G1e=q1e;var K1e=Object.defineProperty,Pb=Object.getOwnPropertySymbols,vK=Object.prototype.hasOwnProperty,_K=Object.prototype.propertyIsEnumerable,Q6=(e,t,n)=>t in e?K1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y1e=(e,t)=>{for(var n in t||(t={}))vK.call(t,n)&&Q6(e,n,t[n]);if(Pb)for(var n of Pb(t))_K.call(t,n)&&Q6(e,n,t[n]);return e},Q1e=(e,t)=>{var n={};for(var r in e)vK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pb)for(var r of Pb(e))t.indexOf(r)<0&&_K.call(e,r)&&(n[r]=e[r]);return n};function wK(e){var t=e,{className:n,children:r,icon:i}=t,o=Q1e(t,["className","children","icon"]);const{icon:s,spacing:a,center:l,listStyleType:u,size:c,withPadding:f}=W1e(),{classNames:d,styles:h,unstyled:p}=Uv(),g=i||s,{classes:y,cx:m}=G1e({withPadding:f,size:c,listStyleType:u,center:l,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return M.createElement(rt,Y1e({component:"li",className:m(y.item,{[y.withIcon]:g},n)},o),M.createElement("div",{className:y.itemWrapper},g&&M.createElement("span",{className:y.itemIcon},g),M.createElement("span",null,r)))}wK.displayName="@mantine/core/ListItem";var X1e=Object.defineProperty,J1e=Object.defineProperties,Z1e=Object.getOwnPropertyDescriptors,X6=Object.getOwnPropertySymbols,ebe=Object.prototype.hasOwnProperty,tbe=Object.prototype.propertyIsEnumerable,J6=(e,t,n)=>t in e?X1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nbe=(e,t)=>{for(var n in t||(t={}))ebe.call(t,n)&&J6(e,n,t[n]);if(X6)for(var n of X6(t))tbe.call(t,n)&&J6(e,n,t[n]);return e},rbe=(e,t)=>J1e(e,Z1e(t)),ibe=et((e,{withPadding:t,size:n,listStyleType:r})=>({root:rbe(nbe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const obe=ibe;var sbe=Object.defineProperty,Ib=Object.getOwnPropertySymbols,bK=Object.prototype.hasOwnProperty,SK=Object.prototype.propertyIsEnumerable,Z6=(e,t,n)=>t in e?sbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,abe=(e,t)=>{for(var n in t||(t={}))bK.call(t,n)&&Z6(e,n,t[n]);if(Ib)for(var n of Ib(t))SK.call(t,n)&&Z6(e,n,t[n]);return e},lbe=(e,t)=>{var n={};for(var r in e)bK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ib)for(var r of Ib(e))t.indexOf(r)<0&&SK.call(e,r)&&(n[r]=e[r]);return n};const ube={type:"unordered",size:"md",spacing:0},Ep=S.forwardRef((e,t)=>{const n=st("List",ube,e),{children:r,type:i,size:o,listStyleType:s,withPadding:a,center:l,spacing:u,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,g=lbe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:m}=obe({withPadding:a,size:o,listStyleType:s,center:l,spacing:u},{classNames:h,styles:d,name:"List",unstyled:p});return M.createElement(qH,{classNames:h,styles:d,unstyled:p},M.createElement(yK.Provider,{value:{spacing:u,center:l,icon:c,listStyleType:s,size:o,withPadding:a}},M.createElement(rt,abe({component:i==="unordered"?"ul":"ol",className:m(y.root,f),ref:t},g),r)))});Ep.Item=wK;Ep.displayName="@mantine/core/List";var cbe=et(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const fbe=cbe;var dbe=Object.defineProperty,Ob=Object.getOwnPropertySymbols,EK=Object.prototype.hasOwnProperty,xK=Object.prototype.propertyIsEnumerable,e3=(e,t,n)=>t in e?dbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hbe=(e,t)=>{for(var n in t||(t={}))EK.call(t,n)&&e3(e,n,t[n]);if(Ob)for(var n of Ob(t))xK.call(t,n)&&e3(e,n,t[n]);return e},pbe=(e,t)=>{var n={};for(var r in e)EK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ob)for(var r of Ob(e))t.indexOf(r)<0&&xK.call(e,r)&&(n[r]=e[r]);return n};function PK(e){var t=e,{children:n,className:r}=t,i=pbe(t,["children","className"]);const{classNames:o,styles:s,unstyled:a}=Uv(),{classes:l,cx:u}=fbe(null,{name:"Menu",classNames:o,styles:s,unstyled:a});return M.createElement(rt,hbe({className:u(l.divider,r)},i))}PK.displayName="@mantine/core/MenuDivider";const IK={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[mbe,GR]=_H(IK.context);var gbe=Object.defineProperty,Tb=Object.getOwnPropertySymbols,OK=Object.prototype.hasOwnProperty,TK=Object.prototype.propertyIsEnumerable,t3=(e,t,n)=>t in e?gbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ybe=(e,t)=>{for(var n in t||(t={}))OK.call(t,n)&&t3(e,n,t[n]);if(Tb)for(var n of Tb(t))TK.call(t,n)&&t3(e,n,t[n]);return e},vbe=(e,t)=>{var n={};for(var r in e)OK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Tb)for(var r of Tb(e))t.indexOf(r)<0&&TK.call(e,r)&&(n[r]=e[r]);return n};function CK(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,o=vbe(t,["children","onMouseEnter","onMouseLeave"]);const s=S.useRef(),a=GR(),l=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),s.current.querySelectorAll("[data-menu-item]")[0].focus())},u=Vl(r,()=>a.trigger==="hover"&&a.openDropdown()),c=Vl(i,()=>a.trigger==="hover"&&a.closeDropdown());return M.createElement(Cu.Dropdown,ybe({onMouseEnter:u,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},o),M.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:l,ref:s,style:{outline:0}},n))}CK.displayName="@mantine/core/MenuDropdown";var _be=Object.defineProperty,wbe=Object.defineProperties,bbe=Object.getOwnPropertyDescriptors,n3=Object.getOwnPropertySymbols,Sbe=Object.prototype.hasOwnProperty,Ebe=Object.prototype.propertyIsEnumerable,r3=(e,t,n)=>t in e?_be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xbe=(e,t)=>{for(var n in t||(t={}))Sbe.call(t,n)&&r3(e,n,t[n]);if(n3)for(var n of n3(t))Ebe.call(t,n)&&r3(e,n,t[n]);return e},Pbe=(e,t)=>wbe(e,bbe(t)),Ibe=et((e,{color:t,radius:n})=>({item:Pbe(xbe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const Obe=Ibe;var Tbe=Object.defineProperty,Cbe=Object.defineProperties,$be=Object.getOwnPropertyDescriptors,Cb=Object.getOwnPropertySymbols,$K=Object.prototype.hasOwnProperty,kK=Object.prototype.propertyIsEnumerable,i3=(e,t,n)=>t in e?Tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kbe=(e,t)=>{for(var n in t||(t={}))$K.call(t,n)&&i3(e,n,t[n]);if(Cb)for(var n of Cb(t))kK.call(t,n)&&i3(e,n,t[n]);return e},Abe=(e,t)=>Cbe(e,$be(t)),Rbe=(e,t)=>{var n={};for(var r in e)$K.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cb)for(var r of Cb(e))t.indexOf(r)<0&&kK.call(e,r)&&(n[r]=e[r]);return n};const AK=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:o,closeMenuOnClick:s,icon:a,rightSection:l}=n,u=Rbe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=GR(),{classNames:f,styles:d,unstyled:h}=Uv(),{classes:p,cx:g,theme:y}=Obe({radius:c.radius,color:o},{name:"Menu",classNames:f,styles:d,unstyled:h}),m=S.useRef(),v=c.getItemIndex(m.current),_=u,b=Vl(_.onMouseLeave,()=>c.setHovered(-1)),E=Vl(_.onMouseEnter,()=>c.setHovered(c.getItemIndex(m.current))),w=Vl(_.onClick,()=>{typeof s=="boolean"?s&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),x=Vl(_.onFocus,()=>c.setHovered(c.getItemIndex(m.current)));return M.createElement(rt,Abe(kbe({component:"button",type:"button"},u),{tabIndex:-1,onFocus:x,className:g(p.item,i),ref:Ms(m,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===v?!0:void 0,onMouseEnter:E,onMouseLeave:b,onClick:w,onKeyDown:Ece({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y.dir,orientation:"vertical",onKeyDown:_.onKeydown})}),a&&M.createElement("div",{className:p.itemIcon},a),r&&M.createElement("div",{className:p.itemLabel},r),l&&M.createElement("div",{className:p.itemRightSection},l))});AK.displayName="@mantine/core/MenuItem";const Nbe=AK;var Dbe=et(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const Mbe=Dbe;var Lbe=Object.defineProperty,$b=Object.getOwnPropertySymbols,RK=Object.prototype.hasOwnProperty,NK=Object.prototype.propertyIsEnumerable,o3=(e,t,n)=>t in e?Lbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jbe=(e,t)=>{for(var n in t||(t={}))RK.call(t,n)&&o3(e,n,t[n]);if($b)for(var n of $b(t))NK.call(t,n)&&o3(e,n,t[n]);return e},Fbe=(e,t)=>{var n={};for(var r in e)RK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$b)for(var r of $b(e))t.indexOf(r)<0&&NK.call(e,r)&&(n[r]=e[r]);return n};function DK(e){var t=e,{children:n,className:r}=t,i=Fbe(t,["children","className"]);const{classNames:o,styles:s,unstyled:a}=Uv(),{classes:l,cx:u}=Mbe(null,{name:"Menu",classNames:o,styles:s,unstyled:a});return M.createElement(Et,jbe({className:u(l.label,r)},i),n)}DK.displayName="@mantine/core/MenuLabel";var Vbe=Object.defineProperty,kb=Object.getOwnPropertySymbols,MK=Object.prototype.hasOwnProperty,LK=Object.prototype.propertyIsEnumerable,s3=(e,t,n)=>t in e?Vbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bbe=(e,t)=>{for(var n in t||(t={}))MK.call(t,n)&&s3(e,n,t[n]);if(kb)for(var n of kb(t))LK.call(t,n)&&s3(e,n,t[n]);return e},zbe=(e,t)=>{var n={};for(var r in e)MK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kb)for(var r of kb(e))t.indexOf(r)<0&&LK.call(e,r)&&(n[r]=e[r]);return n};const jK=S.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,o=zbe(n,["children","refProp"]);if(!Vv(r))throw new Error(IK.children);const s=GR(),a=Vl(r.props.onClick,()=>s.trigger==="click"&&s.toggleDropdown()),l=Vl(r.props.onMouseEnter,()=>s.trigger==="hover"&&s.openDropdown()),u=Vl(r.props.onMouseLeave,()=>s.trigger==="hover"&&s.closeDropdown());return M.createElement(Cu.Target,Bbe({refProp:i,popupType:"menu",ref:t},o),S.cloneElement(r,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":s.opened?!0:void 0}))});jK.displayName="@mantine/core/MenuTarget";var Ube=et({dropdown:{padding:4}});const Hbe=Ube;var Wbe=Object.defineProperty,qbe=Object.defineProperties,Gbe=Object.getOwnPropertyDescriptors,Ab=Object.getOwnPropertySymbols,FK=Object.prototype.hasOwnProperty,VK=Object.prototype.propertyIsEnumerable,a3=(e,t,n)=>t in e?Wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l3=(e,t)=>{for(var n in t||(t={}))FK.call(t,n)&&a3(e,n,t[n]);if(Ab)for(var n of Ab(t))VK.call(t,n)&&a3(e,n,t[n]);return e},u3=(e,t)=>qbe(e,Gbe(t)),Kbe=(e,t)=>{var n={};for(var r in e)FK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ab)for(var r of Ab(e))t.indexOf(r)<0&&VK.call(e,r)&&(n[r]=e[r]);return n};const Ybe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function ws(e){const t=st("Menu",Ybe,e),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,onChange:a,closeOnItemClick:l,loop:u,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:g,unstyled:y,radius:m}=t,v=Kbe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:_,cx:b}=Hbe(),[E,{setHovered:w,resetHovered:x}]=Oce(),[I,D]=ga({value:o,defaultValue:s,finalValue:!1,onChange:a}),R=()=>{D(!1),I&&(i==null||i())},N=()=>{D(!0),!I&&(r==null||r())},z=()=>I?R():N(),{openDropdown:U,closeDropdown:B}=l1e({open:N,close:R,closeDelay:h,openDelay:d}),ae=re=>xce("[data-menu-item]","[data-menu-dropdown]",re);return Qo(()=>{x()},[I]),M.createElement(mbe,{value:{opened:I,toggleDropdown:z,getItemIndex:ae,hovered:E,setHovered:w,closeOnItemClick:l,closeDropdown:f==="click"?R:B,openDropdown:f==="click"?N:U,closeDropdownImmediately:R,loop:u,trigger:f,radius:m}},M.createElement(Cu,u3(l3({},v),{radius:m,opened:I,onChange:D,defaultOpened:s,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:u3(l3({},p),{dropdown:b(_.dropdown,p==null?void 0:p.dropdown)}),styles:g,unstyled:y,onClose:R,onOpen:N}),n))}ws.displayName="@mantine/core/Menu";ws.Item=Nbe;ws.Label=DK;ws.Dropdown=CK;ws.Target=jK;ws.Divider=PK;var Qbe=Object.defineProperty,c3=Object.getOwnPropertySymbols,Xbe=Object.prototype.hasOwnProperty,Jbe=Object.prototype.propertyIsEnumerable,f3=(e,t,n)=>t in e?Qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zbe=(e,t)=>{for(var n in t||(t={}))Xbe.call(t,n)&&f3(e,n,t[n]);if(c3)for(var n of c3(t))Jbe.call(t,n)&&f3(e,n,t[n]);return e};const eSe={xs:320,sm:380,md:440,lg:620,xl:780};function tSe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var nSe=et((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:o})=>({close:{},overlay:{display:o?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:o?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:Zbe({position:"relative",width:o?"100vw":e.fn.size({sizes:eSe,size:n}),borderRadius:o?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},tSe(o)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const rSe=nSe;var iSe=Object.defineProperty,Rb=Object.getOwnPropertySymbols,BK=Object.prototype.hasOwnProperty,zK=Object.prototype.propertyIsEnumerable,d3=(e,t,n)=>t in e?iSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oSe=(e,t)=>{for(var n in t||(t={}))BK.call(t,n)&&d3(e,n,t[n]);if(Rb)for(var n of Rb(t))zK.call(t,n)&&d3(e,n,t[n]);return e},sSe=(e,t)=>{var n={};for(var r in e)BK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Rb)for(var r of Rb(e))t.indexOf(r)<0&&zK.call(e,r)&&(n[r]=e[r]);return n};const aSe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:us("modal"),exitTransitionDuration:0};function KR(e){const t=st("Modal",aSe,e),{className:n,opened:r,title:i,onClose:o,children:s,withCloseButton:a,overlayOpacity:l,size:u,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:g,padding:y,shadow:m,radius:v,id:_,classNames:b,styles:E,closeOnClickOutside:w,trapFocus:x,closeOnEscape:I,centered:D,target:R,withinPortal:N,zIndex:z,overlayBlur:U,transitionTimingFunction:B,fullScreen:ae,unstyled:re,lockScroll:ue,withFocusReturn:Q}=t,ee=sSe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),W=Iu(_),P=`${W}-title`,O=`${W}-body`,{classes:F,cx:$,theme:C}=rSe({size:u,overflow:p,centered:D,zIndex:z,fullScreen:ae},{unstyled:re,classNames:b,styles:E,name:"Modal"}),H=ZH(x&&r),te=S.useRef(null),ie=Ms(H,te),le=typeof l=="number"?l:C.colorScheme==="dark"?.85:.75;Qde(ue&&r);const se=Ue=>{!x&&Ue.key==="Escape"&&I&&o()};S.useEffect(()=>{if(!x)return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[x]),YH({opened:r,shouldReturnFocus:x&&Q});const ye=S.useRef(null);WC("mousedown",Ue=>{ye.current=Ue.target});const ce=()=>{ye.current===te.current&&w&&o()};return M.createElement(Hv,{withinPortal:N,target:R},M.createElement(XG,{mounted:r,duration:c,exitDuration:f,timingFunction:B,transitions:{modal:{duration:c,transition:g||(ae?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},Ue=>M.createElement(M.Fragment,null,M.createElement(rt,oSe({id:W,className:$(F.root,n)},ee),M.createElement("div",{style:Ue.overlay},M.createElement(Rwe,{className:F.overlay,sx:{position:"fixed"},zIndex:0,blur:U,color:h||(C.colorScheme==="dark"?C.colors.dark[9]:C.black),opacity:le,unstyled:re})),M.createElement("div",{role:"presentation",className:F.inner,onClick:ce,onKeyDown:Fe=>{var Me;((Me=Fe.target)==null?void 0:Me.getAttribute("data-mantine-stop-propagation"))!=="true"&&Fe.key==="Escape"&&I&&o()},ref:ie},M.createElement(Zg,{className:F.modal,shadow:m,p:y,radius:v,role:"dialog","aria-labelledby":P,"aria-describedby":O,"aria-modal":!0,tabIndex:-1,style:Ue.modal,unstyled:re,onClick:Fe=>Fe.stopPropagation()},(i||a)&&M.createElement("div",{className:F.header},M.createElement(Et,{id:P,className:F.title},i),a&&M.createElement(OR,{iconSize:16,onClick:o,"aria-label":d,className:F.close})),M.createElement("div",{id:O,className:F.body},s)))))))}KR.displayName="@mantine/core/Modal";const lSe={xs:16,sm:22,md:26,lg:30,xl:36},uSe={xs:10,sm:12,md:14,lg:16,xl:18};var cSe=et((e,{size:t,disabled:n,radius:r,readOnly:i,variant:o})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:o==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:lSe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:uSe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const fSe=cSe;var dSe=Object.defineProperty,Nb=Object.getOwnPropertySymbols,UK=Object.prototype.hasOwnProperty,HK=Object.prototype.propertyIsEnumerable,h3=(e,t,n)=>t in e?dSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hSe=(e,t)=>{for(var n in t||(t={}))UK.call(t,n)&&h3(e,n,t[n]);if(Nb)for(var n of Nb(t))HK.call(t,n)&&h3(e,n,t[n]);return e},pSe=(e,t)=>{var n={};for(var r in e)UK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Nb)for(var r of Nb(e))t.indexOf(r)<0&&HK.call(e,r)&&(n[r]=e[r]);return n};const p3={xs:16,sm:22,md:24,lg:26,xl:30};function WK(e){var t=e,{label:n,classNames:r,styles:i,className:o,onRemove:s,disabled:a,readOnly:l,size:u,radius:c="sm",variant:f}=t,d=pSe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=fSe({size:u,disabled:a,readOnly:l,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return M.createElement("div",hSe({className:p(h.defaultValue,o)},d),M.createElement("span",{className:h.defaultValueLabel},n),!a&&!l&&M.createElement(OR,{"aria-hidden":!0,onMouseDown:s,size:p3[u],radius:2,color:"blue",variant:"transparent",iconSize:p3[u]/2,className:h.defaultValueRemove,tabIndex:-1}))}WK.displayName="@mantine/core/MultiSelect/DefaultValue";function mSe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:o}){if(!t&&o.length===0)return e;if(!t){const a=[];for(let l=0;l<e.length;l+=1)o.some(u=>u===e[l].value&&!e[l].disabled)||a.push(e[l]);return a}const s=[];for(let a=0;a<e.length&&(i(r,o.some(l=>l===e[a].value&&!e[a].disabled),e[a])&&s.push(e[a]),!(s.length>=n));a+=1);return s}var gSe=Object.defineProperty,Db=Object.getOwnPropertySymbols,qK=Object.prototype.hasOwnProperty,GK=Object.prototype.propertyIsEnumerable,m3=(e,t,n)=>t in e?gSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g3=(e,t)=>{for(var n in t||(t={}))qK.call(t,n)&&m3(e,n,t[n]);if(Db)for(var n of Db(t))GK.call(t,n)&&m3(e,n,t[n]);return e},ySe=(e,t)=>{var n={};for(var r in e)qK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Db)for(var r of Db(e))t.indexOf(r)<0&&GK.call(e,r)&&(n[r]=e[r]);return n};const vSe={xs:14,sm:18,md:20,lg:24,xl:28};function _Se(e){var t=e,{size:n,error:r,style:i}=t,o=ySe(t,["size","error","style"]);const s=Wi(),a=s.fn.size({size:n,sizes:vSe});return M.createElement("svg",g3({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:g3({color:r?s.colors.red[6]:s.colors.gray[6]},i),"data-chevron":!0},o),M.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function KK({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:o}){return e?M.createElement(OR,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:o,onMouseDown:s=>s.preventDefault()}):M.createElement(_Se,{error:i,size:r})}KK.displayName="@mantine/core/SelectRightSection";var wSe=Object.defineProperty,bSe=Object.defineProperties,SSe=Object.getOwnPropertyDescriptors,Mb=Object.getOwnPropertySymbols,YK=Object.prototype.hasOwnProperty,QK=Object.prototype.propertyIsEnumerable,y3=(e,t,n)=>t in e?wSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nO=(e,t)=>{for(var n in t||(t={}))YK.call(t,n)&&y3(e,n,t[n]);if(Mb)for(var n of Mb(t))QK.call(t,n)&&y3(e,n,t[n]);return e},v3=(e,t)=>bSe(e,SSe(t)),ESe=(e,t)=>{var n={};for(var r in e)YK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Mb)for(var r of Mb(e))t.indexOf(r)<0&&QK.call(e,r)&&(n[r]=e[r]);return n};const xSe={xs:24,sm:30,md:34,lg:44,xl:54};function XK(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:o}=t,s=ESe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(o):n;return{rightSectionWidth:o.fn.size({size:s.size,sizes:xSe}),rightSection:!s.readOnly&&!(s.disabled&&s.shouldClear)&&M.createElement(KK,nO({},s)),styles:v3(nO({},a),{rightSection:v3(nO({},a==null?void 0:a.rightSection),{pointerEvents:s.shouldClear?void 0:"none"})})}}var PSe=Object.defineProperty,ISe=Object.defineProperties,OSe=Object.getOwnPropertyDescriptors,_3=Object.getOwnPropertySymbols,TSe=Object.prototype.hasOwnProperty,CSe=Object.prototype.propertyIsEnumerable,w3=(e,t,n)=>t in e?PSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Se=(e,t)=>{for(var n in t||(t={}))TSe.call(t,n)&&w3(e,n,t[n]);if(_3)for(var n of _3(t))CSe.call(t,n)&&w3(e,n,t[n]);return e},kSe=(e,t)=>ISe(e,OSe(t)),ASe=et((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:mo})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:kSe($Se({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:mo})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const RSe=ASe;var NSe=Object.defineProperty,DSe=Object.defineProperties,MSe=Object.getOwnPropertyDescriptors,Lb=Object.getOwnPropertySymbols,JK=Object.prototype.hasOwnProperty,ZK=Object.prototype.propertyIsEnumerable,b3=(e,t,n)=>t in e?NSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zd=(e,t)=>{for(var n in t||(t={}))JK.call(t,n)&&b3(e,n,t[n]);if(Lb)for(var n of Lb(t))ZK.call(t,n)&&b3(e,n,t[n]);return e},S3=(e,t)=>DSe(e,MSe(t)),LSe=(e,t)=>{var n={};for(var r in e)JK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lb)for(var r of Lb(e))t.indexOf(r)<0&&ZK.call(e,r)&&(n[r]=e[r]);return n};function jSe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function FSe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function E3(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const VSe={size:"sm",valueComponent:WK,itemComponent:$R,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:jSe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:FSe,switchDirectionOnFlip:!1,zIndex:us("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},eY=S.forwardRef((e,t)=>{const n=st("MultiSelect",VSe,e),{className:r,style:i,required:o,label:s,description:a,size:l,error:u,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:g,onChange:y,valueComponent:m,itemComponent:v,id:_,transition:b,transitionDuration:E,transitionTimingFunction:w,maxDropdownHeight:x,shadow:I,nothingFound:D,onFocus:R,onBlur:N,searchable:z,placeholder:U,filter:B,limit:ae,clearSearchOnChange:re,clearable:ue,clearSearchOnBlur:Q,clearButtonLabel:ee,variant:W,onSearchChange:P,searchValue:O,disabled:F,initiallyOpened:$,radius:C,icon:H,rightSection:te,rightSectionWidth:ie,creatable:le,getCreateLabel:se,shouldCreate:ye,onCreate:ce,sx:Ue,dropdownComponent:Fe,onDropdownClose:Me,onDropdownOpen:Te,maxSelectedValues:we,withinPortal:Ne,switchDirectionOnFlip:Ht,zIndex:Ce,selectOnBlur:Re,name:dt,dropdownPosition:De,errorProps:lt,labelProps:Ft,descriptionProps:Jt,clearButtonTabIndex:jn,form:oe,positionDependencies:me,onKeyDown:$e,unstyled:Je,inputContainer:Oe,inputWrapperOrder:Ze,readOnly:ke,withAsterisk:Ke}=n,dn=LSe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:Mt,cx:gt,theme:Cn}=RSe({size:l,invalid:!!u},{classNames:c,styles:f,unstyled:Je,name:"MultiSelect"}),{systemStyles:hn,rest:Ws}=Ad(dn),tr=S.useRef(),xi=S.useRef(),cr=S.useRef({}),Pr=Iu(_),[nr,$n]=S.useState($),[Wt,Yr]=S.useState(-1),[fr,Ir]=S.useState("column"),[si,oo]=ga({value:O,defaultValue:"",finalValue:void 0,onChange:P}),[G,j]=S.useState(!1),{scrollIntoView:Y,targetRef:de,scrollableRef:fe}=nW({duration:0,offset:5,cancelable:!1,isList:!0}),Ve=le&&typeof se=="function";let ge=null;const Le=g.map(ze=>typeof ze=="string"?{label:ze,value:ze}:ze),tt=wH({data:Le}),[Ge,at]=ga({value:E3(h,g),defaultValue:E3(p,g),finalValue:[],onChange:y}),Tt=S.useRef(!!we&&we<Ge.length),Pn=ze=>{if(!ke){const Dt=Ge.filter(Nn=>Nn!==ze);at(Dt),we&&Dt.length<we&&(Tt.current=!1)}},ot=ze=>{oo(ze.currentTarget.value),!F&&!Tt.current&&z&&$n(!0)},vn=ze=>{typeof R=="function"&&R(ze),!F&&!Tt.current&&z&&$n(!0)},ht=mSe({data:tt,searchable:z,searchValue:si,limit:ae,filter:B,value:Ge}),an=(ze,Dt,Nn)=>{let Qr=ze;for(;Nn(Qr);)if(Qr=Dt(Qr),!ht[Qr].disabled)return Qr;return ze};Qo(()=>{Yr(-1)},[si]),Qo(()=>{!F&&Ge.length>g.length&&$n(!1),we&&Ge.length<we&&(Tt.current=!1),we&&Ge.length>=we&&(Tt.current=!0,$n(!1))},[Ge]);const Wn=ze=>{if(!ke)if(re&&oo(""),Ge.includes(ze.value))Pn(ze.value);else{if(ze.creatable&&typeof ce=="function"){const Dt=ce(ze.value);typeof Dt<"u"&&Dt!==null&&at(typeof Dt=="string"?[...Ge,Dt]:[...Ge,Dt.value])}else at([...Ge,ze.value]);Ge.length===we-1&&(Tt.current=!0,$n(!1)),Wt===ht.length-1&&Yr(ht.length-2),ht.length===1&&$n(!1)}},Mr=ze=>{typeof N=="function"&&N(ze),Re&&ht[Wt]&&nr&&Wn(ht[Wt]),Q&&oo(""),$n(!1)},br=ze=>{if(G||($e==null||$e(ze),ke)||ze.key!=="Backspace"&&we&&Tt.current)return;const Dt=fr==="column",Nn=()=>{Yr(so=>{var k;const q=an(so,L=>L+1,L=>L<ht.length-1);return nr&&(de.current=cr.current[(k=ht[q])==null?void 0:k.value],Y({alignment:Dt?"end":"start"})),q})},Qr=()=>{Yr(so=>{var k;const q=an(so,L=>L-1,L=>L>0);return nr&&(de.current=cr.current[(k=ht[q])==null?void 0:k.value],Y({alignment:Dt?"start":"end"})),q})};switch(ze.key){case"ArrowUp":{ze.preventDefault(),$n(!0),Dt?Qr():Nn();break}case"ArrowDown":{ze.preventDefault(),$n(!0),Dt?Nn():Qr();break}case"Enter":{ze.preventDefault(),ht[Wt]&&nr?Wn(ht[Wt]):$n(!0);break}case" ":{z||(ze.preventDefault(),ht[Wt]&&nr?Wn(ht[Wt]):$n(!0));break}case"Backspace":{Ge.length>0&&si.length===0&&(at(Ge.slice(0,-1)),$n(!0),we&&(Tt.current=!1));break}case"Home":{if(!z){ze.preventDefault(),nr||$n(!0);const so=ht.findIndex(k=>!k.disabled);Yr(so),Y({alignment:Dt?"end":"start"})}break}case"End":{if(!z){ze.preventDefault(),nr||$n(!0);const so=ht.map(k=>!!k.disabled).lastIndexOf(!1);Yr(so),Y({alignment:Dt?"end":"start"})}break}case"Escape":$n(!1)}},Gi=Ge.map(ze=>{let Dt=tt.find(Nn=>Nn.value===ze&&!Nn.disabled);return!Dt&&Ve&&(Dt={value:ze,label:ze}),Dt}).filter(ze=>!!ze).map(ze=>M.createElement(m,S3(Zd({},ze),{variant:W,disabled:F,className:Mt.value,readOnly:ke,onRemove:Dt=>{Dt.preventDefault(),Dt.stopPropagation(),Pn(ze.value)},key:ze.value,size:l,styles:f,classNames:c,radius:C}))),ai=()=>{var ze;oo(""),at([]),(ze=tr.current)==null||ze.focus(),we&&(Tt.current=!1)};Ve&&ye(si,tt)&&(ge=se(si),ht.push({label:si,value:si,creatable:!0}));const rr=!ke&&(ht.length>0?nr:nr&&!!D);return Qo(()=>{const ze=rr?Te:Me;typeof ze=="function"&&ze()},[rr]),M.createElement(Xo.Wrapper,Zd(Zd({required:o,id:Pr,label:s,error:u,description:a,size:l,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:Ue,errorProps:lt,descriptionProps:Jt,labelProps:Ft,inputContainer:Oe,inputWrapperOrder:Ze,unstyled:Je,withAsterisk:Ke},hn),d),M.createElement(Ec,{opened:rr,transition:b,transitionDuration:E,shadow:"sm",withinPortal:Ne,__staticSelector:"MultiSelect",onDirectionChange:Ir,switchDirectionOnFlip:Ht,zIndex:Ce,dropdownPosition:De,positionDependencies:me,classNames:c,styles:f,unstyled:Je},M.createElement(Ec.Target,null,M.createElement("div",{className:Mt.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":nr&&rr?`${Pr}-items`:null,"aria-controls":Pr,"aria-expanded":nr,onMouseLeave:()=>Yr(-1),tabIndex:-1,ref:xi},M.createElement("input",{type:"hidden",name:dt,value:Ge.join(","),form:oe,disabled:F}),M.createElement(Xo,Zd({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:l,variant:W,disabled:F,invalid:!!u,required:o,radius:C,icon:H,unstyled:Je,onMouseDown:ze=>{var Dt;ze.preventDefault(),!F&&!Tt.current&&$n(!nr),(Dt=tr.current)==null||Dt.focus()},classNames:S3(Zd({},c),{input:gt({[Mt.input]:!z},c==null?void 0:c.input)})},XK({theme:Cn,rightSection:te,rightSectionWidth:ie,styles:f,size:l,shouldClear:ue&&Ge.length>0,clearButtonLabel:ee,onClear:ai,error:u,disabled:F,clearButtonTabIndex:jn,readOnly:ke})),M.createElement("div",{className:Mt.values},Gi,M.createElement("input",Zd({ref:Ms(t,tr),type:"search",id:Pr,className:gt(Mt.searchInput,{[Mt.searchInputPointer]:!z,[Mt.searchInputInputHidden]:!nr&&Ge.length>0||!z&&Ge.length>0,[Mt.searchInputEmpty]:Ge.length===0}),onKeyDown:br,value:si,onChange:ot,onFocus:vn,onBlur:Mr,readOnly:!z||Tt.current||ke,placeholder:Ge.length===0?U:void 0,disabled:F,"data-mantine-stop-propagation":nr,autoComplete:"off",onCompositionStart:()=>j(!0),onCompositionEnd:()=>j(!1)},Ws)))))),M.createElement(Ec.Dropdown,{component:Fe||cx,maxHeight:x,direction:fr,id:Pr,innerRef:fe,__staticSelector:"MultiSelect",classNames:c,styles:f},M.createElement(CR,{data:ht,hovered:Wt,classNames:c,styles:f,uuid:Pr,__staticSelector:"MultiSelect",onItemHover:Yr,onItemSelect:Wn,itemsRefs:cr,itemComponent:v,size:l,nothingFound:D,creatable:le&&!!ge,createLabel:ge,unstyled:Je}))))});eY.displayName="@mantine/core/MultiSelect";const BSe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function x3({direction:e,size:t}){return M.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const tY={xs:20,sm:24,md:30,lg:34,xl:36};var zSe=et((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:tY}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const USe=zSe;var HSe=Object.defineProperty,WSe=Object.defineProperties,qSe=Object.getOwnPropertyDescriptors,jb=Object.getOwnPropertySymbols,nY=Object.prototype.hasOwnProperty,rY=Object.prototype.propertyIsEnumerable,P3=(e,t,n)=>t in e?HSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rO=(e,t)=>{for(var n in t||(t={}))nY.call(t,n)&&P3(e,n,t[n]);if(jb)for(var n of jb(t))rY.call(t,n)&&P3(e,n,t[n]);return e},GSe=(e,t)=>WSe(e,qSe(t)),KSe=(e,t)=>{var n={};for(var r in e)nY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jb)for(var r of jb(e))t.indexOf(r)<0&&rY.call(e,r)&&(n[r]=e[r]);return n};const YSe={type:"text",size:"sm",__staticSelector:"TextInput"},YR=S.forwardRef((e,t)=>{const n=Zq("TextInput",YSe,e),{inputProps:r,wrapperProps:i}=n,o=KSe(n,["inputProps","wrapperProps"]);return M.createElement(Xo.Wrapper,rO({},i),M.createElement(Xo,GSe(rO(rO({},r),o),{ref:t})))});YR.displayName="@mantine/core/TextInput";var QSe=Object.defineProperty,XSe=Object.defineProperties,JSe=Object.getOwnPropertyDescriptors,Fb=Object.getOwnPropertySymbols,iY=Object.prototype.hasOwnProperty,oY=Object.prototype.propertyIsEnumerable,I3=(e,t,n)=>t in e?QSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZSe=(e,t)=>{for(var n in t||(t={}))iY.call(t,n)&&I3(e,n,t[n]);if(Fb)for(var n of Fb(t))oY.call(t,n)&&I3(e,n,t[n]);return e},eEe=(e,t)=>XSe(e,JSe(t)),tEe=(e,t)=>{var n={};for(var r in e)iY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fb)for(var r of Fb(e))t.indexOf(r)<0&&oY.call(e,r)&&(n[r]=e[r]);return n};const nEe=e=>e||"",rEe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},O3={xs:10,sm:14,md:16,lg:18,xl:20},iEe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:nEe,parser:rEe,type:"text"},sY=S.forwardRef((e,t)=>{const n=st("NumberInput",iEe,e),{disabled:r,value:i,onChange:o,decimalSeparator:s,min:a,max:l,startValue:u,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:g,onKeyUp:y,hideControls:m,radius:v,variant:_,precision:b,removeTrailingZeros:E,defaultValue:w,noClampOnBlur:x,handlersRef:I,classNames:D,styles:R,size:N,rightSection:z,rightSectionWidth:U,formatter:B,parser:ae,inputMode:re,unstyled:ue,type:Q}=n,ee=tEe(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:W,cx:P,theme:O}=USe({radius:v,size:N},{classNames:D,styles:R,unstyled:ue,name:"NumberInput"}),F=Oe=>{if(Oe===void 0)return;let Ze=Oe.toFixed(b);return E&&b>0&&(Ze=Ze.replace(new RegExp(`[0]{0,${b}}$`),""),(Ze.endsWith(".")||Ze.endsWith(s))&&(Ze=Ze.slice(0,-1))),Ze},[$,C]=S.useState(!1),[H,te]=S.useState(typeof i=="number"?i:typeof w=="number"?w:void 0),ie=typeof i=="number"?i:H,[le,se]=S.useState(typeof ie=="number"?F(ie):""),ye=S.useRef(),ce=Oe=>{Oe!==H&&!Number.isNaN(Oe)&&(typeof o=="function"&&o(Oe),te(Oe))},Ue=(Oe="")=>{let Ze=typeof Oe=="number"?String(Oe):Oe;return s&&(Ze=Ze.replace(/\./g,s)),B(Ze)},Fe=Oe=>{let Ze=Oe;return s&&(Ze=Ze.replace(new RegExp(`\\${s}`,"g"),".")),ae(Ze)},Me=typeof a=="number"?a:-1/0,Te=typeof l=="number"?l:1/0,we=S.useRef();we.current=()=>{var Oe,Ze,ke;if(H===void 0)ce((Oe=u??a)!=null?Oe:0),se((ke=(Ze=F(u))!=null?Ze:F(a))!=null?ke:"0");else{const Ke=F(bc(H+c,Me,Te));ce(parseFloat(Ke)),se(Ke)}};const Ne=S.useRef();Ne.current=()=>{var Oe,Ze,ke;if(H===void 0)ce((Oe=u??a)!=null?Oe:0),se((ke=(Ze=F(u))!=null?Ze:F(a))!=null?ke:"0");else{const Ke=F(bc(H-c,Me,Te));ce(parseFloat(Ke)),se(Ke)}},eW(I,{increment:we.current,decrement:Ne.current}),S.useEffect(()=>{typeof i=="number"&&!$&&(te(i),se(F(i))),w===void 0&&i===void 0&&!$&&(te(i),se(""))},[i]);const Ht=d!==void 0&&f!==void 0,Ce=S.useRef(null),Re=S.useRef(0),dt=()=>{Ce.current&&window.clearTimeout(Ce.current),Ce.current=null,Re.current=0},De=Oe=>{Oe?we.current():Ne.current(),Re.current+=1},lt=Oe=>{if(De(Oe),Ht){const Ze=typeof f=="number"?f:f(Re.current);Ce.current=window.setTimeout(()=>lt(Oe),Ze)}},Ft=(Oe,Ze)=>{Oe.preventDefault(),ye.current.focus(),De(Ze),Ht&&(Ce.current=window.setTimeout(()=>lt(Ze),d))};S.useEffect(()=>(dt(),dt),[]);const Jt=M.createElement("div",{className:W.rightSection},M.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ie>=l,className:P(W.control,W.controlUp),onPointerDown:Oe=>{Ft(Oe,!0)},onPointerUp:dt,onPointerLeave:dt},M.createElement(x3,{size:O.fn.size({size:N,sizes:O3}),direction:"up"})),M.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ie<=a,className:P(W.control,W.controlDown),onPointerDown:Oe=>{Ft(Oe,!1)},onPointerUp:dt,onPointerLeave:dt},M.createElement(x3,{size:O.fn.size({size:N,sizes:O3}),direction:"down"}))),jn=Oe=>{if(Oe.nativeEvent.isComposing)return;const ke=Oe.target.value,Ke=Fe(ke);se(Ke),ke===""||ke==="-"?ce(void 0):ke.trim()!==""&&!Number.isNaN(Ke)&&ce(parseFloat(Ke))},oe=Oe=>{var Ze;if(Oe.target.value==="")se(""),ce(void 0);else{let ke=Oe.target.value;(ke[0]===`${s}`||ke[0]===".")&&(ke=`0${ke}`);const Ke=Fe(ke),dn=bc(parseFloat(Ke),Me,Te);Number.isNaN(dn)?se((Ze=F(ie))!=null?Ze:""):x||(se(F(dn)),ce(parseFloat(F(dn))))}C(!1),typeof h=="function"&&h(Oe)},me=Oe=>{C(!0),typeof p=="function"&&p(Oe)},$e=Oe=>{if(typeof g=="function"&&g(Oe),Oe.repeat&&Ht&&(Oe.key==="ArrowUp"||Oe.key==="ArrowDown")){Oe.preventDefault();return}Oe.key==="ArrowUp"?Ft(Oe,!0):Oe.key==="ArrowDown"&&Ft(Oe,!1)},Je=Oe=>{typeof y=="function"&&y(Oe),(Oe.key==="ArrowUp"||Oe.key==="ArrowDown")&&dt()};return M.createElement(YR,eEe(ZSe({},ee),{type:Q,variant:_,value:Ue(le),disabled:r,ref:Ms(ye,t),onChange:jn,onBlur:oe,onFocus:me,onKeyDown:$e,onKeyUp:Je,rightSection:z||(r||m||_==="unstyled"?null:Jt),rightSectionWidth:U||O.fn.size({size:N,sizes:tY})+1,radius:v,max:l,min:a,step:c,size:N,styles:R,classNames:D,inputMode:re||BSe(c,b,uhe()),__staticSelector:"NumberInput",unstyled:ue}))});sY.displayName="@mantine/core/NumberInput";const T3={xs:3,sm:5,md:8,lg:12,xl:16},oEe=ede({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var sEe=et((e,{color:t,radius:n,size:r,striped:i,animate:o})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:T3}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:o?`${oEe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:T3})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const aEe=sEe,aY=S.createContext(!1),lEe=aY.Provider,uEe=()=>S.useContext(aY);function lY({children:e,openDelay:t=0,closeDelay:n=0}){return M.createElement(lEe,{value:!0},M.createElement(Rye,{delay:{open:t,close:n}},e))}lY.displayName="@mantine/core/TooltipGroup";var cEe=Object.defineProperty,fEe=Object.defineProperties,dEe=Object.getOwnPropertyDescriptors,C3=Object.getOwnPropertySymbols,hEe=Object.prototype.hasOwnProperty,pEe=Object.prototype.propertyIsEnumerable,$3=(e,t,n)=>t in e?cEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k3=(e,t)=>{for(var n in t||(t={}))hEe.call(t,n)&&$3(e,n,t[n]);if(C3)for(var n of C3(t))pEe.call(t,n)&&$3(e,n,t[n]);return e},mEe=(e,t)=>fEe(e,dEe(t));function gEe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var yEe=et((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:mEe(k3(k3({},e.fn.fontStyles()),gEe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const uY=yEe,cY={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function vEe({offset:e,position:t}){const[n,r]=S.useState(!1),i=S.useRef(),{x:o,y:s,reference:a,floating:l,refs:u,update:c,placement:f}=jR({placement:t,middleware:[DR({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=S.useCallback(({clientX:g,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+d,top:y+h,right:g,bottom:y}}})},[a]);return S.useEffect(()=>{if(u.floating.current){const g=i.current;g.addEventListener("mousemove",p);const y=Xl(u.floating.current);return y.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),y.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,u.floating,c,p,n]),{handleMouseMove:p,x:o,y:s,opened:n,setOpened:r,boundaryRef:i,floating:l}}var _Ee=Object.defineProperty,wEe=Object.defineProperties,bEe=Object.getOwnPropertyDescriptors,Vb=Object.getOwnPropertySymbols,fY=Object.prototype.hasOwnProperty,dY=Object.prototype.propertyIsEnumerable,A3=(e,t,n)=>t in e?_Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iO=(e,t)=>{for(var n in t||(t={}))fY.call(t,n)&&A3(e,n,t[n]);if(Vb)for(var n of Vb(t))dY.call(t,n)&&A3(e,n,t[n]);return e},oO=(e,t)=>wEe(e,bEe(t)),SEe=(e,t)=>{var n={};for(var r in e)fY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vb)for(var r of Vb(e))t.indexOf(r)<0&&dY.call(e,r)&&(n[r]=e[r]);return n};const EEe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:us("popover")};function hY(e){var t;const n=st("TooltipFloating",EEe,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:l,styles:u,unstyled:c,radius:f,color:d,label:h,offset:p,position:g,multiline:y,width:m,zIndex:v,disabled:_}=n,b=SEe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:E,x:w,y:x,opened:I,boundaryRef:D,floating:R,setOpened:N}=vEe({offset:p,position:g}),{classes:z,cx:U}=uY({radius:f,color:d,multiline:y,width:m},{name:"Tooltip",classNames:l,styles:u,unstyled:c});if(!Vv(r))throw new Error(cY.children);const B=Ms(D,r.ref),ae=ue=>{var Q,ee;(ee=(Q=r.props).onMouseEnter)==null||ee.call(Q,ue),E(ue),N(!0)},re=ue=>{var Q,ee;(ee=(Q=r.props).onMouseLeave)==null||ee.call(Q,ue),N(!1)};return _?M.createElement(M.Fragment,null,r):M.createElement(M.Fragment,null,M.createElement(Hv,{withinPortal:o},M.createElement(rt,oO(iO({},b),{ref:R,className:U(z.tooltip,a),style:oO(iO({},s),{zIndex:v,display:I?"block":"none",top:x??"",left:(t=Math.round(w))!=null?t:""})}),h)),S.cloneElement(r,oO(iO({},r.props),{[i]:B,onMouseEnter:ae,onMouseLeave:re})))}hY.displayName="@mantine/core/TooltipFloating";function xEe(e){const[t,n]=S.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,o=uEe(),s=Iu(),{delay:a,currentId:l,setCurrentId:u}=Rq(),c=S.useCallback(I=>{n(I),I&&u(s)},[u,s]),{x:f,y:d,reference:h,floating:p,context:g,refs:y,update:m,placement:v,middlewareData:{arrow:{x:_,y:b}={}}}=jR({placement:e.position,open:i,onOpenChange:c,middleware:[bq(e.offset),DR({padding:8}),wq(),Cq({element:e.arrowRef}),...e.inline?[Eq()]:[]]}),{getReferenceProps:E,getFloatingProps:w}=Cye([Aye(g,{enabled:e.events.hover,delay:o?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),Fye(g,{enabled:e.events.focus,keyboardOnly:!0}),Dye(g,{role:"tooltip"}),jye(g,{enabled:typeof e.opened===void 0}),Nye(g,{id:s})]);return Nq({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:m}}),Qo(()=>{var I;(I=e.onPositionChange)==null||I.call(e,v)},[v]),{x:f,y:d,arrowX:_,arrowY:b,reference:h,floating:p,getFloatingProps:w,getReferenceProps:E,isGroupPhase:i&&l&&l!==s,opened:i,placement:v}}var PEe=Object.defineProperty,IEe=Object.defineProperties,OEe=Object.getOwnPropertyDescriptors,Bb=Object.getOwnPropertySymbols,pY=Object.prototype.hasOwnProperty,mY=Object.prototype.propertyIsEnumerable,R3=(e,t,n)=>t in e?PEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zm=(e,t)=>{for(var n in t||(t={}))pY.call(t,n)&&R3(e,n,t[n]);if(Bb)for(var n of Bb(t))mY.call(t,n)&&R3(e,n,t[n]);return e},TEe=(e,t)=>IEe(e,OEe(t)),CEe=(e,t)=>{var n={};for(var r in e)pY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bb)for(var r of Bb(e))t.indexOf(r)<0&&mY.call(e,r)&&(n[r]=e[r]);return n};const $Ee={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:us("popover"),positionDependencies:[]},px=S.forwardRef((e,t)=>{const n=S.useRef(null),r=st("Tooltip",$Ee,e),{children:i,position:o,refProp:s,label:a,openDelay:l,closeDelay:u,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:g,styles:y,unstyled:m,style:v,className:_,withArrow:b,arrowSize:E,arrowOffset:w,arrowRadius:x,offset:I,transition:D,transitionDuration:R,multiline:N,width:z,events:U,zIndex:B,disabled:ae,positionDependencies:re,onClick:ue,onMouseEnter:Q,onMouseLeave:ee,inline:W}=r,P=CEe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:O,cx:F,theme:$}=uY({radius:h,color:p,width:z,multiline:N},{name:"Tooltip",classNames:g,styles:y,unstyled:m}),C=xEe({position:Kq($.dir,o),closeDelay:u,openDelay:l,onPositionChange:c,opened:f,events:U,arrowRef:n,offset:I+(b?E/2:0),positionDependencies:[...re,i],inline:W});if(!Vv(i))throw new Error(cY.children);const H=Ms(C.reference,i.ref,t);return M.createElement(M.Fragment,null,M.createElement(Hv,{withinPortal:d},M.createElement(hx,{mounted:!ae&&C.opened,transition:D,duration:C.isGroupPhase?10:R},te=>{var ie,le;return M.createElement(rt,Zm(Zm({},P),C.getFloatingProps({ref:C.floating,className:O.tooltip,style:TEe(Zm(Zm({},v),te),{zIndex:B,top:(ie=C.y)!=null?ie:0,left:(le=C.x)!=null?le:0})})),a,M.createElement(FR,{ref:n,arrowX:C.arrowX,arrowY:C.arrowY,visible:b,withBorder:!1,position:C.placement,arrowSize:E,arrowOffset:w,arrowRadius:x,className:O.arrow}))})),S.cloneElement(i,C.getReferenceProps(Zm({onClick:ue,onMouseEnter:Q,onMouseLeave:ee,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[s]:H,className:F(_,i.props.className)},i.props))))});px.Group=lY;px.Floating=hY;px.displayName="@mantine/core/Tooltip";const gY=px;var kEe=Object.defineProperty,AEe=Object.defineProperties,REe=Object.getOwnPropertyDescriptors,zb=Object.getOwnPropertySymbols,yY=Object.prototype.hasOwnProperty,vY=Object.prototype.propertyIsEnumerable,N3=(e,t,n)=>t in e?kEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r$=(e,t)=>{for(var n in t||(t={}))yY.call(t,n)&&N3(e,n,t[n]);if(zb)for(var n of zb(t))vY.call(t,n)&&N3(e,n,t[n]);return e},_Y=(e,t)=>AEe(e,REe(t)),D3=(e,t)=>{var n={};for(var r in e)yY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zb)for(var r of zb(e))t.indexOf(r)<0&&vY.call(e,r)&&(n[r]=e[r]);return n};function NEe(e){return e.reduce((t,n)=>(t.sections.push(_Y(r$({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const DEe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},wY=S.forwardRef((e,t)=>{const n=st("Progress",DEe,e),{className:r,value:i,color:o,size:s,radius:a,striped:l,animate:u,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:g}=n,y=D3(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:m,cx:v,theme:_}=aEe({color:o,size:s,radius:a,striped:l||u,animate:u},{classNames:d,styles:h,unstyled:g,name:"Progress"}),b=Array.isArray(p)?NEe(p).map((E,w)=>{var x=E,{tooltip:I,accumulated:D,value:R,label:N,color:z}=x,U=D3(x,["tooltip","accumulated","value","label","color"]);return M.createElement(gY.Floating,{label:I,disabled:!I,key:w},M.createElement(rt,_Y(r$({},U),{className:v(m.bar,U.className),sx:{width:`${R}%`,left:`${D}%`,backgroundColor:_.fn.variant({variant:"filled",primaryFallback:!1,color:z||_.primaryColor}).background}}),N&&M.createElement(Et,{className:m.label},N)))}):null;return M.createElement(rt,r$({className:v(m.root,r),ref:t},y),b||M.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:m.bar,style:{width:`${i}%`}},c?M.createElement(Et,{className:m.label},c):""))});wY.displayName="@mantine/core/Progress";var MEe=Object.defineProperty,M3=Object.getOwnPropertySymbols,LEe=Object.prototype.hasOwnProperty,jEe=Object.prototype.propertyIsEnumerable,L3=(e,t,n)=>t in e?MEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FEe=(e,t)=>{for(var n in t||(t={}))LEe.call(t,n)&&L3(e,n,t[n]);if(M3)for(var n of M3(t))jEe.call(t,n)&&L3(e,n,t[n]);return e};function VEe(e){return M.createElement("svg",FEe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),M.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const bY=S.createContext(null),BEe=bY.Provider,zEe=()=>S.useContext(bY);var UEe=Object.defineProperty,Ub=Object.getOwnPropertySymbols,SY=Object.prototype.hasOwnProperty,EY=Object.prototype.propertyIsEnumerable,j3=(e,t,n)=>t in e?UEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F3=(e,t)=>{for(var n in t||(t={}))SY.call(t,n)&&j3(e,n,t[n]);if(Ub)for(var n of Ub(t))EY.call(t,n)&&j3(e,n,t[n]);return e},HEe=(e,t)=>{var n={};for(var r in e)SY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ub)for(var r of Ub(e))t.indexOf(r)<0&&EY.call(e,r)&&(n[r]=e[r]);return n};const WEe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},xY=S.forwardRef((e,t)=>{const n=st("RadioGroup",WEe,e),{children:r,value:i,defaultValue:o,onChange:s,orientation:a,spacing:l,size:u,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=HEe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[g,y]=ga({value:i,defaultValue:o,finalValue:"",onChange:s}),m=v=>y(v.currentTarget.value);return M.createElement(BEe,{value:{value:g,onChange:m,size:u,name:h}},M.createElement(Xo.Wrapper,F3(F3({labelElement:"div",size:u,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),M.createElement(jG,{spacing:l,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});xY.displayName="@mantine/core/RadioGroup";var qEe=Object.defineProperty,GEe=Object.defineProperties,KEe=Object.getOwnPropertyDescriptors,V3=Object.getOwnPropertySymbols,YEe=Object.prototype.hasOwnProperty,QEe=Object.prototype.propertyIsEnumerable,B3=(e,t,n)=>t in e?qEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XEe=(e,t)=>{for(var n in t||(t={}))YEe.call(t,n)&&B3(e,n,t[n]);if(V3)for(var n of V3(t))QEe.call(t,n)&&B3(e,n,t[n]);return e},JEe=(e,t)=>GEe(e,KEe(t));const sO={xs:16,sm:20,md:24,lg:30,xl:36},p_={xs:6,sm:8,md:10,lg:14,xl:16};var ZEe=et((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:o},s)=>{const a=e.fn.variant({variant:"filled",color:n}),l=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:s("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:p_,size:t}),height:e.fn.size({sizes:p_,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:p_,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:p_,size:t})/2}px)`},radio:JEe(XEe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?l:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:sO,size:t}),height:e.fn.size({sizes:sO,size:t}),borderRadius:e.fn.size({sizes:sO,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${s("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${s("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const exe=ZEe;var txe=Object.defineProperty,Hb=Object.getOwnPropertySymbols,PY=Object.prototype.hasOwnProperty,IY=Object.prototype.propertyIsEnumerable,z3=(e,t,n)=>t in e?txe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m_=(e,t)=>{for(var n in t||(t={}))PY.call(t,n)&&z3(e,n,t[n]);if(Hb)for(var n of Hb(t))IY.call(t,n)&&z3(e,n,t[n]);return e},nxe=(e,t)=>{var n={};for(var r in e)PY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hb)for(var r of Hb(e))t.indexOf(r)<0&&IY.call(e,r)&&(n[r]=e[r]);return n};const rxe={icon:VEe,transitionDuration:100,size:"sm",labelPosition:"right"},Wb=S.forwardRef((e,t)=>{var n,r;const i=st("Radio",rxe,e),{className:o,style:s,id:a,label:l,size:u,title:c,disabled:f,color:d,classNames:h,styles:p,sx:g,icon:y,transitionDuration:m,wrapperProps:v,unstyled:_,labelPosition:b,description:E,error:w}=i,x=nxe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),I=zEe(),D=(n=I==null?void 0:I.size)!=null?n:u,R=e.size?u:D,{classes:N}=exe({color:d,size:R,transitionDuration:m,labelPosition:b,error:!!w},{classNames:h,styles:p,unstyled:_,name:"Radio"}),{systemStyles:z,rest:U}=Ad(x),B=Iu(a),ae=I?{checked:I.value===U.value,name:(r=U.name)!=null?r:I.name,onChange:I.onChange}:{};return M.createElement(WR,m_(m_({className:o,sx:g,style:s,id:B,size:R,labelPosition:b,label:l,description:E,error:w,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:_,"data-checked":ae.checked||void 0},z),v),M.createElement("div",{className:N.inner},M.createElement("input",m_(m_({ref:t,className:N.radio,type:"radio",id:B,disabled:f},U),ae)),M.createElement(y,{className:N.icon,"aria-hidden":!0})))});Wb.displayName="@mantine/core/Radio";Wb.Group=xY;var ixe=Object.defineProperty,oxe=Object.defineProperties,sxe=Object.getOwnPropertyDescriptors,U3=Object.getOwnPropertySymbols,axe=Object.prototype.hasOwnProperty,lxe=Object.prototype.propertyIsEnumerable,H3=(e,t,n)=>t in e?ixe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g_=(e,t)=>{for(var n in t||(t={}))axe.call(t,n)&&H3(e,n,t[n]);if(U3)for(var n of U3(t))lxe.call(t,n)&&H3(e,n,t[n]);return e},uxe=(e,t)=>oxe(e,sxe(t));const vw=4,W3={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var cxe=et((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:o,transitionTimingFunction:s,size:a,orientation:l},u)=>{const c=l==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:uxe(g_(g_({ref:u("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:W3[a in W3?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:o}ms ${s||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:u("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:o}ms ${s||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${u("label")}`]:g_({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${u("label")}`]:g_({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:vw},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${u("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:o}ms ${e.transitionTimingFunction}, width ${i?0:o/2}ms ${s||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const fxe=cxe;var dxe=Object.defineProperty,qb=Object.getOwnPropertySymbols,OY=Object.prototype.hasOwnProperty,TY=Object.prototype.propertyIsEnumerable,q3=(e,t,n)=>t in e?dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hxe=(e,t)=>{for(var n in t||(t={}))OY.call(t,n)&&q3(e,n,t[n]);if(qb)for(var n of qb(t))TY.call(t,n)&&q3(e,n,t[n]);return e},pxe=(e,t)=>{var n={};for(var r in e)OY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qb)for(var r of qb(e))t.indexOf(r)<0&&TY.call(e,r)&&(n[r]=e[r]);return n};const mxe={disabled:!1,size:"sm",transitionDuration:200},CY=S.forwardRef((e,t)=>{var n,r,i,o;const s=st("SegmentedControl",mxe,e),{className:a,disabled:l,data:u,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:g,size:y,transitionDuration:m,transitionTimingFunction:v,classNames:_,styles:b,defaultValue:E,orientation:w,unstyled:x}=s,I=pxe(s,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),D=Wi(),R=xR(),N=D.respectReducedMotion?R:!1,z=u.map(ie=>typeof ie=="string"?{label:ie,value:ie}:ie),U=S.useRef(),[B,ae]=S.useState(!1),[re,ue]=ga({value:f,defaultValue:E,finalValue:Array.isArray(z)&&(o=(i=(n=z.find(ie=>!ie.disabled))==null?void 0:n.value)!=null?i:(r=z[0])==null?void 0:r.value)!=null?o:null,onChange:d}),{classes:Q,cx:ee}=fxe({size:y,fullWidth:p,color:h,radius:g,shouldAnimate:N||!B,transitionDuration:m,transitionTimingFunction:v,orientation:w},{classNames:_,styles:b,unstyled:x,name:"SegmentedControl"}),[W,P]=S.useState({width:0,height:0,translate:[0,0]}),O=Iu(c),F=S.useRef({}),[$,C]=Qg();ER(()=>{U.current?ae(!0):(U.current=!0,ae(!1))}),S.useEffect(()=>{if(re in F.current&&$.current){const ie=F.current[re],le=ie.getBoundingClientRect(),se=ie.offsetWidth/le.width,ye=le.width*se||0,ce=le.height*se||0,Ue=C.width-ie.parentElement.offsetLeft+vw-ye,Fe=ie.parentElement.offsetLeft-vw;P({width:ye,height:ce,translate:[D.dir==="rtl"?Ue:Fe,ie.parentElement.offsetTop-vw]})}},[re,C]);const H=z.map(ie=>M.createElement("div",{className:ee(Q.control,{[Q.controlActive]:re===ie.value}),key:ie.value},M.createElement("input",{className:Q.input,disabled:l||ie.disabled,type:"radio",name:O,value:ie.value,id:`${O}-${ie.value}`,checked:re===ie.value,onChange:()=>ue(ie.value)}),M.createElement("label",{className:ee(Q.label,{[Q.labelActive]:re===ie.value,[Q.disabled]:l||ie.disabled}),htmlFor:`${O}-${ie.value}`,ref:le=>{F.current[ie.value]=le}},ie.label))),te=Ms($,t);return z.length===0?null:M.createElement(rt,hxe({className:ee(Q.root,a),ref:te},I),typeof re=="string"&&B&&M.createElement(rt,{component:"span",className:Q.active,sx:{width:W.width,height:W.height,transform:`translate(${W.translate[0]}px, ${W.translate[1]}px )`}}),H)});CY.displayName="@mantine/core/SegmentedControl";function gxe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:o,filterDataOnExactSearchMatch:s}){if(!t)return e;const a=o!=null&&e.find(u=>u.value===o)||null;if(a&&!s&&(a==null?void 0:a.label)===r)return e;const l=[];for(let u=0;u<e.length&&(i(r,e[u])&&l.push(e[u]),!(l.length>=n));u+=1);return l}var yxe=et(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const vxe=yxe;var _xe=Object.defineProperty,wxe=Object.defineProperties,bxe=Object.getOwnPropertyDescriptors,Gb=Object.getOwnPropertySymbols,$Y=Object.prototype.hasOwnProperty,kY=Object.prototype.propertyIsEnumerable,G3=(e,t,n)=>t in e?_xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eg=(e,t)=>{for(var n in t||(t={}))$Y.call(t,n)&&G3(e,n,t[n]);if(Gb)for(var n of Gb(t))kY.call(t,n)&&G3(e,n,t[n]);return e},aO=(e,t)=>wxe(e,bxe(t)),Sxe=(e,t)=>{var n={};for(var r in e)$Y.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gb)for(var r of Gb(e))t.indexOf(r)<0&&kY.call(e,r)&&(n[r]=e[r]);return n};function Exe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function xxe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const Pxe={required:!1,size:"sm",shadow:"sm",itemComponent:$R,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:Exe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:xxe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:us("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},AY=S.forwardRef((e,t)=>{const n=Zq("Select",Pxe,e),{inputProps:r,wrapperProps:i,shadow:o,data:s,value:a,defaultValue:l,onChange:u,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:g,initiallyOpened:y,transitionTimingFunction:m,unstyled:v,classNames:_,styles:b,filter:E,maxDropdownHeight:w,searchable:x,clearable:I,nothingFound:D,clearButtonLabel:R,limit:N,disabled:z,onSearchChange:U,searchValue:B,rightSection:ae,rightSectionWidth:re,creatable:ue,getCreateLabel:Q,shouldCreate:ee,selectOnBlur:W,onCreate:P,dropdownComponent:O,onDropdownClose:F,onDropdownOpen:$,withinPortal:C,switchDirectionOnFlip:H,zIndex:te,name:ie,dropdownPosition:le,allowDeselect:se,placeholder:ye,filterDataOnExactSearchMatch:ce,clearButtonTabIndex:Ue,form:Fe,positionDependencies:Me,readOnly:Te}=n,we=Sxe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:Ne,cx:Ht,theme:Ce}=vxe(),[Re,dt]=S.useState(y),[De,lt]=S.useState(-1),Ft=S.useRef(),Jt=S.useRef({}),[jn,oe]=S.useState("column"),me=jn==="column",{scrollIntoView:$e,targetRef:Je,scrollableRef:Oe}=nW({duration:0,offset:5,cancelable:!1,isList:!0}),Ze=se===void 0?I:se,ke=ge=>{if(Re!==ge){dt(ge);const Le=ge?$:F;typeof Le=="function"&&Le()}},Ke=ue&&typeof Q=="function";let dn=null;const Mt=s.map(ge=>typeof ge=="string"?{label:ge,value:ge}:ge),gt=wH({data:Mt}),[Cn,hn,Ws]=ga({value:a,defaultValue:l,finalValue:null,onChange:u}),tr=gt.find(ge=>ge.value===Cn),[xi,cr]=ga({value:B,defaultValue:(tr==null?void 0:tr.label)||"",finalValue:void 0,onChange:U}),Pr=ge=>{cr(ge),x&&typeof U=="function"&&U(ge)},nr=()=>{var ge;Te||(hn(null),Ws||Pr(""),(ge=Ft.current)==null||ge.focus())};S.useEffect(()=>{const ge=gt.find(Le=>Le.value===Cn);ge?Pr(ge.label):(!Ke||!Cn)&&Pr("")},[Cn]),S.useEffect(()=>{tr&&(!x||!Re)&&Pr(tr.label)},[tr==null?void 0:tr.label]);const $n=ge=>{if(!Te)if(Ze&&(tr==null?void 0:tr.value)===ge.value)hn(null),ke(!1);else{if(ge.creatable&&typeof P=="function"){const Le=P(ge.value);typeof Le<"u"&&Le!==null&&hn(typeof Le=="string"?Le:Le.value)}else hn(ge.value);Ws||Pr(ge.label),lt(-1),ke(!1),Ft.current.focus()}},Wt=gxe({data:gt,searchable:x,limit:N,searchValue:xi,filter:E,filterDataOnExactSearchMatch:ce,value:Cn});Ke&&ee(xi,Wt)&&(dn=Q(xi),Wt.push({label:xi,value:xi,creatable:!0}));const Yr=(ge,Le,tt)=>{let Ge=ge;for(;tt(Ge);)if(Ge=Le(Ge),!Wt[Ge].disabled)return Ge;return ge};Qo(()=>{lt(-1)},[xi]);const fr=Cn?Wt.findIndex(ge=>ge.value===Cn):0,Ir=!Te&&(Wt.length>0?Re:Re&&!!D),si=()=>{lt(ge=>{var Le;const tt=Yr(ge,Ge=>Ge-1,Ge=>Ge>0);return Je.current=Jt.current[(Le=Wt[tt])==null?void 0:Le.value],Ir&&$e({alignment:me?"start":"end"}),tt})},oo=()=>{lt(ge=>{var Le;const tt=Yr(ge,Ge=>Ge+1,Ge=>Ge<Wt.length-1);return Je.current=Jt.current[(Le=Wt[tt])==null?void 0:Le.value],Ir&&$e({alignment:me?"end":"start"}),tt})},G=()=>window.setTimeout(()=>{var ge;Je.current=Jt.current[(ge=Wt[fr])==null?void 0:ge.value],$e({alignment:me?"end":"start"})},0);Qo(()=>{Ir&&G()},[Ir]);const j=ge=>{switch(typeof f=="function"&&f(ge),ge.key){case"ArrowUp":{ge.preventDefault(),Re?me?si():oo():(lt(fr),ke(!0),G());break}case"ArrowDown":{ge.preventDefault(),Re?me?oo():si():(lt(fr),ke(!0),G());break}case"Home":{if(!x){ge.preventDefault(),Re||ke(!0);const Le=Wt.findIndex(tt=>!tt.disabled);lt(Le),Ir&&$e({alignment:me?"end":"start"})}break}case"End":{if(!x){ge.preventDefault(),Re||ke(!0);const Le=Wt.map(tt=>!!tt.disabled).lastIndexOf(!1);lt(Le),Ir&&$e({alignment:me?"end":"start"})}break}case"Escape":{ge.preventDefault(),ke(!1),lt(-1);break}case" ":{x||(ge.preventDefault(),Wt[De]&&Re?$n(Wt[De]):(ke(!0),lt(fr),G()));break}case"Enter":x||ge.preventDefault(),Wt[De]&&Re&&(ge.preventDefault(),$n(Wt[De]))}},Y=ge=>{typeof d=="function"&&d(ge);const Le=gt.find(tt=>tt.value===Cn);W&&Wt[De]&&Re&&$n(Wt[De]),Pr((Le==null?void 0:Le.label)||""),ke(!1)},de=ge=>{typeof h=="function"&&h(ge),x&&ke(!0)},fe=ge=>{Te||(Pr(ge.currentTarget.value),I&&ge.currentTarget.value===""&&hn(null),lt(-1),ke(!0))},Ve=()=>{Te||(ke(!Re),Cn&&!Re&&lt(fr))};return M.createElement(Xo.Wrapper,aO(eg({},i),{__staticSelector:"Select"}),M.createElement(Ec,{opened:Ir,transition:p,transitionDuration:g,shadow:"sm",withinPortal:C,__staticSelector:"Select",onDirectionChange:oe,switchDirectionOnFlip:H,zIndex:te,dropdownPosition:le,positionDependencies:Me,classNames:_,styles:b,unstyled:v},M.createElement(Ec.Target,null,M.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Ir?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Ir,onMouseLeave:()=>lt(-1),tabIndex:-1},M.createElement("input",{type:"hidden",name:ie,value:Cn||"",form:Fe,disabled:z}),M.createElement(Xo,eg(aO(eg(eg({autoComplete:"off",type:"search"},r),we),{ref:Ms(t,Ft),onKeyDown:j,__staticSelector:"Select",value:xi,placeholder:ye,onChange:fe,"aria-autocomplete":"list","aria-controls":Ir?`${r.id}-items`:null,"aria-activedescendant":De>=0?`${r.id}-${De}`:null,onMouseDown:Ve,onBlur:Y,onFocus:de,readOnly:!x||Te,disabled:z,"data-mantine-stop-propagation":Ir,name:null,classNames:aO(eg({},_),{input:Ht({[Ne.input]:!x},_==null?void 0:_.input)})}),XK({theme:Ce,rightSection:ae,rightSectionWidth:re,styles:b,size:r.size,shouldClear:I&&!!tr,clearButtonLabel:R,onClear:nr,error:i.error,clearButtonTabIndex:Ue,disabled:z,readOnly:Te}))))),M.createElement(Ec.Dropdown,{component:O||cx,maxHeight:w,direction:jn,id:r.id,innerRef:Oe,__staticSelector:"Select",classNames:_,styles:b},M.createElement(CR,{data:Wt,hovered:De,classNames:_,styles:b,isItemSelected:ge=>ge===Cn,uuid:r.id,__staticSelector:"Select",onItemHover:lt,onItemSelect:$n,itemsRefs:Jt,itemComponent:c,size:r.size,nothingFound:D,creatable:Ke&&!!dn,createLabel:dn,"aria-label":i.label,unstyled:v}))))});AY.displayName="@mantine/core/Select";function Kb({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function i$({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return o!==void 0?Number(u.toFixed(o)):u}var Ixe=Object.defineProperty,Oxe=Object.defineProperties,Txe=Object.getOwnPropertyDescriptors,K3=Object.getOwnPropertySymbols,Cxe=Object.prototype.hasOwnProperty,$xe=Object.prototype.propertyIsEnumerable,Y3=(e,t,n)=>t in e?Ixe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kxe=(e,t)=>{for(var n in t||(t={}))Cxe.call(t,n)&&Y3(e,n,t[n]);if(K3)for(var n of K3(t))$xe.call(t,n)&&Y3(e,n,t[n]);return e},Axe=(e,t)=>Oxe(e,Txe(t));const bo={xs:4,sm:6,md:8,lg:10,xl:12};var Rxe=et((e,{size:t,disabled:n})=>({root:Axe(kxe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:bo,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const Nxe=Rxe;var Dxe=Object.defineProperty,Mxe=Object.defineProperties,Lxe=Object.getOwnPropertyDescriptors,Q3=Object.getOwnPropertySymbols,jxe=Object.prototype.hasOwnProperty,Fxe=Object.prototype.propertyIsEnumerable,X3=(e,t,n)=>t in e?Dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vxe=(e,t)=>{for(var n in t||(t={}))jxe.call(t,n)&&X3(e,n,t[n]);if(Q3)for(var n of Q3(t))Fxe.call(t,n)&&X3(e,n,t[n]);return e},Bxe=(e,t)=>Mxe(e,Lxe(t)),zxe=et((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:Bxe(Vxe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:bo,size:n})*2,width:i||e.fn.size({sizes:bo,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const Uxe=zxe,Yb=S.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,color:a,classNames:l,styles:u,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:g,onFocus:y,onBlur:m,showLabelOnHover:v,children:_=null,disabled:b,unstyled:E,thumbSize:w},x)=>{const{classes:I,cx:D,theme:R}=Uxe({color:a,size:c,disabled:b,thumbSize:w},{classNames:l,styles:u,unstyled:E,name:"Slider"}),[N,z]=S.useState(!1),U=p||o||N||v;return M.createElement(rt,{tabIndex:0,role:"slider","aria-label":g,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:x,className:D(I.thumb,{[I.dragging]:o}),onFocus:()=>{z(!0),typeof y=="function"&&y()},onBlur:()=>{z(!1),typeof m=="function"&&m()},onTouchStart:s,onMouseDown:s,onClick:B=>B.stopPropagation(),style:{[R.dir==="rtl"?"right":"left"]:`${r}%`}},_,M.createElement(hx,{mounted:i!=null&&U,duration:d,transition:f,timingFunction:h||R.transitionTimingFunction},B=>M.createElement("div",{style:B,className:I.label},i)))});Yb.displayName="@mantine/core/SliderThumb";function Hxe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var Wxe=et((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:bo})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:bo,size:t}),width:e.fn.size({sizes:bo,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:bo,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const qxe=Wxe;function RY({marks:e,color:t,size:n,min:r,max:i,value:o,classNames:s,styles:a,offset:l,onChange:u,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=qxe({size:n,color:t,disabled:c},{classNames:s,styles:a,unstyled:f,name:"Slider"}),g=e.map((y,m)=>M.createElement(rt,{className:h.markWrapper,sx:{left:`${Kb({value:y.value,min:r,max:i})}%`},key:m},M.createElement("div",{className:p(h.mark,{[h.markFilled]:Hxe({mark:y,value:o,offset:l,inverted:d})})}),y.label&&M.createElement("div",{className:h.markLabel,onMouseDown:v=>{v.stopPropagation(),u(y.value)},onTouchStart:v=>{v.stopPropagation(),u(y.value)}},y.label)));return M.createElement("div",null,g)}RY.displayName="@mantine/core/SliderMarks";var Gxe=et((e,{radius:t,size:n,color:r,disabled:i,inverted:o})=>({track:{position:"relative",height:e.fn.size({sizes:bo,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:bo}),marginLeft:e.fn.size({size:n,sizes:bo}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:bo}),left:-e.fn.size({size:n,sizes:bo}),backgroundColor:o?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:o?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const Kxe=Gxe;var Yxe=Object.defineProperty,Qxe=Object.defineProperties,Xxe=Object.getOwnPropertyDescriptors,Qb=Object.getOwnPropertySymbols,NY=Object.prototype.hasOwnProperty,DY=Object.prototype.propertyIsEnumerable,J3=(e,t,n)=>t in e?Yxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jxe=(e,t)=>{for(var n in t||(t={}))NY.call(t,n)&&J3(e,n,t[n]);if(Qb)for(var n of Qb(t))DY.call(t,n)&&J3(e,n,t[n]);return e},Zxe=(e,t)=>Qxe(e,Xxe(t)),ePe=(e,t)=>{var n={};for(var r in e)NY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qb)for(var r of Qb(e))t.indexOf(r)<0&&DY.call(e,r)&&(n[r]=e[r]);return n};function QR(e){var t=e,{filled:n,size:r,color:i,classNames:o,styles:s,radius:a,children:l,offset:u,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:g}=t,y=ePe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:m}=Kxe({color:i,size:r,radius:a,disabled:d,inverted:g},{classNames:o,styles:s,unstyled:p,name:"Slider"});return M.createElement("div",{className:m.track,onMouseLeave:c,onMouseEnter:f},M.createElement(rt,{className:m.bar,sx:v=>({left:`calc(${u}% - ${v.fn.size({size:r,sizes:bo})}px)`,width:`calc(${n}% + ${v.fn.size({size:r,sizes:bo})}px)`})}),l,M.createElement(RY,Zxe(Jxe({},y),{size:r,color:i,offset:h,classNames:o,styles:s,disabled:d,unstyled:p,inverted:g})))}QR.displayName="@mantine/core/SliderTrack";var tPe=Object.defineProperty,nPe=Object.defineProperties,rPe=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertySymbols,MY=Object.prototype.hasOwnProperty,LY=Object.prototype.propertyIsEnumerable,Z3=(e,t,n)=>t in e?tPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iPe=(e,t)=>{for(var n in t||(t={}))MY.call(t,n)&&Z3(e,n,t[n]);if(Xb)for(var n of Xb(t))LY.call(t,n)&&Z3(e,n,t[n]);return e},oPe=(e,t)=>nPe(e,rPe(t)),sPe=(e,t)=>{var n={};for(var r in e)MY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xb)for(var r of Xb(e))t.indexOf(r)<0&&LY.call(e,r)&&(n[r]=e[r]);return n};const XR=S.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:o,styles:s,disabled:a,unstyled:l}=n,u=sPe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=Nxe({size:i,disabled:a},{classNames:o,styles:s,unstyled:l,name:"Slider"});return M.createElement(rt,oPe(iPe({},u),{tabIndex:-1,className:f(c.root,r),ref:t}))});XR.displayName="@mantine/core/SliderRoot";var aPe=Object.defineProperty,lPe=Object.defineProperties,uPe=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,jY=Object.prototype.hasOwnProperty,FY=Object.prototype.propertyIsEnumerable,eV=(e,t,n)=>t in e?aPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cPe=(e,t)=>{for(var n in t||(t={}))jY.call(t,n)&&eV(e,n,t[n]);if(Jb)for(var n of Jb(t))FY.call(t,n)&&eV(e,n,t[n]);return e},fPe=(e,t)=>lPe(e,uPe(t)),dPe=(e,t)=>{var n={};for(var r in e)jY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jb)for(var r of Jb(e))t.indexOf(r)<0&&FY.call(e,r)&&(n[r]=e[r]);return n};const hPe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},JR=S.forwardRef((e,t)=>{const n=st("Slider",hPe,e),{classNames:r,styles:i,color:o,value:s,onChange:a,onChangeEnd:l,size:u,radius:c,min:f,max:d,step:h,precision:p,defaultValue:g,name:y,marks:m,label:v,labelTransition:_,labelTransitionDuration:b,labelTransitionTimingFunction:E,labelAlwaysOn:w,thumbLabel:x,showLabelOnHover:I,thumbChildren:D,disabled:R,unstyled:N,thumbSize:z,scale:U,inverted:B}=n,ae=dPe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),re=Wi(),[ue,Q]=S.useState(!1),[ee,W]=ga({value:typeof s=="number"?bc(s,f,d):s,defaultValue:typeof g=="number"?bc(g,f,d):g,finalValue:bc(0,f,d),onChange:a}),P=S.useRef(ee),O=S.useRef(),F=Kb({value:ee,min:f,max:d}),$=U(ee),C=typeof v=="function"?v($):v,H=S.useCallback(({x:ye})=>{if(!R){const ce=i$({value:ye,min:f,max:d,step:h,precision:p});W(ce),P.current=ce}},[R,f,d,h,p]),{ref:te,active:ie}=tW(H,{onScrubEnd:()=>l==null?void 0:l(P.current)},re.dir),le=ye=>{ye.stopPropagation()},se=ye=>{if(!R)switch(ye.key){case"ArrowUp":{ye.preventDefault(),O.current.focus();const ce=Math.min(Math.max(ee+h,f),d);l==null||l(ce),W(ce);break}case"ArrowRight":{ye.preventDefault(),O.current.focus();const ce=Math.min(Math.max(re.dir==="rtl"?ee-h:ee+h,f),d);l==null||l(ce),W(ce);break}case"ArrowDown":{ye.preventDefault(),O.current.focus();const ce=Math.min(Math.max(ee-h,f),d);l==null||l(ce),W(ce);break}case"ArrowLeft":{ye.preventDefault(),O.current.focus();const ce=Math.min(Math.max(re.dir==="rtl"?ee+h:ee-h,f),d);l==null||l(ce),W(ce);break}case"Home":{ye.preventDefault(),O.current.focus(),l==null||l(f),W(f);break}case"End":{ye.preventDefault(),O.current.focus(),l==null||l(d),W(d);break}}};return M.createElement(XR,fPe(cPe({},ae),{size:u,ref:Ms(te,t),onKeyDownCapture:se,onMouseDownCapture:()=>{var ye;return(ye=te.current)==null?void 0:ye.focus()},classNames:r,styles:i,disabled:R,unstyled:N}),M.createElement(QR,{inverted:B,offset:0,filled:F,marks:m,size:u,radius:c,color:o,min:f,max:d,value:$,onChange:W,onMouseEnter:I?()=>Q(!0):void 0,onMouseLeave:I?()=>Q(!1):void 0,classNames:r,styles:i,disabled:R,unstyled:N},M.createElement(Yb,{max:d,min:f,value:$,position:F,dragging:ie,color:o,size:u,label:C,ref:O,onMouseDown:le,labelTransition:_,labelTransitionDuration:b,labelTransitionTimingFunction:E,labelAlwaysOn:w,classNames:r,styles:i,thumbLabel:x,showLabelOnHover:I&&ue,disabled:R,unstyled:N,thumbSize:z},D)),M.createElement("input",{type:"hidden",name:y,value:$}))});JR.displayName="@mantine/core/Slider";function pPe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var mPe=Object.defineProperty,gPe=Object.defineProperties,yPe=Object.getOwnPropertyDescriptors,Zb=Object.getOwnPropertySymbols,VY=Object.prototype.hasOwnProperty,BY=Object.prototype.propertyIsEnumerable,tV=(e,t,n)=>t in e?mPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lO=(e,t)=>{for(var n in t||(t={}))VY.call(t,n)&&tV(e,n,t[n]);if(Zb)for(var n of Zb(t))BY.call(t,n)&&tV(e,n,t[n]);return e},uO=(e,t)=>gPe(e,yPe(t)),vPe=(e,t)=>{var n={};for(var r in e)VY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zb)for(var r of Zb(e))t.indexOf(r)<0&&BY.call(e,r)&&(n[r]=e[r]);return n};const _Pe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},o$=S.forwardRef((e,t)=>{const n=st("RangeSlider",_Pe,e),{classNames:r,styles:i,color:o,value:s,onChange:a,onChangeEnd:l,size:u,radius:c,min:f,max:d,minRange:h,step:p,precision:g,defaultValue:y,name:m,marks:v,label:_,labelTransition:b,labelTransitionDuration:E,labelTransitionTimingFunction:w,labelAlwaysOn:x,thumbFromLabel:I,thumbToLabel:D,showLabelOnHover:R,thumbChildren:N,disabled:z,unstyled:U,thumbSize:B,scale:ae,inverted:re}=n,ue=vPe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),Q=Wi(),[ee,W]=S.useState(-1),[P,O]=S.useState(!1),[F,$]=ga({value:s,defaultValue:y,finalValue:[f,d],onChange:a}),C=S.useRef(F),H=S.useRef([]),te=S.useRef(void 0),ie=[Kb({value:F[0],min:f,max:d}),Kb({value:F[1],min:f,max:d})],le=Ce=>{$(Ce),C.current=Ce};S.useEffect(()=>{Array.isArray(s)&&(C.current=s)},Array.isArray(s)?[s[0],s[1]]:[null,null]);const se=(Ce,Re,dt)=>{const De=[...C.current];De[Re]=Ce,Re===0&&(Ce>De[1]-(h-1e-9)&&(De[1]=Math.min(Ce+h,d)),Ce>(d-(h-1e-9)||f)&&(De[Re]=C.current[Re])),Re===1&&(Ce<De[0]+h&&(De[0]=Math.max(Ce-h,f)),Ce<De[0]+h&&(De[Re]=C.current[Re])),le(De),dt&&(l==null||l(C.current))},ye=Ce=>{if(!z){const Re=i$({value:Ce,min:f,max:d,step:p,precision:g});se(Re,te.current,!1)}},{ref:ce,active:Ue}=tW(({x:Ce})=>ye(Ce),{onScrubEnd:()=>l==null?void 0:l(C.current)},Q.dir);function Fe(Ce,Re){Ce.stopPropagation(),te.current=Re}const Me=Ce=>{ce.current.focus();const Re=ce.current.getBoundingClientRect(),dt=pPe(Ce.nativeEvent),De=i$({value:dt-Re.left,max:d,min:f,step:p,containerWidth:Re.width}),lt=Math.abs(F[0]-De)>Math.abs(F[1]-De)?1:0,Ft=Q.dir==="ltr"?lt:lt===1?0:1;te.current=Ft},Te=()=>ee!==1&&ee!==0?(W(0),0):ee,we=Ce=>{if(!z)switch(Ce.key){case"ArrowUp":{Ce.preventDefault();const Re=Te();H.current[Re].focus(),se(Math.min(Math.max(C.current[Re]+p,f),d),Re,!0);break}case"ArrowRight":{Ce.preventDefault();const Re=Te();H.current[Re].focus(),se(Math.min(Math.max(Q.dir==="rtl"?C.current[Re]-p:C.current[Re]+p,f),d),Re,!0);break}case"ArrowDown":{Ce.preventDefault();const Re=Te();H.current[Re].focus(),se(Math.min(Math.max(C.current[Re]-p,f),d),Re,!0);break}case"ArrowLeft":{Ce.preventDefault();const Re=Te();H.current[Re].focus(),se(Math.min(Math.max(Q.dir==="rtl"?C.current[Re]+p:C.current[Re]-p,f),d),Re,!0);break}}},Ne={max:d,min:f,color:o,size:u,labelTransition:b,labelTransitionDuration:E,labelTransitionTimingFunction:w,labelAlwaysOn:x,onBlur:()=>W(-1),classNames:r,styles:i},Ht=Array.isArray(N);return M.createElement(XR,uO(lO({},ue),{size:u,ref:Ms(ce,t),onTouchStartCapture:Me,onTouchEndCapture:()=>{te.current=-1},onMouseDownCapture:Me,onMouseUpCapture:()=>{te.current=-1},onKeyDownCapture:we,styles:i,classNames:r,disabled:z,unstyled:U}),M.createElement(QR,{offset:ie[0],marksOffset:F[0],filled:ie[1]-ie[0],marks:v,inverted:re,size:u,radius:c,color:o,min:f,max:d,value:F[1],styles:i,classNames:r,onMouseEnter:R?()=>O(!0):void 0,onMouseLeave:R?()=>O(!1):void 0,onChange:Ce=>{const Re=Math.abs(F[0]-Ce)>Math.abs(F[1]-Ce)?1:0,dt=[...F];dt[Re]=Ce,le(dt)},disabled:z,unstyled:U},M.createElement(Yb,uO(lO({},Ne),{value:ae(F[0]),position:ie[0],dragging:Ue,label:typeof _=="function"?_(ae(F[0])):_,ref:Ce=>{H.current[0]=Ce},thumbLabel:I,onMouseDown:Ce=>Fe(Ce,0),onFocus:()=>W(0),showLabelOnHover:R&&P,disabled:z,unstyled:U,thumbSize:B}),Ht?N[0]:N),M.createElement(Yb,uO(lO({},Ne),{thumbLabel:D,value:ae(F[1]),position:ie[1],dragging:Ue,label:typeof _=="function"?_(ae(F[1])):_,ref:Ce=>{H.current[1]=Ce},onMouseDown:Ce=>Fe(Ce,1),onFocus:()=>W(1),showLabelOnHover:R&&P,disabled:z,unstyled:U,thumbSize:B}),Ht?N[1]:N)),M.createElement("input",{type:"hidden",name:`${m}_from`,value:F[0]}),M.createElement("input",{type:"hidden",name:`${m}_to`,value:F[1]}))});o$.displayName="@mantine/core/RangeSlider";var wPe=Object.defineProperty,eS=Object.getOwnPropertySymbols,zY=Object.prototype.hasOwnProperty,UY=Object.prototype.propertyIsEnumerable,nV=(e,t,n)=>t in e?wPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bPe=(e,t)=>{for(var n in t||(t={}))zY.call(t,n)&&nV(e,n,t[n]);if(eS)for(var n of eS(t))UY.call(t,n)&&nV(e,n,t[n]);return e},SPe=(e,t)=>{var n={};for(var r in e)zY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eS)for(var r of eS(e))t.indexOf(r)<0&&UY.call(e,r)&&(n[r]=e[r]);return n};const EPe={w:0,h:0},xp=S.forwardRef((e,t)=>{const n=st("Space",EPe,e),{w:r,h:i,sx:o}=n,s=SPe(n,["w","h","sx"]);return M.createElement(rt,bPe({ref:t,sx:[a=>{const l=a.fn.size({size:r,sizes:a.spacing}),u=a.fn.size({size:i,sizes:a.spacing});return{width:l,height:u,minWidth:l,minHeight:u}},...cd(o)]},s))});xp.displayName="@mantine/core/Space";var xPe=Object.defineProperty,PPe=Object.defineProperties,IPe=Object.getOwnPropertyDescriptors,rV=Object.getOwnPropertySymbols,OPe=Object.prototype.hasOwnProperty,TPe=Object.prototype.propertyIsEnumerable,iV=(e,t,n)=>t in e?xPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CPe=(e,t)=>{for(var n in t||(t={}))OPe.call(t,n)&&iV(e,n,t[n]);if(rV)for(var n of rV(t))TPe.call(t,n)&&iV(e,n,t[n]);return e},$Pe=(e,t)=>PPe(e,IPe(t));function kPe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function APe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var RPe=et((e,{element:t,weight:n,size:r,inline:i})=>({root:$Pe(CPe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:kPe(r,t,e),lineHeight:i?1:APe(r,t,e),margin:0})}));const NPe=RPe;var DPe=Object.defineProperty,tS=Object.getOwnPropertySymbols,HY=Object.prototype.hasOwnProperty,WY=Object.prototype.propertyIsEnumerable,oV=(e,t,n)=>t in e?DPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MPe=(e,t)=>{for(var n in t||(t={}))HY.call(t,n)&&oV(e,n,t[n]);if(tS)for(var n of tS(t))WY.call(t,n)&&oV(e,n,t[n]);return e},LPe=(e,t)=>{var n={};for(var r in e)HY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tS)for(var r of tS(e))t.indexOf(r)<0&&WY.call(e,r)&&(n[r]=e[r]);return n};const jPe={order:1},Ku=S.forwardRef((e,t)=>{const n=st("Title",jPe,e),{className:r,order:i,children:o,unstyled:s,size:a,weight:l,inline:u}=n,c=LPe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=NPe({element:`h${i}`,weight:l,size:a,inline:u},{name:"Title",unstyled:s});return[1,2,3,4,5,6].includes(i)?M.createElement(Et,MPe({component:`h${i}`,ref:t,className:d(f.root,r)},c),o):null});Ku.displayName="@mantine/core/Title";function s$(e){const t=e.split("/")||[];return t[(t==null?void 0:t.length)-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const FPe="https://github.com/revisit-studies/study/tree/main/public/",VPe=({globalConfig:e,studyConfigs:t})=>{const{configsList:n}=e,r=kd();return T.jsxs(QG,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[T.jsx(Kv,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${El}assets/revisitLogoSquare.svg`,alt:"reVISit"}),T.jsx(Et,{children:"Select an experiment to launch:"}),n.map(i=>{const o=t[i];if(!o)return null;const s=s$(i);return T.jsx(PR,{onClick:()=>{r(`/${s}`)},my:"sm",style:{width:"100%"},children:T.jsxs(__e,{shadow:"sm",radius:"md",withBorder:!0,children:[T.jsx(Et,{fw:"bold",children:o.studyMetadata.title}),T.jsxs(Et,{c:"dimmed",children:["Authors: ",o.studyMetadata.authors]}),T.jsx(Et,{c:"dimmed",children:o.studyMetadata.description}),T.jsx(Et,{c:"dimmed",ta:"right",style:{paddingRight:5},children:T.jsxs(NW,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${FPe}${s}`,children:["View source: ",s]})})]})},i)})]})};var qY={exports:{}},GY={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=S;function BPe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zPe=typeof Object.is=="function"?Object.is:BPe,UPe=Pp.useState,HPe=Pp.useEffect,WPe=Pp.useLayoutEffect,qPe=Pp.useDebugValue;function GPe(e,t){var n=t(),r=UPe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return WPe(function(){i.value=n,i.getSnapshot=t,cO(i)&&o({inst:i})},[e,n,t]),HPe(function(){return cO(i)&&o({inst:i}),e(function(){cO(i)&&o({inst:i})})},[e]),qPe(n),n}function cO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zPe(e,n)}catch{return!0}}function KPe(e,t){return t()}var YPe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KPe:GPe;GY.useSyncExternalStore=Pp.useSyncExternalStore!==void 0?Pp.useSyncExternalStore:YPe;qY.exports=GY;var QPe=qY.exports,KY={exports:{}},YY={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx=S,XPe=QPe;function JPe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZPe=typeof Object.is=="function"?Object.is:JPe,eIe=XPe.useSyncExternalStore,tIe=mx.useRef,nIe=mx.useEffect,rIe=mx.useMemo,iIe=mx.useDebugValue;YY.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=tIe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=rIe(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,ZPe(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=eIe(e,o[0],o[1]);return nIe(function(){s.hasValue=!0,s.value=a},[a]),iIe(a),a};KY.exports=YY;var oIe=KY.exports;function sIe(e){e()}let QY=sIe;const aIe=e=>QY=e,lIe=()=>QY,Dc=S.createContext(null);function XY(){return S.useContext(Dc)}const uIe=()=>{throw new Error("uSES not initialized!")};let JY=uIe;const cIe=e=>{JY=e},fIe=(e,t)=>e===t;function dIe(e=Dc){const t=e===Dc?XY:()=>S.useContext(e);return function(r,i=fIe){const{store:o,subscription:s,getServerState:a}=t(),l=JY(s.addNestedSub,o.getState,a||o.getState,r,i);return S.useDebugValue(l),l}}const hIe=dIe();var Tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR=Symbol.for("react.element"),eN=Symbol.for("react.portal"),gx=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),vx=Symbol.for("react.profiler"),_x=Symbol.for("react.provider"),wx=Symbol.for("react.context"),pIe=Symbol.for("react.server_context"),bx=Symbol.for("react.forward_ref"),Sx=Symbol.for("react.suspense"),Ex=Symbol.for("react.suspense_list"),xx=Symbol.for("react.memo"),Px=Symbol.for("react.lazy"),mIe=Symbol.for("react.offscreen"),ZY;ZY=Symbol.for("react.module.reference");function js(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ZR:switch(e=e.type,e){case gx:case vx:case yx:case Sx:case Ex:return e;default:switch(e=e&&e.$$typeof,e){case pIe:case wx:case bx:case Px:case xx:case _x:return e;default:return t}}case eN:return t}}}Tn.ContextConsumer=wx;Tn.ContextProvider=_x;Tn.Element=ZR;Tn.ForwardRef=bx;Tn.Fragment=gx;Tn.Lazy=Px;Tn.Memo=xx;Tn.Portal=eN;Tn.Profiler=vx;Tn.StrictMode=yx;Tn.Suspense=Sx;Tn.SuspenseList=Ex;Tn.isAsyncMode=function(){return!1};Tn.isConcurrentMode=function(){return!1};Tn.isContextConsumer=function(e){return js(e)===wx};Tn.isContextProvider=function(e){return js(e)===_x};Tn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ZR};Tn.isForwardRef=function(e){return js(e)===bx};Tn.isFragment=function(e){return js(e)===gx};Tn.isLazy=function(e){return js(e)===Px};Tn.isMemo=function(e){return js(e)===xx};Tn.isPortal=function(e){return js(e)===eN};Tn.isProfiler=function(e){return js(e)===vx};Tn.isStrictMode=function(e){return js(e)===yx};Tn.isSuspense=function(e){return js(e)===Sx};Tn.isSuspenseList=function(e){return js(e)===Ex};Tn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gx||e===vx||e===yx||e===Sx||e===Ex||e===mIe||typeof e=="object"&&e!==null&&(e.$$typeof===Px||e.$$typeof===xx||e.$$typeof===_x||e.$$typeof===wx||e.$$typeof===bx||e.$$typeof===ZY||e.getModuleId!==void 0)};Tn.typeOf=js;function gIe(){const e=lIe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const sV={notify(){},get:()=>[]};function yIe(e,t){let n,r=sV;function i(f){return l(),r.subscribe(f)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=gIe())}function u(){n&&(n(),n=void 0,r.clear(),r=sV)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const vIe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_Ie=vIe?S.useLayoutEffect:S.useEffect;function wIe({store:e,context:t,children:n,serverState:r}){const i=S.useMemo(()=>{const a=yIe(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),o=S.useMemo(()=>e.getState(),[e]);_Ie(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]);const s=t||Dc;return M.createElement(s.Provider,{value:i},n)}function eQ(e=Dc){const t=e===Dc?XY:()=>S.useContext(e);return function(){const{store:r}=t();return r}}const bIe=eQ();function SIe(e=Dc){const t=e===Dc?bIe:eQ(e);return function(){return t().dispatch}}const tQ=SIe();cIe(oIe.useSyncExternalStoreWithSelector);aIe(Fv.unstable_batchedUpdates);const EIe={},xIe=Object.freeze(Object.defineProperty({__proto__:null,default:EIe},Symbol.toStringTag,{value:"Module"})),PIe=Kse(xIe);var IIe=PIe;function OIe(e,t){var n,r="",i=0,o=!0,s=0,a;function l(){return a=e.charAt(s),s++,a}for(l(),a==="-"&&(r="-",l());a>="0"&&a<="9";)o&&(a=="0"?i++:o=!1),r+=a,l();if(o&&i--,a===".")for(r+=".";l()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,l(),(a==="-"||a==="+")&&(r+=a,l());a>="0"&&a<="9";)r+=a,l();for(;a&&a<=" ";)l();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[s]==="/"||e[s]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function TIe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function CIe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function $Ie(e){return e.__COMMENTS__}function kIe(e){if(!e)return"";var t=e.split(`
`),n,r,i,o;for(i=0;i<t.length;i++)for(n=t[i],o=n.length,r=0;r<o;r++){var s=n[r];if(s==="#")break;if(s==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(s>" "){t[i]="# "+n;break}}return t.join(`
`)}var Ix={EOL:IIe.EOL||`
`,tryParseNumber:OIe,createComment:TIe,removeComment:CIe,getComment:$Ie,forceComment:kIe},AIe="3.2.1";function RIe(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return aV}else if(e.length===0)return aV;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var o=i.stringify.apply(null,arguments);if(o!==void 0&&(typeof o!="string"||o.length===0||o[0]==='"'||[].some.call(o,function(s){return DIe(s)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+o);return o}else throw new Error("Invalid type")}catch(s){throw new Error("DSF-"+i.name+" failed; "+s.message)}})}),NIe.bind(null,n)}function NIe(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function aV(){}function DIe(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function nQ(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}nQ.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function rQ(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}rQ.description="parse hexadecimal numbers prefixed with 0x";function iQ(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}iQ.description="support ISO dates";var tN={loadDsf:RIe,std:{math:nQ,hex:rQ,date:iQ}},MIe=function(e,t){var n=Ix,r=tN,i,o,s,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){o=0,s=" "}function f(B){return B==="{"||B==="}"||B==="["||B==="]"||B===","||B===":"}function d(B){var ae,re=0,ue=1;for(ae=o-1;ae>0&&i[ae]!==`
`;ae--,re++);for(;ae>0;ae--)i[ae]===`
`&&ue++;throw new Error(B+" at line "+ue+","+re+" >>>"+i.substr(o-re,20)+" ...")}function h(){return s=i.charAt(o),o++,s}function p(B){return i.charAt(o+B)}function g(B){for(var ae="",re=s;h();){if(s===re)return h(),B&&re==="'"&&s==="'"&&ae.length===0?(h(),y()):ae;if(s==="\\")if(h(),s==="u"){for(var ue=0,Q=0;Q<4;Q++){h();var ee=s.charCodeAt(0),W;s>="0"&&s<="9"?W=ee-48:s>="a"&&s<="f"?W=ee-97+10:s>="A"&&s<="F"?W=ee-65+10:d("Bad \\u char "+s),ue=ue*16+W}ae+=String.fromCharCode(ue)}else if(typeof a[s]=="string")ae+=a[s];else break;else s===`
`||s==="\r"?d("Bad string containing newline"):ae+=s}d("Bad string")}function y(){for(var B="",ae=0,re=0;;){var ue=p(-re-5);if(!ue||ue===`
`)break;re++}function Q(){for(var ee=re;s&&s<=" "&&s!==`
`&&ee-- >0;)h()}for(;s&&s<=" "&&s!==`
`;)h();for(s===`
`&&(h(),Q());;){if(!s)d("Bad multiline string");else if(s==="'"){if(ae++,h(),ae===3)return B.slice(-1)===`
`&&(B=B.slice(0,-1)),B;continue}else for(;ae>0;)B+="'",ae--;s===`
`?(B+=`
`,h(),Q()):(s!=="\r"&&(B+=s),h())}}function m(){if(s==='"'||s==="'")return g(!1);for(var B="",ae=o,re=-1;;){if(s===":")return B?re>=0&&re!==B.length&&(o=ae+re,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),B;s<=" "?s?re<0&&(re=B.length):d("Found EOF while looking for a key name (check your syntax)"):f(s)?d("Found '"+s+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):B+=s,h()}}function v(){for(;s;){for(;s&&s<=" ";)h();if(s==="#"||s==="/"&&p(0)==="/")for(;s&&s!==`
`;)h();else if(s==="/"&&p(0)==="*"){for(h(),h();s&&!(s==="*"&&p(0)==="/");)h();s&&(h(),h())}else break}}function _(){var B=s;for(f(s)&&d("Found a punctuator character '"+s+"' when expecting a quoteless string (check your syntax)");;){h();var ae=s==="\r"||s===`
`||s==="";if(ae||s===","||s==="}"||s==="]"||s==="#"||s==="/"&&(p(0)==="/"||p(0)==="*")){var re=B[0];switch(re){case"f":if(B.trim()==="false")return!1;break;case"n":if(B.trim()==="null")return null;break;case"t":if(B.trim()==="true")return!0;break;default:if(re==="-"||re>="0"&&re<="9"){var ue=n.tryParseNumber(B);if(ue!==void 0)return ue}}if(ae){B=B.trim();var Q=u(B);return Q!==void 0?Q:B}}B+=s}}function b(B,ae){var re;for(B--,re=o-2;re>B&&i[re]<=" "&&i[re]!==`
`;re--);i[re]===`
`&&re--,i[re]==="\r"&&re--;var ue=i.substr(B,re-B+1);for(re=0;re<ue.length;re++)if(ue[re]>" "){var Q=ue.indexOf(`
`);if(Q>=0){var ee=[ue.substr(0,Q),ue.substr(Q+1)];return ae&&ee[0].trim().length===0&&ee.shift(),ee}else return[ue]}return[]}function E(B){function ae(ue,Q){var ee,W,P,O;switch(typeof ue){case"string":ue.indexOf(Q)>=0&&(O=ue);break;case"object":if(Object.prototype.toString.apply(ue)==="[object Array]")for(ee=0,P=ue.length;ee<P;ee++)O=ae(ue[ee],Q)||O;else for(W in ue)Object.prototype.hasOwnProperty.call(ue,W)&&(O=ae(ue[W],Q)||O)}return O}function re(ue){var Q=ae(B,ue);return Q?"found '"+ue+`' in a string value, your mistake could be with:
  > `+Q+`
  (unquoted strings contain everything up to the next line!)`:""}return re("}")||re("]")}function w(){var B=[],ae,re,ue;try{if(l&&(ae=n.createComment(B,{a:[]})),h(),re=o,v(),ae&&(ue=b(re,!0).join(`
`)),s==="]")return h(),ae&&(ae.e=[ue]),B;for(;s;){if(B.push(I()),re=o,v(),s===","&&(h(),re=o,v()),ae){var Q=b(re);ae.a.push([ue||"",Q[0]||""]),ue=Q[1]}if(s==="]")return h(),ae&&(ae.a[ae.a.length-1][1]+=ue||""),B;v()}d("End of input while parsing an array (missing ']')")}catch(ee){throw ee.hint=ee.hint||E(B),ee}}function x(B){var ae="",re={},ue,Q,ee;try{if(l&&(ue=n.createComment(re,{c:{},o:[]})),B?Q=1:(h(),Q=o),v(),ue&&(ee=b(Q,!0).join(`
`)),s==="}"&&!B)return ue&&(ue.e=[ee]),h(),re;for(;s;){if(ae=m(),v(),s!==":"&&d("Expected ':' instead of '"+s+"'"),h(),re[ae]=I(),Q=o,v(),s===","&&(h(),Q=o,v()),ue){var W=b(Q);ue.c[ae]=[ee||"",W[0]||""],ee=W[1],ue.o.push(ae)}if(s==="}"&&!B)return h(),ue&&(ue.c[ae][1]+=ee||""),re;v()}if(B)return re;d("End of input while parsing an object (missing '}')")}catch(P){throw P.hint=P.hint||E(re),P}}function I(){switch(v(),s){case"{":return x();case"[":return w();case"'":case'"':return g(!0);default:return _()}}function D(B,ae){var re=o;if(v(),s&&d("Syntax error, found trailing characters"),l){var ue=ae.join(`
`),Q=b(re).join(`
`);if(Q||ue){var ee=n.createComment(B,n.getComment(B));ee.r=[ue,Q]}}return B}function R(){v();var B=l?b(1):null;switch(s){case"{":return D(x(),B);case"[":return D(w(),B);default:return D(I(),B)}}function N(){v();var B=l?b(1):null;switch(s){case"{":return D(x(),B);case"[":return D(w(),B)}try{return D(x(!0),B)}catch(ae){c();try{return D(I(),B)}catch{throw ae}}}if(typeof e!="string")throw new Error("source is not a string");var z=null,U=!0;return t&&typeof t=="object"&&(l=t.keepWsc,z=t.dsf,U=t.legacyRoot!==!1),u=r.loadDsf(z,"parse"),i=e,c(),U?N():R()},LIe=function(e,t){var n=Ix,r=tN,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},o=n.EOL,s="  ",a=!1,l=!1,u=!1,c=!1,f=0,d=1,h="",p=null,g=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(o=t.eol),a=t.keepWsc,f=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,g=t.sortProps,typeof t.space=="number"?s=new Array(t.space+1).join(" "):typeof t.space=="string"&&(s=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var m,v=Object.keys(i);for(m=v.length-1;m>=0;m--){var _=v[m];y[_].push(i[_][0].length,i[_][1].length)}}var b,E="---\u2028--\uFEFF-",w=new RegExp('[\\\\\\"\0-'+E+"]","g"),x=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+E+"]","g"),I=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+E+"]","g"),D=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),R={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},N=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,z="",U=0;function B(O,F){return U+=O[0].length+O[1].length-O[2]-O[3],O[0]+F+O[1]}function ae(O){return O.replace(w,function(F){var $=R[F];return typeof $=="string"?B(y.esc,$):B(y.uni,("0000"+F.charCodeAt(0).toString(16)).slice(-4))})}function re(O,F,$,C){return O?(x.lastIndex=0,D.lastIndex=0,c||$||x.test(O)||n.tryParseNumber(O,!0)!==void 0||D.test(O)?(w.lastIndex=0,I.lastIndex=0,w.test(O)?!I.test(O)&&!C&&d?ue(O,F):B(y.qstr,ae(O)):B(y.qstr,O)):B(y.str,O)):B(y.qstr,"")}function ue(O,F){var $,C=O.replace(/\r/g,"").split(`
`);if(F+=s,C.length===1)return B(y.mstr,C[0]);var H=o+F+y.mstr[0];for($=0;$<C.length;$++)H+=o,C[$]&&(H+=F+C[$]);return H+o+F+y.mstr[1]}function Q(O){return O?u||N.test(O)?(w.lastIndex=0,B(y.qkey,w.test(O)?ae(O):O)):B(y.key,O):'""'}function ee(O,F,$,C){function H(Ke){return Ke&&Ke[Ke[0]==="\r"?1:0]===`
`}function te(Ke){return Ke&&!H(Ke)}function ie(Ke,dn,Mt){if(!Ke)return"";Ke=n.forceComment(Ke);var gt,Cn=Ke.length;for(gt=0;gt<Cn&&Ke[gt]<=" ";gt++);return Mt&&gt>0&&(Ke=Ke.substr(gt)),gt<Cn?dn+B(y.rem,Ke):Ke}var le=b(O);if(le!==void 0)return B(y.dsf,le);switch(typeof O){case"string":return re(O,z,F,C);case"number":return isFinite(O)?B(y.num,String(O)):B(y.lit,"null");case"boolean":return B(y.lit,String(O));case"object":if(!O)return B(y.lit,"null");var se;a&&(se=n.getComment(O));var ye=Object.prototype.toString.apply(O)==="[object Array]",ce=z;z+=s;var Ue=o+ce,Fe=o+z,Me=$||l?"":Ue,Te=[],we,Ne=f?[]:null,Ht=c,Ce=d,Re=h?"":y.com[0],dt=0,De,lt,Ft,Jt,jn,oe,me,$e,Je;if(ye){for(De=0,lt=O.length;De<lt;De++){if(we=De<lt-1,se?(oe=se.a[De]||[],me=te(oe[1]),Te.push(ie(oe[0],`
`)+Fe),Ne&&(oe[0]||oe[1]||me)&&(Ne=null)):Te.push(Fe),U=0,Jt=O[De],Te.push(ee(Jt,se?me:!1,!0)+(we?h:"")),Ne){switch(typeof Jt){case"string":U=0,c=!0,d=0,Ne.push(ee(Jt,!1,!0)+(we?y.com[0]:"")),c=Ht,d=Ce;break;case"object":if(Jt){Ne=null;break}default:Ne.push(Te[Te.length-1]+(we?Re:""));break}we&&(U+=y.com[0].length-y.com[2]),dt+=U}se&&oe[1]&&Te.push(ie(oe[1],me?" ":`
`,me))}lt===0?se&&se.e&&Te.push(ie(se.e[0],`
`)+Ue):Te.push(Ue),Te.length===0?$e=B(y.arr,""):($e=Me+B(y.arr,Te.join("")),Ne&&(Je=Ne.join(" "),Je.length-dt<=f&&($e=B(y.arr,Je))))}else{var Oe=se?se.o.slice():[],Ze=[];for(Ft in O)Object.prototype.hasOwnProperty.call(O,Ft)&&Oe.indexOf(Ft)<0&&Ze.push(Ft);g&&Ze.sort();var ke=Oe.concat(Ze);for(De=0,lt=ke.length;De<lt;De++)if(we=De<lt-1,Ft=ke[De],se?(oe=se.c[Ft]||[],me=te(oe[1]),Te.push(ie(oe[0],`
`)+Fe),Ne&&(oe[0]||oe[1]||me)&&(Ne=null)):Te.push(Fe),U=0,Jt=O[Ft],jn=ee(Jt,se&&me),Te.push(Q(Ft)+y.col[0]+(H(jn)?"":" ")+jn+(we?h:"")),se&&oe[1]&&Te.push(ie(oe[1],me?" ":`
`,me)),Ne){switch(typeof Jt){case"string":U=0,c=!0,d=0,jn=ee(Jt,!1),c=Ht,d=Ce,Ne.push(Q(Ft)+y.col[0]+" "+jn+(we?y.com[0]:""));break;case"object":if(Jt){Ne=null;break}default:Ne.push(Te[Te.length-1]+(we?Re:""));break}U+=y.col[0].length-y.col[2],we&&(U+=y.com[0].length-y.com[2]),dt+=U}lt===0?se&&se.e&&Te.push(ie(se.e[0],`
`)+Ue):Te.push(Ue),Te.length===0?$e=B(y.obj,""):($e=Me+B(y.obj,Te.join("")),Ne&&(Je=Ne.join(" "),Je.length-dt<=f&&($e=B(y.obj,Je))))}return z=ce,$e}}b=r.loadDsf(p,"stringify");var W="",P=a?P=(n.getComment(e)||{}).r:null;return P&&P[0]&&(W=P[0]+`
`),W+=ee(e,null,!0,!0),P&&(W+=P[1]||""),W},Gh=Ix;function ey(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function a$(e,t){if(!(e===null||typeof e!="object")){var n=Gh.getComment(e);n&&Gh.removeComment(e);var r,i,o,s;if(Object.prototype.toString.apply(e)==="[object Array]"){for(s={a:{}},r=0,i=e.length;r<i;r++)lV(s.a,r,n.a[r],a$(e[r]))&&(o=!0);!o&&n.e&&(s.e=ey(n.e[0],n.e[1]),o=!0)}else{s={s:{}};var a,l=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(l).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=l,s.o=a,r=0,i=a.length;r<i;r++){var u=a[r];lV(s.s,u,n.c[u],a$(e[u]))&&(o=!0)}!o&&n.e&&(s.e=ey(n.e[0],n.e[1]),o=!0)}return t&&n&&n.r&&(s.r=ey(n.r[0],n.r[1])),o?s:void 0}}function jIe(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function FIe(e,t){var n=[];if(l$(e,t,n,[]),n.length>0){var r=nS(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+jIe(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),nS(t,r,1)}}function lV(e,t,n,r){var i=ey(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function ty(e,t){var n=ey(t.b,t.a);return n.path=e,n}function ny(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var o=n.slice().concat([r]),s=e.a[r];s&&(t.push(ty(o,s)),ny(s.x,t,o))}else e.o&&e.o.forEach(function(a){var l=n.slice().concat([a]),u=e.s[a];u&&(t.push(ty(l,u)),ny(u.x,t,l))});e.e&&t.push(ty(n,e.e))}}function l$(e,t,n,r){if(e){if(t===null||typeof t!="object"){ny(e,n,r);return}var i,o=Gh.createComment(t);if(r.length===0&&e.r&&(o.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){o.a=[];var s=e.a||{};for(var a in s)if(s.hasOwnProperty(a)){i=parseInt(a);var l=e.a[a];if(l){var u=r.slice().concat([i]);i<t.length?(o.a[i]=[l.b,l.a],l$(l.x,t[i],n,u)):(n.push(ty(u,l)),ny(l.x,n,u))}}i===0&&e.e&&(o.e=[e.e.b,e.e.a])}else o.c={},o.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(o.o.push(c),d&&(o.c[c]=[d.b,d.a],l$(d.x,t[c],n,f))):d&&(n.push(ty(f,d)),ny(d.x,n,f))}),e.e&&(o.e=[e.e.b,e.e.a])}}function nS(e,t,n){var r=Gh.createComment(e,Gh.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=Gh.forceComment(t)),r.r[n]||""}var VIe={extract:function(e){return a$(e,!0)},merge:FIe,header:function(e,t){return nS(e,t,0)},footer:function(e,t){return nS(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var uV=Ix,BIe=AIe,cV=MIe,fV=LIe,zIe=VIe,UIe=tN,nN={parse:cV,stringify:fV,endOfLine:function(){return uV.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(uV.EOL=e)},version:BIe,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,cV(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,fV(e,t)}},comments:zIe,dsf:UIe.std},u$={exports:{}},oQ={},da={},Ip={},Yv={},jt={},Uy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((_,b)=>`${_}${b}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((_,b)=>(b instanceof n&&(_[b.str]=(_[b.str]||0)+1),_),{})}}e._Code=r,e.nil=new r("");function i(m,...v){const _=[m[0]];let b=0;for(;b<v.length;)a(_,v[b]),_.push(m[++b]);return new r(_)}e._=i;const o=new r("+");function s(m,...v){const _=[h(m[0])];let b=0;for(;b<v.length;)_.push(o),a(_,v[b]),_.push(o,h(m[++b]));return l(_),new r(_)}e.str=s;function a(m,v){v instanceof r?m.push(...v._items):v instanceof n?m.push(v):m.push(f(v))}e.addCodeArg=a;function l(m){let v=1;for(;v<m.length-1;){if(m[v]===o){const _=u(m[v-1],m[v+1]);if(_!==void 0){m.splice(v-1,3,_);continue}m[v++]="+"}v++}}function u(m,v){if(v==='""')return m;if(m==='""')return v;if(typeof m=="string")return v instanceof n||m[m.length-1]!=='"'?void 0:typeof v!="string"?`${m.slice(0,-1)}${v}"`:v[0]==='"'?m.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(m instanceof n))return`"${m}${v.slice(1)}`}function c(m,v){return v.emptyStr()?m:m.emptyStr()?v:s`${m}${v}`}e.strConcat=c;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function d(m){return new r(h(m))}e.stringify=d;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}e.getProperty=p;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(m){return new r(m.toString())}e.regexpCode=y})(Uy);var c$={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Uy;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(u),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let g=this._values[h];if(g){const v=g.get(p);if(v)return v}else g=this._values[h]=new Map;g.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),m=y.length;return y[m]=c.ref,d.setValue(c,{property:h,itemIndex:m}),d}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(u,c,f={},d){let h=t.nil;for(const p in u){const g=u[p];if(!g)continue;const y=f[p]=f[p]||new Map;g.forEach(m=>{if(y.has(m))return;y.set(m,r.Started);let v=c(m);if(v){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${m} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(m))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(m);y.set(m,r.Completed)})}return h}}e.ValueScope=a})(c$);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Uy,n=c$;var r=Uy;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=c$;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames($,C){return this}}class s extends o{constructor($,C,H){super(),this.varKind=$,this.name=C,this.rhs=H}render({es5:$,_n:C}){const H=$?n.varKinds.var:this.varKind,te=this.rhs===void 0?"":` = ${this.rhs}`;return`${H} ${this.name}${te};`+C}optimizeNames($,C){if($[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,$,C)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor($,C,H){super(),this.lhs=$,this.rhs=C,this.sideEffects=H}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,C){if(!(this.lhs instanceof t.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,$,C),this}get names(){const $=this.lhs instanceof t.Name?{}:{...this.lhs.names};return U($,this.rhs)}}class l extends a{constructor($,C,H,te){super($,H,te),this.op=C}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class u extends o{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class c extends o{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class f extends o{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class d extends o{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,C){return this.code=B(this.code,$,C),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends o{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((C,H)=>C+H.render($),"")}optimizeNodes(){const{nodes:$}=this;let C=$.length;for(;C--;){const H=$[C].optimizeNodes();Array.isArray(H)?$.splice(C,1,...H):H?$[C]=H:$.splice(C,1)}return $.length>0?this:void 0}optimizeNames($,C){const{nodes:H}=this;let te=H.length;for(;te--;){const ie=H[te];ie.optimizeNames($,C)||(ae($,ie.names),H.splice(te,1))}return H.length>0?this:void 0}get names(){return this.nodes.reduce(($,C)=>z($,C.names),{})}}class p extends h{render($){return"{"+$._n+super.render($)+"}"+$._n}}class g extends h{}class y extends p{}y.kind="else";class m extends p{constructor($,C){super(C),this.condition=$}render($){let C=`if(${this.condition})`+super.render($);return this.else&&(C+="else "+this.else.render($)),C}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let C=this.else;if(C){const H=C.optimizeNodes();C=this.else=Array.isArray(H)?new y(H):H}if(C)return $===!1?C instanceof m?C:C.nodes:this.nodes.length?this:new m(re($),C instanceof m?[C]:C.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,C){var H;if(this.else=(H=this.else)===null||H===void 0?void 0:H.optimizeNames($,C),!!(super.optimizeNames($,C)||this.else))return this.condition=B(this.condition,$,C),this}get names(){const $=super.names;return U($,this.condition),this.else&&z($,this.else.names),$}}m.kind="if";class v extends p{}v.kind="for";class _ extends v{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,C){if(super.optimizeNames($,C))return this.iteration=B(this.iteration,$,C),this}get names(){return z(super.names,this.iteration.names)}}class b extends v{constructor($,C,H,te){super(),this.varKind=$,this.name=C,this.from=H,this.to=te}render($){const C=$.es5?n.varKinds.var:this.varKind,{name:H,from:te,to:ie}=this;return`for(${C} ${H}=${te}; ${H}<${ie}; ${H}++)`+super.render($)}get names(){const $=U(super.names,this.from);return U($,this.to)}}class E extends v{constructor($,C,H,te){super(),this.loop=$,this.varKind=C,this.name=H,this.iterable=te}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,C){if(super.optimizeNames($,C))return this.iterable=B(this.iterable,$,C),this}get names(){return z(super.names,this.iterable.names)}}class w extends p{constructor($,C,H){super(),this.name=$,this.args=C,this.async=H}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}w.kind="func";class x extends h{render($){return"return "+super.render($)}}x.kind="return";class I extends p{render($){let C="try"+super.render($);return this.catch&&(C+=this.catch.render($)),this.finally&&(C+=this.finally.render($)),C}optimizeNodes(){var $,C;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames($,C){var H,te;return super.optimizeNames($,C),(H=this.catch)===null||H===void 0||H.optimizeNames($,C),(te=this.finally)===null||te===void 0||te.optimizeNames($,C),this}get names(){const $=super.names;return this.catch&&z($,this.catch.names),this.finally&&z($,this.finally.names),$}}class D extends p{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}D.kind="catch";class R extends p{render($){return"finally"+super.render($)}}R.kind="finally";class N{constructor($,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=$,this._scope=new n.Scope({parent:$}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,C){const H=this._extScope.value($,C);return(this._values[H.prefix]||(this._values[H.prefix]=new Set)).add(H),H}getScopeValue($,C){return this._extScope.getValue($,C)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,C,H,te){const ie=this._scope.toName(C);return H!==void 0&&te&&(this._constants[ie.str]=H),this._leafNode(new s($,ie,H)),ie}const($,C,H){return this._def(n.varKinds.const,$,C,H)}let($,C,H){return this._def(n.varKinds.let,$,C,H)}var($,C,H){return this._def(n.varKinds.var,$,C,H)}assign($,C,H){return this._leafNode(new a($,C,H))}add($,C){return this._leafNode(new l($,e.operators.ADD,C))}code($){return typeof $=="function"?$():$!==t.nil&&this._leafNode(new d($)),this}object(...$){const C=["{"];for(const[H,te]of $)C.length>1&&C.push(","),C.push(H),(H!==te||this.opts.es5)&&(C.push(":"),(0,t.addCodeArg)(C,te));return C.push("}"),new t._Code(C)}if($,C,H){if(this._blockNode(new m($)),C&&H)this.code(C).else().code(H).endIf();else if(C)this.code(C).endIf();else if(H)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new m($))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for($,C){return this._blockNode($),C&&this.code(C).endFor(),this}for($,C){return this._for(new _($),C)}forRange($,C,H,te,ie=this.opts.es5?n.varKinds.var:n.varKinds.let){const le=this._scope.toName($);return this._for(new b(ie,le,C,H),()=>te(le))}forOf($,C,H,te=n.varKinds.const){const ie=this._scope.toName($);if(this.opts.es5){const le=C instanceof t.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,t._)`${le}.length`,se=>{this.var(ie,(0,t._)`${le}[${se}]`),H(ie)})}return this._for(new E("of",te,ie,C),()=>H(ie))}forIn($,C,H,te=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,t._)`Object.keys(${C})`,H);const ie=this._scope.toName($);return this._for(new E("in",te,ie,C),()=>H(ie))}endFor(){return this._endBlockNode(v)}label($){return this._leafNode(new u($))}break($){return this._leafNode(new c($))}return($){const C=new x;if(this._blockNode(C),this.code($),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try($,C,H){if(!C&&!H)throw new Error('CodeGen: "try" without "catch" and "finally"');const te=new I;if(this._blockNode(te),this.code($),C){const ie=this.name("e");this._currNode=te.catch=new D(ie),C(ie)}return H&&(this._currNode=te.finally=new R,this.code(H)),this._endBlockNode(D,R)}throw($){return this._leafNode(new f($))}block($,C){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(C),this}endBlock($){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const H=this._nodes.length-C;if(H<0||$!==void 0&&H!==$)throw new Error(`CodeGen: wrong number of nodes: ${H} vs ${$} expected`);return this._nodes.length=C,this}func($,C=t.nil,H,te){return this._blockNode(new w($,C,H)),te&&this.code(te).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,C){const H=this._currNode;if(H instanceof $||C&&H instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${$.kind}/${C.kind}`:$.kind}"`)}_elseNode($){const C=this._currNode;if(!(C instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const C=this._nodes;C[C.length-1]=$}}e.CodeGen=N;function z(F,$){for(const C in $)F[C]=(F[C]||0)+($[C]||0);return F}function U(F,$){return $ instanceof t._CodeOrName?z(F,$.names):F}function B(F,$,C){if(F instanceof t.Name)return H(F);if(!te(F))return F;return new t._Code(F._items.reduce((ie,le)=>(le instanceof t.Name&&(le=H(le)),le instanceof t._Code?ie.push(...le._items):ie.push(le),ie),[]));function H(ie){const le=C[ie.str];return le===void 0||$[ie.str]!==1?ie:(delete $[ie.str],le)}function te(ie){return ie instanceof t._Code&&ie._items.some(le=>le instanceof t.Name&&$[le.str]===1&&C[le.str]!==void 0)}}function ae(F,$){for(const C in $)F[C]=(F[C]||0)-($[C]||0)}function re(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${O(F)}`}e.not=re;const ue=P(e.operators.AND);function Q(...F){return F.reduce(ue)}e.and=Q;const ee=P(e.operators.OR);function W(...F){return F.reduce(ee)}e.or=W;function P(F){return($,C)=>$===t.nil?C:C===t.nil?$:(0,t._)`${O($)} ${F} ${O(C)}`}function O(F){return F instanceof t.Name?F:(0,t._)`(${F})`}})(jt);var sn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=jt,n=Uy;function r(w){const x={};for(const I of w)x[I]=!0;return x}e.toHash=r;function i(w,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(o(w,x),!s(x,w.self.RULES.all))}e.alwaysValidSchema=i;function o(w,x=w.schema){const{opts:I,self:D}=w;if(!I.strictSchema||typeof x=="boolean")return;const R=D.RULES.keywords;for(const N in x)R[N]||E(w,`unknown keyword: "${N}"`)}e.checkUnknownRules=o;function s(w,x){if(typeof w=="boolean")return!w;for(const I in w)if(x[I])return!0;return!1}e.schemaHasRules=s;function a(w,x){if(typeof w=="boolean")return!w;for(const I in w)if(I!=="$ref"&&x.all[I])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:w,schemaPath:x},I,D,R){if(!R){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${w}${x}${(0,t.getProperty)(D)}`}e.schemaRefOrVal=l;function u(w){return d(decodeURIComponent(w))}e.unescapeFragment=u;function c(w){return encodeURIComponent(f(w))}e.escapeFragment=c;function f(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(w,x){if(Array.isArray(w))for(const I of w)x(I);else x(w)}e.eachItem=h;function p({mergeNames:w,mergeToName:x,mergeValues:I,resultToName:D}){return(R,N,z,U)=>{const B=z===void 0?N:z instanceof t.Name?(N instanceof t.Name?w(R,N,z):x(R,N,z),z):N instanceof t.Name?(x(R,z,N),N):I(N,z);return U===t.Name&&!(B instanceof t.Name)?D(R,B):B}}e.mergeEvaluated={props:p({mergeNames:(w,x,I)=>w.if((0,t._)`${I} !== true && ${x} !== undefined`,()=>{w.if((0,t._)`${x} === true`,()=>w.assign(I,!0),()=>w.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${x})`))}),mergeToName:(w,x,I)=>w.if((0,t._)`${I} !== true`,()=>{x===!0?w.assign(I,!0):(w.assign(I,(0,t._)`${I} || {}`),y(w,I,x))}),mergeValues:(w,x)=>w===!0?!0:{...w,...x},resultToName:g}),items:p({mergeNames:(w,x,I)=>w.if((0,t._)`${I} !== true && ${x} !== undefined`,()=>w.assign(I,(0,t._)`${x} === true ? true : ${I} > ${x} ? ${I} : ${x}`)),mergeToName:(w,x,I)=>w.if((0,t._)`${I} !== true`,()=>w.assign(I,x===!0?!0:(0,t._)`${I} > ${x} ? ${I} : ${x}`)),mergeValues:(w,x)=>w===!0?!0:Math.max(w,x),resultToName:(w,x)=>w.var("items",x)})};function g(w,x){if(x===!0)return w.var("props",!0);const I=w.var("props",(0,t._)`{}`);return x!==void 0&&y(w,I,x),I}e.evaluatedPropsToName=g;function y(w,x,I){Object.keys(I).forEach(D=>w.assign((0,t._)`${x}${(0,t.getProperty)(D)}`,!0))}e.setEvaluated=y;const m={};function v(w,x){return w.scopeValue("func",{ref:x,code:m[x.code]||(m[x.code]=new n._Code(x.code))})}e.useFunc=v;var _;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(_=e.Type||(e.Type={}));function b(w,x,I){if(w instanceof t.Name){const D=x===_.Num;return I?D?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:D?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(w).toString():"/"+f(w)}e.getErrorPath=b;function E(w,x,I=w.opts.strictSchema){if(I){if(x=`strict mode: ${x}`,I===!0)throw new Error(x);w.self.logger.warn(x)}}e.checkStrictMode=E})(sn);var _l={};Object.defineProperty(_l,"__esModule",{value:!0});const Oi=jt,HIe={data:new Oi.Name("data"),valCxt:new Oi.Name("valCxt"),instancePath:new Oi.Name("instancePath"),parentData:new Oi.Name("parentData"),parentDataProperty:new Oi.Name("parentDataProperty"),rootData:new Oi.Name("rootData"),dynamicAnchors:new Oi.Name("dynamicAnchors"),vErrors:new Oi.Name("vErrors"),errors:new Oi.Name("errors"),this:new Oi.Name("this"),self:new Oi.Name("self"),scope:new Oi.Name("scope"),json:new Oi.Name("json"),jsonPos:new Oi.Name("jsonPos"),jsonLen:new Oi.Name("jsonLen"),jsonPart:new Oi.Name("jsonPart")};_l.default=HIe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=jt,n=sn,r=_l;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,m=e.keywordError,v,_){const{it:b}=y,{gen:E,compositeRule:w,allErrors:x}=b,I=f(y,m,v);_??(w||x)?l(E,I):u(b,(0,t._)`[${I}]`)}e.reportError=i;function o(y,m=e.keywordError,v){const{it:_}=y,{gen:b,compositeRule:E,allErrors:w}=_,x=f(y,m,v);l(b,x),E||w||u(_,r.default.vErrors)}e.reportExtraError=o;function s(y,m){y.assign(r.default.errors,m),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${r.default.vErrors}.length`,m),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:y,keyword:m,schemaValue:v,data:_,errsCount:b,it:E}){if(b===void 0)throw new Error("ajv implementation error");const w=y.name("err");y.forRange("i",b,r.default.errors,x=>{y.const(w,(0,t._)`${r.default.vErrors}[${x}]`),y.if((0,t._)`${w}.instancePath === undefined`,()=>y.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(r.default.instancePath,E.errorPath))),y.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${E.errSchemaPath}/${m}`),E.opts.verbose&&(y.assign((0,t._)`${w}.schema`,v),y.assign((0,t._)`${w}.data`,_))})}e.extendErrors=a;function l(y,m){const v=y.const("err",m);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),y.code((0,t._)`${r.default.errors}++`)}function u(y,m){const{gen:v,validateName:_,schemaEnv:b}=y;b.$async?v.throw((0,t._)`new ${y.ValidationError}(${m})`):(v.assign((0,t._)`${_}.errors`,m),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,m,v){const{createErrors:_}=y.it;return _===!1?(0,t._)`{}`:d(y,m,v)}function d(y,m,v={}){const{gen:_,it:b}=y,E=[h(b,v),p(y,v)];return g(y,m,E),_.object(...E)}function h({errorPath:y},{instancePath:m}){const v=m?(0,t.str)`${y}${(0,n.getErrorPath)(m,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:y,it:{errSchemaPath:m}},{schemaPath:v,parentSchema:_}){let b=_?m:(0,t.str)`${m}/${y}`;return v&&(b=(0,t.str)`${b}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,b]}function g(y,{params:m,message:v},_){const{keyword:b,data:E,schemaValue:w,it:x}=y,{opts:I,propertyName:D,topSchemaRef:R,schemaPath:N}=x;_.push([c.keyword,b],[c.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),I.messages&&_.push([c.message,typeof v=="function"?v(y):v]),I.verbose&&_.push([c.schema,w],[c.parentSchema,(0,t._)`${R}${N}`],[r.default.data,E]),D&&_.push([c.propertyName,D])}})(Yv);Object.defineProperty(Ip,"__esModule",{value:!0});Ip.boolOrEmptySchema=Ip.topBoolOrEmptySchema=void 0;const WIe=Yv,qIe=jt,GIe=_l,KIe={message:"boolean schema is false"};function YIe(e){const{gen:t,schema:n,validateName:r}=e;n===!1?sQ(e,!1):typeof n=="object"&&n.$async===!0?t.return(GIe.default.data):(t.assign((0,qIe._)`${r}.errors`,null),t.return(!0))}Ip.topBoolOrEmptySchema=YIe;function QIe(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),sQ(e)):n.var(t,!0)}Ip.boolOrEmptySchema=QIe;function sQ(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,WIe.reportError)(i,KIe,void 0,t)}var Qv={},dd={};Object.defineProperty(dd,"__esModule",{value:!0});dd.getRules=dd.isJSONType=void 0;const XIe=["string","number","integer","boolean","null","object","array"],JIe=new Set(XIe);function ZIe(e){return typeof e=="string"&&JIe.has(e)}dd.isJSONType=ZIe;function eOe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}dd.getRules=eOe;var Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.shouldUseRule=Jl.shouldUseGroup=Jl.schemaHasRulesForType=void 0;function tOe({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&aQ(e,r)}Jl.schemaHasRulesForType=tOe;function aQ(e,t){return t.rules.some(n=>lQ(e,n))}Jl.shouldUseGroup=aQ;function lQ(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Jl.shouldUseRule=lQ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=dd,n=Jl,r=Yv,i=jt,o=sn;var s;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(_){const b=l(_.type);if(b.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!b.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&b.push("null")}return b}e.getSchemaTypes=a;function l(_){const b=Array.isArray(_)?_:_?[_]:[];if(b.every(t.isJSONType))return b;throw new Error("type must be JSONType or JSONType[]: "+b.join(","))}e.getJSONTypes=l;function u(_,b){const{gen:E,data:w,opts:x}=_,I=f(b,x.coerceTypes),D=b.length>0&&!(I.length===0&&b.length===1&&(0,n.schemaHasRulesForType)(_,b[0]));if(D){const R=g(b,w,x.strictNumbers,s.Wrong);E.if(R,()=>{I.length?d(_,b,I):m(_)})}return D}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function f(_,b){return b?_.filter(E=>c.has(E)||b==="array"&&E==="array"):[]}function d(_,b,E){const{gen:w,data:x,opts:I}=_,D=w.let("dataType",(0,i._)`typeof ${x}`),R=w.let("coerced",(0,i._)`undefined`);I.coerceTypes==="array"&&w.if((0,i._)`${D} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>w.assign(x,(0,i._)`${x}[0]`).assign(D,(0,i._)`typeof ${x}`).if(g(b,x,I.strictNumbers),()=>w.assign(R,x))),w.if((0,i._)`${R} !== undefined`);for(const z of E)(c.has(z)||z==="array"&&I.coerceTypes==="array")&&N(z);w.else(),m(_),w.endIf(),w.if((0,i._)`${R} !== undefined`,()=>{w.assign(x,R),h(_,R)});function N(z){switch(z){case"string":w.elseIf((0,i._)`${D} == "number" || ${D} == "boolean"`).assign(R,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(R,(0,i._)`""`);return;case"number":w.elseIf((0,i._)`${D} == "boolean" || ${x} === null
              || (${D} == "string" && ${x} && ${x} == +${x})`).assign(R,(0,i._)`+${x}`);return;case"integer":w.elseIf((0,i._)`${D} === "boolean" || ${x} === null
              || (${D} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(R,(0,i._)`+${x}`);return;case"boolean":w.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(R,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(R,!0);return;case"null":w.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),w.assign(R,null);return;case"array":w.elseIf((0,i._)`${D} === "string" || ${D} === "number"
              || ${D} === "boolean" || ${x} === null`).assign(R,(0,i._)`[${x}]`)}}}function h({gen:_,parentData:b,parentDataProperty:E},w){_.if((0,i._)`${b} !== undefined`,()=>_.assign((0,i._)`${b}[${E}]`,w))}function p(_,b,E,w=s.Correct){const x=w===s.Correct?i.operators.EQ:i.operators.NEQ;let I;switch(_){case"null":return(0,i._)`${b} ${x} null`;case"array":I=(0,i._)`Array.isArray(${b})`;break;case"object":I=(0,i._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":I=D((0,i._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":I=D();break;default:return(0,i._)`typeof ${b} ${x} ${_}`}return w===s.Correct?I:(0,i.not)(I);function D(R=i.nil){return(0,i.and)((0,i._)`typeof ${b} == "number"`,R,E?(0,i._)`isFinite(${b})`:i.nil)}}e.checkDataType=p;function g(_,b,E,w){if(_.length===1)return p(_[0],b,E,w);let x;const I=(0,o.toHash)(_);if(I.array&&I.object){const D=(0,i._)`typeof ${b} != "object"`;x=I.null?D:(0,i._)`!${b} || ${D}`,delete I.null,delete I.array,delete I.object}else x=i.nil;I.number&&delete I.integer;for(const D in I)x=(0,i.and)(x,p(D,b,E,w));return x}e.checkDataTypes=g;const y={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:b})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${b}}`};function m(_){const b=v(_);(0,r.reportError)(b,y)}e.reportTypeError=m;function v(_){const{gen:b,data:E,schema:w}=_,x=(0,o.schemaRefOrVal)(_,w,"type");return{gen:b,keyword:"type",data:E,schema:w.type,schemaCode:x,schemaValue:x,parentSchema:w,params:{},it:_}}})(Qv);var Ox={};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.assignDefaults=void 0;const eh=jt,nOe=sn;function rOe(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)dV(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,o)=>dV(e,o,i.default))}Ox.assignDefaults=rOe;function dV(e,t,n){const{gen:r,compositeRule:i,data:o,opts:s}=e;if(n===void 0)return;const a=(0,eh._)`${o}${(0,eh.getProperty)(t)}`;if(i){(0,nOe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,eh._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,eh._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,eh._)`${a} = ${(0,eh.stringify)(n)}`)}var Wa={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.validateUnion=Lt.validateArray=Lt.usePattern=Lt.callValidateCode=Lt.schemaProperties=Lt.allSchemaProperties=Lt.noPropertyInData=Lt.propertyInData=Lt.isOwnProperty=Lt.hasPropFunc=Lt.reportMissingProp=Lt.checkMissingProp=Lt.checkReportMissingProp=void 0;const Bn=jt,rN=sn,ju=_l,iOe=sn;function oOe(e,t){const{gen:n,data:r,it:i}=e;n.if(oN(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Bn._)`${t}`},!0),e.error()})}Lt.checkReportMissingProp=oOe;function sOe({gen:e,data:t,it:{opts:n}},r,i){return(0,Bn.or)(...r.map(o=>(0,Bn.and)(oN(e,t,o,n.ownProperties),(0,Bn._)`${i} = ${o}`)))}Lt.checkMissingProp=sOe;function aOe(e,t){e.setParams({missingProperty:t},!0),e.error()}Lt.reportMissingProp=aOe;function uQ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Bn._)`Object.prototype.hasOwnProperty`})}Lt.hasPropFunc=uQ;function iN(e,t,n){return(0,Bn._)`${uQ(e)}.call(${t}, ${n})`}Lt.isOwnProperty=iN;function lOe(e,t,n,r){const i=(0,Bn._)`${t}${(0,Bn.getProperty)(n)} !== undefined`;return r?(0,Bn._)`${i} && ${iN(e,t,n)}`:i}Lt.propertyInData=lOe;function oN(e,t,n,r){const i=(0,Bn._)`${t}${(0,Bn.getProperty)(n)} === undefined`;return r?(0,Bn.or)(i,(0,Bn.not)(iN(e,t,n))):i}Lt.noPropertyInData=oN;function cQ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Lt.allSchemaProperties=cQ;function uOe(e,t){return cQ(t).filter(n=>!(0,rN.alwaysValidSchema)(e,t[n]))}Lt.schemaProperties=uOe;function cOe({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:o},it:s},a,l,u){const c=u?(0,Bn._)`${e}, ${t}, ${r}${i}`:t,f=[[ju.default.instancePath,(0,Bn.strConcat)(ju.default.instancePath,o)],[ju.default.parentData,s.parentData],[ju.default.parentDataProperty,s.parentDataProperty],[ju.default.rootData,ju.default.rootData]];s.opts.dynamicRef&&f.push([ju.default.dynamicAnchors,ju.default.dynamicAnchors]);const d=(0,Bn._)`${c}, ${n.object(...f)}`;return l!==Bn.nil?(0,Bn._)`${a}.call(${l}, ${d})`:(0,Bn._)`${a}(${d})`}Lt.callValidateCode=cOe;const fOe=(0,Bn._)`new RegExp`;function dOe({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(n,r);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Bn._)`${i.code==="new RegExp"?fOe:(0,iOe.useFunc)(e,i)}(${n}, ${r})`})}Lt.usePattern=dOe;function hOe(e){const{gen:t,data:n,keyword:r,it:i}=e,o=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(o,!0),s(()=>t.break()),o;function s(a){const l=t.const("len",(0,Bn._)`${n}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:r,dataProp:u,dataPropType:rN.Type.Num},o),t.if((0,Bn.not)(o),a)})}}Lt.validateArray=hOe;function pOe(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,rN.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const s=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((l,u)=>{const c=e.subschema({keyword:r,schemaProp:u,compositeRule:!0},a);t.assign(s,(0,Bn._)`${s} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Bn.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}Lt.validateUnion=pOe;Object.defineProperty(Wa,"__esModule",{value:!0});Wa.validateKeywordUsage=Wa.validSchemaType=Wa.funcKeywordCode=Wa.macroKeywordCode=void 0;const Qi=jt,Tf=_l,mOe=Lt,gOe=Yv;function yOe(e,t){const{gen:n,keyword:r,schema:i,parentSchema:o,it:s}=e,a=t.macro.call(s.self,i,o,s),l=fQ(n,r,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const u=n.name("valid");e.subschema({schema:a,schemaPath:Qi.nil,errSchemaPath:`${s.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Wa.macroKeywordCode=yOe;function vOe(e,t){var n;const{gen:r,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=e;wOe(l,t);const u=!a&&t.compile?t.compile.call(l.self,o,s,l):t.validate,c=fQ(r,i,u),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)g(),t.modifying&&hV(e),y(()=>e.error());else{const m=t.async?h():p();t.modifying&&hV(e),y(()=>_Oe(e,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,Qi._)`await `),v=>r.assign(f,!1).if((0,Qi._)`${v} instanceof ${l.ValidationError}`,()=>r.assign(m,(0,Qi._)`${v}.errors`),()=>r.throw(v))),m}function p(){const m=(0,Qi._)`${c}.errors`;return r.assign(m,null),g(Qi.nil),m}function g(m=t.async?(0,Qi._)`await `:Qi.nil){const v=l.opts.passContext?Tf.default.this:Tf.default.self,_=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,Qi._)`${m}${(0,mOe.callValidateCode)(e,c,v,_)}`,t.modifying)}function y(m){var v;r.if((0,Qi.not)((v=t.valid)!==null&&v!==void 0?v:f),m)}}Wa.funcKeywordCode=vOe;function hV(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,Qi._)`${r.parentData}[${r.parentDataProperty}]`))}function _Oe(e,t){const{gen:n}=e;n.if((0,Qi._)`Array.isArray(${t})`,()=>{n.assign(Tf.default.vErrors,(0,Qi._)`${Tf.default.vErrors} === null ? ${t} : ${Tf.default.vErrors}.concat(${t})`).assign(Tf.default.errors,(0,Qi._)`${Tf.default.vErrors}.length`),(0,gOe.extendErrors)(e)},()=>e.error())}function wOe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function fQ(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Qi.stringify)(n)})}function bOe(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Wa.validSchemaType=bOe;function SOe({schema:e,opts:t,self:n,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}Wa.validateKeywordUsage=SOe;var xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.extendSubschemaMode=xc.extendSubschemaData=xc.getSubschema=void 0;const Ma=jt,dQ=sn;function EOe(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Ma._)`${e.schemaPath}${(0,Ma.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Ma._)`${e.schemaPath}${(0,Ma.getProperty)(t)}${(0,Ma.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,dQ.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}xc.getSubschema=EOe;function xOe(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Ma._)`${t.data}${(0,Ma.getProperty)(n)}`,!0);l(d),e.errorPath=(0,Ma.str)`${u}${(0,dQ.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ma._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Ma.Name?i:a.let("data",i,!0);l(u),s!==void 0&&(e.propertyName=s)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}xc.extendSubschemaData=xOe;function POe(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:o}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}xc.extendSubschemaMode=POe;var mi={},sN=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const pV=wa(sN);var hQ={exports:{}},uc=hQ.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};_w(t,r,i,e,"",e)};uc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};uc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};uc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};uc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _w(e,t,n,r,i,o,s,a,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,o,s,a,l,u);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in uc.arrayKeywords)for(var d=0;d<f.length;d++)_w(e,t,n,f[d],i+"/"+c+"/"+d,o,i,c,r,d)}else if(c in uc.propsKeywords){if(f&&typeof f=="object")for(var h in f)_w(e,t,n,f[h],i+"/"+c+"/"+IOe(h),o,i,c,r,h)}else(c in uc.keywords||e.allKeys&&!(c in uc.skipKeywords))&&_w(e,t,n,f,i+"/"+c,o,i,c,r)}n(r,i,o,s,a,l,u)}}function IOe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var OOe=hQ.exports;Object.defineProperty(mi,"__esModule",{value:!0});mi.getSchemaRefs=mi.resolveUrl=mi.normalizeId=mi._getFullPath=mi.getFullPath=mi.inlineRef=void 0;const TOe=sn,COe=sN,$Oe=OOe,kOe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function AOe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!f$(e):t?pQ(e)<=t:!1}mi.inlineRef=AOe;const ROe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function f$(e){for(const t in e){if(ROe.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(f$)||typeof n=="object"&&f$(n))return!0}return!1}function pQ(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!kOe.has(n)&&(typeof e[n]=="object"&&(0,TOe.eachItem)(e[n],r=>t+=pQ(r)),t===1/0))return 1/0}return t}function mQ(e,t="",n){n!==!1&&(t=Kh(t));const r=e.parse(t);return gQ(e,r)}mi.getFullPath=mQ;function gQ(e,t){return e.serialize(t).split("#")[0]+"#"}mi._getFullPath=gQ;const NOe=/#\/?$/;function Kh(e){return e?e.replace(NOe,""):""}mi.normalizeId=Kh;function DOe(e,t,n){return n=Kh(n),e.resolve(t,n)}mi.resolveUrl=DOe;const MOe=/^[a-z_][-a-z0-9._]*$/i;function LOe(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=Kh(e[n]||t),o={"":i},s=mQ(r,i,!1),a={},l=new Set;return $Oe(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const g=s+d;let y=o[p];typeof f[n]=="string"&&(y=m.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),o[d]=y;function m(_){const b=this.opts.uriResolver.resolve;if(_=Kh(y?b(y,_):_),l.has(_))throw c(_);l.add(_);let E=this.refs[_];return typeof E=="string"&&(E=this.refs[E]),typeof E=="object"?u(f,E.schema,_):_!==Kh(g)&&(_[0]==="#"?(u(f,a[_],_),a[_]=f):this.refs[_]=g),_}function v(_){if(typeof _=="string"){if(!MOe.test(_))throw new Error(`invalid anchor "${_}"`);m.call(this,`#${_}`)}}}),a;function u(f,d,h){if(d!==void 0&&!COe(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}mi.getSchemaRefs=LOe;Object.defineProperty(da,"__esModule",{value:!0});da.getData=da.KeywordCxt=da.validateFunctionCode=void 0;const yQ=Ip,mV=Qv,aN=Jl,rS=Qv,jOe=Ox,ry=Wa,fO=xc,Ye=jt,ut=_l,FOe=mi,Zl=sn,tg=Yv;function VOe(e){if(wQ(e)&&(bQ(e),_Q(e))){UOe(e);return}vQ(e,()=>(0,yQ.topBoolOrEmptySchema)(e))}da.validateFunctionCode=VOe;function vQ({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},o){i.code.es5?e.func(t,(0,Ye._)`${ut.default.data}, ${ut.default.valCxt}`,r.$async,()=>{e.code((0,Ye._)`"use strict"; ${gV(n,i)}`),zOe(e,i),e.code(o)}):e.func(t,(0,Ye._)`${ut.default.data}, ${BOe(i)}`,r.$async,()=>e.code(gV(n,i)).code(o))}function BOe(e){return(0,Ye._)`{${ut.default.instancePath}="", ${ut.default.parentData}, ${ut.default.parentDataProperty}, ${ut.default.rootData}=${ut.default.data}${e.dynamicRef?(0,Ye._)`, ${ut.default.dynamicAnchors}={}`:Ye.nil}}={}`}function zOe(e,t){e.if(ut.default.valCxt,()=>{e.var(ut.default.instancePath,(0,Ye._)`${ut.default.valCxt}.${ut.default.instancePath}`),e.var(ut.default.parentData,(0,Ye._)`${ut.default.valCxt}.${ut.default.parentData}`),e.var(ut.default.parentDataProperty,(0,Ye._)`${ut.default.valCxt}.${ut.default.parentDataProperty}`),e.var(ut.default.rootData,(0,Ye._)`${ut.default.valCxt}.${ut.default.rootData}`),t.dynamicRef&&e.var(ut.default.dynamicAnchors,(0,Ye._)`${ut.default.valCxt}.${ut.default.dynamicAnchors}`)},()=>{e.var(ut.default.instancePath,(0,Ye._)`""`),e.var(ut.default.parentData,(0,Ye._)`undefined`),e.var(ut.default.parentDataProperty,(0,Ye._)`undefined`),e.var(ut.default.rootData,ut.default.data),t.dynamicRef&&e.var(ut.default.dynamicAnchors,(0,Ye._)`{}`)})}function UOe(e){const{schema:t,opts:n,gen:r}=e;vQ(e,()=>{n.$comment&&t.$comment&&EQ(e),KOe(e),r.let(ut.default.vErrors,null),r.let(ut.default.errors,0),n.unevaluated&&HOe(e),SQ(e),XOe(e)})}function HOe(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,Ye._)`${n}.evaluated`),t.if((0,Ye._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Ye._)`${e.evaluated}.props`,(0,Ye._)`undefined`)),t.if((0,Ye._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Ye._)`${e.evaluated}.items`,(0,Ye._)`undefined`))}function gV(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,Ye._)`/*# sourceURL=${n} */`:Ye.nil}function WOe(e,t){if(wQ(e)&&(bQ(e),_Q(e))){qOe(e,t);return}(0,yQ.boolOrEmptySchema)(e,t)}function _Q({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function wQ(e){return typeof e.schema!="boolean"}function qOe(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&EQ(e),YOe(e),QOe(e);const o=r.const("_errs",ut.default.errors);SQ(e,o),r.var(t,(0,Ye._)`${o} === ${ut.default.errors}`)}function bQ(e){(0,Zl.checkUnknownRules)(e),GOe(e)}function SQ(e,t){if(e.opts.jtd)return yV(e,[],!1,t);const n=(0,mV.getSchemaTypes)(e.schema),r=(0,mV.coerceAndCheckDataType)(e,n);yV(e,n,!r,t)}function GOe(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Zl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function KOe(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Zl.checkStrictMode)(e,"default is ignored in the schema root")}function YOe(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,FOe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function QOe(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function EQ({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const o=n.$comment;if(i.$comment===!0)e.code((0,Ye._)`${ut.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,Ye.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Ye._)`${ut.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function XOe(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=e;n.$async?t.if((0,Ye._)`${ut.default.errors} === 0`,()=>t.return(ut.default.data),()=>t.throw((0,Ye._)`new ${i}(${ut.default.vErrors})`)):(t.assign((0,Ye._)`${r}.errors`,ut.default.vErrors),o.unevaluated&&JOe(e),t.return((0,Ye._)`${ut.default.errors} === 0`))}function JOe({gen:e,evaluated:t,props:n,items:r}){n instanceof Ye.Name&&e.assign((0,Ye._)`${t}.props`,n),r instanceof Ye.Name&&e.assign((0,Ye._)`${t}.items`,r)}function yV(e,t,n,r){const{gen:i,schema:o,data:s,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Zl.schemaHasRulesButRef)(o,c))){i.block(()=>IQ(e,"$ref",c.all.$ref.definition));return}l.jtd||ZOe(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,aN.shouldUseGroup)(o,d)&&(d.type?(i.if((0,rS.checkDataType)(d.type,s,l.strictNumbers)),vV(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,rS.reportTypeError)(e)),i.endIf()):vV(e,d),a||i.if((0,Ye._)`${ut.default.errors} === ${r||0}`))}}function vV(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,jOe.assignDefaults)(e,t.type),n.block(()=>{for(const o of t.rules)(0,aN.shouldUseRule)(r,o)&&IQ(e,o.keyword,o.definition,t.type)})}function ZOe(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(eTe(e,t),e.opts.allowUnionTypes||tTe(e,t),nTe(e,e.dataTypes))}function eTe(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{xQ(e.dataTypes,n)||lN(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),iTe(e,t)}}function tTe(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&lN(e,"use allowUnionTypes to allow union type keyword")}function nTe(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,aN.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>rTe(t,s))&&lN(e,`missing type "${o.join(",")}" for keyword "${r}"`)}}}function rTe(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function xQ(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function iTe(e,t){const n=[];for(const r of e.dataTypes)xQ(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function lN(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Zl.checkStrictMode)(e,t,e.opts.strictTypes)}class PQ{constructor(t,n,r){if((0,ry.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Zl.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",OQ(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,ry.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ut.default.errors))}result(t,n,r){this.failResult((0,Ye.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,Ye.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,Ye._)`${n} !== undefined && (${(0,Ye.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?tg.reportExtraError:tg.reportError)(this,this.def.error,n)}$dataError(){(0,tg.reportError)(this,this.def.$dataError||tg.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,tg.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=Ye.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=Ye.nil,n=Ye.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:o,def:s}=this;r.if((0,Ye.or)((0,Ye._)`${i} === undefined`,n)),t!==Ye.nil&&r.assign(t,!0),(o.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==Ye.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:o}=this;return(0,Ye.or)(s(),a());function s(){if(r.length){if(!(n instanceof Ye.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,Ye._)`${(0,rS.checkDataTypes)(l,n,o.opts.strictNumbers,rS.DataType.Wrong)}`}return Ye.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ye._)`!${l}(${n})`}return Ye.nil}}subschema(t,n){const r=(0,fO.getSubschema)(this.it,t);(0,fO.extendSubschemaData)(r,this.it,t),(0,fO.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return WOe(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Zl.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Zl.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,Ye.Name)),!0}}da.KeywordCxt=PQ;function IQ(e,t,n,r){const i=new PQ(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,ry.funcKeywordCode)(i,n):"macro"in n?(0,ry.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,ry.funcKeywordCode)(i,n)}const oTe=/^\/(?:[^~]|~0|~1)*$/,sTe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function OQ(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,o;if(e==="")return ut.default.rootData;if(e[0]==="/"){if(!oTe.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=ut.default.rootData}else{const u=sTe.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return r[t-c]}if(c>t)throw new Error(l("data",c));if(o=n[t-c],!i)return o}let s=o;const a=i.split("/");for(const u of a)u&&(o=(0,Ye._)`${o}${(0,Ye.getProperty)((0,Zl.unescapeJsonPointer)(u))}`,s=(0,Ye._)`${s} && ${o}`);return s;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}da.getData=OQ;var Xv={};Object.defineProperty(Xv,"__esModule",{value:!0});class aTe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Xv.default=aTe;var Jv={};Object.defineProperty(Jv,"__esModule",{value:!0});const dO=mi;class lTe extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,dO.resolveUrl)(t,n,r),this.missingSchema=(0,dO.normalizeId)((0,dO.getFullPath)(t,this.missingRef))}}Jv.default=lTe;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.resolveSchema=So.getCompilingSchema=So.resolveRef=So.compileSchema=So.SchemaEnv=void 0;const Ks=jt,uTe=Xv,mf=_l,ra=mi,_V=sn,cTe=da;class Tx{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,ra.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}So.SchemaEnv=Tx;function uN(e){const t=TQ.call(this,e);if(t)return t;const n=(0,ra.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new Ks.CodeGen(this.scope,{es5:r,lines:i,ownProperties:o});let a;e.$async&&(a=s.scopeValue("Error",{ref:uTe.default,code:(0,Ks._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");e.validateName=l;const u={gen:s,allErrors:this.opts.allErrors,data:mf.default.data,parentData:mf.default.parentData,parentDataProperty:mf.default.parentDataProperty,dataNames:[mf.default.data],dataPathArr:[Ks.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ks.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:Ks.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ks._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,cTe.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const f=s.toString();c=`${s.scopeRefs(mf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${mf.default.self}`,`${mf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:l,validateCode:f,scopeValues:s._values}),this.opts.unevaluated){const{props:p,items:g}=u;h.evaluated={props:p instanceof Ks.Name?void 0:p,items:g instanceof Ks.Name?void 0:g,dynamicProps:p instanceof Ks.Name,dynamicItems:g instanceof Ks.Name},h.source&&(h.source.evaluated=(0,Ks.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}So.compileSchema=uN;function fTe(e,t,n){var r;n=(0,ra.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let o=pTe.call(this,e,n);if(o===void 0){const s=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;s&&(o=new Tx({schema:s,schemaId:a,root:e,baseId:t}))}if(o!==void 0)return e.refs[n]=dTe.call(this,o)}So.resolveRef=fTe;function dTe(e){return(0,ra.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:uN.call(this,e)}function TQ(e){for(const t of this._compilations)if(hTe(t,e))return t}So.getCompilingSchema=TQ;function hTe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function pTe(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||Cx.call(this,e,t)}function Cx(e,t){const n=this.opts.uriResolver.parse(t),r=(0,ra._getFullPath)(this.opts.uriResolver,n);let i=(0,ra.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return hO.call(this,n,e);const o=(0,ra.normalizeId)(r),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=Cx.call(this,e,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:hO.call(this,n,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||uN.call(this,s),o===(0,ra.normalizeId)(t)){const{schema:a}=s,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,ra.resolveUrl)(this.opts.uriResolver,i,u)),new Tx({schema:a,schemaId:l,root:e,baseId:i})}return hO.call(this,n,s)}}So.resolveSchema=Cx;const mTe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function hO(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,_V.unescapeFragment)(a)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!mTe.has(a)&&u&&(t=(0,ra.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof n!="boolean"&&n.$ref&&!(0,_V.schemaHasRulesButRef)(n,this.RULES)){const a=(0,ra.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=Cx.call(this,r,a)}const{schemaId:s}=this.opts;if(o=o||new Tx({schema:n,schemaId:s,root:r,baseId:t}),o.schema!==o.root.schema)return o}const gTe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",yTe="Meta-schema for $data reference (JSON AnySchema extension proposal)",vTe="object",_Te=["$data"],wTe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},bTe=!1,STe={$id:gTe,description:yTe,type:vTe,required:_Te,properties:wTe,additionalProperties:bTe};var cN={},d$={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Ho,function(n){function r(){for(var G=arguments.length,j=Array(G),Y=0;Y<G;Y++)j[Y]=arguments[Y];if(j.length>1){j[0]=j[0].slice(0,-1);for(var de=j.length-1,fe=1;fe<de;++fe)j[fe]=j[fe].slice(1,-1);return j[de]=j[de].slice(1),j.join("")}else return j[0]}function i(G){return"(?:"+G+")"}function o(G){return G===void 0?"undefined":G===null?"null":Object.prototype.toString.call(G).split(" ").pop().split("]").shift().toLowerCase()}function s(G){return G.toUpperCase()}function a(G){return G!=null?G instanceof Array?G:typeof G.length!="number"||G.split||G.setInterval||G.call?[G]:Array.prototype.slice.call(G):[]}function l(G,j){var Y=G;if(j)for(var de in j)Y[de]=j[de];return Y}function u(G){var j="[A-Za-z]",Y="[0-9]",de=r(Y,"[A-Fa-f]"),fe=i(i("%[EFef]"+de+"%"+de+de+"%"+de+de)+"|"+i("%[89A-Fa-f]"+de+"%"+de+de)+"|"+i("%"+de+de)),Ve="[\\:\\/\\?\\#\\[\\]\\@]",ge="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Le=r(Ve,ge),tt=G?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ge=G?"[\\uE000-\\uF8FF]":"[]",at=r(j,Y,"[\\-\\.\\_\\~]",tt);i(j+r(j,Y,"[\\+\\-\\.]")+"*"),i(i(fe+"|"+r(at,ge,"[\\:]"))+"*");var Tt=i(i("25[0-5]")+"|"+i("2[0-4]"+Y)+"|"+i("1"+Y+Y)+"|"+i("0?[1-9]"+Y)+"|0?0?"+Y),Pn=i(Tt+"\\."+Tt+"\\."+Tt+"\\."+Tt),ot=i(de+"{1,4}"),vn=i(i(ot+"\\:"+ot)+"|"+Pn),ht=i(i(ot+"\\:")+"{6}"+vn),an=i("\\:\\:"+i(ot+"\\:")+"{5}"+vn),Wn=i(i(ot)+"?\\:\\:"+i(ot+"\\:")+"{4}"+vn),Mr=i(i(i(ot+"\\:")+"{0,1}"+ot)+"?\\:\\:"+i(ot+"\\:")+"{3}"+vn),br=i(i(i(ot+"\\:")+"{0,2}"+ot)+"?\\:\\:"+i(ot+"\\:")+"{2}"+vn),Gi=i(i(i(ot+"\\:")+"{0,3}"+ot)+"?\\:\\:"+ot+"\\:"+vn),ai=i(i(i(ot+"\\:")+"{0,4}"+ot)+"?\\:\\:"+vn),rr=i(i(i(ot+"\\:")+"{0,5}"+ot)+"?\\:\\:"+ot),ze=i(i(i(ot+"\\:")+"{0,6}"+ot)+"?\\:\\:"),Dt=i([ht,an,Wn,Mr,br,Gi,ai,rr,ze].join("|")),Nn=i(i(at+"|"+fe)+"+");i("[vV]"+de+"+\\."+r(at,ge,"[\\:]")+"+"),i(i(fe+"|"+r(at,ge))+"*");var Qr=i(fe+"|"+r(at,ge,"[\\:\\@]"));return i(i(fe+"|"+r(at,ge,"[\\@]"))+"+"),i(i(Qr+"|"+r("[\\/\\?]",Ge))+"*"),{NOT_SCHEME:new RegExp(r("[^]",j,Y,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",at,ge),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",at,ge),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",at,ge),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",at,ge),"g"),NOT_QUERY:new RegExp(r("[^\\%]",at,ge,"[\\:\\@\\/\\?]",Ge),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",at,ge,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",at,ge),"g"),UNRESERVED:new RegExp(at,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",at,Le),"g"),PCT_ENCODED:new RegExp(fe,"g"),IPV4ADDRESS:new RegExp("^("+Pn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Dt+")"+i(i("\\%25|\\%(?!"+de+"{2})")+"("+Nn+")")+"?\\]?$")}}var c=u(!1),f=u(!0),d=function(){function G(j,Y){var de=[],fe=!0,Ve=!1,ge=void 0;try{for(var Le=j[Symbol.iterator](),tt;!(fe=(tt=Le.next()).done)&&(de.push(tt.value),!(Y&&de.length===Y));fe=!0);}catch(Ge){Ve=!0,ge=Ge}finally{try{!fe&&Le.return&&Le.return()}finally{if(Ve)throw ge}}return de}return function(j,Y){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return G(j,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(G){if(Array.isArray(G)){for(var j=0,Y=Array(G.length);j<G.length;j++)Y[j]=G[j];return Y}else return Array.from(G)},p=2147483647,g=36,y=1,m=26,v=38,_=700,b=72,E=128,w="-",x=/^xn--/,I=/[^\0-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=g-y,z=Math.floor,U=String.fromCharCode;function B(G){throw new RangeError(R[G])}function ae(G,j){for(var Y=[],de=G.length;de--;)Y[de]=j(G[de]);return Y}function re(G,j){var Y=G.split("@"),de="";Y.length>1&&(de=Y[0]+"@",G=Y[1]),G=G.replace(D,".");var fe=G.split("."),Ve=ae(fe,j).join(".");return de+Ve}function ue(G){for(var j=[],Y=0,de=G.length;Y<de;){var fe=G.charCodeAt(Y++);if(fe>=55296&&fe<=56319&&Y<de){var Ve=G.charCodeAt(Y++);(Ve&64512)==56320?j.push(((fe&1023)<<10)+(Ve&1023)+65536):(j.push(fe),Y--)}else j.push(fe)}return j}var Q=function(j){return String.fromCodePoint.apply(String,h(j))},ee=function(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:g},W=function(j,Y){return j+22+75*(j<26)-((Y!=0)<<5)},P=function(j,Y,de){var fe=0;for(j=de?z(j/_):j>>1,j+=z(j/Y);j>N*m>>1;fe+=g)j=z(j/N);return z(fe+(N+1)*j/(j+v))},O=function(j){var Y=[],de=j.length,fe=0,Ve=E,ge=b,Le=j.lastIndexOf(w);Le<0&&(Le=0);for(var tt=0;tt<Le;++tt)j.charCodeAt(tt)>=128&&B("not-basic"),Y.push(j.charCodeAt(tt));for(var Ge=Le>0?Le+1:0;Ge<de;){for(var at=fe,Tt=1,Pn=g;;Pn+=g){Ge>=de&&B("invalid-input");var ot=ee(j.charCodeAt(Ge++));(ot>=g||ot>z((p-fe)/Tt))&&B("overflow"),fe+=ot*Tt;var vn=Pn<=ge?y:Pn>=ge+m?m:Pn-ge;if(ot<vn)break;var ht=g-vn;Tt>z(p/ht)&&B("overflow"),Tt*=ht}var an=Y.length+1;ge=P(fe-at,an,at==0),z(fe/an)>p-Ve&&B("overflow"),Ve+=z(fe/an),fe%=an,Y.splice(fe++,0,Ve)}return String.fromCodePoint.apply(String,Y)},F=function(j){var Y=[];j=ue(j);var de=j.length,fe=E,Ve=0,ge=b,Le=!0,tt=!1,Ge=void 0;try{for(var at=j[Symbol.iterator](),Tt;!(Le=(Tt=at.next()).done);Le=!0){var Pn=Tt.value;Pn<128&&Y.push(U(Pn))}}catch(pe){tt=!0,Ge=pe}finally{try{!Le&&at.return&&at.return()}finally{if(tt)throw Ge}}var ot=Y.length,vn=ot;for(ot&&Y.push(w);vn<de;){var ht=p,an=!0,Wn=!1,Mr=void 0;try{for(var br=j[Symbol.iterator](),Gi;!(an=(Gi=br.next()).done);an=!0){var ai=Gi.value;ai>=fe&&ai<ht&&(ht=ai)}}catch(pe){Wn=!0,Mr=pe}finally{try{!an&&br.return&&br.return()}finally{if(Wn)throw Mr}}var rr=vn+1;ht-fe>z((p-Ve)/rr)&&B("overflow"),Ve+=(ht-fe)*rr,fe=ht;var ze=!0,Dt=!1,Nn=void 0;try{for(var Qr=j[Symbol.iterator](),so;!(ze=(so=Qr.next()).done);ze=!0){var k=so.value;if(k<fe&&++Ve>p&&B("overflow"),k==fe){for(var q=Ve,L=g;;L+=g){var J=L<=ge?y:L>=ge+m?m:L-ge;if(q<J)break;var ne=q-J,X=g-J;Y.push(U(W(J+ne%X,0))),q=z(ne/X)}Y.push(U(W(q,0))),ge=P(Ve,rr,vn==ot),Ve=0,++vn}}}catch(pe){Dt=!0,Nn=pe}finally{try{!ze&&Qr.return&&Qr.return()}finally{if(Dt)throw Nn}}++Ve,++fe}return Y.join("")},$=function(j){return re(j,function(Y){return x.test(Y)?O(Y.slice(4).toLowerCase()):Y})},C=function(j){return re(j,function(Y){return I.test(Y)?"xn--"+F(Y):Y})},H={version:"2.1.0",ucs2:{decode:ue,encode:Q},decode:O,encode:F,toASCII:C,toUnicode:$},te={};function ie(G){var j=G.charCodeAt(0),Y=void 0;return j<16?Y="%0"+j.toString(16).toUpperCase():j<128?Y="%"+j.toString(16).toUpperCase():j<2048?Y="%"+(j>>6|192).toString(16).toUpperCase()+"%"+(j&63|128).toString(16).toUpperCase():Y="%"+(j>>12|224).toString(16).toUpperCase()+"%"+(j>>6&63|128).toString(16).toUpperCase()+"%"+(j&63|128).toString(16).toUpperCase(),Y}function le(G){for(var j="",Y=0,de=G.length;Y<de;){var fe=parseInt(G.substr(Y+1,2),16);if(fe<128)j+=String.fromCharCode(fe),Y+=3;else if(fe>=194&&fe<224){if(de-Y>=6){var Ve=parseInt(G.substr(Y+4,2),16);j+=String.fromCharCode((fe&31)<<6|Ve&63)}else j+=G.substr(Y,6);Y+=6}else if(fe>=224){if(de-Y>=9){var ge=parseInt(G.substr(Y+4,2),16),Le=parseInt(G.substr(Y+7,2),16);j+=String.fromCharCode((fe&15)<<12|(ge&63)<<6|Le&63)}else j+=G.substr(Y,9);Y+=9}else j+=G.substr(Y,3),Y+=3}return j}function se(G,j){function Y(de){var fe=le(de);return fe.match(j.UNRESERVED)?fe:de}return G.scheme&&(G.scheme=String(G.scheme).replace(j.PCT_ENCODED,Y).toLowerCase().replace(j.NOT_SCHEME,"")),G.userinfo!==void 0&&(G.userinfo=String(G.userinfo).replace(j.PCT_ENCODED,Y).replace(j.NOT_USERINFO,ie).replace(j.PCT_ENCODED,s)),G.host!==void 0&&(G.host=String(G.host).replace(j.PCT_ENCODED,Y).toLowerCase().replace(j.NOT_HOST,ie).replace(j.PCT_ENCODED,s)),G.path!==void 0&&(G.path=String(G.path).replace(j.PCT_ENCODED,Y).replace(G.scheme?j.NOT_PATH:j.NOT_PATH_NOSCHEME,ie).replace(j.PCT_ENCODED,s)),G.query!==void 0&&(G.query=String(G.query).replace(j.PCT_ENCODED,Y).replace(j.NOT_QUERY,ie).replace(j.PCT_ENCODED,s)),G.fragment!==void 0&&(G.fragment=String(G.fragment).replace(j.PCT_ENCODED,Y).replace(j.NOT_FRAGMENT,ie).replace(j.PCT_ENCODED,s)),G}function ye(G){return G.replace(/^0*(.*)/,"$1")||"0"}function ce(G,j){var Y=G.match(j.IPV4ADDRESS)||[],de=d(Y,2),fe=de[1];return fe?fe.split(".").map(ye).join("."):G}function Ue(G,j){var Y=G.match(j.IPV6ADDRESS)||[],de=d(Y,3),fe=de[1],Ve=de[2];if(fe){for(var ge=fe.toLowerCase().split("::").reverse(),Le=d(ge,2),tt=Le[0],Ge=Le[1],at=Ge?Ge.split(":").map(ye):[],Tt=tt.split(":").map(ye),Pn=j.IPV4ADDRESS.test(Tt[Tt.length-1]),ot=Pn?7:8,vn=Tt.length-ot,ht=Array(ot),an=0;an<ot;++an)ht[an]=at[an]||Tt[vn+an]||"";Pn&&(ht[ot-1]=ce(ht[ot-1],j));var Wn=ht.reduce(function(rr,ze,Dt){if(!ze||ze==="0"){var Nn=rr[rr.length-1];Nn&&Nn.index+Nn.length===Dt?Nn.length++:rr.push({index:Dt,length:1})}return rr},[]),Mr=Wn.sort(function(rr,ze){return ze.length-rr.length})[0],br=void 0;if(Mr&&Mr.length>1){var Gi=ht.slice(0,Mr.index),ai=ht.slice(Mr.index+Mr.length);br=Gi.join(":")+"::"+ai.join(":")}else br=ht.join(":");return Ve&&(br+="%"+Ve),br}else return G}var Fe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Me="".match(/(){0}/)[1]===void 0;function Te(G){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y={},de=j.iri!==!1?f:c;j.reference==="suffix"&&(G=(j.scheme?j.scheme+":":"")+"//"+G);var fe=G.match(Fe);if(fe){Me?(Y.scheme=fe[1],Y.userinfo=fe[3],Y.host=fe[4],Y.port=parseInt(fe[5],10),Y.path=fe[6]||"",Y.query=fe[7],Y.fragment=fe[8],isNaN(Y.port)&&(Y.port=fe[5])):(Y.scheme=fe[1]||void 0,Y.userinfo=G.indexOf("@")!==-1?fe[3]:void 0,Y.host=G.indexOf("//")!==-1?fe[4]:void 0,Y.port=parseInt(fe[5],10),Y.path=fe[6]||"",Y.query=G.indexOf("?")!==-1?fe[7]:void 0,Y.fragment=G.indexOf("#")!==-1?fe[8]:void 0,isNaN(Y.port)&&(Y.port=G.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?fe[4]:void 0)),Y.host&&(Y.host=Ue(ce(Y.host,de),de)),Y.scheme===void 0&&Y.userinfo===void 0&&Y.host===void 0&&Y.port===void 0&&!Y.path&&Y.query===void 0?Y.reference="same-document":Y.scheme===void 0?Y.reference="relative":Y.fragment===void 0?Y.reference="absolute":Y.reference="uri",j.reference&&j.reference!=="suffix"&&j.reference!==Y.reference&&(Y.error=Y.error||"URI is not a "+j.reference+" reference.");var Ve=te[(j.scheme||Y.scheme||"").toLowerCase()];if(!j.unicodeSupport&&(!Ve||!Ve.unicodeSupport)){if(Y.host&&(j.domainHost||Ve&&Ve.domainHost))try{Y.host=H.toASCII(Y.host.replace(de.PCT_ENCODED,le).toLowerCase())}catch(ge){Y.error=Y.error||"Host's domain name can not be converted to ASCII via punycode: "+ge}se(Y,c)}else se(Y,de);Ve&&Ve.parse&&Ve.parse(Y,j)}else Y.error=Y.error||"URI can not be parsed.";return Y}function we(G,j){var Y=j.iri!==!1?f:c,de=[];return G.userinfo!==void 0&&(de.push(G.userinfo),de.push("@")),G.host!==void 0&&de.push(Ue(ce(String(G.host),Y),Y).replace(Y.IPV6ADDRESS,function(fe,Ve,ge){return"["+Ve+(ge?"%25"+ge:"")+"]"})),(typeof G.port=="number"||typeof G.port=="string")&&(de.push(":"),de.push(String(G.port))),de.length?de.join(""):void 0}var Ne=/^\.\.?\//,Ht=/^\/\.(\/|$)/,Ce=/^\/\.\.(\/|$)/,Re=/^\/?(?:.|\n)*?(?=\/|$)/;function dt(G){for(var j=[];G.length;)if(G.match(Ne))G=G.replace(Ne,"");else if(G.match(Ht))G=G.replace(Ht,"/");else if(G.match(Ce))G=G.replace(Ce,"/"),j.pop();else if(G==="."||G==="..")G="";else{var Y=G.match(Re);if(Y){var de=Y[0];G=G.slice(de.length),j.push(de)}else throw new Error("Unexpected dot segment condition")}return j.join("")}function De(G){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=j.iri?f:c,de=[],fe=te[(j.scheme||G.scheme||"").toLowerCase()];if(fe&&fe.serialize&&fe.serialize(G,j),G.host&&!Y.IPV6ADDRESS.test(G.host)){if(j.domainHost||fe&&fe.domainHost)try{G.host=j.iri?H.toUnicode(G.host):H.toASCII(G.host.replace(Y.PCT_ENCODED,le).toLowerCase())}catch(Le){G.error=G.error||"Host's domain name can not be converted to "+(j.iri?"Unicode":"ASCII")+" via punycode: "+Le}}se(G,Y),j.reference!=="suffix"&&G.scheme&&(de.push(G.scheme),de.push(":"));var Ve=we(G,j);if(Ve!==void 0&&(j.reference!=="suffix"&&de.push("//"),de.push(Ve),G.path&&G.path.charAt(0)!=="/"&&de.push("/")),G.path!==void 0){var ge=G.path;!j.absolutePath&&(!fe||!fe.absolutePath)&&(ge=dt(ge)),Ve===void 0&&(ge=ge.replace(/^\/\//,"/%2F")),de.push(ge)}return G.query!==void 0&&(de.push("?"),de.push(G.query)),G.fragment!==void 0&&(de.push("#"),de.push(G.fragment)),de.join("")}function lt(G,j){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},de=arguments[3],fe={};return de||(G=Te(De(G,Y),Y),j=Te(De(j,Y),Y)),Y=Y||{},!Y.tolerant&&j.scheme?(fe.scheme=j.scheme,fe.userinfo=j.userinfo,fe.host=j.host,fe.port=j.port,fe.path=dt(j.path||""),fe.query=j.query):(j.userinfo!==void 0||j.host!==void 0||j.port!==void 0?(fe.userinfo=j.userinfo,fe.host=j.host,fe.port=j.port,fe.path=dt(j.path||""),fe.query=j.query):(j.path?(j.path.charAt(0)==="/"?fe.path=dt(j.path):((G.userinfo!==void 0||G.host!==void 0||G.port!==void 0)&&!G.path?fe.path="/"+j.path:G.path?fe.path=G.path.slice(0,G.path.lastIndexOf("/")+1)+j.path:fe.path=j.path,fe.path=dt(fe.path)),fe.query=j.query):(fe.path=G.path,j.query!==void 0?fe.query=j.query:fe.query=G.query),fe.userinfo=G.userinfo,fe.host=G.host,fe.port=G.port),fe.scheme=G.scheme),fe.fragment=j.fragment,fe}function Ft(G,j,Y){var de=l({scheme:"null"},Y);return De(lt(Te(G,de),Te(j,de),de,!0),de)}function Jt(G,j){return typeof G=="string"?G=De(Te(G,j),j):o(G)==="object"&&(G=Te(De(G,j),j)),G}function jn(G,j,Y){return typeof G=="string"?G=De(Te(G,Y),Y):o(G)==="object"&&(G=De(G,Y)),typeof j=="string"?j=De(Te(j,Y),Y):o(j)==="object"&&(j=De(j,Y)),G===j}function oe(G,j){return G&&G.toString().replace(!j||!j.iri?c.ESCAPE:f.ESCAPE,ie)}function me(G,j){return G&&G.toString().replace(!j||!j.iri?c.PCT_ENCODED:f.PCT_ENCODED,le)}var $e={scheme:"http",domainHost:!0,parse:function(j,Y){return j.host||(j.error=j.error||"HTTP URIs must have a host."),j},serialize:function(j,Y){var de=String(j.scheme).toLowerCase()==="https";return(j.port===(de?443:80)||j.port==="")&&(j.port=void 0),j.path||(j.path="/"),j}},Je={scheme:"https",domainHost:$e.domainHost,parse:$e.parse,serialize:$e.serialize};function Oe(G){return typeof G.secure=="boolean"?G.secure:String(G.scheme).toLowerCase()==="wss"}var Ze={scheme:"ws",domainHost:!0,parse:function(j,Y){var de=j;return de.secure=Oe(de),de.resourceName=(de.path||"/")+(de.query?"?"+de.query:""),de.path=void 0,de.query=void 0,de},serialize:function(j,Y){if((j.port===(Oe(j)?443:80)||j.port==="")&&(j.port=void 0),typeof j.secure=="boolean"&&(j.scheme=j.secure?"wss":"ws",j.secure=void 0),j.resourceName){var de=j.resourceName.split("?"),fe=d(de,2),Ve=fe[0],ge=fe[1];j.path=Ve&&Ve!=="/"?Ve:void 0,j.query=ge,j.resourceName=void 0}return j.fragment=void 0,j}},ke={scheme:"wss",domainHost:Ze.domainHost,parse:Ze.parse,serialize:Ze.serialize},Ke={},dn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Mt="[0-9A-Fa-f]",gt=i(i("%[EFef]"+Mt+"%"+Mt+Mt+"%"+Mt+Mt)+"|"+i("%[89A-Fa-f]"+Mt+"%"+Mt+Mt)+"|"+i("%"+Mt+Mt)),Cn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",hn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ws=r(hn,'[\\"\\\\]'),tr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",xi=new RegExp(dn,"g"),cr=new RegExp(gt,"g"),Pr=new RegExp(r("[^]",Cn,"[\\.]",'[\\"]',Ws),"g"),nr=new RegExp(r("[^]",dn,tr),"g"),$n=nr;function Wt(G){var j=le(G);return j.match(xi)?j:G}var Yr={scheme:"mailto",parse:function(j,Y){var de=j,fe=de.to=de.path?de.path.split(","):[];if(de.path=void 0,de.query){for(var Ve=!1,ge={},Le=de.query.split("&"),tt=0,Ge=Le.length;tt<Ge;++tt){var at=Le[tt].split("=");switch(at[0]){case"to":for(var Tt=at[1].split(","),Pn=0,ot=Tt.length;Pn<ot;++Pn)fe.push(Tt[Pn]);break;case"subject":de.subject=me(at[1],Y);break;case"body":de.body=me(at[1],Y);break;default:Ve=!0,ge[me(at[0],Y)]=me(at[1],Y);break}}Ve&&(de.headers=ge)}de.query=void 0;for(var vn=0,ht=fe.length;vn<ht;++vn){var an=fe[vn].split("@");if(an[0]=me(an[0]),Y.unicodeSupport)an[1]=me(an[1],Y).toLowerCase();else try{an[1]=H.toASCII(me(an[1],Y).toLowerCase())}catch(Wn){de.error=de.error||"Email address's domain name can not be converted to ASCII via punycode: "+Wn}fe[vn]=an.join("@")}return de},serialize:function(j,Y){var de=j,fe=a(j.to);if(fe){for(var Ve=0,ge=fe.length;Ve<ge;++Ve){var Le=String(fe[Ve]),tt=Le.lastIndexOf("@"),Ge=Le.slice(0,tt).replace(cr,Wt).replace(cr,s).replace(Pr,ie),at=Le.slice(tt+1);try{at=Y.iri?H.toUnicode(at):H.toASCII(me(at,Y).toLowerCase())}catch(vn){de.error=de.error||"Email address's domain name can not be converted to "+(Y.iri?"Unicode":"ASCII")+" via punycode: "+vn}fe[Ve]=Ge+"@"+at}de.path=fe.join(",")}var Tt=j.headers=j.headers||{};j.subject&&(Tt.subject=j.subject),j.body&&(Tt.body=j.body);var Pn=[];for(var ot in Tt)Tt[ot]!==Ke[ot]&&Pn.push(ot.replace(cr,Wt).replace(cr,s).replace(nr,ie)+"="+Tt[ot].replace(cr,Wt).replace(cr,s).replace($n,ie));return Pn.length&&(de.query=Pn.join("&")),de}},fr=/^([^\:]+)\:(.*)/,Ir={scheme:"urn",parse:function(j,Y){var de=j.path&&j.path.match(fr),fe=j;if(de){var Ve=Y.scheme||fe.scheme||"urn",ge=de[1].toLowerCase(),Le=de[2],tt=Ve+":"+(Y.nid||ge),Ge=te[tt];fe.nid=ge,fe.nss=Le,fe.path=void 0,Ge&&(fe=Ge.parse(fe,Y))}else fe.error=fe.error||"URN can not be parsed.";return fe},serialize:function(j,Y){var de=Y.scheme||j.scheme||"urn",fe=j.nid,Ve=de+":"+(Y.nid||fe),ge=te[Ve];ge&&(j=ge.serialize(j,Y));var Le=j,tt=j.nss;return Le.path=(fe||Y.nid)+":"+tt,Le}},si=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oo={scheme:"urn:uuid",parse:function(j,Y){var de=j;return de.uuid=de.nss,de.nss=void 0,!Y.tolerant&&(!de.uuid||!de.uuid.match(si))&&(de.error=de.error||"UUID is not valid."),de},serialize:function(j,Y){var de=j;return de.nss=(j.uuid||"").toLowerCase(),de}};te[$e.scheme]=$e,te[Je.scheme]=Je,te[Ze.scheme]=Ze,te[ke.scheme]=ke,te[Yr.scheme]=Yr,te[Ir.scheme]=Ir,te[oo.scheme]=oo,n.SCHEMES=te,n.pctEncChar=ie,n.pctDecChars=le,n.parse=Te,n.removeDotSegments=dt,n.serialize=De,n.resolveComponents=lt,n.resolve=Ft,n.normalize=Jt,n.equal=jn,n.escapeComponent=oe,n.unescapeComponent=me,Object.defineProperty(n,"__esModule",{value:!0})})})(d$,d$.exports);var ETe=d$.exports;Object.defineProperty(cN,"__esModule",{value:!0});const CQ=ETe;CQ.code='require("ajv/dist/runtime/uri").default';cN.default=CQ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=da;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=jt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Xv,i=Jv,o=dd,s=So,a=jt,l=mi,u=Qv,c=sn,f=STe,d=cN,h=(W,P)=>new RegExp(W,P);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function _(W){var P,O,F,$,C,H,te,ie,le,se,ye,ce,Ue,Fe,Me,Te,we,Ne,Ht,Ce,Re,dt,De,lt,Ft;const Jt=W.strict,jn=(P=W.code)===null||P===void 0?void 0:P.optimize,oe=jn===!0||jn===void 0?1:jn||0,me=(F=(O=W.code)===null||O===void 0?void 0:O.regExp)!==null&&F!==void 0?F:h,$e=($=W.uriResolver)!==null&&$!==void 0?$:d.default;return{strictSchema:(H=(C=W.strictSchema)!==null&&C!==void 0?C:Jt)!==null&&H!==void 0?H:!0,strictNumbers:(ie=(te=W.strictNumbers)!==null&&te!==void 0?te:Jt)!==null&&ie!==void 0?ie:!0,strictTypes:(se=(le=W.strictTypes)!==null&&le!==void 0?le:Jt)!==null&&se!==void 0?se:"log",strictTuples:(ce=(ye=W.strictTuples)!==null&&ye!==void 0?ye:Jt)!==null&&ce!==void 0?ce:"log",strictRequired:(Fe=(Ue=W.strictRequired)!==null&&Ue!==void 0?Ue:Jt)!==null&&Fe!==void 0?Fe:!1,code:W.code?{...W.code,optimize:oe,regExp:me}:{optimize:oe,regExp:me},loopRequired:(Me=W.loopRequired)!==null&&Me!==void 0?Me:v,loopEnum:(Te=W.loopEnum)!==null&&Te!==void 0?Te:v,meta:(we=W.meta)!==null&&we!==void 0?we:!0,messages:(Ne=W.messages)!==null&&Ne!==void 0?Ne:!0,inlineRefs:(Ht=W.inlineRefs)!==null&&Ht!==void 0?Ht:!0,schemaId:(Ce=W.schemaId)!==null&&Ce!==void 0?Ce:"$id",addUsedSchema:(Re=W.addUsedSchema)!==null&&Re!==void 0?Re:!0,validateSchema:(dt=W.validateSchema)!==null&&dt!==void 0?dt:!0,validateFormats:(De=W.validateFormats)!==null&&De!==void 0?De:!0,unicodeRegExp:(lt=W.unicodeRegExp)!==null&&lt!==void 0?lt:!0,int32range:(Ft=W.int32range)!==null&&Ft!==void 0?Ft:!0,uriResolver:$e}}class b{constructor(P={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,P=this.opts={...P,..._(P)};const{es5:O,lines:F}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:O,lines:F}),this.logger=z(P.logger);const $=P.validateFormats;P.validateFormats=!1,this.RULES=(0,o.getRules)(),E.call(this,y,P,"NOT SUPPORTED"),E.call(this,m,P,"DEPRECATED","warn"),this._metaOpts=R.call(this),P.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),P.keywords&&D.call(this,P.keywords),typeof P.meta=="object"&&this.addMetaSchema(P.meta),x.call(this),P.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:P,meta:O,schemaId:F}=this.opts;let $=f;F==="id"&&($={...f},$.id=$.$id,delete $.$id),O&&P&&this.addMetaSchema($,$[F],!1)}defaultMeta(){const{meta:P,schemaId:O}=this.opts;return this.opts.defaultMeta=typeof P=="object"?P[O]||P:void 0}validate(P,O){let F;if(typeof P=="string"){if(F=this.getSchema(P),!F)throw new Error(`no schema with key or ref "${P}"`)}else F=this.compile(P);const $=F(O);return"$async"in F||(this.errors=F.errors),$}compile(P,O){const F=this._addSchema(P,O);return F.validate||this._compileSchemaEnv(F)}compileAsync(P,O){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return $.call(this,P,O);async function $(se,ye){await C.call(this,se.$schema);const ce=this._addSchema(se,ye);return ce.validate||H.call(this,ce)}async function C(se){se&&!this.getSchema(se)&&await $.call(this,{$ref:se},!0)}async function H(se){try{return this._compileSchemaEnv(se)}catch(ye){if(!(ye instanceof i.default))throw ye;return te.call(this,ye),await ie.call(this,ye.missingSchema),H.call(this,se)}}function te({missingSchema:se,missingRef:ye}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${ye} cannot be resolved`)}async function ie(se){const ye=await le.call(this,se);this.refs[se]||await C.call(this,ye.$schema),this.refs[se]||this.addSchema(ye,se,O)}async function le(se){const ye=this._loading[se];if(ye)return ye;try{return await(this._loading[se]=F(se))}finally{delete this._loading[se]}}}addSchema(P,O,F,$=this.opts.validateSchema){if(Array.isArray(P)){for(const H of P)this.addSchema(H,void 0,F,$);return this}let C;if(typeof P=="object"){const{schemaId:H}=this.opts;if(C=P[H],C!==void 0&&typeof C!="string")throw new Error(`schema ${H} must be string`)}return O=(0,l.normalizeId)(O||C),this._checkUnique(O),this.schemas[O]=this._addSchema(P,F,O,$,!0),this}addMetaSchema(P,O,F=this.opts.validateSchema){return this.addSchema(P,O,!0,F),this}validateSchema(P,O){if(typeof P=="boolean")return!0;let F;if(F=P.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(F,P);if(!$&&O){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return $}getSchema(P){let O;for(;typeof(O=w.call(this,P))=="string";)P=O;if(O===void 0){const{schemaId:F}=this.opts,$=new s.SchemaEnv({schema:{},schemaId:F});if(O=s.resolveSchema.call(this,$,P),!O)return;this.refs[P]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(P){if(P instanceof RegExp)return this._removeAllSchemas(this.schemas,P),this._removeAllSchemas(this.refs,P),this;switch(typeof P){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=w.call(this,P);return typeof O=="object"&&this._cache.delete(O.schema),delete this.schemas[P],delete this.refs[P],this}case"object":{const O=P;this._cache.delete(O);let F=P[this.opts.schemaId];return F&&(F=(0,l.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(P){for(const O of P)this.addKeyword(O);return this}addKeyword(P,O){let F;if(typeof P=="string")F=P,typeof O=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=F);else if(typeof P=="object"&&O===void 0){if(O=P,F=O.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,F,O),!O)return(0,c.eachItem)(F,C=>ae.call(this,C)),this;ue.call(this,O);const $={...O,type:(0,u.getJSONTypes)(O.type),schemaType:(0,u.getJSONTypes)(O.schemaType)};return(0,c.eachItem)(F,$.type.length===0?C=>ae.call(this,C,$):C=>$.type.forEach(H=>ae.call(this,C,$,H))),this}getKeyword(P){const O=this.RULES.all[P];return typeof O=="object"?O.definition:!!O}removeKeyword(P){const{RULES:O}=this;delete O.keywords[P],delete O.all[P];for(const F of O.rules){const $=F.rules.findIndex(C=>C.keyword===P);$>=0&&F.rules.splice($,1)}return this}addFormat(P,O){return typeof O=="string"&&(O=new RegExp(O)),this.formats[P]=O,this}errorsText(P=this.errors,{separator:O=", ",dataVar:F="data"}={}){return!P||P.length===0?"No errors":P.map($=>`${F}${$.instancePath} ${$.message}`).reduce(($,C)=>$+O+C)}$dataMetaSchema(P,O){const F=this.RULES.all;P=JSON.parse(JSON.stringify(P));for(const $ of O){const C=$.split("/").slice(1);let H=P;for(const te of C)H=H[te];for(const te in F){const ie=F[te];if(typeof ie!="object")continue;const{$data:le}=ie.definition,se=H[te];le&&se&&(H[te]=ee(se))}}return P}_removeAllSchemas(P,O){for(const F in P){const $=P[F];(!O||O.test(F))&&(typeof $=="string"?delete P[F]:$&&!$.meta&&(this._cache.delete($.schema),delete P[F]))}}_addSchema(P,O,F,$=this.opts.validateSchema,C=this.opts.addUsedSchema){let H;const{schemaId:te}=this.opts;if(typeof P=="object")H=P[te];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof P!="boolean")throw new Error("schema must be object or boolean")}let ie=this._cache.get(P);if(ie!==void 0)return ie;F=(0,l.normalizeId)(H||F);const le=l.getSchemaRefs.call(this,P,F);return ie=new s.SchemaEnv({schema:P,schemaId:te,meta:O,baseId:F,localRefs:le}),this._cache.set(ie.schema,ie),C&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=ie),$&&this.validateSchema(P,!0),ie}_checkUnique(P){if(this.schemas[P]||this.refs[P])throw new Error(`schema with key or id "${P}" already exists`)}_compileSchemaEnv(P){if(P.meta?this._compileMetaSchema(P):s.compileSchema.call(this,P),!P.validate)throw new Error("ajv implementation error");return P.validate}_compileMetaSchema(P){const O=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,P)}finally{this.opts=O}}}e.default=b,b.ValidationError=r.default,b.MissingRefError=i.default;function E(W,P,O,F="error"){for(const $ in W){const C=$;C in P&&this.logger[F](`${O}: option ${$}. ${W[C]}`)}}function w(W){return W=(0,l.normalizeId)(W),this.schemas[W]||this.refs[W]}function x(){const W=this.opts.schemas;if(W)if(Array.isArray(W))this.addSchema(W);else for(const P in W)this.addSchema(W[P],P)}function I(){for(const W in this.opts.formats){const P=this.opts.formats[W];P&&this.addFormat(W,P)}}function D(W){if(Array.isArray(W)){this.addVocabulary(W);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const P in W){const O=W[P];O.keyword||(O.keyword=P),this.addKeyword(O)}}function R(){const W={...this.opts};for(const P of p)delete W[P];return W}const N={log(){},warn(){},error(){}};function z(W){if(W===!1)return N;if(W===void 0)return console;if(W.log&&W.warn&&W.error)return W;throw new Error("logger must implement log, warn and error methods")}const U=/^[a-z_$][a-z0-9_$:-]*$/i;function B(W,P){const{RULES:O}=this;if((0,c.eachItem)(W,F=>{if(O.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!U.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!P&&P.$data&&!("code"in P||"validate"in P))throw new Error('$data keyword must have "code" or "validate" function')}function ae(W,P,O){var F;const $=P==null?void 0:P.post;if(O&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let H=$?C.post:C.rules.find(({type:ie})=>ie===O);if(H||(H={type:O,rules:[]},C.rules.push(H)),C.keywords[W]=!0,!P)return;const te={keyword:W,definition:{...P,type:(0,u.getJSONTypes)(P.type),schemaType:(0,u.getJSONTypes)(P.schemaType)}};P.before?re.call(this,H,te,P.before):H.rules.push(te),C.all[W]=te,(F=P.implements)===null||F===void 0||F.forEach(ie=>this.addKeyword(ie))}function re(W,P,O){const F=W.rules.findIndex($=>$.keyword===O);F>=0?W.rules.splice(F,0,P):(W.rules.push(P),this.logger.warn(`rule ${O} is not defined`))}function ue(W){let{metaSchema:P}=W;P!==void 0&&(W.$data&&this.opts.$data&&(P=ee(P)),W.validateSchema=this.compile(P,!0))}const Q={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ee(W){return{anyOf:[W,Q]}}})(oQ);var fN={},dN={},hN={};Object.defineProperty(hN,"__esModule",{value:!0});const xTe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};hN.default=xTe;var hd={};Object.defineProperty(hd,"__esModule",{value:!0});hd.callRef=hd.getValidate=void 0;const PTe=Jv,wV=Lt,ho=jt,th=_l,bV=So,y_=sn,ITe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=r,{root:u}=o;if((n==="#"||n==="#/")&&i===u.baseId)return f();const c=bV.resolveRef.call(l,u,i,n);if(c===void 0)throw new PTe.default(r.opts.uriResolver,i,n);if(c instanceof bV.SchemaEnv)return d(c);return h(c);function f(){if(o===u)return ww(e,s,o,o.$async);const p=t.scopeValue("root",{ref:u});return ww(e,(0,ho._)`${p}.validate`,u,u.$async)}function d(p){const g=$Q(e,p);ww(e,g,p,p.$async)}function h(p){const g=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,ho.stringify)(p)}:{ref:p}),y=t.name("valid"),m=e.subschema({schema:p,dataTypes:[],schemaPath:ho.nil,topSchemaRef:g,errSchemaPath:n},y);e.mergeEvaluated(m),e.ok(y)}}};function $Q(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,ho._)`${n.scopeValue("wrapper",{ref:t})}.validate`}hd.getValidate=$Q;function ww(e,t,n,r){const{gen:i,it:o}=e,{allErrors:s,schemaEnv:a,opts:l}=o,u=l.passContext?th.default.this:ho.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,ho._)`await ${(0,wV.callValidateCode)(e,t,u)}`),h(t),s||i.assign(p,!0)},g=>{i.if((0,ho._)`!(${g} instanceof ${o.ValidationError})`,()=>i.throw(g)),d(g),s||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,wV.callValidateCode)(e,t,u),()=>h(t),()=>d(t))}function d(p){const g=(0,ho._)`${p}.errors`;i.assign(th.default.vErrors,(0,ho._)`${th.default.vErrors} === null ? ${g} : ${th.default.vErrors}.concat(${g})`),i.assign(th.default.errors,(0,ho._)`${th.default.vErrors}.length`)}function h(p){var g;if(!o.opts.unevaluated)return;const y=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(o.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(o.props=y_.mergeEvaluated.props(i,y.props,o.props));else{const m=i.var("props",(0,ho._)`${p}.evaluated.props`);o.props=y_.mergeEvaluated.props(i,m,o.props,ho.Name)}if(o.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(o.items=y_.mergeEvaluated.items(i,y.items,o.items));else{const m=i.var("items",(0,ho._)`${p}.evaluated.items`);o.items=y_.mergeEvaluated.items(i,m,o.items,ho.Name)}}}hd.callRef=ww;hd.default=ITe;Object.defineProperty(dN,"__esModule",{value:!0});const OTe=hN,TTe=hd,CTe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",OTe.default,TTe.default];dN.default=CTe;var pN={},mN={};Object.defineProperty(mN,"__esModule",{value:!0});const iS=jt,Fu=iS.operators,oS={maximum:{okStr:"<=",ok:Fu.LTE,fail:Fu.GT},minimum:{okStr:">=",ok:Fu.GTE,fail:Fu.LT},exclusiveMaximum:{okStr:"<",ok:Fu.LT,fail:Fu.GTE},exclusiveMinimum:{okStr:">",ok:Fu.GT,fail:Fu.LTE}},$Te={message:({keyword:e,schemaCode:t})=>(0,iS.str)`must be ${oS[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,iS._)`{comparison: ${oS[e].okStr}, limit: ${t}}`},kTe={keyword:Object.keys(oS),type:"number",schemaType:"number",$data:!0,error:$Te,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,iS._)`${n} ${oS[t].fail} ${r} || isNaN(${n})`)}};mN.default=kTe;var gN={};Object.defineProperty(gN,"__esModule",{value:!0});const iy=jt,ATe={message:({schemaCode:e})=>(0,iy.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,iy._)`{multipleOf: ${e}}`},RTe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:ATe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),a=o?(0,iy._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,iy._)`${s} !== parseInt(${s})`;e.fail$data((0,iy._)`(${r} === 0 || (${s} = ${n}/${r}, ${a}))`)}};gN.default=RTe;var yN={},vN={};Object.defineProperty(vN,"__esModule",{value:!0});function kQ(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}vN.default=kQ;kQ.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(yN,"__esModule",{value:!0});const Cf=jt,NTe=sn,DTe=vN,MTe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Cf.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Cf._)`{limit: ${e}}`},LTe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:MTe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,o=t==="maxLength"?Cf.operators.GT:Cf.operators.LT,s=i.opts.unicode===!1?(0,Cf._)`${n}.length`:(0,Cf._)`${(0,NTe.useFunc)(e.gen,DTe.default)}(${n})`;e.fail$data((0,Cf._)`${s} ${o} ${r}`)}};yN.default=LTe;var _N={};Object.defineProperty(_N,"__esModule",{value:!0});const jTe=Lt,sS=jt,FTe={message:({schemaCode:e})=>(0,sS.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,sS._)`{pattern: ${e}}`},VTe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:FTe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=n?(0,sS._)`(new RegExp(${i}, ${s}))`:(0,jTe.usePattern)(e,r);e.fail$data((0,sS._)`!${a}.test(${t})`)}};_N.default=VTe;var wN={};Object.defineProperty(wN,"__esModule",{value:!0});const oy=jt,BTe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,oy.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,oy._)`{limit: ${e}}`},zTe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:BTe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?oy.operators.GT:oy.operators.LT;e.fail$data((0,oy._)`Object.keys(${n}).length ${i} ${r}`)}};wN.default=zTe;var bN={};Object.defineProperty(bN,"__esModule",{value:!0});const ng=Lt,sy=jt,UTe=sn,HTe={message:({params:{missingProperty:e}})=>(0,sy.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,sy._)`{missingProperty: ${e}}`},WTe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:HTe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:o,it:s}=e,{opts:a}=s;if(!o&&n.length===0)return;const l=n.length>=a.loopRequired;if(s.allErrors?u():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const y=s.schemaEnv.baseId+s.errSchemaPath,m=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,UTe.checkStrictMode)(s,m,s.opts.strictRequired)}}function u(){if(l||o)e.block$data(sy.nil,f);else for(const h of n)(0,ng.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(l||o){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,ng.checkMissingProp)(e,n,h)),(0,ng.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,ng.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,ng.propertyInData)(t,i,h,a.ownProperties)),t.if((0,sy.not)(p),()=>{e.error(),t.break()})},sy.nil)}}};bN.default=WTe;var SN={};Object.defineProperty(SN,"__esModule",{value:!0});const ay=jt,qTe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,ay.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,ay._)`{limit: ${e}}`},GTe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:qTe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?ay.operators.GT:ay.operators.LT;e.fail$data((0,ay._)`${n}.length ${i} ${r}`)}};SN.default=GTe;var EN={},Zv={};Object.defineProperty(Zv,"__esModule",{value:!0});const AQ=sN;AQ.code='require("ajv/dist/runtime/equal").default';Zv.default=AQ;Object.defineProperty(EN,"__esModule",{value:!0});const pO=Qv,ui=jt,KTe=sn,YTe=Zv,QTe={message:({params:{i:e,j:t}})=>(0,ui.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,ui._)`{i: ${e}, j: ${t}}`},XTe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:QTe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:o,schemaCode:s,it:a}=e;if(!r&&!i)return;const l=t.let("valid"),u=o.items?(0,pO.getSchemaTypes)(o.items):[];e.block$data(l,c,(0,ui._)`${s} === false`),e.ok(l);function c(){const p=t.let("i",(0,ui._)`${n}.length`),g=t.let("j");e.setParams({i:p,j:g}),t.assign(l,!0),t.if((0,ui._)`${p} > 1`,()=>(f()?d:h)(p,g))}function f(){return u.length>0&&!u.some(p=>p==="object"||p==="array")}function d(p,g){const y=t.name("item"),m=(0,pO.checkDataTypes)(u,y,a.opts.strictNumbers,pO.DataType.Wrong),v=t.const("indices",(0,ui._)`{}`);t.for((0,ui._)`;${p}--;`,()=>{t.let(y,(0,ui._)`${n}[${p}]`),t.if(m,(0,ui._)`continue`),u.length>1&&t.if((0,ui._)`typeof ${y} == "string"`,(0,ui._)`${y} += "_"`),t.if((0,ui._)`typeof ${v}[${y}] == "number"`,()=>{t.assign(g,(0,ui._)`${v}[${y}]`),e.error(),t.assign(l,!1).break()}).code((0,ui._)`${v}[${y}] = ${p}`)})}function h(p,g){const y=(0,KTe.useFunc)(t,YTe.default),m=t.name("outer");t.label(m).for((0,ui._)`;${p}--;`,()=>t.for((0,ui._)`${g} = ${p}; ${g}--;`,()=>t.if((0,ui._)`${y}(${n}[${p}], ${n}[${g}])`,()=>{e.error(),t.assign(l,!1).break(m)})))}}};EN.default=XTe;var xN={};Object.defineProperty(xN,"__esModule",{value:!0});const h$=jt,JTe=sn,ZTe=Zv,eCe={message:"must be equal to constant",params:({schemaCode:e})=>(0,h$._)`{allowedValue: ${e}}`},tCe={keyword:"const",$data:!0,error:eCe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:o}=e;r||o&&typeof o=="object"?e.fail$data((0,h$._)`!${(0,JTe.useFunc)(t,ZTe.default)}(${n}, ${i})`):e.fail((0,h$._)`${o} !== ${n}`)}};xN.default=tCe;var PN={};Object.defineProperty(PN,"__esModule",{value:!0});const Pg=jt,nCe=sn,rCe=Zv,iCe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Pg._)`{allowedValues: ${e}}`},oCe={keyword:"enum",schemaType:"array",$data:!0,error:iCe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:o,it:s}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let l;const u=()=>l??(l=(0,nCe.useFunc)(t,rCe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",o);c=(0,Pg.or)(...i.map((p,g)=>d(h,g)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",o,h=>t.if((0,Pg._)`${u()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,Pg._)`${u()}(${n}, ${h}[${p}])`:(0,Pg._)`${n} === ${g}`}}};PN.default=oCe;Object.defineProperty(pN,"__esModule",{value:!0});const sCe=mN,aCe=gN,lCe=yN,uCe=_N,cCe=wN,fCe=bN,dCe=SN,hCe=EN,pCe=xN,mCe=PN,gCe=[sCe.default,aCe.default,lCe.default,uCe.default,cCe.default,fCe.default,dCe.default,hCe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},pCe.default,mCe.default];pN.default=gCe;var IN={},um={};Object.defineProperty(um,"__esModule",{value:!0});um.validateAdditionalItems=void 0;const $f=jt,p$=sn,yCe={message:({params:{len:e}})=>(0,$f.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,$f._)`{limit: ${e}}`},vCe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:yCe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,p$.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}RQ(e,r)}};function RQ(e,t){const{gen:n,schema:r,data:i,keyword:o,it:s}=e;s.items=!0;const a=n.const("len",(0,$f._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,$f._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,p$.alwaysValidSchema)(s,r)){const u=n.var("valid",(0,$f._)`${a} <= ${t.length}`);n.if((0,$f.not)(u),()=>l(u)),e.ok(u)}function l(u){n.forRange("i",t.length,a,c=>{e.subschema({keyword:o,dataProp:c,dataPropType:p$.Type.Num},u),s.allErrors||n.if((0,$f.not)(u),()=>n.break())})}}um.validateAdditionalItems=RQ;um.default=vCe;var ON={},cm={};Object.defineProperty(cm,"__esModule",{value:!0});cm.validateTuple=void 0;const SV=jt,bw=sn,_Ce=Lt,wCe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return NQ(e,"additionalItems",t);n.items=!0,!(0,bw.alwaysValidSchema)(n,t)&&e.ok((0,_Ce.validateArray)(e))}};function NQ(e,t,n=e.schema){const{gen:r,parentSchema:i,data:o,keyword:s,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=bw.mergeEvaluated.items(r,n.length,a.items));const l=r.name("valid"),u=r.const("len",(0,SV._)`${o}.length`);n.forEach((f,d)=>{(0,bw.alwaysValidSchema)(a,f)||(r.if((0,SV._)`${u} > ${d}`,()=>e.subschema({keyword:s,schemaProp:d,dataProp:d},l)),e.ok(l))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,g=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!g){const y=`"${s}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,bw.checkStrictMode)(a,y,d.strictTuples)}}}cm.validateTuple=NQ;cm.default=wCe;Object.defineProperty(ON,"__esModule",{value:!0});const bCe=cm,SCe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,bCe.validateTuple)(e,"items")};ON.default=SCe;var TN={};Object.defineProperty(TN,"__esModule",{value:!0});const EV=jt,ECe=sn,xCe=Lt,PCe=um,ICe={message:({params:{len:e}})=>(0,EV.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,EV._)`{limit: ${e}}`},OCe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:ICe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,ECe.alwaysValidSchema)(r,t)&&(i?(0,PCe.validateAdditionalItems)(e,i):e.ok((0,xCe.validateArray)(e)))}};TN.default=OCe;var CN={};Object.defineProperty(CN,"__esModule",{value:!0});const ys=jt,v_=sn,TCe={message:({params:{min:e,max:t}})=>t===void 0?(0,ys.str)`must contain at least ${e} valid item(s)`:(0,ys.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ys._)`{minContains: ${e}}`:(0,ys._)`{minContains: ${e}, maxContains: ${t}}`},CCe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:TCe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:o}=e;let s,a;const{minContains:l,maxContains:u}=r;o.opts.next?(s=l===void 0?1:l,a=u):s=1;const c=t.const("len",(0,ys._)`${i}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,v_.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,v_.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,v_.alwaysValidSchema)(o,n)){let g=(0,ys._)`${c} >= ${s}`;a!==void 0&&(g=(0,ys._)`${g} && ${c} <= ${a}`),e.pass(g);return}o.items=!0;const f=t.name("valid");a===void 0&&s===1?h(f,()=>t.if(f,()=>t.break())):s===0?(t.let(f,!0),a!==void 0&&t.if((0,ys._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const g=t.name("_valid"),y=t.let("count",0);h(g,()=>t.if(g,()=>p(y)))}function h(g,y){t.forRange("i",0,c,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:v_.Type.Num,compositeRule:!0},g),y()})}function p(g){t.code((0,ys._)`${g}++`),a===void 0?t.if((0,ys._)`${g} >= ${s}`,()=>t.assign(f,!0).break()):(t.if((0,ys._)`${g} > ${a}`,()=>t.assign(f,!1).break()),s===1?t.assign(f,!0):t.if((0,ys._)`${g} >= ${s}`,()=>t.assign(f,!0)))}}};CN.default=CCe;var DQ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=jt,n=sn,r=Lt;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=o(l);s(l,u),a(l,c)}};function o({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const d=Array.isArray(l[f])?u:c;d[f]=l[f]}return[u,c]}function s(l,u=l.schema){const{gen:c,data:f,it:d}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const g=u[p];if(g.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);l.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),d.allErrors?c.if(y,()=>{for(const m of g)(0,r.checkReportMissingProp)(l,m)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(l,g,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:c,data:f,keyword:d,it:h}=l,p=c.name("valid");for(const g in u)(0,n.alwaysValidSchema)(h,u[g])||(c.if((0,r.propertyInData)(c,f,g,h.opts.ownProperties),()=>{const y=l.subschema({keyword:d,schemaProp:g},p);l.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i})(DQ);var $N={};Object.defineProperty($N,"__esModule",{value:!0});const MQ=jt,$Ce=sn,kCe={message:"property name must be valid",params:({params:e})=>(0,MQ._)`{propertyName: ${e.propertyName}}`},ACe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:kCe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,$Ce.alwaysValidSchema)(i,n))return;const o=t.name("valid");t.forIn("key",r,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),t.if((0,MQ.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};$N.default=ACe;var $x={};Object.defineProperty($x,"__esModule",{value:!0});const __=Lt,Ys=jt,RCe=_l,w_=sn,NCe={message:"must NOT have additional properties",params:({params:e})=>(0,Ys._)`{additionalProperty: ${e.additionalProperty}}`},DCe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:NCe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,w_.alwaysValidSchema)(s,n))return;const u=(0,__.allSchemaProperties)(r.properties),c=(0,__.allSchemaProperties)(r.patternProperties);f(),e.ok((0,Ys._)`${o} === ${RCe.default.errors}`);function f(){t.forIn("key",i,y=>{!u.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let m;if(u.length>8){const v=(0,w_.schemaRefOrVal)(s,r.properties,"properties");m=(0,__.isOwnProperty)(t,v,y)}else u.length?m=(0,Ys.or)(...u.map(v=>(0,Ys._)`${y} === ${v}`)):m=Ys.nil;return c.length&&(m=(0,Ys.or)(m,...c.map(v=>(0,Ys._)`${(0,__.usePattern)(e,v)}.test(${y})`))),(0,Ys.not)(m)}function h(y){t.code((0,Ys._)`delete ${i}[${y}]`)}function p(y){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,w_.alwaysValidSchema)(s,n)){const m=t.name("valid");l.removeAdditional==="failing"?(g(y,m,!1),t.if((0,Ys.not)(m),()=>{e.reset(),h(y)})):(g(y,m),a||t.if((0,Ys.not)(m),()=>t.break()))}}function g(y,m,v){const _={keyword:"additionalProperties",dataProp:y,dataPropType:w_.Type.Str};v===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,m)}}};$x.default=DCe;var kN={};Object.defineProperty(kN,"__esModule",{value:!0});const MCe=da,xV=Lt,mO=sn,PV=$x,LCe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:o}=e;o.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&PV.default.code(new MCe.KeywordCxt(o,PV.default,"additionalProperties"));const s=(0,xV.allSchemaProperties)(n);for(const f of s)o.definedProperties.add(f);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=mO.mergeEvaluated.props(t,(0,mO.toHash)(s),o.props));const a=s.filter(f=>!(0,mO.alwaysValidSchema)(o,n[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)u(f)?c(f):(t.if((0,xV.propertyInData)(t,i,f,o.opts.ownProperties)),c(f),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function u(f){return o.opts.useDefaults&&!o.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};kN.default=LCe;var AN={};Object.defineProperty(AN,"__esModule",{value:!0});const IV=Lt,b_=jt,OV=sn,TV=sn,jCe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:o}=e,{opts:s}=o,a=(0,IV.allSchemaProperties)(n),l=a.filter(g=>(0,OV.alwaysValidSchema)(o,n[g]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&i.properties,c=t.name("valid");o.props!==!0&&!(o.props instanceof b_.Name)&&(o.props=(0,TV.evaluatedPropsToName)(t,o.props));const{props:f}=o;d();function d(){for(const g of a)u&&h(g),o.allErrors?p(g):(t.var(c,!0),p(g),t.if(c))}function h(g){for(const y in u)new RegExp(g).test(y)&&(0,OV.checkStrictMode)(o,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){t.forIn("key",r,y=>{t.if((0,b_._)`${(0,IV.usePattern)(e,g)}.test(${y})`,()=>{const m=l.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:TV.Type.Str},c),o.opts.unevaluated&&f!==!0?t.assign((0,b_._)`${f}[${y}]`,!0):!m&&!o.allErrors&&t.if((0,b_.not)(c),()=>t.break())})})}}};AN.default=jCe;var RN={};Object.defineProperty(RN,"__esModule",{value:!0});const FCe=sn,VCe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,FCe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};RN.default=VCe;var NN={};Object.defineProperty(NN,"__esModule",{value:!0});const BCe=Lt,zCe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:BCe.validateUnion,error:{message:"must match a schema in anyOf"}};NN.default=zCe;var DN={};Object.defineProperty(DN,"__esModule",{value:!0});const Sw=jt,UCe=sn,HCe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Sw._)`{passingSchemas: ${e.passing}}`},WCe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:HCe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const o=n,s=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(s,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((c,f)=>{let d;(0,UCe.alwaysValidSchema)(i,c)?t.var(l,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,Sw._)`${l} && ${s}`).assign(s,!1).assign(a,(0,Sw._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(s,!0),t.assign(a,f),d&&e.mergeEvaluated(d,Sw.Name)})})}}};DN.default=WCe;var MN={};Object.defineProperty(MN,"__esModule",{value:!0});const qCe=sn,GCe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((o,s)=>{if((0,qCe.alwaysValidSchema)(r,o))return;const a=e.subschema({keyword:"allOf",schemaProp:s},i);e.ok(i),e.mergeEvaluated(a)})}};MN.default=GCe;var LN={};Object.defineProperty(LN,"__esModule",{value:!0});const aS=jt,LQ=sn,KCe={message:({params:e})=>(0,aS.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,aS._)`{failingKeyword: ${e.ifClause}}`},YCe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:KCe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,LQ.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=CV(r,"then"),o=CV(r,"else");if(!i&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&o){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,aS.not)(a),u("else"));e.pass(s,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(s,a),e.mergeValidEvaluated(d,s),f?t.assign(f,(0,aS._)`${c}`):e.setParams({ifClause:c})}}}};function CV(e,t){const n=e.schema[t];return n!==void 0&&!(0,LQ.alwaysValidSchema)(e,n)}LN.default=YCe;var jN={};Object.defineProperty(jN,"__esModule",{value:!0});const QCe=sn,XCe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,QCe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};jN.default=XCe;Object.defineProperty(IN,"__esModule",{value:!0});const JCe=um,ZCe=ON,e$e=cm,t$e=TN,n$e=CN,r$e=DQ,i$e=$N,o$e=$x,s$e=kN,a$e=AN,l$e=RN,u$e=NN,c$e=DN,f$e=MN,d$e=LN,h$e=jN;function p$e(e=!1){const t=[l$e.default,u$e.default,c$e.default,f$e.default,d$e.default,h$e.default,i$e.default,o$e.default,r$e.default,s$e.default,a$e.default];return e?t.push(ZCe.default,t$e.default):t.push(JCe.default,e$e.default),t.push(n$e.default),t}IN.default=p$e;var FN={},VN={};Object.defineProperty(VN,"__esModule",{value:!0});const Er=jt,m$e={message:({schemaCode:e})=>(0,Er.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Er._)`{format: ${e}}`},g$e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:m$e,code(e,t){const{gen:n,data:r,$data:i,schema:o,schemaCode:s,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=a;if(!l.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:l.code.formats}),g=n.const("fDef",(0,Er._)`${p}[${s}]`),y=n.let("fType"),m=n.let("format");n.if((0,Er._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(y,(0,Er._)`${g}.type || "string"`).assign(m,(0,Er._)`${g}.validate`),()=>n.assign(y,(0,Er._)`"string"`).assign(m,g)),e.fail$data((0,Er.or)(v(),_()));function v(){return l.strictSchema===!1?Er.nil:(0,Er._)`${s} && !${m}`}function _(){const b=c.$async?(0,Er._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,Er._)`${m}(${r})`,E=(0,Er._)`(typeof ${m} == "function" ? ${b} : ${m}.test(${r}))`;return(0,Er._)`${m} && ${m} !== true && ${y} === ${t} && !${E}`}}function h(){const p=f.formats[o];if(!p){v();return}if(p===!0)return;const[g,y,m]=_(p);g===t&&e.pass(b());function v(){if(l.strictSchema===!1){f.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function _(E){const w=E instanceof RegExp?(0,Er.regexpCode)(E):l.code.formats?(0,Er._)`${l.code.formats}${(0,Er.getProperty)(o)}`:void 0,x=n.scopeValue("formats",{key:o,ref:E,code:w});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,Er._)`${x}.validate`]:["string",E,x]}function b(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Er._)`await ${m}(${r})`}return typeof y=="function"?(0,Er._)`${m}(${r})`:(0,Er._)`${m}.test(${r})`}}}};VN.default=g$e;Object.defineProperty(FN,"__esModule",{value:!0});const y$e=VN,v$e=[y$e.default];FN.default=v$e;var Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.contentVocabulary=Op.metadataVocabulary=void 0;Op.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Op.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(fN,"__esModule",{value:!0});const _$e=dN,w$e=pN,b$e=IN,S$e=FN,$V=Op,E$e=[_$e.default,w$e.default,(0,b$e.default)(),S$e.default,$V.metadataVocabulary,$V.contentVocabulary];fN.default=E$e;var BN={},jQ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(jQ);Object.defineProperty(BN,"__esModule",{value:!0});const lh=jt,m$=jQ,kV=So,x$e=sn,P$e={message:({params:{discrError:e,tagName:t}})=>e===m$.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,lh._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},I$e={keyword:"discriminator",type:"object",schemaType:"object",error:P$e,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:o}=e,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,lh._)`${n}${(0,lh.getProperty)(a)}`);t.if((0,lh._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:m$.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,lh._)`${u} === ${p}`),t.assign(l,f(h[p]));t.else(),e.error(!1,{discrError:m$.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(g,lh.Name),p}function d(){var h;const p={},g=m(i);let y=!0;for(let b=0;b<s.length;b++){let E=s[b];E!=null&&E.$ref&&!(0,x$e.schemaHasRulesButRef)(E,o.self.RULES)&&(E=kV.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,E==null?void 0:E.$ref),E instanceof kV.SchemaEnv&&(E=E.schema));const w=(h=E==null?void 0:E.properties)===null||h===void 0?void 0:h[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||m(E)),v(w,b)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:b}){return Array.isArray(b)&&b.includes(a)}function v(b,E){if(b.const)_(b.const,E);else if(b.enum)for(const w of b.enum)_(w,E);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function _(b,E){if(typeof b!="string"||b in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[b]=E}}}};BN.default=I$e;const O$e="http://json-schema.org/draft-07/schema#",T$e="http://json-schema.org/draft-07/schema#",C$e="Core schema meta-schema",$$e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},k$e=["object","boolean"],A$e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},R$e={$schema:O$e,$id:T$e,title:C$e,definitions:$$e,type:k$e,properties:A$e,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=oQ,r=fN,i=BN,o=R$e,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=da;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=jt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=Xv;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=Jv;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(u$,u$.exports);var N$e=u$.exports;const FQ=wa(N$e),D$e="#/definitions/StudyConfig",M$e="http://json-schema.org/draft-07/schema#",L$e={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{type:"number"},acceptableLow:{type:"number"},answer:{},answerCallback:{type:"string"},answerRegex:{type:"string"},id:{type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/PartialComponent"}]},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{},desc:{type:"string"},hidden:{type:"boolean"},id:{type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},preset:{type:"number"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},rightLabel:{type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},max:{type:"number"},min:{type:"number"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{type:"string"},value:{type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,properties:{components:{items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{type:"number"},order:{enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},PartialComponent:{additionalProperties:!1,properties:{baseComponent:{type:"string"},correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.hjson.",properties:{$schema:{type:"string"},baseComponents:{additionalProperties:{$ref:"#/definitions/IndividualComponent"},type:"object"},components:{additionalProperties:{$ref:"#/definitions/InheritedComponent"},type:"object"},sequence:{$ref:"#/definitions/OrderObject"},studyMetadata:{$ref:"#/definitions/StudyMetadata"},uiConfig:{$ref:"#/definitions/UIConfig"}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{items:{type:"string"},type:"array"},date:{type:"string"},description:{type:"string"},organizations:{items:{type:"string"},type:"array"},title:{type:"string"},version:{type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{type:"boolean"},autoDownloadTime:{type:"number"},contactEmail:{type:"string"},helpTextPath:{type:"string"},logoPath:{type:"string"},sidebar:{type:"boolean"},studyEndMsg:{type:"string"},withProgressBar:{type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},j$e={$ref:D$e,$schema:M$e,definitions:L$e},F$e="#/definitions/GlobalConfig",V$e="http://json-schema.org/draft-07/schema#",B$e={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{type:"string"},configs:{additionalProperties:{additionalProperties:!1,properties:{path:{type:"string"}},required:["path"],type:"object"},type:"object"},configsList:{items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},z$e={$ref:F$e,$schema:V$e,definitions:B$e},VQ=new FQ;VQ.addSchema(z$e);const AV=VQ.getSchema("#/definitions/GlobalConfig"),BQ=new FQ;BQ.addSchema(j$e);const RV=BQ.getSchema("#/definitions/StudyConfig");function U$e(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function kx(e){return e.baseComponent!==void 0}function H$e(e){const t=nN.parse(e),n=AV(t),r=U$e(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...AV.errors||[],...r[1]]),Error("There was an issue validating your file global.hjson")}function W$e(e){const t=[];return[Object.values(e.components).every(r=>{var i;return kx(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function zQ(e,t){const n=nN.parse(e),r=RV(n),i=W$e(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...RV.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function ia(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Mc(e){return!!e&&!!e[Qn]}function uu(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===eke}(e)||Array.isArray(e)||!!e[VV]||!!(!((t=e.constructor)===null||t===void 0)&&t[VV])||zN(e)||UN(e))}function pd(e,t,n){n===void 0&&(n=!1),fm(e)===0?(n?Object.keys:Qh)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function fm(e){var t=e[Qn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:zN(e)?2:UN(e)?3:0}function Yh(e,t){return fm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function q$e(e,t){return fm(e)===2?e.get(t):e[t]}function UQ(e,t,n){var r=fm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function HQ(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function zN(e){return J$e&&e instanceof Map}function UN(e){return Z$e&&e instanceof Set}function _f(e){return e.o||e.t}function HN(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=qQ(e);delete t[Qn];for(var n=Qh(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function WN(e,t){return t===void 0&&(t=!1),qN(e)||Mc(e)||!uu(e)||(fm(e)>1&&(e.set=e.add=e.clear=e.delete=G$e),Object.freeze(e),t&&pd(e,function(n,r){return WN(r,!0)},!0)),e}function G$e(){ia(2)}function qN(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Za(e){var t=_$[e];return t||ia(18,e),t}function K$e(e,t){_$[e]||(_$[e]=t)}function g$(){return Hy}function gO(e,t){t&&(Za("Patches"),e.u=[],e.s=[],e.v=t)}function lS(e){y$(e),e.p.forEach(Y$e),e.p=null}function y$(e){e===Hy&&(Hy=e.l)}function NV(e){return Hy={p:[],l:Hy,h:e,m:!0,_:0}}function Y$e(e){var t=e[Qn];t.i===0||t.i===1?t.j():t.O=!0}function yO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Za("ES5").S(t,e,r),r?(n[Qn].P&&(lS(t),ia(4)),uu(e)&&(e=uS(t,e),t.l||cS(t,e)),t.u&&Za("Patches").M(n[Qn].t,e,t.u,t.s)):e=uS(t,n,[]),lS(t),t.u&&t.v(t.u,t.s),e!==WQ?e:void 0}function uS(e,t,n){if(qN(t))return t;var r=t[Qn];if(!r)return pd(t,function(a,l){return DV(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return cS(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=HN(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),pd(o,function(a,l){return DV(e,r,i,a,l,n,s)}),cS(e,i,!1),n&&e.u&&Za("Patches").N(r,n,e.u,e.s)}return r.o}function DV(e,t,n,r,i,o,s){if(Mc(i)){var a=uS(e,i,o&&t&&t.i!==3&&!Yh(t.R,r)?o.concat(r):void 0);if(UQ(n,r,a),!Mc(a))return;e.m=!1}else s&&n.add(i);if(uu(i)&&!qN(i)){if(!e.h.D&&e._<1)return;uS(e,i),t&&t.A.l||cS(e,i)}}function cS(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&WN(t,n)}function vO(e,t){var n=e[Qn];return(n?_f(n):e)[t]}function MV(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ec(e){e.P||(e.P=!0,e.l&&ec(e.l))}function _O(e){e.o||(e.o=HN(e.t))}function v$(e,t,n){var r=zN(t)?Za("MapSet").F(t,n):UN(t)?Za("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:g$(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Wy;s&&(l=[a],u=Ig);var c=Proxy.revocable(l,u),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Za("ES5").J(t,n);return(n?n.A:g$()).p.push(r),r}function Q$e(e){return Mc(e)||ia(22,e),function t(n){if(!uu(n))return n;var r,i=n[Qn],o=fm(n);if(i){if(!i.P&&(i.i<4||!Za("ES5").K(i)))return i.t;i.I=!0,r=LV(n,o),i.I=!1}else r=LV(n,o);return pd(r,function(s,a){i&&q$e(i.t,s)===a||UQ(r,s,t(a))}),o===3?new Set(r):r}(e)}function LV(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return HN(e)}function X$e(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Qn];return Wy.get(l,o)},set:function(l){var u=this[Qn];Wy.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Qn];if(!a.P)switch(a.i){case 5:r(a)&&ec(a);break;case 4:n(a)&&ec(a)}}}function n(o){for(var s=o.t,a=o.k,l=Qh(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Qn){var f=s[c];if(f===void 0&&!Yh(s,c))return!0;var d=a[c],h=d&&d[Qn];if(h?h.t!==f:!HQ(d,f))return!0}}var p=!!s[Qn];return l.length!==Qh(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};K$e("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=qQ(f);delete p[Qn];for(var g=Qh(p),y=0;y<g.length;y++){var m=g[y];p[m]=e(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,o),u={i:a?5:4,A:s?s.A:g$(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Qn,{value:u,writable:!0}),l},S:function(o,s,a){a?Mc(s)&&s[Qn].A===o&&t(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Qn];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)pd(d,function(_){_!==Qn&&(f[_]!==void 0||Yh(f,_)?h[_]||l(d[_]):(h[_]=!0,ec(c)))}),pd(f,function(_){d[_]!==void 0||Yh(d,_)||(h[_]=!1,ec(c))});else if(p===5){if(r(c)&&(ec(c),h.length=!0),d.length<f.length)for(var g=d.length;g<f.length;g++)h[g]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var m=Math.min(d.length,f.length),v=0;v<m;v++)d.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&l(d[v])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var jV,Hy,GN=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",J$e=typeof Map<"u",Z$e=typeof Set<"u",FV=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",WQ=GN?Symbol.for("immer-nothing"):((jV={})["immer-nothing"]=!0,jV),VV=GN?Symbol.for("immer-draftable"):"__$immer_draftable",Qn=GN?Symbol.for("immer-state"):"__$immer_state",eke=""+Object.prototype.constructor,Qh=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,qQ=Object.getOwnPropertyDescriptors||function(e){var t={};return Qh(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},_$={},Wy={get:function(e,t){if(t===Qn)return e;var n=_f(e);if(!Yh(n,t))return function(i,o,s){var a,l=MV(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!uu(r)?r:r===vO(e.t,t)?(_O(e),e.o[t]=v$(e.A.h,r,e)):r},has:function(e,t){return t in _f(e)},ownKeys:function(e){return Reflect.ownKeys(_f(e))},set:function(e,t,n){var r=MV(_f(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=vO(_f(e),t),o=i==null?void 0:i[Qn];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(HQ(n,i)&&(n!==void 0||Yh(e.t,t)))return!0;_O(e),ec(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return vO(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,_O(e),ec(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=_f(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ia(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ia(12)}},Ig={};pd(Wy,function(e,t){Ig[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ig.deleteProperty=function(e,t){return Ig.set.call(this,e,t,void 0)},Ig.set=function(e,t,n){return Wy.set.call(this,e[0],t,n,e[0])};var tke=function(){function e(n){var r=this;this.g=FV,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,v=Array(m>1?m-1:0),_=1;_<m;_++)v[_-1]=arguments[_];return l.produce(g,function(b){var E;return(E=o).call.apply(E,[y,b].concat(v))})}}var u;if(typeof o!="function"&&ia(6),s!==void 0&&typeof s!="function"&&ia(7),uu(i)){var c=NV(r),f=v$(r,i,void 0),d=!0;try{u=o(f),d=!1}finally{d?lS(c):y$(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return gO(c,s),yO(g,c)},function(g){throw lS(c),g}):(gO(c,s),yO(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===WQ&&(u=void 0),r.D&&WN(u,!0),s){var h=[],p=[];Za("Patches").M(i,u,h,p),s(h,p)}return u}ia(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(f))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){uu(n)||ia(8),Mc(n)&&(n=Q$e(n));var r=NV(this),i=v$(this,n,void 0);return i[Qn].C=!0,y$(r),i},t.finishDraft=function(n,r){var i=n&&n[Qn],o=i.A;return gO(o,r),yO(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!FV&&ia(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Za("Patches").$;return Mc(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),ts=new tke,GQ=ts.produce;ts.produceWithPatches.bind(ts);ts.setAutoFreeze.bind(ts);ts.setUseProxies.bind(ts);ts.applyPatches.bind(ts);ts.createDraft.bind(ts);ts.finishDraft.bind(ts);function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function nke(e,t){if(qy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rke(e){var t=nke(e,"string");return qy(t)==="symbol"?t:String(t)}function ike(e,t,n){return t=rke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BV(Object(n),!0).forEach(function(r){ike(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ri(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var UV=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wO=function(){return Math.random().toString(36).substring(7).split("").join(".")},fS={INIT:"@@redux/INIT"+wO(),REPLACE:"@@redux/REPLACE"+wO(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wO()}};function oke(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function KQ(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ri(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ri(1));return n(KQ)(e,t)}if(typeof e!="function")throw new Error(Ri(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(Ri(3));return o}function f(g){if(typeof g!="function")throw new Error(Ri(4));if(l)throw new Error(Ri(5));var y=!0;return u(),a.push(g),function(){if(y){if(l)throw new Error(Ri(6));y=!1,u();var v=a.indexOf(g);a.splice(v,1),s=null}}}function d(g){if(!oke(g))throw new Error(Ri(7));if(typeof g.type>"u")throw new Error(Ri(8));if(l)throw new Error(Ri(9));try{l=!0,o=i(o,g)}finally{l=!1}for(var y=s=a,m=0;m<y.length;m++){var v=y[m];v()}return g}function h(g){if(typeof g!="function")throw new Error(Ri(10));i=g,d({type:fS.REPLACE})}function p(){var g,y=f;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Ri(11));function _(){v.next&&v.next(c())}_();var b=y(_);return{unsubscribe:b}}},g[UV]=function(){return this},g}return d({type:fS.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[UV]=p,r}function ske(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:fS.INIT});if(typeof r>"u")throw new Error(Ri(12));if(typeof n(void 0,{type:fS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ri(13))})}function ake(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{ske(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,f={},d=0;d<o.length;d++){var h=o[d],p=n[h],g=l[h],y=p(g,u);if(typeof y>"u")throw u&&u.type,new Error(Ri(14));f[h]=y,c=c||y!==g}return c=c||o.length!==Object.keys(l).length,c?f:l}}function dS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function lke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Ri(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=dS.apply(void 0,a)(i.dispatch),zV(zV({},i),{},{dispatch:o})}}}function YQ(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var QQ=YQ();QQ.withExtraArgument=YQ;const HV=QQ;var uke=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),e0=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Gy=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},cke=Object.defineProperty,fke=Object.defineProperties,dke=Object.getOwnPropertyDescriptors,WV=Object.getOwnPropertySymbols,hke=Object.prototype.hasOwnProperty,pke=Object.prototype.propertyIsEnumerable,qV=function(e,t,n){return t in e?cke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Pc=function(e,t){for(var n in t||(t={}))hke.call(t,n)&&qV(e,n,t[n]);if(WV)for(var r=0,i=WV(t);r<i.length;r++){var n=i[r];pke.call(t,n)&&qV(e,n,t[n])}return e},bO=function(e,t){return fke(e,dke(t))},t0=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},mke=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dS:dS.apply(null,arguments)};function gke(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var yke=function(e){uke(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Gy([void 0],n[0].concat(this)))):new(t.bind.apply(t,Gy([void 0],n.concat(this))))},t}(Array);function w$(e){return uu(e)?GQ(e,function(){}):e}function vke(e){return typeof e=="boolean"}function _ke(){return function(t){return wke(t)}}function wke(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new yke;return n&&(vke(n)?r.push(HV):r.push(HV.withExtraArgument(n.extraArgument))),r}var bke=!0;function XQ(e){var t=_ke(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(gke(i))h=ake(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(t));var g=lke.apply(void 0,p),y=dS;l&&(y=mke(Pc({trace:!bke},typeof l=="object"&&l)));var m=[g];Array.isArray(d)?m=Gy([g],d):typeof d=="function"&&(m=d(m));var v=y.apply(void 0,m);return KQ(h,c,v)}function el(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Pc(Pc({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function JQ(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Ske(e){return typeof e=="function"}function Eke(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?JQ(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(Ske(e))l=function(){return w$(e())};else{var u=w$(e);l=function(){return u}}function c(f,d){f===void 0&&(f=l());var h=Gy([o[d.type]],s.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,g){if(g)if(Mc(p)){var y=p,m=g(y,d);return m===void 0?p:m}else{if(uu(p))return GQ(p,function(v){return g(v,d)});var m=g(p,d);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=l,c}function xke(e,t){return e+"/"+t}function ZQ(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:w$(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var f=r[c],d=xke(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,o[c]=h,s[d]=h,a[c]=p?el(d,p):el(d)});function l(){var c=typeof e.extraReducers=="function"?JQ(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,g=c[2],y=g===void 0?void 0:g,m=Pc(Pc({},d),s);return Eke(n,function(v){for(var _ in m)v.addCase(_,m[_]);for(var b=0,E=p;b<E.length;b++){var w=E[b];v.addMatcher(w.matcher,w.reducer)}y&&v.addDefaultCase(y)})}var u;return{name:t,reducer:function(c,f){return u||(u=l()),u(c,f)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Pke="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eX=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=Pke[Math.random()*64|0];return t},Ike=["name","message","stack","code"],SO=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),GV=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Oke=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Ike;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=el(t+"/fulfilled",function(u,c,f,d){return{payload:u,meta:bO(Pc({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),o=el(t+"/pending",function(u,c,f){return{payload:void 0,meta:bO(Pc({},f||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=el(t+"/rejected",function(u,c,f,d,h){return{payload:d,error:(r&&r.serializeError||Oke)(u||"Rejected"),meta:bO(Pc({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(u):eX(),p=new a,g;function y(v){g=v,p.abort()}var m=function(){return t0(this,null,function(){var v,_,b,E,w,x,I;return e0(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,,5]),E=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:f,extra:d}),Cke(E)?[4,E]:[3,2];case 1:E=D.sent(),D.label=2;case 2:if(E===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(R,N){return p.signal.addEventListener("abort",function(){return N({name:"AbortError",message:g||"Aborted"})})}),c(o(h,u,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:h,arg:u},{getState:f,extra:d}))),[4,Promise.race([w,Promise.resolve(n(u,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(R,N){return new SO(R,N)},fulfillWithValue:function(R,N){return new GV(R,N)}})).then(function(R){if(R instanceof SO)throw R;return R instanceof GV?i(R.payload,h,u,R.meta):i(R,h,u)})])];case 3:return b=D.sent(),[3,5];case 4:return x=D.sent(),b=x instanceof SO?s(null,h,u,x.payload,x.meta):s(x,h,u),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&s.match(b)&&b.meta.condition,I||c(b),[2,b]}})})}();return Object.assign(m,{abort:y,requestId:h,arg:u,unwrap:function(){return m.then(Tke)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function Tke(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Cke(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var $ke=function(e){return e&&typeof e.match=="function"},kke=function(e,t){return $ke(e)?e.match(t):e(t)};function KV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return kke(r,n)})}}var KN=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},b$=function(){},tX=function(e,t){return t===void 0&&(t=b$),e.catch(t),e},nX=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Xh=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ake="task",rX="listener",iX="completed",YN="cancelled",Rke="task-"+YN,Nke="task-"+iX,oX=rX+"-"+YN,Dke=rX+"-"+iX,Ax=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=Ake+" "+YN+" (reason: "+t+")"}return e}(),Jh=function(e){if(e.aborted)throw new Ax(e.reason)};function sX(e,t){var n=b$;return new Promise(function(r,i){var o=function(){return i(new Ax(e.reason))};if(e.aborted){o();return}n=nX(e,o),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=b$})}var Mke=function(e,t){return t0(void 0,null,function(){var n,r;return e0(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof Ax?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},hS=function(e){return function(t){return tX(sX(e,t).then(function(n){return Jh(e),n}))}},aX=function(e){var t=hS(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},Lke=Object.assign,YV={},n0="listenerMiddleware",jke=function(e){var t=function(n){return nX(e,function(){return Xh(n,e.reason)})};return function(n){KN(n,"taskExecutor");var r=new AbortController;t(r);var i=Mke(function(){return t0(void 0,null,function(){var o;return e0(this,function(s){switch(s.label){case 0:return Jh(e),Jh(r.signal),[4,n({pause:hS(r.signal),delay:aX(r.signal),signal:r.signal})];case 1:return o=s.sent(),Jh(r.signal),[2,o]}})})},function(){return Xh(r,Nke)});return{result:hS(e)(i),cancel:function(){Xh(r,Rke)}}}},Fke=function(e,t){var n=function(r,i){return t0(void 0,null,function(){var o,s,a,l;return e0(this,function(u){switch(u.label){case 0:Jh(t),o=function(){},s=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});o=function(){d(),f()}}),a=[s],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,sX(t,Promise.race(a))];case 2:return l=u.sent(),Jh(t),[2,l];case 3:return o(),[7];case 4:return[2]}})})};return function(r,i){return tX(n(r,i))}},lX=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=el(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return KN(o,"options.listener"),{predicate:i,type:t,effect:o}},Vke=function(e){var t=lX(e),n=t.type,r=t.predicate,i=t.effect,o=eX(),s={id:o,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return s},S$=function(e){e.pending.forEach(function(t){Xh(t,oX)})},Bke=function(e){return function(){e.forEach(S$),e.clear()}},QV=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},zke=el(n0+"/add"),Uke=el(n0+"/removeAll"),Hke=el(n0+"/remove"),Wke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Gy([n0+"/error"],e))};function qke(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,o=i===void 0?Wke:i;KN(o,"onError");var s=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&S$(h)}},a=function(h){for(var p=0,g=Array.from(n.values());p<g.length;p++){var y=g[p];if(h(y))return y}},l=function(h){var p=a(function(g){return g.effect===h.effect});return p||(p=Vke(h)),s(p)},u=function(h){var p=lX(h),g=p.type,y=p.effect,m=p.predicate,v=a(function(_){var b=typeof g=="string"?_.type===g:_.predicate===m;return b&&_.effect===y});return v&&(v.unsubscribe(),h.cancelActive&&S$(v)),!!v},c=function(h,p,g,y){return t0(t,null,function(){var m,v,_;return e0(this,function(b){switch(b.label){case 0:m=new AbortController,v=Fke(l,m.signal),b.label=1;case 1:return b.trys.push([1,3,4,5]),h.pending.add(m),[4,Promise.resolve(h.effect(p,Lke({},g,{getOriginalState:y,condition:function(E,w){return v(E,w).then(Boolean)},take:v,delay:aX(m.signal),pause:hS(m.signal),extra:r,signal:m.signal,fork:jke(m.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(E,w,x){E!==m&&(Xh(E,oX),x.delete(E))})}})))];case 2:return b.sent(),[3,5];case 3:return _=b.sent(),_ instanceof Ax||QV(o,_,{raisedBy:"effect"}),[3,5];case 4:return Xh(m,Dke),h.pending.delete(m),[7];case 5:return[2]}})})},f=Bke(n),d=function(h){return function(p){return function(g){if(zke.match(g))return l(g.payload);if(Uke.match(g)){f();return}if(Hke.match(g))return u(g.payload);var y=h.getState(),m=function(){if(y===YV)throw new Error(n0+": getOriginalState can only be called synchronously");return y},v;try{if(v=p(g),n.size>0)for(var _=h.getState(),b=Array.from(n.values()),E=0,w=b;E<w.length;E++){var x=w[E],I=!1;try{I=x.predicate(g,_,y)}catch(D){I=!1,QV(o,D,{raisedBy:"predicate"})}I&&c(x,g,h,m)}}finally{y=YV}return v}}};return{middleware:d,startListening:l,stopListening:u,clearListeners:f}}var XV;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);X$e();async function Gke(e,t,n,r){const i=Object.assign({},n.map(c=>({[c]:{}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,sequence:n,config:t,showAdmin:!1,showHelpText:!1,trialValidation:r?s:o,iframeAnswers:[]},l=ZQ({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{if(!f.currentStep||f.currentStep.length===0)return c;c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph)},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:g,provenanceGraph:y}=f;c.answers[d]={answer:h,startTime:p,endTime:g,provenanceGraph:y}}}});return{store:XQ({reducer:l.reducer,preloadedState:a}),actions:l.actions}}const uX=S.createContext(null);function dm(){return S.useContext(uX).actions}const hm=tQ,$u=hIe;function Kke(e){return $u(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}function cX(){return sm().pathname.split("/")[1]}function Fs(){return sm().pathname.split("/")[2]}function QN(e){return structuredClone(e)}function XN(){const{answers:e}=$u(n=>n),t=Fs();return e[t]}function fX(){const e=Fs(),{sequence:t,trialValidation:n}=$u(y=>y),r=XN(),i=hm(),{saveTrialAnswer:o,setIframeAnswers:s}=dm(),{storageEngine:a}=$d(),u=!Kke(e),c=r==null?void 0:r.answer,f=kd(),d=S.useMemo(()=>{const y=t.indexOf(e);return t[y+1]||"end"},[e,t]),h=`/${cX()}/${d}`,p=S.useMemo(()=>Date.now(),[]),g=S.useCallback(()=>{const y=QN(n[e]),m=Object.values(y).reduce((b,E)=>Object.hasOwn(E,"values")?{...b,...E.values}:b,{}),v=y.provenanceGraph,_=Date.now();Object.keys(c||{}).length===0&&(i(o({currentStep:e,answer:m,startTime:p,endTime:_,provenanceGraph:v})),a&&a.saveAnswer(e,{answer:m,startTime:p,endTime:_,provenanceGraph:v}),i(s([]))),f(`${h}${window.location.search}`)},[s,a,i,c,n,f,p,e,o,h]);return{nextStep:d,isNextDisabled:u,goToNextStep:g}}function Yke({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:o}=fX(),s=S.useCallback(()=>{n(!1),r&&r(),o()},[o,r,n]);return T.jsx(fa,{type:"submit",disabled:t||i,onClick:s,children:e})}function E$(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var Qke=Object.defineProperty,JV=Object.getOwnPropertySymbols,Xke=Object.prototype.hasOwnProperty,Jke=Object.prototype.propertyIsEnumerable,ZV=(e,t,n)=>t in e?Qke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zke=(e,t)=>{for(var n in t||(t={}))Xke.call(t,n)&&ZV(e,n,t[n]);if(JV)for(var n of JV(t))Jke.call(t,n)&&ZV(e,n,t[n]);return e};function dX(e,t){if(t===null||typeof t!="object")return{};const n=Zke({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const eAe="__MANTINE_FORM_INDEX__";function e5(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${eAe}`)):!1:!1}function t5(e,t,n){typeof n.value=="object"&&(n.value=Ch(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Ch(e){if(typeof e!="object")return e;var t=0,n,r,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(e.__proto__||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(Ch(s))})):o==="[object Map]"?(i=new Map,e.forEach(function(s,a){i.set(Ch(a),Ch(s))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(Ch(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)t5(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||t5(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function hX(e){return typeof e!="string"?[]:e.split(".")}function Rx(e,t,n){const r=hX(e);if(r.length===0)return n;const i=Ch(n);if(r.length===1)return i[r[0]]=t,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=t,i}function Rl(e,t){const n=hX(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function n5(e){const t=E$(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function x$(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,o)=>{const s=e[o],a=`${n===""?"":`${n}.`}${o}`,l=Rl(a,t);let u=!1;return typeof s=="function"&&(i[a]=s(l,t,a)),typeof s=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,f)=>x$(s,t,`${a}.${f}`,i))),typeof s=="object"&&typeof l=="object"&&l!==null&&(u||x$(s,t,a,i)),i},r)}function P$(e,t){return n5(typeof e=="function"?e(t):x$(e,t))}function S_(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=P$(t,n),i=Object.keys(r.errors).find(o=>e.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function tAe(e,{from:t,to:n},r){const i=Rl(e,r);if(!Array.isArray(i))return r;const o=[...i],s=i[t];return o.splice(t,1),o.splice(n,0,s),Rx(e,o,r)}var nAe=Object.defineProperty,r5=Object.getOwnPropertySymbols,rAe=Object.prototype.hasOwnProperty,iAe=Object.prototype.propertyIsEnumerable,i5=(e,t,n)=>t in e?nAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oAe=(e,t)=>{for(var n in t||(t={}))rAe.call(t,n)&&i5(e,n,t[n]);if(r5)for(var n of r5(t))iAe.call(t,n)&&i5(e,n,t[n]);return e};function sAe(e,{from:t,to:n},r){const i=`${e}.${t}`,o=`${e}.${n}`,s=oAe({},r);return Object.keys(r).every(a=>{let l,u;if(a.startsWith(i)&&(l=a,u=a.replace(i,o)),a.startsWith(o)&&(l=a.replace(o,i),u=a),l&&u){const c=s[l],f=s[u];return f===void 0?delete s[l]:s[l]=f,c===void 0?delete s[u]:s[u]=c,!1}return!0}),s}function aAe(e,t,n){const r=Rl(e,n);return Array.isArray(r)?Rx(e,r.filter((i,o)=>o!==t),n):n}var lAe=Object.defineProperty,o5=Object.getOwnPropertySymbols,uAe=Object.prototype.hasOwnProperty,cAe=Object.prototype.propertyIsEnumerable,s5=(e,t,n)=>t in e?lAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fAe=(e,t)=>{for(var n in t||(t={}))uAe.call(t,n)&&s5(e,n,t[n]);if(o5)for(var n of o5(t))cAe.call(t,n)&&s5(e,n,t[n]);return e};function a5(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function l5(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let o=n;r===-1&&(o=dX(`${i}.${t}`,o));const s=fAe({},o),a=new Set;return Object.entries(o).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=a5(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=a5(l,i),f=l.replace(`${i}.${c}`,`${i}.${c+r}`);s[f]=u,a.add(f),a.has(l)||delete s[l]}),s}function dAe(e,t,n,r){const i=Rl(e,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,t),Rx(e,o,r)}function u5(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function hAe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var pAe=Object.defineProperty,mAe=Object.defineProperties,gAe=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,yAe=Object.prototype.hasOwnProperty,vAe=Object.prototype.propertyIsEnumerable,f5=(e,t,n)=>t in e?pAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vu=(e,t)=>{for(var n in t||(t={}))yAe.call(t,n)&&f5(e,n,t[n]);if(c5)for(var n of c5(t))vAe.call(t,n)&&f5(e,n,t[n]);return e},EO=(e,t)=>mAe(e,gAe(t));function _Ae({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:o=!1,validateInputOnBlur:s=!1,transformValues:a=u=>u,validate:l}={}){const[u,c]=S.useState(r),[f,d]=S.useState(n),[h,p]=S.useState(e),[g,y]=S.useState(E$(t)),m=S.useRef(e),v=C=>{m.current=C},_=S.useCallback(()=>c({}),[]),b=C=>{const H=C?Vu(Vu({},h),C):h;v(H),d({})},E=S.useCallback(C=>y(H=>E$(typeof C=="function"?C(H):C)),[]),w=S.useCallback(()=>y({}),[]),x=S.useCallback(()=>{p(e),w(),v(e),d({}),_()},[]),I=S.useCallback((C,H)=>E(te=>EO(Vu({},te),{[C]:H})),[]),D=S.useCallback(C=>E(H=>{if(typeof C!="string")return H;const te=Vu({},H);return delete te[C],te}),[]),R=S.useCallback(C=>d(H=>{if(typeof C!="string")return H;const te=dX(C,H);return delete te[C],te}),[]),N=S.useCallback((C,H)=>{const te=e5(C,o);R(C),c(ie=>EO(Vu({},ie),{[C]:!0})),p(ie=>{const le=Rx(C,H,ie);if(te){const se=S_(C,l,le);se.hasError?I(C,se.error):D(C)}return le}),!te&&i&&I(C,null)},[]),z=S.useCallback(C=>{p(H=>{const te=typeof C=="function"?C(H):C;return Vu(Vu({},H),te)}),i&&w()},[]),U=S.useCallback((C,H)=>{R(C),p(te=>tAe(C,H,te)),y(te=>sAe(C,H,te))},[]),B=S.useCallback((C,H)=>{R(C),p(te=>aAe(C,H,te)),y(te=>l5(C,H,te,-1))},[]),ae=S.useCallback((C,H,te)=>{R(C),p(ie=>dAe(C,H,te,ie)),y(ie=>l5(C,te,ie,1))},[]),re=S.useCallback(()=>{const C=P$(l,h);return y(C.errors),C},[h,l]),ue=S.useCallback(C=>{const H=S_(C,l,h);return H.hasError?I(C,H.error):D(C),H},[h,l]),Q=(C,{type:H="input",withError:te=!0,withFocus:ie=!0}={})=>{const se={onChange:hAe(ye=>N(C,ye))};return te&&(se.error=g[C]),H==="checkbox"?se.checked=Rl(C,h):se.value=Rl(C,h),ie&&(se.onFocus=()=>c(ye=>EO(Vu({},ye),{[C]:!0})),se.onBlur=()=>{if(e5(C,s)){const ye=S_(C,l,h);ye.hasError?I(C,ye.error):D(C)}}),se},ee=(C,H)=>te=>{te==null||te.preventDefault();const ie=re();ie.hasErrors?H==null||H(ie.errors,h,te):C==null||C(a(h),te)},W=C=>a(C||h),P=S.useCallback(C=>{C.preventDefault(),x()},[]),O=C=>{if(C){const te=Rl(C,f);if(typeof te=="boolean")return te;const ie=Rl(C,h),le=Rl(C,m.current);return!pV(ie,le)}return Object.keys(f).length>0?u5(f):!pV(h,m.current)},F=S.useCallback(C=>u5(u,C),[u]),$=S.useCallback(C=>C?!S_(C,l,h).hasError:!P$(l,h).hasErrors,[h,l]);return{values:h,errors:g,setValues:z,setErrors:E,setFieldValue:N,setFieldError:I,clearFieldError:D,clearErrors:w,reset:x,validate:re,validateField:ue,reorderListItem:U,removeListItem:B,insertListItem:ae,getInputProps:Q,onSubmit:ee,onReset:P,isDirty:O,isTouched:F,setTouched:c,setDirty:d,resetTouched:_,resetDirty:b,isValid:$,getTransformedValues:W}}const wAe=new URLSearchParams(window.location.search),bAe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};i?n={...n,[r.id]:i}:n={...n,[r.id]:r.type==="iframe"?[]:r.paramCapture?wAe.get(r.paramCapture):""}}),{...n}},SAe=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),o=[...r].sort();return i.every((s,a)=>s===o[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function EAe(e,t,n){const[r,i]=S.useState(null),o=_Ae({initialValues:bAe(e,n),validate:SAe(e)});return S.useEffect(()=>{r!==t&&(i(t),o.reset())},[r,o,t]),o}function Md(e,t,n){var s;const{requiredValue:r,requiredLabel:i}=e;let o="";return t.checked&&Array.isArray(r)?o=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:o=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(s=n.find(a=>a.value===r))==null?void 0:s.label:r.toString())} to continue.`:null,o}function xAe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:o}=e;return T.jsx(yb.Group,{label:r,withAsterisk:i,...n,error:Md(e,n,o),children:T.jsx(es,{mt:"md",children:o.map(s=>T.jsx(yb,{disabled:t,value:s.value,label:s.label},s.value))})})}function PAe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:o,options:s}=e;return T.jsx(T.Fragment,{children:T.jsx(AY,{disabled:t,label:i,placeholder:r,data:s,withAsterisk:o,radius:"md",size:"md",...n,error:Md(e,n,s)})})}function IAe({response:e,answer:t}){const{prompt:n}=e;return T.jsxs(T.Fragment,{children:[T.jsx(Et,{fz:"md",fw:500,children:n}),T.jsx(Ep,{children:Array.isArray(t.value)&&t.value.map(r=>T.jsx(Ep.Item,{children:r},r))})]})}function pX({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:o,leftLabel:s,rightLabel:a}=e;return T.jsx(T.Fragment,{children:T.jsxs(Wb.Group,{name:`radioInput${e.id}`,label:r,withAsterisk:i,size:"md",...n,error:Md(e,n,o),children:[s?T.jsx(Et,{children:s}):null,T.jsx(es,{mt:"xs",children:o.map(l=>T.jsx(Wb,{disabled:t,value:l.value,label:l.label},l.label))}),T.jsx(Et,{children:a})]},e.id)})}function OAe({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let s=1;s<=+r;s++)i.push({label:`${s}`,value:`${s}`});const o={...e,type:"radio",options:i};return T.jsx(pX,{disabled:t,response:o,answer:n})}function TAe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:o,max:s,placeholder:a}=e;return T.jsx(T.Fragment,{children:T.jsx(sY,{disabled:t,placeholder:a,label:r,withAsterisk:i,radius:"md",size:"md",min:o,max:s,...n,error:Md(e,n)})})}function CAe({response:e,disabled:t,answer:n}){const{prompt:r,options:i}=e,o=Md(e,n);return T.jsxs(Ts,{spacing:2,children:[T.jsx(Et,{fz:"md",fw:500,children:r}),T.jsx(JR,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:i,...n,styles:s=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:s.colors.blue[6]},markLabel:{fontSize:s.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:s.white,borderWidth:1,boxShadow:s.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})}),o?T.jsx(Et,{size:12,c:"#fa5252",children:o}):null]})}function $Ae({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:o}=e;return T.jsx(T.Fragment,{children:T.jsx(YR,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:o,...n,value:n.value||"",error:Md(e,n)})})}function kAe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:o}=e;return T.jsx(T.Fragment,{children:T.jsx(gK,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:o,...n,value:n.value||"",error:Md(e,n)})})}function AAe({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[o]=vH(),s=S.useMemo(()=>{if(e.paramCapture){const a=o.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,o]);return T.jsx(T.Fragment,{children:T.jsxs(rt,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&T.jsx(TAe,{response:e,disabled:s,answer:r}),e.type==="shortText"&&T.jsx($Ae,{response:e,disabled:s,answer:r}),e.type==="longText"&&T.jsx(kAe,{response:e,disabled:s,answer:r}),e.type==="likert"&&T.jsx(OAe,{response:e,disabled:s,answer:r}),e.type==="dropdown"&&T.jsx(PAe,{response:e,disabled:s,answer:r}),e.type==="slider"&&T.jsx(CAe,{response:e,disabled:s,answer:r}),e.type==="radio"&&T.jsx(pX,{response:e,disabled:s,answer:r}),e.type==="checkbox"&&T.jsx(xAe,{response:e,disabled:s,answer:r}),e.type==="iframe"&&T.jsx(IAe,{response:e,disabled:s,answer:r})]})})}function pS({config:e,location:t,status:n,style:r}){var y,m;const i=Fs(),o=n==null?void 0:n.answer,s=e,a=((y=s==null?void 0:s.response)==null?void 0:y.filter(v=>v.location?v.location===t:t==="belowStimulus"))||[],l=hm(),{updateResponseBlockValidation:u}=dm(),c=EAe(a,i,o||{}),[f,d]=S.useState(!1),{iframeAnswers:h}=$u(v=>v),p=(((m=s==null?void 0:s.correctAnswer)==null?void 0:m.length)||0)>0,g=t===((s==null?void 0:s.nextButtonLocation)||"belowStimulus");return S.useEffect(()=>{const v=a.find(_=>_.type==="iframe");if(v){const _=v.id;c.setValues({...c.values,[_]:h})}},[h]),S.useEffect(()=>{l(u({location:t,currentStep:i,status:c.isValid(),values:QN(c.values)}))},[c.values,i,t]),T.jsxs("div",{style:r,children:[a.map(v=>{var _,b;return T.jsx(M.Fragment,{children:v.hidden?"":T.jsxs(T.Fragment,{children:[T.jsx(AAe,{storedAnswer:o?o[v.id]:void 0,answer:{...c.getInputProps(v.id,{type:v.type==="checkbox"?"checkbox":"input"})},response:v}),p&&f&&T.jsxs(Et,{children:["The correct answer is: ",(b=(_=s.correctAnswer)==null?void 0:_.find(E=>E.id===v.id))==null?void 0:b.answer]})]})},`${v.id}-${i}`)}),T.jsxs(es,{position:"right",spacing:"xs",mt:"xl",children:[p&&g&&T.jsx(fa,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),g&&T.jsx(Yke,{disabled:p&&!f,setCheckClicked:d,label:s.nextButtonText||"Next"})]})]})}const E_="@REVISIT_COMMS",RAe={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function NAe({currentConfig:e}){const{setIframeAnswers:t}=dm(),n=hm(),r=tQ(),i=S.useRef(null),o=S.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),s=Fs(),a=kd(),l=S.useCallback((u,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${E_}/${u}`,iframeId:o,message:c},"*")},[i,o]);return S.useEffect(()=>{const u=c=>{const f=c.data;if(typeof f=="object"&&o===f.iframeId)switch(f.type){case`${E_}/WINDOW_READY`:e.parameters&&l("STUDY_DATA",e.parameters);break;case`${E_}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${E_}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",u),()=>window.removeEventListener("message",u)},[n,s,r,o,a,e,l]),T.jsx("div",{children:T.jsx("iframe",{ref:i,src:`${El}${e.path}?trialid=${s}&id=${o}`,style:RAe})})}const DAe={maxWidth:"100%"},MAe=({currentConfig:e})=>{const t={...DAe,...e.style};return T.jsx(Kv,{mx:"auto",src:`${El}${e.path}`,style:t})};function Ew(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LAe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JN(e){let t,n,r;e.length!==2?(t=Ew,n=(a,l)=>Ew(e(a),l),r=(a,l)=>e(a)-l):(t=e===Ew||e===LAe?e:jAe,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function jAe(){return 0}function FAe(e){return e===null?NaN:+e}const VAe=JN(Ew),BAe=VAe.right;JN(FAe).center;const zAe=BAe;function d5(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class h5 extends Map{constructor(t,n=WAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(p5(this,t))}has(t){return super.has(p5(this,t))}set(t,n){return super.set(UAe(this,t),n)}delete(t){return super.delete(HAe(this,t))}}function p5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function UAe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function HAe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function WAe(e){return e!==null&&typeof e=="object"?e.valueOf():e}const qAe=Math.sqrt(50),GAe=Math.sqrt(10),KAe=Math.sqrt(2);function mS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=qAe?10:o>=GAe?5:o>=KAe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?mS(e,t,n*2):[a,l,u]}function YAe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?mS(t,e,n):mS(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function I$(e,t,n){return t=+t,e=+e,n=+n,mS(e,t,n)[2]}function O$(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?I$(t,e,n):I$(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function QAe(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function XAe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}var JAe={value:()=>{}};function ZN(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xw(n)}function xw(e){this._=e}function ZAe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}xw.prototype=ZN.prototype={constructor:xw,on:function(e,t){var n=this._,r=ZAe(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=eRe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=m5(n[i],e.name,t);else if(t==null)for(i in n)n[i]=m5(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new xw(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function eRe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function m5(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=JAe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var T$="http://www.w3.org/1999/xhtml";const g5={svg:"http://www.w3.org/2000/svg",xhtml:T$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nx(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),g5.hasOwnProperty(t)?{space:g5[t],local:e}:e}function tRe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===T$&&t.documentElement.namespaceURI===T$?t.createElement(e):t.createElementNS(n,e)}}function nRe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mX(e){var t=Nx(e);return(t.local?nRe:tRe)(t)}function rRe(){}function e2(e){return e==null?rRe:function(){return this.querySelector(e)}}function iRe(e){typeof e!="function"&&(e=e2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Zi(r,this._parents)}function gX(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function oRe(){return[]}function yX(e){return e==null?oRe:function(){return this.querySelectorAll(e)}}function sRe(e){return function(){return gX(e.apply(this,arguments))}}function aRe(e){typeof e=="function"?e=sRe(e):e=yX(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new Zi(r,i)}function vX(e){return function(){return this.matches(e)}}function _X(e){return function(t){return t.matches(e)}}var lRe=Array.prototype.find;function uRe(e){return function(){return lRe.call(this.children,e)}}function cRe(){return this.firstElementChild}function fRe(e){return this.select(e==null?cRe:uRe(typeof e=="function"?e:_X(e)))}var dRe=Array.prototype.filter;function hRe(){return Array.from(this.children)}function pRe(e){return function(){return dRe.call(this.children,e)}}function mRe(e){return this.selectAll(e==null?hRe:pRe(typeof e=="function"?e:_X(e)))}function gRe(e){typeof e!="function"&&(e=vX(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Zi(r,this._parents)}function wX(e){return new Array(e.length)}function yRe(){return new Zi(this._enter||this._groups.map(wX),this._parents)}function gS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}gS.prototype={constructor:gS,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vRe(e){return function(){return e}}function _Re(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new gS(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function wRe(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=s.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<f;++a)h=s.call(e,o[a],a,o)+"",(l=u.get(h))?(r[a]=l,l.__data__=o[a],u.delete(h)):n[a]=new gS(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(d[a])===l&&(i[a]=l)}function bRe(e){return e.__data__}function SRe(e,t){if(!arguments.length)return Array.from(this,bRe);var n=t?wRe:_Re,r=this._parents,i=this._groups;typeof e!="function"&&(e=vRe(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=ERe(e.call(c,c&&c.__data__,u,r)),p=h.length,g=a[u]=new Array(p),y=s[u]=new Array(p),m=l[u]=new Array(d);n(c,f,g,y,m,h,t);for(var v=0,_=0,b,E;v<p;++v)if(b=g[v]){for(v>=_&&(_=v+1);!(E=y[_])&&++_<p;);b._next=E||null}}return s=new Zi(s,r),s._enter=a,s._exit=l,s}function ERe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xRe(){return new Zi(this._exit||this._groups.map(wX),this._parents)}function PRe(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function IRe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,d=a[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)a[l]=n[l];return new Zi(a,this._parents)}function ORe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function TRe(e){e||(e=CRe);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new Zi(i,this._parents).order()}function CRe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $Re(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kRe(){return Array.from(this)}function ARe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function RRe(){let e=0;for(const t of this)++e;return e}function NRe(){return!this.node()}function DRe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function MRe(e){return function(){this.removeAttribute(e)}}function LRe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jRe(e,t){return function(){this.setAttribute(e,t)}}function FRe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function VRe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function BRe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function zRe(e,t){var n=Nx(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?LRe:MRe:typeof t=="function"?n.local?BRe:VRe:n.local?FRe:jRe)(n,t))}function bX(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function URe(e){return function(){this.style.removeProperty(e)}}function HRe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function WRe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function qRe(e,t,n){return arguments.length>1?this.each((t==null?URe:typeof t=="function"?WRe:HRe)(e,t,n??"")):Tp(this.node(),e)}function Tp(e,t){return e.style.getPropertyValue(t)||bX(e).getComputedStyle(e,null).getPropertyValue(t)}function GRe(e){return function(){delete this[e]}}function KRe(e,t){return function(){this[e]=t}}function YRe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function QRe(e,t){return arguments.length>1?this.each((t==null?GRe:typeof t=="function"?YRe:KRe)(e,t)):this.node()[e]}function SX(e){return e.trim().split(/^|\s+/)}function t2(e){return e.classList||new EX(e)}function EX(e){this._node=e,this._names=SX(e.getAttribute("class")||"")}EX.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xX(e,t){for(var n=t2(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function PX(e,t){for(var n=t2(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function XRe(e){return function(){xX(this,e)}}function JRe(e){return function(){PX(this,e)}}function ZRe(e,t){return function(){(t.apply(this,arguments)?xX:PX)(this,e)}}function eNe(e,t){var n=SX(e+"");if(arguments.length<2){for(var r=t2(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?ZRe:t?XRe:JRe)(n,t))}function tNe(){this.textContent=""}function nNe(e){return function(){this.textContent=e}}function rNe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function iNe(e){return arguments.length?this.each(e==null?tNe:(typeof e=="function"?rNe:nNe)(e)):this.node().textContent}function oNe(){this.innerHTML=""}function sNe(e){return function(){this.innerHTML=e}}function aNe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function lNe(e){return arguments.length?this.each(e==null?oNe:(typeof e=="function"?aNe:sNe)(e)):this.node().innerHTML}function uNe(){this.nextSibling&&this.parentNode.appendChild(this)}function cNe(){return this.each(uNe)}function fNe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dNe(){return this.each(fNe)}function hNe(e){var t=typeof e=="function"?e:mX(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function pNe(){return null}function mNe(e,t){var n=typeof e=="function"?e:mX(e),r=t==null?pNe:typeof t=="function"?t:e2(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function gNe(){var e=this.parentNode;e&&e.removeChild(this)}function yNe(){return this.each(gNe)}function vNe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _Ne(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wNe(e){return this.select(e?_Ne:vNe)}function bNe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function SNe(e){return function(t){e.call(this,t,this.__data__)}}function ENe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function xNe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function PNe(e,t,n){return function(){var r=this.__on,i,o=SNe(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function INe(e,t,n){var r=ENe(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?PNe:xNe,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function IX(e,t,n){var r=bX(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ONe(e,t){return function(){return IX(this,e,t)}}function TNe(e,t){return function(){return IX(this,e,t.apply(this,arguments))}}function CNe(e,t){return this.each((typeof t=="function"?TNe:ONe)(e,t))}function*$Ne(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var n2=[null];function Zi(e,t){this._groups=e,this._parents=t}function r0(){return new Zi([[document.documentElement]],n2)}function kNe(){return this}Zi.prototype=r0.prototype={constructor:Zi,select:iRe,selectAll:aRe,selectChild:fRe,selectChildren:mRe,filter:gRe,data:SRe,enter:yRe,exit:xRe,join:PRe,merge:IRe,selection:kNe,order:ORe,sort:TRe,call:$Re,nodes:kRe,node:ARe,size:RRe,empty:NRe,each:DRe,attr:zRe,style:qRe,property:QRe,classed:eNe,text:iNe,html:lNe,raise:cNe,lower:dNe,append:hNe,insert:mNe,remove:yNe,clone:wNe,datum:bNe,on:INe,dispatch:CNe,[Symbol.iterator]:$Ne};function Cr(e){return typeof e=="string"?new Zi([[document.querySelector(e)]],[document.documentElement]):new Zi([[e]],n2)}function ANe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function C$(e,t){if(e=ANe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function RNe(e){return typeof e=="string"?new Zi([document.querySelectorAll(e)],[document.documentElement]):new Zi([gX(e)],n2)}const $$={capture:!0,passive:!1};function k$(e){e.preventDefault(),e.stopImmediatePropagation()}function NNe(e){var t=e.document.documentElement,n=Cr(e).on("dragstart.drag",k$,$$);"onselectstart"in t?n.on("selectstart.drag",k$,$$):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function DNe(e,t){var n=e.document.documentElement,r=Cr(e).on("dragstart.drag",null);t&&(r.on("click.drag",k$,$$),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function r2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function OX(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function i0(){}var Ky=.7,yS=1/Ky,Zh="\\s*([+-]?\\d+)\\s*",Yy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MNe=/^#([0-9a-f]{3,8})$/,LNe=new RegExp(`^rgb\\(${Zh},${Zh},${Zh}\\)$`),jNe=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),FNe=new RegExp(`^rgba\\(${Zh},${Zh},${Zh},${Yy}\\)$`),VNe=new RegExp(`^rgba\\(${tl},${tl},${tl},${Yy}\\)$`),BNe=new RegExp(`^hsl\\(${Yy},${tl},${tl}\\)$`),zNe=new RegExp(`^hsla\\(${Yy},${tl},${tl},${Yy}\\)$`),y5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r2(i0,md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v5,formatHex:v5,formatHex8:UNe,formatHsl:HNe,formatRgb:_5,toString:_5});function v5(){return this.rgb().formatHex()}function UNe(){return this.rgb().formatHex8()}function HNe(){return TX(this).formatHsl()}function _5(){return this.rgb().formatRgb()}function md(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MNe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?w5(t):n===3?new xo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?x_(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?x_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LNe.exec(e))?new xo(t[1],t[2],t[3],1):(t=jNe.exec(e))?new xo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FNe.exec(e))?x_(t[1],t[2],t[3],t[4]):(t=VNe.exec(e))?x_(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BNe.exec(e))?E5(t[1],t[2]/100,t[3]/100,1):(t=zNe.exec(e))?E5(t[1],t[2]/100,t[3]/100,t[4]):y5.hasOwnProperty(e)?w5(y5[e]):e==="transparent"?new xo(NaN,NaN,NaN,0):null}function w5(e){return new xo(e>>16&255,e>>8&255,e&255,1)}function x_(e,t,n,r){return r<=0&&(e=t=n=NaN),new xo(e,t,n,r)}function WNe(e){return e instanceof i0||(e=md(e)),e?(e=e.rgb(),new xo(e.r,e.g,e.b,e.opacity)):new xo}function A$(e,t,n,r){return arguments.length===1?WNe(e):new xo(e,t,n,r??1)}function xo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}r2(xo,A$,OX(i0,{brighter(e){return e=e==null?yS:Math.pow(yS,e),new xo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ky:Math.pow(Ky,e),new xo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xo(Jf(this.r),Jf(this.g),Jf(this.b),vS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b5,formatHex:b5,formatHex8:qNe,formatRgb:S5,toString:S5}));function b5(){return`#${Lf(this.r)}${Lf(this.g)}${Lf(this.b)}`}function qNe(){return`#${Lf(this.r)}${Lf(this.g)}${Lf(this.b)}${Lf((isNaN(this.opacity)?1:this.opacity)*255)}`}function S5(){const e=vS(this.opacity);return`${e===1?"rgb(":"rgba("}${Jf(this.r)}, ${Jf(this.g)}, ${Jf(this.b)}${e===1?")":`, ${e})`}`}function vS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lf(e){return e=Jf(e),(e<16?"0":"")+e.toString(16)}function E5(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oa(e,t,n,r)}function TX(e){if(e instanceof oa)return new oa(e.h,e.s,e.l,e.opacity);if(e instanceof i0||(e=md(e)),!e)return new oa;if(e instanceof oa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new oa(s,a,l,e.opacity)}function GNe(e,t,n,r){return arguments.length===1?TX(e):new oa(e,t,n,r??1)}function oa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r2(oa,GNe,OX(i0,{brighter(e){return e=e==null?yS:Math.pow(yS,e),new oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ky:Math.pow(Ky,e),new oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xo(xO(e>=240?e-240:e+120,i,r),xO(e,i,r),xO(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new oa(x5(this.h),P_(this.s),P_(this.l),vS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vS(this.opacity);return`${e===1?"hsl(":"hsla("}${x5(this.h)}, ${P_(this.s)*100}%, ${P_(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x5(e){return e=(e||0)%360,e<0?e+360:e}function P_(e){return Math.max(0,Math.min(1,e||0))}function xO(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const i2=e=>()=>e;function KNe(e,t){return function(n){return e+n*t}}function YNe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function QNe(e){return(e=+e)==1?CX:function(t,n){return n-t?YNe(t,n,e):i2(isNaN(t)?n:t)}}function CX(e,t){var n=t-e;return n?KNe(e,n):i2(isNaN(e)?t:e)}const _S=function e(t){var n=QNe(t);function r(i,o){var s=n((i=A$(i)).r,(o=A$(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=CX(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function XNe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function JNe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZNe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Dx(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function e2e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function na(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function t2e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Dx(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var R$=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,PO=new RegExp(R$.source,"g");function n2e(e){return function(){return e}}function r2e(e){return function(t){return e(t)+""}}function $X(e,t){var n=R$.lastIndex=PO.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=R$.exec(e))&&(i=PO.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:na(r,i)})),n=PO.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?r2e(l[0].x):n2e(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Dx(e,t){var n=typeof t,r;return t==null||n==="boolean"?i2(t):(n==="number"?na:n==="string"?(r=md(t))?(t=r,_S):$X:t instanceof md?_S:t instanceof Date?e2e:JNe(t)?XNe:Array.isArray(t)?ZNe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?t2e:na)(e,t)}function i2e(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var P5=180/Math.PI,N$={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kX(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*P5,skewX:Math.atan(l)*P5,scaleX:s,scaleY:a}}var I_;function o2e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?N$:kX(t.a,t.b,t.c,t.d,t.e,t.f)}function s2e(e){return e==null||(I_||(I_=document.createElementNS("http://www.w3.org/2000/svg","g")),I_.setAttribute("transform",e),!(e=I_.transform.baseVal.consolidate()))?N$:(e=e.matrix,kX(e.a,e.b,e.c,e.d,e.e,e.f))}function AX(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:na(u,f)},{i:g-2,x:na(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:na(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:na(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:na(u,f)},{i:g-2,x:na(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,y;++p<g;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var a2e=AX(o2e,"px, ","px)","deg)"),l2e=AX(s2e,", ",")",")"),Cp=0,Og=0,rg=0,RX=1e3,wS,Tg,bS=0,gd=0,Mx=0,Qy=typeof performance=="object"&&performance.now?performance:Date,NX=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function o2(){return gd||(NX(u2e),gd=Qy.now()+Mx)}function u2e(){gd=0}function SS(){this._call=this._time=this._next=null}SS.prototype=DX.prototype={constructor:SS,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?o2():+n)+(t==null?0:+t),!this._next&&Tg!==this&&(Tg?Tg._next=this:wS=this,Tg=this),this._call=e,this._time=n,D$()},stop:function(){this._call&&(this._call=null,this._time=1/0,D$())}};function DX(e,t,n){var r=new SS;return r.restart(e,t,n),r}function c2e(){o2(),++Cp;for(var e=wS,t;e;)(t=gd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Cp}function I5(){gd=(bS=Qy.now())+Mx,Cp=Og=0;try{c2e()}finally{Cp=0,d2e(),gd=0}}function f2e(){var e=Qy.now(),t=e-bS;t>RX&&(Mx-=t,bS=e)}function d2e(){for(var e,t=wS,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:wS=n);Tg=e,D$(r)}function D$(e){if(!Cp){Og&&(Og=clearTimeout(Og));var t=e-gd;t>24?(e<1/0&&(Og=setTimeout(I5,e-Qy.now()-Mx)),rg&&(rg=clearInterval(rg))):(rg||(bS=Qy.now(),rg=setInterval(f2e,RX)),Cp=1,NX(I5))}}function O5(e,t,n){var r=new SS;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var h2e=ZN("start","end","cancel","interrupt"),p2e=[],MX=0,T5=1,M$=2,Pw=3,C5=4,L$=5,Iw=6;function Lx(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;m2e(e,n,{name:t,index:r,group:i,on:h2e,tween:p2e,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:MX})}function s2(e,t){var n=ba(e,t);if(n.state>MX)throw new Error("too late; already scheduled");return n}function wl(e,t){var n=ba(e,t);if(n.state>Pw)throw new Error("too late; already running");return n}function ba(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function m2e(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=DX(o,0,n.time);function o(u){n.state=T5,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,h;if(n.state!==T5)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Pw)return O5(s);h.state===C5?(h.state=Iw,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Iw,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(O5(function(){n.state===Pw&&(n.state=C5,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=M$,n.on.call("start",e,e.__data__,n.index,n.group),n.state===M$){for(n.state=Pw,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=L$,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===L$&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Iw,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function j$(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>M$&&r.state<L$,r.state=Iw,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function g2e(e){return this.each(function(){j$(this,e)})}function y2e(e,t){var n,r;return function(){var i=wl(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function v2e(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=wl(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function _2e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ba(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?y2e:v2e)(n,e,t))}function a2(e,t,n){var r=e._id;return e.each(function(){var i=wl(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ba(i,r).value[t]}}function LX(e,t){var n;return(typeof t=="number"?na:t instanceof md?_S:(n=md(t))?(t=n,_S):$X)(e,t)}function w2e(e){return function(){this.removeAttribute(e)}}function b2e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S2e(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function E2e(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function x2e(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function P2e(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function I2e(e,t){var n=Nx(e),r=n==="transform"?l2e:LX;return this.attrTween(e,typeof t=="function"?(n.local?P2e:x2e)(n,r,a2(this,"attr."+e,t)):t==null?(n.local?b2e:w2e)(n):(n.local?E2e:S2e)(n,r,t))}function O2e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function T2e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function C2e(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&T2e(e,o)),n}return i._value=t,i}function $2e(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&O2e(e,o)),n}return i._value=t,i}function k2e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Nx(e);return this.tween(n,(r.local?C2e:$2e)(r,t))}function A2e(e,t){return function(){s2(this,e).delay=+t.apply(this,arguments)}}function R2e(e,t){return t=+t,function(){s2(this,e).delay=t}}function N2e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?A2e:R2e)(t,e)):ba(this.node(),t).delay}function D2e(e,t){return function(){wl(this,e).duration=+t.apply(this,arguments)}}function M2e(e,t){return t=+t,function(){wl(this,e).duration=t}}function L2e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?D2e:M2e)(t,e)):ba(this.node(),t).duration}function j2e(e,t){if(typeof t!="function")throw new Error;return function(){wl(this,e).ease=t}}function F2e(e){var t=this._id;return arguments.length?this.each(j2e(t,e)):ba(this.node(),t).ease}function V2e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;wl(this,e).ease=n}}function B2e(e){if(typeof e!="function")throw new Error;return this.each(V2e(this._id,e))}function z2e(e){typeof e!="function"&&(e=vX(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new cu(r,this._parents,this._name,this._id)}function U2e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new cu(s,this._parents,this._name,this._id)}function H2e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function W2e(e,t,n){var r,i,o=H2e(t)?s2:wl;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function q2e(e,t){var n=this._id;return arguments.length<2?ba(this.node(),n).on.on(e):this.each(W2e(n,e,t))}function G2e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function K2e(){return this.on("end.remove",G2e(this._id))}function Y2e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=e2(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Lx(u[d],t,n,d,u,ba(c,n)));return new cu(o,this._parents,t,n)}function Q2e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=yX(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,p=ba(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&Lx(h,t,n,g,d,p);o.push(d),s.push(c)}return new cu(o,s,t,n)}var X2e=r0.prototype.constructor;function J2e(){return new X2e(this._groups,this._parents)}function Z2e(e,t){var n,r,i;return function(){var o=Tp(this,e),s=(this.style.removeProperty(e),Tp(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function jX(e){return function(){this.style.removeProperty(e)}}function eDe(e,t,n){var r,i=n+"",o;return function(){var s=Tp(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function tDe(e,t,n){var r,i,o;return function(){var s=Tp(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Tp(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function nDe(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=wl(this,e),u=l.on,c=l.value[o]==null?a||(a=jX(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function rDe(e,t,n){var r=(e+="")=="transform"?a2e:LX;return t==null?this.styleTween(e,Z2e(e,r)).on("end.style."+e,jX(e)):typeof t=="function"?this.styleTween(e,tDe(e,r,a2(this,"style."+e,t))).each(nDe(this._id,e)):this.styleTween(e,eDe(e,r,t),n).on("end.style."+e,null)}function iDe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function oDe(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&iDe(e,s,n)),r}return o._value=t,o}function sDe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,oDe(e,t,n??""))}function aDe(e){return function(){this.textContent=e}}function lDe(e){return function(){var t=e(this);this.textContent=t??""}}function uDe(e){return this.tween("text",typeof e=="function"?lDe(a2(this,"text",e)):aDe(e==null?"":e+""))}function cDe(e){return function(t){this.textContent=e.call(this,t)}}function fDe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&cDe(i)),t}return r._value=e,r}function dDe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fDe(e))}function hDe(){for(var e=this._name,t=this._id,n=FX(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=ba(l,t);Lx(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new cu(r,this._parents,e,n)}function pDe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=wl(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var mDe=0;function cu(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function FX(){return++mDe}var Pl=r0.prototype;cu.prototype={constructor:cu,select:Y2e,selectAll:Q2e,selectChild:Pl.selectChild,selectChildren:Pl.selectChildren,filter:z2e,merge:U2e,selection:J2e,transition:hDe,call:Pl.call,nodes:Pl.nodes,node:Pl.node,size:Pl.size,empty:Pl.empty,each:Pl.each,on:q2e,attr:I2e,attrTween:k2e,style:rDe,styleTween:sDe,text:uDe,textTween:dDe,remove:K2e,tween:_2e,delay:N2e,duration:L2e,ease:F2e,easeVarying:B2e,end:pDe,[Symbol.iterator]:Pl[Symbol.iterator]};const gDe=e=>+e;function yDe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var vDe={time:null,delay:0,duration:250,ease:yDe};function _De(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function wDe(e){var t,n;e instanceof cu?(t=e._id,e=e._name):(t=FX(),(n=vDe).time=o2(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&Lx(l,e,t,u,s,n||_De(l,t));return new cu(r,this._parents,e,t)}r0.prototype.interrupt=g2e;r0.prototype.transition=wDe;const IO=e=>()=>e;function bDe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function SDe(e){e.stopImmediatePropagation()}function OO(e){e.preventDefault(),e.stopImmediatePropagation()}var $5={name:"drag"},TO={name:"space"},nh={name:"handle"},rh={name:"center"};const{abs:k5,max:Ti,min:Ci}=Math;function A5(e){return[+e[0],+e[1]]}function F$(e){return[A5(e[0]),A5(e[1])]}var Ow={name:"x",handles:["w","e"].map(Xy),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Tw={name:"y",handles:["n","s"].map(Xy),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},EDe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xy),input:function(e){return e==null?null:F$(e)},output:function(e){return e}},Il={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},R5={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},N5={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},xDe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},PDe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Xy(e){return{type:e}}function IDe(e){return!e.ctrlKey&&!e.button}function ODe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function TDe(){return navigator.maxTouchPoints||"ontouchstart"in this}function CO(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function CDe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function $De(){return l2(Ow)}function kDe(){return l2(Tw)}function ADe(){return l2(EDe)}function l2(e){var t=ODe,n=IDe,r=TDe,i=!0,o=ZN("start","brush","end"),s=6,a;function l(y){var m=y.property("__brush",g).selectAll(".overlay").data([Xy("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Il.overlay).merge(m).each(function(){var _=CO(this).extent;Cr(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),y.selectAll(".selection").data([Xy("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Il.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=y.selectAll(".handle").data(e.handles,function(_){return _.type});v.exit().remove(),v.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return Il[_.type]}),y.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(y,m,v){y.tween?y.on("start.brush",function(_){c(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){c(this,arguments).end(_)}).tween("brush",function(){var _=this,b=_.__brush,E=c(_,arguments),w=b.selection,x=e.input(typeof m=="function"?m.apply(this,arguments):m,b.extent),I=Dx(w,x);function D(R){b.selection=R===1&&x===null?null:I(R),u.call(_),E.brush()}return w!==null&&x!==null?D:D(1)}):y.each(function(){var _=this,b=arguments,E=_.__brush,w=e.input(typeof m=="function"?m.apply(_,b):m,E.extent),x=c(_,b).beforestart();j$(_),E.selection=w===null?null:w,u.call(_),x.start(v).brush(v).end(v)})},l.clear=function(y,m){l.move(y,null,m)};function u(){var y=Cr(this),m=CO(this).selection;m?(y.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?m[1][0]-s/2:m[0][0]-s/2}).attr("y",function(v){return v.type[0]==="s"?m[1][1]-s/2:m[0][1]-s/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?m[1][0]-m[0][0]+s:s}).attr("height",function(v){return v.type==="e"||v.type==="w"?m[1][1]-m[0][1]+s:s})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,m,v){var _=y.__brush.emitter;return _&&(!v||!_.clean)?_:new f(y,m,v)}function f(y,m,v){this.that=y,this.args=m,this.state=y.__brush,this.active=0,this.clean=v}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,m){return this.starting?(this.starting=!1,this.emit("start",y,m)):this.emit("brush",y),this},brush:function(y,m){return this.emit("brush",y,m),this},end:function(y,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,m)),this},emit:function(y,m,v){var _=Cr(this.that).datum();o.call(y,this.that,new bDe(y,{sourceEvent:m,target:l,selection:e.output(this.state.selection),mode:v,dispatch:o}),_)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var m=this,v=y.target.__data__.type,_=(i&&y.metaKey?v="overlay":v)==="selection"?$5:i&&y.altKey?rh:nh,b=e===Tw?null:xDe[v],E=e===Ow?null:PDe[v],w=CO(m),x=w.extent,I=w.selection,D=x[0][0],R,N,z=x[0][1],U,B,ae=x[1][0],re,ue,Q=x[1][1],ee,W,P=0,O=0,F,$=b&&E&&i&&y.shiftKey,C,H,te=Array.from(y.touches||[y],we=>{const Ne=we.identifier;return we=C$(we,m),we.point0=we.slice(),we.identifier=Ne,we});j$(m);var ie=c(m,arguments,!0).beforestart();if(v==="overlay"){I&&(F=!0);const we=[te[0],te[1]||te[0]];w.selection=I=[[R=e===Tw?D:Ci(we[0][0],we[1][0]),U=e===Ow?z:Ci(we[0][1],we[1][1])],[re=e===Tw?ae:Ti(we[0][0],we[1][0]),ee=e===Ow?Q:Ti(we[0][1],we[1][1])]],te.length>1&&Ue(y)}else R=I[0][0],U=I[0][1],re=I[1][0],ee=I[1][1];N=R,B=U,ue=re,W=ee;var le=Cr(m).attr("pointer-events","none"),se=le.selectAll(".overlay").attr("cursor",Il[v]);if(y.touches)ie.moved=ce,ie.ended=Fe;else{var ye=Cr(y.view).on("mousemove.brush",ce,!0).on("mouseup.brush",Fe,!0);i&&ye.on("keydown.brush",Me,!0).on("keyup.brush",Te,!0),NNe(y.view)}u.call(m),ie.start(y,_.name);function ce(we){for(const Ne of we.changedTouches||[we])for(const Ht of te)Ht.identifier===Ne.identifier&&(Ht.cur=C$(Ne,m));if($&&!C&&!H&&te.length===1){const Ne=te[0];k5(Ne.cur[0]-Ne[0])>k5(Ne.cur[1]-Ne[1])?H=!0:C=!0}for(const Ne of te)Ne.cur&&(Ne[0]=Ne.cur[0],Ne[1]=Ne.cur[1]);F=!0,OO(we),Ue(we)}function Ue(we){const Ne=te[0],Ht=Ne.point0;var Ce;switch(P=Ne[0]-Ht[0],O=Ne[1]-Ht[1],_){case TO:case $5:{b&&(P=Ti(D-R,Ci(ae-re,P)),N=R+P,ue=re+P),E&&(O=Ti(z-U,Ci(Q-ee,O)),B=U+O,W=ee+O);break}case nh:{te[1]?(b&&(N=Ti(D,Ci(ae,te[0][0])),ue=Ti(D,Ci(ae,te[1][0])),b=1),E&&(B=Ti(z,Ci(Q,te[0][1])),W=Ti(z,Ci(Q,te[1][1])),E=1)):(b<0?(P=Ti(D-R,Ci(ae-R,P)),N=R+P,ue=re):b>0&&(P=Ti(D-re,Ci(ae-re,P)),N=R,ue=re+P),E<0?(O=Ti(z-U,Ci(Q-U,O)),B=U+O,W=ee):E>0&&(O=Ti(z-ee,Ci(Q-ee,O)),B=U,W=ee+O));break}case rh:{b&&(N=Ti(D,Ci(ae,R-P*b)),ue=Ti(D,Ci(ae,re+P*b))),E&&(B=Ti(z,Ci(Q,U-O*E)),W=Ti(z,Ci(Q,ee+O*E)));break}}ue<N&&(b*=-1,Ce=R,R=re,re=Ce,Ce=N,N=ue,ue=Ce,v in R5&&se.attr("cursor",Il[v=R5[v]])),W<B&&(E*=-1,Ce=U,U=ee,ee=Ce,Ce=B,B=W,W=Ce,v in N5&&se.attr("cursor",Il[v=N5[v]])),w.selection&&(I=w.selection),C&&(N=I[0][0],ue=I[1][0]),H&&(B=I[0][1],W=I[1][1]),(I[0][0]!==N||I[0][1]!==B||I[1][0]!==ue||I[1][1]!==W)&&(w.selection=[[N,B],[ue,W]],u.call(m),ie.brush(we,_.name))}function Fe(we){if(SDe(we),we.touches){if(we.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else DNe(we.view,F),ye.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);le.attr("pointer-events","all"),se.attr("cursor",Il.overlay),w.selection&&(I=w.selection),CDe(I)&&(w.selection=null,u.call(m)),ie.end(we,_.name)}function Me(we){switch(we.keyCode){case 16:{$=b&&E;break}case 18:{_===nh&&(b&&(re=ue-P*b,R=N+P*b),E&&(ee=W-O*E,U=B+O*E),_=rh,Ue(we));break}case 32:{(_===nh||_===rh)&&(b<0?re=ue-P:b>0&&(R=N-P),E<0?ee=W-O:E>0&&(U=B-O),_=TO,se.attr("cursor",Il.selection),Ue(we));break}default:return}OO(we)}function Te(we){switch(we.keyCode){case 16:{$&&(C=H=$=!1,Ue(we));break}case 18:{_===rh&&(b<0?re=ue:b>0&&(R=N),E<0?ee=W:E>0&&(U=B),_=nh,Ue(we));break}case 32:{_===TO&&(we.altKey?(b&&(re=ue-P*b,R=N+P*b),E&&(ee=W-O*E,U=B+O*E),_=rh):(b<0?re=ue:b>0&&(R=N),E<0?ee=W:E>0&&(U=B),_=nh),se.attr("cursor",Il[v]),Ue(we));break}default:return}OO(we)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function g(){var y=this.__brush||{selection:null};return y.extent=F$(t.apply(this,arguments)),y.dim=e,y}return l.extent=function(y){return arguments.length?(t=typeof y=="function"?y:IO(F$(y)),l):t},l.filter=function(y){return arguments.length?(n=typeof y=="function"?y:IO(!!y),l):n},l.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:IO(!!y),l):r},l.handleSize=function(y){return arguments.length?(s=+y,l):s},l.keyModifiers=function(y){return arguments.length?(i=!!y,l):i},l.on=function(){var y=o.on.apply(o,arguments);return y===o?l:y},l}const V$=Math.PI,B$=2*V$,wf=1e-6,RDe=B$-wf;function VX(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function NDe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VX;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class DDe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VX:NDe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>wf)if(!(Math.abs(f*l-u*c)>wf)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+u*u,y=h*h+p*p,m=Math.sqrt(g),v=Math.sqrt(d),_=o*Math.tan((V$-Math.acos((g+d-y)/(2*m*v)))/2),b=_/v,E=_/m;Math.abs(b-1)>wf&&this._append`L${t+b*c},${n+b*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>wf||Math.abs(this._y1-c)>wf)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%B$+B$),d>RDe?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>wf&&this._append`A${r},${r},0,${+(d>=V$)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var D5={},$O={},kO=34,ig=10,AO=13;function BX(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function MDe(e,t){var n=BX(e);return function(r,i){return t(n(r),i,e)}}function M5(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function fo(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function LDe(e){return e<0?"-"+fo(-e,6):e>9999?"+"+fo(e,6):fo(e,4)}function jDe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":LDe(e.getUTCFullYear())+"-"+fo(e.getUTCMonth()+1,2)+"-"+fo(e.getUTCDate(),2)+(i?"T"+fo(t,2)+":"+fo(n,2)+":"+fo(r,2)+"."+fo(i,3)+"Z":r?"T"+fo(t,2)+":"+fo(n,2)+":"+fo(r,2)+"Z":n||t?"T"+fo(t,2)+":"+fo(n,2)+"Z":"")}function FDe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(y,m){if(h)return h(y,m-1);p=y,h=d?MDe(y,d):BX(y)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,y=0,m,v=p<=0,_=!1;f.charCodeAt(p-1)===ig&&--p,f.charCodeAt(p-1)===AO&&--p;function b(){if(v)return $O;if(_)return _=!1,D5;var w,x=g,I;if(f.charCodeAt(x)===kO){for(;g++<p&&f.charCodeAt(g)!==kO||f.charCodeAt(++g)===kO;);return(w=g)>=p?v=!0:(I=f.charCodeAt(g++))===ig?_=!0:I===AO&&(_=!0,f.charCodeAt(g)===ig&&++g),f.slice(x+1,w-1).replace(/""/g,'"')}for(;g<p;){if((I=f.charCodeAt(w=g++))===ig)_=!0;else if(I===AO)_=!0,f.charCodeAt(g)===ig&&++g;else if(I!==n)continue;return f.slice(x,w)}return v=!0,f.slice(x,p)}for(;(m=b())!==$O;){for(var E=[];m!==D5&&m!==$O;)E.push(m),m=b();d&&(E=d(E,y++))==null||h.push(E)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function s(f,d){return d==null&&(d=M5(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=M5(f)),o(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?jDe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}var VDe=FDe(","),BDe=VDe.parse;function zDe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function UDe(e,t){return fetch(e,t).then(zDe)}function HDe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),UDe(t,n).then(function(i){return e(i,r)})}}var WDe=HDe(BDe);function qDe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ES(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $p(e){return e=ES(Math.abs(e)),e?e[1]:NaN}function GDe(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function KDe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var YDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xS(e){if(!(t=YDe.exec(e)))throw new Error("invalid format: "+e);var t;return new u2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xS.prototype=u2.prototype;function u2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}u2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QDe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var zX;function XDe(e,t){var n=ES(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(zX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ES(e,Math.max(0,t+o-1))[0]}function L5(e,t){var n=ES(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const j5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qDe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>L5(e*100,t),r:L5,s:XDe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F5(e){return e}var V5=Array.prototype.map,B5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JDe(e){var t=e.grouping===void 0||e.thousands===void 0?F5:GDe(V5.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?F5:KDe(V5.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=xS(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,m=f.width,v=f.comma,_=f.precision,b=f.trim,E=f.type;E==="n"?(v=!0,E="g"):j5[E]||(_===void 0&&(_=12),b=!0,E="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",x=g==="$"?r:/[%p]/.test(E)?s:"",I=j5[E],D=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(N){var z=w,U=x,B,ae,re;if(E==="c")U=I(N)+U,N="";else{N=+N;var ue=N<0||1/N<0;if(N=isNaN(N)?l:I(Math.abs(N),_),b&&(N=QDe(N)),ue&&+N==0&&p!=="+"&&(ue=!1),z=(ue?p==="("?p:a:p==="-"||p==="("?"":p)+z,U=(E==="s"?B5[8+zX/3]:"")+U+(ue&&p==="("?")":""),D){for(B=-1,ae=N.length;++B<ae;)if(re=N.charCodeAt(B),48>re||re>57){U=(re===46?i+N.slice(B+1):N.slice(B))+U,N=N.slice(0,B);break}}}v&&!y&&(N=t(N,1/0));var Q=z.length+N.length+U.length,ee=Q<m?new Array(m-Q+1).join(d):"";switch(v&&y&&(N=t(ee+N,ee.length?m-U.length:1/0),ee=""),h){case"<":N=z+N+U+ee;break;case"=":N=z+ee+N+U;break;case"^":N=ee.slice(0,Q=ee.length>>1)+z+N+U+ee.slice(Q);break;default:N=ee+z+N+U;break}return o(N)}return R.toString=function(){return f+""},R}function c(f,d){var h=u((f=xS(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor($p(d)/3)))*3,g=Math.pow(10,-p),y=B5[8+p/3];return function(m){return h(g*m)+y}}return{format:u,formatPrefix:c}}var O_,jx,UX;ZDe({thousands:",",grouping:[3],currency:["$",""]});function ZDe(e){return O_=JDe(e),jx=O_.format,UX=O_.formatPrefix,O_}function eMe(e){return Math.max(0,-$p(Math.abs(e)))}function tMe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($p(t)/3)))*3-$p(Math.abs(e)))}function nMe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$p(t)-$p(e))+1}function rMe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function iMe(){return this.eachAfter(rMe)}function oMe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function sMe(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function aMe(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function lMe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function uMe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function cMe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function fMe(e){for(var t=this,n=dMe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function dMe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function hMe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function pMe(){return Array.from(this)}function mMe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function gMe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*yMe(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function c2(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=wMe)):t===void 0&&(t=_Me);for(var n=new PS(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new PS(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(SMe)}function vMe(){return c2(this).eachBefore(bMe)}function _Me(e){return e.children}function wMe(e){return Array.isArray(e)?e[1]:null}function bMe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function SMe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function PS(e){this.data=e,this.depth=this.height=0,this.parent=null}PS.prototype=c2.prototype={constructor:PS,count:iMe,each:oMe,eachAfter:aMe,eachBefore:sMe,find:lMe,sum:uMe,sort:cMe,path:fMe,ancestors:hMe,descendants:pMe,leaves:mMe,links:gMe,copy:vMe,[Symbol.iterator]:yMe};function EMe(e){return e==null?null:xMe(e)}function xMe(e){if(typeof e!="function")throw new Error;return e}function z5(){return 0}function PMe(e){return function(){return e}}const IMe=1664525,OMe=1013904223,U5=4294967296;function TMe(){let e=1;return()=>(e=(IMe*e+OMe)%U5)/U5}function CMe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $Me(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function kMe(e,t){for(var n=0,r=(e=$Me(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&HX(s,o)?++n:(s=RMe(i=AMe(i,o)),n=0);return s}function AMe(e,t){var n,r;if(RO(t,e))return[t];for(n=0;n<e.length;++n)if(T_(t,e[n])&&RO(Cg(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(T_(Cg(e[n],e[r]),t)&&T_(Cg(e[n],t),e[r])&&T_(Cg(e[r],t),e[n])&&RO(WX(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function T_(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function HX(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function RO(e,t){for(var n=0;n<t.length;++n)if(!HX(e,t[n]))return!1;return!0}function RMe(e){switch(e.length){case 1:return NMe(e[0]);case 2:return Cg(e[0],e[1]);case 3:return WX(e[0],e[1],e[2])}}function NMe(e){return{x:e.x,y:e.y,r:e.r}}function Cg(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+s+u/f*c)/2,r:(f+i+a)/2}}function WX(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-s,h=r-u,p=i-a,g=i-c,y=l-o,m=f-o,v=r*r+i*i-o*o,_=v-s*s-a*a+l*l,b=v-u*u-c*c+f*f,E=h*p-d*g,w=(p*b-g*_)/(E*2)-r,x=(g*y-p*m)/E,I=(h*_-d*b)/(E*2)-i,D=(d*m-h*y)/E,R=x*x+D*D-1,N=2*(o+w*x+I*D),z=w*w+I*I-o*o,U=-(Math.abs(R)>1e-6?(N+Math.sqrt(N*N-4*R*z))/(2*R):z/N);return{x:r+w+x*U,y:i+I+D*U,r:U}}function H5(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function W5(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function q5(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function C_(e){this._=e,this.next=null,this.previous=null}function DMe(e,t){if(!(o=(e=CMe(e)).length))return 0;var n,r,i,o,s,a,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;H5(r,n,i=e[2]),n=new C_(n),r=new C_(r),i=new C_(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){H5(n._,r._,i=e[l]),i=new C_(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(W5(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(W5(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=q5(n);(i=i.next)!==r;)(a=q5(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=kMe(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function MMe(e){return Math.sqrt(e.value)}function LMe(){var e=null,t=1,n=1,r=z5;function i(o){const s=TMe();return o.x=t/2,o.y=n/2,e?o.eachBefore(G5(e)).eachAfter(NO(r,.5,s)).eachBefore(K5(1)):o.eachBefore(G5(MMe)).eachAfter(NO(z5,1,s)).eachAfter(NO(r,o.r/Math.min(t,n),s)).eachBefore(K5(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=EMe(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:PMe(+o),i):r},i}function G5(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function NO(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=DMe(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function K5(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Fx(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Y5=Symbol("implicit");function Vx(){var e=new h5,t=[],n=[],r=Y5;function i(o){let s=e.get(o);if(s===void 0){if(r!==Y5)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new h5;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Vx(t,n).unknown(r)},Fx.apply(i,arguments),i}function o0(){var e=Vx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),p+=(g-p-o*(d-l))*c,s=o*(1-l),a&&(p=Math.round(p),s=Math.round(s));var y=XAe(d).map(function(m){return p+o*m});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return o0(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Fx.apply(f(),arguments)}function jMe(e){return function(){return e}}function FMe(e){return+e}var Q5=[0,1];function $h(e){return e}function z$(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jMe(isNaN(t)?NaN:.5)}function VMe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function BMe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=z$(i,r),o=n(s,o)):(r=z$(r,i),o=n(o,s)),function(a){return o(r(a))}}function zMe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=z$(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=zAe(e,a,1,r)-1;return o[l](i[l](a))}}function qX(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function UMe(){var e=Q5,t=Q5,n=Dx,r,i,o,s=$h,a,l,u;function c(){var d=Math.min(e.length,t.length);return s!==$h&&(s=VMe(e[0],e[d-1])),a=d>2?zMe:BMe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(t,e.map(r),na)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,FMe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=i2e,c()},f.clamp=function(d){return arguments.length?(s=d?!0:$h,c()):s!==$h},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function GX(){return UMe()($h,$h)}function HMe(e,t,n,r){var i=O$(e,t,n),o;switch(r=xS(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=tMe(i,s))&&(r.precision=o),UX(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=nMe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=eMe(i))&&(r.precision=o-(r.type==="%")*2);break}}return jx(r)}function WMe(e){var t=e.domain;return e.ticks=function(n){var r=t();return YAe(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return HMe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=I$(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Lc(){var e=GX();return e.copy=function(){return qX(e,Lc())},Fx.apply(e,arguments),WMe(e)}function qMe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}const DO=new Date,MO=new Date;function Kr(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>Kr(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(DO.setTime(+o),MO.setTime(+s),e(DO),e(MO),Math.floor(n(DO,MO))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const IS=Kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);IS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):IS);IS.range;const zl=1e3,Cs=zl*60,Ul=Cs*60,fu=Ul*24,f2=fu*7,X5=fu*30,LO=fu*365,kh=Kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zl)},(e,t)=>(t-e)/zl,e=>e.getUTCSeconds());kh.range;const d2=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zl)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getMinutes());d2.range;const GMe=Kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getUTCMinutes());GMe.range;const h2=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zl-e.getMinutes()*Cs)},(e,t)=>{e.setTime(+e+t*Ul)},(e,t)=>(t-e)/Ul,e=>e.getHours());h2.range;const KMe=Kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ul)},(e,t)=>(t-e)/Ul,e=>e.getUTCHours());KMe.range;const s0=Kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cs)/fu,e=>e.getDate()-1);s0.range;const p2=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fu,e=>e.getUTCDate()-1);p2.range;const YMe=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fu,e=>Math.floor(e/fu));YMe.range;function Ld(e){return Kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cs)/f2)}const Bx=Ld(0),OS=Ld(1),QMe=Ld(2),XMe=Ld(3),kp=Ld(4),JMe=Ld(5),ZMe=Ld(6);Bx.range;OS.range;QMe.range;XMe.range;kp.range;JMe.range;ZMe.range;function jd(e){return Kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/f2)}const KX=jd(0),TS=jd(1),eLe=jd(2),tLe=jd(3),Ap=jd(4),nLe=jd(5),rLe=jd(6);KX.range;TS.range;eLe.range;tLe.range;Ap.range;nLe.range;rLe.range;const m2=Kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());m2.range;const iLe=Kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iLe.range;const du=Kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());du.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});du.range;const yd=Kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});yd.range;function oLe(e,t,n,r,i,o){const s=[[kh,1,zl],[kh,5,5*zl],[kh,15,15*zl],[kh,30,30*zl],[o,1,Cs],[o,5,5*Cs],[o,15,15*Cs],[o,30,30*Cs],[i,1,Ul],[i,3,3*Ul],[i,6,6*Ul],[i,12,12*Ul],[r,1,fu],[r,2,2*fu],[n,1,f2],[t,1,X5],[t,3,3*X5],[e,1,LO]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,f){const d=Math.abs(c-u)/f,h=JN(([,,y])=>y).right(s,d);if(h===s.length)return e.every(O$(u/LO,c/LO,f));if(h===0)return IS.every(Math.max(O$(u,c,f),1));const[p,g]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[sLe,aLe]=oLe(du,m2,Bx,s0,h2,d2);function jO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function FO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function og(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function lLe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=sg(i),c=ag(i),f=sg(o),d=ag(o),h=sg(s),p=ag(s),g=sg(a),y=ag(a),m=sg(l),v=ag(l),_={a:ue,A:Q,b:ee,B:W,c:null,d:rB,e:rB,f:kLe,g:BLe,G:ULe,H:TLe,I:CLe,j:$Le,L:YX,m:ALe,M:RLe,p:P,q:O,Q:sB,s:aB,S:NLe,u:DLe,U:MLe,V:LLe,w:jLe,W:FLe,x:null,X:null,y:VLe,Y:zLe,Z:HLe,"%":oB},b={a:F,A:$,b:C,B:H,c:null,d:iB,e:iB,f:KLe,g:ije,G:sje,H:WLe,I:qLe,j:GLe,L:XX,m:YLe,M:QLe,p:te,q:ie,Q:sB,s:aB,S:XLe,u:JLe,U:ZLe,V:eje,w:tje,W:nje,x:null,X:null,y:rje,Y:oje,Z:aje,"%":oB},E={a:R,A:N,b:z,B:U,c:B,d:tB,e:tB,f:xLe,g:eB,G:Z5,H:nB,I:nB,j:wLe,L:ELe,m:_Le,M:bLe,p:D,q:vLe,Q:ILe,s:OLe,S:SLe,u:hLe,U:pLe,V:mLe,w:dLe,W:gLe,x:ae,X:re,y:eB,Y:Z5,Z:yLe,"%":PLe};_.x=w(n,_),_.X=w(r,_),_.c=w(t,_),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b);function w(le,se){return function(ye){var ce=[],Ue=-1,Fe=0,Me=le.length,Te,we,Ne;for(ye instanceof Date||(ye=new Date(+ye));++Ue<Me;)le.charCodeAt(Ue)===37&&(ce.push(le.slice(Fe,Ue)),(we=J5[Te=le.charAt(++Ue)])!=null?Te=le.charAt(++Ue):we=Te==="e"?" ":"0",(Ne=se[Te])&&(Te=Ne(ye,we)),ce.push(Te),Fe=Ue+1);return ce.push(le.slice(Fe,Ue)),ce.join("")}}function x(le,se){return function(ye){var ce=og(1900,void 0,1),Ue=I(ce,le,ye+="",0),Fe,Me;if(Ue!=ye.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(se&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Fe=FO(og(ce.y,0,1)),Me=Fe.getUTCDay(),Fe=Me>4||Me===0?TS.ceil(Fe):TS(Fe),Fe=p2.offset(Fe,(ce.V-1)*7),ce.y=Fe.getUTCFullYear(),ce.m=Fe.getUTCMonth(),ce.d=Fe.getUTCDate()+(ce.w+6)%7):(Fe=jO(og(ce.y,0,1)),Me=Fe.getDay(),Fe=Me>4||Me===0?OS.ceil(Fe):OS(Fe),Fe=s0.offset(Fe,(ce.V-1)*7),ce.y=Fe.getFullYear(),ce.m=Fe.getMonth(),ce.d=Fe.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Me="Z"in ce?FO(og(ce.y,0,1)).getUTCDay():jO(og(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Me+5)%7:ce.w+ce.U*7-(Me+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,FO(ce)):jO(ce)}}function I(le,se,ye,ce){for(var Ue=0,Fe=se.length,Me=ye.length,Te,we;Ue<Fe;){if(ce>=Me)return-1;if(Te=se.charCodeAt(Ue++),Te===37){if(Te=se.charAt(Ue++),we=E[Te in J5?se.charAt(Ue++):Te],!we||(ce=we(le,ye,ce))<0)return-1}else if(Te!=ye.charCodeAt(ce++))return-1}return ce}function D(le,se,ye){var ce=u.exec(se.slice(ye));return ce?(le.p=c.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function R(le,se,ye){var ce=h.exec(se.slice(ye));return ce?(le.w=p.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function N(le,se,ye){var ce=f.exec(se.slice(ye));return ce?(le.w=d.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function z(le,se,ye){var ce=m.exec(se.slice(ye));return ce?(le.m=v.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function U(le,se,ye){var ce=g.exec(se.slice(ye));return ce?(le.m=y.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function B(le,se,ye){return I(le,t,se,ye)}function ae(le,se,ye){return I(le,n,se,ye)}function re(le,se,ye){return I(le,r,se,ye)}function ue(le){return s[le.getDay()]}function Q(le){return o[le.getDay()]}function ee(le){return l[le.getMonth()]}function W(le){return a[le.getMonth()]}function P(le){return i[+(le.getHours()>=12)]}function O(le){return 1+~~(le.getMonth()/3)}function F(le){return s[le.getUTCDay()]}function $(le){return o[le.getUTCDay()]}function C(le){return l[le.getUTCMonth()]}function H(le){return a[le.getUTCMonth()]}function te(le){return i[+(le.getUTCHours()>=12)]}function ie(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var se=w(le+="",_);return se.toString=function(){return le},se},parse:function(le){var se=x(le+="",!1);return se.toString=function(){return le},se},utcFormat:function(le){var se=w(le+="",b);return se.toString=function(){return le},se},utcParse:function(le){var se=x(le+="",!0);return se.toString=function(){return le},se}}}var J5={"-":"",_:" ",0:"0"},ii=/^\s*\d+/,uLe=/^%/,cLe=/[\\^$*+?|[\]().{}]/g;function fn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function fLe(e){return e.replace(cLe,"\\$&")}function sg(e){return new RegExp("^(?:"+e.map(fLe).join("|")+")","i")}function ag(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function dLe(e,t,n){var r=ii.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function hLe(e,t,n){var r=ii.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function pLe(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function mLe(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gLe(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Z5(e,t,n){var r=ii.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function eB(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yLe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vLe(e,t,n){var r=ii.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function _Le(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tB(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wLe(e,t,n){var r=ii.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function nB(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function bLe(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function SLe(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ELe(e,t,n){var r=ii.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function xLe(e,t,n){var r=ii.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function PLe(e,t,n){var r=uLe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ILe(e,t,n){var r=ii.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function OLe(e,t,n){var r=ii.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function rB(e,t){return fn(e.getDate(),t,2)}function TLe(e,t){return fn(e.getHours(),t,2)}function CLe(e,t){return fn(e.getHours()%12||12,t,2)}function $Le(e,t){return fn(1+s0.count(du(e),e),t,3)}function YX(e,t){return fn(e.getMilliseconds(),t,3)}function kLe(e,t){return YX(e,t)+"000"}function ALe(e,t){return fn(e.getMonth()+1,t,2)}function RLe(e,t){return fn(e.getMinutes(),t,2)}function NLe(e,t){return fn(e.getSeconds(),t,2)}function DLe(e){var t=e.getDay();return t===0?7:t}function MLe(e,t){return fn(Bx.count(du(e)-1,e),t,2)}function QX(e){var t=e.getDay();return t>=4||t===0?kp(e):kp.ceil(e)}function LLe(e,t){return e=QX(e),fn(kp.count(du(e),e)+(du(e).getDay()===4),t,2)}function jLe(e){return e.getDay()}function FLe(e,t){return fn(OS.count(du(e)-1,e),t,2)}function VLe(e,t){return fn(e.getFullYear()%100,t,2)}function BLe(e,t){return e=QX(e),fn(e.getFullYear()%100,t,2)}function zLe(e,t){return fn(e.getFullYear()%1e4,t,4)}function ULe(e,t){var n=e.getDay();return e=n>=4||n===0?kp(e):kp.ceil(e),fn(e.getFullYear()%1e4,t,4)}function HLe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fn(t/60|0,"0",2)+fn(t%60,"0",2)}function iB(e,t){return fn(e.getUTCDate(),t,2)}function WLe(e,t){return fn(e.getUTCHours(),t,2)}function qLe(e,t){return fn(e.getUTCHours()%12||12,t,2)}function GLe(e,t){return fn(1+p2.count(yd(e),e),t,3)}function XX(e,t){return fn(e.getUTCMilliseconds(),t,3)}function KLe(e,t){return XX(e,t)+"000"}function YLe(e,t){return fn(e.getUTCMonth()+1,t,2)}function QLe(e,t){return fn(e.getUTCMinutes(),t,2)}function XLe(e,t){return fn(e.getUTCSeconds(),t,2)}function JLe(e){var t=e.getUTCDay();return t===0?7:t}function ZLe(e,t){return fn(KX.count(yd(e)-1,e),t,2)}function JX(e){var t=e.getUTCDay();return t>=4||t===0?Ap(e):Ap.ceil(e)}function eje(e,t){return e=JX(e),fn(Ap.count(yd(e),e)+(yd(e).getUTCDay()===4),t,2)}function tje(e){return e.getUTCDay()}function nje(e,t){return fn(TS.count(yd(e)-1,e),t,2)}function rje(e,t){return fn(e.getUTCFullYear()%100,t,2)}function ije(e,t){return e=JX(e),fn(e.getUTCFullYear()%100,t,2)}function oje(e,t){return fn(e.getUTCFullYear()%1e4,t,4)}function sje(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ap(e):Ap.ceil(e),fn(e.getUTCFullYear()%1e4,t,4)}function aje(){return"+0000"}function oB(){return"%"}function sB(e){return+e}function aB(e){return Math.floor(+e/1e3)}var ih,ZX,eJ;lje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lje(e){return ih=lLe(e),ZX=ih.format,ih.parse,eJ=ih.utcFormat,ih.utcParse,ih}function uje(e){return new Date(e)}function cje(e){return e instanceof Date?+e:+new Date(+e)}function tJ(e,t,n,r,i,o,s,a,l,u){var c=GX(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),y=u("%I %p"),m=u("%a %d"),v=u("%b %d"),_=u("%B"),b=u("%Y");function E(w){return(l(w)<w?h:a(w)<w?p:s(w)<w?g:o(w)<w?y:r(w)<w?i(w)<w?m:v:n(w)<w?_:b)(w)}return c.invert=function(w){return new Date(f(w))},c.domain=function(w){return arguments.length?d(Array.from(w,cje)):d().map(uje)},c.ticks=function(w){var x=d();return e(x[0],x[x.length-1],w??10)},c.tickFormat=function(w,x){return x==null?E:u(x)},c.nice=function(w){var x=d();return(!w||typeof w.range!="function")&&(w=t(x[0],x[x.length-1],w??10)),w?d(qMe(x,w)):c},c.copy=function(){return qX(c,tJ(e,t,n,r,i,o,s,a,l,u))},c}function fje(){return Fx.apply(tJ(sLe,aLe,du,m2,Bx,s0,h2,d2,kh,ZX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dje(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const nJ=dje("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Fr(e){return function(){return e}}const lB=Math.abs,$i=Math.atan2,gf=Math.cos,hje=Math.max,VO=Math.min,xa=Math.sin,Ah=Math.sqrt,uo=1e-12,Jy=Math.PI,CS=Jy/2,Cw=2*Jy;function pje(e){return e>1?0:e<-1?Jy:Math.acos(e)}function uB(e){return e>=1?CS:e<=-1?-CS:Math.asin(e)}function mje(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new DDe(t)}function gje(e){return e.innerRadius}function yje(e){return e.outerRadius}function vje(e){return e.startAngle}function _je(e){return e.endAngle}function wje(e){return e&&e.padAngle}function bje(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,f=a-o,d=f*l-c*u;if(!(d*d<uo))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function $_(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/Ah(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,y=(d+p)/2,m=(h+g)/2,v=p-d,_=g-h,b=v*v+_*_,E=i-o,w=d*g-p*h,x=(_<0?-1:1)*Ah(hje(0,E*E*b-w*w)),I=(w*_-v*x)/b,D=(-w*v-_*x)/b,R=(w*_+v*x)/b,N=(-w*v+_*x)/b,z=I-y,U=D-m,B=R-y,ae=N-m;return z*z+U*U>B*B+ae*ae&&(I=R,D=N),{cx:I,cy:D,x01:-c,y01:-f,x11:I*(i/E-1),y11:D*(i/E-1)}}function cB(){var e=gje,t=yje,n=Fr(0),r=null,i=vje,o=_je,s=wje,a=null,l=mje(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-CS,g=o.apply(this,arguments)-CS,y=lB(g-p),m=g>p;if(a||(a=c=l()),h<d&&(f=h,h=d,d=f),!(h>uo))a.moveTo(0,0);else if(y>Cw-uo)a.moveTo(h*gf(p),h*xa(p)),a.arc(0,0,h,p,g,!m),d>uo&&(a.moveTo(d*gf(g),d*xa(g)),a.arc(0,0,d,g,p,m));else{var v=p,_=g,b=p,E=g,w=y,x=y,I=s.apply(this,arguments)/2,D=I>uo&&(r?+r.apply(this,arguments):Ah(d*d+h*h)),R=VO(lB(h-d)/2,+n.apply(this,arguments)),N=R,z=R,U,B;if(D>uo){var ae=uB(D/d*xa(I)),re=uB(D/h*xa(I));(w-=ae*2)>uo?(ae*=m?1:-1,b+=ae,E-=ae):(w=0,b=E=(p+g)/2),(x-=re*2)>uo?(re*=m?1:-1,v+=re,_-=re):(x=0,v=_=(p+g)/2)}var ue=h*gf(v),Q=h*xa(v),ee=d*gf(E),W=d*xa(E);if(R>uo){var P=h*gf(_),O=h*xa(_),F=d*gf(b),$=d*xa(b),C;if(y<Jy)if(C=bje(ue,Q,F,$,P,O,ee,W)){var H=ue-C[0],te=Q-C[1],ie=P-C[0],le=O-C[1],se=1/xa(pje((H*ie+te*le)/(Ah(H*H+te*te)*Ah(ie*ie+le*le)))/2),ye=Ah(C[0]*C[0]+C[1]*C[1]);N=VO(R,(d-ye)/(se-1)),z=VO(R,(h-ye)/(se+1))}else N=z=0}x>uo?z>uo?(U=$_(F,$,ue,Q,h,z,m),B=$_(P,O,ee,W,h,z,m),a.moveTo(U.cx+U.x01,U.cy+U.y01),z<R?a.arc(U.cx,U.cy,z,$i(U.y01,U.x01),$i(B.y01,B.x01),!m):(a.arc(U.cx,U.cy,z,$i(U.y01,U.x01),$i(U.y11,U.x11),!m),a.arc(0,0,h,$i(U.cy+U.y11,U.cx+U.x11),$i(B.cy+B.y11,B.cx+B.x11),!m),a.arc(B.cx,B.cy,z,$i(B.y11,B.x11),$i(B.y01,B.x01),!m))):(a.moveTo(ue,Q),a.arc(0,0,h,v,_,!m)):a.moveTo(ue,Q),!(d>uo)||!(w>uo)?a.lineTo(ee,W):N>uo?(U=$_(ee,W,P,O,d,-N,m),B=$_(ue,Q,F,$,d,-N,m),a.lineTo(U.cx+U.x01,U.cy+U.y01),N<R?a.arc(U.cx,U.cy,N,$i(U.y01,U.x01),$i(B.y01,B.x01),!m):(a.arc(U.cx,U.cy,N,$i(U.y01,U.x01),$i(U.y11,U.x11),!m),a.arc(0,0,d,$i(U.cy+U.y11,U.cx+U.x11),$i(B.cy+B.y11,B.cx+B.x11),m),a.arc(B.cx,B.cy,N,$i(B.y11,B.x11),$i(B.y01,B.x01),!m))):a.arc(0,0,d,E,b,m)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Jy/2;return[gf(f)*c,xa(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Fr(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Fr(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Fr(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Fr(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Fr(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Fr(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Fr(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function rJ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sje(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Eje(e){return e}function xje(){var e=Eje,t=Sje,n=null,r=Fr(0),i=Fr(Cw),o=Fr(0);function s(a){var l,u=(a=rJ(a)).length,c,f,d=0,h=new Array(u),p=new Array(u),g=+r.apply(this,arguments),y=Math.min(Cw,Math.max(-Cw,i.apply(this,arguments)-g)),m,v=Math.min(Math.abs(y)/u,o.apply(this,arguments)),_=v*(y<0?-1:1),b;for(l=0;l<u;++l)(b=p[h[l]=l]=+e(a[l],l,a))>0&&(d+=b);for(t!=null?h.sort(function(E,w){return t(p[E],p[w])}):n!=null&&h.sort(function(E,w){return n(a[E],a[w])}),l=0,f=d?(y-u*_)/d:0;l<u;++l,g=m)c=h[l],b=p[c],m=g+(b>0?b*f:0)+_,p[c]={data:a[c],index:l,value:b,startAngle:g,endAngle:m,padAngle:v};return p}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:Fr(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,n=null,s):t},s.sort=function(a){return arguments.length?(n=a,t=null,s):n},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Fr(+a),s):r},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Fr(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:Fr(+a),s):o},s}function fB(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function dB(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Pje(e,t){return e[t]}function Ije(e){const t=[];return t.key=e,t}function Oje(){var e=Fr([]),t=dB,n=fB,r=Pje;function i(o){var s=Array.from(e.apply(this,arguments),Ije),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=rJ(t(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Fr(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Fr(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?dB:typeof o=="function"?o:Fr(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??fB,i):n},i}function $g(e,t,n){this.k=e,this.x=t,this.y=n}$g.prototype={constructor:$g,scale:function(e){return e===1?this:new $g(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $g(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$g.prototype;function g2({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:o=!1,showLines:s=!0,compact:a=!1}){const l=S.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),u=S.useCallback(c=>(o?eJ("%B"):jx(".2s"))(c),[o]);return T.jsxs(T.Fragment,{children:[T.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:T.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:T.jsx(fd,{children:T.jsx(es,{spacing:3,children:T.jsx(Et,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),T.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?T.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:f})=>T.jsxs("g",{transform:`translate(${f}, ${n})`,children:[T.jsx("line",{y2:"6",stroke:"currentColor"}),s?T.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,T.jsx("foreignObject",{x:0-l/2,y:10,width:l,height:20,children:T.jsx(fd,{children:T.jsx(gY,{withinPortal:!0,label:c,children:T.jsx(Et,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:u(o?new Date(c):c)})})})})]},c))]})}const Tje=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:g2},Symbol.toStringTag,{value:"Module"}));function iJ({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:o,compact:s=!1}){const a=S.useMemo(()=>{const l=i.reduce((u,{value:c})=>{const{length:f}=`${c}`;return f>u?f:u},0);return l>10?60:l*6},[i]);return T.jsxs(T.Fragment,{children:[T.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:T.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:T.jsx(fd,{children:T.jsx(es,{spacing:3,children:T.jsx(Et,{size:s?10:14,style:{color:"#878E95"},children:r})})})})}),T.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?T.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:l,offset:u})=>T.jsxs("g",{transform:`translate(${n}, ${u})`,children:[T.jsx("line",{x2:"-6",stroke:"currentColor"}),o?T.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,T.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:T.jsx("foreignObject",{width:a,height:20,children:T.jsx(es,{style:{width:"100%",height:"100%"},position:"right",children:T.jsx(Et,{sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:l})})})},l)]},l))]})}const Cje=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:iJ},Symbol.toStringTag,{value:"Module"})),ds={top:15,left:100,right:50,bottom:50};function U$({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:o}]=Qg(),s=S.useMemo(()=>o-ds.left-ds.right,[o]),a=S.useMemo(()=>i-ds.top-ds.bottom,[i]),l=S.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return Vx(nJ).domain(d)},[n,t.category]),u=S.useMemo(()=>e?Lc([ds.left,s+ds.left]).domain([0,QAe(e.objects().map(d=>d.count))]).nice():null,[e,s]),c=S.useMemo(()=>e?o0([ds.top,a+ds.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=S.useMemo(()=>!u||!c||!l||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:T.jsxs("g",{children:[T.jsx("rect",{x:ds.left,y:c(d[t.category]),fill:l(d[t.category]),height:c.bandwidth(),width:u(d.count)-ds.left},h),T.jsx("text",{x:u(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]})),[e,l,t.category,u,c]);return c&&u?T.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[T.jsx(g2,{xScale:u,yRange:c.range(),vertPosition:a+ds.top,showLines:!1,label:"Count",ticks:u.ticks(5).map(d=>({value:d.toString(),offset:u(d)}))}),c?T.jsx(iJ,{yScale:c,horizontalPosition:ds.left,xRange:u.range(),label:t.category,ticks:l.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):T.jsx(Rd,{})}const $je=Object.freeze(Object.defineProperty({__proto__:null,Bar:U$,default:U$},Symbol.toStringTag,{value:"Module"}));function oJ({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=S.useMemo(()=>e.ticks(5).map(s=>({value:s,yOffset:e(s)})),[e]),o=S.useMemo(()=>jx(".2s"),[]);return T.jsxs(T.Fragment,{children:[T.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:T.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:T.jsx(fd,{children:T.jsx(es,{spacing:3,children:T.jsx(Et,{size:14,style:{color:"#878E95"},children:r})})})})}),T.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),T.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:s,yOffset:a})=>T.jsxs("g",{transform:`translate(${n}, ${a})`,children:[T.jsx("line",{x2:"-6",stroke:"currentColor"}),T.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${s===0?"black":"lightgray"}`}),T.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:o(s)},s)]},s))]})}const kje=Object.freeze(Object.defineProperty({__proto__:null,YAxis:oJ},Symbol.toStringTag,{value:"Module"})),BO=15;function sJ({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:o,isSelect:s=!0}){const[a,l]=S.useState([0,0]),[u,c]=S.useState(!1);return S.useEffect(()=>{const f=Cr("#scatterSvgBrushStudy");if(f){const d=f.node().getBoundingClientRect();f.on("mousemove",h=>{const p=[h.clientX-d.x,h.clientY-d.y];if(l(p),u){const g=i.filter(y=>Math.abs(e(y[r.x])-p[0])<BO&&Math.abs(t(y[r.y])-p[1])<BO);if(h.ctrlKey||h.metaKey||!s){const y=new Set(o.ids);g.forEach(v=>{y.has(v[r.ids])&&y.delete(v[r.ids])});const m=Array.from(y);n([[a[0],a[1]],[a[0],a[1]]],e,t,m.length===0?"clear":"drag",m)}else{const y=Array.from(new Set([...o.ids,...g.map(m=>m[r.ids])]));y.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",y)}}}),f.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),f.on("mouseup",()=>{c(!1)})}},[o.ids,i,u,s,r,e,t]),T.jsx("circle",{style:{cursor:u?"pointer":"default"},r:BO,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const Aje=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:sJ},Symbol.toStringTag,{value:"Module"})),Yn={top:15,left:100,right:15,bottom:70};function H$({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:o,brushedPoints:s}){const[a,{height:l,width:u}]=Qg(),[c]=Qg(),[f]=Qg(),[d,h]=S.useState(!0),p=S.useMemo(()=>u-Yn.left-Yn.right,[u]),g=S.useMemo(()=>l-Yn.top-Yn.bottom,[l]),y=S.useMemo(()=>{const R=Array.from(new Set(o.map(N=>N[i.category])));return Vx(nJ).domain(R)},[o,i.category]),{xMin:m,yMin:v,xMax:_,yMax:b}=S.useMemo(()=>{const R=o.map(re=>+re[i.x]).filter(re=>re!==null),[N,z]=d5(R),U=o.map(re=>+re[i.y]).filter(re=>re!==null),[B,ae]=d5(U);return{xMin:N,xMax:z,yMin:B,yMax:ae}},[o,i.x,i.y]),E=S.useMemo(()=>{const R=_-m;return p<=0?null:i.dataType==="date"?fje([Yn.left,p+Yn.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):Lc([Yn.left,p+Yn.left]).domain([m-R/10,_+R/10]).nice()},[i.dataType,p,_,m]),w=S.useMemo(()=>{const R=b-v;return g<=0?null:Lc([g+Yn.top,Yn.top]).domain([v-R/10,b+R/10]).nice()},[g,b,v]),x=S.useMemo(()=>{if(!(!E||!w))if(r==="Axis Selection"){const R=$De().extent([[Yn.left,Yn.top+g-5],[Yn.left+p,Yn.top+g+5]]).on("brush end",z=>{z.sourceEvent!==void 0&&n([[z.selection[0],null],[z.selection[1],null]],E,w,z.mode)}),N=kDe().extent([[Yn.left-5,Yn.top],[Yn.left+5,Yn.top+g]]).on("brush end",z=>{z.sourceEvent!==void 0&&n([[null,z.selection[0]],[null,z.selection[1]]],E,w,z.mode)});return c.current&&f.current&&(Cr(f.current).call(N),Cr(c.current).call(R),t.hasBrush||(Cr(f.current).call(N.move,[w(b),w(v)]),Cr(c.current).call(R.move,[E(new Date("2015-01-02")),E(new Date("2015-12-31"))]),n([[E(new Date("2015-01-02")),w(b)],[E(new Date("2015-12-31")),w(v)]],E,w,"drag"))),()=>{Cr(f.current).call(N.move,[w(b),w(v)]),Cr(c.current).call(R.move,[E(new Date("2015-01-02")),E(new Date("2015-12-31"))]),n([[E(new Date("2015-01-02")),w(b)],[E(new Date("2015-12-31")),w(v)]],E,w,"clear")}}else if(r==="Rectangular Selection"){const R=ADe().extent([[Yn.left,Yn.top],[Yn.left+p,Yn.top+g]]).on("brush",N=>{N.sourceEvent!==void 0&&n([[N.selection[0][0],N.selection[0][1]],[N.selection[1][0],N.selection[1][1]]],E,w,N.mode)}).on("end",N=>{N.selection===null&&N.sourceEvent!==void 0&&(Cr(a.current).call(R.move,null),e(null))});return Cr(a.current).call(R),()=>{Cr(a.current).call(R.move,null),n([[null,null],[null,null]],E,w,"clear")}}else{if(r==="Slider Selection")return()=>n([[E(m),w(b)],[E(_),w(v)]],E,w,"clear");if(r==="Paintbrush Selection")return()=>n([[E(m),w(b)],[E(_),w(v)]],E,w,"clear",[])}},[t,r,c,f,g,a,n,p,_,m,E,b,v,w]);S.useEffect(()=>{r==="Slider Selection"&&E&&w&&n([[E(m),w(b)],[E(_),w(v)]],E,w,null)},[r,_,m,E,b,v,w]);const I=S.useMemo(()=>s.length===0?null:new Set(s),[s]),D=S.useMemo(()=>!E||!w?null:o.map((R,N)=>{if(R[i.x]===null||R[i.y]===null)return null;const z=i.dataType==="date"?E(new Date(R[i.x])):E(R[i.x]);return T.jsx("circle",{opacity:I?I.has(R[i.ids])?1:.3:1,r:3,fill:I?I.has(R[i.ids])?y(R[i.category]):"lightgray":y(R[i.category]),cx:z,cy:w(R[i.y])},N)}),[I,y,o,i.category,i.ids,i.x,i.y,E,w]);return S.useEffect(()=>{r==="Axis Selection"&&RNe(".handle").style("fill","darkgrey")},[t,r]),T.jsxs(Ts,{children:[T.jsxs(es,{children:[T.jsx(fa,{ml:60,compact:!0,style:{width:"130px"},disabled:s.length===0,onClick:()=>{e(null),x==null||x()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?T.jsx(CY,{defaultChecked:!0,value:d?"Select":"De-Select",onChange:R=>h(R==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:s.length===0}]}):null]}),T.jsxs(es,{style:{width:"100%",height:"100%"},noWrap:!0,children:[T.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[E&&w?T.jsxs("g",{children:[T.jsx(oJ,{yScale:w,label:i.y,horizontalPosition:Yn.left,xRange:E.range()}),T.jsx(g2,{xScale:E,yRange:w.range(),isDate:i.dataType==="date",vertPosition:g+Yn.top,label:i.x,ticks:E.ticks(i.brushType==="Axis Selection"?12:5).map(R=>({value:R.toString(),offset:E(R)}))})]}):null,D,T.jsx("g",{id:"brushXRef",ref:c}),T.jsx("g",{id:"brushYRef",ref:f}),E&&w&&r==="Paintbrush Selection"?T.jsx(sJ,{brushState:t,setBrushedSpace:n,params:i,data:o,isSelect:d,xScale:E,yScale:w}):null]}),r==="Slider Selection"&&E&&w?T.jsxs(Ts,{style:{flexGrow:1},spacing:50,children:[T.jsxs(Ts,{spacing:0,children:[T.jsx(Et,{children:i.x}),T.jsx(o$,{minRange:1,label:null,min:E.domain()[0],max:E.domain()[1],labelAlwaysOn:!1,onChange:R=>{n([[E(R[0]),t.y1],[E(R[1]),t.y2]],E,w,"drag")},style:{width:"300px"},marks:E.ticks(5).map(R=>({value:R,label:R})),value:[E.invert(t.x1),E.invert(t.x2)]})]}),T.jsxs(Ts,{spacing:0,children:[T.jsx(Et,{children:i.y}),T.jsx(o$,{minRange:1,label:null,min:w.domain()[0],max:w.domain()[1],onChange:R=>{n([[t.x1,w(R[1])],[t.x2,w(R[0])]],E,w,"drag")},style:{width:"300px"},marks:w.ticks(5).map(R=>({value:R,label:R})),value:[w.invert(t.y2),w.invert(t.y1)]})]})]}):null]})]})}const Rje=Object.freeze(Object.defineProperty({__proto__:null,Scatter:H$,default:H$},Symbol.toStringTag,{value:"Module"})),un=Array.isArray;function ko(e){return e!=null?un(e)?e:[e]:[]}function Nje(e=0,t=1/0){return`${hB(e)} < row_number() && row_number() <= ${hB(t)}`}function hB(e){return e<0?`count() + ${e}`:e}class aJ{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(Nje(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,ko(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const o={...i,left:!0,right:!1};return this.__join(this,t,n,r,o)}join_right(t,n,r,i){const o={...i,left:!1,right:!0};return this.__join(this,t,n,r,o)}join_full(t,n,r,i){const o={...i,left:!0,right:!0};return this.__join(this,t,n,r,o)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function At(e){throw Error(e)}function eo(e){return typeof e=="number"}function Hn(e){return typeof e=="function"}function zx(e,t){const n=Array(e);if(Hn(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let Dje=class extends aJ{constructor(t,n,r,i,o,s,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=o||null,this._order=s||null}create(t){At("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){At("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){At("Not implemented")}getter(t){At("Not implemented")}objects(t){At("Not implemented")}object(t){At("Not implemented")}[Symbol.iterator](){At("Not implemented")}print(t={}){eo(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),o=this.mask();let s=-1;if(o)for(let a=o.next(0);a>=0;a=o.next(a+1))r[++s]=a;else for(let a=0;a<n;++a)r[++s]=a;if(t&&i){const a=this._order,l=this._data;r.sort((u,c)=>a(u,c,l))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=zx(r,()=>[]),o=this._index,s=this.mask(),a=this.numRows();if(o&&this.isOrdered())for(let l=0,u;l<a;++l)u=o[l],i[n[u]].push(u);else if(s)for(let l=s.next(0);l>=0;l=s.next(l+1))i[n[l]].push(l);else for(let l=0;l<a;++l)i[n[l]].push(l);if(t&&!o&&this.isOrdered()){const l=this._order,u=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>l(f,d,u))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const o=this._mask,s=this._nrows,a=this._data;let l=i||0;if(l>s)return;const u=Math.min(s,l+r),c=()=>l=this._total;if(n&&this.isOrdered()||o&&this._index){const f=this.indices(),d=this._data;for(;l<u;++l)t(f[l],d,c)}else if(o){let f=u-l+1;for(l=o.nth(l);--f&&l>-1;l=o.next(l+1))t(l,a,c)}else for(;l<u;++l)t(l,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(o=>r.push(o),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},Mje=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},Lje=function(e){return e&&Hn(e.get)?e:new Mje(e)};function hu(e){return e instanceof Date}function Bi(e){return e===Object(e)}function $S(e){return e instanceof RegExp}function Ei(e){return typeof e=="string"}function jje(e,t){const n=r=>At(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?pB(e.entries(),t):hu(e)?n("Date"):$S(e)?n("RegExp"):Ei(e)?n():un(e)?Fje(e,t):Hn(e[Symbol.iterator])?Vje(e,t):Bi(e)?pB(Object.entries(e),t):n()}function pB(e,t=["key","value"]){const n=[],r=[];for(const[o,s]of e)n.push(o),r.push(s);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function Fje(e,t){const n=e.length,r={},i=o=>r[o]=Array(n);if(n){t=t||Object.keys(e[0]);const o=t.map(i),s=o.length;for(let a=0;a<n;++a){const l=e[a];for(let u=0;u<s;++u)o[u][a]=l[t[u]]}}else t&&t.forEach(i);return r}function Vje(e,t){const n={},r=s=>n[s]=[];let i,o;for(const s of e){i||(t=t||Object.keys(s),i=t.map(r),o=i.length);for(let a=0;a<o;++a)i[a].push(s[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:Bje}=Object.prototype;function ya(e,t){return Bje.call(e,t)}function cs(e){return e?new mB({...e.data()},e.columnNames()):new mB}class mB{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return ya(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const rn=void 0,zje=Object.getPrototypeOf(Int8Array);function a0(e){return e instanceof zje}function jf(e){return un(e)||a0(e)}function aa(e){return e!=null&&e===e}const lg=e=>jf(e)||Ei(e),Uje={compact:e=>jf(e)?e.filter(t=>aa(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>lg(e)?e.includes(t,n):!1,indexof:(e,t)=>lg(e)?e.indexOf(t):-1,join:(e,t)=>jf(e)?e.join(t):rn,lastindexof:(e,t)=>lg(e)?e.lastIndexOf(t):-1,length:e=>lg(e)?e.length:0,pluck:(e,t)=>jf(e)?e.map(n=>aa(n)?n[t]:rn):rn,reverse:e=>jf(e)?e.slice().reverse():Ei(e)?e.split("").reverse().join(""):rn,slice:(e,t,n)=>lg(e)?e.slice(t,n):rn};function Hje(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function $w(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const Pa=e=>(e<10?"0":"")+e,Wje=e=>e<0?"-"+$w(-e,6):e>9999?"+"+$w(e,6):$w(e,4);function lJ(e,t,n,r,i,o,s,a,l){const u=a?"Z":"";return Wje(e)+"-"+Pa(t+1)+"-"+Pa(n)+(!l||s?"T"+Pa(r)+":"+Pa(i)+":"+Pa(o)+"."+$w(s,3)+u:o?"T"+Pa(r)+":"+Pa(i)+":"+Pa(o)+u:i||r||!a?"T"+Pa(r)+":"+Pa(i)+u:"")}function uJ(e,t){return isNaN(e)?"Invalid Date":lJ(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function Ux(e,t){return isNaN(e)?"Invalid Date":lJ(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const qje=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function Gje(e){return e.match(qje)}function Kje(e,t=Date.parse){return Gje(e)?t(e):e}const cJ=6e4,fJ=864e5,dJ=6048e5,mr=new Date,gr=new Date,Sr=e=>(mr.setTime(typeof e=="string"?Kje(e):e),mr);function Yje(e,t,n,r,i,o,s){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,o||0,s||0):new Date(Date.now())}function Qje(e,t,n,r,i,o,s){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,o||0,s||0)):new Date(Date.now())}function Xje(e){gr.setTime(+e),gr.setHours(0,0,0,0),mr.setTime(+gr),mr.setMonth(0),mr.setDate(1);const t=(gr.getTimezoneOffset()-mr.getTimezoneOffset())*cJ;return Math.floor(1+(gr-mr-t)/fJ)}function Jje(e){gr.setTime(+e),gr.setUTCHours(0,0,0,0);const t=Date.UTC(gr.getUTCFullYear(),0,1);return Math.floor(1+(gr-t)/fJ)}function Zje(e,t){const n=t||0;gr.setTime(+e),gr.setDate(gr.getDate()-(gr.getDay()+7-n)%7),gr.setHours(0,0,0,0),mr.setTime(+e),mr.setMonth(0),mr.setDate(1),mr.setDate(1-(mr.getDay()+7-n)%7),mr.setHours(0,0,0,0);const r=(gr.getTimezoneOffset()-mr.getTimezoneOffset())*cJ;return Math.floor((1+(gr-mr)-r)/dJ)}function eFe(e,t){const n=t||0;return gr.setTime(+e),gr.setUTCDate(gr.getUTCDate()-(gr.getUTCDay()+7-n)%7),gr.setUTCHours(0,0,0,0),mr.setTime(+e),mr.setUTCMonth(0),mr.setUTCDate(1),mr.setUTCDate(1-(mr.getUTCDay()+7-n)%7),mr.setUTCHours(0,0,0,0),Math.floor((1+(gr-mr))/dJ)}const tFe={format_date:(e,t)=>uJ(Sr(e),!t),format_utcdate:(e,t)=>Ux(Sr(e),!t),timestamp:e=>+Sr(e),year:e=>Sr(e).getFullYear(),quarter:e=>Math.floor(Sr(e).getMonth()/3),month:e=>Sr(e).getMonth(),date:e=>Sr(e).getDate(),dayofweek:e=>Sr(e).getDay(),hours:e=>Sr(e).getHours(),minutes:e=>Sr(e).getMinutes(),seconds:e=>Sr(e).getSeconds(),milliseconds:e=>Sr(e).getMilliseconds(),utcyear:e=>Sr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Sr(e).getUTCMonth()/3),utcmonth:e=>Sr(e).getUTCMonth(),utcdate:e=>Sr(e).getUTCDate(),utcdayofweek:e=>Sr(e).getUTCDay(),utchours:e=>Sr(e).getUTCHours(),utcminutes:e=>Sr(e).getUTCMinutes(),utcseconds:e=>Sr(e).getUTCSeconds(),utcmilliseconds:e=>Sr(e).getUTCMilliseconds(),datetime:Yje,dayofyear:Xje,week:Zje,utcdatetime:Qje,utcdayofyear:Jje,utcweek:eFe,now:Date.now};function y2(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:hu(e)||hu(t)?+e==+t:$S(e)&&$S(t)?e+""==t+"":Bi(e)&&Bi(t)?nFe(e,t):!1}function nFe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return gB(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!gB(n,r,(o,s)=>o===s)))return!1;const i=n.length;for(let o=0;o<i;++o){const s=n[o];if(!y2(e[s],t[s]))return!1}return!0}function gB(e,t,n=y2){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const rFe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let iFe=Math.random;function pm(){return iFe()}const oFe={random:pm,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function v2(e){return e instanceof Map}function sFe(e){return e instanceof Set}function kw(e){return v2(e)||sFe(e)}function zO(e){return Array.from(e)}const aFe={has:(e,t)=>kw(e)?e.has(t):e!=null?ya(e,t):!1,keys:e=>v2(e)?zO(e.keys()):e!=null?Object.keys(e):[],values:e=>kw(e)?zO(e.values()):e!=null?Object.values(e):[],entries:e=>kw(e)?zO(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):rn};function lFe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(ya(t,e))return t[e];return n!==void 0?n:e}function uFe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let o=0;o<r;++o)i[o]=e+o*n;return i}const cFe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},Rh={bin:Hje,equal:y2,recode:lFe,sequence:uFe,...Uje,...tFe,...rFe,...oFe,...aFe,...cFe};function Zy(e){return typeof e=="bigint"}function ul(e){return e===void 0?e+"":Zy(e)?e+"n":JSON.stringify(e)}function Ct(e,t=[],n=[]){return new fFe(e,ko(t),ko(n))}let fFe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${ul(n)}]`),...this.params.map(ul)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const hJ=e=>Ct("any",e),pJ=()=>Ct("count"),mJ=e=>Ct("array_agg",e),gJ=e=>Ct("array_agg_distinct",e),yJ=(e,t)=>Ct("map_agg",[e,t]),vJ=(e,t)=>Ct("object_agg",[e,t]),_J=(e,t)=>Ct("entries_agg",[e,t]);({...Rh});function dFe(e,t){e=kw(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function hFe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,o=new Int32Array(i);t.scan(c=>o[n[c]]=1);const s=o.reduce((c,f)=>c+f,0);if(s===i)return e;const a=Array(s);let l=0;for(let c=0;c<i;++c)o[c]&&(a[o[c]=l++]=r[c]);const u=new Uint32Array(n.length);return t.scan(c=>u[c]=o[n[c]]),{...e,keys:u,rows:a,size:l}}function pFe(e,t,n,r){const{keys:i,rows:o,size:s}=e;let a=o,l=s,u=null;if(n){u=new Int32Array(s),t(p=>u[i[p]]=1);const h=u.reduce((p,g)=>p+g,0);if(h!==s){a=Array(h),l=0;for(let p=0;p<s;++p)u[p]&&(a[u[p]=l++]=o[p])}}let c=-1;const f=new Uint32Array(r);return t(l!==s?h=>f[++c]=u[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:l}}function mFe(e,t,n,r){const i=r==="map"||r===!0?yJ:r==="entries"?_J:r==="object"?vJ:At('groups option must be "map", "entries", or "object".'),{names:o}=e.groups(),s=dFe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[s]:n}}).rollup({[s]:mJ(s)});for(let l=o.length;--l>=0;)a=a.groupby(o.slice(0,l)).rollup({[s]:i(o[l],s)});return a.get(s)}const gFe="ArrayPattern",yFe="ArrowFunctionExpression",vFe="FunctionExpression",Ic="Identifier",mm="Literal",wJ="MemberExpression",_Fe="ObjectExpression",bJ="ObjectPattern",SJ="Property",l0="Column",wFe="Constant",bFe="Dictionary",SFe="Function",EFe="Parameter",EJ="Op",Dn=(e,t)=>{const n=xFe[e.type];return n?n(e,t):At(`Unsupported expression construct: ${e.type}`)},UO=(e,t)=>"("+Dn(e.left,t)+" "+e.operator+" "+Dn(e.right,t)+")",HO=(e,t)=>"("+Ta(e.params,t)+")=>"+Dn(e.body,t),yB=(e,t)=>Dn(e.callee,t)+"("+Ta(e.arguments,t)+")",Ta=(e,t,n=",")=>e.map(r=>Dn(r,t)).join(n),xJ=e=>e.computed?`[${ul(e.name)}]`:`.${e.name}`,vB=(e,t,n)=>{const r=e.table||"";return`data${r}${xJ(e)}.${n}(${t.index}${r})`},xFe={Constant:e=>e.raw,Column:(e,t)=>vB(e,t,"get"),Dictionary:(e,t)=>vB(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${xJ(e)}`,Op:(e,t)=>`op(${ul(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let o=n[0].value.raw;for(let s=0;s<i;)o+="${"+Dn(r[s],t)+"}"+n[++s].value.raw;return"`"+o+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Dn(e.object,t),i=Dn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:yB,NewExpression:(e,t)=>"new "+yB(e,t),ArrayExpression:(e,t)=>"["+Ta(e.elements,t)+"]",AssignmentExpression:UO,BinaryExpression:UO,LogicalExpression:UO,UnaryExpression:(e,t)=>"("+e.operator+Dn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Dn(e.test,t)+"?"+Dn(e.consequent,t)+":"+Dn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Ta(e.properties,t)+"})",Property:(e,t)=>{const n=Dn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Dn(e.value,t)},ArrowFunctionExpression:HO,FunctionExpression:HO,FunctionDeclaration:HO,ArrayPattern:(e,t)=>"["+Ta(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Ta(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Ta(e.declarations,t,","),VariableDeclarator:(e,t)=>Dn(e.id,t)+"="+Dn(e.init,t),SpreadElement:(e,t)=>"..."+Dn(e.argument,t),BlockStatement:(e,t)=>"{"+Ta(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Dn(e.expression,t),IfStatement:(e,t)=>"if ("+Dn(e.test,t)+")"+Dn(e.consequent,t)+(e.alternate?" else "+Dn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Dn(e.discriminant,t)+") {"+Ta(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Dn(e.test,t):"default")+": "+Ta(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Dn(e.argument,t),Program:(e,t)=>Dn(e.body[0],t)};function kS(e,t={index:"row"}){return Dn(e,t)}function PFe(e,t,n=15,r=!0,i=0,o){const a=Math.LN10;if(o==null){const l=Math.ceil(Math.log(n)/a),u=t-e||Math.abs(e)||1,c=[5,2];for(o=Math.max(i,Math.pow(10,Math.round(Math.log(u)/a)-l));Math.ceil(u/o)>n;)o*=10;const f=c.length;for(let d=0;d<f;++d){const h=o/c[d];h>=i&&u/h<=n&&(o=h)}}if(r){let l=Math.log(o);const u=l>=0?0:~~(-l/a)+1,c=Math.pow(10,-u-1);l=Math.floor(e/o+c)*o,e=e<l?l-o:l,t=Math.ceil(t/o)*o}return[e,t===e?e+o:t,o]}function Rp(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:hu(e)?+e:un(e)||a0(e)?`[${e.map(Rp)}]`:$S(e)?e+"":IFe(e)}function IFe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${Rp(e[r])}`;return t+="}",t}function AS(e,t){const n=e.length;return n===1?(r,i)=>Rp(e[0](r,i)):(r,i)=>{let o="";for(let s=0;s<n;++s){s>0&&(o+="|");const a=e[s](r,i);if(t&&(a==null||a!==a))return null;o+=Rp(a)}return o}}function OFe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=Rp(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=Rp(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function Al(){}function TFe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Lr(e){return e.init=e.init||Al,e.add=e.add||Al,e.rem=e.rem||Al,e}function _B(e,t){return e.product_v=!1,e.product=t}const PJ={count:{create:()=>Lr({value:e=>e.count}),param:[]},array_agg:{create:()=>Lr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Lr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Lr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Lr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Lr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:rn}),param:[1]},valid:{create:()=>Lr({value:e=>e.valid}),param:[1]},invalid:{create:()=>Lr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=OFe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Lr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Lr({value:e=>{let t=rn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:rn,add:(e,t)=>Zy(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>_B(e,1),value:e=>e.valid?e.product_v?_B(e,TFe(e.list.values())):e.product:void 0,add:(e,t)=>Zy(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:rn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Lr({value:e=>e.valid?e.mean:rn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):rn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Lr({value:e=>e.valid>1?e.dev/e.valid:rn}),param:[1],req:["variance"]},stdev:{create:()=>Lr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):rn}),param:[1],req:["variance"]},stdevp:{create:()=>Lr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):rn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=rn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===rn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=rn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===rn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Lr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Lr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):rn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const o=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*o,e.cov+=r*o},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const o=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*o,e.cov-=r*o}}),param:[2]},covariancep:{create:()=>Lr({value:e=>e.valid>1?e.cov/e.valid:rn}),param:[2],req:["covariance"]},corr:{create:()=>Lr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):rn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Lr({value:i=>PFe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},wB={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},bB={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let o=n;if(e<o){for(;o+1<i&&r(o+1);)++o;e=o}return(1+e)/i}}},param:[]},IJ={row_number:{create(){return{init:Al,value:e=>e.index+1}},param:[]},rank:wB,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=wB.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:bB,ntile:{create(e){e=+e,e>0||At("ntile num must be greater than zero.");const{init:t,value:n}=bB.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=rn){return e=+e||1,{init:Al,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=rn){return e=+e||1,{init:Al,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:Al,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:Al,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||At("nth_value nth must be greater than zero."),{init:Al,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):rn}}},param:[1,1]},fill_down:{create(e=rn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return aa(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=rn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=CFe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function CFe(e,t,n){for(const r=e.size;n<r;++n)if(aa(e.value(n,t)))return n;return-1}function _2(e){return ya(PJ,e)}function w2(e){return ya(IJ,e)}function OJ(e){return ya(Rh,e)||e==="row_object"}function TJ(e){return _2(e)&&PJ[e]}function CJ(e){return w2(e)&&IJ[e]}function ug(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const b2={escape:(e,t,n)=>ug(e,t,n),expr:(e,t)=>ug(`(row,data,op)=>${e}`,Rh,t),expr2:(e,t)=>ug(`(row0,data0,row,data)=>${e}`,Rh,t),join:(e,t)=>ug(`(row1,data1,row2,data2)=>${e}`,Rh,t),param:(e,t)=>ug(e,Rh,t)},$Fe={"==":1,"!=":1,"===":1,"!==":1};function $J(e,t,n=0,r,i){if(e.type=l0,e.name=t,e.table=n,i&&r&&Hn(r.keyFor)){const o=$Fe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;o&&o.type===mm&&kFe(i,e,o,r.keyFor(o.value))}return e}function kFe(e,t,n,r){return r<0?(e.type=mm,e.value=!1,e.raw="false"):(t.type=bFe,n.value=r,n.raw=r+""),!0}function Hx(e){return un(e)?e:v2(e)?e.entries():e?Object.entries(e):[]}const kJ="row_object";function AJ(e,t){e.type=_Fe;const n=e.properties=[];for(const r of Hx(t)){const[i,o]=un(r)?r:[r,r];n.push({type:SJ,key:{type:mm,raw:ul(o)},value:$J({computed:!0},i)})}return e}function RJ(e){return kS(AJ({},e))}function NJ(e){return b2.expr(RJ(e))}function S2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Nl(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function SB(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yt(e){return this instanceof Yt?(this.v=e,this):new Yt(e)}function Ff(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){o.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{l(r[d](h))}catch(p){f(o[0][3],p)}}function l(d){d.value instanceof Yt?Promise.resolve(d.value.v).then(u,c):f(o[0][2],d)}function u(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function WO(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(s){return(n=!n)?{value:Yt(e[i](s)),done:!1}:o?o(s):s}:o}}function ly(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof SB=="function"?SB(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}const AFe=new TextDecoder("utf-8"),W$=e=>AFe.decode(e),RFe=new TextEncoder,E2=e=>RFe.encode(e),[nnt,DJ]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[Fd,rnt]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[Vd,int]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),NFe=e=>typeof e=="boolean",go=e=>typeof e=="function",nf=e=>e!=null&&Object(e)===e,Wx=e=>nf(e)&&go(e.then),x2=e=>nf(e)&&go(e[Symbol.iterator]),qx=e=>nf(e)&&go(e[Symbol.asyncIterator]),DFe=e=>nf(e)&&"done"in e&&"value"in e,MJ=e=>"_getDOMStream"in e&&"_getNodeStream"in e,MFe=e=>nf(e)&&go(e.abort)&&go(e.getWriter)&&!MJ(e),LFe=e=>nf(e)&&go(e.end)&&go(e.write)&&NFe(e.writable)&&!MJ(e),jFe=e=>nf(e)&&go(e.clear)&&go(e.bytes)&&go(e.position)&&go(e.setPosition)&&go(e.capacity)&&go(e.getBufferIdentifier)&&go(e.createLong),P2=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function FFe(e){const t=e[0]?[e[0]]:[];let n,r,i,o;for(let s,a,l=0,u=0,c=e.length;++l<c;){if(s=t[u],a=e[l],!s||!a||s.buffer!==a.buffer||a.byteOffset<s.byteOffset){a&&(t[++u]=a);continue}if({byteOffset:n,byteLength:i}=s,{byteOffset:r,byteLength:o}=a,n+i<r||r+o<n){a&&(t[++u]=a);continue}t[u]=new Uint8Array(s.buffer,n,r-n+o)}return t}function RS(e,t,n=0,r=t.byteLength){const i=e.byteLength,o=new Uint8Array(e.buffer,e.byteOffset,i),s=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return o.set(s,n),e}function cl(e,t){const n=FFe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,o,s,a=0,l=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],o=i.subarray(0,Math.min(i.length,u-a)),u<=a+o.length){o.length<i.length?n[l]=i.subarray(o.length):o.length===i.length&&l++,s?RS(s,o,a):s=o;break}RS(s||(s=new Uint8Array(u)),o,a),a+=o.length}return[s||new Uint8Array(0),n.slice(l),r-(s?s.byteLength:0)]}function di(e,t){let n=DFe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=E2(n)),n instanceof ArrayBuffer?new e(n):n instanceof P2?new e(n):jFe(n)?di(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const cg=e=>di(Int32Array,e),wn=e=>di(Uint8Array,e),q$=e=>(e.next(),e);function*VFe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof P2?n(t):x2(t)?t:n(t);return yield*q$(function*(i){let o=null;do o=i.next(yield di(e,o));while(!o.done)}(r[Symbol.iterator]())),new e}const BFe=e=>VFe(Uint8Array,e);function LJ(e,t){return Ff(this,arguments,function*(){if(Wx(t))return yield Yt(yield Yt(yield*WO(ly(LJ(e,yield Yt(t))))));const r=function(s){return Ff(this,arguments,function*(){yield yield Yt(yield Yt(s))})},i=function(s){return Ff(this,arguments,function*(){yield Yt(yield*WO(ly(q$(function*(a){let l=null;do l=a.next(yield l==null?void 0:l.value);while(!l.done)}(s[Symbol.iterator]())))))})},o=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof P2?r(t):x2(t)?i(t):qx(t)?t:r(t);return yield Yt(yield*WO(ly(q$(function(s){return Ff(this,arguments,function*(){let a=null;do a=yield Yt(s.next(yield yield Yt(di(e,a))));while(!a.done)})}(o[Symbol.asyncIterator]()))))),yield Yt(new e)})}const zFe=e=>LJ(Uint8Array,e);function I2(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function UFe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const EB={fromIterable(e){return k_(HFe(e))},fromAsyncIterable(e){return k_(WFe(e))},fromDOMStream(e){return k_(qFe(e))},fromNodeStream(e){return k_(KFe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},k_=e=>(e.next(),e);function*HFe(e){let t,n=!1,r=[],i,o,s,a=0;function l(){return o==="peek"?cl(r,s)[0]:([i,r,a]=cl(r,s),i)}({cmd:o,size:s}=yield null);const u=BFe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(s-a)?u.next():u.next(s-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||s<=a)do({cmd:o,size:s}=yield l());while(s<a);while(!t)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function WFe(e){return Ff(this,arguments,function*(){let n,r=!1,i=[],o,s,a,l=0;function u(){return s==="peek"?cl(i,a)[0]:([o,i,l]=cl(i,a),o)}({cmd:s,size:a}=yield yield Yt(null));const c=zFe(e)[Symbol.asyncIterator]();try{do if({done:n,value:o}=Number.isNaN(a-l)?yield Yt(c.next()):yield Yt(c.next(a-l)),!n&&o.byteLength>0&&(i.push(o),l+=o.byteLength),n||a<=l)do({cmd:s,size:a}=yield yield Yt(u()));while(a<l);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield Yt(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield Yt(c.return(new Uint8Array(0))))}return yield Yt(null)})}function qFe(e){return Ff(this,arguments,function*(){let n=!1,r=!1,i=[],o,s,a,l=0;function u(){return s==="peek"?cl(i,a)[0]:([o,i,l]=cl(i,a),o)}({cmd:s,size:a}=yield yield Yt(null));const c=new GFe(e);try{do if({done:n,value:o}=Number.isNaN(a-l)?yield Yt(c.read()):yield Yt(c.read(a-l)),!n&&o.byteLength>0&&(i.push(wn(o)),l+=o.byteLength),n||a<=l)do({cmd:s,size:a}=yield yield Yt(u()));while(a<l);while(!n)}catch(f){(r=!0)&&(yield Yt(c.cancel(f)))}finally{r===!1?yield Yt(c.cancel()):e.locked&&c.releaseLock()}return yield Yt(null)})}class GFe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Nl(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Nl(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=wn(n)),n})}}const qO=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function KFe(e){return Ff(this,arguments,function*(){const n=[];let r="error",i=!1,o=null,s,a,l=0,u=[],c;function f(){return s==="peek"?cl(u,a)[0]:([c,u,l]=cl(u,a),c)}if({cmd:s,size:a}=yield yield Yt(null),e.isTTY)return yield yield Yt(new Uint8Array(0)),yield Yt(null);try{n[0]=qO(e,"end"),n[1]=qO(e,"error");do{if(n[2]=qO(e,"readable"),[r,o]=yield Yt(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=wn(e.read(a-l)),c.byteLength<a-l&&(c=wn(e.read()))):c=wn(e.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:s,size:a}=yield yield Yt(f()));while(a<l)}while(!i)}finally{yield Yt(d(n,r==="error"?o:null))}return yield Yt(null);function d(h,p){return c=u=null,new Promise((g,y)=>{for(const[m,v]of h)e.off(m,v);try{const m=e.destroy;m&&m.call(e,p),p=void 0}catch(m){p=m||p}finally{p!=null?y(p):g()}})}})}var Uo;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Uo||(Uo={}));var Ns;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Ns||(Ns={}));var _i;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(_i||(_i={}));var fl;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(fl||(fl={}));var Qt;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Qt||(Qt={}));var dl;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(dl||(dl={}));var ei;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(ei||(ei={}));var K;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(K||(K={}));var Cl;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Cl||(Cl={}));const YFe=void 0;function Oc(e){if(e===null)return"null";if(e===YFe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof Fd||e instanceof Vd?`[${[...e].map(t=>Oc(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const QFe=Symbol.for("isArrowBigNum");function Sa(e,...t){return t.length===0?Object.setPrototypeOf(di(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Sa.prototype[QFe]=!0;Sa.prototype.toJSON=function(){return`"${Zf(this)}"`};Sa.prototype.valueOf=function(){return jJ(this)};Sa.prototype.toString=function(){return Zf(this)};Sa.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return jJ(this);case"string":return Zf(this);case"default":return G$(this)}return Zf(this)};function ep(...e){return Sa.apply(this,e)}function tp(...e){return Sa.apply(this,e)}function ev(...e){return Sa.apply(this,e)}Object.setPrototypeOf(ep.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(tp.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(ev.prototype,Object.create(Uint32Array.prototype));Object.assign(ep.prototype,Sa.prototype,{constructor:ep,signed:!0,TypedArray:Int32Array,BigIntArray:Fd});Object.assign(tp.prototype,Sa.prototype,{constructor:tp,signed:!1,TypedArray:Uint32Array,BigIntArray:Vd});Object.assign(ev.prototype,Sa.prototype,{constructor:ev,signed:!0,TypedArray:Uint32Array,BigIntArray:Vd});function jJ(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,o=new Vd(t,n,r),s=i&&o[o.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(s?1:0),l=BigInt(0);if(s){for(const u of o)a+=~u*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of o)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}let Zf,G$;DJ?(G$=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:GO(e),Zf=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:GO(e)):(Zf=GO,G$=Zf);function GO(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let o=-1;const s=r.length-1;do{for(n[0]=r[o=0];o<s;)r[o++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[o];r[o]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class O2{static new(t,n){switch(n){case!0:return new ep(t);case!1:return new tp(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case Fd:return new ep(t)}return t.byteLength===16?new ev(t):new tp(t)}static signed(t){return new ep(t)}static unsigned(t){return new tp(t)}static decimal(t){return new ev(t)}constructor(t,n){return O2.new(t,n)}}var FJ,VJ,BJ,zJ,UJ,HJ,WJ,qJ,GJ,KJ,YJ,QJ,XJ,JJ,ZJ,eZ,tZ,nZ,rZ;class Bt{static isNull(t){return(t==null?void 0:t.typeId)===K.Null}static isInt(t){return(t==null?void 0:t.typeId)===K.Int}static isFloat(t){return(t==null?void 0:t.typeId)===K.Float}static isBinary(t){return(t==null?void 0:t.typeId)===K.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===K.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===K.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===K.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===K.Date}static isTime(t){return(t==null?void 0:t.typeId)===K.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===K.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===K.Interval}static isList(t){return(t==null?void 0:t.typeId)===K.List}static isStruct(t){return(t==null?void 0:t.typeId)===K.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===K.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===K.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===K.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===K.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===K.Dictionary}static isDenseUnion(t){return Bt.isUnion(t)&&t.mode===Ns.Dense}static isSparseUnion(t){return Bt.isUnion(t)&&t.mode===Ns.Sparse}get typeId(){return K.NONE}}FJ=Symbol.toStringTag;Bt[FJ]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Bt.prototype);let pu=class extends Bt{toString(){return"Null"}get typeId(){return K.Null}};VJ=Symbol.toStringTag;pu[VJ]=(e=>e[Symbol.toStringTag]="Null")(pu.prototype);class to extends Bt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return K.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Fd:Vd}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}BJ=Symbol.toStringTag;to[BJ]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(to.prototype);class T2 extends to{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class C2 extends to{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class jc extends to{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class $2 extends to{constructor(){super(!0,64)}get ArrayType(){return Fd}}class k2 extends to{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class A2 extends to{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class R2 extends to{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class N2 extends to{constructor(){super(!1,64)}get ArrayType(){return Vd}}Object.defineProperty(T2.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(C2.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(jc.prototype,"ArrayType",{value:Int32Array});Object.defineProperty($2.prototype,"ArrayType",{value:Fd});Object.defineProperty(k2.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(A2.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(R2.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(N2.prototype,"ArrayType",{value:Vd});class Fc extends Bt{constructor(t){super(),this.precision=t}get typeId(){return K.Float}get ArrayType(){switch(this.precision){case _i.HALF:return Uint16Array;case _i.SINGLE:return Float32Array;case _i.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}zJ=Symbol.toStringTag;Fc[zJ]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Fc.prototype);class iZ extends Fc{constructor(){super(_i.HALF)}}class D2 extends Fc{constructor(){super(_i.SINGLE)}}class M2 extends Fc{constructor(){super(_i.DOUBLE)}}Object.defineProperty(iZ.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(D2.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(M2.prototype,"ArrayType",{value:Float64Array});let tv=class extends Bt{constructor(){super()}get typeId(){return K.Binary}toString(){return"Binary"}};UJ=Symbol.toStringTag;tv[UJ]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(tv.prototype);let Np=class extends Bt{constructor(){super()}get typeId(){return K.Utf8}toString(){return"Utf8"}};HJ=Symbol.toStringTag;Np[HJ]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(Np.prototype);let nv=class extends Bt{constructor(){super()}get typeId(){return K.Bool}toString(){return"Bool"}};WJ=Symbol.toStringTag;nv[WJ]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(nv.prototype);let NS=class extends Bt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return K.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};qJ=Symbol.toStringTag;NS[qJ]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(NS.prototype);class Dp extends Bt{constructor(t){super(),this.unit=t}get typeId(){return K.Date}toString(){return`Date${(this.unit+1)*32}<${fl[this.unit]}>`}}GJ=Symbol.toStringTag;Dp[GJ]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(Dp.prototype);class XFe extends Dp{constructor(){super(fl.DAY)}}class JFe extends Dp{constructor(){super(fl.MILLISECOND)}}class mu extends Bt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return K.Time}toString(){return`Time${this.bitWidth}<${Qt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return Fd}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}KJ=Symbol.toStringTag;mu[KJ]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(mu.prototype);class ZFe extends mu{constructor(){super(Qt.SECOND,32)}}class e4e extends mu{constructor(){super(Qt.MILLISECOND,32)}}class t4e extends mu{constructor(){super(Qt.MICROSECOND,64)}}class n4e extends mu{constructor(){super(Qt.NANOSECOND,64)}}class DS extends Bt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return K.Timestamp}toString(){return`Timestamp<${Qt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}YJ=Symbol.toStringTag;DS[YJ]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(DS.prototype);class Mp extends Bt{constructor(t){super(),this.unit=t}get typeId(){return K.Interval}toString(){return`Interval<${dl[this.unit]}>`}}QJ=Symbol.toStringTag;Mp[QJ]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Mp.prototype);class r4e extends Mp{constructor(){super(dl.DAY_TIME)}}class i4e extends Mp{constructor(){super(dl.YEAR_MONTH)}}let Lp=class extends Bt{constructor(t){super(),this.children=[t]}get typeId(){return K.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};XJ=Symbol.toStringTag;Lp[XJ]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Lp.prototype);class Li extends Bt{constructor(t){super(),this.children=t}get typeId(){return K.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}JJ=Symbol.toStringTag;Li[JJ]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Li.prototype);class rv extends Bt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,o,s)=>(i[o]=s)&&i||i,Object.create(null))}get typeId(){return K.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}ZJ=Symbol.toStringTag;rv[ZJ]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(rv.prototype);let MS=class extends Bt{constructor(t){super(),this.byteWidth=t}get typeId(){return K.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};eZ=Symbol.toStringTag;MS[eZ]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(MS.prototype);let jp=class extends Bt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return K.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};tZ=Symbol.toStringTag;jp[tZ]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(jp.prototype);class iv extends Bt{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return K.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}nZ=Symbol.toStringTag;iv[nZ]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(iv.prototype);const o4e=(e=>()=>++e)(-1);class Vc extends Bt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?o4e():typeof r=="number"?r:r.low}get typeId(){return K.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}rZ=Symbol.toStringTag;Vc[rZ]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(Vc.prototype);function Aa(e){const t=e;switch(e.typeId){case K.Decimal:return e.bitWidth/32;case K.Timestamp:return 2;case K.Date:return 1+t.unit;case K.Interval:return 1+t.unit;case K.FixedSizeList:return t.listSize;case K.FixedSizeBinary:return t.byteWidth;default:return 1}}class Xt{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(o=>o[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return s4e(this,t,n)}getVisitFnByTypeId(t,n=!0){return uh(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function s4e(e,t,n=!0){return typeof t=="number"?uh(e,t,n):typeof t=="string"&&t in K?uh(e,K[t],n):t&&t instanceof Bt?uh(e,xB(t),n):t!=null&&t.type&&t.type instanceof Bt?uh(e,xB(t.type),n):uh(e,K.NONE,n)}function uh(e,t,n=!0){let r=null;switch(t){case K.Null:r=e.visitNull;break;case K.Bool:r=e.visitBool;break;case K.Int:r=e.visitInt;break;case K.Int8:r=e.visitInt8||e.visitInt;break;case K.Int16:r=e.visitInt16||e.visitInt;break;case K.Int32:r=e.visitInt32||e.visitInt;break;case K.Int64:r=e.visitInt64||e.visitInt;break;case K.Uint8:r=e.visitUint8||e.visitInt;break;case K.Uint16:r=e.visitUint16||e.visitInt;break;case K.Uint32:r=e.visitUint32||e.visitInt;break;case K.Uint64:r=e.visitUint64||e.visitInt;break;case K.Float:r=e.visitFloat;break;case K.Float16:r=e.visitFloat16||e.visitFloat;break;case K.Float32:r=e.visitFloat32||e.visitFloat;break;case K.Float64:r=e.visitFloat64||e.visitFloat;break;case K.Utf8:r=e.visitUtf8;break;case K.Binary:r=e.visitBinary;break;case K.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case K.Date:r=e.visitDate;break;case K.DateDay:r=e.visitDateDay||e.visitDate;break;case K.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case K.Timestamp:r=e.visitTimestamp;break;case K.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case K.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case K.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case K.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case K.Time:r=e.visitTime;break;case K.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case K.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case K.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case K.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case K.Decimal:r=e.visitDecimal;break;case K.List:r=e.visitList;break;case K.Struct:r=e.visitStruct;break;case K.Union:r=e.visitUnion;break;case K.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case K.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case K.Dictionary:r=e.visitDictionary;break;case K.Interval:r=e.visitInterval;break;case K.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case K.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case K.FixedSizeList:r=e.visitFixedSizeList;break;case K.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${K[t]}'`)}function xB(e){switch(e.typeId){case K.Null:return K.Null;case K.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?K.Int8:K.Uint8;case 16:return n?K.Int16:K.Uint16;case 32:return n?K.Int32:K.Uint32;case 64:return n?K.Int64:K.Uint64}return K.Int}case K.Float:switch(e.precision){case _i.HALF:return K.Float16;case _i.SINGLE:return K.Float32;case _i.DOUBLE:return K.Float64}return K.Float;case K.Binary:return K.Binary;case K.Utf8:return K.Utf8;case K.Bool:return K.Bool;case K.Decimal:return K.Decimal;case K.Time:switch(e.unit){case Qt.SECOND:return K.TimeSecond;case Qt.MILLISECOND:return K.TimeMillisecond;case Qt.MICROSECOND:return K.TimeMicrosecond;case Qt.NANOSECOND:return K.TimeNanosecond}return K.Time;case K.Timestamp:switch(e.unit){case Qt.SECOND:return K.TimestampSecond;case Qt.MILLISECOND:return K.TimestampMillisecond;case Qt.MICROSECOND:return K.TimestampMicrosecond;case Qt.NANOSECOND:return K.TimestampNanosecond}return K.Timestamp;case K.Date:switch(e.unit){case fl.DAY:return K.DateDay;case fl.MILLISECOND:return K.DateMillisecond}return K.Date;case K.Interval:switch(e.unit){case dl.DAY_TIME:return K.IntervalDayTime;case dl.YEAR_MONTH:return K.IntervalYearMonth}return K.Interval;case K.Map:return K.Map;case K.List:return K.List;case K.Struct:return K.Struct;case K.Union:switch(e.mode){case Ns.Dense:return K.DenseUnion;case Ns.Sparse:return K.SparseUnion}return K.Union;case K.FixedSizeBinary:return K.FixedSizeBinary;case K.FixedSizeList:return K.FixedSizeList;case K.Dictionary:return K.Dictionary}throw new Error(`Unrecognized type '${K[e.typeId]}'`)}Xt.prototype.visitInt8=null;Xt.prototype.visitInt16=null;Xt.prototype.visitInt32=null;Xt.prototype.visitInt64=null;Xt.prototype.visitUint8=null;Xt.prototype.visitUint16=null;Xt.prototype.visitUint32=null;Xt.prototype.visitUint64=null;Xt.prototype.visitFloat16=null;Xt.prototype.visitFloat32=null;Xt.prototype.visitFloat64=null;Xt.prototype.visitDateDay=null;Xt.prototype.visitDateMillisecond=null;Xt.prototype.visitTimestampSecond=null;Xt.prototype.visitTimestampMillisecond=null;Xt.prototype.visitTimestampMicrosecond=null;Xt.prototype.visitTimestampNanosecond=null;Xt.prototype.visitTimeSecond=null;Xt.prototype.visitTimeMillisecond=null;Xt.prototype.visitTimeMicrosecond=null;Xt.prototype.visitTimeNanosecond=null;Xt.prototype.visitDenseUnion=null;Xt.prototype.visitSparseUnion=null;Xt.prototype.visitIntervalDayTime=null;Xt.prototype.visitIntervalYearMonth=null;const oZ=new Float64Array(1),oh=new Uint32Array(oZ.buffer);function sZ(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function aZ(e){if(e!==e)return 32256;oZ[0]=e;const t=(oh[1]&2147483648)>>16&65535;let n=oh[1]&2146435072,r=0;return n>=1089470464?oh[0]>0?n=31744:(n=(n&2080374784)>>16,r=(oh[1]&1048575)>>10):n<=1056964608?(r=1048576+(oh[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(oh[1]&1048575)+512>>10),t|n|r&65535}class Pt extends Xt{}function $t(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const a4e=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},L2=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},l4e=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},u4e=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},lZ=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:o}=t;e.set(r.subarray(0,o-i),i)}},c4e=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},ku=({values:e},t,n)=>{e[t]=n},j2=({values:e},t,n)=>{e[t]=n},uZ=({values:e},t,n)=>{e[t]=aZ(n)},f4e=(e,t,n)=>{switch(e.type.precision){case _i.HALF:return uZ(e,t,n);case _i.SINGLE:case _i.DOUBLE:return j2(e,t,n)}},F2=({values:e},t,n)=>{a4e(e,t,n.valueOf())},V2=({values:e},t,n)=>{L2(e,t*2,n.valueOf())},cZ=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},d4e=({values:e,valueOffsets:t},n,r)=>lZ(e,t,n,r),h4e=({values:e,valueOffsets:t},n,r)=>{lZ(e,t,n,E2(r))},fZ=(e,t,n)=>{e.type.unit===fl.DAY?F2(e,t,n):V2(e,t,n)},B2=({values:e},t,n)=>L2(e,t*2,n/1e3),z2=({values:e},t,n)=>L2(e,t*2,n),U2=({values:e},t,n)=>l4e(e,t*2,n),H2=({values:e},t,n)=>u4e(e,t*2,n),dZ=(e,t,n)=>{switch(e.type.unit){case Qt.SECOND:return B2(e,t,n);case Qt.MILLISECOND:return z2(e,t,n);case Qt.MICROSECOND:return U2(e,t,n);case Qt.NANOSECOND:return H2(e,t,n)}},W2=({values:e},t,n)=>{e[t]=n},q2=({values:e},t,n)=>{e[t]=n},G2=({values:e},t,n)=>{e[t]=n},K2=({values:e},t,n)=>{e[t]=n},hZ=(e,t,n)=>{switch(e.type.unit){case Qt.SECOND:return W2(e,t,n);case Qt.MILLISECOND:return q2(e,t,n);case Qt.MICROSECOND:return G2(e,t,n);case Qt.NANOSECOND:return K2(e,t,n)}},pZ=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},p4e=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,o=Ds.getVisitFn(r);if(Array.isArray(n))for(let s=-1,a=i[t],l=i[t+1];a<l;)o(r,a++,n[++s]);else for(let s=-1,a=i[t],l=i[t+1];a<l;)o(r,a++,n.get(++s))},m4e=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,o=Ds.getVisitFn(r);let{[t]:s,[t+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(o(r,s,u),++s>=a)break},g4e=(e,t)=>(n,r,i,o)=>r&&n(r,e,t[o]),y4e=(e,t)=>(n,r,i,o)=>r&&n(r,e,t.get(o)),v4e=(e,t)=>(n,r,i,o)=>r&&n(r,e,t.get(i.name)),_4e=(e,t)=>(n,r,i,o)=>r&&n(r,e,t[i.name]),w4e=(e,t,n)=>{const r=e.type.children.map(o=>Ds.getVisitFn(o.type)),i=n instanceof Map?v4e(t,n):n instanceof cn?y4e(t,n):Array.isArray(n)?g4e(t,n):_4e(t,n);e.type.children.forEach((o,s)=>i(r[s],e.children[s],o,s))},b4e=(e,t,n)=>{e.type.mode===Ns.Dense?mZ(e,t,n):gZ(e,t,n)},mZ=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Ds.visit(i,e.valueOffsets[t],n)},gZ=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Ds.visit(i,t,n)},S4e=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},yZ=(e,t,n)=>{e.type.unit===dl.DAY_TIME?Y2(e,t,n):Q2(e,t,n)},Y2=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},Q2=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},E4e=(e,t,n)=>{const{stride:r}=e,i=e.children[0],o=Ds.getVisitFn(i);if(Array.isArray(n))for(let s=-1,a=t*r;++s<r;)o(i,a+s,n[s]);else for(let s=-1,a=t*r;++s<r;)o(i,a+s,n.get(s))};Pt.prototype.visitBool=$t(c4e);Pt.prototype.visitInt=$t(ku);Pt.prototype.visitInt8=$t(ku);Pt.prototype.visitInt16=$t(ku);Pt.prototype.visitInt32=$t(ku);Pt.prototype.visitInt64=$t(ku);Pt.prototype.visitUint8=$t(ku);Pt.prototype.visitUint16=$t(ku);Pt.prototype.visitUint32=$t(ku);Pt.prototype.visitUint64=$t(ku);Pt.prototype.visitFloat=$t(f4e);Pt.prototype.visitFloat16=$t(uZ);Pt.prototype.visitFloat32=$t(j2);Pt.prototype.visitFloat64=$t(j2);Pt.prototype.visitUtf8=$t(h4e);Pt.prototype.visitBinary=$t(d4e);Pt.prototype.visitFixedSizeBinary=$t(cZ);Pt.prototype.visitDate=$t(fZ);Pt.prototype.visitDateDay=$t(F2);Pt.prototype.visitDateMillisecond=$t(V2);Pt.prototype.visitTimestamp=$t(dZ);Pt.prototype.visitTimestampSecond=$t(B2);Pt.prototype.visitTimestampMillisecond=$t(z2);Pt.prototype.visitTimestampMicrosecond=$t(U2);Pt.prototype.visitTimestampNanosecond=$t(H2);Pt.prototype.visitTime=$t(hZ);Pt.prototype.visitTimeSecond=$t(W2);Pt.prototype.visitTimeMillisecond=$t(q2);Pt.prototype.visitTimeMicrosecond=$t(G2);Pt.prototype.visitTimeNanosecond=$t(K2);Pt.prototype.visitDecimal=$t(pZ);Pt.prototype.visitList=$t(p4e);Pt.prototype.visitStruct=$t(w4e);Pt.prototype.visitUnion=$t(b4e);Pt.prototype.visitDenseUnion=$t(mZ);Pt.prototype.visitSparseUnion=$t(gZ);Pt.prototype.visitDictionary=$t(S4e);Pt.prototype.visitInterval=$t(yZ);Pt.prototype.visitIntervalDayTime=$t(Y2);Pt.prototype.visitIntervalYearMonth=$t(Q2);Pt.prototype.visitFixedSizeList=$t(E4e);Pt.prototype.visitMap=$t(m4e);const Ds=new Pt,ea=Symbol.for("parent"),np=Symbol.for("rowIndex");class X2{constructor(t,n){return this[ea]=t,this[np]=n,new Proxy(this,new P4e)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[np],n=this[ea],r=n.type.children,i={};for(let o=-1,s=r.length;++o<s;)i[r[o].name]=Ao.visit(n.children[o],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Oc(t)}: ${Oc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new x4e(this[ea],this[np])}}class x4e{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Ao.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(X2.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ea]:{writable:!0,enumerable:!1,configurable:!1,value:null},[np]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class P4e{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ea].type.children.map(n=>n.name)}has(t,n){return t[ea].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[ea].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ea].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Ao.visit(t[ea].children[r],t[np]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ea].type.children.findIndex(o=>o.name===n);return i!==-1?(Ds.visit(t[ea].children[i],t[np],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class _t extends Xt{}function It(e){return(t,n)=>t.getValid(n)?e(t,n):null}const I4e=(e,t)=>864e5*e[t],J2=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),O4e=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,T4e=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,vZ=e=>new Date(e),C4e=(e,t)=>vZ(I4e(e,t)),$4e=(e,t)=>vZ(J2(e,t)),k4e=(e,t)=>null,_Z=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},A4e=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},wZ=({values:e},t)=>C4e(e,t),bZ=({values:e},t)=>$4e(e,t*2),rf=({stride:e,values:t},n)=>t[e*n],R4e=({stride:e,values:t},n)=>sZ(t[e*n]),SZ=({values:e},t)=>e[t],N4e=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),D4e=({values:e,valueOffsets:t},n)=>_Z(e,t,n),M4e=({values:e,valueOffsets:t},n)=>{const r=_Z(e,t,n);return r!==null?W$(r):null},L4e=({values:e},t)=>e[t],j4e=({type:e,values:t},n)=>e.precision!==_i.HALF?t[n]:sZ(t[n]),F4e=(e,t)=>e.type.unit===fl.DAY?wZ(e,t):bZ(e,t),EZ=({values:e},t)=>1e3*J2(e,t*2),xZ=({values:e},t)=>J2(e,t*2),PZ=({values:e},t)=>O4e(e,t*2),IZ=({values:e},t)=>T4e(e,t*2),V4e=(e,t)=>{switch(e.type.unit){case Qt.SECOND:return EZ(e,t);case Qt.MILLISECOND:return xZ(e,t);case Qt.MICROSECOND:return PZ(e,t);case Qt.NANOSECOND:return IZ(e,t)}},OZ=({values:e},t)=>e[t],TZ=({values:e},t)=>e[t],CZ=({values:e},t)=>e[t],$Z=({values:e},t)=>e[t],B4e=(e,t)=>{switch(e.type.unit){case Qt.SECOND:return OZ(e,t);case Qt.MILLISECOND:return TZ(e,t);case Qt.MICROSECOND:return CZ(e,t);case Qt.NANOSECOND:return $Z(e,t)}},z4e=({values:e,stride:t},n)=>O2.decimal(e.subarray(t*n,t*(n+1))),U4e=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:o,[t*r+1]:s}=n,l=i[0].slice(o,s-o);return new cn([l])},H4e=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:o}=n,s=r[0];return new Gx(s.slice(i,o-i))},W4e=(e,t)=>new X2(e,t),q4e=(e,t)=>e.type.mode===Ns.Dense?kZ(e,t):AZ(e,t),kZ=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ao.visit(r,e.valueOffsets[t])},AZ=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ao.visit(r,t)},G4e=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},K4e=(e,t)=>e.type.unit===dl.DAY_TIME?RZ(e,t):NZ(e,t),RZ=({values:e},t)=>e.subarray(2*t,2*(t+1)),NZ=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},Y4e=(e,t)=>{const{stride:n,children:r}=e,o=r[0].slice(t*n,n);return new cn([o])};_t.prototype.visitNull=It(k4e);_t.prototype.visitBool=It(A4e);_t.prototype.visitInt=It(L4e);_t.prototype.visitInt8=It(rf);_t.prototype.visitInt16=It(rf);_t.prototype.visitInt32=It(rf);_t.prototype.visitInt64=It(SZ);_t.prototype.visitUint8=It(rf);_t.prototype.visitUint16=It(rf);_t.prototype.visitUint32=It(rf);_t.prototype.visitUint64=It(SZ);_t.prototype.visitFloat=It(j4e);_t.prototype.visitFloat16=It(R4e);_t.prototype.visitFloat32=It(rf);_t.prototype.visitFloat64=It(rf);_t.prototype.visitUtf8=It(M4e);_t.prototype.visitBinary=It(D4e);_t.prototype.visitFixedSizeBinary=It(N4e);_t.prototype.visitDate=It(F4e);_t.prototype.visitDateDay=It(wZ);_t.prototype.visitDateMillisecond=It(bZ);_t.prototype.visitTimestamp=It(V4e);_t.prototype.visitTimestampSecond=It(EZ);_t.prototype.visitTimestampMillisecond=It(xZ);_t.prototype.visitTimestampMicrosecond=It(PZ);_t.prototype.visitTimestampNanosecond=It(IZ);_t.prototype.visitTime=It(B4e);_t.prototype.visitTimeSecond=It(OZ);_t.prototype.visitTimeMillisecond=It(TZ);_t.prototype.visitTimeMicrosecond=It(CZ);_t.prototype.visitTimeNanosecond=It($Z);_t.prototype.visitDecimal=It(z4e);_t.prototype.visitList=It(U4e);_t.prototype.visitStruct=It(W4e);_t.prototype.visitUnion=It(q4e);_t.prototype.visitDenseUnion=It(kZ);_t.prototype.visitSparseUnion=It(AZ);_t.prototype.visitDictionary=It(G4e);_t.prototype.visitInterval=It(K4e);_t.prototype.visitIntervalDayTime=It(RZ);_t.prototype.visitIntervalYearMonth=It(NZ);_t.prototype.visitFixedSizeList=It(Y4e);_t.prototype.visitMap=It(H4e);const Ao=new _t,sa=Symbol.for("keys"),rp=Symbol.for("vals");class Gx{constructor(t){return this[sa]=new cn([t.children[0]]).memoize(),this[rp]=t.children[1],new Proxy(this,new X4e)}[Symbol.iterator](){return new Q4e(this[sa],this[rp])}get size(){return this[sa].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[sa],n=this[rp],r={};for(let i=-1,o=t.length;++i<o;)r[t.get(i)]=Ao.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Oc(t)}: ${Oc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Q4e{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Ao.visit(this.vals,t)]})}}class X4e{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[sa].toArray().map(String)}has(t,n){return t[sa].includes(n)}getOwnPropertyDescriptor(t,n){if(t[sa].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[sa].indexOf(n);if(r!==-1){const i=Ao.visit(Reflect.get(t,rp),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[sa].indexOf(n);return i!==-1?(Ds.visit(Reflect.get(t,rp),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(Gx.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[sa]:{writable:!0,enumerable:!1,configurable:!1,value:null},[rp]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let PB;function DZ(e,t,n,r){const{length:i=0}=e;let o=typeof t!="number"?0:t,s=typeof n!="number"?i:n;return o<0&&(o=(o%i+i)%i),s<0&&(s=(s%i+i)%i),s<o&&(PB=o,o=s,s=PB),s>i&&(s=i),r?r(e,o,s):[o,s]}const IB=e=>e!==e;function gm(e){if(typeof e!=="object"||e===null)return IB(e)?IB:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?UFe(e,n):!1:e instanceof Map?Z4e(e):Array.isArray(e)?J4e(e):e instanceof cn?e6e(e):t6e(e,!0)}function J4e(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=gm(e[n]);return Kx(t)}function Z4e(e){let t=-1;const n=[];for(const r of e.values())n[++t]=gm(r);return Kx(n)}function e6e(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=gm(e.get(n));return Kx(t)}function t6e(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,o=n.length;++i<o;)r[i]=gm(e[n[i]]);return Kx(r,n)}function Kx(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return n6e(e,n);case Map:return OB(e,n,n.keys());case Gx:case X2:case Object:case void 0:return OB(e,n,t||Object.keys(n))}return n instanceof cn?r6e(e,n):!1}}function n6e(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function r6e(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function OB(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),o=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let s=0;const a=e.length;let l=o.next(),u=r.next(),c=i.next();for(;s<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!e[s](l.value));++s,u=r.next(),c=i.next(),l=o.next());return s===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),o.return&&o.return(),!1)}function MZ(e,t,n,r){return(n&1<<r)!==0}function i6e(e,t,n,r){return(n&1<<r)>>r}function Z2(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):LZ(new eD(n,e,t,null,MZ)).subarray(0,r)),i}return n}function LZ(e){const t=[];let n=0,r=0,i=0;for(const s of e)s&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const o=new Uint8Array(t.length+7&-8);return o.set(t),o}class eD{constructor(t,n,r,i,o){this.bytes=t,this.length=r,this.context=i,this.get=o,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function K$(e,t,n){if(n-t<=0)return 0;if(n-t<8){let o=0;for(const s of new eD(e,t,n-t,e,i6e))o+=s;return o}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return K$(e,t,i)+K$(e,r,n)+o6e(e,i>>3,r-i>>3)}function o6e(e,t,n){let r=0,i=Math.trunc(t);const o=new DataView(e.buffer,e.byteOffset,e.byteLength),s=n===void 0?e.byteLength:i+n;for(;s-i>=4;)r+=KO(o.getUint32(i)),i+=4;for(;s-i>=2;)r+=KO(o.getUint16(i)),i+=2;for(;s-i>=1;)r+=KO(o.getUint8(i)),i+=1;return r}function KO(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const s6e=-1;class On{constructor(t,n,r,i,o,s=[],a){this.type=t,this.children=s,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;o instanceof On?(this.stride=o.stride,this.values=o.values,this.typeIds=o.typeIds,this.nullBitmap=o.nullBitmap,this.valueOffsets=o.valueOffsets):(this.stride=Aa(t),o&&((l=o[0])&&(this.valueOffsets=l),(l=o[1])&&(this.values=l),(l=o[2])&&(this.nullBitmap=l),(l=o[3])&&(this.typeIds=l))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),o&&(t+=o.byteLength),this.children.reduce((s,a)=>s+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=s6e&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-K$(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:l}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:l,_nullCount:0})}const{nullBitmap:r,offset:i}=this,o=i+t>>3,s=(i+t)%8,a=r[o]>>s&1;return n?a===0&&(r[o]|=1<<s,this._nullCount=this.nullCount+1):a===1&&(r[o]&=~(1<<s),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,o=this,s=this.children){return new On(t,n,r,i,o,s,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:o}=this,s=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,s,l,o.length===0||this.valueOffsets?o:this._sliceChildren(o,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===K.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(Z2(this.offset,n,this.nullBitmap),0);const o=this.buffers;return o[Cl.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),o)}_sliceBuffers(t,n,r,i){let o;const{buffers:s}=this;return(o=s[Cl.TYPE])&&(s[Cl.TYPE]=o.subarray(t,t+n)),(o=s[Cl.OFFSET])&&(s[Cl.OFFSET]=o.subarray(t,t+n+1))||(o=s[Cl.DATA])&&(s[Cl.DATA]=i===6?o:o.subarray(r*t,r*(t+n))),s}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}On.prototype.children=Object.freeze([]);class uy extends Xt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new On(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.data),o=wn(t.nullBitmap),s=cg(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new On(n,r,a,l,[s,i,o])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.data),o=wn(t.nullBitmap),s=cg(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new On(n,r,a,l,[s,i,o])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length/Aa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length/Aa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length/Aa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length/Aa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length/Aa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,o=wn(t.nullBitmap),s=cg(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new On(n,r,a,l,[s,void 0,o],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,o=wn(t.nullBitmap),{length:s=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,void 0,o],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,o=wn(t.nullBitmap),s=di(n.ArrayType,t.typeIds),{["length"]:a=s.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;if(Bt.isSparseUnion(n))return new On(n,r,a,l,[void 0,void 0,o,s],i);const u=cg(t.valueOffsets);return new On(n,r,a,l,[u,void 0,o,s],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.indices.ArrayType,t.data),{["dictionary"]:s=new cn([new uy().visit({type:n.dictionary})])}=t,{["length"]:a=o.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new On(n,r,a,l,[void 0,o,i],[],s)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=wn(t.nullBitmap),o=di(n.ArrayType,t.data),{["length"]:s=o.length/Aa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,o,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new uy().visit({type:n.valueType})}=t,o=wn(t.nullBitmap),{["length"]:s=i.length/Aa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new On(n,r,s,a,[void 0,void 0,o],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new uy().visit({type:n.childType})}=t,o=wn(t.nullBitmap),s=cg(t.valueOffsets),{["length"]:a=s.length-1,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new On(n,r,a,l,[s,void 0,o],[i])}}function Ni(e){return new uy().visit(e)}class TB{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function jZ(e){return e.reduce((t,n)=>t+n.nullCount,0)}function FZ(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function VZ(e,t,n,r){const i=[];for(let o=-1,s=e.length;++o<s;){const a=e[o],l=t[o],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),f=Math.min(r-l,u);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function tD(e,t,n,r){let i=0,o=0,s=t.length-1;do{if(i>=s-1)return n<t[s]?r(e,i,n-t[i]):null;o=i+Math.trunc((s-i)*.5),n<t[o]?s=o:i=o}while(i<s)}function nD(e,t){return e.getValid(t)}function ip(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return tD(r,this._offsets,n,t)}}function BZ(e){let t;function n(r,i,o){return e(r[i],o,t)}return function(r,i){const o=this.data;t=i;const s=tD(o,this._offsets,r,n);return t=void 0,s}}function zZ(e){let t;function n(r,i,o){let s=o,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const f=r[u];if(~(a=e(f,t,s)))return l+a;s=0,l+=f.length}return-1}return function(r,i){t=r;const o=this.data,s=typeof i!="number"?n(o,0,0):tD(o,this._offsets,i,n);return t=void 0,s}}class wt extends Xt{}function a6e(e,t){return t===null&&e.length>0?0:-1}function l6e(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new eD(n,e.offset+(t||0),e.length,n,MZ)){if(!i)return r;++r}return-1}function Nt(e,t,n){if(t===void 0)return-1;if(t===null)return l6e(e,n);const r=Ao.getVisitFn(e),i=gm(t);for(let o=(n||0)-1,s=e.length;++o<s;)if(i(r(e,o)))return o;return-1}function UZ(e,t,n){const r=Ao.getVisitFn(e),i=gm(t);for(let o=(n||0)-1,s=e.length;++o<s;)if(i(r(e,o)))return o;return-1}wt.prototype.visitNull=a6e;wt.prototype.visitBool=Nt;wt.prototype.visitInt=Nt;wt.prototype.visitInt8=Nt;wt.prototype.visitInt16=Nt;wt.prototype.visitInt32=Nt;wt.prototype.visitInt64=Nt;wt.prototype.visitUint8=Nt;wt.prototype.visitUint16=Nt;wt.prototype.visitUint32=Nt;wt.prototype.visitUint64=Nt;wt.prototype.visitFloat=Nt;wt.prototype.visitFloat16=Nt;wt.prototype.visitFloat32=Nt;wt.prototype.visitFloat64=Nt;wt.prototype.visitUtf8=Nt;wt.prototype.visitBinary=Nt;wt.prototype.visitFixedSizeBinary=Nt;wt.prototype.visitDate=Nt;wt.prototype.visitDateDay=Nt;wt.prototype.visitDateMillisecond=Nt;wt.prototype.visitTimestamp=Nt;wt.prototype.visitTimestampSecond=Nt;wt.prototype.visitTimestampMillisecond=Nt;wt.prototype.visitTimestampMicrosecond=Nt;wt.prototype.visitTimestampNanosecond=Nt;wt.prototype.visitTime=Nt;wt.prototype.visitTimeSecond=Nt;wt.prototype.visitTimeMillisecond=Nt;wt.prototype.visitTimeMicrosecond=Nt;wt.prototype.visitTimeNanosecond=Nt;wt.prototype.visitDecimal=Nt;wt.prototype.visitList=Nt;wt.prototype.visitStruct=Nt;wt.prototype.visitUnion=Nt;wt.prototype.visitDenseUnion=UZ;wt.prototype.visitSparseUnion=UZ;wt.prototype.visitDictionary=Nt;wt.prototype.visitInterval=Nt;wt.prototype.visitIntervalDayTime=Nt;wt.prototype.visitIntervalYearMonth=Nt;wt.prototype.visitFixedSizeList=Nt;wt.prototype.visitMap=Nt;const LS=new wt;class bt extends Xt{}function Ot(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===K.Timestamp||t instanceof to&&t.bitWidth!==64||t instanceof mu&&t.bitWidth!==64||t instanceof Fc&&t.precision!==_i.HALF))return new TB(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new TB(e.data.length,r=>{const o=e.data[r].length,s=e.slice(n,n+o);return n+=o,new u6e(s)})}class u6e{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}bt.prototype.visitNull=Ot;bt.prototype.visitBool=Ot;bt.prototype.visitInt=Ot;bt.prototype.visitInt8=Ot;bt.prototype.visitInt16=Ot;bt.prototype.visitInt32=Ot;bt.prototype.visitInt64=Ot;bt.prototype.visitUint8=Ot;bt.prototype.visitUint16=Ot;bt.prototype.visitUint32=Ot;bt.prototype.visitUint64=Ot;bt.prototype.visitFloat=Ot;bt.prototype.visitFloat16=Ot;bt.prototype.visitFloat32=Ot;bt.prototype.visitFloat64=Ot;bt.prototype.visitUtf8=Ot;bt.prototype.visitBinary=Ot;bt.prototype.visitFixedSizeBinary=Ot;bt.prototype.visitDate=Ot;bt.prototype.visitDateDay=Ot;bt.prototype.visitDateMillisecond=Ot;bt.prototype.visitTimestamp=Ot;bt.prototype.visitTimestampSecond=Ot;bt.prototype.visitTimestampMillisecond=Ot;bt.prototype.visitTimestampMicrosecond=Ot;bt.prototype.visitTimestampNanosecond=Ot;bt.prototype.visitTime=Ot;bt.prototype.visitTimeSecond=Ot;bt.prototype.visitTimeMillisecond=Ot;bt.prototype.visitTimeMicrosecond=Ot;bt.prototype.visitTimeNanosecond=Ot;bt.prototype.visitDecimal=Ot;bt.prototype.visitList=Ot;bt.prototype.visitStruct=Ot;bt.prototype.visitUnion=Ot;bt.prototype.visitDenseUnion=Ot;bt.prototype.visitSparseUnion=Ot;bt.prototype.visitDictionary=Ot;bt.prototype.visitInterval=Ot;bt.prototype.visitIntervalDayTime=Ot;bt.prototype.visitIntervalYearMonth=Ot;bt.prototype.visitFixedSizeList=Ot;bt.prototype.visitMap=Ot;const rD=new bt,c6e=(e,t)=>e+t;class of extends Xt{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===Qt.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+hl.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+hl.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const f6e=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),d6e=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),h6e=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:o}=e,{[r*t+1]:s}=e,a=hl.getVisitFn(i.type),l=i.slice(o,s-o);let u=8;for(let c=-1,f=s-o;++c<f;)u+=a(l,c);return u},p6e=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),o=hl.getVisitFn(r.type);let s=0;for(let a=-1,l=i.length;++a<l;)s+=o(i,a);return s},m6e=(e,t)=>e.type.mode===Ns.Dense?HZ(e,t):WZ(e,t),HZ=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const o=e.typeIdToChildIndex[n[i]];return 8+hl.visit(t[o],r[i])},WZ=({children:e},t)=>4+hl.visitMany(e,e.map(()=>t)).reduce(c6e,0);of.prototype.visitUtf8=f6e;of.prototype.visitBinary=d6e;of.prototype.visitList=h6e;of.prototype.visitFixedSizeList=p6e;of.prototype.visitUnion=m6e;of.prototype.visitDenseUnion=HZ;of.prototype.visitSparseUnion=WZ;const hl=new of;var qZ;const GZ={},KZ={};class cn{constructor(t){var n,r,i;const o=t[0]instanceof cn?t.flatMap(a=>a.data):t;if(o.length===0||o.some(a=>!(a instanceof On)))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=(n=o[0])===null||n===void 0?void 0:n.type;switch(o.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u,byteLength:c}=GZ[s.typeId],f=o[0];this.isValid=d=>nD(f,d),this.get=d=>a(f,d),this.set=(d,h)=>l(f,d,h),this.indexOf=d=>u(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,KZ[s.typeId]),this._offsets=FZ(o);break}this.data=o,this.type=s,this.stride=Aa(s),this.numChildren=(i=(r=s.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=jZ(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${K[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return rD.visit(this)}concat(...t){return new cn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new cn(DZ(this,t,n,({data:r,_offsets:i},o,s)=>VZ(r,i,o,s)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:o}=this;switch(t.typeId){case K.Int:case K.Float:case K.Decimal:case K.Time:case K.Timestamp:switch(n.length){case 0:return new o;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((s,{values:a,length:l})=>(s.array.set(a.subarray(0,l*i),s.offset),s.offset+=l*i,s),{array:new o(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new cn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Bt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Bt.isDictionary(this.type)){const t=new jS(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new cn(n)}return new jS(this)}unmemoize(){if(Bt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new cn(n)}return this}}qZ=Symbol.toStringTag;cn[qZ]=(e=>{e.type=Bt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(K).map(n=>K[n]).filter(n=>typeof n=="number"&&n!==K.NONE);for(const n of t){const r=Ao.getVisitFnByTypeId(n),i=Ds.getVisitFnByTypeId(n),o=LS.getVisitFnByTypeId(n),s=hl.getVisitFnByTypeId(n);GZ[n]={get:r,set:i,indexOf:o,byteLength:s},KZ[n]=Object.create(e,{isValid:{value:ip(nD)},get:{value:ip(Ao.getVisitFnByTypeId(n))},set:{value:BZ(Ds.getVisitFnByTypeId(n))},indexOf:{value:zZ(LS.getVisitFnByTypeId(n))},getByteLength:{value:ip(hl.getVisitFnByTypeId(n))}})}return"Vector"})(cn.prototype);class jS extends cn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,o=new Array(this.length);Object.defineProperty(this,"get",{value(s){const a=o[s];if(a!==void 0)return a;const l=n.call(this,s);return o[s]=l,l}}),Object.defineProperty(this,"set",{value(s,a){r.call(this,s,a),o[s]=a}}),Object.defineProperty(this,"slice",{value:(s,a)=>new jS(i.call(this,s,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new cn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function g6e(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${y6e(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function y6e(e){return typeof e!="bigint"?Oc(e):DJ?`${Oc(e)}n`:`"${Oc(e)}"`}const YO=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,v6e=(e,t=0)=>e.length>=t?e.subarray(0,t):RS(new e.constructor(t),e,0);class Yx{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?YO(r*1,this.BYTES_PER_ELEMENT):YO(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=YO(t*this.stride,this.BYTES_PER_ELEMENT);const n=v6e(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=RS(new this.ArrayType(t),this.buffer)}}Yx.prototype.offset=0;class u0 extends Yx{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class YZ extends u0{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,o=t%8,s=r[i]>>o&1;return n?s===0&&(r[i]|=1<<o,++this.numValid):s===1&&(r[i]&=~(1<<o),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class QZ extends u0{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let No=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Aa(t),this._nulls=new YZ,n&&n.length>0&&(this._isValid=g6e(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new cn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:o,children:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),o&&(t+=o.byteLength),s.reduce((a,l)=>a+l.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:o,length:s,nullCount:a,_typeIds:l,_offsets:u,_values:c,_nulls:f}=this;(n=l==null?void 0:l.flush(s))?i=u==null?void 0:u.flush(s):(i=u==null?void 0:u.flush(s))?t=c==null?void 0:c.flush(u.last()):t=c==null?void 0:c.flush(s),a>0&&(r=f==null?void 0:f.flush(s));const d=this.children.map(h=>h.flush());return this.clear(),Ni({type:o,length:s,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const o of this.children)o.clear();return this}};No.prototype.length=1;No.prototype.stride=1;No.prototype.children=null;No.prototype.finished=!1;No.prototype.nullValues=null;No.prototype._isValid=()=>!0;class sf extends No{constructor(t){super(t),this._values=new u0(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class Qx extends No{constructor(t){super(t),this._pendingLength=0,this._offsets=new QZ}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof Gx?n[sa].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class Y${constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const QO=2,La=4,Dl=4,Rn=4,Yu=new Int32Array(2),CB=new Float32Array(Yu.buffer),$B=new Float64Array(Yu.buffer),A_=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let eu=class Q${constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?Q$.ZERO:new Q$(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};eu.ZERO=new eu(0,0);var X$;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(X$||(X$={}));let FS=class XZ{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new XZ(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new eu(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new eu(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Yu[0]=this.readInt32(t),CB[0]}readFloat64(t){return Yu[A_?0:1]=this.readInt32(t),Yu[A_?1:0]=this.readInt32(t+4),$B[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){CB[0]=n,this.writeInt32(t,Yu[0])}writeFloat64(t,n){$B[0]=n,this.writeInt32(t,Yu[A_?0:1]),this.writeInt32(t+4,Yu[A_?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+La+Dl)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Dl;n++)t+=String.fromCharCode(this.readInt8(this.position_+La+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",o=0;if(t+=La,n===X$.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;o<r;){let s;const a=this.readUint8(t+o++);if(a<192)s=a;else{const l=this.readUint8(t+o++);if(a<224)s=(a&31)<<6|l&63;else{const u=this.readUint8(t+o++);if(a<240)s=(a&15)<<12|(l&63)<<6|u&63;else{const c=this.readUint8(t+o++);s=(a&7)<<18|(l&63)<<12|(u&63)<<6|c&63}}}s<65536?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode((s>>10)+55296,(s&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+La}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Dl)throw new Error("FlatBuffers: file identifier must be length "+Dl);for(let n=0;n<Dl;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+La+n))return!1;return!0}createLong(t,n){return eu.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const o=t(i);o!==null&&r.push(o.unpack())}return r}},JZ=class ZZ{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=FS.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=ZZ.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=FS.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(La,0),this.writeInt32(this.offset()-t+La)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const o=(r+i)*QO;this.addInt16(o);let s=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(o==this.bb.readInt16(l)){for(let u=QO;u<o;u+=QO)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;s=this.vtables[n];break}}return s?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,s-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Rn:0;if(n){const o=n;if(this.prep(this.minalign,La+Dl+i),o.length!=Dl)throw new Error("FlatBuffers: file identifier must be length "+Dl);for(let s=Dl-1;s>=0;s--)this.writeInt8(o.charCodeAt(s))}this.prep(this.minalign,La+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(La,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const o=t.charCodeAt(r++);if(o<55296||o>=56320)i=o;else{const s=t.charCodeAt(r++);i=(o<<10)+s+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,o=this.bb.bytes();r<n.length;r++)o[i++]=n[r];return this.endVector()}createLong(t,n){return eu.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Rn),(n||new Vr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Vr.startKeyValue(t),Vr.addKey(t,n),Vr.addValue(t,r),Vr.endKeyValue(t)}}var Fp;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Fp||(Fp={}));var Vp;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Vp||(Vp={}));var VS;(function(e){e[e.DenseArray=0]="DenseArray"})(VS||(VS={}));class Bo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Bo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Rn),(n||new Bo).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Bo.startInt(t),Bo.addBitWidth(t,n),Bo.addIsSigned(t,r),Bo.endInt(t)}}class Ml{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Ml).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Rn),(n||new Ml).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Bo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):VS.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,VS.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Vf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new Vf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Rn),(n||new Vf).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Vf.startBinary(t),Vf.endBinary(t)}}class Bf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new Bf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Rn),(n||new Bf).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Bf.startBool(t),Bf.endBool(t)}}var BS;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(BS||(BS={}));let Aw=class ch{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new ch).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Rn),(n||new ch).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):BS.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,BS.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return ch.startDate(t),ch.addUnit(t,n),ch.endDate(t)}};class yo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new yo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Rn),(n||new yo).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return yo.startDecimal(t),yo.addPrecision(t,n),yo.addScale(t,r),yo.addBitWidth(t,i),yo.endDecimal(t)}}var Bp;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Bp||(Bp={}));class ja{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new ja).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Rn),(n||new ja).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return ja.startFixedSizeBinary(t),ja.addByteWidth(t,n),ja.endFixedSizeBinary(t)}}class Fa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Fa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Rn),(n||new Fa).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Fa.startFixedSizeList(t),Fa.addListSize(t,n),Fa.endFixedSizeList(t)}}var zS;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(zS||(zS={}));class Va{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Va).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Rn),(n||new Va).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):zS.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,zS.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Va.startFloatingPoint(t),Va.addPrecision(t,n),Va.endFloatingPoint(t)}}var US;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(US||(US={}));class Ba{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Ba).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Rn),(n||new Ba).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):US.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,US.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Ba.startInterval(t),Ba.addUnit(t,n),Ba.endInterval(t)}}class zf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new zf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Rn),(n||new zf).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return zf.startList(t),zf.endList(t)}}let Rw=class fh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new fh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Rn),(n||new fh).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return fh.startMap(t),fh.addKeysSorted(t,n),fh.endMap(t)}};class Uf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Uf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Rn),(n||new Uf).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Uf.startNull(t),Uf.endNull(t)}}class Hf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Hf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Rn),(n||new Hf).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Hf.startStruct_(t),Hf.endStruct_(t)}}class bs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new bs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Rn),(n||new bs).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Bp.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Bp.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return bs.startTime(t),bs.addUnit(t,n),bs.addBitWidth(t,r),bs.endTime(t)}}let kg=class bf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new bf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Rn),(n||new bf).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Bp.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Bp.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return bf.startTimestamp(t),bf.addUnit(t,n),bf.addTimezone(t,r),bf.endTimestamp(t)}};var HS;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(HS||(HS={}));class _o{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new _o).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Rn),(n||new _o).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):HS.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,HS.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return _o.startUnion(t),_o.addMode(t,n),_o.addTypeIds(t,r),_o.endUnion(t)}}class Wf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new Wf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Rn),(n||new Wf).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Wf.startUtf8(t),Wf.endUtf8(t)}}var ir;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(ir||(ir={}));let ms=class Nw{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Nw).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Rn),(n||new Nw).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):ir.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Ml).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Nw).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Vr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,ir.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Ca=class Ol{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Ol).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Rn),(n||new Ol).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Vp.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new ms).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Vr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,Vp.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,o){return Ol.startSchema(t),Ol.addEndianness(t,n),Ol.addFields(t,r),Ol.addCustomMetadata(t,i),Ol.addFeatures(t,o),Ol.endSchema(t)}};class Fo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Fo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Rn),(n||new Fo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Fp.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ca).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Y$).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new Y$).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Vr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Fp.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}let sr=class Sf{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=J$(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Sf(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Sf(n,this.metadata)}assign(...t){const n=t[0]instanceof Sf?t[0]:Array.isArray(t[0])?new Sf(t[0]):new Sf(t),r=[...this.fields],i=R_(R_(new Map,this.metadata),n.metadata),o=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:R_(R_(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),s=J$(o,new Map);return new Sf([...r,...o],i,new Map([...this.dictionaries,...s]))}};sr.prototype.fields=null;sr.prototype.metadata=null;sr.prototype.dictionaries=null;class yn{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,o]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),o===void 0&&(o=t[0].metadata)),new yn(`${n}`,r,i,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,o]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,o=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:o=this.metadata}=t[0],yn.new(n,r,i,o)}}yn.prototype.type=null;yn.prototype.name=null;yn.prototype.nullable=null;yn.prototype.metadata=null;function R_(e,t){return new Map([...e||new Map,...t||new Map])}function J$(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const o=e[n].type;if(Bt.isDictionary(o)){if(!t.has(o.id))t.set(o.id,o.dictionary);else if(t.get(o.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&J$(o.children,t)}return t}var kB=eu,_6e=JZ,w6e=FS;class Z${constructor(t,n=Uo.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new w6e(wn(t));const n=Fo.getRootAsFooter(t),r=sr.decode(n.schema());return new b6e(r,n)}static encode(t){const n=new _6e,r=sr.encode(n,t.schema);Fo.startRecordBatchesVector(n,t.numRecordBatches);for(const s of[...t.recordBatches()].slice().reverse())Bc.encode(n,s);const i=n.endVector();Fo.startDictionariesVector(n,t.numDictionaries);for(const s of[...t.dictionaryBatches()].slice().reverse())Bc.encode(n,s);const o=n.endVector();return Fo.startFooter(n),Fo.addSchema(n,r),Fo.addVersion(n,Uo.V4),Fo.addRecordBatches(n,i),Fo.addDictionaries(n,o),Fo.finishFooterBuffer(n,Fo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class b6e extends Z${constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return Bc.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return Bc.decode(n)}return null}}class Bc{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new Bc(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new kB(n.offset,0),o=new kB(n.bodyLength,0);return Y$.createBlock(t,i,r,o)}}const N_=Object.freeze({done:!0,value:void 0});class eee{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class S6e extends eee{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Nl(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(N_);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return EB.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return EB.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Nl(this,void 0,void 0,function*(){return yield this.abort(t),N_})}return(t){return Nl(this,void 0,void 0,function*(){return yield this.close(),N_})}read(t){return Nl(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Nl(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(N_)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class XO extends S6e{write(t){if((t=wn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?W$(this.toUint8Array(!0)):this.toUint8Array(!1).then(W$)}toUint8Array(t=!1){return t?cl(this._values)[0]:Nl(this,void 0,void 0,function*(){var n,r;const i=[];let o=0;try{for(var s=ly(this),a;a=yield s.next(),!a.done;){const l=a.value;i.push(l),o+=l.byteLength}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&(yield r.call(s))}finally{if(n)throw n.error}}return cl(i,o)[0]})}}class tee extends Qx{constructor(t){super(t),this._values=new Yx(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,wn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let o=0;for(const[s,a]of t)if(a===void 0)r.set(s,0);else{const l=a.length;i.set(a,o),r.set(s,l),o+=l}}}class E6e extends No{constructor(t){super(t),this._values=new YZ}setValue(t,n){this._values.set(t,+n)}}class Xx extends sf{}Xx.prototype._setValue=fZ;class nee extends Xx{}nee.prototype._setValue=F2;class ree extends Xx{}ree.prototype._setValue=V2;class iee extends sf{}iee.prototype._setValue=pZ;class x6e extends No{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new Vc(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=WS({type:this.type.indices,nullValues:n}),this.dictionary=WS({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let o=r[i];return o===void 0&&(r[i]=o=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,o)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class oee extends sf{}oee.prototype._setValue=cZ;class P6e extends No{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let o=-1,s=n.length;++o<s;)r.set(i+o,n[o])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new jp(this.type.listSize,new yn(n,t.type,!0)),r}}class Jx extends sf{setValue(t,n){this._values.set(t,n)}}class I6e extends Jx{setValue(t,n){super.setValue(t,aZ(n))}}class O6e extends Jx{}class T6e extends Jx{}class Zx extends sf{}Zx.prototype._setValue=yZ;class see extends Zx{}see.prototype._setValue=Y2;class aee extends Zx{}aee.prototype._setValue=Q2;class Au extends sf{setValue(t,n){this._values.set(t,n)}}class C6e extends Au{}class $6e extends Au{}class k6e extends Au{}class A6e extends Au{}class R6e extends Au{}class N6e extends Au{}class D6e extends Au{}class M6e extends Au{}class L6e extends Qx{constructor(t){super(t),this._offsets=new QZ}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Lp(new yn(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,o]of t)if(typeof o>"u")n.set(i,0);else{const s=o.length,a=n.set(i,s).buffer[i];for(let l=-1;++l<s;)r.set(a+l,o[l])}}}class j6e extends Qx{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),o=i.get(t);o&&(this._pendingLength-=o.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new iv(new yn(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,o]of t)if(o===void 0)n.set(i,0);else{let{[i]:s,[i+1]:a}=n.set(i,o.size).buffer;for(const l of o.entries())if(r.set(s,l),++s>=a)break}}}class F6e extends No{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class V6e extends No{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((o,s)=>r[s].set(t,n[s]));case Map:return i.children.forEach((o,s)=>r[s].set(t,n.get(o.name)));default:return i.children.forEach((o,s)=>r[s].set(t,n[o.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Li([...this.type.children,new yn(n,t.type,!0)]),r}}class ym extends sf{}ym.prototype._setValue=dZ;class lee extends ym{}lee.prototype._setValue=B2;class uee extends ym{}uee.prototype._setValue=z2;class cee extends ym{}cee.prototype._setValue=U2;class fee extends ym{}fee.prototype._setValue=H2;class vm extends sf{}vm.prototype._setValue=hZ;class dee extends vm{}dee.prototype._setValue=W2;class hee extends vm{}hee.prototype._setValue=q2;class pee extends vm{}pee.prototype._setValue=G2;class mee extends vm{}mee.prototype._setValue=K2;class iD extends No{constructor(t){super(t),this._typeIds=new u0(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],o=this.children[i];o==null||o.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:o,typeIds:s}}=this,a=[...i,new yn(n,t.type)];return this.type=new rv(o,[...s,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class B6e extends iD{}class z6e extends iD{constructor(t){super(t),this._offsets=new u0(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],o=this.getChildAt(this.type.typeIdToChildIndex[i]),s=this._offsets.set(t,o.length).buffer[t];o==null||o.set(s,n)}}class gee extends Qx{constructor(t){super(t),this._values=new Yx(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,E2(n))}_flushPending(t,n){}}gee.prototype._flushPending=tee.prototype._flushPending;class U6e extends Xt{visitNull(){return F6e}visitBool(){return E6e}visitInt(){return Au}visitInt8(){return C6e}visitInt16(){return $6e}visitInt32(){return k6e}visitInt64(){return A6e}visitUint8(){return R6e}visitUint16(){return N6e}visitUint32(){return D6e}visitUint64(){return M6e}visitFloat(){return Jx}visitFloat16(){return I6e}visitFloat32(){return O6e}visitFloat64(){return T6e}visitUtf8(){return gee}visitBinary(){return tee}visitFixedSizeBinary(){return oee}visitDate(){return Xx}visitDateDay(){return nee}visitDateMillisecond(){return ree}visitTimestamp(){return ym}visitTimestampSecond(){return lee}visitTimestampMillisecond(){return uee}visitTimestampMicrosecond(){return cee}visitTimestampNanosecond(){return fee}visitTime(){return vm}visitTimeSecond(){return dee}visitTimeMillisecond(){return hee}visitTimeMicrosecond(){return pee}visitTimeNanosecond(){return mee}visitDecimal(){return iee}visitList(){return L6e}visitStruct(){return V6e}visitUnion(){return iD}visitDenseUnion(){return z6e}visitSparseUnion(){return B6e}visitDictionary(){return x6e}visitInterval(){return Zx}visitIntervalDayTime(){return see}visitIntervalYearMonth(){return aee}visitFixedSizeList(){return P6e}visitMap(){return j6e}}const H6e=new U6e;class St extends Xt{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Do(e,t){return t instanceof e.constructor}function c0(e,t){return e===t||Do(e,t)}function Ru(e,t){return e===t||Do(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function eP(e,t){return e===t||Do(e,t)&&e.precision===t.precision}function W6e(e,t){return e===t||Do(e,t)&&e.byteWidth===t.byteWidth}function oD(e,t){return e===t||Do(e,t)&&e.unit===t.unit}function f0(e,t){return e===t||Do(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function d0(e,t){return e===t||Do(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function q6e(e,t){return e===t||Do(e,t)&&e.children.length===t.children.length&&zc.compareManyFields(e.children,t.children)}function G6e(e,t){return e===t||Do(e,t)&&e.children.length===t.children.length&&zc.compareManyFields(e.children,t.children)}function sD(e,t){return e===t||Do(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&zc.compareManyFields(e.children,t.children)}function K6e(e,t){return e===t||Do(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&zc.visit(e.indices,t.indices)&&zc.visit(e.dictionary,t.dictionary)}function aD(e,t){return e===t||Do(e,t)&&e.unit===t.unit}function Y6e(e,t){return e===t||Do(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&zc.compareManyFields(e.children,t.children)}function Q6e(e,t){return e===t||Do(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&zc.compareManyFields(e.children,t.children)}St.prototype.visitNull=c0;St.prototype.visitBool=c0;St.prototype.visitInt=Ru;St.prototype.visitInt8=Ru;St.prototype.visitInt16=Ru;St.prototype.visitInt32=Ru;St.prototype.visitInt64=Ru;St.prototype.visitUint8=Ru;St.prototype.visitUint16=Ru;St.prototype.visitUint32=Ru;St.prototype.visitUint64=Ru;St.prototype.visitFloat=eP;St.prototype.visitFloat16=eP;St.prototype.visitFloat32=eP;St.prototype.visitFloat64=eP;St.prototype.visitUtf8=c0;St.prototype.visitBinary=c0;St.prototype.visitFixedSizeBinary=W6e;St.prototype.visitDate=oD;St.prototype.visitDateDay=oD;St.prototype.visitDateMillisecond=oD;St.prototype.visitTimestamp=f0;St.prototype.visitTimestampSecond=f0;St.prototype.visitTimestampMillisecond=f0;St.prototype.visitTimestampMicrosecond=f0;St.prototype.visitTimestampNanosecond=f0;St.prototype.visitTime=d0;St.prototype.visitTimeSecond=d0;St.prototype.visitTimeMillisecond=d0;St.prototype.visitTimeMicrosecond=d0;St.prototype.visitTimeNanosecond=d0;St.prototype.visitDecimal=c0;St.prototype.visitList=q6e;St.prototype.visitStruct=G6e;St.prototype.visitUnion=sD;St.prototype.visitDenseUnion=sD;St.prototype.visitSparseUnion=sD;St.prototype.visitDictionary=K6e;St.prototype.visitInterval=aD;St.prototype.visitIntervalDayTime=aD;St.prototype.visitIntervalYearMonth=aD;St.prototype.visitFixedSizeList=Y6e;St.prototype.visitMap=Q6e;const zc=new St;function ek(e,t){return zc.compareSchemas(e,t)}function WS(e){const t=e.type,n=new(H6e.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},o=Array.isArray(r)?(s,a)=>r[a]||i:({name:s})=>r[s]||i;for(const[s,a]of t.children.entries()){const{type:l}=a,u=o(a,s);n.children.push(WS(Object.assign(Object.assign({},u),{type:l})))}}return n}function JO(e,t){return X6e(e,t.map(n=>n.data.concat()))}function X6e(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let o=0,s=0,a=-1;const l=t.length;let u,c=[];for(;i.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=t[a].shift(),s=Math.min(s,u?u.length:s);Number.isFinite(s)&&(c=J6e(n,s,c,t,i),s>0&&(r[o++]=Ni({type:new Li(n),length:s,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new zo(e,f))]}function J6e(e,t,n,r,i){var o;const s=(t+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u==null?void 0:u.length;if(c>=t)c===t?n[a]=u:(n[a]=u.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(o=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&o!==void 0?o:Ni({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(s)})}}return n}var yee;class wo{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new sr([]),this._offsets=[0],this;let i,o;t[0]instanceof sr&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(o=t.pop());const s=l=>{if(l){if(l instanceof zo)return[l];if(l instanceof wo)return l.batches;if(l instanceof On){if(l.type instanceof Li)return[new zo(new sr(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>s(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>s(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(h=>new cn([l[h]])),f=new sr(u.map((h,p)=>new yn(String(h),c[p].type))),[,d]=JO(f,c);return d.length===0?[new zo(l)]:d}}}return[]},a=t.flatMap(l=>s(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new sr([]),!(i instanceof sr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof zo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!ek(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=o??FZ(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=jZ(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?rD.visit(new cn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new wo(n,r.map(i=>new zo(n,i)))}slice(t,n){const r=this.schema;[t,n]=DZ({length:this.numRows},t,n);const i=VZ(this.data,this._offsets,t,n);return new wo(r,i.map(o=>new zo(r,o)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Ni({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new cn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new cn([Ni({type:new pu,length:this.numRows})]));const o=r.fields.slice(),s=o[t].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[o[t],a[t]]=[s,n],[r,i]=JO(r,a)}return new wo(r,i)}select(t){const n=this.schema.fields.reduce((r,i,o)=>r.set(i.name,o),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new wo(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,l,u)=>{const[c,f]=a,d=n.findIndex(h=>h.name===l.name);return~d?f[d]=u:c.push(u),a},[[],[]]),o=this.schema.assign(t.schema),s=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):t.getChildAt(l)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new wo(...JO(o,s))}}yee=Symbol.toStringTag;wo[yee]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=ip(nD),e.get=ip(Ao.getVisitFn(K.Struct)),e.set=BZ(Ds.getVisitFn(K.Struct)),e.indexOf=zZ(LS.getVisitFn(K.Struct)),e.getByteLength=ip(hl.getVisitFn(K.Struct)),"Table"))(wo.prototype);var vee;let zo=class Ag{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof sr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ni({nullCount:0,type:new Li(this.schema.fields),children:this.schema.fields.map(n=>Ni({type:n.type,nullCount:0}))})]=t,!(this.data instanceof On))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=AB(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:o}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=yn.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),s=new sr(r),a=Ni({type:new Li(r),length:o,children:i,nullCount:0});[this.schema,this.data]=AB(s,a.children,o);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=_ee(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Ao.visit(this.data,t)}set(t,n){return Ds.visit(this.data,t,n)}indexOf(t,n){return LS.visit(this.data,t,n)}getByteLength(t){return hl.visit(this.data,t)}[Symbol.iterator](){return rD.visit(new cn([this.data]))}toArray(){return[...this]}concat(...t){return new wo(this.schema,[this,...t])}slice(t,n){const[r]=new cn([this.data]).slice(t,n).data;return new Ag(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new cn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new cn([Ni({type:new pu,length:this.numRows})]));const o=r.fields.slice(),s=i.children.slice(),a=o[t].clone({type:n.type});[o[t],s[t]]=[a,n.data[0]],r=new sr(o,new Map(this.schema.metadata)),i=Ni({type:new Li(o),children:s})}return new Ag(r,i)}select(t){const n=this.schema.select(t),r=new Li(n.fields),i=[];for(const o of t){const s=this.schema.fields.findIndex(a=>a.name===o);~s&&(i[s]=this.data.children[s])}return new Ag(n,Ni({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(o=>this.data.children[o]).filter(Boolean),i=Ni({type:new Li(n.fields),length:this.numRows,children:r});return new Ag(n,i)}};vee=Symbol.toStringTag;zo[vee]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(zo.prototype);function AB(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],o=[...t],s=(n+63&-64)>>3;for(const[a,l]of e.fields.entries()){const u=t[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),o[a]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Ni({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(s)}))}return[e.assign(i),Ni({type:new Li(i),length:n,children:o})]}function _ee(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const s=e[r].type,a=t[r];if(Bt.isDictionary(s)){if(!n.has(s.id))a.dictionary&&n.set(s.id,a.dictionary);else if(n.get(s.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&_ee(s.children,a.children,n)}return n}class Z6e extends zo{constructor(t){const n=t.fields.map(i=>Ni({type:i.type})),r=Ni({type:new Li(t.fields),nullCount:0,children:n});super(t,r)}}var qS;(function(e){e[e.BUFFER=0]="BUFFER"})(qS||(qS={}));var GS;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(GS||(GS={}));class Qu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new Qu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Rn),(n||new Qu).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):GS.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):qS.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,GS.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,qS.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return Qu.startBodyCompression(t),Qu.addCodec(t,n),Qu.addMethod(t,r),Qu.endBodyCompression(t)}}class wee{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let bee=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},$l=class tk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new tk).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Rn),(n||new tk).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new bee).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new wee).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new Qu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},dh=class nk{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new nk).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Rn),(n||new nk).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new $l).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var KS;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(KS||(KS={}));let Bu=class Ia{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new Ia).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Rn),(n||new Ia).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Fp.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):KS.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Vr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Fp.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,KS.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,o,s){return Ia.startMessage(t),Ia.addVersion(t,n),Ia.addHeaderType(t,r),Ia.addHeader(t,i),Ia.addBodyLength(t,o),Ia.addCustomMetadata(t,s),Ia.endMessage(t)}};var e3e=eu;class t3e extends Xt{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Uf.startNull(n),Uf.endNull(n)}visitInt(t,n){return Bo.startInt(n),Bo.addBitWidth(n,t.bitWidth),Bo.addIsSigned(n,t.isSigned),Bo.endInt(n)}visitFloat(t,n){return Va.startFloatingPoint(n),Va.addPrecision(n,t.precision),Va.endFloatingPoint(n)}visitBinary(t,n){return Vf.startBinary(n),Vf.endBinary(n)}visitBool(t,n){return Bf.startBool(n),Bf.endBool(n)}visitUtf8(t,n){return Wf.startUtf8(n),Wf.endUtf8(n)}visitDecimal(t,n){return yo.startDecimal(n),yo.addScale(n,t.scale),yo.addPrecision(n,t.precision),yo.addBitWidth(n,t.bitWidth),yo.endDecimal(n)}visitDate(t,n){return Aw.startDate(n),Aw.addUnit(n,t.unit),Aw.endDate(n)}visitTime(t,n){return bs.startTime(n),bs.addUnit(n,t.unit),bs.addBitWidth(n,t.bitWidth),bs.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return kg.startTimestamp(n),kg.addUnit(n,t.unit),r!==void 0&&kg.addTimezone(n,r),kg.endTimestamp(n)}visitInterval(t,n){return Ba.startInterval(n),Ba.addUnit(n,t.unit),Ba.endInterval(n)}visitList(t,n){return zf.startList(n),zf.endList(n)}visitStruct(t,n){return Hf.startStruct_(n),Hf.endStruct_(n)}visitUnion(t,n){_o.startTypeIdsVector(n,t.typeIds.length);const r=_o.createTypeIdsVector(n,t.typeIds);return _o.startUnion(n),_o.addMode(n,t.mode),_o.addTypeIds(n,r),_o.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Ml.startDictionaryEncoding(n),Ml.addId(n,new e3e(t.id,0)),Ml.addIsOrdered(n,t.isOrdered),r!==void 0&&Ml.addIndexType(n,r),Ml.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return ja.startFixedSizeBinary(n),ja.addByteWidth(n,t.byteWidth),ja.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Fa.startFixedSizeList(n),Fa.addListSize(n,t.listSize),Fa.endFixedSizeList(n)}visitMap(t,n){return Rw.startMap(n),Rw.addKeysSorted(n,t.keysSorted),Rw.endMap(n)}}const ZO=new t3e;function n3e(e,t=new Map){return new sr(i3e(e,t),Dw(e.customMetadata),t)}function See(e){return new ns(e.count,Eee(e.columns),xee(e.columns))}function r3e(e){return new pl(See(e.data),e.id,e.isDelta)}function i3e(e,t){return(e.fields||[]).filter(Boolean).map(n=>yn.fromJSON(n,t))}function RB(e,t){return(e.children||[]).filter(Boolean).map(n=>yn.fromJSON(n,t))}function Eee(e){return(e||[]).reduce((t,n)=>[...t,new Bd(n.count,o3e(n.VALIDITY)),...Eee(n.children)],[])}function xee(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new qa(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new qa(t.length,i.TYPE.length)),i.OFFSET&&t.push(new qa(t.length,i.OFFSET.length)),i.DATA&&t.push(new qa(t.length,i.DATA.length)),t=xee(i.children,t)}return t}function o3e(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function s3e(e,t){let n,r,i,o,s,a;return!t||!(o=e.dictionary)?(s=DB(e,RB(e,t)),i=new yn(e.name,s,e.nullable,Dw(e.customMetadata))):t.has(n=o.id)?(r=(r=o.indexType)?NB(r):new jc,a=new Vc(t.get(n),r,n,o.isOrdered),i=new yn(e.name,a,e.nullable,Dw(e.customMetadata))):(r=(r=o.indexType)?NB(r):new jc,t.set(n,s=DB(e,RB(e,t))),a=new Vc(s,r,n,o.isOrdered),i=new yn(e.name,a,e.nullable,Dw(e.customMetadata))),i||null}function Dw(e){return new Map(Object.entries(e||{}))}function NB(e){return new to(e.isSigned,e.bitWidth)}function DB(e,t){const n=e.type.name;switch(n){case"NONE":return new pu;case"null":return new pu;case"binary":return new tv;case"utf8":return new Np;case"bool":return new nv;case"list":return new Lp((t||[])[0]);case"struct":return new Li(t||[]);case"struct_":return new Li(t||[])}switch(n){case"int":{const r=e.type;return new to(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new Fc(_i[r.precision])}case"decimal":{const r=e.type;return new NS(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new Dp(fl[r.unit])}case"time":{const r=e.type;return new mu(Qt[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new DS(Qt[r.unit],r.timezone)}case"interval":{const r=e.type;return new Mp(dl[r.unit])}case"union":{const r=e.type;return new rv(Ns[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new MS(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new jp(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new iv((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var vd=eu,a3e=JZ,l3e=FS;class za{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new za(0,Uo.V4,n);return r._createHeader=u3e(t,n),r}static decode(t){t=new l3e(wn(t));const n=Bu.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),o=n.headerType(),s=new za(r,i,o);return s._createHeader=c3e(n,o),s}static encode(t){const n=new a3e;let r=-1;return t.isSchema()?r=sr.encode(n,t.header()):t.isRecordBatch()?r=ns.encode(n,t.header()):t.isDictionaryBatch()&&(r=pl.encode(n,t.header())),Bu.startMessage(n),Bu.addVersion(n,Uo.V4),Bu.addHeader(n,r),Bu.addHeaderType(n,t.headerType),Bu.addBodyLength(n,new vd(t.bodyLength,0)),Bu.finishMessageBuffer(n,Bu.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof sr)return new za(0,Uo.V4,ei.Schema,t);if(t instanceof ns)return new za(n,Uo.V4,ei.RecordBatch,t);if(t instanceof pl)return new za(n,Uo.V4,ei.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ei.Schema}isRecordBatch(){return this.headerType===ei.RecordBatch}isDictionaryBatch(){return this.headerType===ei.DictionaryBatch}}class ns{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class pl{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class qa{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class Bd{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function u3e(e,t){return()=>{switch(t){case ei.Schema:return sr.fromJSON(e);case ei.RecordBatch:return ns.fromJSON(e);case ei.DictionaryBatch:return pl.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${ei[t]}, type: ${t} }`)}}function c3e(e,t){return()=>{switch(t){case ei.Schema:return sr.decode(e.header(new Ca));case ei.RecordBatch:return ns.decode(e.header(new $l),e.version());case ei.DictionaryBatch:return pl.decode(e.header(new dh),e.version())}throw new Error(`Unrecognized Message type: { name: ${ei[t]}, type: ${t} }`)}}yn.encode=b3e;yn.decode=_3e;yn.fromJSON=s3e;sr.encode=w3e;sr.decode=f3e;sr.fromJSON=n3e;ns.encode=S3e;ns.decode=d3e;ns.fromJSON=See;pl.encode=E3e;pl.decode=h3e;pl.fromJSON=r3e;Bd.encode=x3e;Bd.decode=m3e;qa.encode=P3e;qa.decode=p3e;function f3e(e,t=new Map){const n=v3e(e,t);return new sr(n,Mw(e),t)}function d3e(e,t=Uo.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new ns(e.length(),g3e(e),y3e(e,t))}function h3e(e,t=Uo.V4){return new pl(ns.decode(e.data(),t),e.id(),e.isDelta())}function p3e(e){return new qa(e.offset(),e.length())}function m3e(e){return new Bd(e.length(),e.nullCount())}function g3e(e){const t=[];for(let n,r=-1,i=-1,o=e.nodesLength();++r<o;)(n=e.nodes(r))&&(t[++i]=Bd.decode(n));return t}function y3e(e,t){const n=[];for(let r,i=-1,o=-1,s=e.buffersLength();++i<s;)(r=e.buffers(i))&&(t<Uo.V4&&(r.bb_pos+=8*(i+1)),n[++o]=qa.decode(r));return n}function v3e(e,t){const n=[];for(let r,i=-1,o=-1,s=e.fieldsLength();++i<s;)(r=e.fields(i))&&(n[++o]=yn.decode(r,t));return n}function MB(e,t){const n=[];for(let r,i=-1,o=-1,s=e.childrenLength();++i<s;)(r=e.children(i))&&(n[++o]=yn.decode(r,t));return n}function _3e(e,t){let n,r,i,o,s,a;return!t||!(a=e.dictionary())?(i=jB(e,MB(e,t)),r=new yn(e.name(),i,e.nullable(),Mw(e))):t.has(n=a.id().low)?(o=(o=a.indexType())?LB(o):new jc,s=new Vc(t.get(n),o,n,a.isOrdered()),r=new yn(e.name(),s,e.nullable(),Mw(e))):(o=(o=a.indexType())?LB(o):new jc,t.set(n,i=jB(e,MB(e,t))),s=new Vc(i,o,n,a.isOrdered()),r=new yn(e.name(),s,e.nullable(),Mw(e))),r||null}function Mw(e){const t=new Map;if(e)for(let n,r,i=-1,o=Math.trunc(e.customMetadataLength());++i<o;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function LB(e){return new to(e.isSigned(),e.bitWidth())}function jB(e,t){const n=e.typeType();switch(n){case ir.NONE:return new pu;case ir.Null:return new pu;case ir.Binary:return new tv;case ir.Utf8:return new Np;case ir.Bool:return new nv;case ir.List:return new Lp((t||[])[0]);case ir.Struct_:return new Li(t||[])}switch(n){case ir.Int:{const r=e.type(new Bo);return new to(r.isSigned(),r.bitWidth())}case ir.FloatingPoint:{const r=e.type(new Va);return new Fc(r.precision())}case ir.Decimal:{const r=e.type(new yo);return new NS(r.scale(),r.precision(),r.bitWidth())}case ir.Date:{const r=e.type(new Aw);return new Dp(r.unit())}case ir.Time:{const r=e.type(new bs);return new mu(r.unit(),r.bitWidth())}case ir.Timestamp:{const r=e.type(new kg);return new DS(r.unit(),r.timezone())}case ir.Interval:{const r=e.type(new Ba);return new Mp(r.unit())}case ir.Union:{const r=e.type(new _o);return new rv(r.mode(),r.typeIdsArray()||[],t||[])}case ir.FixedSizeBinary:{const r=e.type(new ja);return new MS(r.byteWidth())}case ir.FixedSizeList:{const r=e.type(new Fa);return new jp(r.listSize(),(t||[])[0])}case ir.Map:{const r=e.type(new Rw);return new iv((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${ir[n]}" (${n})`)}function w3e(e,t){const n=t.fields.map(o=>yn.encode(e,o));Ca.startFieldsVector(e,n.length);const r=Ca.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Ca.createCustomMetadataVector(e,[...t.metadata].map(([o,s])=>{const a=e.createString(`${o}`),l=e.createString(`${s}`);return Vr.startKeyValue(e),Vr.addKey(e,a),Vr.addValue(e,l),Vr.endKeyValue(e)})):-1;return Ca.startSchema(e),Ca.addFields(e,r),Ca.addEndianness(e,I3e?Vp.Little:Vp.Big),i!==-1&&Ca.addCustomMetadata(e,i),Ca.endSchema(e)}function b3e(e,t){let n=-1,r=-1,i=-1;const o=t.type;let s=t.typeId;Bt.isDictionary(o)?(s=o.dictionary.typeId,i=ZO.visit(o,e),r=ZO.visit(o.dictionary,e)):r=ZO.visit(o,e);const a=(o.children||[]).map(c=>yn.encode(e,c)),l=ms.createChildrenVector(e,a),u=t.metadata&&t.metadata.size>0?ms.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Vr.startKeyValue(e),Vr.addKey(e,d),Vr.addValue(e,h),Vr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),ms.startField(e),ms.addType(e,r),ms.addTypeType(e,s),ms.addChildren(e,l),ms.addNullable(e,!!t.nullable),n!==-1&&ms.addName(e,n),i!==-1&&ms.addDictionary(e,i),u!==-1&&ms.addCustomMetadata(e,u),ms.endField(e)}function S3e(e,t){const n=t.nodes||[],r=t.buffers||[];$l.startNodesVector(e,n.length);for(const s of n.slice().reverse())Bd.encode(e,s);const i=e.endVector();$l.startBuffersVector(e,r.length);for(const s of r.slice().reverse())qa.encode(e,s);const o=e.endVector();return $l.startRecordBatch(e),$l.addLength(e,new vd(t.length,0)),$l.addNodes(e,i),$l.addBuffers(e,o),$l.endRecordBatch(e)}function E3e(e,t){const n=ns.encode(e,t.data);return dh.startDictionaryBatch(e),dh.addId(e,new vd(t.id,0)),dh.addIsDelta(e,t.isDelta),dh.addData(e,n),dh.endDictionaryBatch(e)}function x3e(e,t){return bee.createFieldNode(e,new vd(t.length,0),new vd(t.nullCount,0))}function P3e(e,t){return wee.createBuffer(e,new vd(t.offset,0),new vd(t.length,0))}const I3e=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),rk="ARROW1",lD=new Uint8Array(rk.length);for(let e=0;e<rk.length;e+=1)lD[e]=rk.codePointAt(e);lD.length;class Dr extends Xt{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(o=>Array.isArray(o)?n(o):o instanceof zo?o.data.children:o.data),r=new Dr;return r.visitMany(n(t)),r}visit(t){if(t instanceof cn)return this.visitMany(t.data),this;const{type:n}=t;if(!Bt.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Bt.isNull(n)||ha.call(this,i<=0?new Uint8Array(0):Z2(t.offset,r,t.nullBitmap)),this.nodes.push(new Bd(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function ha(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new qa(this._byteLength,t)),this._byteLength+=t,this}function O3e(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(ha.call(this,r),t.mode===Ns.Sparse)return ik.call(this,e);if(t.mode===Ns.Dense){if(e.offset<=0)return ha.call(this,i),ik.call(this,e);{const o=r.reduce((c,f)=>Math.max(c,f),r[0]),s=new Int32Array(o+1),a=new Int32Array(o+1).fill(-1),l=new Int32Array(n),u=I2(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=u[c]),l[d]=u[d]-f,++s[c];ha.call(this,l);for(let c,f=-1,d=t.children.length;++f<d;)if(c=e.children[f]){const h=t.typeIds[f],p=Math.min(n,s[h]);this.visit(c.slice(a[h],p))}}}return this}function T3e(e){let t;return e.nullCount>=e.length?ha.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?ha.call(this,Z2(e.offset,e.length,t)):ha.call(this,LZ(e.values))}function af(e){return ha.call(this,e.values.subarray(0,e.length*e.stride))}function Pee(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],o=r[t],s=Math.min(o-i,n.byteLength-i);return ha.call(this,I2(-r[0],t,r)),ha.call(this,n.subarray(i,i+s)),this}function uD(e){const{length:t,valueOffsets:n}=e;return n&&ha.call(this,I2(n[0],t,n)),this.visit(e.children[0])}function ik(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Dr.prototype.visitBool=T3e;Dr.prototype.visitInt=af;Dr.prototype.visitFloat=af;Dr.prototype.visitUtf8=Pee;Dr.prototype.visitBinary=Pee;Dr.prototype.visitFixedSizeBinary=af;Dr.prototype.visitDate=af;Dr.prototype.visitTimestamp=af;Dr.prototype.visitTime=af;Dr.prototype.visitDecimal=af;Dr.prototype.visitList=uD;Dr.prototype.visitStruct=ik;Dr.prototype.visitUnion=O3e;Dr.prototype.visitInterval=af;Dr.prototype.visitFixedSizeList=uD;Dr.prototype.visitMap=uD;class Iee extends eee{constructor(t){super(),this._position=0,this._started=!1,this._sink=new XO,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,nf(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Wx(t)?t.then(n=>this.writeAll(n)):qx(t)?hD(this,t):dD(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof XO?this._sink=t:(this._sink=new XO,t&&MFe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&LFe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!ek(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof wo&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof zo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!ek(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof zo?t instanceof Z6e||this._writeRecordBatch(t):t instanceof wo?this.writeAll(t.batches):x2(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=za.encode(t),o=i.byteLength,s=this._writeLegacyIpcFormat?4:8,a=o+s+r&~r,l=a-o-s;return t.headerType===ei.RecordBatch?this._recordBatchBlocks.push(new Bc(a,t.bodyLength,this._position)):t.headerType===ei.DictionaryBatch&&this._dictionaryBlocks.push(new Bc(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-s)),o>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const n=wn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(za.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(lD)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:o}=Dr.assemble(t),s=new ns(t.numRows,r,i),a=za.from(s,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(o)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:o,bufferRegions:s,buffers:a}=Dr.assemble(new cn([t])),l=new ns(t.length,o,s),u=new pl(l,n,r),c=za.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let o=-1,s=t.length;++o<s;)(n=t[o])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const o of r.data)this._writeDictionaryBatch(o,n,i>0),i+=o.length}return this}}class cD extends Iee{static writeAll(t,n){const r=new cD(n);return Wx(t)?t.then(i=>r.writeAll(i)):qx(t)?hD(r,t):dD(r,t)}}class fD extends Iee{static writeAll(t){const n=new fD;return Wx(t)?t.then(r=>n.writeAll(r)):qx(t)?hD(n,t):dD(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=Z$.encode(new Z$(t,Uo.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function dD(e,t){let n=t;t instanceof wo&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function hD(e,t){var n,r,i,o;return Nl(this,void 0,void 0,function*(){try{for(n=ly(t);r=yield n.next(),!r.done;){const s=r.value;e.write(s)}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}return e.finish()})}function C3e(e,t="stream"){return(t==="stream"?cD:fD).writeAll(e).toUint8Array(!0)}function pD(e,t=1){return(e*t+63&-64||64)/t}function Uc(e,t,n=e.BYTES_PER_ELEMENT){return new e(pD(t,n))}function mD(e){return e instanceof On?e:new On(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function $3e(e){return new cn([mD(e)])}const gD=new TextEncoder;function k3e(e,t,n){const r=gD.encode(n);return e.set(r,t),r.length}function A3e(e,t,n){return gD.encodeInto(n,e.subarray(t)).written}const R3e=gD.encodeInto?A3e:k3e;function FB(e,t){const n=Uc(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function N3e(e,t){const n=Uc(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function D3e(e,t){const n=Uc(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function M3e(e,t){const n=Uc(e.ArrayType,t<<1);return{set(r,i){const o=i<<1;n[o]=r%4294967296|0,n[o+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function L3e(e){const t=WS({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function j3e(e,t,n){const r=Uc(Int32Array,t+1),i=Uc(Uint8Array,3*n);let o=0;return{set(s,a){o+=R3e(i,o,s),r[a+1]=o},data:()=>{const s=pD(o),a=i.length>s?i.subarray(0,s):i;return{type:e,length:t,buffers:[r,a]}}}}function F3e(e,t){const n=[],r=Uc(e.indices.ArrayType,t),i=Object.create(null);let o=-1,s=0;return{set(a,l){const u=String(a);let c=i[u];c===void 0&&(s+=u.length,i[u]=c=++o,n.push(u)),r[l]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:V3e(e.dictionary,n,s)})}}function V3e(e,t,n){const r=j3e(e,t.length,n);return t.forEach(r.set),$3e(r.data())}function B3e(e,t){const n=Uc(Uint8Array,t/8);let r=0;return{set(i,o){i==null?++r:(e.set(i,o),n[o>>3]|=1<<o%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function z3e(e,t,n=!0){let r;switch(e.typeId){case K.Int:r=e.bitWidth<64?FB:null;break;case K.Float:r=e.precision>0?FB:null;break;case K.Dictionary:r=e.dictionary.typeId===K.Utf8&&e.indices.typeId===K.Int&&e.indices.bitWidth<64?F3e:null;break;case K.Bool:r=N3e;break;case K.Date:r=e.unit?M3e:D3e;break}return r==null?L3e(e):n?B3e(r(e,t),t):r(e,t)}function U3e(e,t){const n=e.length,r=pD(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),mD({type:t,length:n,buffers:[null,i]})}function Oee(e,t,n,r,i=!0){const o=z3e(r,e,i);return t(n,o.set),mD(o.data())}function yD(e){if(e instanceof Bt||e==null)return e;switch(e){case K.Binary:return new tv;case K.Bool:return new nv;case K.DateDay:return new XFe;case K.DateMillisecond:case K.Date:return new JFe;case K.Dictionary:return new Vc(new Np,new jc);case K.Float16:return new iZ;case K.Float32:return new D2;case K.Float64:case K.Float:return new M2;case K.Int8:return new T2;case K.Int16:return new C2;case K.Int32:case K.Int:return new jc;case K.Int64:return new $2;case K.IntervalDayTime:return new r4e;case K.Interval:case K.IntervalYearMonth:return new i4e;case K.Null:return new pu;case K.TimeMicrosecond:return new t4e;case K.TimeMillisecond:case K.Time:return new e4e;case K.TimeNanosecond:return new n4e;case K.TimeSecond:return new ZFe;case K.Uint8:return new k2;case K.Uint16:return new A2;case K.Uint32:return new R2;case K.Uint64:return new N2;case K.Utf8:return new Np;default:At(`Unsupported type code: ${ul(e)}. Use a data type constructor instead?`)}}function H3e(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Tee(e,t){const n=ok();return e(t,n.add),n}function ok(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(hu(t))++e.dates,H3e(t)&&++e.utcdays;else if(jf(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=ok());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=ok())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return yD(W3e(e))}};return e}function W3e(e){const t=e.count-e.nulls;if(t===0)return K.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?K.Float64:n<128?K.Int8:n<32768?K.Int16:K.Int32:n>=2**32?K.Float64:n<256?K.Uint8:n<65536?K.Uint16:K.Uint32}else{if(e.nums===t)return K.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?K.Int64:At(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?K.Uint64:At(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return K.Bool;if(e.utcdays===t)return K.DateDay;if(e.dates===t)return K.DateMillisecond;if(e.arrays===t){const n=yn.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new jp(e.minlen,n):new Lp(n)}else if(e.structs===t){const n=e.struct_prof;return new Li(Object.keys(n).map(r=>yn.new(r,n[r].type(),!0)))}else{if(e.strings>0)return K.Dictionary;At("Type inference failure")}}}}function q3e(e,t,n,r,i,o=!0){if(i=yD(i),!i){const s=Tee(r,t);o=s.nulls>0,i=s.type()}return Oee(n,r,t,i,o)}function G3e(e,t,n,r,i,o=!0){i=yD(i);const s=e.column(t),a=!(e.isFiltered()||e.isOrdered()),l=K3e(s);if(l&&a&&VB(l.type,i))return l;const u=s.data;if(a0(u)){const c=Y3e(u);if(a&&c&&VB(c,i))return U3e(u,c);i=i||c,o=!1}if(!i){const c=Tee(r,s);o=c.nulls>0,i=c.type()}return Oee(n,r,s,i,o)}function K3e(e){return e instanceof cn?e:e.vector instanceof cn?e.vector:null}function Y3e(e){const n={Float32Array:D2,Float64Array:M2,Int8Array:T2,Int16Array:C2,Int32Array:jc,Uint8Array:k2,Uint16Array:A2,Uint32Array:R2,BigInt64Array:$2,BigUint64Array:N2}[e.constructor.name];return n?new n:null}function VB(e,t){return!e||!t?!0:e.compareTo(t)}function Q3e(e,t,n){const r=Math.min(e.length,n+t);return(i,o)=>{for(let s=n;s<r;++s)o(e[s][i],s)}}function X3e(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,o)=>{let s=-1;r&&jf(i.data)?i.data.forEach(o):e.scan(a=>o(i.get(a),++s),!0,t,n)}}const J3e=()=>At("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function Z3e(){try{return wo}catch{J3e()}}function Cee(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:o,scan:s}=eVe(e,t),a={};i.forEach(u=>{const c=r(e,u,o,s,n[u]);c.length!==o&&At("Column length mismatch"),a[u]=c});const l=Z3e();return new l(a)}function eVe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,o=Hn(n)?n(e):un(n)?n:null;if(un(e))return{dataFrom:q3e,names:o||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:Q3e(e,r,i)};if(tVe(e))return{dataFrom:G3e,names:o||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:X3e(e,r,i)};At("Unsupported input data type")}function tVe(e){return e&&Hn(e.reify)}function nVe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return C3e(Cee(e,r),n)}function rVe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function iVe(e,t={}){let n=0,r=0,i=0,o=0,s=0,a=0;return e(l=>{if(++n,l==null){++r;return}const u=typeof l;if(u==="object"&&hu(l))++i,rVe(l)&&++o;else if(u==="number"&&(++s,l===l&&(l|0)!==l)){const c=l+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+s+i)/n>.5?"r":"l",format:{utc:i===o,digits:Math.min(a,t.maxdigits||6)}}}function tP(e,t){return Hn(t)?t(e):t||e.columnNames()}function $ee(e,t,n){const r=n.format||{},i=n.align||{},o={},s={};return t.forEach(a=>{const l=iVe(oVe(e,a),n);s[a]=i[a]||l.align,o[a]=r[a]||l.format}),{align:s,format:o}}function oVe(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function vD(e,t,n=100,r,i){const o=e.data(),s=t.length;e.scan(a=>{i.row(a);for(let l=0;l<s;++l){const u=t[l];i.cell(o[t[l]].get(a),u,l)}},!0,n,r)}function sVe(e,t={}){const n=tP(e,t.columns),r=t.format||{},i=t.delimiter||",",o=new RegExp(`["${i}
\r]`),s=u=>u==null?"":hu(u)?Ux(u,!0):o.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u,a=n.map(s);let l="";return vD(e,n,t.limit||1/0,t.offset,{row(){l+=a.join(i)+`
`},cell(u,c,f){a[f]=s(r[c]?r[c](u):u)}}),l+a.join(i)}function kee(e,t={}){if(Hn(t))return t(e)+"";const n=typeof e;if(n==="object"){if(hu(e))return t.utc?Ux(e):uJ(e);{const r=JSON.stringify(e,(o,s)=>a0(s)?Array.from(s):s),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function nP(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function aVe(e,t={}){const n=tP(e,t.columns),{align:r,format:i}=$ee(e,n,t),o=lVe(t),s=t.null,a=g=>g==="c"?"center":g==="r"?"right":"left",l=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=(g,y)=>l(kee(g,y)),c=s?(g,y)=>g==null?s(g):u(g,y):u;let f=-1,d=-1;const h=(g,y,m)=>{const v=m?a(r[y]):"",_=o[g]&&o[g](y,d,f)||"",b=(v?`text-align: ${v};`+(_?" ":""):"")+_;return`<${g}${b?` style="${b}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(g=>`${h("th",g,1)}${g}</th>`).join("")+"</tr></thead>"+h("tbody");return vD(e,n,t.limit,t.offset,{row(g){f=g,p+=(++d?"</tr>":"")+h("tr")},cell(g,y){p+=h("td",y,1)+c(g,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function lVe(e){return nP(e.style,t=>Hn(t)?t:()=>t)}function uVe(e,t=!0,n=!1){return e===void 0||e?t:n}const cVe=e=>hu(e)?Ux(e,!0):e;function fVe(e,t={}){const n=uVe(t.schema),r=t.format||{},i=tP(e,t.columns);let o="{";return n&&(o+='"schema":{"fields":'+JSON.stringify(i.map(s=>({name:s})))+'},"data":{'),i.forEach((s,a)=>{o+=(a?",":"")+JSON.stringify(s)+":[";const l=e.column(s),u=r[s]||cVe;let c=-1;e.scan(f=>{const d=l.get(f);o+=(++c?",":"")+JSON.stringify(u(d))},!0,t.limit,t.offset),o+="]"}),o+"}"+(n?"}":"")}function dVe(e,t={}){const n=tP(e,t.columns),{align:r,format:i}=$ee(e,n,t),o=l=>l==="c"?":-:":l==="r"?"-:":":-",s=l=>l.replace(/\|/g,"\\|");let a="|"+n.map(s).join("|")+`|
|`+n.map(l=>o(r[l])).join("|")+"|";return vD(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(l,u){a+=s(kee(l,i[u]))+"|"}}),a+`
`}function Aee(e,t){for(const[n,r]of Hx(t))e.set(n,r);return e}function hVe(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function gu(e,t,n=new Map){return t=eo(t)?e.columnName(t):t,Ei(t)?n.set(t,t):un(t)?t.forEach(r=>gu(e,r,n)):Hn(t)?gu(e,t(e),n):Bi(t)?Aee(n,t):At(`Invalid column selection: ${ul(t)}`),n}function rP(e,t){return e.toObject=t,e}function Ree(e){return un(e)?e.map(Ree):e&&e.toObject?e.toObject():e}function zp(){return rP(e=>e.columnNames(),()=>({all:[]}))}function Nee(...e){return e=e.flat(),rP(t=>{const n=gu(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:Ree(e)}))}function pVe(e,t){return rP(n=>{let r=eo(e)?e:n.columnIndex(e),i=eo(t)?t:n.columnIndex(t);if(i<r){const o=i;i=r,r=o}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function mVe(e){return Ei(e)&&(e=RegExp(hVe(e))),rP(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function gVe(e){return a0(e.data)?e.data.constructor:Array}class Ll extends Dje{static from(t,n){return new Ll(jje(t,n),n)}static new(t,n){if(t instanceof Ll)return t;const r={},i=[];for(const[o,s]of Hx(t))r[o]=s,i.push(o);return new Ll(r,n||i)}constructor(t,n,r,i,o,s){nP(t,Lje,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,o,s)}create({data:t,names:n,filter:r,groups:i,order:o}){const s=r!==void 0?r:this.mask();return new Ll(t||this._data,n||(t?null:this._names),s,i!==void 0?i:hFe(this._group,r&&s),o!==void 0?o:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=cs(r).groupby(r.groups());return t.forEach(o=>{o=Ll.new(o),o.numRows()!==n&&At("Assign row counts do not match"),o=o.reify(),o.columnNames(s=>i.add(s,o.column(s)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let o=-1;return this.scan(s=>i[++o]=r.get(s),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):At(`Unrecognized column: ${t}`)}object(t=0){return BB(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,o=gu(this,t.columns||zp()),s=NJ(o),a=[];if(this.scan((l,u)=>a.push(s(l,u)),!0,r,i),n&&this.isGrouped()){const l=[];return this.scan(u=>l.push(u),!0,r,i),mFe(this,l,a,n)}return a}*[Symbol.iterator](){const t=BB(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,o;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const s=t?l=>t.forEach(l):l=>this.scan(l,!0),a=r.length;i={};for(let l=0;l<a;++l){const u=r[l],c=this.column(u),f=i[u]=new(gVe(c))(n);let d=-1;s(h=>f[++d]=c.get(h))}this.isGrouped()&&(o=pFe(this.groups(),s,!!t,n))}return this.create({data:i,names:r,groups:o,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return Cee(this,t)}toArrowBuffer(t){return nVe(this,t)}toCSV(t){return sVe(this,t)}toHTML(t){return aVe(this,t)}toJSON(t){return fVe(this,t)}toMarkdown(t){return dVe(this,t)}}function BB(e){let t=e._builder;if(!t){const n=NJ(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=o=>n(i[o],r)}else t=i=>n(i,r);e._builder=t}return t}class yVe{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function tn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const o=vVe[e.type];o&&o(e,t,n)}const D_=(e,t,n)=>{tn(e.argument,t,n,e)},eT=(e,t,n)=>{tn(e.left,t,n,e),tn(e.right,t,n,e)},zB=(e,t,n)=>{tn(e.test,t,n,e),tn(e.consequent,t,n,e),e.alternate&&tn(e.alternate,t,n,e)},tT=(e,t,n)=>{$a(e.params,t,n,e),tn(e.body,t,n,e)},UB=(e,t,n)=>{tn(e.callee,t,n,e),$a(e.arguments,t,n,e)},$a=(e,t,n,r)=>{e.forEach(i=>tn(i,t,n,r))},vVe={TemplateLiteral:(e,t,n)=>{$a(e.expressions,t,n,e),$a(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{tn(e.object,t,n,e),tn(e.property,t,n,e)},CallExpression:UB,NewExpression:UB,ArrayExpression:(e,t,n)=>{$a(e.elements,t,n,e)},AssignmentExpression:eT,AwaitExpression:D_,BinaryExpression:eT,LogicalExpression:eT,UnaryExpression:D_,UpdateExpression:D_,ConditionalExpression:zB,ObjectExpression:(e,t,n)=>{$a(e.properties,t,n,e)},Property:(e,t,n)=>{tn(e.key,t,n,e),tn(e.value,t,n,e)},ArrowFunctionExpression:tT,FunctionExpression:tT,FunctionDeclaration:tT,VariableDeclaration:(e,t,n)=>{$a(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{tn(e.id,t,n,e),tn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{tn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{$a(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{tn(e.expression,t,n,e)},IfStatement:zB,ForStatement:(e,t,n)=>{tn(e.init,t,n,e),tn(e.test,t,n,e),tn(e.update,t,n,e),tn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{tn(e.test,t,n,e),tn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{tn(e.body,t,n,e),tn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{tn(e.discriminant,t,n,e),$a(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&tn(e.test,t,n,e),$a(e.consequent,t,n,e)},ReturnStatement:D_,Program:(e,t,n)=>{tn(e.body[0],t,n,e)}};function Dee(e){delete e.start,delete e.end,delete e.optional}function HB(e){Dee(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function _Ve(e){return tn(e,null,{Column:HB,Constant:HB,Default:Dee}),e}function Br(e,t){return t&&t.type===e}function wVe(e){return Br(vFe,e)||Br(yFe,e)}function bVe(e){return Hn(e)?e:()=>e}const SVe="Escaped functions are not valid as rollup or pivot values.";function EVe(e,t,n){e.aggronly&&At(SVe);const r="(row,data)=>fn("+RJ(e.table.columnNames())+",$)";return{escape:b2.escape(r,bVe(t.expr),n)}}var xVe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Mee=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],PVe="-----------------------------------------------------------------------------------------------------------------------------------------------------",Lee="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",nT={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},rT="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",IVe={5:rT,"5module":rT+" export import",6:rT+" const class extends export import super"},OVe=/^in(stanceof)?$/,TVe=new RegExp("["+Lee+"]"),CVe=new RegExp("["+Lee+PVe+"]");function sk(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function yu(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&TVe.test(String.fromCharCode(e)):t===!1?!1:sk(e,Mee)}function Up(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&CVe.test(String.fromCharCode(e)):t===!1?!1:sk(e,Mee)||sk(e,xVe)}var nn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function hs(e,t){return new nn(e,{beforeExpr:!0,binop:t})}var ps={beforeExpr:!0},lo={startsExpr:!0},_D={};function Gt(e,t){return t===void 0&&(t={}),t.keyword=e,_D[e]=new nn(e,t)}var A={num:new nn("num",lo),regexp:new nn("regexp",lo),string:new nn("string",lo),name:new nn("name",lo),privateId:new nn("privateId",lo),eof:new nn("eof"),bracketL:new nn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new nn("]"),braceL:new nn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new nn("}"),parenL:new nn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new nn(")"),comma:new nn(",",ps),semi:new nn(";",ps),colon:new nn(":",ps),dot:new nn("."),question:new nn("?",ps),questionDot:new nn("?."),arrow:new nn("=>",ps),template:new nn("template"),invalidTemplate:new nn("invalidTemplate"),ellipsis:new nn("...",ps),backQuote:new nn("`",lo),dollarBraceL:new nn("${",{beforeExpr:!0,startsExpr:!0}),eq:new nn("=",{beforeExpr:!0,isAssign:!0}),assign:new nn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new nn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new nn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:hs("||",1),logicalAND:hs("&&",2),bitwiseOR:hs("|",3),bitwiseXOR:hs("^",4),bitwiseAND:hs("&",5),equality:hs("==/!=/===/!==",6),relational:hs("</>/<=/>=",7),bitShift:hs("<</>>/>>>",8),plusMin:new nn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:hs("%",10),star:hs("*",10),slash:hs("/",10),starstar:new nn("**",{beforeExpr:!0}),coalesce:hs("??",1),_break:Gt("break"),_case:Gt("case",ps),_catch:Gt("catch"),_continue:Gt("continue"),_debugger:Gt("debugger"),_default:Gt("default",ps),_do:Gt("do",{isLoop:!0,beforeExpr:!0}),_else:Gt("else",ps),_finally:Gt("finally"),_for:Gt("for",{isLoop:!0}),_function:Gt("function",lo),_if:Gt("if"),_return:Gt("return",ps),_switch:Gt("switch"),_throw:Gt("throw",ps),_try:Gt("try"),_var:Gt("var"),_const:Gt("const"),_while:Gt("while",{isLoop:!0}),_with:Gt("with"),_new:Gt("new",{beforeExpr:!0,startsExpr:!0}),_this:Gt("this",lo),_super:Gt("super",lo),_class:Gt("class",lo),_extends:Gt("extends",ps),_export:Gt("export"),_import:Gt("import",lo),_null:Gt("null",lo),_true:Gt("true",lo),_false:Gt("false",lo),_in:Gt("in",{beforeExpr:!0,binop:7}),_instanceof:Gt("instanceof",{beforeExpr:!0,binop:7}),_typeof:Gt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Gt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Gt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Vs=/\r\n?|\n|\u2028|\u2029/,$Ve=new RegExp(Vs.source,"g");function _m(e){return e===10||e===13||e===8232||e===8233}function jee(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(_m(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Fee=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ss=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Vee=Object.prototype,kVe=Vee.hasOwnProperty,AVe=Vee.toString,h0=Object.hasOwn||function(e,t){return kVe.call(e,t)},WB=Array.isArray||function(e){return AVe.call(e)==="[object Array]"},qB=Object.create(null);function cc(e){return qB[e]||(qB[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Hc(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var RVe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ov=function(t,n){this.line=t,this.column=n};ov.prototype.offset=function(t){return new ov(this.line,this.column+t)};var iP=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function Bee(e,t){for(var n=1,r=0;;){var i=jee(e,r,t);if(i<0)return new ov(n,t-r);++n,r=i}}var ak={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},GB=!1;function NVe(e){var t={};for(var n in ak)t[n]=e&&h0(e,n)?e[n]:ak[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!GB&&typeof console=="object"&&console.warn&&(GB=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),WB(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return WB(t.onComment)&&(t.onComment=DVe(t,t.onComment)),t}function DVe(e,t){return function(n,r,i,o,s,a){var l={type:n?"Block":"Line",value:r,start:i,end:o};e.locations&&(l.loc=new iP(this,s,a)),e.ranges&&(l.range=[i,o]),t.push(l)}}var sv=1,wm=2,wD=4,zee=8,Uee=16,Hee=32,bD=64,Wee=128,p0=256,SD=sv|wm|p0;function ED(e,t){return wm|(e?wD:0)|(t?zee:0)}var YS=0,xD=1,Nu=2,qee=3,Gee=4,Kee=5,Gr=function(t,n,r){this.options=t=NVe(t),this.sourceFile=t.sourceFile,this.keywords=cc(IVe[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=nT[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=cc(i);var o=(i?i+" ":"")+nT.strict;this.reservedWordsStrict=cc(o),this.reservedWordsStrictBind=cc(o+" "+nT.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Vs).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(sv),this.regexpState=null,this.privateNameStack=[]},bl={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Gr.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};bl.inFunction.get=function(){return(this.currentVarScope().flags&wm)>0};bl.inGenerator.get=function(){return(this.currentVarScope().flags&zee)>0&&!this.currentVarScope().inClassFieldInit};bl.inAsync.get=function(){return(this.currentVarScope().flags&wD)>0&&!this.currentVarScope().inClassFieldInit};bl.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&p0)return!1;if(t.flags&wm)return(t.flags&wD)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};bl.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&bD)>0||n||this.options.allowSuperOutsideMethod};bl.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Wee)>0};bl.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};bl.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(wm|p0))>0||n};bl.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&p0)>0};Gr.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};Gr.parse=function(t,n){return new this(n,t).parse()};Gr.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};Gr.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(Gr.prototype,bl);var io=Gr.prototype,MVe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;io.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Ss.lastIndex=e,e+=Ss.exec(this.input)[0].length;var t=MVe.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Ss.lastIndex=e+t[0].length;var n=Ss.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Vs.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Ss.lastIndex=e,e+=Ss.exec(this.input)[0].length,this.input[e]===";"&&e++}};io.eat=function(e){return this.type===e?(this.next(),!0):!1};io.isContextual=function(e){return this.type===A.name&&this.value===e&&!this.containsEsc};io.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};io.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};io.canInsertSemicolon=function(){return this.type===A.eof||this.type===A.braceR||Vs.test(this.input.slice(this.lastTokEnd,this.start))};io.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};io.semicolon=function(){!this.eat(A.semi)&&!this.insertSemicolon()&&this.unexpected()};io.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};io.expect=function(e){this.eat(e)||this.unexpected()};io.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var oP=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};io.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};io.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};io.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};io.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var Xe=Gr.prototype;Xe.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==A.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var o=i[r];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var PD={kind:"loop"},LVe={kind:"switch"};Xe.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ss.lastIndex=this.pos;var t=Ss.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(yu(r,!0)){for(var i=n+1;Up(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var o=this.input.slice(n,i);if(!OVe.test(o))return!0}return!1};Xe.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ss.lastIndex=this.pos;var e=Ss.exec(this.input),t=this.pos+e[0].length,n;return!Vs.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Up(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};Xe.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),o;switch(this.isLet(e)&&(r=A._var,o="let"),r){case A._break:case A._continue:return this.parseBreakContinueStatement(i,r.keyword);case A._debugger:return this.parseDebuggerStatement(i);case A._do:return this.parseDoStatement(i);case A._for:return this.parseForStatement(i);case A._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case A._class:return e&&this.unexpected(),this.parseClass(i,!0);case A._if:return this.parseIfStatement(i);case A._return:return this.parseReturnStatement(i);case A._switch:return this.parseSwitchStatement(i);case A._throw:return this.parseThrowStatement(i);case A._try:return this.parseTryStatement(i);case A._const:case A._var:return o=o||this.value,e&&o!=="var"&&this.unexpected(),this.parseVarStatement(i,o);case A._while:return this.parseWhileStatement(i);case A._with:return this.parseWithStatement(i);case A.braceL:return this.parseBlock(!0,i);case A.semi:return this.parseEmptyStatement(i);case A._export:case A._import:if(this.options.ecmaVersion>10&&r===A._import){Ss.lastIndex=this.pos;var s=Ss.exec(this.input),a=this.pos+s[0].length,l=this.input.charCodeAt(a);if(l===40||l===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===A._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var u=this.value,c=this.parseExpression();return r===A.name&&c.type==="Identifier"&&this.eat(A.colon)?this.parseLabeledStatement(i,u,c,e):this.parseExpressionStatement(i,c)}};Xe.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(A.semi)||this.insertSemicolon()?e.label=null:this.type!==A.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};Xe.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};Xe.parseDoStatement=function(e){return this.next(),this.labels.push(PD),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(A._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(A.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};Xe.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(PD),this.enterScope(0),this.expect(A.parenL),this.type===A.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===A._var||this.type===A._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===A._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var o=this.isContextual("let"),s=!1,a=new oP,l=this.parseExpression(t>-1?"await":!0,a);return this.type===A._in||(s=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===A._in?t>-1&&this.unexpected(t):e.await=t>-1),o&&s&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,a),this.checkLValPattern(l),this.parseForIn(e,l)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,l))};Xe.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,cy|(n?0:lk),!1,t)};Xe.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(A._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};Xe.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(A.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};Xe.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(A.braceL),this.labels.push(LVe),this.enterScope(0);for(var t,n=!1;this.type!==A.braceR;)if(this.type===A._case||this.type===A._default){var r=this.type===A._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(A.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};Xe.parseThrowStatement=function(e){return this.next(),Vs.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var jVe=[];Xe.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?Hee:0),this.checkLValPattern(e,t?Gee:Nu),this.expect(A.parenR),e};Xe.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===A._catch){var t=this.startNode();this.next(),this.eat(A.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(A._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};Xe.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};Xe.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(PD),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};Xe.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};Xe.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};Xe.parseLabeledStatement=function(e,t,n,r){for(var i=0,o=this.labels;i<o.length;i+=1){var s=o[i];s.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===A._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===e.start)u.statementStart=this.start,u.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};Xe.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};Xe.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(A.braceL),e&&this.enterScope(0);this.type!==A.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};Xe.parseFor=function(e,t){return e.init=t,this.expect(A.semi),e.test=this.type===A.semi?null:this.parseExpression(),this.expect(A.semi),e.update=this.type===A.parenR?null:this.parseExpression(),this.expect(A.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};Xe.parseForIn=function(e,t){var n=this.type===A._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(A.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};Xe.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(A.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===A._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(A.comma))break}return e};Xe.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?xD:Nu,!1)};var cy=1,lk=2,Yee=4;Xe.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===A.star&&t&lk&&this.unexpected(),e.generator=this.eat(A.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&cy&&(e.id=t&Yee&&this.type!==A.name?null:this.parseIdent(),e.id&&!(t&lk)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?xD:Nu:qee));var o=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ED(e.async,e.generator)),t&cy||(e.id=this.type===A.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=o,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,t&cy?"FunctionDeclaration":"FunctionExpression")};Xe.parseFunctionParams=function(e){this.expect(A.parenL),e.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Xe.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),o=!1;for(i.body=[],this.expect(A.braceL);this.type!==A.braceR;){var s=this.parseClassElement(e.superClass!==null);s&&(i.body.push(s),s.type==="MethodDefinition"&&s.kind==="constructor"?(o&&this.raiseRecoverable(s.start,"Duplicate constructor in the same class"),o=!0):s.key&&s.key.type==="PrivateIdentifier"&&FVe(r,s)&&this.raiseRecoverable(s.key.start,"Identifier '#"+s.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};Xe.parseClassElement=function(e){if(this.eat(A.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,o=!1,s="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(A.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===A.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===A.star)&&!this.canInsertSemicolon()?o=!0:r="async"),!r&&(t>=9||!o)&&this.eat(A.star)&&(i=!0),!r&&!o&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?s=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===A.parenL||s!=="method"||i||o){var u=!n.static&&QS(n,"constructor"),c=u&&e;u&&s!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":s,this.parseClassMethod(n,i,o,c)}else this.parseClassField(n);return n};Xe.isClassElementNameStart=function(){return this.type===A.name||this.type===A.privateId||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword};Xe.parseClassElementName=function(e){this.type===A.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};Xe.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&QS(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var o=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&o.params.length!==0&&this.raiseRecoverable(o.start,"getter should have no params"),e.kind==="set"&&o.params.length!==1&&this.raiseRecoverable(o.start,"setter should have exactly one param"),e.kind==="set"&&o.params[0].type==="RestElement"&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};Xe.parseClassField=function(e){if(QS(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&QS(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(A.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};Xe.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(p0|bD);this.type!==A.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};Xe.parseClassId=function(e,t){this.type===A.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Nu,!1)):(t===!0&&this.unexpected(),e.id=null)};Xe.parseClassSuper=function(e){e.superClass=this.eat(A._extends)?this.parseExprSubscripts(null,!1):null};Xe.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};Xe.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],o=0;o<n.length;++o){var s=n[o];h0(t,s.name)||(i?i.used.push(s):this.raiseRecoverable(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"))}};function FVe(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function QS(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}Xe.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==A.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};Xe.parseExport=function(e,t){if(this.next(),this.eat(A.star))return this.parseExportAllDeclaration(e,t);if(this.eat(A._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==A.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};Xe.parseExportDeclaration=function(e){return this.parseStatement(null)};Xe.parseExportDefaultDeclaration=function(){var e;if(this.type===A._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,cy|Yee,!1,e)}else if(this.type===A._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};Xe.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),h0(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};Xe.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var o=i[r];this.checkPatternExport(e,o)}else if(n==="ArrayPattern")for(var s=0,a=t.elements;s<a.length;s+=1){var l=a[s];l&&this.checkPatternExport(e,l)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};Xe.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};Xe.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Xe.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};Xe.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(A.braceL);!this.eat(A.braceR);){if(n)n=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;t.push(this.parseExportSpecifier(e))}return t};Xe.parseImport=function(e){return this.next(),this.type===A.string?(e.specifiers=jVe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===A.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};Xe.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Nu),this.finishNode(e,"ImportSpecifier")};Xe.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Nu),this.finishNode(e,"ImportDefaultSpecifier")};Xe.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Nu),this.finishNode(e,"ImportNamespaceSpecifier")};Xe.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===A.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(A.comma)))return e;if(this.type===A.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(A.braceL);!this.eat(A.braceR);){if(t)t=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;e.push(this.parseImportSpecifier())}return e};Xe.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===A.string){var e=this.parseLiteral(this.value);return RVe.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};Xe.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};Xe.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Bs=Gr.prototype;Bs.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.toAssignable(o,t),o.type==="RestElement"&&(o.argument.type==="ArrayPattern"||o.argument.type==="ObjectPattern")&&this.raise(o.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};Bs.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var o=e[n-1];this.options.ecmaVersion===6&&t&&o&&o.type==="RestElement"&&o.argument.type!=="Identifier"&&this.unexpected(o.argument.start)}return e};Bs.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Bs.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==A.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Bs.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case A.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(A.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case A.braceL:return this.parseObj(!0)}return this.parseIdent()};Bs.parseBindingList=function(e,t,n,r){for(var i=[],o=!0;!this.eat(e);)if(o?o=!1:this.expect(A.comma),t&&this.type===A.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===A.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};Bs.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Bs.parseBindingListItem=function(e){return e};Bs.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(A.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Bs.checkLValSimple=function(e,t,n){t===void 0&&(t=YS);var r=t!==YS;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Nu&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(h0(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Kee&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};Bs.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=YS),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var o=i[r];this.checkLValInnerPattern(o,t,n)}break;case"ArrayPattern":for(var s=0,a=e.elements;s<a.length;s+=1){var l=a[s];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}};Bs.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=YS),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Qs=function(t,n,r,i,o){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!o},Zn={b_stat:new Qs("{",!1),b_expr:new Qs("{",!0),b_tmpl:new Qs("${",!1),p_stat:new Qs("(",!1),p_expr:new Qs("(",!0),q_tmpl:new Qs("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Qs("function",!1),f_expr:new Qs("function",!0),f_expr_gen:new Qs("function",!0,!1,null,!0),f_gen:new Qs("function",!1,!1,null,!0)},bm=Gr.prototype;bm.initialContext=function(){return[Zn.b_stat]};bm.curContext=function(){return this.context[this.context.length-1]};bm.braceIsBlock=function(e){var t=this.curContext();return t===Zn.f_expr||t===Zn.f_stat?!0:e===A.colon&&(t===Zn.b_stat||t===Zn.b_expr)?!t.isExpr:e===A._return||e===A.name&&this.exprAllowed?Vs.test(this.input.slice(this.lastTokEnd,this.start)):e===A._else||e===A.semi||e===A.eof||e===A.parenR||e===A.arrow?!0:e===A.braceL?t===Zn.b_stat:e===A._var||e===A._const||e===A.name?!1:!this.exprAllowed};bm.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};bm.updateContext=function(e){var t,n=this.type;n.keyword&&e===A.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};bm.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};A.parenR.updateContext=A.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Zn.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};A.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Zn.b_stat:Zn.b_expr),this.exprAllowed=!0};A.dollarBraceL.updateContext=function(){this.context.push(Zn.b_tmpl),this.exprAllowed=!0};A.parenL.updateContext=function(e){var t=e===A._if||e===A._for||e===A._with||e===A._while;this.context.push(t?Zn.p_stat:Zn.p_expr),this.exprAllowed=!0};A.incDec.updateContext=function(){};A._function.updateContext=A._class.updateContext=function(e){e.beforeExpr&&e!==A._else&&!(e===A.semi&&this.curContext()!==Zn.p_stat)&&!(e===A._return&&Vs.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===A.colon||e===A.braceL)&&this.curContext()===Zn.b_stat)?this.context.push(Zn.f_expr):this.context.push(Zn.f_stat),this.exprAllowed=!1};A.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};A.backQuote.updateContext=function(){this.curContext()===Zn.q_tmpl?this.context.pop():this.context.push(Zn.q_tmpl),this.exprAllowed=!1};A.star.updateContext=function(e){if(e===A._function){var t=this.context.length-1;this.context[t]===Zn.f_expr?this.context[t]=Zn.f_expr_gen:this.context[t]=Zn.f_gen}this.exprAllowed=!0};A.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==A.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ft=Gr.prototype;ft.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&o==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var s=t[i];if(s){var a;o==="init"?a=this.strict&&s.init||s.get||s.set:a=s.init||s[o],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else s=t[i]={init:!1,get:!1,set:!1};s[o]=!0}};ft.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===A.comma){var o=this.startNodeAt(n,r);for(o.expressions=[i];this.eat(A.comma);)o.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(o,"SequenceExpression")}return i};ft.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,o=-1,s=-1;t?(i=t.parenthesizedAssign,o=t.trailingComma,s=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new oP,r=!0);var a=this.start,l=this.startLoc;(this.type===A.parenL||this.type===A.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,a,l)),this.type.isAssign){var c=this.startNodeAt(a,l);return c.operator=this.value,this.type===A.eq&&(u=this.toAssignable(u,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===A.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),s>-1&&(t.doubleProto=s),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),o>-1&&(t.trailingComma=o),u};ft.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(A.question)){var o=this.startNodeAt(n,r);return o.test=i,o.consequent=this.parseMaybeAssign(),this.expect(A.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return i};ft.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};ft.parseExprOp=function(e,t,n,r,i){var o=this.type.binop;if(o!=null&&(!i||this.type!==A._in)&&o>r){var s=this.type===A.logicalOR||this.type===A.logicalAND,a=this.type===A.coalesce;a&&(o=A.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,c,o,i),d=this.buildBinary(t,n,e,f,l,s||a);return(s&&this.type===A.coalesce||a&&(this.type===A.logicalOR||this.type===A.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};ft.buildBinary=function(e,t,n,r,i,o){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var s=this.startNodeAt(e,t);return s.left=n,s.operator=i,s.right=r,this.finishNode(s,o?"LogicalExpression":"BinaryExpression")};ft.parseMaybeUnary=function(e,t,n,r){var i=this.start,o=this.startLoc,s;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===A.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Qee(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,s=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===A.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==A._in&&this.unexpected();else{if(s=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(i,o);u.operator=this.value,u.prefix=!1,u.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(u,"UpdateExpression")}}if(!n&&this.eat(A.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,o,s,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return s};function Qee(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Qee(e.expression)}ft.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var o=this.parseSubscripts(i,n,r,!1,t);return e&&o.type==="MemberExpression"&&(e.parenthesizedAssign>=o.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=o.start&&(e.parenthesizedBind=-1),e.trailingComma>=o.start&&(e.trailingComma=-1)),o};ft.parseSubscripts=function(e,t,n,r,i){for(var o=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,s=!1;;){var a=this.parseSubscript(e,t,n,r,o,s,i);if(a.optional&&(s=!0),a===e||a.type==="ArrowFunctionExpression"){if(s){var l=this.startNodeAt(t,n);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}e=a}};ft.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(A.arrow)};ft.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};ft.parseSubscript=function(e,t,n,r,i,o,s){var a=this.options.ecmaVersion>=11,l=a&&this.eat(A.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(A.bracketL);if(u||l&&this.type!==A.parenL&&this.type!==A.backQuote||this.eat(A.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(A.bracketR)):this.type===A.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!u,a&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(A.parenL)){var f=new oP,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,g,s);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=g,a&&(y.optional=l),e=this.finishNode(y,"CallExpression")}else if(this.type===A.backQuote){(l||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e};ft.parseExprAtom=function(e,t,n){this.type===A.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case A._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===A.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==A.dot&&this.type!==A.bracketL&&this.type!==A.parenL&&this.unexpected(),this.finishNode(r,"Super");case A._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case A.name:var o=this.start,s=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(A._function))return this.overrideContext(Zn.f_expr),this.parseFunction(this.startNodeAt(o,s),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(A.arrow))return this.parseArrowExpression(this.startNodeAt(o,s),[l],!1,t);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===A.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(A.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,s),[l],!0,t)}return l;case A.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case A.num:case A.string:return this.parseLiteral(this.value);case A._null:case A._true:case A._false:return r=this.startNode(),r.value=this.type===A._null?null:this.type===A._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case A.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case A.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(A.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case A.braceL:return this.overrideContext(Zn.b_expr),this.parseObj(!1,e);case A._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case A._class:return this.parseClass(this.startNode(),!1);case A._new:return this.parseNew();case A.backQuote:return this.parseTemplate();case A._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};ft.parseExprAtomDefault=function(){this.unexpected()};ft.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===A.parenL&&!e)return this.parseDynamicImport(t);if(this.type===A.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};ft.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(A.parenR)){var t=this.start;this.eat(A.comma)&&this.eat(A.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};ft.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};ft.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};ft.parseParenExpression=function(){this.expect(A.parenL);var e=this.parseExpression();return this.expect(A.parenR),e};ft.shouldParseArrow=function(e){return!this.canInsertSemicolon()};ft.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s=this.start,a=this.startLoc,l=[],u=!0,c=!1,f=new oP,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==A.parenR;)if(u?u=!1:this.expect(A.comma),o&&this.afterTrailingComma(A.parenR,!0)){c=!0;break}else if(this.type===A.ellipsis){p=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(A.parenR),e&&this.shouldParseArrow(l)&&this.eat(A.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,l,t);(!l.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,l.length>1?(i=this.startNodeAt(s,a),i.expressions=l,this.finishNodeAt(i,"SequenceExpression",g,y)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=i,this.finishNode(m,"ParenthesizedExpression")}else return i};ft.parseParenItem=function(e){return e};ft.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var VVe=[];ft.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===A.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(A.parenL)?e.arguments=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1):e.arguments=VVe,this.finishNode(e,"NewExpression")};ft.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===A.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===A.backQuote,this.finishNode(n,"TemplateElement")};ft.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===A.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(A.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(A.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};ft.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===A.name||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===A.star)&&!Vs.test(this.input.slice(this.lastTokEnd,this.start))};ft.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(A.braceR);){if(r)r=!1;else if(this.expect(A.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(A.braceR))break;var o=this.parseProperty(e,t);e||this.checkPropClash(o,i,t),n.properties.push(o)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};ft.parseProperty=function(e,t){var n=this.startNode(),r,i,o,s;if(this.options.ecmaVersion>=9&&this.eat(A.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===A.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(o=this.start,s=this.startLoc),e||(r=this.eat(A.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(A.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,o,s,t,a),this.finishNode(n,"Property")};ft.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};ft.parsePropertyValue=function(e,t,n,r,i,o,s,a){(n||r)&&this.type===A.colon&&this.unexpected(),this.eat(A.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),e.kind="init"):this.options.ecmaVersion>=6&&this.type===A.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==A.comma&&this.type!==A.braceR&&this.type!==A.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,o,this.copyNode(e.key)):this.type===A.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,o,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};ft.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(A.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(A.bracketR),e.key;e.computed=!1}return e.key=this.type===A.num||this.type===A.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};ft.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};ft.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ED(t,r.generator)|bD|(n?Wee:0)),this.expect(A.parenL),r.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(r,"FunctionExpression")};ft.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(ED(n,!1)|Uee),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")};ft.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==A.braceL,o=this.strict,s=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!o||a)&&(s=this.strictDirective(this.end),s&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!o&&!s&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Kee),e.body=this.parseBlock(!1,void 0,s&&!o),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()};ft.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};ft.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var o=i[r];this.checkLValInnerPattern(o,xD,t?null:n)}};ft.parseExprList=function(e,t,n,r){for(var i=[],o=!0;!this.eat(e);){if(o)o=!1;else if(this.expect(A.comma),t&&this.afterTrailingComma(e))break;var s=void 0;n&&this.type===A.comma?s=null:this.type===A.ellipsis?(s=this.parseSpread(r),r&&this.type===A.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):s=this.parseMaybeAssign(!1,r),i.push(s)}return i};ft.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};ft.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};ft.parseIdentNode=function(){var e=this.startNode();return this.type===A.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=A.name):this.unexpected(),e};ft.parsePrivateIdent=function(){var e=this.startNode();return this.type===A.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};ft.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===A.semi||this.canInsertSemicolon()||this.type!==A.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(A.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};ft.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var XS=Gr.prototype;XS.raise=function(e,t){var n=Bee(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};XS.raiseRecoverable=XS.raise;XS.curPosition=function(){if(this.options.locations)return new ov(this.curLine,this.pos-this.lineStart)};var lf=Gr.prototype,BVe=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};lf.enterScope=function(e){this.scopeStack.push(new BVe(e))};lf.exitScope=function(){this.scopeStack.pop()};lf.treatFunctionsAsVarInScope=function(e){return e.flags&wm||!this.inModule&&e.flags&sv};lf.declareName=function(e,t,n){var r=!1;if(t===Nu){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&sv&&delete this.undefinedExports[e]}else if(t===Gee){var o=this.currentScope();o.lexical.push(e)}else if(t===qee){var s=this.currentScope();this.treatFunctionsAsVar?r=s.lexical.indexOf(e)>-1:r=s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var l=this.scopeStack[a];if(l.lexical.indexOf(e)>-1&&!(l.flags&Hee&&l.lexical[0]===e)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(e)>-1){r=!0;break}if(l.var.push(e),this.inModule&&l.flags&sv&&delete this.undefinedExports[e],l.flags&SD)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};lf.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};lf.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};lf.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&SD)return t}};lf.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&SD&&!(t.flags&Uee))return t}};var sP=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new iP(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},m0=Gr.prototype;m0.startNode=function(){return new sP(this,this.start,this.startLoc)};m0.startNodeAt=function(e,t){return new sP(this,e,t)};function Xee(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}m0.finishNode=function(e,t){return Xee.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};m0.finishNodeAt=function(e,t,n,r){return Xee.call(this,e,t,n,r)};m0.copyNode=function(e){var t=new sP(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var Jee="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Zee=Jee+" Extended_Pictographic",ete=Zee,tte=ete+" EBase EComp EMod EPres ExtPict",nte=tte,zVe=nte,UVe={9:Jee,10:Zee,11:ete,12:tte,13:nte,14:zVe},HVe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",WVe={9:"",10:"",11:"",12:"",13:"",14:HVe},KB="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",rte="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ite=rte+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ote=ite+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ste=ote+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ate=ste+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",qVe=ate+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",GVe={9:rte,10:ite,11:ote,12:ste,13:ate,14:qVe},lte={};function KVe(e){var t=lte[e]={binary:cc(UVe[e]+" "+KB),binaryOfStrings:cc(WVe[e]),nonBinary:{General_Category:cc(KB),Script:cc(GVe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var iT=0,YB=[9,10,11,12,13,14];iT<YB.length;iT+=1){var YVe=YB[iT];KVe(YVe)}var He=Gr.prototype,Sl=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=lte[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Sl.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,o=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=o&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=o&&this.parser.options.ecmaVersion>=9)};Sl.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Sl.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var o=r.charCodeAt(t);if(!(n||this.switchU)||o<=55295||o>=57344||t+1>=i)return o;var s=r.charCodeAt(t+1);return s>=56320&&s<=57343?(o<<10)+s-56613888:o};Sl.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var o=r.charCodeAt(t),s;return!(n||this.switchU)||o<=55295||o>=57344||t+1>=i||(s=r.charCodeAt(t+1))<56320||s>57343?t+1:t+2};Sl.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Sl.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Sl.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Sl.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Sl.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,o=t;i<o.length;i+=1){var s=o[i],a=this.at(r,n);if(a===-1||a!==s)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};He.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,o=0;o<n.length;o++){var s=n.charAt(o);t.indexOf(s)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(s,o+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),s==="u"&&(r=!0),s==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};He.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};He.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};He.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};He.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};He.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};He.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};He.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};He.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};He.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};He.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};He.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};He.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};He.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};He.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};He.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};He.regexp_eatSyntaxCharacter=function(e){var t=e.current();return ute(t)?(e.lastIntValue=t,e.advance(),!0):!1};function ute(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}He.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!ute(n);)e.advance();return e.pos!==t};He.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};He.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};He.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};He.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Hc(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Hc(e.lastIntValue);return!0}return!1};He.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),QVe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function QVe(e){return yu(e,!0)||e===36||e===95}He.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),XVe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function XVe(e){return Up(e,!0)||e===36||e===95||e===8204||e===8205}He.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};He.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};He.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};He.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};He.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};He.regexp_eatZero=function(e){return e.current()===48&&!aP(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};He.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};He.regexp_eatControlLetter=function(e){var t=e.current();return cte(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function cte(e){return e>=65&&e<=90||e>=97&&e<=122}He.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var o=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(s>=56320&&s<=57343)return e.lastIntValue=(i-55296)*1024+(s-56320)+65536,!0}e.pos=o,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&JVe(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function JVe(e){return e>=0&&e<=1114111}He.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};He.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var fte=0,vu=1,xs=2;He.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(ZVe(t))return e.lastIntValue=-1,e.advance(),vu;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===xs&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return fte};function ZVe(e){return e===100||e===68||e===115||e===83||e===119||e===87}He.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),vu}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return fte};He.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){h0(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};He.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return vu;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return xs;e.raise("Invalid property name")};He.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";dte(t=e.current());)e.lastStringValue+=Hc(t),e.advance();return e.lastStringValue!==""};function dte(e){return cte(e)||e===95}He.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";e5e(t=e.current());)e.lastStringValue+=Hc(t),e.advance();return e.lastStringValue!==""};function e5e(e){return dte(e)||aP(e)}He.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};He.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===xs&&e.raise("Negated character class may contain strings"),!0}return!1};He.regexp_classContents=function(e){return e.current()===93?vu:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),vu)};He.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};He.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||mte(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};He.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};He.regexp_classSetExpression=function(e){var t=vu,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===xs&&(t=xs);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==xs&&(t=vu);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===xs&&(t=xs)}};He.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};He.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?vu:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};He.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===xs&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};He.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};He.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===xs&&(t=xs);return t};He.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?vu:xs};He.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&t5e(n)||n5e(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function t5e(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function n5e(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}He.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return r5e(t)?(e.lastIntValue=t,e.advance(),!0):!1};function r5e(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}He.regexp_eatClassControlLetter=function(e){var t=e.current();return aP(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};He.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};He.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;aP(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function aP(e){return e>=48&&e<=57}He.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;hte(n=e.current());)e.lastIntValue=16*e.lastIntValue+pte(n),e.advance();return e.pos!==t};function hte(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function pte(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}He.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};He.regexp_eatOctalDigit=function(e){var t=e.current();return mte(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function mte(e){return e>=48&&e<=55}He.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!hte(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+pte(i),e.advance()}return!0};var ID=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new iP(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Ut=Gr.prototype;Ut.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ID(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Ut.getToken=function(){return this.next(),new ID(this)};typeof Symbol<"u"&&(Ut[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===A.eof,value:t}}}});Ut.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(A.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Ut.readToken=function(e){return yu(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Ut.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Ut.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=jee(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Ut.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!_m(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Ut.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Fee.test(String.fromCharCode(e)))++this.pos;else break e}}};Ut.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Ut.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(A.ellipsis)):(++this.pos,this.finishToken(A.dot))};Ut.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(A.assign,2):this.finishOp(A.slash,1)};Ut.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?A.star:A.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=A.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(A.assign,n+1):this.finishOp(r,n)};Ut.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(A.assign,3)}return this.finishOp(e===124?A.logicalOR:A.logicalAND,2)}return t===61?this.finishOp(A.assign,2):this.finishOp(e===124?A.bitwiseOR:A.bitwiseAND,1)};Ut.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(A.assign,2):this.finishOp(A.bitwiseXOR,1)};Ut.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Vs.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(A.incDec,2):t===61?this.finishOp(A.assign,2):this.finishOp(A.plusMin,1)};Ut.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(A.assign,n+1):this.finishOp(A.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(A.relational,n))};Ut.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(A.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(A.arrow)):this.finishOp(e===61?A.eq:A.prefix,1)};Ut.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(A.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(A.assign,3)}return this.finishOp(A.coalesce,2)}}return this.finishOp(A.question,1)};Ut.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),yu(t,!0)||t===92))return this.finishToken(A.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Hc(t)+"'")};Ut.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(A.parenL);case 41:return++this.pos,this.finishToken(A.parenR);case 59:return++this.pos,this.finishToken(A.semi);case 44:return++this.pos,this.finishToken(A.comma);case 91:return++this.pos,this.finishToken(A.bracketL);case 93:return++this.pos,this.finishToken(A.bracketR);case 123:return++this.pos,this.finishToken(A.braceL);case 125:return++this.pos,this.finishToken(A.braceR);case 58:return++this.pos,this.finishToken(A.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(A.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(A.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Hc(e)+"'")};Ut.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Ut.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Vs.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var o=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(o);var a=this.regexpState||(this.regexpState=new Sl(this));a.reset(n,i,s),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(i,s)}catch{}return this.finishToken(A.regexp,{pattern:i,flags:s,value:l})};Ut.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,o=this.pos,s=0,a=0,l=0,u=t??1/0;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,s=s*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||t!=null&&this.pos-o!==t?null:s};function i5e(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function gte(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Ut.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=gte(this.input.slice(t,this.pos)),++this.pos):yu(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,n)};Ut.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=gte(this.input.slice(t,this.pos));return++this.pos,yu(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),yu(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=i5e(this.input.slice(t,this.pos),n);return this.finishToken(A.num,o)};Ut.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Ut.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(_m(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(A.string,t)};var yte={};Ut.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===yte)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Ut.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw yte;this.raise(e,t)};Ut.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===A.template||this.type===A.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(A.dollarBraceL)):(++this.pos,this.finishToken(A.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(A.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(_m(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Ut.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(A.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Ut.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Hc(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return _m(t)?"":String.fromCharCode(t)}};Ut.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Ut.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(Up(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var o=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(t?yu:Up)(s,r)||this.invalidStringToken(o,"Invalid Unicode escape"),e+=Hc(s),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Ut.readWord=function(){var e=this.readWord1(),t=A.name;return this.keywords.test(e)&&(t=_D[e]),this.finishToken(t,e)};var o5e="8.11.2";Gr.acorn={Parser:Gr,version:o5e,defaultOptions:ak,Position:ov,SourceLocation:iP,getLineInfo:Bee,Node:sP,TokenType:nn,tokTypes:A,keywordTypes:_D,TokContext:Qs,tokContexts:Zn,isIdentifierChar:Up,isIdentifierStart:yu,Token:ID,isNewLine:_m,lineBreak:Vs,lineBreakG:$Ve,nonASCIIwhitespace:Fee};function s5e(e,t){return Gr.parse(e,t)}const OD={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},a5e={ecmaVersion:11},QB="$",l5e="d",u5e="d1",c5e="d2",fi=e=>(t,n)=>n.error(t,e+" not allowed"),f5e=fi("Aggregate function"),d5e=fi("Window function"),h5e="Invalid argument",TD="Invalid column reference",p5e=TD+" (must be input to an aggregate function)",vte="Invalid function call",m5e="Invalid member expression",g5e="Invalid operator parameter",y5e="Invalid param reference",v5e="Invalid variable reference",_5e="Variable not accessible in operator call",w5e="Unsupported variable declaration",b5e="Unsupported destructuring pattern",_te="Table expressions do not support closures",wte="Use aq.escape(fn) to use a function as-is (including closures)",S5e="use table.params({ name: value }) to define dynamic parameters",E5e="use aq.addFunction(name, fn) to add new op functions",x5e=`
Note: ${_te}. ${wte}, or ${S5e}.`,bte=`
Note: ${_te}. ${wte}, or ${E5e}.`,P5e=`The ${kJ} method is not valid in multi-table expressions.`;function I5e(e,t){const n=O5e(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,wVe(r)?(C5e(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=u5e),e.scope.add(e.tuple2=c5e),e.scope.add(e.$param=QB)):(e.scope.add(e.tuple=l5e),e.scope.add(e.$param=QB)),tn(r,e,CD),e.root}function O5e(e){try{const t=e.field?T5e(e):un(e)?ul(e):e;return s5e(`expr=(${t})`,a5e).body[0].expression.right}catch{At(`Expression parse error: ${e+""}`)}}function T5e(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const CD={FunctionDeclaration:fi("Function definitions"),ForStatement:fi("For loops"),ForOfStatement:fi("For-of loops"),ForInStatement:fi("For-in loops"),WhileStatement:fi("While loops"),DoWhileStatement:fi("Do-while loops"),AwaitExpression:fi("Await expressions"),ArrowFunctionExpression:fi("Function definitions"),AssignmentExpression:fi("Assignments"),FunctionExpression:fi("Function definitions"),NewExpression:fi('Use of "new"'),UpdateExpression:fi("Update expressions"),VariableDeclarator(e,t){fk(e.id,t)},Identifier(e,t,n){xte(e,t,n)&&!t.scope.has(e.name)&&t.error(e,v5e,x5e)},CallExpression(e,t){const n=Ste(e.callee),r=TJ(n)||CJ(n);if(r){if((t.join||t.aggregate===!1)&&_2(n)&&f5e(e,t),(t.join||t.window===!1)&&w2(n)&&d5e(e,t),t.$op=1,t.ast)ck(e,n,t),e.arguments.forEach(i=>tn(i,t,uk));else{const i=t.op($5e(t,r,n,e.arguments));Object.assign(e,{type:EJ,name:i.id})}return t.$op=0,!1}else OJ(n)?ck(e,n,t):t.error(e,vte,bte)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Br(Ic,r))return;const{name:o}=r;if(Ete(e)&&Br(Ic,i)&&ya(OD,i.name)){Ote(e,i.name);return}const s=o===t.tuple?0:o===t.tuple1?1:o===t.tuple2?2:-1;if(s>=0)return XB(e,s,t,Pte,n);if(o===t.$param)return XB(e,s,t,A5e);t.paramsRef.has(o)?av(e,t.paramsRef.get(o)):t.columnRef.has(o)?Ite(r,o,t,e):ya(t.params,o)&&av(r,o)}};function XB(e,t,n,r,i){const{property:o,computed:s}=e;let a;if(!s)a=o.name;else if(Br(mm,o))a=o.value;else try{tn(o,n,CD,e),a=n.param(o)}catch{n.error(e,m5e)}return r(e,a,t,n,i),!1}const uk={...CD,VariableDeclarator:fi("Variable declaration in operator call"),Identifier(e,t,n){xte(e,t,n)&&t.error(e,_5e)},CallExpression(e,t){const n=Ste(e.callee);OJ(n)?ck(e,n,t):t.error(e,vte,bte)}};function C5e(e,t){e.generator&&fi("Generator functions")(e,t),e.async&&fi("Async functions")(e,t);const{params:n}=e,r=n.length,i=s=>(a,l)=>t.columnRef.set(a,[l,s]),o=(s,a)=>t.paramsRef.set(s,a);r&&(t.join?(fg(t,n[0],"tuple1",i(1)),r>1&&fg(t,n[1],"tuple2",i(2)),r>2&&fg(t,n[2],"$param",o)):(fg(t,n[0],"tuple",i(0)),r>1&&fg(t,n[1],"$param",o))),t.root=e.body}function fg(e,t,n,r){Br(Ic,t)?(e.scope.add(t.name),e[n]=t.name):Br(bJ,t)&&t.properties.forEach(i=>{const o=Br(Ic,i.key)?i.key.name:Br(mm,i.key)?i.key.value:e.error(i,h5e);Br(Ic,i.value)||e.error(i.value,b5e),r(i.value.name,o)})}function $5e(e,t,n,r){const i=[],o=[],s=t.param[0]||0,a=s+(t.param[1]||0);return r.forEach((l,u)=>{u<s?(tn(l,e,uk),i.push(e.field(l))):u<a?(tn(l,e,uk),o.push(e.param(l))):e.error(l,g5e)}),{name:n,fields:i,params:o,...e.spec.window||{}}}function Ste(e){return Br(Ic,e)?e.name:Br(wJ,e)?Ete(e)?k5e(e.property.name):e.property.name:null}function Ete(e){return Br(Ic,e.object)&&e.object.name==="Math"}function k5e(e){return e==="max"?"greatest":e==="min"?"least":e}function xte(e,t,n){const{name:r}=e;if(!(Br(wJ,n)&&n.property===e)){if(!(Br(SJ,n)&&n.key===e))if(t.paramsRef.has(r))av(e,t.paramsRef.get(r));else if(t.columnRef.has(r))Ite(e,r,t,n);else if(ya(t.params,r))av(e,r);else if(ya(OD,r))Ote(e,r);else return!0}}function Pte(e,t,n,r,i){const o=n===0?r.table:n>0?r.join[n-1]:null,s=o&&o.column(t);o&&!s&&r.error(e,TD),r.aggronly&&!r.$op&&r.error(e,p5e),$J(e,t,n,s,i)}function Ite(e,t,n,r){const[i,o]=n.columnRef.get(t);Pte(e,i,o,n,r)}function A5e(e,t,n,r){r.params&&!ya(r.params,t)&&r.error(e,y5e),av(e,t)}function av(e,t){e.type=EFe,e.name=t}function Ote(e,t){e.type=wFe,e.name=t,e.raw=OD[t]}function ck(e,t,n){if(t===kJ){const r=n.table;r||n.error(e,P5e),AJ(e,e.arguments.length?e.arguments.map(i=>{const o=n.param(i),s=eo(o)?r.columnName(o):o;return r.column(s)||n.error(i,TD),s}):r.columnNames())}else e.callee={type:SFe,name:t}}function fk(e,t){Br(Ic,e)?t.scope.add(e.name):Br(gFe,e)?e.elements.forEach(n=>fk(n,t)):Br(bJ,e)?e.properties.forEach(n=>fk(n.value,t)):t.error(e.id,w5e)}const R5e={[l0]:1,[EJ]:1};function Ro(e,t={}){const n=t.generate||kS,r=t.compiler||b2,i=D5e(t),o={},s={},a=[],l=[];let u=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(g){const y=N5e(g);return s[y]||(g.id=++c,s[y]=g)},field(g){const y=n(g);return o[y]||(o[y]=++u)},param(g){return Br(mm,g)?g.value:r.param(n(g),i)},value(g,y){a.push(g);const m=y.escape||(t.ast?_Ve(y):f(n(y),i));l.push(m),R5e[y.type]&&m!==y&&Bi(m)&&(m.field=y.name)},error(g,y,m=""){const v=g.start-6,_=g.end-6,b=String(d.spec).slice(v,_);At(`${y}: "${b}"${m}`)}};Object.assign(d,t,{params:i});for(const[g,y]of Hx(e))d.value(g+"",y.escape?EVe(d,y,i):I5e(d,y));if(t.ast)return{names:a,exprs:l};const h=[];for(const g in o)h[o[g]]=r.expr(g,i);const p=Object.values(s);return p.forEach(g=>g.fields=g.fields.map(y=>h[y])),{names:a,exprs:l,ops:p}}function N5e(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function D5e(e){return(e.table?oT(e.table):e.join?{...oT(e.join[1]),...oT(e.join[0])}:{})||{}}function oT(e){return e&&Hn(e.params)?e.params():{}}const Tte="Expr",Xs="ExprList",Cte="ExprNumber",Rg="ExprObject",Nh="JoinKeys",JS="JoinValues",gs="Options",$D="OrderKeys",Hu="SelectionList",kf="TableRef",Dh="TableRefList",M5e="Descending",L5e="Query",j5e="Selection",F5e="Verb",V5e="Window";function lP(e,t){return e&&e.expr?new JB({...e,...t}):new JB(t,e)}class JB{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Hn(this.expr)?{func:!0}:{}}}}function B5e(e){return lP(e,{desc:!0})}function _d(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return lP(e,t?{expr:t,...r}:r)}function z5e(e,t,n){return lP(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function U5e(e){const t=n=>n;return t.toString=()=>e,t}function ZB(e,t){return t=t&&Hn(t.query)?t.query():t,t&&Hn(t.evaluate)?t.evaluate(null,e):e(t)}function $te(e){return Bi(e)&&(un(e.all)||un(e.matches)||un(e.not)||un(e.range))}function lv(e){return e&&Hn(e.toObject)?e.toObject():Hn(e)?{expr:String(e),func:!0}:un(e)?e.map(lv):Bi(e)?nP(e,t=>lv(t)):e}function kD(e){return un(e)?e.map(kD):Bi(e)?un(e.verbs)?RD.from(e):un(e.all)?zp():un(e.range)?pVe(...e.range):un(e.match)?mVe(RegExp(...e.match)):un(e.not)?Nee(e.not.map(lv)):H5e(e):e}function H5e(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=_d(n):e.func===!0&&(t=n=U5e(n)),Bi(e.window)){const{frame:r,peers:i}=e.window;t=n=z5e(n,r,i)}e.desc===!0&&(t=B5e(n))}return e===t?nP(e,r=>kD(r)):t}function W5e(e){return un(e)?e.map(q5e):e}function q5e(e){const t=[];return ko(e).forEach(n=>{eo(n)?t.push(n):Ei(n)?t.push(_d(n,null)):Bi(n)&&n.expr||Hn(n)?t.push(n):At(`Invalid key value: ${n+""}`)}),t}function G5e(e){return un(e)?e.map(K5e):e}function K5e(e,t){return t<2?ko(e):e}function Y5e(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(Bi(r)&&!Hn(r))for(const i in r)t.push(r[i]);else n=eo(r)?r:Ei(r)?_d(n):Hn(r)?n:At(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const Q5e={[Tte]:Nte,[Xs]:Hp,[Cte]:nBe,[Rg]:Wc,[Nh]:rBe,[JS]:iBe,[$D]:Hp,[Hu]:eBe};function X5e(e,t,n){return t===kf?ez(e):t===Dh?e.map(ez):kte(lv(e),t,n)}function kte(e,t,n){return t===gs?e&&J5e(e,n):Q5e[t](e)}function J5e(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?kte(i,t[r]):i}return n}function Z5e(e,t){return Ro({expr:e},{...t,ast:!0}).exprs[0]}function AD(e){return{type:l0,name:e}}function Ate(e){return{type:l0,index:e}}function Wc(e,t){if(Ei(e))return Z5e(e,t);if(e.expr){let n;if(e.field===!0?n=AD(e.expr):e.func===!0&&(n=Wc(e.expr,t)),n)return e.desc&&(n={type:M5e,expr:n}),e.window&&(n={type:V5e,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...Wc(e[n],t),as:n}))}function Rte(e){const t=j5e;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:Hp(e.not)}:e.range?{type:t,operator:"range",arguments:Hp(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:At("Invalid input")}function eBe(e){return ko(e).map(tBe).flat()}function tBe(e){return $te(e)?Rte(e):eo(e)?Ate(e):Ei(e)?AD(e):Bi(e)?Object.keys(e).map(t=>({type:l0,name:t,as:e[t]})):At("Invalid input")}function Nte(e){return $te(e)?Rte(e):eo(e)?Ate(e):Ei(e)?AD(e):Bi(e)?Wc(e):At("Invalid input")}function Hp(e){return ko(e).map(Nte).flat()}function nBe(e){return eo(e)?e:Wc(e)}function rBe(e){return un(e)?e.map(Hp):Wc(e,{join:!0})}function iBe(e){return un(e)?e.map((t,n)=>n<2?Hp(t):Wc(t,{join:!0})):Wc(e,{join:!0})}function ez(e){return e&&Hn(e.toAST)?e.toAST():e}class Dte{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,o)=>{const s=i.type,a=r[o],l=s===Nh?W5e(a):s===JS?G5e(a):s===$D?Y5e(a):a;this[i.name]=l!==void 0?l:i.default})}static from(t){const n=dk[t.verb],r=(n.schema||[]).map(({name:i})=>kD(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:o})=>{const s=this[i];return o===kf?ZB(n,s):o===Dh?s.map(a=>ZB(n,a)):s});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=lv(this[n])}),t}toAST(){const t={type:F5e,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=X5e(this[n],r,i)}),t}}function In(e,t){return Object.assign((...n)=>new Dte(e,t,n),{schema:t})}const dk={count:In("count",[{name:"options",type:gs}]),derive:In("derive",[{name:"values",type:Rg},{name:"options",type:gs,props:{before:Hu,after:Hu}}]),filter:In("filter",[{name:"criteria",type:Rg}]),groupby:In("groupby",[{name:"keys",type:Xs}]),orderby:In("orderby",[{name:"keys",type:$D}]),relocate:In("relocate",[{name:"columns",type:Hu},{name:"options",type:gs,props:{before:Hu,after:Hu}}]),rename:In("rename",[{name:"columns",type:Hu}]),rollup:In("rollup",[{name:"values",type:Rg}]),sample:In("sample",[{name:"size",type:Cte},{name:"options",type:gs,props:{weight:Tte}}]),select:In("select",[{name:"columns",type:Hu}]),ungroup:In("ungroup"),unorder:In("unorder"),reify:In("reify"),dedupe:In("dedupe",[{name:"keys",type:Xs,default:[]}]),impute:In("impute",[{name:"values",type:Rg},{name:"options",type:gs,props:{expand:Xs}}]),fold:In("fold",[{name:"values",type:Xs},{name:"options",type:gs}]),pivot:In("pivot",[{name:"keys",type:Xs},{name:"values",type:Xs},{name:"options",type:gs}]),spread:In("spread",[{name:"values",type:Xs},{name:"options",type:gs}]),unroll:In("unroll",[{name:"values",type:Xs},{name:"options",type:gs,props:{drop:Xs}}]),lookup:In("lookup",[{name:"table",type:kf},{name:"on",type:Nh},{name:"values",type:Xs}]),join:In("join",[{name:"table",type:kf},{name:"on",type:Nh},{name:"values",type:JS},{name:"options",type:gs}]),cross:In("cross",[{name:"table",type:kf},{name:"values",type:JS},{name:"options",type:gs}]),semijoin:In("semijoin",[{name:"table",type:kf},{name:"on",type:Nh}]),antijoin:In("antijoin",[{name:"table",type:kf},{name:"on",type:Nh}]),concat:In("concat",[{name:"tables",type:Dh}]),union:In("union",[{name:"tables",type:Dh}]),intersect:In("intersect",[{name:"tables",type:Dh}]),except:In("except",[{name:"tables",type:Dh}])};let RD=class Mte extends aJ{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new Mte(t.map(Dte.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return tz(this,"toObject")}toJSON(){return this.toObject()}toAST(){return tz(this,"toAST",{type:L5e})}};function tz(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function oBe(e,t){return new RD(e._verbs.concat(t),e._params,e._table)}for(const e in dk){const t=dk[e];RD.prototype["__"+e]=function(n,...r){return oBe(n,t(...r))}}function Sm(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((o,s)=>o.map((a,l)=>`${r[s]}${l} = ${r[s]}[${l}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function sBe(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function ND(e,t){const n=cs();return t.forEach((r,i)=>{const o=Ei(r)?r:i;if(o){const s=e.column(i)||At(`Unrecognized column: ${i}`);n.add(o,s)}}),e.create(n)}function Lte(e,t,{before:n,after:r}={}){const i=n!=null,o=r!=null;i||o||At("relocate requires a before or after option."),i&&o&&At("relocate accepts only one of the before or after options."),t=gu(e,t);const s=[...gu(e,i?n:r).keys()],a=i?s[0]:s.pop(),l=new Map;return e.columnNames().forEach(u=>{const c=!t.has(u);if(u===a){o&&c&&l.set(u,u);for(const[f,d]of t)l.set(f,d);if(o)return}c&&l.set(u,u)}),ND(e,l)}function g0(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let o=1;o<r;++o)i+=n+t(e[o],o);return i}function DD(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aBe(e,t=0,n=e.length){let r=n?e[t++]:rn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function lBe(e,t=0,n=e.length){let r=n?e[t++]:rn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function M_(e){return Zy(e)?e:+e}function uBe(e,t){const n=e.length;if(!n)return rn;if((t=+t)<=0||n<2)return M_(e[0]);if(t>=1)return M_(e[n-1]);const r=(n-1)*t,i=Math.floor(r),o=M_(e[i]);return Zy(o)?o:o+(M_(e[i+1])-o)*(r-i)}class cBe{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:aBe(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:lBe(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(DD)),uBe(this._sorted,t)}}const ZS=(e,t,n)=>Sm(t,"{"+g0(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function fBe(e,t){const{ops:n,output:r}=dBe(e,t),i=e[0].fields,o=i.length,s=o===0?MD:o===1?hBe:o===2?pBe:At("Unsupported field count: "+o);return new s(i,n,r,t)}function dBe(e,t){const n={},r=[];function i(s,a=[]){const l=s+":"+a;if(n[l])return n[l];const u=TJ(s),c=u.create(...a);return t<0&&u.stream&&u.stream.forEach(f=>i(f,[])),u.req&&u.req.forEach(f=>i(f,[])),n[l]=c,r.push(c),c}const o=e.map(s=>{const a=i(s.name,s.params);return a.output=s.id,a});return{ops:r,output:o}}class MD extends yVe{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new cBe),t}write(t,n,r){const i=this._outputs,o=i.length;for(let s=0;s<o;++s)n[i[s].output][r]=i[s].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class hBe extends MD{constructor(t,n,r,i){super(t,n,r,i);const o=["state","v1","v2"];this._add=ZS(n,o,"add"),this._rem=ZS(n,o,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,aa(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,aa(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class pBe extends MD{constructor(t,n,r,i){super(t,n,r,i);const o=["state","v1","v2"];this._add=ZS(n,o,"add"),this._rem=ZS(n,o,"rem")}add(t,n,r){const i=this._fields[0](n,r),o=this._fields[1](n,r);++t.count,aa(i)&&aa(o)&&(++t.valid,t.list&&t.list.add([i,o]),this._add(t,i,o))}rem(t,n,r){const i=this._fields[0](n,r),o=this._fields[1](n,r);--t.count,aa(i)&&aa(o)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,o))}}function zd(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},o=Em(e,t),s=i?(a,l)=>o[a][i[l]]:a=>o[a][0];n=n.map(a=>l=>a(l,r,s))}return n}function Em(e,t,n){if(!t.length)return n;const r=jte(t),i=e.groups(),o=i?i.size:1;return n=n||zx(t.length,()=>Array(o)),o>1?r.forEach(s=>{const a=Vte(e,s,i);for(let l=0;l<o;++l)s.write(a[l],n,l)}):r.forEach(s=>{const a=Fte(e,s);s.write(a,n,0)}),n}function jte(e,t){const n=[],r={};for(const i of e){const o=i.fields.map(s=>s+"").join(",");(r[o]||(r[o]=[])).push(i)}for(const i in r)n.push(fBe(r[i],t));return n}function Fte(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),o=e.mask();if(e.isOrdered()){const s=e.indices();for(let a=0;a<r;++a)t.add(n,s[a],i)}else if(o)for(let s=o.next(0);s>=0;s=o.next(s+1))t.add(n,s,i);else for(let s=0;s<r;++s)t.add(n,s,i);return n}function Vte(e,t,n){const{keys:r,size:i}=n,o=zx(i,()=>t.init()),s=e.data();if(e.isOrdered()){const a=e.indices(),l=a.length;for(let u=0;u<l;++u){const c=a[u];t.add(o[r[c]],c,s)}}else if(e.isFiltered()){const a=e.mask();for(let l=a.next(0);l>=0;l=a.next(l+1))t.add(o[r[l]],l,s)}else{const a=e.totalRows();for(let l=0;l<a;++l)t.add(o[r[l]],l,s)}return o}function Bte(e,t){const{get:n,names:r,rows:i,size:o}=t,s=r.length;for(let a=0;a<s;++a){const l=e.add(r[a],Array(o)),u=n[a];for(let c=0;c<o;++c)l[c]=u(i[c])}}function zte(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}const nz=zte(DD);function mBe(e,t,n,r,i){let o,s,a,l,u;const c=g=>s[g-1]===s[g],f=r.length,d=i.length,h=r.length?Sm(["w","r","k"],"{"+g0(r,(g,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(g,y,m,v){p.index=p.i0=p.i1=0,p.size=y.length,o=g,s=y,l=m,u=v,a=i?i.map(_=>_.init()):null;for(let _=0;_<f;++_)r[_].init();return p},value(g,y){return y(o[g],e)},step(g){const[y,m]=t,v=p.size,_=p.i0,b=p.i1;p.i0=y!=null?Math.max(0,g-Math.abs(y)):0,p.i1=m!=null?Math.min(v,g+Math.abs(m)+1):v,p.index=g,n&&(p.i0>0&&c(p.i0)&&(p.i0=nz.left(s,s[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=nz.right(s,s[p.i1-1])));for(let E=0;E<d;++E){const w=i[E],x=a[E];for(let I=_;I<p.i0;++I)w.rem(x,o[I],e);for(let I=b;I<p.i1;++I)w.add(x,o[I],e);w.write(x,l,u)}return h(p,l,u),l}};return p}const gBe=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),yBe=e=>!!e.peers;function vBe(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,o=CJ(n).create(...i);return r.length&&(o.get=r[0]),o.id=t,o}function _Be(e,t,n,r={},i){const o=e.data(),s=wBe(i,o),a=s.length,l=Sm(["r","d","op"],"{"+g0(t,(u,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((u,c)=>{const f=u.length,d=bBe(e,u);for(let p=0;p<a;++p)s[p].init(u,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let g=0;g<a;++g)s[g].step(p);l(u[p],o,h)}})}function wBe(e,t){const n={};return e.forEach(r=>{const i=gBe(r),o=yBe(r),s=`${i},${o}`,{aggOps:a,winOps:l}=n[s]||(n[s]={frame:i,peers:o,aggOps:[],winOps:[]});_2(r.name)?a.push(r):l.push(vBe(r))}),Object.values(n).map(r=>mBe(t,r.frame,r.peers,r.winOps,jte(r.aggOps,r.frame[0]!=null?-1:1)))}function bBe(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,o=new Uint32Array(i);for(let s=1,a=0;s<i;++s)o[s]=n(t[s-1],t[s],r)?++a:a;return o}else return t}function SBe(e){return w2(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function LD(e,{names:t,exprs:n,ops:r},i={}){const o=e.totalRows(),s=cs(i.drop?null:e),a=t.map(d=>s.add(d,Array(o))),[l,u]=EBe(r),c=e.isGrouped()?e.groups().size:1,f=Em(e,l,zx(r.length,()=>Array(c)));return u.length?_Be(e,a,n,f,u):xBe(e,a,n,f),e.create(s)}function EBe(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const o=e[i];o.id=i,(SBe(o)?n:t).push(o)}return[t,n]}function xBe(e,t,n,r){const i=e.mask(),o=e.data(),{keys:s}=e.groups()||{},a=s?(u,c)=>r[u][s[c]]:u=>r[u][0],l=t.length;for(let u=0;u<l;++u){const c=n[u],f=t[u];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,o,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,o,a)}}}function PBe(e,t,n={}){const r=LD(e,Ro(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Lte(r,Object.keys(t).filter(i=>!e.column(i)),n)}function IBe(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const L_=2147483648,OBe=4294967295;class Ute{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&L_>>>t}set(t){this._bits[t>>5]|=L_>>>t}clear(t){this._bits[t>>5]&=~(L_>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,o=n[i]&OBe>>>t;for(;i<r;o=n[++i])if(o!==0)return(i<<5)+Math.clz32(o);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=L_>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let o=0;o<i;++o)n[o]&=r[o]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let o=0;o<i;++o)n[o]|=r[o]}return this}}function TBe(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),o=new Ute(n);if(r)for(let s=r.next(0);s>=0;s=r.next(s+1))t(s,i)&&o.set(s);else for(let s=0;s<n;++s)t(s,i)&&o.set(s);return e.create({filter:o})}function CBe(e,t){const n=Ro({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=LD(e,n,{drop:!0}).column("p");r=o=>i[o]}return TBe(e,r)}function Hte(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const o=i.limit>0?+i.limit:1/0,s=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),l=zd(e,r,n),u=cs(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(b=>{if(!a.has(b)){const E=u.add(b,[]);c.has(b)||(f.push(e.column(b)),d.push(E))}}),t.forEach(b=>{a.has(b)||(u.has(b)||u.add(b,[]),h.push(u.data[b]))});const p=s?u.add(s,[]):null;let g=0;const y=f.length,m=h.length,v=(b,E)=>{for(let w=0;w<y;++w)d[w].length=g+E,d[w].fill(f[w].get(b),g,g+E)},_=p?(b,E)=>{for(let w=0;w<E;++w)p[b+w]=w}:()=>{};if(m===1){const b=l[0],E=h[0];e.scan((w,x)=>{const I=ko(b(w,x)),D=Math.min(I.length,o);v(w,D);for(let R=0;R<D;++R)E[g+R]=I[R];_(g,D),g+=D})}else e.scan((b,E)=>{let w=0;const x=l.map(I=>{const D=ko(I(b,E));return w=Math.min(Math.max(w,D.length),o),D});v(b,w);for(let I=0;I<m;++I){const D=h[I],R=x[I];for(let N=0;N<w;++N)D[g+N]=R[N]}_(g,w),g+=w});return e.create(u.new())}function $Be(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[o="key",s="value"]=i.as||[],a=zd(e,r,n);return Hte(e,{names:[o,s],exprs:[()=>t,(l,u)=>a.map(c=>c(l,u))]},{...i,drop:t})}function va(e,t,n,r={window:!1}){const i=new Map,o=s=>{s=eo(s)?t.columnName(s):s,Ei(s)?i.set(s,_d(s)):Hn(s)?gu(t,s).forEach(o):Bi(s)?Aee(i,s):At(`Invalid ${e} value: ${s+""}`)};return ko(n).forEach(o),r.preparse&&r.preparse(i),Ro(i,{table:t,...r})}function kBe(e,t,n){return $Be(e,va("fold",e,t),n)}function rz(e,t,n,r){const i=n&&n.length;return ABe(i?RBe(e,n,r):e,t,i)}function ABe(e,{names:t,exprs:n,ops:r},i){const o=zd(e,r,n),s=i?null:cs(e),a=e.totalRows();return t.forEach((l,u)=>{const c=e.column(l),f=i?c.data:s.add(l,Array(a)),d=o[u];e.scan(h=>{const p=c.get(h);f[h]=aa(p)?p:d(h)})}),i?e:e.create(s)}function RBe(e,t,n){const r=e.groups(),i=e.data(),o=(r?r.names:[]).concat(t),s=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,l=AS(s);e.scan((p,g)=>a.add(l(p,g)));const u=e.columnNames(),c=cs(),f=u.map(p=>c.add(p,[]));u.forEach((p,g)=>{const y=i[p],m=f[g];e.scan(v=>m.push(y.get(v)))});const d=AS(s.map((p,g)=>y=>y[g])),h=Sm("v","{"+f.map((p,g)=>`_${g}.push(v[$${g}]);`).join("")+"}",f,u.map(p=>o.indexOf(p)));if(r){let p=r.keys.length;const g=n.reduce((m,v)=>m*v.length,r.size),y=new Uint32Array(g+(p-a.size));y.set(r.keys),iz(r,n,(m,v)=>{a.has(d(m))||(h(m),y[p++]=v[0])}),c.groupby({...r,keys:y})}else iz(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function iz(e,t,n){const r=e?e.get.length:0,i=e?1:0,o=i+t.length,s=new Int32Array(o),a=new Int32Array(o),l=[];if(e){const{get:c,rows:f,size:d}=e;s[0]=d,l.push((h,p)=>{const g=f[p];for(let y=0;y<r;++y)h[y]=c[y](g)})}t.forEach((c,f)=>{const d=f+r;s[f+i]=c.length,l.push((h,p)=>h[d]=c[p])});const u=Array(r+t.length);for(let c=0;c<o;++c)l[c](u,0);n(u,a);for(let c=o-1;c>=0;){const f=++a[c];f<s[c]?(l[c](u,f),n(u,a),c=o-1):(a[c]=0,l[c](u,0),--c)}}function jD(e,{names:t,exprs:n,ops:r}){const i=cs(),o=e.groups();return o&&Bte(i,o),NBe(t,n,o,Em(e,r),i),e.create(i.new())}function NBe(e,t,n,r=[],i){if(!t.length)return;const o=n?n.size:1,s=(l,u)=>r[l][u],a=e.length;for(let l=0;l<a;++l){const u=t[l];if(u.field!=null)i.add(e[l],r[u.field]);else if(o>1){const c=i.add(e[l],Array(o));for(let f=0;f<o;++f)c[f]=u(f,null,s)}else i.add(e[l],[u(0,null,s)])}}function DBe(e,t,n={}){if(t=Ro(t,{table:e}),t.names.forEach(r=>e.column(r)?0:At(`Invalid impute column ${ul(r)}`)),n.expand){const r={preparse:MBe,aggronly:!0},i=va("impute",e,n.expand,r),o=jD(e.ungroup(),i);return rz(e,t,i.names,i.names.map(s=>o.get(s,0)))}else return rz(e,t)}function MBe(e){e.forEach((t,n)=>t.field?e.set(n,gJ(t+"")):0)}function LBe(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Wte(e,t){const n=new Map;return e.scan((r,i)=>{const o=t(r,i);o!=null&&o===o&&n.set(o,r)}),n}function jBe(e,t,n){const r=new Map,i=e.length;for(let o=0;o<i;++o){const s=e[o],a=n(s,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(o):r.set(a,[o]))}return r}function FBe(e,t){const n=["i","a","j","b"];return Sm(n,"{"+g0(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function VBe(e,t,n,{names:r,exprs:i},o={}){const s=e.data(),a=e.indices(!1),l=a.length,u=new Int32Array(l),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,g=cs(),y=Array(p),m=Array(p);for(let b=0;b<r.length;++b)y[b]=g.add(r[b],[]),m[b]=i[b];const v=FBe(y,m);if((un(n)?zBe:BBe)(v,n,s,c,a,f,u,h,l,d),o.left)for(let b=0;b<l;++b)u[b]||v(a[b],s,-1,c);if(o.right)for(let b=0;b<d;++b)h[b]||v(-1,s,f[b],c);return e.create(g.new())}function BBe(e,t,n,r,i,o,s,a,l,u){for(let c=0;c<l;++c){const f=i[c];for(let d=0;d<u;++d){const h=o[d];t(f,n,h,r)&&(e(f,n,h,r),s[c]=1,a[d]=1)}}}function zBe(e,[t,n],r,i,o,s,a,l,u,c){let f,d,h,p,g,y,m,v,_=e;u>=c?(f=r,d=t,h=a,p=o,g=i,y=n,m=l,v=s):(f=i,d=n,h=l,p=s,g=r,y=t,m=a,v=o,_=(w,x,I,D)=>e(I,D,w,x));const b=jBe(v,g,y),E=p.length;for(let w=0;w<E;++w){const x=p[w],I=b.get(d(x,f));if(I){const D=I.length;for(let R=0;R<D;++R){const N=I[R];_(x,f,v[N],g),m[N]=1}h[w]=1}}}function eE(e,t,n){const r=new Map;ko(n).forEach((o,s)=>{o=eo(o)?t.columnName(o):o,Ei(o)?r.set(s,_d(o)):Hn(o)||Bi(o)&&o.expr?r.set(s,o):At(`Invalid ${e} key value: ${o+""}`)});const i=Ro(r,{table:t,aggregate:!1,window:!1});return AS(i.exprs,!0)}function UBe(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function FD(e,t,n){if(n)Ei(n)?n=[n,n]:un(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=UBe(e.columnNames(),t.columnNames());r.length||At("Natural join requires shared column names."),n=[r,r]}return n}function qte(e,t,n,r){return n.length!==r.length&&At("Mismatched number of join keys"),[eE("join",e,n),eE("join",t,r)]}const HBe={aggregate:!1,window:!1},WBe={...HBe,index:1};function oz(e,t,n,r,i={}){n=FD(e,t,n);const o={join:[e,t]};let s;if(un(n)){const[a,l]=n.map(ko);s=qte(e,t,a,l),r||(r=qBe(e,a,l,i))}else s=Ro({on:n},o).exprs[0],r||(r=[zp(),zp()]);return VBe(e,t,s,GBe(e,t,r,o,i&&i.suffix),i)}function qBe(e,t,n,r){const i=[];t.forEach((s,a)=>Ei(s)&&s===n[a]?i.push(s):0);const o=Nee(i);if(r.left&&r.right){const s=new Set(i);return[e.columnNames().map(a=>{const l=`[${ul(a)}]`;return s.has(a)?{[a]:`(a, b) => a${l} == null ? b${l} : a${l}`}:a}),o]}return r.right?[o,zp()]:[zp(),o]}function GBe(e,t,n,r,i=[]){if(un(n)){let o,s,a,l=n.length;o=s=a={names:[],exprs:[]},l--&&(o=va("join",e,n[0],r)),l--&&(s=va("join",t,n[1],WBe)),l--&&(a=Ro(n[2],r));const u=new Set,c=new Set(o.names);return s.names.forEach(f=>{c.has(f)&&u.add(f)}),u.size&&(sz(o.names,u,i[0]||"_1"),sz(s.names,u,i[1]||"_2")),{names:o.names.concat(s.names,a.names),exprs:o.exprs.concat(s.exprs,a.exprs)}}else return Ro(n,r)}function sz(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function KBe(e,t,n,r={}){const i=new Ute(e.totalRows());return(un(n)?YBe:QBe)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function YBe(e,t,n,[r,i]){const o=Wte(n,i);t.scan((s,a)=>{o.get(r(s,a))>=0&&e.set(s)})}function QBe(e,t,n,r){const i=t.numRows(),o=n.numRows(),s=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const l=t.indices(!1),u=n.indices(!1);for(let c=0;c<i;++c){const f=l[c];for(let d=0;d<o;++d)if(r(f,s,u[d],a)){e.set(f);break}}}else for(let l=0;l<i;++l)for(let u=0;u<o;++u)if(r(l,s,u,a)){e.set(l);break}}function az(e,t,n,r){n=FD(e,t,n);const i=un(n)?qte(e,t,...n.map(ko)):Ro({on:n},{join:[e,t]}).exprs[0];return KBe(e,t,i,r)}function XBe(e,t,[n,r],{names:i,exprs:o,ops:s}){const a=cs(e),l=e.totalRows();i.forEach(d=>a.add(d,Array(l).fill(rn)));const u=Wte(t,r),c=Sm(["lr","rr","data"],"{"+g0(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),zd(t,s,o)),f=t.data();return e.scan((d,h)=>{const p=u.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function JBe(e,t,n,r){return n=FD(e,t,n),XBe(e,t,[eE("lookup",e,n[0]),eE("lookup",t,n[1])],va("lookup",t,r))}const hk=(e,t)=>e??t;function ZBe(e,t,n,r={}){const{keys:i,keyColumn:o}=eze(e,t,r),s=hk(r.valueSeparator,"_"),a=n.names.length>1?(u,c)=>c+s+i[u]:u=>i[u],l=i.map(u=>Em(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>u===o[h]?1:NaN;return d.toString=()=>u+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,g)=>u===o[p]?d(p,g):NaN;return h.toString=()=>u+":"+d,h});return{...c,fields:f}})));return e.create(tze(n,a,e.groups(),l))}function eze(e,t,n){const r=n.limit>0?+n.limit:1/0,i=hk(n.sort,!0),o=hk(n.keySeparator,"_"),s=zd(e,t.ops,t.exprs),a=s.length===1?s[0]:(f,d)=>s.map(h=>h(f,d)).join(o),l=Array(e.totalRows());e.scan((f,d)=>l[f]=a(f,d));const u=Em(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>l[f]],params:[]}])[0][0],c=i?u.sort():u;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:l}}function tze({names:e,exprs:t},n,r,i){const o=r?r.size:1,s=cs(),a=i.length,l=e.length;let u;const c=(f,d)=>u[f][d];r&&Bte(s,r);for(let f=0;f<l;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)s.add(n(h,e[f]),i[h][d.field]);else if(o>1)for(let h=0;h<a;++h){u=i[h];const p=s.add(n(h,e[f]),Array(o));for(let g=0;g<o;++g)p[g]=d(g,null,c)}else for(let h=0;h<a;++h)u=i[h],s.add(n(h,e[f]),[d(0,null,c)])}return s.new()}function nze(e,t,n,r){return ZBe(e,va("fold",e,t),va("fold",e,n,{preparse:rze,aggronly:!0}),r)}function rze(e){e.forEach((t,n)=>t.field?e.set(n,hJ(t+"")):0)}function ize(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),ND(e,gu(e,t,n))}function lz(e,t){return jD(e,Ro(t,{table:e,aggronly:!0,window:!1}))}function oze(e,t,n,r){return(t?r?aze:sze:r?uze:lze)(e.length,e,n,r)}function sze(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*pm()|0];return t}function aze(e,t,n,r){const i=n.length,o=new Float64Array(i);let s=0;for(let l=0;l<i;++l)o[l]=s+=r(n[l]);const a=zte(DD).right;for(let l=0;l<e;++l)t[l]=n[a(o,s*pm())];return t}function lze(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const o=i*pm();o<e&&(t[o|0]=n[i])}return t}function uze(e,t,n,r){const i=n.length;if(e>=i)return n;const o=new Float32Array(i),s=new Uint32Array(i);for(let a=0;a<i;++a)s[a]=a,o[a]=-Math.log(pm())/r(n[a]);s.sort((a,l)=>o[a]-o[l]);for(let a=0;a<e;++a)t[a]=n[s[a]];return t}function cze(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=pm()*r--|0,o=e[r+t];e[r+t]=e[i+t],e[i+t]=o}return e}function fze(e,t,n,r={}){const{replace:i,shuffle:o}=r,s=e.partitions(!1);let a=0;t=s.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const l=new Uint32Array(a);let u=0;return s.forEach((c,f)=>{const d=t[f],h=l.subarray(u,u+=d);!i&&d===c.length?h.set(c):oze(h,i,c,n)}),o!==!1&&(s.length>1||!i)&&cze(l),e.reify(l)}function dze(e,t,n={}){return fze(e,hze(e,t),pze(e,n.weight),n)}const Gte=e=>t=>e.get(t)||0;function hze(e,t){return eo(t)?()=>t:Gte(jD(e,Ro({size:t},{table:e,window:!1})).column("size"))}function pze(e,t){return t==null?null:(t=eo(t)?e.columnName(t):t,Gte(Ei(t)?e.column(t):LD(e,Ro({w:t},{table:e}),{drop:!0}).column("w")))}function mze(e,t){return ND(e,gu(e,t))}function gze(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const o=t.length===1&&i.as||[],s=i.drop==null?!0:!!i.drop,a=i.limit==null?o.length||1/0:Math.max(1,+i.limit||1),l=zd(e,r,n),u=cs(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=yze(e,l[d],a),g=p.length;for(let y=0;y<g;++y)u.add(o[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(s||u.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):u.add(d,e.column(d))}),c.forEach(f),e.create(u)}function yze(e,t,n){const r=e.totalRows(),i=[];return e.scan((o,s)=>{const a=ko(t(o,s)),l=Math.min(a.length,n);for(;i.length<l;)i.push(Array(r).fill(rn));for(let u=0;u<l;++u)i[u][o]=a[u]}),i}function vze(e,t,n){return gze(e,va("spread",e,t),n)}function _ze(e,t){return e.concat(t).dedupe()}function wze(e,t,n){return Hte(e,va("unroll",e,t),n&&n.drop?{...n,drop:va("unroll",e,n.drop).names}:n)}function bze(e,t){return e.create({groups:Sze(e,t)})}function Sze(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let o=zd(e,r,n);const s=AS(o),a=e.totalRows(),l=new Uint32Array(a),u={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=s(h,f)+"",g=u[p];l[h]=g??(u[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=s(h,f)+"",g=u[p];l[h]=g??(u[p]=c.push(h)-1)}return r.length||(o=o.map(h=>p=>h(p,f))),{keys:l,get:o,names:t,rows:c,size:c.length}}function Eze(e,t){return bze(e,va("groupby",e,t))}function xze(e,t){return e.create({order:t})}const Pze=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function Ize(e,t){const n=[],r=[],i=[];let o=null,s="0",a="0";e.isGrouped()&&(o=e.groups().keys,s="ka",a="kb");const{ops:l}=Ro(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const g=y=>`fn[${i.length}](${y}, data)`;r.push([g("a"),g("b")]),i.push(p.escape)}else r.push([kS(p,{index:"a",op:s}),kS(p,{index:"b",op:a})])},window:!1}),u=Em(e,l),c=(h,p)=>u[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[g,y]=r[h];d+=Pze(g,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,o,i,e.data())}function Oze(e,t){return xze(e,Tze(e,t))}function Tze(e,t){let n=-1;const r=new Map,i=o=>r.set(++n+"",o);return t.forEach(o=>{const s=o.expr!=null?o.expr:o;if(Bi(s)&&!Hn(s))for(const a in s)i(s[a]);else i(eo(s)?_d(o,e.columnName(s)):Ei(s)?_d(o):Hn(s)?o:At(`Invalid orderby field: ${o+""}`))}),Ize(e,r)}function Cze(e,t){const n=e.numRows(),r=n+t.reduce((s,a)=>s+a.numRows(),0);if(n===r)return e;const i=[e,...t],o=cs();return e.columnNames().forEach(s=>{const a=Array(r);let l=0;i.forEach(u=>{const c=u.column(s)||{get:()=>rn};u.scan(f=>a[l++]=c.get(f))}),o.add(s,a)}),e.create(o.new())}function $ze(e,t){const n=cs(),r=e.groups(),{get:i,names:o=[],rows:s,size:a=1}=r||{},l=new Uint32Array(a+1);o.forEach(d=>n.add(d,null));const u=r?Vte(e,t,r):[Fte(e,t)];t.outputs().map(d=>n.add(d,[]));const c=l.length-1;let f=0;for(let d=0;d<c;++d)f+=l[d+1]=t.write(u[d],n.data,l[d]);if(r){const d=e.data();o.forEach((h,p)=>{const g=n.data[h]=Array(f),y=i[p];for(let m=0,v=0;m<a;++m)g.fill(y(s[m],d),v,v+=l[m+1])})}return e.create(n.new())}function kze(e){return e.isGrouped()?e.create({groups:null}):e}function Aze(e){return e.isOrdered()?e.create({order:null}):e}const Rze={__antijoin:(e,t,n)=>az(e,t,n,{anti:!0}),__count:(e,t={})=>lz(e,{[t.as||"count"]:pJ()}),__cross:(e,t,n,r)=>oz(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:Cze,__dedupe:sBe,__derive:PBe,__except:IBe,__filter:CBe,__fold:kBe,__impute:DBe,__intersect:LBe,__join:oz,__lookup:JBe,__pivot:nze,__relocate:Lte,__rename:ize,__rollup:lz,__sample:dze,__select:mze,__semijoin:az,__spread:vze,__union:_ze,__unroll:wze,__groupby:Eze,__orderby:Oze,__ungroup:kze,__unorder:Aze,__reduce:$ze};Object.assign(Ll.prototype,Rze);function Nze(e,t){return Ll.from(e,t)}function sT(e){return lP(e,{escape:!0,toString(){At("Escaped values can not be serialized.")}})}Ll.prototype;function Dze(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let j_;const Mze=new Uint8Array(16);function Lze(){if(!j_&&(j_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!j_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j_(Mze)}const li=[];for(let e=0;e<256;++e)li.push((e+256).toString(16).slice(1));function jze(e,t=0){return(li[e[t+0]]+li[e[t+1]]+li[e[t+2]]+li[e[t+3]]+"-"+li[e[t+4]]+li[e[t+5]]+"-"+li[e[t+6]]+li[e[t+7]]+"-"+li[e[t+8]]+li[e[t+9]]+"-"+li[e[t+10]]+li[e[t+11]]+li[e[t+12]]+li[e[t+13]]+li[e[t+14]]+li[e[t+15]]).toLowerCase()}const Fze=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uz={randomUUID:Fze};function cz(e,t,n){if(uz.randomUUID&&!t&&!e)return uz.randomUUID();e=e||{};const r=e.random||(e.rng||Lze)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return jze(r)}let nl=class{static get(){let t=cz();for(;this.ids.has(t);)t=cz();return this.ids.set(t,!0),t}};nl.ids=new Map;function rl(e){return"parent"in e}function Vze(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,o={annotation:[],bookmark:[]},s=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:nl.get(),val:i[u],createdOn:Date.now()}),l),o),a=r?[{id:nl.get(),createdOn:Date.now(),val:r}]:[];return{id:nl.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:s,artifacts:a,state:{type:"checkpoint",val:n}}}function Bze({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:o,event:s}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:nl.get(),val:i[f],createdOn:Date.now()}),c),a),u=o?[{id:nl.get(),createdOn:Date.now(),val:o}]:[];return{id:nl.get(),label:n,event:s,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function yr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=Qze[e],o=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wd(e){return!!e&&!!e[rs]}function qc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Xze}(e)||Array.isArray(e)||!!e[fy]||!!(!((t=e.constructor)===null||t===void 0)&&t[fy])||uP(e)||cP(e))}function Wp(e,t,n){n===void 0&&(n=!1),Gc(e)===0?(n?Object.keys:WD)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Gc(e){var t=e[rs];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:uP(e)?2:cP(e)?3:0}function uv(e,t){return Gc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Lw(e,t){return Gc(e)===2?e.get(t):e[t]}function Kte(e,t,n){var r=Gc(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function zze(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function uP(e){return Kze&&e instanceof Map}function cP(e){return Yze&&e instanceof Set}function Ef(e){return e.o||e.t}function VD(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Jze(e);delete t[rs];for(var n=WD(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function BD(e,t){return t===void 0&&(t=!1),zD(e)||wd(e)||!qc(e)||(Gc(e)>1&&(e.set=e.add=e.clear=e.delete=Uze),Object.freeze(e),t&&Wp(e,function(n,r){return BD(r,!0)},!0)),e}function Uze(){yr(2)}function zD(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function il(e){var t=yk[e];return t||yr(18,e),t}function Hze(e,t){yk[e]||(yk[e]=t)}function fz(){return{}.NODE_ENV==="production"||qp||yr(0),qp}function aT(e,t){t&&(il("Patches"),e.u=[],e.s=[],e.v=t)}function tE(e){pk(e),e.p.forEach(Wze),e.p=null}function pk(e){e===qp&&(qp=e.l)}function dz(e){return qp={p:[],l:qp,h:e,m:!0,_:0}}function Wze(e){var t=e[rs];t.i===0||t.i===1?t.j():t.O=!0}function lT(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||il("ES5").S(t,e,r),r?(n[rs].P&&(tE(t),yr(4)),qc(e)&&(e=nE(t,e),t.l||rE(t,e)),t.u&&il("Patches").M(n[rs].t,e,t.u,t.s)):e=nE(t,n,[]),tE(t),t.u&&t.v(t.u,t.s),e!==HD?e:void 0}function nE(e,t,n){if(zD(t))return t;var r=t[rs];if(!r)return Wp(t,function(o,s){return hz(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return rE(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=VD(r.k):r.o;Wp(r.i===3?new Set(i):i,function(o,s){return hz(e,r,i,o,s,n)}),rE(e,i,!1),n&&e.u&&il("Patches").R(r,n,e.u,e.s)}return r.o}function hz(e,t,n,r,i,o){if({}.NODE_ENV!=="production"&&i===n&&yr(5),wd(i)){var s=nE(e,i,o&&t&&t.i!==3&&!uv(t.D,r)?o.concat(r):void 0);if(Kte(n,r,s),!wd(s))return;e.m=!1}if(qc(i)&&!zD(i)){if(!e.h.F&&e._<1)return;nE(e,i),t&&t.A.l||rE(e,i)}}function rE(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&BD(t,n)}function uT(e,t){var n=e[rs];return(n?Ef(n):e)[t]}function pz(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function mk(e){e.P||(e.P=!0,e.l&&mk(e.l))}function cT(e){e.o||(e.o=VD(e.t))}function gk(e,t,n){var r=uP(t)?il("MapSet").N(t,n):cP(t)?il("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:fz(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=vk;s&&(l=[a],u=Ng);var c=Proxy.revocable(l,u),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):il("ES5").J(t,n);return(n?n.A:fz()).p.push(r),r}function qze(e){return wd(e)||yr(22,e),function t(n){if(!qc(n))return n;var r,i=n[rs],o=Gc(n);if(i){if(!i.P&&(i.i<4||!il("ES5").K(i)))return i.t;i.I=!0,r=mz(n,o),i.I=!1}else r=mz(n,o);return Wp(r,function(s,a){i&&Lw(i.t,s)===a||Kte(r,s,t(a))}),o===3?new Set(r):r}(e)}function mz(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return VD(e)}function Gze(){function e(r){if(!qc(r))return r;if(Array.isArray(r))return r.map(e);if(uP(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(cP(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return uv(r,fy)&&(i[fy]=r[fy]),i}function t(r){return wd(r)?e(r):r}var n="add";Hze("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,l=r,u=0;u<s.length-1;u++){var c=Gc(l),f=""+s[u];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||yr(24),typeof l=="function"&&f==="prototype"&&yr(24),typeof(l=Lw(l,f))!="object"&&yr(15,s.join("/"))}var d=Gc(l),h=e(o.value),p=s[s.length-1];switch(a){case"replace":switch(d){case 2:return l.set(p,h);case 3:yr(16);default:return l[p]=h}case n:switch(d){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(d){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(o.value);default:return delete l[p]}default:yr(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var f=a.t,d=a.o;Wp(a.D,function(h,p){var g=Lw(f,h),y=Lw(d,h),m=p?uv(f,h)?"replace":n:"remove";if(g!==y||m!=="replace"){var v=l.concat(h);u.push(m==="remove"?{op:m,path:v}:{op:m,path:v,value:y}),c.push(m===n?{op:"remove",path:v}:m==="remove"?{op:n,path:v,value:t(g)}:{op:"replace",path:v,value:t(g)})}})}(r,i,o,s);case 5:case 1:return function(a,l,u,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var g=[c,u];u=g[0],c=g[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var m=l.concat([y]);u.push({op:"replace",path:m,value:t(h[y])}),c.push({op:"replace",path:m,value:t(f[y])})}for(var v=f.length;v<h.length;v++){var _=l.concat([v]);u.push({op:n,path:_,value:t(h[v])})}f.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:f.length})}(r,i,o,s);case 3:return function(a,l,u,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var g=l.concat([h]);u.push({op:"remove",path:g,value:p}),c.unshift({op:n,path:g,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var g=l.concat([h]);u.push({op:n,path:g,value:p}),c.unshift({op:"remove",path:g,value:p})}h++})}(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===HD?void 0:i}),s.push({op:"replace",path:[],value:r})}})}var gz,qp,UD=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Kze=typeof Map<"u",Yze=typeof Set<"u",yz=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",HD=UD?Symbol.for("immer-nothing"):((gz={})["immer-nothing"]=!0,gz),fy=UD?Symbol.for("immer-draftable"):"__$immer_draftable",rs=UD?Symbol.for("immer-state"):"__$immer_state",Qze={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Xze=""+Object.prototype.constructor,WD=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Jze=Object.getOwnPropertyDescriptors||function(e){var t={};return WD(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},yk={},vk={get:function(e,t){if(t===rs)return e;var n=Ef(e);if(!uv(n,t))return function(i,o,s){var a,l=pz(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!qc(r)?r:r===uT(e.t,t)?(cT(e),e.o[t]=gk(e.A.h,r,e)):r},has:function(e,t){return t in Ef(e)},ownKeys:function(e){return Reflect.ownKeys(Ef(e))},set:function(e,t,n){var r=pz(Ef(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=uT(Ef(e),t),o=i==null?void 0:i[rs];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(zze(n,i)&&(n!==void 0||uv(e.t,t)))return!0;cT(e),mk(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return uT(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,cT(e),mk(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ef(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){yr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){yr(12)}},Ng={};Wp(vk,function(e,t){Ng[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ng.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&yr(13),Ng.set.call(this,e,t,void 0)},Ng.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&yr(14),vk.set.call(this,e[0],t,n,e[0])};var Zze=function(){function e(n){var r=this;this.g=yz,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,v=Array(m>1?m-1:0),_=1;_<m;_++)v[_-1]=arguments[_];return l.produce(g,function(b){var E;return(E=o).call.apply(E,[y,b].concat(v))})}}var u;if(typeof o!="function"&&yr(6),s!==void 0&&typeof s!="function"&&yr(7),qc(i)){var c=dz(r),f=gk(r,i,void 0),d=!0;try{u=o(f),d=!1}finally{d?tE(c):pk(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return aT(c,s),lT(g,c)},function(g){throw tE(c),g}):(aT(c,s),lT(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===HD&&(u=void 0),r.F&&BD(u,!0),s){var h=[],p=[];il("Patches").M(i,u,h,p),s(h,p)}return u}yr(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(f))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){qc(n)||yr(8),wd(n)&&(n=qze(n));var r=dz(this),i=gk(this,n,void 0);return i[rs].C=!0,pk(r),i},t.finishDraft=function(n,r){var i=n&&n[rs];({}).NODE_ENV!=="production"&&(i&&i.C||yr(9),i.I&&yr(10));var o=i.A;return aT(o,r),lT(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!yz&&yr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=il("Patches").$;return wd(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),is=new Zze,eUe=is.produce;is.produceWithPatches.bind(is);is.setAutoFreeze.bind(is);is.setUseProxies.bind(is);is.applyPatches.bind(is);is.createDraft.bind(is);is.finishDraft.bind(is);function tUe(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,o=Vze({state:e,label:i,initialArtifact:n,initialMetadata:r}),s={nodes:{[o.id]:o},root:o.id,current:o.id};return ZQ({name:"provenance-graph",initialState:s,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,f=a.nodes[u].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:nl.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[l.payload.id].meta=d},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:nl.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function nUe(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=tUe(e),o=qke();o.startListening({matcher:KV(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=KV(r.addNode)(a),{skipOnNew:f}=u.config;f&&c||u.func(c?"new":"traversal")})}});const s=XQ({reducer:n,middleware:a=>a().prepend(o.middleware)});return{initialState:i(),get backend(){return s.getState()},get current(){return s.getState().nodes[s.getState().current]},get root(){return s.getState().nodes[s.getState().root]},currentChange(a,l){const u={id:nl.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:s.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var rUe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iUe=Object.prototype.hasOwnProperty;function _k(e,t){return iUe.call(e,t)}function wk(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)_k(e,i)&&r.push(i);return r}function Po(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function bk(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function xf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Yte(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Sk(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Sk(e[t]))return!0}else if(typeof e=="object"){for(var r=wk(e),i=r.length,o=0;o<i;o++)if(Sk(e[r[o]]))return!0}}return!1}function vz(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Qte=function(e){rUe(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,vz(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=vz(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),hr=Qte,oUe=Po,Mh={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=iE(n,this.path);r&&(r=Po(r));var i=ed(n,{op:"remove",path:this.from}).removed;return ed(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=iE(n,this.from);return ed(n,{op:"add",path:this.path,value:Po(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:cv(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},sUe={add:function(e,t,n){return bk(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Mh.move,copy:Mh.copy,test:Mh.test,_get:Mh._get};function iE(e,t){if(t=="")return e;var n={op:"_get",path:t};return ed(e,n),n.value}function ed(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):oE(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=iE(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=cv(e,t.value),s.test===!1)throw new hr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new hr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Po(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=oE;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=Yte(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!bk(h))throw new hr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);bk(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new hr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=sUe[t.op].call(t,u,h,e);if(s.test===!1)throw new hr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=f){var s=Mh[t.op].call(t,u,h,e);if(s.test===!1)throw new hr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new hr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function fP(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new hr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Po(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=ed(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function aUe(e,t,n){var r=ed(e,t);if(r.test===!1)throw new hr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function oE(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new hr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Mh[e.op]){if(typeof e.path!="string")throw new hr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new hr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new hr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new hr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Sk(e.value))throw new hr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new hr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new hr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=Xte([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new hr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new hr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Xte(e,t,n){try{if(!Array.isArray(e))throw new hr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)fP(Po(t),Po(e),n||!0);else{n=n||oE;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof hr)return i;throw i}}function cv(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!cv(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!cv(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const lUe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:hr,_areEquals:cv,applyOperation:ed,applyPatch:fP,applyReducer:aUe,deepClone:oUe,getValueByPointer:iE,validate:Xte,validator:oE},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var qD=new WeakMap,uUe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),cUe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function fUe(e){return qD.get(e)}function dUe(e,t){return e.observers.get(t)}function hUe(e,t){e.observers.delete(t.callback)}function pUe(e,t){t.unobserve()}function mUe(e,t){var n=[],r,i=fUe(e);if(!i)i=new uUe(e),qD.set(e,i);else{var o=dUe(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Po(e),t){r.callback=t,r.next=null;var s=function(){Ek(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Ek(r),clearTimeout(r.next),hUe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new cUe(t,r)),r}function Ek(e,t){t===void 0&&(t=!1);var n=qD.get(e.object);GD(n.value,e.object,e.patches,"",t),e.patches.length&&fP(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function GD(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=wk(t),s=wk(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(_k(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?GD(c,f,n,r+"/"+xf(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+xf(u),value:Po(c)}),n.push({op:"replace",path:r+"/"+xf(u),value:Po(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+xf(u),value:Po(c)}),n.push({op:"remove",path:r+"/"+xf(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!_k(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+xf(u),value:Po(t[u])})}}}function Jte(e,t,n){n===void 0&&(n=!1);var r=[];return GD(e,t,r,"",n),r}const gUe=Object.freeze(Object.defineProperty({__proto__:null,compare:Jte,generate:Ek,observe:mUe,unobserve:pUe},Symbol.toStringTag,{value:"Module"}));Object.assign({},lUe,gUe,{JsonPatchError:Qte,deepClone:Po,escapePathComponent:xf,unescapePathComponent:Yte});var Dg=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(Dg||{});function jw(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],o=ene(i,e,t);o.shift();const s=o.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=jw(i,t);return fP(a,Po(s),!0,!1).newDocument}function yUe(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function Zte({registry:e,initialState:t}){let n=!1;const r=Dze(),i=nUe(t);function o(c){return i.backend.nodes[c]}r.listen(Dg.TRAVERSAL_START,()=>{n=!0}),r.listen(Dg.TRAVERSAL_END,()=>{n=!1});const s={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const g=f[p].at(-1);return g&&(h[p]=g),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,f=i.current.id){s.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=s.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=s.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},u={add(c=i.current.id){s.add({bookmark:!0},c)},remove(c=i.current.id){s.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=s.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return jw(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let g=null,y=null;const m=jw(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const v=Jte(m,f);if(yUe(f,v)==="checkpoint")y={type:"checkpoint",val:f};else{const _=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:v,checkpointRef:_}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(g=Bze({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!g)throw new Error("State Node creation failed!");i.update(i.addNode(g))},async apply(c,f){const d=e.get(f.type),h=jw(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:g}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[g]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(Dg.TRAVERSAL_START);const f=ene(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=o(f[h]),g=o(f[h+1]);_Ue(p,g)?rl(p)&&d.push(...p.sideEffects.undo):rl(g)&&d.push(...g.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(Dg.TRAVERSAL_END)},undo(){const{current:c}=i;return rl(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return tne(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:s,artifact:a,annotations:l,bookmarks:u}}function vUe(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let o=i.level-r.level;for(;rl(i)&&o!==0;)i=n[i.parent],o-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)rl(r)&&(r=n[r.parent]),rl(i)&&(i=n[i.parent]);return r.id}function ene(e,t,n){const r=vUe(e,t,n),i=n[r],o=[],s=[];let[a,l]=[e,t];for(;a.id!==i.id;)o.push(a),rl(a)&&(a=n[a.parent]);for(o.push(a);l.id!==i.id;)s.push(l),rl(l)&&(l=n[l.parent]);const u=s.reverse();return[...o,...u].map(c=>c.id)}function _Ue(e,t){if(rl(e)&&e.parent===t.id)return!0;if(rl(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function tne(e,t){return{...e,children:e.children.map(n=>tne(t[n],t)),name:`${e.label}`}}Gze();function wUe(e){return e.length===2?eUe(e):e}class dP{static create(){return new dP}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:o=t,eventType:s=t}=r||{};return this.registry.set(t,{func:wUe(n),config:{hasSideEffects:!i,label:typeof o=="string"?()=>o:o,eventType:s}}),el(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var bUe="Expected a function",_z=NaN,SUe="[object Symbol]",EUe=/^\s+|\s+$/g,xUe=/^[-+]0x[0-9a-f]+$/i,PUe=/^0b[01]+$/i,IUe=/^0o[0-7]+$/i,OUe=parseInt,TUe=typeof Ho=="object"&&Ho&&Ho.Object===Object&&Ho,CUe=typeof self=="object"&&self&&self.Object===Object&&self,$Ue=TUe||CUe||Function("return this")(),kUe=Object.prototype,AUe=kUe.toString,RUe=Math.max,NUe=Math.min,fT=function(){return $Ue.Date.now()};function DUe(e,t,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(bUe);t=wz(t)||0,xk(n)&&(c=!!n.leading,f="maxWait"in n,o=f?RUe(wz(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(w){var x=r,I=i;return r=i=void 0,u=w,s=e.apply(I,x),s}function p(w){return u=w,a=setTimeout(m,t),c?h(w):s}function g(w){var x=w-l,I=w-u,D=t-x;return f?NUe(D,o-I):D}function y(w){var x=w-l,I=w-u;return l===void 0||x>=t||x<0||f&&I>=o}function m(){var w=fT();if(y(w))return v(w);a=setTimeout(m,g(w))}function v(w){return a=void 0,d&&r?h(w):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?s:v(fT())}function E(){var w=fT(),x=y(w);if(r=arguments,i=this,l=w,x){if(a===void 0)return p(l);if(f)return a=setTimeout(m,t),h(l)}return a===void 0&&(a=setTimeout(m,t)),s}return E.cancel=_,E.flush=b,E}function xk(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function MUe(e){return!!e&&typeof e=="object"}function LUe(e){return typeof e=="symbol"||MUe(e)&&AUe.call(e)==SUe}function wz(e){if(typeof e=="number")return e;if(LUe(e))return _z;if(xk(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xk(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(EUe,"");var n=PUe.test(e);return n||IUe.test(e)?OUe(e.slice(2),n?2:8):xUe.test(e)?_z:+e}var jUe=DUe;const FUe=wa(jUe);function bz({parameters:e,setAnswer:t}){const[n,r]=S.useState(null),[i,o]=S.useState({hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]}),[s,a]=S.useState(null);S.useEffect(()=>{WDe(`./data/${e.dataset}.csv`).then(y=>{a(y)})},[e]);const l=S.useMemo(()=>s?Nze(s):null,[s]),{actions:u,trrack:c}=S.useMemo(()=>{const y=dP.create(),m=y.register("brush",(w,x)=>(w={all:{...x}},w)),v=y.register("brushMove",(w,x)=>(w={all:{...x}},w)),_=y.register("brushResize",(w,x)=>(w={all:{...x}},w)),b=y.register("brushClear",(w,x)=>(w={all:{...x}},w)),E=Zte({registry:y,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:m,brushMove:v,brushResize:_,clearBrush:b},trrack:E}},[]),f=S.useCallback((y,m)=>{y==="drag"?c.apply("Move Brush",u.brushMove(m)):y==="handle"&&c.apply("Brush",u.brush(m))},[u,c]),d=S.useMemo(()=>FUe(f,100,{maxWait:100}),[f]),h=S.useCallback((y,m,v,_,b)=>{if(!m||!v)return;const E=m.invert(y[0][0]||i.x1),w=m.invert(y[1][0]||i.x2),x=v.invert(y[1][1]||i.y2),I=v.invert(y[0][1]||i.y1);let D=null;if(_==="clear")D=l;else if(b){const N=new Set(b);D=l.filter(sT(z=>N.has(z[e.ids])))}else e.brushType==="Axis Selection"?D=l.filter(sT(N=>new Date(N[e.x])>=new Date(E)&&new Date(N[e.x])<=new Date(w)&&N[e.y]>=x&&N[e.y]<=I)):D=l.filter(sT(N=>N[e.x]>=E&&N[e.x]<=w&&N[e.y]>=x&&N[e.y]<=I));const R={x1:y[0][0]||(i==null?void 0:i.x1)||0,x2:y[1][0]||(i==null?void 0:i.x2)||0,y1:y[0][1]||(i==null?void 0:i.y1)||0,y2:y[1][1]||(i==null?void 0:i.y2)||0,hasBrush:_!=="clear",ids:_!=="clear"?D==null?void 0:D.array("id"):[]};o(R),_==="drag"||_==="handle"?d(_,R):_==="clear"&&c.apply("Clear Brush",u.clearBrush(R)),r(D),t({status:!0,provenanceGraph:c.graph.backend,answers:{}})},[i,l,e,c,t,d,u]),p=S.useMemo(()=>n?n.groupby(e.category).count():l?l.groupby(e.category).count():null,[n,l,e.category]),g=S.useCallback(y=>{r(y)},[]);return s?T.jsxs(Ts,{spacing:"xs",children:[T.jsx(H$,{brushedPoints:i==null?void 0:i.ids,data:s,params:e,brushType:e.brushType,setBrushedSpace:h,brushState:i,setFilteredTable:g}),T.jsx(U$,{data:s,parameters:e,barsTable:p})]}):T.jsx(Rd,{})}const VUe=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:bz,default:bz},Symbol.toStringTag,{value:"Module"})),xm=e=>{const t=S.useRef(null),n=Sz(e),[r,i]=S.useState(0),[o,s]=S.useState(0);S.useEffect(()=>{const l=t.current;if(l){const u=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),o!==f.contentRect.height&&s(f.contentRect.height)});return u.observe(l),()=>u.unobserve(l)}},[o,r]);const a=Sz({...n,width:n.width||r,height:n.height||o});return[t,a]},Sz=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},BUe=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:xm},Symbol.toStringTag,{value:"Module"})),nne=({data:e,xScale:t,yScale:n,height:r})=>T.jsx("g",{children:e.map((i,o)=>T.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},o))}),zUe=Object.freeze(Object.defineProperty({__proto__:null,Bars:nne},Symbol.toStringTag,{value:"Module"})),KD=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=o=>o})=>{const o=S.useMemo(()=>{const s=Lc().domain(e).range(t),a=t[1]-t[0],u=Math.max(1,Math.floor(a/30));return i(s.ticks(u).map(c=>({value:c,xOffset:s(c)})))},[e,t,i]);return T.jsxs("g",{children:[T.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&o.map(({value:s,xOffset:a})=>T.jsxs("g",{transform:`translate(0,${a})`,children:[T.jsx("line",{x2:`${r}`,stroke:"currentColor"}),T.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:s},s)]},s))]})},UUe=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:KD},Symbol.toStringTag,{value:"Module"})),rne=({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=o=>o})=>{const o=S.useMemo(()=>{const s=o0().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(s(a)||0)+s.bandwidth()/2-5})))},[e,t,i]);return T.jsxs("g",{children:[T.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&o.map(({value:s,xOffset:a})=>T.jsx("g",{transform:`translate(${a}, 10)`,children:T.jsx("circle",{r:2,cx:0,cy:0,children:s},s)},s))]})},HUe=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:rne},Symbol.toStringTag,{value:"Module"})),WUe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400},qUe=({parameters:e})=>{const[n,r]=xm(WUe),i=o0().domain(e.data.map(l=>l.name)).range([0,r.boundedWidth]).padding(.2),o=Lc().domain([100,0]).range([0,r.boundedHeight]),s=l=>l.filter((u,c)=>c===0||c===l.length-1),a=l=>l.filter((u,c)=>e.selectedIndices.includes(c));return T.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:T.jsx("svg",{width:r.width,height:r.height,children:T.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[T.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:T.jsx(rne,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),T.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:T.jsx(KD,{domain:o.domain(),range:o.range(),withTick:!0,tickLen:6,tickFilter:s})}),T.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:T.jsx(nne,{data:e.data,xScale:i,yScale:o,height:r.boundedHeight})})]})})})},GUe=Object.freeze(Object.defineProperty({__proto__:null,default:qUe},Symbol.toStringTag,{value:"Module"})),ine=({data:e})=>T.jsx("g",{children:e.map(({bubble:t},n)=>T.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))}),KUe=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:ine},Symbol.toStringTag,{value:"Module"})),YD=({positions:e})=>T.jsx("g",{children:e.map((t,n)=>T.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))}),YUe=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:YD},Symbol.toStringTag,{value:"Module"})),QUe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},XUe=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},o=LMe().size([t-10,n-10]).padding(1.5),s=c2(i).sum(a=>a.value);return o(s).descendants().filter(a=>!a.children).map((a,l)=>({bubble:a,data:e[l]}))},JUe=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y})),ZUe=({parameters:e})=>{const[t,n]=xm(QUe),r=XUe(e,n.width,n.height),i=JUe(r,e.selectedIndices);return T.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:T.jsx("svg",{width:n.width,height:n.height,children:T.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[T.jsx(ine,{data:r}),T.jsx(YD,{positions:i})]})})})},e9e=Object.freeze(Object.defineProperty({__proto__:null,default:ZUe},Symbol.toStringTag,{value:"Module"})),one=({arcs:e})=>T.jsx("g",{children:e.map((t,n)=>T.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))}),t9e=Object.freeze(Object.defineProperty({__proto__:null,Slices:one},Symbol.toStringTag,{value:"Module"})),sne=({positions:e})=>T.jsx("g",{children:e.map((t,n)=>T.jsx("g",{transform:`translate(${t.centroid()})`,children:T.jsx("circle",{r:2,cx:0,cy:0},n)},n))}),n9e=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:sne},Symbol.toStringTag,{value:"Module"})),r9e={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},i9e=xje().value(e=>e.value),dg=150,o9e=({parameters:e})=>{const[t,n]=xm(r9e),r=i9e(e.data),i=r.map(s=>cB().innerRadius(0).outerRadius(dg).startAngle(s.startAngle).endAngle(s.endAngle)),o=r.map(s=>cB().outerRadius(dg+10).innerRadius(dg+10).startAngle(s.startAngle).endAngle(s.endAngle)).filter((s,a)=>e.selectedIndices.includes(a));return T.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:T.jsx("svg",{width:n.width,height:n.height,children:T.jsxs("g",{transform:`translate(${[n.marginLeft+dg,n.marginTop+dg].join(",")})`,children:[T.jsx(one,{arcs:i}),T.jsx(sne,{positions:o})]})})})},s9e=Object.freeze(Object.defineProperty({__proto__:null,default:o9e},Symbol.toStringTag,{value:"Module"})),ane=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=o=>o})=>{const o=S.useMemo(()=>{const s=Lc().domain(e).range(t),a=t[1]-t[0],u=Math.max(1,Math.floor(a/30));return i(s.ticks(u).map(c=>({value:c,xOffset:s(c)})))},[e,t,i]);return T.jsxs("g",{children:[T.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&o.map(({value:s,xOffset:a})=>T.jsxs("g",{transform:`translate(${a}, 0)`,children:[T.jsx("line",{y2:`${r}`,stroke:"currentColor"}),T.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:s},s)]},s))]})},a9e=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:ane},Symbol.toStringTag,{value:"Module"})),lne=({data:e,barWidth:t,yScale:n})=>T.jsx("g",{children:e.map((r,i)=>T.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))}),l9e=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:lne},Symbol.toStringTag,{value:"Module"})),u9e={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},c9e=({parameters:e})=>{const[n,r]=xm(u9e),i=o0().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),o=Lc().domain([100,0]).range([0,r.boundedWidth]),s=h=>h.filter((p,g)=>g===0||g===h.length-1),a=h=>h.filter((p,g)=>e.selectedIndices.includes(g)),l=h=>{const p=h.map(_=>+_.value),y=p.reduce((_,b)=>Number(_)+Number(b))/100,m={};for(let _=0;_<p.length;_++)m[String.fromCharCode(_+65)]=p[_]/y;const v=[m];return Oje().keys(e.data.map(_=>_.name))(v)},u=(h,p,g)=>h.filter((m,v)=>p.includes(v)).map(m=>({x:g,y:o(m[0][1])+.5*(o(m[0][0])-o(m[0][1]))})),c=l(e.data),f=Math.min(r.width,r.height)/2-20,d=u(c,e.selectedIndices,f);return T.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:T.jsx("svg",{width:r.width,height:r.height,children:T.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[T.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:T.jsx(ane,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),T.jsx("g",{transform:"translate(0, 0)",children:T.jsx(KD,{domain:o.domain(),range:o.range(),withTick:!0,tickLen:6,tickFilter:s})}),T.jsxs("g",{transform:"translate(0, 0)",children:[T.jsx(lne,{data:c,barWidth:f,yScale:o}),T.jsx(YD,{positions:d})]})]})})})},f9e=Object.freeze(Object.defineProperty({__proto__:null,default:c9e},Symbol.toStringTag,{value:"Module"})),d9e={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850},h9e=({parameters:e,setAnswer:t})=>{const[n,r]=xm(d9e),[i,o]=S.useState(100),[s,a]=S.useState(100),l=Fs(),[u,c]=S.useState(300),f=e.taskid,{actions:d,trrack:h}=S.useMemo(()=>{const g=dP.create(),y=g.register("click",(v,_)=>(v.clickX=_.clickX,v.clickY=_.clickY,v.distance=_.distance,v)),m=Zte({registry:g,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{click:y},trrack:m}},[]),p=S.useCallback(g=>{const y=Cr("#movingCircle"),m=Cr("#clickAccuracySvg"),v=C$(g,m.node()),_=[+y.attr("cx"),+y.attr("cy")],b=Math.round(Math.sqrt((v[0]-_[0])**2+(v[1]-_[1])**2))+"px";h.apply("Clicked",d.click({distance:+b,clickX:v[0],clickY:v[1]})),t({status:!0,provenanceGraph:h.graph.backend,answers:{[f]:b}})},[d,l,t,f,h]);return S.useEffect(()=>{const g=Math.random()*800,y=Math.random()*600,v=Math.sqrt((g-i)**2+(y-s)**2)/u*1e3;Cr(n.current).select("circle").transition().duration(v).ease(gDe).attr("cx",g).attr("cy",y).on("end",()=>{o(g),a(y)})},[n,u,i,s]),T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"Chart__wrapper",ref:n,onClick:p,style:{height:"650px"},children:T.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:T.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[T.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),T.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),T.jsxs(rt,{children:["Adjust speed (px/s):",T.jsx(JR,{w:800,min:10,max:1e3,value:u,onChange:c})]})]})},p9e=Object.freeze(Object.defineProperty({__proto__:null,default:h9e},Symbol.toStringTag,{value:"Module"}));var une={exports:{}},m9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",g9e=m9e,y9e=g9e;function cne(){}function fne(){}fne.resetWarningCache=cne;var v9e=function(){function e(r,i,o,s,a,l){if(l!==y9e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fne,resetWarningCache:cne};return n.PropTypes=n,n};une.exports=v9e();var _9e=une.exports;const it=wa(_9e);var w9e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},b9e=Object.defineProperty,S9e=Object.defineProperties,E9e=Object.getOwnPropertyDescriptors,sE=Object.getOwnPropertySymbols,dne=Object.prototype.hasOwnProperty,hne=Object.prototype.propertyIsEnumerable,Ez=(e,t,n)=>t in e?b9e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xz=(e,t)=>{for(var n in t||(t={}))dne.call(t,n)&&Ez(e,n,t[n]);if(sE)for(var n of sE(t))hne.call(t,n)&&Ez(e,n,t[n]);return e},x9e=(e,t)=>S9e(e,E9e(t)),P9e=(e,t)=>{var n={};for(var r in e)dne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sE)for(var r of sE(e))t.indexOf(r)<0&&hne.call(e,r)&&(n[r]=e[r]);return n},Du=(e,t,n)=>{const r=S.forwardRef((i,o)=>{var s=i,{color:a="currentColor",size:l=24,stroke:u=2,children:c}=s,f=P9e(s,["color","size","stroke","children"]);return S.createElement("svg",xz(x9e(xz({ref:o},w9e),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>S.createElement(d,h)),...c||[]])});return r.propTypes={color:it.string,size:it.oneOfType([it.string,it.number]),stroke:it.oneOfType([it.string,it.number])},r.displayName=`${t}`,r},I9e=Du("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),O9e=Du("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),Pz=Du("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),T9e=Du("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),C9e=Du("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),$9e=Du("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),k9e=Du("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),Iz=Du("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),pne=Du("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);const Oz=({rankings:e})=>T.jsx("div",{style:{fontFamily:"sans-serif"},children:T.jsx("div",{children:e.map((t,n)=>T.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})}),A9e=({parameters:e,setAnswer:t})=>{const n=Fs(),[r,i]=S.useState(""),{goToNextStep:o,isNextDisabled:s}=fX(),a=S.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[l]=S.useState(new URLSearchParams(window.location.search)),u=(l.get("admin")||"f")==="t",c=S.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a=="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a=="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=S.useCallback(()=>{s||o()},[s,o]);S.useEffect(()=>{const h=ahe([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),T.jsxs("div",{children:[T.jsxs(Bl,{children:[T.jsxs(Bl.Col,{span:2,children:[T.jsx(Oz,{rankings:a==="r1"?e.data.r1:e.data.r2}),T.jsx(fa,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?T.jsx(Pz,{}):"Select this ranking"}),u&&r&&T.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),T.jsxs(Bl.Col,{span:2,children:[T.jsx(Oz,{rankings:a==="r1"?e.data.r2:e.data.r1}),T.jsx(fa,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?T.jsx(Pz,{}):"Select this ranking"}),u&&r&&T.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),u&&r&&T.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})},R9e=Object.freeze(Object.defineProperty({__proto__:null,default:A9e},Symbol.toStringTag,{value:"Module"})),N9e=Object.assign({"../public/brush-interactions/Bar.tsx":$je,"../public/brush-interactions/BrushPlot.tsx":VUe,"../public/brush-interactions/Paintbrush.tsx":Aje,"../public/brush-interactions/Scatter.tsx":Rje,"../public/brush-interactions/XAxisBar.tsx":Tje,"../public/brush-interactions/YAxis.tsx":kje,"../public/brush-interactions/YAxisBar.tsx":Cje,"../public/cleveland/BarChart.tsx":GUe,"../public/cleveland/BubbleChart.tsx":e9e,"../public/cleveland/PieChart.tsx":s9e,"../public/cleveland/StackedBarChart.tsx":f9e,"../public/cleveland/chartcomponents/Bars.tsx":zUe,"../public/cleveland/chartcomponents/Bubbles.tsx":KUe,"../public/cleveland/chartcomponents/DotMarks.tsx":YUe,"../public/cleveland/chartcomponents/NumericAxisH.tsx":a9e,"../public/cleveland/chartcomponents/NumericAxisV.tsx":UUe,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":HUe,"../public/cleveland/chartcomponents/Slices.tsx":t9e,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":n9e,"../public/cleveland/chartcomponents/StackedBars.tsx":l9e,"../public/cleveland/hooks/useChartDimensions.tsx":BUe,"../public/click-accuracy-test/ClickAccuracyTest.tsx":p9e,"../public/fairness-jnd/FairnessJND.tsx":R9e}),D9e=({currentConfig:e})=>{const t=Fs(),n=`../public/${e.path}`,r=N9e[n].default,i=hm(),{updateResponseBlockValidation:o,setIframeAnswers:s}=dm();function a({status:l,provenanceGraph:u,answers:c}){i(o({location:"sidebar",currentStep:t,status:l,values:c,provenanceGraph:u})),i(s(Object.values(c).map(f=>f)))}return T.jsx(S.Suspense,{fallback:T.jsx("div",{children:"Loading..."}),children:T.jsx(r,{parameters:e.parameters,setAnswer:a})})},Tz=["http","https","mailto","tel"];function M9e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<Tz.length;){const o=Tz[i];if(r===o.length&&t.slice(0,o.length).toLowerCase()===o)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var L9e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const mne=wa(L9e);function dy(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Cz(e.position):"start"in e||"end"in e?Cz(e):"line"in e||"column"in e?Pk(e):""}function Pk(e){return $z(e&&e.line)+":"+$z(e&&e.column)}function Cz(e){return Pk(e&&e.start)+"-"+Pk(e&&e.end)}function $z(e){return e&&typeof e=="number"?e:1}class zs extends Error{constructor(t,n,r){const i=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}n&&("type"in n||"position"in n?n.position&&(o=n.position):"start"in n||"end"in n?o=n:("line"in n||"column"in n)&&(o.start=n)),this.name=dy(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}zs.prototype.file="";zs.prototype.name="";zs.prototype.reason="";zs.prototype.message="";zs.prototype.stack="";zs.prototype.fatal=null;zs.prototype.column=null;zs.prototype.line=null;zs.prototype.source=null;zs.prototype.ruleId=null;zs.prototype.position=null;const ka={basename:j9e,dirname:F9e,extname:V9e,join:B9e,sep:"/"};function j9e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');y0(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function F9e(e){if(y0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function V9e(e){y0(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function B9e(...e){let t=-1,n;for(;++t<e.length;)y0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":z9e(n)}function z9e(e){y0(e);const t=e.charCodeAt(0)===47;let n=U9e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function U9e(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function y0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const H9e={cwd:W9e};function W9e(){return"/"}function Ik(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function q9e(e){if(typeof e=="string")e=new URL(e);else if(!Ik(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return G9e(e)}function G9e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const dT=["history","path","basename","stem","extname","dirname"];class gne{constructor(t){let n;t?typeof t=="string"||mne(t)?n={value:t}:Ik(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=H9e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<dT.length;){const o=dT[r];o in n&&n[o]!==void 0&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)dT.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){Ik(t)&&(t=q9e(t)),pT(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?ka.dirname(this.path):void 0}set dirname(t){kz(this.basename,"dirname"),this.path=ka.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?ka.basename(this.path):void 0}set basename(t){pT(t,"basename"),hT(t,"basename"),this.path=ka.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?ka.extname(this.path):void 0}set extname(t){if(hT(t,"extname"),kz(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ka.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?ka.basename(this.path,this.extname):void 0}set stem(t){pT(t,"stem"),hT(t,"stem"),this.path=ka.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new zs(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function hT(e,t){if(e&&e.includes(ka.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ka.sep+"`")}function pT(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function kz(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Az(e){if(e)throw e}var Fw=Object.prototype.hasOwnProperty,yne=Object.prototype.toString,Rz=Object.defineProperty,Nz=Object.getOwnPropertyDescriptor,Dz=function(t){return typeof Array.isArray=="function"?Array.isArray(t):yne.call(t)==="[object Array]"},Mz=function(t){if(!t||yne.call(t)!=="[object Object]")return!1;var n=Fw.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Fw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Fw.call(t,i)},Lz=function(t,n){Rz&&n.name==="__proto__"?Rz(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},jz=function(t,n){if(n==="__proto__")if(Fw.call(t,n)){if(Nz)return Nz(t,n).value}else return;return t[n]},K9e=function e(){var t,n,r,i,o,s,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=jz(a,n),i=jz(t,n),a!==i&&(c&&i&&(Mz(i)||(o=Dz(i)))?(o?(o=!1,s=r&&Dz(r)?r:[]):s=r&&Mz(r)?r:{},Lz(a,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&Lz(a,{name:n,newValue:i}));return a};const Fz=wa(K9e);function Ok(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Y9e(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=e[++o];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?Q9e(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Q9e(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l instanceof Promise?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const X9e=_ne().freeze(),vne={}.hasOwnProperty;function _ne(){const e=Y9e(),t=[];let n={},r,i=-1;return o.data=s,o.Parser=void 0,o.Compiler=void 0,o.freeze=a,o.attachers=t,o.use=l,o.parse=u,o.stringify=c,o.run=f,o.runSync=d,o.process=h,o.processSync=p,o;function o(){const g=_ne();let y=-1;for(;++y<t.length;)g.use(...t[y]);return g.data(Fz(!0,{},n)),g}function s(g,y){return typeof g=="string"?arguments.length===2?(yT("data",r),n[g]=y,o):vne.call(n,g)&&n[g]||null:g?(yT("data",r),n=g,o):n}function a(){if(r)return o;for(;++i<t.length;){const[g,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const m=g.call(o,...y);typeof m=="function"&&e.use(m)}return r=!0,i=Number.POSITIVE_INFINITY,o}function l(g,...y){let m;if(yT("use",r),g!=null)if(typeof g=="function")E(g,...y);else if(typeof g=="object")Array.isArray(g)?b(g):_(g);else throw new TypeError("Expected usable value, not `"+g+"`");return m&&(n.settings=Object.assign(n.settings||{},m)),o;function v(w){if(typeof w=="function")E(w);else if(typeof w=="object")if(Array.isArray(w)){const[x,...I]=w;E(x,...I)}else _(w);else throw new TypeError("Expected usable value, not `"+w+"`")}function _(w){b(w.plugins),w.settings&&(m=Object.assign(m||{},w.settings))}function b(w){let x=-1;if(w!=null)if(Array.isArray(w))for(;++x<w.length;){const I=w[x];v(I)}else throw new TypeError("Expected a list of plugins, not `"+w+"`")}function E(w,x){let I=-1,D;for(;++I<t.length;)if(t[I][0]===w){D=t[I];break}D?(Ok(D[1])&&Ok(x)&&(x=Fz(!0,D[1],x)),D[1]=x):t.push([...arguments])}}function u(g){o.freeze();const y=hg(g),m=o.Parser;return mT("parse",m),Vz(m,"parse")?new m(String(y),y).parse():m(String(y),y)}function c(g,y){o.freeze();const m=hg(y),v=o.Compiler;return gT("stringify",v),Bz(g),Vz(v,"compile")?new v(g,m).compile():v(g,m)}function f(g,y,m){if(Bz(g),o.freeze(),!m&&typeof y=="function"&&(m=y,y=void 0),!m)return new Promise(v);v(null,m);function v(_,b){e.run(g,hg(y),E);function E(w,x,I){x=x||g,w?b(w):_?_(x):m(null,x,I)}}}function d(g,y){let m,v;return o.run(g,y,_),zz("runSync","run",v),m;function _(b,E){Az(b),m=E,v=!0}}function h(g,y){if(o.freeze(),mT("process",o.Parser),gT("process",o.Compiler),!y)return new Promise(m);m(null,y);function m(v,_){const b=hg(g);o.run(o.parse(b),b,(w,x,I)=>{if(w||!x||!I)E(w);else{const D=o.stringify(x,I);D==null||(e8e(D)?I.value=D:I.result=D),E(w,I)}});function E(w,x){w||!x?_(w):v?v(x):y(null,x)}}}function p(g){let y;o.freeze(),mT("processSync",o.Parser),gT("processSync",o.Compiler);const m=hg(g);return o.process(m,v),zz("processSync","process",y),m;function v(_){y=!0,Az(_)}}}function Vz(e,t){return typeof e=="function"&&e.prototype&&(J9e(e.prototype)||t in e.prototype)}function J9e(e){let t;for(t in e)if(vne.call(e,t))return!0;return!1}function mT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function gT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function yT(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bz(e){if(!Ok(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function zz(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function hg(e){return Z9e(e)?e:new gne(e)}function Z9e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function e8e(e){return typeof e=="string"||mne(e)}function t8e(e,t){var{includeImageAlt:n=!0}=t||{};return wne(e,n)}function wne(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&Uz(e.children,t)||Array.isArray(e)&&Uz(e,t))||""}function Uz(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=wne(e[r],t);return n.join("")}function ml(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),[].splice.apply(e,s);else for(n&&[].splice.apply(e,[t,n]);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),[].splice.apply(e,s),o+=1e4,t+=1e4}function Es(e,t){return e.length>0?(ml(e,e.length,0,t),e):t}const Hz={}.hasOwnProperty;function n8e(e){const t={};let n=-1;for(;++n<e.length;)r8e(t,e[n]);return t}function r8e(e,t){let n;for(n in t){const i=(Hz.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;for(s in o){Hz.call(i,s)||(i[s]=[]);const a=o[s];i8e(i[s],Array.isArray(a)?a:a?[a]:[])}}}function i8e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ml(e,0,0,r)}const o8e=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ua=uf(/[A-Za-z]/),Tk=uf(/\d/),s8e=uf(/[\dA-Fa-f]/),qo=uf(/[\dA-Za-z]/),a8e=uf(/[!-/:-@[-`{-~]/),Wz=uf(/[#-'*+\--9=?A-Z^-~]/);function Ck(e){return e!==null&&(e<32||e===127)}function ks(e){return e!==null&&(e<0||e===32)}function pt(e){return e!==null&&e<-2}function Ar(e){return e===-2||e===-1||e===32}const l8e=uf(/\s/),u8e=uf(o8e);function uf(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function An(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Ar(l)?(e.enter(n),a(l)):t(l)}function a(l){return Ar(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const c8e={tokenize:f8e};function f8e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),An(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return pt(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const d8e={tokenize:h8e},qz={tokenize:p8e};function h8e(e){const t=this,n=[];let r=0,i,o,s;return a;function a(_){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,l,u)(_)}return u(_)}function l(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const b=t.events.length;let E=b,w;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){w=t.events[E][1].end;break}m(r);let x=b;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},w),x++;return ml(t.events,E+1,0,t.events.slice(b)),t.events.length=x,u(_)}return a(_)}function u(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(qz,c,f)(_)}function c(_){return i&&v(),m(r),d(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(_)}function d(_){return t.containerState={},e.attempt(qz,h,p)(_)}function h(_){return r++,n.push([t.currentConstruct,t.containerState]),d(_)}function p(_){if(_===null){i&&v(),m(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),g(_)}function g(_){if(_===null){y(e.exit("chunkFlow"),!0),m(0),e.consume(_);return}return pt(_)?(e.consume(_),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),g)}function y(_,b){const E=t.sliceStream(_);if(b&&E.push(null),_.previous=o,o&&(o.next=_),o=_,i.defineSkip(_.start),i.write(E),t.parser.lazy[_.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<s&&(!i.events[w][1].end||i.events[w][1].end.offset>s))return;const x=t.events.length;let I=x,D,R;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(D){R=t.events[I][1].end;break}D=!0}for(m(r),w=x;w<t.events.length;)t.events[w][1].end=Object.assign({},R),w++;ml(t.events,I+1,0,t.events.slice(x)),t.events.length=w}}function m(_){let b=n.length;for(;b-- >_;){const E=n[b];t.containerState=E[1],E[0].exit.call(t,e)}n.length=_}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function p8e(e,t,n){return An(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Gz(e){if(e===null||ks(e)||l8e(e))return 1;if(u8e(e))return 2}function QD(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const $k={name:"attention",tokenize:g8e,resolveAll:m8e};function m8e(e,t){let n=-1,r,i,o,s,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);Kz(f,-l),Kz(d,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Es(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Es(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=Es(u,QD(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Es(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Es(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,ml(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function g8e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Gz(r);let o;return s;function s(l){return e.enter("attentionSequence"),o=l,a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),c=Gz(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!d)),u._close=!!(o===42?d:d&&(c||!f)),t(l)}}function Kz(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const y8e={name:"autolink",tokenize:v8e};function v8e(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(p){return Ua(p)?(e.consume(p),s):Wz(p)?u(p):n(p)}function s(p){return p===43||p===45||p===46||qo(p)?a(p):u(p)}function a(p){return p===58?(e.consume(p),l):(p===43||p===45||p===46||qo(p))&&r++<32?(e.consume(p),a):u(p)}function l(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||Ck(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),r=0,c):Wz(p)?(e.consume(p),u):n(p)}function c(p){return qo(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||qo(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const hP={tokenize:_8e,partial:!0};function _8e(e,t,n){return An(e,r,"linePrefix");function r(i){return i===null||pt(i)?t(i):n(i)}}const bne={name:"blockQuote",tokenize:w8e,continuation:{tokenize:b8e},exit:S8e};function w8e(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Ar(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function b8e(e,t,n){return An(e,e.attempt(bne,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function S8e(e){e.exit("blockQuote")}const Sne={name:"characterEscape",tokenize:E8e};function E8e(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return a8e(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Yz=document.createElement("i");function XD(e){const t="&"+e+";";Yz.innerHTML=t;const n=Yz.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const Ene={name:"characterReference",tokenize:x8e};function x8e(e,t,n){const r=this;let i=0,o,s;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=qo,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=s8e,c):(e.enter("characterReferenceValue"),o=7,s=Tk,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),s===qo&&!XD(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):s(f)&&i++<o?(e.consume(f),c):n(f)}}const Qz={name:"codeFenced",tokenize:P8e,concrete:!0};function P8e(e,t,n){const r=this,i={tokenize:E,partial:!0},o={tokenize:b,partial:!0},s=this.events[this.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let l=0,u;return c;function c(w){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u=w,f(w)}function f(w){return w===u?(e.consume(w),l++,f):(e.exit("codeFencedFenceSequence"),l<3?n(w):An(e,d,"whitespace")(w))}function d(w){return w===null||pt(w)?y(w):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||ks(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),An(e,p,"whitespace")(w)):w===96&&w===u?n(w):(e.consume(w),h)}function p(w){return w===null||pt(w)?y(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||pt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(w)):w===96&&w===u?n(w):(e.consume(w),g)}function y(w){return e.exit("codeFencedFence"),r.interrupt?t(w):m(w)}function m(w){return w===null?_(w):pt(w)?e.attempt(o,e.attempt(i,_,a?An(e,m,"linePrefix",a+1):m),_)(w):(e.enter("codeFlowValue"),v(w))}function v(w){return w===null||pt(w)?(e.exit("codeFlowValue"),m(w)):(e.consume(w),v)}function _(w){return e.exit("codeFenced"),t(w)}function b(w,x,I){const D=this;return R;function R(z){return w.enter("lineEnding"),w.consume(z),w.exit("lineEnding"),N}function N(z){return D.parser.lazy[D.now().line]?I(z):x(z)}}function E(w,x,I){let D=0;return An(w,R,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function R(U){return w.enter("codeFencedFence"),w.enter("codeFencedFenceSequence"),N(U)}function N(U){return U===u?(w.consume(U),D++,N):D<l?I(U):(w.exit("codeFencedFenceSequence"),An(w,z,"whitespace")(U))}function z(U){return U===null||pt(U)?(w.exit("codeFencedFence"),x(U)):I(U)}}}const vT={name:"codeIndented",tokenize:O8e},I8e={tokenize:T8e,partial:!0};function O8e(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),An(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):pt(u)?e.attempt(I8e,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||pt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function T8e(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):pt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):An(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):pt(s)?i(s):n(s)}}const C8e={name:"codeText",tokenize:A8e,resolve:$8e,previous:k8e};function $8e(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function k8e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function A8e(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||pt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}function xne(e){const t={};let n=-1,r,i,o,s,a,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,R8e(e,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=e[o],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),ml(e,i,n-i+1,a))}}return!u}function R8e(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],u={};let c,f,d=-1,h=n,p=0,g=0;const y=[g];for(;h;){for(;e[++i][1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,y.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const m=a.slice(y[d],y[d+1]),v=o.pop();l.unshift([v,v+m.length-1]),ml(e,v,2,m)}for(d=-1;++d<l.length;)u[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return u}const N8e={tokenize:L8e,resolve:M8e},D8e={tokenize:j8e,partial:!0};function M8e(e){return xne(e),e}function L8e(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):pt(a)?e.check(D8e,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function j8e(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),An(e,o,"linePrefix")}function o(s){if(s===null||pt(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Pne(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(m),e.exit(o),d):m===null||m===41||Ck(m)?n(m):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(o),e.consume(m),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||pt(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return m===40?++c>u?n(m):(e.consume(m),g):m===41?c--?(e.consume(m),g):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(m)):m===null||ks(m)?c?n(m):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(m)):Ck(m)?n(m):(e.consume(m),m===92?y:g)}function y(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function Ine(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs||a>999?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):pt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||pt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l=l||!Ar(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function One(e,t,n,r,i,o){let s;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),s=d===40?41:d,l}function l(d){return d===s?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),u(d))}function u(d){return d===s?(e.exit(o),l(s)):d===null?n(d):pt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),An(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===s||d===null||pt(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:c)}function f(d){return d===s||d===92?(e.consume(d),c):c(d)}}function hy(e,t){let n;return r;function r(i){return pt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ar(i)?An(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function op(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const F8e={name:"definition",tokenize:B8e},V8e={tokenize:z8e,partial:!0};function B8e(e,t,n){const r=this;let i;return o;function o(l){return e.enter("definition"),Ine.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function s(l){return i=op(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(e.enter("definitionMarker"),e.consume(l),e.exit("definitionMarker"),hy(e,Pne(e,e.attempt(V8e,An(e,a,"whitespace"),An(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||pt(l)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(l)):n(l)}}function z8e(e,t,n){return r;function r(s){return ks(s)?hy(e,i)(s):n(s)}function i(s){return s===34||s===39||s===40?One(e,An(e,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s):n(s)}function o(s){return s===null||pt(s)?t(s):n(s)}}const U8e={name:"hardBreakEscape",tokenize:H8e};function H8e(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(o),i}function i(o){return pt(o)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(o)):n(o)}}const W8e={name:"headingAtx",tokenize:G8e,resolve:q8e};function q8e(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ml(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function G8e(e,t,n){const r=this;let i=0;return o;function o(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&i++<6?(e.consume(c),s):c===null||ks(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||pt(c)?(e.exit("atxHeading"),t(c)):Ar(c)?An(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||ks(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const K8e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Xz=["pre","script","style","textarea"],Y8e={name:"htmlFlow",tokenize:J8e,resolveTo:X8e,concrete:!0},Q8e={tokenize:Z8e,partial:!0};function X8e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function J8e(e,t,n){const r=this;let i,o,s,a,l;return u;function u(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),c}function c(O){return O===33?(e.consume(O),f):O===47?(e.consume(O),p):O===63?(e.consume(O),i=3,r.interrupt?t:ee):Ua(O)?(e.consume(O),s=String.fromCharCode(O),o=!0,g):n(O)}function f(O){return O===45?(e.consume(O),i=2,d):O===91?(e.consume(O),i=5,s="CDATA[",a=0,h):Ua(O)?(e.consume(O),i=4,r.interrupt?t:ee):n(O)}function d(O){return O===45?(e.consume(O),r.interrupt?t:ee):n(O)}function h(O){return O===s.charCodeAt(a++)?(e.consume(O),a===s.length?r.interrupt?t:N:h):n(O)}function p(O){return Ua(O)?(e.consume(O),s=String.fromCharCode(O),g):n(O)}function g(O){return O===null||O===47||O===62||ks(O)?O!==47&&o&&Xz.includes(s.toLowerCase())?(i=1,r.interrupt?t(O):N(O)):K8e.includes(s.toLowerCase())?(i=6,O===47?(e.consume(O),y):r.interrupt?t(O):N(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):o?v(O):m(O)):O===45||qo(O)?(e.consume(O),s+=String.fromCharCode(O),g):n(O)}function y(O){return O===62?(e.consume(O),r.interrupt?t:N):n(O)}function m(O){return Ar(O)?(e.consume(O),m):D(O)}function v(O){return O===47?(e.consume(O),D):O===58||O===95||Ua(O)?(e.consume(O),_):Ar(O)?(e.consume(O),v):D(O)}function _(O){return O===45||O===46||O===58||O===95||qo(O)?(e.consume(O),_):b(O)}function b(O){return O===61?(e.consume(O),E):Ar(O)?(e.consume(O),b):v(O)}function E(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),l=O,w):Ar(O)?(e.consume(O),E):(l=null,x(O))}function w(O){return O===null||pt(O)?n(O):O===l?(e.consume(O),I):(e.consume(O),w)}function x(O){return O===null||O===34||O===39||O===60||O===61||O===62||O===96||ks(O)?b(O):(e.consume(O),x)}function I(O){return O===47||O===62||Ar(O)?v(O):n(O)}function D(O){return O===62?(e.consume(O),R):n(O)}function R(O){return Ar(O)?(e.consume(O),R):O===null||pt(O)?N(O):n(O)}function N(O){return O===45&&i===2?(e.consume(O),ae):O===60&&i===1?(e.consume(O),re):O===62&&i===4?(e.consume(O),W):O===63&&i===3?(e.consume(O),ee):O===93&&i===5?(e.consume(O),Q):pt(O)&&(i===6||i===7)?e.check(Q8e,W,z)(O):O===null||pt(O)?z(O):(e.consume(O),N)}function z(O){return e.exit("htmlFlowData"),U(O)}function U(O){return O===null?P(O):pt(O)?e.attempt({tokenize:B,partial:!0},U,P)(O):(e.enter("htmlFlowData"),N(O))}function B(O,F,$){return C;function C(te){return O.enter("lineEnding"),O.consume(te),O.exit("lineEnding"),H}function H(te){return r.parser.lazy[r.now().line]?$(te):F(te)}}function ae(O){return O===45?(e.consume(O),ee):N(O)}function re(O){return O===47?(e.consume(O),s="",ue):N(O)}function ue(O){return O===62&&Xz.includes(s.toLowerCase())?(e.consume(O),W):Ua(O)&&s.length<8?(e.consume(O),s+=String.fromCharCode(O),ue):N(O)}function Q(O){return O===93?(e.consume(O),ee):N(O)}function ee(O){return O===62?(e.consume(O),W):O===45&&i===2?(e.consume(O),ee):N(O)}function W(O){return O===null||pt(O)?(e.exit("htmlFlowData"),P(O)):(e.consume(O),W)}function P(O){return e.exit("htmlFlow"),t(O)}}function Z8e(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(hP,t,n)}}const e7e={name:"htmlText",tokenize:t7e};function t7e(e,t,n){const r=this;let i,o,s,a;return l;function l(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),u}function u(P){return P===33?(e.consume(P),c):P===47?(e.consume(P),x):P===63?(e.consume(P),E):Ua(P)?(e.consume(P),R):n(P)}function c(P){return P===45?(e.consume(P),f):P===91?(e.consume(P),o="CDATA[",s=0,y):Ua(P)?(e.consume(P),b):n(P)}function f(P){return P===45?(e.consume(P),d):n(P)}function d(P){return P===null||P===62?n(P):P===45?(e.consume(P),h):p(P)}function h(P){return P===null||P===62?n(P):p(P)}function p(P){return P===null?n(P):P===45?(e.consume(P),g):pt(P)?(a=p,Q(P)):(e.consume(P),p)}function g(P){return P===45?(e.consume(P),W):p(P)}function y(P){return P===o.charCodeAt(s++)?(e.consume(P),s===o.length?m:y):n(P)}function m(P){return P===null?n(P):P===93?(e.consume(P),v):pt(P)?(a=m,Q(P)):(e.consume(P),m)}function v(P){return P===93?(e.consume(P),_):m(P)}function _(P){return P===62?W(P):P===93?(e.consume(P),_):m(P)}function b(P){return P===null||P===62?W(P):pt(P)?(a=b,Q(P)):(e.consume(P),b)}function E(P){return P===null?n(P):P===63?(e.consume(P),w):pt(P)?(a=E,Q(P)):(e.consume(P),E)}function w(P){return P===62?W(P):E(P)}function x(P){return Ua(P)?(e.consume(P),I):n(P)}function I(P){return P===45||qo(P)?(e.consume(P),I):D(P)}function D(P){return pt(P)?(a=D,Q(P)):Ar(P)?(e.consume(P),D):W(P)}function R(P){return P===45||qo(P)?(e.consume(P),R):P===47||P===62||ks(P)?N(P):n(P)}function N(P){return P===47?(e.consume(P),W):P===58||P===95||Ua(P)?(e.consume(P),z):pt(P)?(a=N,Q(P)):Ar(P)?(e.consume(P),N):W(P)}function z(P){return P===45||P===46||P===58||P===95||qo(P)?(e.consume(P),z):U(P)}function U(P){return P===61?(e.consume(P),B):pt(P)?(a=U,Q(P)):Ar(P)?(e.consume(P),U):N(P)}function B(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,ae):pt(P)?(a=B,Q(P)):Ar(P)?(e.consume(P),B):(e.consume(P),i=void 0,ue)}function ae(P){return P===i?(e.consume(P),re):P===null?n(P):pt(P)?(a=ae,Q(P)):(e.consume(P),ae)}function re(P){return P===62||P===47||ks(P)?N(P):n(P)}function ue(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===62||ks(P)?N(P):(e.consume(P),ue)}function Q(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),An(e,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ee(P){return e.enter("htmlTextData"),a(P)}function W(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}}const JD={name:"labelEnd",tokenize:a7e,resolveTo:s7e,resolveAll:o7e},n7e={tokenize:l7e},r7e={tokenize:u7e},i7e={tokenize:c7e};function o7e(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function s7e(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=Es(a,e.slice(o+1,o+r+3)),a=Es(a,[["enter",c,t]]),a=Es(a,QD(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=Es(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=Es(a,e.slice(s+1)),a=Es(a,[["exit",l,t]]),ml(e,o,e.length,a),e}function a7e(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(c){return o?o._inactive?u(c):(s=r.parser.defined.includes(op(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),l):n(c)}function l(c){return c===40?e.attempt(n7e,t,s?t:u)(c):c===91?e.attempt(r7e,t,s?e.attempt(i7e,t,u):u)(c):s?t(c):u(c)}function u(c){return o._balanced=!0,n(c)}}function l7e(e,t,n){return r;function r(l){return e.enter("resource"),e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),hy(e,i)}function i(l){return l===41?a(l):Pne(e,o,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function o(l){return ks(l)?hy(e,s)(l):a(l)}function s(l){return l===34||l===39||l===40?One(e,hy(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),e.exit("resource"),t):n(l)}}function u7e(e,t,n){const r=this;return i;function i(s){return Ine.call(r,e,o,n,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(op(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}}function c7e(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const f7e={name:"labelStartImage",tokenize:d7e,resolveAll:JD.resolveAll};function d7e(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const h7e={name:"labelStartLink",tokenize:p7e,resolveAll:JD.resolveAll};function p7e(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const _T={name:"lineEnding",tokenize:m7e};function m7e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),An(e,t,"linePrefix")}}const Vw={name:"thematicBreak",tokenize:g7e};function g7e(e,t,n){let r=0,i;return o;function o(l){return e.enter("thematicBreak"),i=l,s(l)}function s(l){return l===i?(e.enter("thematicBreakSequence"),a(l)):Ar(l)?An(e,s,"whitespace")(l):r<3||l!==null&&!pt(l)?n(l):(e.exit("thematicBreak"),t(l))}function a(l){return l===i?(e.consume(l),r++,a):(e.exit("thematicBreakSequence"),s(l))}}const co={name:"list",tokenize:_7e,continuation:{tokenize:w7e},exit:S7e},y7e={tokenize:E7e,partial:!0},v7e={tokenize:b7e,partial:!0};function _7e(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Tk(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Vw,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Tk(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(hP,r.interrupt?n:c,e.attempt(y7e,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return Ar(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function w7e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(hP,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,An(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Ar(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(v7e,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,An(e,e.attempt(co,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function b7e(e,t,n){const r=this;return An(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function S7e(e){e.exit(this.containerState.type)}function E7e(e,t,n){const r=this;return An(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Ar(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Jz={name:"setextUnderline",tokenize:P7e,resolveTo:x7e};function x7e(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function P7e(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){s=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),o=c,l(c)):n(c)}function l(c){return c===o?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),An(e,u,"lineSuffix")(c))}function u(c){return c===null||pt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const I7e={tokenize:O7e};function O7e(e){const t=this,n=e.attempt(hP,r,e.attempt(this.parser.constructs.flowInitial,i,An(e,e.attempt(this.parser.constructs.flow,i,e.attempt(N8e,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const T7e={resolveAll:Cne()},C7e=Tne("string"),$7e=Tne("text");function Tne(e){return{tokenize:t,resolveAll:Cne(e==="text"?k7e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Cne(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function k7e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function A7e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:v,enter:_,exit:b,attempt:x(E),check:x(w),interrupt:x(w,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:g,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(N){return s=Es(s,N),y(),s[s.length-1]!==null?[]:(I(t,0),u.events=QD(o,u.events,u),u.events)}function d(N,z){return N7e(h(N),z)}function h(N){return R7e(s,N)}function p(){return Object.assign({},r)}function g(N){i[N.line]=N.column,R()}function y(){let N;for(;r._index<s.length;){const z=s[r._index];if(typeof z=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<z.length;)m(z.charCodeAt(r._bufferIndex));else m(z)}}function m(N){c=c(N)}function v(N){pt(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,R()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function _(N,z){const U=z||{};return U.type=N,U.start=p(),u.events.push(["enter",U,u]),a.push(U),U}function b(N){const z=a.pop();return z.end=p(),u.events.push(["exit",z,u]),z}function E(N,z){I(N,z.from)}function w(N,z){z.restore()}function x(N,z){return U;function U(B,ae,re){let ue,Q,ee,W;return Array.isArray(B)?O(B):"tokenize"in B?O([B]):P(B);function P(H){return te;function te(ie){const le=ie!==null&&H[ie],se=ie!==null&&H.null,ye=[...Array.isArray(le)?le:le?[le]:[],...Array.isArray(se)?se:se?[se]:[]];return O(ye)(ie)}}function O(H){return ue=H,Q=0,H.length===0?re:F(H[Q])}function F(H){return te;function te(ie){return W=D(),ee=H,H.partial||(u.currentConstruct=H),H.name&&u.parser.constructs.disable.null.includes(H.name)?C():H.tokenize.call(z?Object.assign(Object.create(u),z):u,l,$,C)(ie)}}function $(H){return N(ee,W),ae}function C(H){return W.restore(),++Q<ue.length?F(ue[Q]):re}}}function I(N,z){N.resolveAll&&!o.includes(N)&&o.push(N),N.resolve&&ml(u.events,z,u.events.length-z,N.resolve(u.events.slice(z),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function D(){const N=p(),z=u.previous,U=u.currentConstruct,B=u.events.length,ae=Array.from(a);return{restore:re,from:B};function re(){r=N,u.previous=z,u.currentConstruct=U,u.events.length=B,a=ae,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function R7e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;return n===i?s=[e[n].slice(r,o)]:(s=e.slice(n,i),r>-1&&(s[0]=s[0].slice(r)),o>0&&s.push(e[i].slice(0,o))),s}function N7e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const D7e={42:co,43:co,45:co,48:co,49:co,50:co,51:co,52:co,53:co,54:co,55:co,56:co,57:co,62:bne},M7e={91:F8e},L7e={[-2]:vT,[-1]:vT,32:vT},j7e={35:W8e,42:Vw,45:[Jz,Vw],60:Y8e,61:Jz,95:Vw,96:Qz,126:Qz},F7e={38:Ene,92:Sne},V7e={[-5]:_T,[-4]:_T,[-3]:_T,33:f7e,38:Ene,42:$k,60:[y8e,e7e],91:h7e,92:[U8e,Sne],93:JD,95:$k,96:C8e},B7e={null:[$k,T7e]},z7e={null:[42,95]},U7e={null:[]},H7e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:z7e,contentInitial:M7e,disable:U7e,document:D7e,flow:j7e,flowInitial:L7e,insideSpan:B7e,string:F7e,text:V7e},Symbol.toStringTag,{value:"Module"}));function W7e(e={}){const t=n8e([H7e].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(c8e),document:r(d8e),flow:r(I7e),string:r(C7e),text:r($7e)};return n;function r(i){return o;function o(s){return A7e(n,i,s)}}}const Zz=/[\0\t\n\r]/g;function q7e(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,f,d,h;for(o=t+o.toString(s),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(Zz.lastIndex=f,u=Zz.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){t=o.slice(f);break}if(h===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(o.slice(f,d)),e+=d-f),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function G7e(e){for(;!xne(e););return e}function $ne(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const K7e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Y7e(e){return e.replace(K7e,Q7e)}function Q7e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return $ne(n.slice(o?2:1),o?16:10)}return XD(n)||e}const kk={}.hasOwnProperty,X7e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),J7e(n)(G7e(W7e(n).document().write(q7e()(e,t,!0))))};function J7e(e={}){const t=kne({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Re),autolinkProtocol:z,autolinkEmail:z,atxHeading:l(we),blockQuote:l(ce),characterEscape:z,characterReference:z,codeFenced:l(Ue),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Ue,u),codeText:l(Fe,u),codeTextData:z,data:z,codeFlowValue:z,definition:l(Me),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Te),hardBreakEscape:l(Ne),hardBreakTrailing:l(Ne),htmlFlow:l(Ht,u),htmlFlowData:z,htmlText:l(Ht,u),htmlTextData:z,image:l(Ce),label:u,link:l(Re),listItem:l(De),listItemValue:g,listOrdered:l(dt,p),listUnordered:l(dt),paragraph:l(lt),reference:H,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(we),strong:l(Ft),thematicBreak:l(jn)},exit:{atxHeading:f(),atxHeadingSequence:I,autolink:f(),autolinkEmail:ye,autolinkProtocol:se,blockQuote:f(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:le,codeFenced:f(_),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:m,codeFlowValue:U,codeIndented:f(b),codeText:f(Q),codeTextData:U,data:U,definition:f(),definitionDestinationString:x,definitionLabelString:E,definitionTitleString:w,emphasis:f(),hardBreakEscape:f(ae),hardBreakTrailing:f(ae),htmlFlow:f(re),htmlFlowData:U,htmlText:f(ue),htmlTextData:U,image:f(W),label:O,labelText:P,lineEnding:B,link:f(ee),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:te,resourceDestinationString:F,resourceTitleString:$,resource:C,setextHeading:f(N),setextHeadingLineSequence:R,setextHeadingText:D,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(oe){let me={type:"root",children:[]};const $e=[me],Je=[],Oe=[],Ze={stack:$e,tokenStack:Je,config:t,enter:c,exit:d,buffer:u,resume:h,setData:o,getData:s};let ke=-1;for(;++ke<oe.length;)if(oe[ke][1].type==="listOrdered"||oe[ke][1].type==="listUnordered")if(oe[ke][0]==="enter")Oe.push(ke);else{const Ke=Oe.pop();ke=i(oe,Ke,ke)}for(ke=-1;++ke<oe.length;){const Ke=t[oe[ke][0]];kk.call(Ke,oe[ke][1].type)&&Ke[oe[ke][1].type].call(Object.assign({sliceSerialize:oe[ke][2].sliceSerialize},Ze),oe[ke][1])}if(Je.length>0){const Ke=Je[Je.length-1];(Ke[1]||eU).call(Ze,void 0,Ke[0])}for(me.position={start:a(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:a(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<t.transforms.length;)me=t.transforms[ke](me)||me;return me}function i(oe,me,$e){let Je=me-1,Oe=-1,Ze=!1,ke,Ke,dn,Mt;for(;++Je<=$e;){const gt=oe[Je];if(gt[1].type==="listUnordered"||gt[1].type==="listOrdered"||gt[1].type==="blockQuote"?(gt[0]==="enter"?Oe++:Oe--,Mt=void 0):gt[1].type==="lineEndingBlank"?gt[0]==="enter"&&(ke&&!Mt&&!Oe&&!dn&&(dn=Je),Mt=void 0):gt[1].type==="linePrefix"||gt[1].type==="listItemValue"||gt[1].type==="listItemMarker"||gt[1].type==="listItemPrefix"||gt[1].type==="listItemPrefixWhitespace"||(Mt=void 0),!Oe&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||Oe===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(ke){let Cn=Je;for(Ke=void 0;Cn--;){const hn=oe[Cn];if(hn[1].type==="lineEnding"||hn[1].type==="lineEndingBlank"){if(hn[0]==="exit")continue;Ke&&(oe[Ke][1].type="lineEndingBlank",Ze=!0),hn[1].type="lineEnding",Ke=Cn}else if(!(hn[1].type==="linePrefix"||hn[1].type==="blockQuotePrefix"||hn[1].type==="blockQuotePrefixWhitespace"||hn[1].type==="blockQuoteMarker"||hn[1].type==="listItemIndent"))break}dn&&(!Ke||dn<Ke)&&(ke._spread=!0),ke.end=Object.assign({},Ke?oe[Ke][1].start:gt[1].end),oe.splice(Ke||Je,0,["exit",ke,gt[2]]),Je++,$e++}gt[1].type==="listItemPrefix"&&(ke={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start)},oe.splice(Je,0,["enter",ke,gt[2]]),Je++,$e++,dn=void 0,Mt=!0)}}return oe[me][1]._spread=Ze,$e}function o(oe,me){n[oe]=me}function s(oe){return n[oe]}function a(oe){return{line:oe.line,column:oe.column,offset:oe.offset}}function l(oe,me){return $e;function $e(Je){c.call(this,oe(Je),Je),me&&me.call(this,Je)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(oe,me,$e){return this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([me,$e]),oe.position={start:a(me.start)},oe}function f(oe){return me;function me($e){oe&&oe.call(this,$e),d.call(this,$e)}}function d(oe,me){const $e=this.stack.pop(),Je=this.tokenStack.pop();if(Je)Je[0].type!==oe.type&&(me?me.call(this,oe,Je[0]):(Je[1]||eU).call(this,oe,Je[0]));else throw new Error("Cannot close `"+oe.type+"` ("+dy({start:oe.start,end:oe.end})+"): its not open");return $e.position.end=a(oe.end),$e}function h(){return t8e(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function g(oe){if(s("expectingFirstListItemValue")){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(oe),10),o("expectingFirstListItemValue")}}function y(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.lang=oe}function m(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.meta=oe}function v(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function _(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function b(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe.replace(/(\r?\n|\r)$/g,"")}function E(oe){const me=this.resume(),$e=this.stack[this.stack.length-1];$e.label=me,$e.identifier=op(this.sliceSerialize(oe)).toLowerCase()}function w(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.title=oe}function x(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.url=oe}function I(oe){const me=this.stack[this.stack.length-1];if(!me.depth){const $e=this.sliceSerialize(oe).length;me.depth=$e}}function D(){o("setextHeadingSlurpLineEnding",!0)}function R(oe){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(oe).charCodeAt(0)===61?1:2}function N(){o("setextHeadingSlurpLineEnding")}function z(oe){const me=this.stack[this.stack.length-1];let $e=me.children[me.children.length-1];(!$e||$e.type!=="text")&&($e=Jt(),$e.position={start:a(oe.start)},me.children.push($e)),this.stack.push($e)}function U(oe){const me=this.stack.pop();me.value+=this.sliceSerialize(oe),me.position.end=a(oe.end)}function B(oe){const me=this.stack[this.stack.length-1];if(s("atHardBreak")){const $e=me.children[me.children.length-1];$e.position.end=a(oe.end),o("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(me.type)&&(z.call(this,oe),U.call(this,oe))}function ae(){o("atHardBreak",!0)}function re(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe}function ue(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe}function Q(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.value=oe}function ee(){const oe=this.stack[this.stack.length-1];s("inReference")?(oe.type+="Reference",oe.referenceType=s("referenceType")||"shortcut",delete oe.url,delete oe.title):(delete oe.identifier,delete oe.label),o("referenceType")}function W(){const oe=this.stack[this.stack.length-1];s("inReference")?(oe.type+="Reference",oe.referenceType=s("referenceType")||"shortcut",delete oe.url,delete oe.title):(delete oe.identifier,delete oe.label),o("referenceType")}function P(oe){const me=this.stack[this.stack.length-2],$e=this.sliceSerialize(oe);me.label=Y7e($e),me.identifier=op($e).toLowerCase()}function O(){const oe=this.stack[this.stack.length-1],me=this.resume(),$e=this.stack[this.stack.length-1];o("inReference",!0),$e.type==="link"?$e.children=oe.children:$e.alt=me}function F(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.url=oe}function $(){const oe=this.resume(),me=this.stack[this.stack.length-1];me.title=oe}function C(){o("inReference")}function H(){o("referenceType","collapsed")}function te(oe){const me=this.resume(),$e=this.stack[this.stack.length-1];$e.label=me,$e.identifier=op(this.sliceSerialize(oe)).toLowerCase(),o("referenceType","full")}function ie(oe){o("characterReferenceType",oe.type)}function le(oe){const me=this.sliceSerialize(oe),$e=s("characterReferenceType");let Je;$e?(Je=$ne(me,$e==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):Je=XD(me);const Oe=this.stack.pop();Oe.value+=Je,Oe.position.end=a(oe.end)}function se(oe){U.call(this,oe);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(oe)}function ye(oe){U.call(this,oe);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(oe)}function ce(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function Fe(){return{type:"inlineCode",value:""}}function Me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Te(){return{type:"emphasis",children:[]}}function we(){return{type:"heading",depth:void 0,children:[]}}function Ne(){return{type:"break"}}function Ht(){return{type:"html",value:""}}function Ce(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function dt(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function De(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function lt(){return{type:"paragraph",children:[]}}function Ft(){return{type:"strong",children:[]}}function Jt(){return{type:"text",value:""}}function jn(){return{type:"thematicBreak"}}}function kne(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?kne(e,r):Z7e(e,r)}return e}function Z7e(e,t){let n;for(n in t)if(kk.call(t,n)){const r=n==="canContainEols"||n==="transforms",o=(kk.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),s=t[n];s&&(r?e[n]=[...o,...s]:Object.assign(o,s))}}function eU(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+dy({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+dy({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+dy({start:t.start,end:t.end})+") is still open")}function eHe(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return X7e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Hr=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const Bw={}.hasOwnProperty;function tHe(e,t){const n=t.data||{};return"value"in t&&!(Bw.call(n,"hName")||Bw.call(n,"hProperties")||Bw.call(n,"hChildren"))?e.augment(t,Hr("text",t.value)):e(t,"div",qi(e,t))}function Ane(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return Bw.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=nHe:i=e.unknownHandler,(typeof i=="function"?i:tHe)(e,t,n)}function nHe(e,t){return"children"in t?{...t,children:qi(e,t)}:t}function qi(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const o=Ane(e,r[i],t);if(o){if(i&&r[i-1].type==="break"&&(!Array.isArray(o)&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&o.type==="element")){const s=o.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}const Rne=function(e){if(e==null)return sHe;if(typeof e=="string")return oHe(e);if(typeof e=="object")return Array.isArray(e)?rHe(e):iHe(e);if(typeof e=="function")return pP(e);throw new Error("Expected function, string, or object as test")};function rHe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Rne(e[n]);return pP(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function iHe(e){return pP(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function oHe(e){return pP(t);function t(n){return n&&n.type===e}}function pP(e){return t;function t(...n){return!!e.call(this,...n)}}function sHe(){return!0}const aHe=!0,lHe="skip",tU=!1,uHe=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=Rne(t),o=r?-1:1;s(e,null,[])();function s(a,l,u){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,g,y;if((!t||i(a,l,u[u.length-1]||null))&&(h=cHe(n(a,u)),h[0]===tU))return h;if(a.children&&h[0]!==lHe)for(g=(r?a.children.length:-1)+o,y=u.concat(a);g>-1&&g<a.children.length;){if(p=s(a.children[g],g,y)(),p[0]===tU)return p;g=typeof p[1]=="number"?p[1]:g+o}return h}}};function cHe(e){return Array.isArray(e)?e:typeof e=="number"?[aHe,e]:[e]}const ZD=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),uHe(e,t,i,r);function i(o,s){const a=s[s.length-1];return n(o,a?a.children.indexOf(o):null,a)}},Nne=Mne("start"),Dne=Mne("end");function Mne(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function fHe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const nU={}.hasOwnProperty;function dHe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return ZD(e,"definition",r=>{const i=rU(r.identifier);i&&!nU.call(t,i)&&(t[i]=r)}),n;function n(r){const i=rU(r);return i&&nU.call(t,i)?t[i]:null}}function rU(e){return String(e||"").toUpperCase()}function Pm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&qo(e.charCodeAt(n+1))&&qo(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Hl(e,t){const n=[];let r=-1;for(t&&n.push(Hr("text",`
`));++r<e.length;)r&&n.push(Hr("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(Hr("text",`
`)),n}function hHe(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=qi(e,r),o=String(r.identifier),s=Pm(o.toLowerCase());let a=0;const l=[];for(;++a<=e.footnoteCounts[o];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const f=u.children[u.children.length-1];f&&f.type==="text"?f.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:Hl(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Hr("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:Hl(n,!0)},{type:"text",value:`
`}]}}function pHe(e,t){return e(t,"blockquote",Hl(qi(e,t),!0))}function mHe(e,t){return[e(t,"br"),Hr("text",`
`)]}function gHe(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const o=e(t,"code",i,[Hr("text",n)]);return t.meta&&(o.data={meta:t.meta}),e(t.position,"pre",[o])}function yHe(e,t){return e(t,"del",qi(e,t))}function vHe(e,t){return e(t,"em",qi(e,t))}function Lne(e,t){const n=String(t.identifier),r=Pm(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let o;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,o=e.footnoteOrder.length):(e.footnoteCounts[n]++,o=i+1);const s=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Hr("text",String(o))])])}function _He(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Lne(e,{type:"footnoteReference",identifier:i,position:t.position})}function wHe(e,t){return e(t,"h"+t.depth,qi(e,t))}function bHe(e,t){return e.dangerous?e.augment(t,Hr("raw",t.value)):null}function jne(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Hr("text","!["+t.alt+r);const i=qi(e,t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift(Hr("text","["));const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push(Hr("text",r)),i}function SHe(e,t){const n=e.definition(t.identifier);if(!n)return jne(e,t);const r={src:Pm(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function EHe(e,t){const n={src:Pm(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function xHe(e,t){return e(t,"code",[Hr("text",t.value.replace(/\r?\n|\r/g," "))])}function PHe(e,t){const n=e.definition(t.identifier);if(!n)return jne(e,t);const r={href:Pm(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,qi(e,t))}function IHe(e,t){const n={href:Pm(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,qi(e,t))}function OHe(e,t,n){const r=qi(e,t),i=n?THe(n):Fne(t),o={},s=[];if(typeof t.checked=="boolean"){let u;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?u=r[0]:(u=e(null,"p",[]),r.unshift(u)),u.children.length>0&&u.children.unshift(Hr("text"," ")),u.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&s.push(Hr("text",`
`)),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=r[r.length-1];return l&&(i||!("tagName"in l)||l.tagName!=="p")&&s.push(Hr("text",`
`)),e(t,"li",o,s)}function THe(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Fne(n[r]);return!!t}function Fne(e){const t=e.spread;return t??e.children.length>1}function CHe(e,t){const n={},r=t.ordered?"ol":"ul",i=qi(e,t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<i.length;){const s=i[o];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,Hl(i,!0))}function $He(e,t){return e(t,"p",qi(e,t))}function kHe(e,t){return e.augment(t,Hr("root",Hl(qi(e,t))))}function AHe(e,t){return e(t,"strong",qi(e,t))}function RHe(e,t){const n=t.children;let r=-1;const i=t.align||[],o=[];for(;++r<n.length;){const s=n[r].children,a=r===0?"th":"td",l=[];let u=-1;const c=t.align?i.length:s.length;for(;++u<c;){const f=s[u];l.push(e(f,a,{align:i[u]},f?qi(e,f):[]))}o[r]=e(n[r],"tr",Hl(l,!0))}return e(t,"table",Hl([e(o[0].position,"thead",Hl([o[0]],!0))].concat(o[1]?e({start:Nne(o[1]),end:Dne(o[o.length-1])},"tbody",Hl(o.slice(1),!0)):[]),!0))}const iU=9,oU=32;function NHe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(sU(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(sU(t.slice(i),i>0,!1)),o.join("")}function sU(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===iU||o===oU;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===iU||o===oU;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function DHe(e,t){return e.augment(t,Hr("text",NHe(String(t.value))))}function MHe(e,t){return e(t,"hr")}const LHe={blockquote:pHe,break:mHe,code:gHe,delete:yHe,emphasis:vHe,footnoteReference:Lne,footnote:_He,heading:wHe,html:bHe,imageReference:SHe,image:EHe,inlineCode:xHe,linkReference:PHe,link:IHe,listItem:OHe,list:CHe,paragraph:$He,root:kHe,strong:AHe,table:RHe,text:DHe,thematicBreak:MHe,toml:F_,yaml:F_,definition:F_,footnoteDefinition:F_};function F_(){return null}const jHe={}.hasOwnProperty;function FHe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteLabelTagName=n.footnoteLabelTagName||"h2",s.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.definition=dHe(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.augment=o,s.handlers={...LHe,...n.handlers},s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,ZD(e,"footnoteDefinition",a=>{const l=String(a.identifier).toUpperCase();jHe.call(i,l)||(i[l]=a)}),s;function o(a,l){if(a&&"data"in a&&a.data){const u=a.data;u.hName&&(l.type!=="element"&&(l={type:"element",tagName:"",properties:{},children:[]}),l.tagName=u.hName),l.type==="element"&&u.hProperties&&(l.properties={...l.properties,...u.hProperties}),"children"in l&&l.children&&u.hChildren&&(l.children=u.hChildren)}if(a){const u="type"in a?a:{position:a};fHe(u)||(l.position={start:Nne(u),end:Dne(u)})}return l}function s(a,l,u,c){return Array.isArray(u)&&(c=u,u={}),o(a,{type:"element",tagName:l,properties:u||{},children:c||[]})}}function Vne(e,t){const n=FHe(e,t),r=Ane(n,e,null),i=hHe(n);return i&&r.children.push(Hr("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const VHe=function(e,t){return e&&"run"in e?zHe(e,t):UHe(e||t)},BHe=VHe;function zHe(e,t){return(n,r,i)=>{e.run(Vne(n,t),r,o=>{i(o)})}}function UHe(e){return t=>Vne(t,e)}class v0{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}v0.prototype.property={};v0.prototype.normal={};v0.prototype.space=null;function Bne(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new v0(n,r,t)}function Ak(e){return e.toLowerCase()}class Us{constructor(t,n){this.property=t,this.attribute=n}}Us.prototype.space=null;Us.prototype.boolean=!1;Us.prototype.booleanish=!1;Us.prototype.overloadedBoolean=!1;Us.prototype.number=!1;Us.prototype.commaSeparated=!1;Us.prototype.spaceSeparated=!1;Us.prototype.commaOrSpaceSeparated=!1;Us.prototype.mustUseProperty=!1;Us.prototype.defined=!1;let HHe=0;const Rt=Ud(),Tr=Ud(),zne=Ud(),Pe=Ud(),Vn=Ud(),sp=Ud(),jo=Ud();function Ud(){return 2**++HHe}const Rk=Object.freeze(Object.defineProperty({__proto__:null,boolean:Rt,booleanish:Tr,commaOrSpaceSeparated:jo,commaSeparated:sp,number:Pe,overloadedBoolean:zne,spaceSeparated:Vn},Symbol.toStringTag,{value:"Module"})),wT=Object.keys(Rk);class eM extends Us{constructor(t,n,r,i){let o=-1;if(super(t,n),aU(this,"space",i),typeof r=="number")for(;++o<wT.length;){const s=wT[o];aU(this,wT[o],(r&Rk[s])===Rk[s])}}}eM.prototype.defined=!0;function aU(e,t,n){n&&(e[t]=n)}const WHe={}.hasOwnProperty;function Im(e){const t={},n={};let r;for(r in e.properties)if(WHe.call(e.properties,r)){const i=e.properties[r],o=new eM(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Ak(r)]=r,n[Ak(o.attribute)]=r}return new v0(t,n,e.space)}const Une=Im({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Hne=Im({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Wne(e,t){return t in e?e[t]:t}function qne(e,t){return Wne(e,t.toLowerCase())}const Gne=Im({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:qne,properties:{xmlns:null,xmlnsXLink:null}}),Kne=Im({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Tr,ariaAutoComplete:null,ariaBusy:Tr,ariaChecked:Tr,ariaColCount:Pe,ariaColIndex:Pe,ariaColSpan:Pe,ariaControls:Vn,ariaCurrent:null,ariaDescribedBy:Vn,ariaDetails:null,ariaDisabled:Tr,ariaDropEffect:Vn,ariaErrorMessage:null,ariaExpanded:Tr,ariaFlowTo:Vn,ariaGrabbed:Tr,ariaHasPopup:null,ariaHidden:Tr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Vn,ariaLevel:Pe,ariaLive:null,ariaModal:Tr,ariaMultiLine:Tr,ariaMultiSelectable:Tr,ariaOrientation:null,ariaOwns:Vn,ariaPlaceholder:null,ariaPosInSet:Pe,ariaPressed:Tr,ariaReadOnly:Tr,ariaRelevant:null,ariaRequired:Tr,ariaRoleDescription:Vn,ariaRowCount:Pe,ariaRowIndex:Pe,ariaRowSpan:Pe,ariaSelected:Tr,ariaSetSize:Pe,ariaSort:null,ariaValueMax:Pe,ariaValueMin:Pe,ariaValueNow:Pe,ariaValueText:null,role:null}}),qHe=Im({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:qne,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sp,acceptCharset:Vn,accessKey:Vn,action:null,allow:null,allowFullScreen:Rt,allowPaymentRequest:Rt,allowUserMedia:Rt,alt:null,as:null,async:Rt,autoCapitalize:null,autoComplete:Vn,autoFocus:Rt,autoPlay:Rt,capture:Rt,charSet:null,checked:Rt,cite:null,className:Vn,cols:Pe,colSpan:null,content:null,contentEditable:Tr,controls:Rt,controlsList:Vn,coords:Pe|sp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Rt,defer:Rt,dir:null,dirName:null,disabled:Rt,download:zne,draggable:Tr,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Rt,formTarget:null,headers:Vn,height:Pe,hidden:Rt,high:Pe,href:null,hrefLang:null,htmlFor:Vn,httpEquiv:Vn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Rt,itemId:null,itemProp:Vn,itemRef:Vn,itemScope:Rt,itemType:Vn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Rt,low:Pe,manifest:null,max:null,maxLength:Pe,media:null,method:null,min:null,minLength:Pe,multiple:Rt,muted:Rt,name:null,nonce:null,noModule:Rt,noValidate:Rt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Rt,optimum:Pe,pattern:null,ping:Vn,placeholder:null,playsInline:Rt,poster:null,preload:null,readOnly:Rt,referrerPolicy:null,rel:Vn,required:Rt,reversed:Rt,rows:Pe,rowSpan:Pe,sandbox:Vn,scope:null,scoped:Rt,seamless:Rt,selected:Rt,shape:null,size:Pe,sizes:null,slot:null,span:Pe,spellCheck:Tr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pe,step:null,style:null,tabIndex:Pe,target:null,title:null,translate:null,type:null,typeMustMatch:Rt,useMap:null,value:Tr,width:Pe,wrap:null,align:null,aLink:null,archive:Vn,axis:null,background:null,bgColor:null,border:Pe,borderColor:null,bottomMargin:Pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Rt,declare:Rt,event:null,face:null,frame:null,frameBorder:null,hSpace:Pe,leftMargin:Pe,link:null,longDesc:null,lowSrc:null,marginHeight:Pe,marginWidth:Pe,noResize:Rt,noHref:Rt,noShade:Rt,noWrap:Rt,object:null,profile:null,prompt:null,rev:null,rightMargin:Pe,rules:null,scheme:null,scrolling:Tr,standby:null,summary:null,text:null,topMargin:Pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Rt,disableRemotePlayback:Rt,prefix:null,property:null,results:Pe,security:null,unselectable:null}}),GHe=Im({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Wne,properties:{about:jo,accentHeight:Pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pe,amplitude:Pe,arabicForm:null,ascent:Pe,attributeName:null,attributeType:null,azimuth:Pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pe,by:null,calcMode:null,capHeight:Pe,className:Vn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pe,diffuseConstant:Pe,direction:null,display:null,dur:null,divisor:Pe,dominantBaseline:null,download:Rt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pe,enableBackground:null,end:null,event:null,exponent:Pe,externalResourcesRequired:null,fill:null,fillOpacity:Pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sp,g2:sp,glyphName:sp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pe,horizOriginX:Pe,horizOriginY:Pe,id:null,ideographic:Pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pe,k:Pe,k1:Pe,k2:Pe,k3:Pe,k4:Pe,kernelMatrix:jo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pe,overlineThickness:Pe,paintOrder:null,panose1:null,path:null,pathLength:Pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Vn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pe,pointsAtY:Pe,pointsAtZ:Pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jo,rev:jo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jo,requiredFeatures:jo,requiredFonts:jo,requiredFormats:jo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pe,specularExponent:Pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pe,strikethroughThickness:Pe,string:null,stroke:null,strokeDashArray:jo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pe,strokeOpacity:Pe,strokeWidth:null,style:null,surfaceScale:Pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jo,tabIndex:Pe,tableValues:null,target:null,targetX:Pe,targetY:Pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jo,to:null,transform:null,u1:null,u2:null,underlinePosition:Pe,underlineThickness:Pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pe,values:null,vAlphabetic:Pe,vMathematical:Pe,vectorEffect:null,vHanging:Pe,vIdeographic:Pe,version:null,vertAdvY:Pe,vertOriginX:Pe,vertOriginY:Pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),KHe=/^data[-\w.:]+$/i,lU=/-[a-z]/g,YHe=/[A-Z]/g;function QHe(e,t){const n=Ak(t);let r=t,i=Us;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KHe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(lU,JHe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!lU.test(o)){let s=o.replace(YHe,XHe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=eM}return new i(r,t)}function XHe(e){return"-"+e.toLowerCase()}function JHe(e){return e.charAt(1).toUpperCase()}const uU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ZHe=Bne([Hne,Une,Gne,Kne,qHe],"html"),eWe=Bne([Hne,Une,Gne,Kne,GHe],"svg");function tWe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{ZD(t,"element",(n,r,i)=>{const o=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(n.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(n,r,o)),s&&typeof r=="number")return e.unwrapDisallowed&&n.children?o.children.splice(r,1,...n.children):o.children.splice(r,1),r})}}var Yne={exports:{}},xn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tM=Symbol.for("react.element"),nM=Symbol.for("react.portal"),mP=Symbol.for("react.fragment"),gP=Symbol.for("react.strict_mode"),yP=Symbol.for("react.profiler"),vP=Symbol.for("react.provider"),_P=Symbol.for("react.context"),nWe=Symbol.for("react.server_context"),wP=Symbol.for("react.forward_ref"),bP=Symbol.for("react.suspense"),SP=Symbol.for("react.suspense_list"),EP=Symbol.for("react.memo"),xP=Symbol.for("react.lazy"),rWe=Symbol.for("react.offscreen"),Qne;Qne=Symbol.for("react.module.reference");function Hs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tM:switch(e=e.type,e){case mP:case yP:case gP:case bP:case SP:return e;default:switch(e=e&&e.$$typeof,e){case nWe:case _P:case wP:case xP:case EP:case vP:return e;default:return t}}case nM:return t}}}xn.ContextConsumer=_P;xn.ContextProvider=vP;xn.Element=tM;xn.ForwardRef=wP;xn.Fragment=mP;xn.Lazy=xP;xn.Memo=EP;xn.Portal=nM;xn.Profiler=yP;xn.StrictMode=gP;xn.Suspense=bP;xn.SuspenseList=SP;xn.isAsyncMode=function(){return!1};xn.isConcurrentMode=function(){return!1};xn.isContextConsumer=function(e){return Hs(e)===_P};xn.isContextProvider=function(e){return Hs(e)===vP};xn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tM};xn.isForwardRef=function(e){return Hs(e)===wP};xn.isFragment=function(e){return Hs(e)===mP};xn.isLazy=function(e){return Hs(e)===xP};xn.isMemo=function(e){return Hs(e)===EP};xn.isPortal=function(e){return Hs(e)===nM};xn.isProfiler=function(e){return Hs(e)===yP};xn.isStrictMode=function(e){return Hs(e)===gP};xn.isSuspense=function(e){return Hs(e)===bP};xn.isSuspenseList=function(e){return Hs(e)===SP};xn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mP||e===yP||e===gP||e===bP||e===SP||e===rWe||typeof e=="object"&&e!==null&&(e.$$typeof===xP||e.$$typeof===EP||e.$$typeof===vP||e.$$typeof===_P||e.$$typeof===wP||e.$$typeof===Qne||e.getModuleId!==void 0)};xn.typeOf=Hs;Yne.exports=xn;var iWe=Yne.exports;const oWe=wa(iWe);function sWe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function aWe(e){return e.join(" ").trim()}function lWe(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var rM={exports:{}},cU=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,uWe=/\n/g,cWe=/^\s*/,fWe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,dWe=/^:\s*/,hWe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pWe=/^[;\s]*/,mWe=/^\s+|\s+$/g,gWe=`
`,fU="/",dU="*",Af="",yWe="comment",vWe="declaration",_We=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(uWe);g&&(n+=g.length);var y=p.lastIndexOf(gWe);r=~y?p.length-y:r+p.length}function o(){var p={line:n,column:r};return function(g){return g.position=new s(p),u(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function u(){l(cWe)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=o();if(!(fU!=e.charAt(0)||dU!=e.charAt(1))){for(var g=2;Af!=e.charAt(g)&&(dU!=e.charAt(g)||fU!=e.charAt(g+1));)++g;if(g+=2,Af===e.charAt(g-1))return a("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:yWe,comment:y})}}function d(){var p=o(),g=l(fWe);if(g){if(f(),!l(dWe))return a("property missing ':'");var y=l(hWe),m=p({type:vWe,property:hU(g[0].replace(cU,Af)),value:y?hU(y[0].replace(cU,Af)):Af});return l(pWe),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return u(),h()};function hU(e){return e?e.replace(mWe,Af):Af}var wWe=_We;function Xne(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=wWe(e),o=typeof t=="function",s,a,l=0,u=i.length;l<u;l++)r=i[l],s=r.property,a=r.value,o?t(s,a,r):a&&(n||(n={}),n[s]=a);return n}rM.exports=Xne;rM.exports.default=Xne;var bWe=rM.exports;const SWe=wa(bWe),Nk={}.hasOwnProperty,EWe=new Set(["table","thead","tbody","tfoot","tr"]);function Jne(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(xWe(e,i,r,t)):i.type==="text"?(t.type!=="element"||!EWe.has(t.tagName)||!sWe(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function xWe(e,t,n,r){const i=e.options,o=i.transformLinkUri===void 0?M9e:i.transformLinkUri,s=e.schema,a=t.tagName,l={};let u=s,c;if(s.space==="html"&&a==="svg"&&(u=eWe,e.schema=u),t.properties)for(c in t.properties)Nk.call(t.properties,c)&&IWe(l,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=Jne(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=s;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&Nk.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===M.Fragment;if(!oWe.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&o&&(l.href=o(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!p&&a==="li"&&r.type==="element"){const g=PWe(t);l.checked=g&&g.properties?!!g.properties.checked:null,l.index=bT(r,t),l.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=e.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),p||(l.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=CWe(d)),!p&&i.rawSourcePos&&(l.sourcePosition=t.position),!p&&i.includeElementIndex&&(l.index=bT(r,t),l.siblingCount=bT(r)),p||(l.node=t),f.length>0?M.createElement(h,l,f):M.createElement(h,l)}function PWe(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function bT(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function IWe(e,t,n,r){const i=QHe(r.schema,t);let o=n;o==null||o!==o||(Array.isArray(o)&&(o=i.commaSeparated?lWe(o):aWe(o)),i.property==="style"&&typeof o=="string"&&(o=OWe(o)),i.space&&i.property?e[Nk.call(uU,i.property)?uU[i.property]:i.property]=o:i.attribute&&(e[i.attribute]=o))}function OWe(e){const t={};try{SWe(e,n)}catch{}return t;function n(r,i){const o=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[o.replace(/-([a-z])/g,TWe)]=i}}function TWe(e,t){return t.toUpperCase()}function CWe(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const pU={}.hasOwnProperty,$We="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",V_={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Zne(e){for(const o in V_)if(pU.call(V_,o)&&pU.call(e,o)){const s=V_[o];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${o}\` (see <${$We}#${s.id}> for more info)`),delete V_[o]}const t=X9e().use(eHe).use(e.remarkPlugins||[]).use(BHe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(tWe,e),n=new gne;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=M.createElement(M.Fragment,{},Jne({options:e,schema:ZHe,listDepth:0},r));return e.className&&(i=M.createElement("div",{className:e.className},i)),i}Zne.propTypes={children:it.string,className:it.string,allowElement:it.func,allowedElements:it.arrayOf(it.string),disallowedElements:it.arrayOf(it.string),unwrapDisallowed:it.bool,remarkPlugins:it.arrayOf(it.oneOfType([it.object,it.func,it.arrayOf(it.oneOfType([it.bool,it.string,it.object,it.func,it.arrayOf(it.any)]))])),rehypePlugins:it.arrayOf(it.oneOfType([it.object,it.func,it.arrayOf(it.oneOfType([it.bool,it.string,it.object,it.func,it.arrayOf(it.any)]))])),sourcePos:it.bool,rawSourcePos:it.bool,skipHtml:it.bool,includeElementIndex:it.bool,transformLinkUri:it.oneOfType([it.func,it.bool]),linkTarget:it.oneOfType([it.func,it.string]),transformImageUri:it.func,components:it.object};function Gp({text:e}){const t={img:({node:n,...r})=>T.jsx(Kv,{...r}),p:({node:n,...r})=>T.jsx(Et,{...r,pb:8}),h1:({node:n,...r})=>T.jsx(Ku,{order:1,...r,pb:12}),h2:({node:n,...r})=>T.jsx(Ku,{order:2,...r,pb:12}),h3:({node:n,...r})=>T.jsx(Ku,{order:3,...r,pb:12}),h4:({node:n,...r})=>T.jsx(Ku,{order:4,...r,pb:12}),h5:({node:n,...r})=>T.jsx(Ku,{order:5,...r,pb:12}),h6:({node:n,...r})=>T.jsx(Ku,{order:6,...r,pb:12}),a:({node:n,...r})=>T.jsx(NW,{...r}),ul:({node:n,...r})=>T.jsx(Ep,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>T.jsx(Ep,{type:"ordered",withPadding:!0,...r,pb:8})};return T.jsx(T.Fragment,{children:T.jsx(Zne,{components:t,children:e})})}function kWe({currentConfig:e}){const[t,n]=S.useState(null);return S.useEffect(()=>{fetch(`${El}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:T.jsx(T.Fragment,{children:T.jsx(Gp,{text:t})})}function fv(){return $u(e=>e.config)}var aE={exports:{}};aE.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",v="[object Object]",_="[object Proxy]",b="[object RegExp]",E="[object Set]",w="[object String]",x="[object Undefined]",I="[object WeakMap]",D="[object ArrayBuffer]",R="[object DataView]",N="[object Float32Array]",z="[object Float64Array]",U="[object Int8Array]",B="[object Int16Array]",ae="[object Int32Array]",re="[object Uint8Array]",ue="[object Uint8ClampedArray]",Q="[object Uint16Array]",ee="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,P=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,F={};F[N]=F[z]=F[U]=F[B]=F[ae]=F[re]=F[ue]=F[Q]=F[ee]=!0,F[a]=F[l]=F[D]=F[c]=F[R]=F[f]=F[d]=F[h]=F[g]=F[y]=F[v]=F[b]=F[E]=F[w]=F[I]=!1;var $=typeof Ho=="object"&&Ho&&Ho.Object===Object&&Ho,C=typeof self=="object"&&self&&self.Object===Object&&self,H=$||C||Function("return this")(),te=t&&!t.nodeType&&t,ie=te&&!0&&e&&!e.nodeType&&e,le=ie&&ie.exports===te,se=le&&$.process,ye=function(){try{var V=ie&&ie.require&&ie.require("util").types;return V||se&&se.binding&&se.binding("util")}catch{}}(),ce=ye&&ye.isTypedArray;function Ue(V,Z,he){switch(he.length){case 0:return V.call(Z);case 1:return V.call(Z,he[0]);case 2:return V.call(Z,he[0],he[1]);case 3:return V.call(Z,he[0],he[1],he[2])}return V.apply(Z,he)}function Fe(V,Z){for(var he=-1,Be=Array(V);++he<V;)Be[he]=Z(he);return Be}function Me(V){return function(Z){return V(Z)}}function Te(V,Z){return V==null?void 0:V[Z]}function we(V,Z){return function(he){return V(Z(he))}}var Ne=Array.prototype,Ht=Function.prototype,Ce=Object.prototype,Re=H["__core-js_shared__"],dt=Ht.toString,De=Ce.hasOwnProperty,lt=function(){var V=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return V?"Symbol(src)_1."+V:""}(),Ft=Ce.toString,Jt=dt.call(Object),jn=RegExp("^"+dt.call(De).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=le?H.Buffer:void 0,me=H.Symbol,$e=H.Uint8Array,Je=oe?oe.allocUnsafe:void 0,Oe=we(Object.getPrototypeOf,Object),Ze=Object.create,ke=Ce.propertyIsEnumerable,Ke=Ne.splice,dn=me?me.toStringTag:void 0,Mt=function(){try{var V=Ee(Object,"defineProperty");return V({},"",{}),V}catch{}}(),gt=oe?oe.isBuffer:void 0,Cn=Math.max,hn=Date.now,Ws=Ee(H,"Map"),tr=Ee(Object,"create"),xi=function(){function V(){}return function(Z){if(!hf(Z))return{};if(Ze)return Ze(Z);V.prototype=Z;var he=new V;return V.prototype=void 0,he}}();function cr(V){var Z=-1,he=V==null?0:V.length;for(this.clear();++Z<he;){var Be=V[Z];this.set(Be[0],Be[1])}}function Pr(){this.__data__=tr?tr(null):{},this.size=0}function nr(V){var Z=this.has(V)&&delete this.__data__[V];return this.size-=Z?1:0,Z}function $n(V){var Z=this.__data__;if(tr){var he=Z[V];return he===r?void 0:he}return De.call(Z,V)?Z[V]:void 0}function Wt(V){var Z=this.__data__;return tr?Z[V]!==void 0:De.call(Z,V)}function Yr(V,Z){var he=this.__data__;return this.size+=this.has(V)?0:1,he[V]=tr&&Z===void 0?r:Z,this}cr.prototype.clear=Pr,cr.prototype.delete=nr,cr.prototype.get=$n,cr.prototype.has=Wt,cr.prototype.set=Yr;function fr(V){var Z=-1,he=V==null?0:V.length;for(this.clear();++Z<he;){var Be=V[Z];this.set(Be[0],Be[1])}}function Ir(){this.__data__=[],this.size=0}function si(V){var Z=this.__data__,he=Wn(Z,V);if(he<0)return!1;var Be=Z.length-1;return he==Be?Z.pop():Ke.call(Z,he,1),--this.size,!0}function oo(V){var Z=this.__data__,he=Wn(Z,V);return he<0?void 0:Z[he][1]}function G(V){return Wn(this.__data__,V)>-1}function j(V,Z){var he=this.__data__,Be=Wn(he,V);return Be<0?(++this.size,he.push([V,Z])):he[Be][1]=Z,this}fr.prototype.clear=Ir,fr.prototype.delete=si,fr.prototype.get=oo,fr.prototype.has=G,fr.prototype.set=j;function Y(V){var Z=-1,he=V==null?0:V.length;for(this.clear();++Z<he;){var Be=V[Z];this.set(Be[0],Be[1])}}function de(){this.size=0,this.__data__={hash:new cr,map:new(Ws||fr),string:new cr}}function fe(V){var Z=Se(this,V).delete(V);return this.size-=Z?1:0,Z}function Ve(V){return Se(this,V).get(V)}function ge(V){return Se(this,V).has(V)}function Le(V,Z){var he=Se(this,V),Be=he.size;return he.set(V,Z),this.size+=he.size==Be?0:1,this}Y.prototype.clear=de,Y.prototype.delete=fe,Y.prototype.get=Ve,Y.prototype.has=ge,Y.prototype.set=Le;function tt(V){var Z=this.__data__=new fr(V);this.size=Z.size}function Ge(){this.__data__=new fr,this.size=0}function at(V){var Z=this.__data__,he=Z.delete(V);return this.size=Z.size,he}function Tt(V){return this.__data__.get(V)}function Pn(V){return this.__data__.has(V)}function ot(V,Z){var he=this.__data__;if(he instanceof fr){var Be=he.__data__;if(!Ws||Be.length<n-1)return Be.push([V,Z]),this.size=++he.size,this;he=this.__data__=new Y(Be)}return he.set(V,Z),this.size=he.size,this}tt.prototype.clear=Ge,tt.prototype.delete=at,tt.prototype.get=Tt,tt.prototype.has=Pn,tt.prototype.set=ot;function vn(V,Z){var he=sI(V),Be=!he&&Yd(V),Zt=!he&&!Be&&SL(V),kn=!he&&!Be&&!Zt&&xL(V),Gn=he||Be||Zt||kn,qt=Gn?Fe(V.length,String):[],Kn=qt.length;for(var fs in V)(Z||De.call(V,fs))&&!(Gn&&(fs=="length"||Zt&&(fs=="offset"||fs=="parent")||kn&&(fs=="buffer"||fs=="byteLength"||fs=="byteOffset")||kt(fs,Kn)))&&qt.push(fs);return qt}function ht(V,Z,he){(he!==void 0&&!Kd(V[Z],he)||he===void 0&&!(Z in V))&&Mr(V,Z,he)}function an(V,Z,he){var Be=V[Z];(!(De.call(V,Z)&&Kd(Be,he))||he===void 0&&!(Z in V))&&Mr(V,Z,he)}function Wn(V,Z){for(var he=V.length;he--;)if(Kd(V[he][0],Z))return he;return-1}function Mr(V,Z,he){Z=="__proto__"&&Mt?Mt(V,Z,{configurable:!0,enumerable:!0,value:he,writable:!0}):V[Z]=he}var br=ve();function Gi(V){return V==null?V===void 0?x:m:dn&&dn in Object(V)?Ie(V):df(V)}function ai(V){return Fm(V)&&Gi(V)==a}function rr(V){if(!hf(V)||dr(V))return!1;var Z=lI(V)?jn:P;return Z.test(oI(V))}function ze(V){return Fm(V)&&EL(V.length)&&!!F[Gi(V)]}function Dt(V){if(!hf(V))return ao(V);var Z=qn(V),he=[];for(var Be in V)Be=="constructor"&&(Z||!De.call(V,Be))||he.push(Be);return he}function Nn(V,Z,he,Be,Zt){V!==Z&&br(Z,function(kn,Gn){if(Zt||(Zt=new tt),hf(kn))Qr(V,Z,Gn,he,Nn,Be,Zt);else{var qt=Be?Be(Lm(V,Gn),kn,Gn+"",V,Z,Zt):void 0;qt===void 0&&(qt=kn),ht(V,Gn,qt)}},PL)}function Qr(V,Z,he,Be,Zt,kn,Gn){var qt=Lm(V,he),Kn=Lm(Z,he),fs=Gn.get(Kn);if(fs){ht(V,he,fs);return}var Mo=kn?kn(qt,Kn,he+"",V,Z,Gn):void 0,Vm=Mo===void 0;if(Vm){var uI=sI(Kn),cI=!uI&&SL(Kn),OL=!uI&&!cI&&xL(Kn);Mo=Kn,uI||cI||OL?sI(qt)?Mo=qt:Fse(qt)?Mo=ne(qt):cI?(Vm=!1,Mo=q(Kn,!0)):OL?(Vm=!1,Mo=J(Kn,!0)):Mo=[]:Vse(Kn)||Yd(Kn)?(Mo=qt,Yd(qt)?Mo=Bse(qt):(!hf(qt)||lI(qt))&&(Mo=We(Kn))):Vm=!1}Vm&&(Gn.set(Kn,Mo),Zt(Mo,Kn,Be,kn,Gn),Gn.delete(Kn)),ht(V,he,Mo)}function so(V,Z){return jm(Mm(V,Z,IL),V+"")}var k=Mt?function(V,Z){return Mt(V,"toString",{configurable:!0,enumerable:!1,value:Use(Z),writable:!0})}:IL;function q(V,Z){if(Z)return V.slice();var he=V.length,Be=Je?Je(he):new V.constructor(he);return V.copy(Be),Be}function L(V){var Z=new V.constructor(V.byteLength);return new $e(Z).set(new $e(V)),Z}function J(V,Z){var he=Z?L(V.buffer):V.buffer;return new V.constructor(he,V.byteOffset,V.length)}function ne(V,Z){var he=-1,Be=V.length;for(Z||(Z=Array(Be));++he<Be;)Z[he]=V[he];return Z}function X(V,Z,he,Be){var Zt=!he;he||(he={});for(var kn=-1,Gn=Z.length;++kn<Gn;){var qt=Z[kn],Kn=Be?Be(he[qt],V[qt],qt,he,V):void 0;Kn===void 0&&(Kn=V[qt]),Zt?Mr(he,qt,Kn):an(he,qt,Kn)}return he}function pe(V){return so(function(Z,he){var Be=-1,Zt=he.length,kn=Zt>1?he[Zt-1]:void 0,Gn=Zt>2?he[2]:void 0;for(kn=V.length>3&&typeof kn=="function"?(Zt--,kn):void 0,Gn&&ln(he[0],he[1],Gn)&&(kn=Zt<3?void 0:kn,Zt=1),Z=Object(Z);++Be<Zt;){var qt=he[Be];qt&&V(Z,qt,Be,kn)}return Z})}function ve(V){return function(Z,he,Be){for(var Zt=-1,kn=Object(Z),Gn=Be(Z),qt=Gn.length;qt--;){var Kn=Gn[V?qt:++Zt];if(he(kn[Kn],Kn,kn)===!1)break}return Z}}function Se(V,Z){var he=V.__data__;return pn(Z)?he[typeof Z=="string"?"string":"hash"]:he.map}function Ee(V,Z){var he=Te(V,Z);return rr(he)?he:void 0}function Ie(V){var Z=De.call(V,dn),he=V[dn];try{V[dn]=void 0;var Be=!0}catch{}var Zt=Ft.call(V);return Be&&(Z?V[dn]=he:delete V[dn]),Zt}function We(V){return typeof V.constructor=="function"&&!qn(V)?xi(Oe(V)):{}}function kt(V,Z){var he=typeof V;return Z=Z??s,!!Z&&(he=="number"||he!="symbol"&&O.test(V))&&V>-1&&V%1==0&&V<Z}function ln(V,Z,he){if(!hf(he))return!1;var Be=typeof Z;return(Be=="number"?aI(he)&&kt(Z,he.length):Be=="string"&&Z in he)?Kd(he[Z],V):!1}function pn(V){var Z=typeof V;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?V!=="__proto__":V===null}function dr(V){return!!lt&&lt in V}function qn(V){var Z=V&&V.constructor,he=typeof Z=="function"&&Z.prototype||Ce;return V===he}function ao(V){var Z=[];if(V!=null)for(var he in Object(V))Z.push(he);return Z}function df(V){return Ft.call(V)}function Mm(V,Z,he){return Z=Cn(Z===void 0?V.length-1:Z,0),function(){for(var Be=arguments,Zt=-1,kn=Cn(Be.length-Z,0),Gn=Array(kn);++Zt<kn;)Gn[Zt]=Be[Z+Zt];Zt=-1;for(var qt=Array(Z+1);++Zt<Z;)qt[Zt]=Be[Zt];return qt[Z]=he(Gn),Ue(V,this,qt)}}function Lm(V,Z){if(!(Z==="constructor"&&typeof V[Z]=="function")&&Z!="__proto__")return V[Z]}var jm=bL(k);function bL(V){var Z=0,he=0;return function(){var Be=hn(),Zt=o-(Be-he);if(he=Be,Zt>0){if(++Z>=i)return arguments[0]}else Z=0;return V.apply(void 0,arguments)}}function oI(V){if(V!=null){try{return dt.call(V)}catch{}try{return V+""}catch{}}return""}function Kd(V,Z){return V===Z||V!==V&&Z!==Z}var Yd=ai(function(){return arguments}())?ai:function(V){return Fm(V)&&De.call(V,"callee")&&!ke.call(V,"callee")},sI=Array.isArray;function aI(V){return V!=null&&EL(V.length)&&!lI(V)}function Fse(V){return Fm(V)&&aI(V)}var SL=gt||Hse;function lI(V){if(!hf(V))return!1;var Z=Gi(V);return Z==h||Z==p||Z==u||Z==_}function EL(V){return typeof V=="number"&&V>-1&&V%1==0&&V<=s}function hf(V){var Z=typeof V;return V!=null&&(Z=="object"||Z=="function")}function Fm(V){return V!=null&&typeof V=="object"}function Vse(V){if(!Fm(V)||Gi(V)!=v)return!1;var Z=Oe(V);if(Z===null)return!0;var he=De.call(Z,"constructor")&&Z.constructor;return typeof he=="function"&&he instanceof he&&dt.call(he)==Jt}var xL=ce?Me(ce):ze;function Bse(V){return X(V,PL(V))}function PL(V){return aI(V)?vn(V,!0):Dt(V)}var zse=pe(function(V,Z,he){Nn(V,Z,he)});function Use(V){return function(){return V}}function IL(V){return V}function Hse(){return!1}e.exports=zse})(aE,aE.exports);var AWe=aE.exports;const iM=wa(AWe);function RWe(){var l;const e=fv(),t=Fs(),n=e.components[t],r=XN(),i=kx(n)&&e.baseComponents?iM({},(l=e.baseComponents)==null?void 0:l[n.baseComponent],n):n,o=i.instruction||"",s=i.instructionLocation,a=e.uiConfig.sidebar&&(s==="sidebar"||s===void 0);return T.jsxs(T.Fragment,{children:[s==="aboveStimulus"&&T.jsx(Gp,{text:o}),T.jsx(pS,{status:r,config:i,location:"aboveStimulus"},`${t}-above-response-block`),T.jsxs(S.Suspense,{fallback:T.jsx("div",{children:"Loading..."}),children:[i.type==="markdown"&&T.jsx(kWe,{currentConfig:i}),i.type==="website"&&T.jsx(NAe,{currentConfig:i}),i.type==="image"&&T.jsx(MAe,{currentConfig:i}),i.type==="react-component"&&T.jsx(D9e,{currentConfig:i})]},`${t}-stimulus`),(s==="belowStimulus"||s===void 0&&!a)&&T.jsx(Gp,{text:o}),T.jsx(pS,{status:r,config:i,location:"belowStimulus"},`${t}-below-response-block`)]})}function NWe(e){const[t]=vH();return T.jsx(pce,{...e,to:{pathname:e.to,search:t.toString()}})}const Dk=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],zw=["participantId","trialId","responseId"];async function DWe(e=[...zw,...Dk],t,n,r){const o=(await n.getAllParticipantsData()).map(u=>MWe(u,r,e)).flat(),s=u=>u.replace(/"/g,'""'),a=o.map(u=>e.map(c=>u===null?"":typeof u[c]=="string"?`"${s(u[c])}"`:JSON.stringify(u[c])).join(",")),l=[e.join(","),...a].join(`
`);Mk(l,t)}function MWe(e,t,n){return Object.entries(t.components).map(([r,i])=>{const o=kx(i)&&i.baseComponent&&t.baseComponents?iM({},t.baseComponents[i.baseComponent],i):i,s=e.answers[r],a=s!==void 0?s:{answer:{},startTime:-1,endTime:-1},l=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:l};return n.includes("description")&&(d.description=o.description),n.includes("instruction")&&(d.instruction=o.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=o.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}function LWe({opened:e,close:t,filename:n,studyConfig:r}){const[i,o]=fhe([...zw,...Dk]),s=S.useCallback(u=>{zw.every(c=>u.includes(c))&&o(u)},[o]),a=S.useMemo(()=>[...zw,...Dk],[]),{storageEngine:l}=$d();return l?T.jsxs(KR,{opened:e,size:"lg",onClose:t,title:T.jsx(Et,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[T.jsx(rt,{children:T.jsx(eY,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:s,label:T.jsx(Et,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),T.jsxs(Sp,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[T.jsx(fa,{leftIcon:T.jsx(pne,{}),onClick:()=>DWe(i,n,l,r),children:"Download"}),T.jsx(fa,{onClick:t,color:"red",children:"Close"})]})]}):null}function Mk(e,t){const n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function jWe({studyConfig:e}){const{storageEngine:t}=$d(),[n,{open:r,close:i}]=dhe(!1),o=e.uiConfig.autoDownloadStudy||!1,s=o&&e.uiConfig.autoDownloadTime||-1,[a,l]=S.useState(Math.floor(s/1e3));S.useEffect(()=>{if(a<=0)return;const p=setInterval(()=>{l(g=>g-1)},1e3);return()=>clearInterval(p)},[a]);const[u,c]=S.useState(),[f,d]=S.useState(""),h=e.studyMetadata.title.replace(" ","_");return S.useEffect(()=>{async function p(){if(t){const g=await t.getCurrentParticipantId(),y=await t.getParticipantData();d(g),c(y)}}p()},[t]),T.jsxs(Ts,{children:[T.jsx(fa,{leftIcon:T.jsx(T9e,{}),mt:"1em",mr:"0.5em",onClick:()=>Mk(JSON.stringify(u,null,2),`${h}_${f}.json`),display:"block",children:"Download Current (JSON)"}),T.jsx(fa,{disabled:!(t!=null&&t.isConnected()),leftIcon:T.jsx(C9e,{}),mt:"1em",mr:"0.5em",onClick:async()=>{if(!t)return;const p=await t.getAllParticipantsData();Mk(JSON.stringify(p,null,2),`${h}_all.json`)},display:"block",children:"Download All (JSON)"}),T.jsx(fa,{disabled:!(t!=null&&t.isConnected()),leftIcon:T.jsx(pne,{}),mt:"1em",mr:"0.5em",onClick:r,display:"block",children:"Download All (Tidy)"}),o&&T.jsxs(Et,{size:"lg",children:["Study results will be downloaded in ",a," seconds. If the download does not start automatically, click above to download."]}),T.jsx(LWe,{opened:n,close:i,filename:`${h}_${f}.csv`,studyConfig:e})]})}function ere({order:e}){const{studyId:t=null}=dR(),n=Fs(),r=kd();return T.jsx(Ts,{spacing:"xs",children:e.components.map((i,o)=>typeof i=="string"?T.jsx(es,{children:T.jsx(N0e,{style:{cursor:"pointer"},color:i===n?"red":"blue",onClick:()=>r(`/${t}/${i}`),size:"xs",children:i},i)},o):T.jsx(Ts,{spacing:"xs",children:T.jsxs(es,{spacing:"xs",style:{width:"100%"},noWrap:!0,align:"center",position:"center",children:[i.order==="random"||i.order==="latinSquare"?T.jsx(O9e,{textAnchor:"middle"}):null,T.jsx(Ts,{style:{width:"100%"},children:T.jsx(ere,{order:i})})]})},o))})}function FWe(){const{showAdmin:e,sequence:t}=$u(a=>a),n=kd(),{studyId:r=null}=dR(),i=Fs(),o=fv(),s=t.map(a=>({...o.components[a],id:a}));return e?T.jsx(Th,{p:"0",width:{base:300},style:{zIndex:0},children:T.jsxs(xg,{p:"0",children:[T.jsx(Th.Section,{grow:!0,component:xg,px:"xs",my:"lg",children:T.jsx(ere,{order:o.sequence})}),T.jsx(Th.Section,{grow:!0,component:xg,px:"xs",my:"lg",children:i==="end"&&T.jsx(jWe,{studyConfig:o})}),T.jsx(Th.Section,{grow:!0,component:xg,px:"xs",my:"lg",children:s.map((a,l)=>T.jsxs(M.Fragment,{children:[T.jsxs(Zg,{radius:0,p:0,withBorder:!0,children:[T.jsx(Zg,{radius:0,p:"xl",children:T.jsxs(Sp,{style:{justifyContent:"space-between"},children:[T.jsxs(Et,{c:"gray.9",children:[T.jsxs(Et,{span:!0,fw:700,inherit:!0,children:["Task ",l+1,":"]})," ",a.id]}),T.jsx(xp,{}),T.jsx(IR,{bg:"white",onClick:()=>n(`/${r}/${a.id}`),children:T.jsx(I9e,{size:"1.125rem"})})]})}),T.jsxs(Zg,{radius:0,p:"xl",children:[a.description&&T.jsxs(Et,{fw:900,children:["Description:"," ",T.jsx(Et,{fw:400,component:"span",children:a.description})]}),a.meta&&T.jsx(Et,{fw:900,children:"Task Meta:"}),a.meta&&Object.keys(a.meta).map(u=>T.jsxs(Et,{children:[u,": ",a.meta[u]]},u))]})]}),T.jsx(xp,{h:"md"})]},`admin_${a.id}`))})]})}):null}function VWe(){const{config:e,sequence:t}=$u(_=>_),n=hm(),{toggleShowHelpText:r,toggleShowAdmin:i}=dm(),{storageEngine:o}=$d(),s=Fs(),a=e!==null?t.indexOf(s):0,l=t.length-1,u=a/l*100,[c,f]=S.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=S.useState(new URLSearchParams(window.location.search)),g=p.get("admin")||"f",y=cX(),m=nce(`/${y}`);function v(){o==null||o.nextParticipant().then(()=>{window.location.href=m}).catch(_=>{console.error(_)})}return T.jsx(qW,{height:"70",p:"md",children:T.jsxs(Bl,{mt:-7,align:"center",children:[T.jsx(Bl.Col,{span:4,children:T.jsxs(Sp,{align:"center",children:[T.jsx(Kv,{maw:40,src:`${El}${d}`,alt:"Study Logo"}),T.jsx(xp,{w:"md"}),T.jsx(Ku,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),T.jsx(Bl.Col,{span:4,children:h&&T.jsx(wY,{radius:"md",size:"lg",value:u})}),T.jsx(Bl.Col,{span:4,children:T.jsxs(Sp,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&T.jsx(fa,{variant:"outline",onClick:()=>n(r()),children:"Help"}),T.jsx(xp,{w:"md"}),g==="t"&&T.jsxs(ws,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[T.jsx(ws.Target,{children:T.jsx(IR,{size:"lg",children:T.jsx($9e,{})})}),T.jsxs(ws.Dropdown,{children:[T.jsx(ws.Item,{icon:T.jsx(Iz,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),T.jsx(ws.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:T.jsx(k9e,{size:14}),children:"Contact"}),T.jsx(ws.Item,{icon:T.jsx(Iz,{size:14}),onClick:()=>v(),children:"Next Participant"})]})]})]})})]})})}function BWe(){var l,u;const e=(l=fv())==null?void 0:l.uiConfig.sidebar,t=fv(),n=Fs(),r=t.components[n],i=r?kx(r)&&t.baseComponents?iM({},(u=t.baseComponents)==null?void 0:u[r.baseComponent],r):r:null,o=XN(),s=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?T.jsxs(Xg,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&s!==""&&T.jsx(Xg.Section,{bg:"gray.3",p:"xl",children:T.jsxs(Et,{c:"gray.9",children:[T.jsx(Et,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),T.jsx(Gp,{text:s})]})}),T.jsx(Xg.Section,{p:"xl",children:T.jsx(pS,{status:o,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):T.jsx(pS,{status:o,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function zWe(){const{showHelpText:e,config:t}=$u(s=>s),n=hm(),{toggleShowHelpText:r}=dm(),[i,o]=S.useState("");return S.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${El}${t.uiConfig.helpTextPath}`).then(s=>s.text()).then(s=>o(s))},[t]),T.jsx(KR,{size:"auto",opened:e,onClose:()=>n(r()),title:"Help",children:T.jsx(Gp,{text:i})})}function UWe(){return T.jsxs(YW,{navbar:T.jsx(BWe,{}),aside:T.jsx(FWe,{}),header:T.jsx(VWe,{}),children:[T.jsx(zWe,{}),T.jsx(mce,{})]})}function HWe(){const e=fv(),{storageEngine:t}=$d(),{answers:n}=$u(o=>o),[r,i]=S.useState(!1);return S.useEffect(()=>{const o=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(o))},1e3)},[]),T.jsx(T.Fragment,{children:T.jsx(fd,{style:{height:"100%"},children:T.jsx(Sp,{direction:"column",children:r?T.jsx(Et,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?T.jsx(Gp,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):T.jsxs(T.Fragment,{children:[T.jsx(Et,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),T.jsx(xp,{h:"lg"}),T.jsx(fd,{children:T.jsx(Rd,{color:"blue"})})]})})})})}function WWe(e,t=!1){return typeof e=="number"?mU(e,t):mU(e.length,t).map(r=>r.map(i=>e[i]))}function mU(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let o=0;o<e;o++)o<2?n[o]=o:o%2==0?n[o]=e-o/2:n[o]=Math.floor(o/2)+1;let r=[n],i=n;for(let o=1;o<e;o+=1){let s=i.map(a=>(a+1)%e);r.push(s),i=s}if(t&&e%2>0)for(let o=0;o<e;o+=1)r.push(r[o].slice().reverse());return r}function tre(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=tre(i,t,n+"-"+r))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.flat().slice(0,e.numSamples?e.numSamples:void 0)}function qWe(e,t){const n=QN(e);return tre(n,t,"root"),n.components.flat().slice(0,n.numSamples?n.numSamples:void 0)}function nre(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((o,s)=>{typeof o!="string"&&nre(o,t,i,s)})}function GWe(e){const t=[];return nre(e,t,"",0),t}function gU(e,t){const n=t.split("-");let r={};n.forEach(s=>{s==="root"?r=e.sequence:r=r.components[+s]});const i=r.components.map((s,a)=>typeof s=="string"?s:`_orderObj${a}`);return WWe(i.sort(()=>.5-Math.random()),!0)}function KWe(e,t=1e3){const r=GWe(e.sequence).map(o=>({[o]:gU(e,o)})).reduce((o,s)=>({...o,...s}),{}),i=[];return Array.from({length:t}).forEach(()=>{const o=qWe(e.sequence,r);o.push("end"),i.push(o),Object.entries(r).forEach(([s,a])=>{a.length===0&&(r[s]=gU(e,s))})}),i}async function YWe(e,t){const n=await(await fetch(`${El}${e}`)).text();return zQ(n,t)}function QWe({globalConfig:e}){const{studyId:t}=dR();if(!t||!e.configsList.find(c=>s$(c)))throw new Error("Study id invalid");const[n,r]=S.useState(null);S.useEffect(()=>{const c=e.configsList.find(f=>s$(f)===t);if(c){const f=e.configs[c];YWe(`${f.path}`,c).then(d=>{r(d)})}},[e,t]);const[i,o]=S.useState([]),[s,a]=S.useState(null),{storageEngine:l}=$d();S.useEffect(()=>{async function c(){if(!l||!n||!t)return;await l.initializeStudyDb(t,n),await l.getSequenceArray()||await l.setSequenceArray(await KWe(n));const d=await l.initializeParticipantSession(),h=await Gke(t,n,d.sequence,d.answers);a(h),o(XWe(t,n,d.sequence))}c()},[l,n,t]);const u=yH(i);return!u||!s?T.jsx(rt,{style:{height:"100vh"},children:T.jsx(fd,{style:{height:"100%"},children:T.jsx(Rd,{style:{height:"100%"},size:60})})}):T.jsx(uX.Provider,{value:s,children:T.jsx(wIe,{store:s.store,children:u})})}function XWe(e,t,n){const r=[];if(e&&t&&n){const i=[];i.push({path:"/",element:T.jsx(NWe,{to:`${n[0]}`,replace:!0})}),n.forEach(s=>{s==="end"?i.push({path:"/end",element:T.jsx(HWe,{})}):i.push({path:`/${s}`,element:T.jsx(RWe,{})})});const o={element:T.jsx(UWe,{}),children:i};r.push(o)}return r}const El="/study/";async function JWe(){const t=await(await fetch(`${El}configs/global.hjson`)).text();return H$e(t)}async function ZWe(e){const t={},n=e.configsList.map(i=>`${El}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(o=>o.text()))).then(i=>Promise.all(i.map((o,s)=>zQ(o,e.configsList[s]))));return e.configsList.forEach((i,o)=>{t[i]=r[o]}),t}function eqe(){const[e,t]=S.useState(null),[n,r]=S.useState({});return S.useEffect(()=>{async function i(){e&&r(await ZWe(e))}i()},[e]),S.useEffect(()=>{e||JWe().then(i=>{t(i)})},[e]),e?T.jsx(_ce,{basename:El,children:T.jsxs(yce,{children:[T.jsx(FC,{path:"/",element:T.jsx(VPe,{globalConfig:e,studyConfigs:n})}),T.jsx(FC,{path:"/:studyId/*",element:T.jsx(QWe,{globalConfig:e})})]})}):null}class tqe{constructor(t){qs(this,"engine");qs(this,"connected",!1);qs(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}function B_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rre={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var f=typeof B_=="function"&&B_;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var g=r[u][1][p];return s(g||p)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof B_=="function"&&B_,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,u=new s(p),c=o.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var f=new o.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var y=o.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,m,v=h.length;v;){for(m=h,h=[],y=-1;++y<v;)m[y]();v=h.length}d=!1}r.exports=g;function g(y){h.push(y)===1&&!d&&a()}}).call(this,typeof Ho<"u"?Ho:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=f;function f(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,E!==s&&g(this,E)}f.prototype.catch=function(E){return this.then(null,E)},f.prototype.then=function(E,w){if(typeof E!="function"&&this.state===u||typeof w!="function"&&this.state===l)return this;var x=new this.constructor(s);if(this.state!==c){var I=this.state===u?E:w;h(x,I,this.outcome)}else this.queue.push(new d(x,E,w));return x};function d(E,w,x){this.promise=E,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(E){a.resolve(this.promise,E)},d.prototype.otherCallFulfilled=function(E){h(this.promise,this.onFulfilled,E)},d.prototype.callRejected=function(E){a.reject(this.promise,E)},d.prototype.otherCallRejected=function(E){h(this.promise,this.onRejected,E)};function h(E,w,x){o(function(){var I;try{I=w(x)}catch(D){return a.reject(E,D)}I===E?a.reject(E,new TypeError("Cannot resolve promise with itself")):a.resolve(E,I)})}a.resolve=function(E,w){var x=y(p,w);if(x.status==="error")return a.reject(E,x.value);var I=x.value;if(I)g(E,I);else{E.state=u,E.outcome=w;for(var D=-1,R=E.queue.length;++D<R;)E.queue[D].callFulfilled(w)}return E},a.reject=function(E,w){E.state=l,E.outcome=w;for(var x=-1,I=E.queue.length;++x<I;)E.queue[x].callRejected(w);return E};function p(E){var w=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof w=="function")return function(){w.apply(E,arguments)}}function g(E,w){var x=!1;function I(z){x||(x=!0,a.reject(E,z))}function D(z){x||(x=!0,a.resolve(E,z))}function R(){w(D,I)}var N=y(R);N.status==="error"&&I(N.value)}function y(E,w){var x={};try{x.value=E(w),x.status="success"}catch(I){x.status="error",x.value=I}return x}f.resolve=m;function m(E){return E instanceof this?E:a.resolve(new this(s),E)}f.reject=v;function v(E){var w=new this(s);return a.reject(w,E)}f.all=_;function _(E){var w=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=E.length,I=!1;if(!x)return this.resolve([]);for(var D=new Array(x),R=0,N=-1,z=new this(s);++N<x;)U(E[N],N);return z;function U(B,ae){w.resolve(B).then(re,function(ue){I||(I=!0,a.reject(z,ue))});function re(ue){D[ae]=ue,++R===x&&!I&&(I=!0,a.resolve(z,D))}}}f.race=b;function b(E){var w=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=E.length,I=!1;if(!x)return this.resolve([]);for(var D=-1,R=new this(s);++D<x;)N(E[D]);return R;function N(z){w.resolve(z).then(function(U){I||(I=!0,a.resolve(R,U))},function(U){I||(I=!0,a.reject(R,U))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof Ho<"u"?Ho:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function s(k,q){if(!(k instanceof q))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),q=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||q)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(k,q){k=k||[],q=q||{};try{return new Blob(k,q)}catch(X){if(X.name!=="TypeError")throw X;for(var L=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,J=new L,ne=0;ne<k.length;ne+=1)J.append(k[ne]);return J.getBlob(q.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(k,q){q&&k.then(function(L){q(null,L)},function(L){q(L)})}function h(k,q,L){typeof q=="function"&&k.then(q),typeof L=="function"&&k.catch(L)}function p(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",m=void 0,v={},_=Object.prototype.toString,b="readonly",E="readwrite";function w(k){for(var q=k.length,L=new ArrayBuffer(q),J=new Uint8Array(L),ne=0;ne<q;ne++)J[ne]=k.charCodeAt(ne);return L}function x(k){return new f(function(q){var L=k.transaction(y,E),J=c([""]);L.objectStore(y).put(J,"key"),L.onabort=function(ne){ne.preventDefault(),ne.stopPropagation(),q(!1)},L.oncomplete=function(){var ne=navigator.userAgent.match(/Chrome\/(\d+)/),X=navigator.userAgent.match(/Edge\//);q(X||!ne||parseInt(ne[1],10)>=43)}}).catch(function(){return!1})}function I(k){return typeof m=="boolean"?f.resolve(m):x(k).then(function(q){return m=q,m})}function D(k){var q=v[k.name],L={};L.promise=new f(function(J,ne){L.resolve=J,L.reject=ne}),q.deferredOperations.push(L),q.dbReady?q.dbReady=q.dbReady.then(function(){return L.promise}):q.dbReady=L.promise}function R(k){var q=v[k.name],L=q.deferredOperations.pop();if(L)return L.resolve(),L.promise}function N(k,q){var L=v[k.name],J=L.deferredOperations.pop();if(J)return J.reject(q),J.promise}function z(k,q){return new f(function(L,J){if(v[k.name]=v[k.name]||O(),k.db)if(q)D(k),k.db.close();else return L(k.db);var ne=[k.name];q&&ne.push(k.version);var X=l.open.apply(l,ne);q&&(X.onupgradeneeded=function(pe){var ve=X.result;try{ve.createObjectStore(k.storeName),pe.oldVersion<=1&&ve.createObjectStore(y)}catch(Se){if(Se.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+pe.oldVersion+" to version "+pe.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw Se}}),X.onerror=function(pe){pe.preventDefault(),J(X.error)},X.onsuccess=function(){var pe=X.result;pe.onversionchange=function(ve){ve.target.close()},L(pe),R(k)}})}function U(k){return z(k,!1)}function B(k){return z(k,!0)}function ae(k,q){if(!k.db)return!0;var L=!k.db.objectStoreNames.contains(k.storeName),J=k.version<k.db.version,ne=k.version>k.db.version;if(J&&(k.version!==q&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),ne||L){if(L){var X=k.db.version+1;X>k.version&&(k.version=X)}return!0}return!1}function re(k){return new f(function(q,L){var J=new FileReader;J.onerror=L,J.onloadend=function(ne){var X=btoa(ne.target.result||"");q({__local_forage_encoded_blob:!0,data:X,type:k.type})},J.readAsBinaryString(k)})}function ue(k){var q=w(atob(k.data));return c([q],{type:k.type})}function Q(k){return k&&k.__local_forage_encoded_blob}function ee(k){var q=this,L=q._initReady().then(function(){var J=v[q._dbInfo.name];if(J&&J.dbReady)return J.dbReady});return h(L,k,k),L}function W(k){D(k);for(var q=v[k.name],L=q.forages,J=0;J<L.length;J++){var ne=L[J];ne._dbInfo.db&&(ne._dbInfo.db.close(),ne._dbInfo.db=null)}return k.db=null,U(k).then(function(X){return k.db=X,ae(k)?B(k):X}).then(function(X){k.db=q.db=X;for(var pe=0;pe<L.length;pe++)L[pe]._dbInfo.db=X}).catch(function(X){throw N(k,X),X})}function P(k,q,L,J){J===void 0&&(J=1);try{var ne=k.db.transaction(k.storeName,q);L(null,ne)}catch(X){if(J>0&&(!k.db||X.name==="InvalidStateError"||X.name==="NotFoundError"))return f.resolve().then(function(){if(!k.db||X.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),B(k)}).then(function(){return W(k).then(function(){P(k,q,L,J-1)})}).catch(L);L(X)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(k){var q=this,L={db:null};if(k)for(var J in k)L[J]=k[J];var ne=v[L.name];ne||(ne=O(),v[L.name]=ne),ne.forages.push(q),q._initReady||(q._initReady=q.ready,q.ready=ee);var X=[];function pe(){return f.resolve()}for(var ve=0;ve<ne.forages.length;ve++){var Se=ne.forages[ve];Se!==q&&X.push(Se._initReady().catch(pe))}var Ee=ne.forages.slice(0);return f.all(X).then(function(){return L.db=ne.db,U(L)}).then(function(Ie){return L.db=Ie,ae(L,q._defaultConfig.version)?B(L):Ie}).then(function(Ie){L.db=ne.db=Ie,q._dbInfo=L;for(var We=0;We<Ee.length;We++){var kt=Ee[We];kt!==q&&(kt._dbInfo.db=L.db,kt._dbInfo.version=L.version)}})}function $(k,q){var L=this;k=p(k);var J=new f(function(ne,X){L.ready().then(function(){P(L._dbInfo,b,function(pe,ve){if(pe)return X(pe);try{var Se=ve.objectStore(L._dbInfo.storeName),Ee=Se.get(k);Ee.onsuccess=function(){var Ie=Ee.result;Ie===void 0&&(Ie=null),Q(Ie)&&(Ie=ue(Ie)),ne(Ie)},Ee.onerror=function(){X(Ee.error)}}catch(Ie){X(Ie)}})}).catch(X)});return d(J,q),J}function C(k,q){var L=this,J=new f(function(ne,X){L.ready().then(function(){P(L._dbInfo,b,function(pe,ve){if(pe)return X(pe);try{var Se=ve.objectStore(L._dbInfo.storeName),Ee=Se.openCursor(),Ie=1;Ee.onsuccess=function(){var We=Ee.result;if(We){var kt=We.value;Q(kt)&&(kt=ue(kt));var ln=k(kt,We.key,Ie++);ln!==void 0?ne(ln):We.continue()}else ne()},Ee.onerror=function(){X(Ee.error)}}catch(We){X(We)}})}).catch(X)});return d(J,q),J}function H(k,q,L){var J=this;k=p(k);var ne=new f(function(X,pe){var ve;J.ready().then(function(){return ve=J._dbInfo,_.call(q)==="[object Blob]"?I(ve.db).then(function(Se){return Se?q:re(q)}):q}).then(function(Se){P(J._dbInfo,E,function(Ee,Ie){if(Ee)return pe(Ee);try{var We=Ie.objectStore(J._dbInfo.storeName);Se===null&&(Se=void 0);var kt=We.put(Se,k);Ie.oncomplete=function(){Se===void 0&&(Se=null),X(Se)},Ie.onabort=Ie.onerror=function(){var ln=kt.error?kt.error:kt.transaction.error;pe(ln)}}catch(ln){pe(ln)}})}).catch(pe)});return d(ne,L),ne}function te(k,q){var L=this;k=p(k);var J=new f(function(ne,X){L.ready().then(function(){P(L._dbInfo,E,function(pe,ve){if(pe)return X(pe);try{var Se=ve.objectStore(L._dbInfo.storeName),Ee=Se.delete(k);ve.oncomplete=function(){ne()},ve.onerror=function(){X(Ee.error)},ve.onabort=function(){var Ie=Ee.error?Ee.error:Ee.transaction.error;X(Ie)}}catch(Ie){X(Ie)}})}).catch(X)});return d(J,q),J}function ie(k){var q=this,L=new f(function(J,ne){q.ready().then(function(){P(q._dbInfo,E,function(X,pe){if(X)return ne(X);try{var ve=pe.objectStore(q._dbInfo.storeName),Se=ve.clear();pe.oncomplete=function(){J()},pe.onabort=pe.onerror=function(){var Ee=Se.error?Se.error:Se.transaction.error;ne(Ee)}}catch(Ee){ne(Ee)}})}).catch(ne)});return d(L,k),L}function le(k){var q=this,L=new f(function(J,ne){q.ready().then(function(){P(q._dbInfo,b,function(X,pe){if(X)return ne(X);try{var ve=pe.objectStore(q._dbInfo.storeName),Se=ve.count();Se.onsuccess=function(){J(Se.result)},Se.onerror=function(){ne(Se.error)}}catch(Ee){ne(Ee)}})}).catch(ne)});return d(L,k),L}function se(k,q){var L=this,J=new f(function(ne,X){if(k<0){ne(null);return}L.ready().then(function(){P(L._dbInfo,b,function(pe,ve){if(pe)return X(pe);try{var Se=ve.objectStore(L._dbInfo.storeName),Ee=!1,Ie=Se.openKeyCursor();Ie.onsuccess=function(){var We=Ie.result;if(!We){ne(null);return}k===0||Ee?ne(We.key):(Ee=!0,We.advance(k))},Ie.onerror=function(){X(Ie.error)}}catch(We){X(We)}})}).catch(X)});return d(J,q),J}function ye(k){var q=this,L=new f(function(J,ne){q.ready().then(function(){P(q._dbInfo,b,function(X,pe){if(X)return ne(X);try{var ve=pe.objectStore(q._dbInfo.storeName),Se=ve.openKeyCursor(),Ee=[];Se.onsuccess=function(){var Ie=Se.result;if(!Ie){J(Ee);return}Ee.push(Ie.key),Ie.continue()},Se.onerror=function(){ne(Se.error)}}catch(Ie){ne(Ie)}})}).catch(ne)});return d(L,k),L}function ce(k,q){q=g.apply(this,arguments);var L=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||L.name,k.storeName=k.storeName||L.storeName);var J=this,ne;if(!k.name)ne=f.reject("Invalid arguments");else{var X=k.name===L.name&&J._dbInfo.db,pe=X?f.resolve(J._dbInfo.db):U(k).then(function(ve){var Se=v[k.name],Ee=Se.forages;Se.db=ve;for(var Ie=0;Ie<Ee.length;Ie++)Ee[Ie]._dbInfo.db=ve;return ve});k.storeName?ne=pe.then(function(ve){if(ve.objectStoreNames.contains(k.storeName)){var Se=ve.version+1;D(k);var Ee=v[k.name],Ie=Ee.forages;ve.close();for(var We=0;We<Ie.length;We++){var kt=Ie[We];kt._dbInfo.db=null,kt._dbInfo.version=Se}var ln=new f(function(pn,dr){var qn=l.open(k.name,Se);qn.onerror=function(ao){var df=qn.result;df.close(),dr(ao)},qn.onupgradeneeded=function(){var ao=qn.result;ao.deleteObjectStore(k.storeName)},qn.onsuccess=function(){var ao=qn.result;ao.close(),pn(ao)}});return ln.then(function(pn){Ee.db=pn;for(var dr=0;dr<Ie.length;dr++){var qn=Ie[dr];qn._dbInfo.db=pn,R(qn._dbInfo)}}).catch(function(pn){throw(N(k,pn)||f.resolve()).catch(function(){}),pn})}}):ne=pe.then(function(ve){D(k);var Se=v[k.name],Ee=Se.forages;ve.close();for(var Ie=0;Ie<Ee.length;Ie++){var We=Ee[Ie];We._dbInfo.db=null}var kt=new f(function(ln,pn){var dr=l.deleteDatabase(k.name);dr.onerror=function(){var qn=dr.result;qn&&qn.close(),pn(dr.error)},dr.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},dr.onsuccess=function(){var qn=dr.result;qn&&qn.close(),ln(qn)}});return kt.then(function(ln){Se.db=ln;for(var pn=0;pn<Ee.length;pn++){var dr=Ee[pn];R(dr._dbInfo)}}).catch(function(ln){throw(N(k,ln)||f.resolve()).catch(function(){}),ln})})}return d(ne,q),ne}var Ue={_driver:"asyncStorage",_initStorage:F,_support:u(),iterate:C,getItem:$,setItem:H,removeItem:te,clear:ie,length:le,key:se,keys:ye,dropInstance:ce};function Fe(){return typeof openDatabase=="function"}var Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Te="~~local_forage_type~",we=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Ht=Ne.length,Ce="arbf",Re="blob",dt="si08",De="ui08",lt="uic8",Ft="si16",Jt="si32",jn="ur16",oe="ui32",me="fl32",$e="fl64",Je=Ht+Ce.length,Oe=Object.prototype.toString;function Ze(k){var q=k.length*.75,L=k.length,J,ne=0,X,pe,ve,Se;k[k.length-1]==="="&&(q--,k[k.length-2]==="="&&q--);var Ee=new ArrayBuffer(q),Ie=new Uint8Array(Ee);for(J=0;J<L;J+=4)X=Me.indexOf(k[J]),pe=Me.indexOf(k[J+1]),ve=Me.indexOf(k[J+2]),Se=Me.indexOf(k[J+3]),Ie[ne++]=X<<2|pe>>4,Ie[ne++]=(pe&15)<<4|ve>>2,Ie[ne++]=(ve&3)<<6|Se&63;return Ee}function ke(k){var q=new Uint8Array(k),L="",J;for(J=0;J<q.length;J+=3)L+=Me[q[J]>>2],L+=Me[(q[J]&3)<<4|q[J+1]>>4],L+=Me[(q[J+1]&15)<<2|q[J+2]>>6],L+=Me[q[J+2]&63];return q.length%3===2?L=L.substring(0,L.length-1)+"=":q.length%3===1&&(L=L.substring(0,L.length-2)+"=="),L}function Ke(k,q){var L="";if(k&&(L=Oe.call(k)),k&&(L==="[object ArrayBuffer]"||k.buffer&&Oe.call(k.buffer)==="[object ArrayBuffer]")){var J,ne=Ne;k instanceof ArrayBuffer?(J=k,ne+=Ce):(J=k.buffer,L==="[object Int8Array]"?ne+=dt:L==="[object Uint8Array]"?ne+=De:L==="[object Uint8ClampedArray]"?ne+=lt:L==="[object Int16Array]"?ne+=Ft:L==="[object Uint16Array]"?ne+=jn:L==="[object Int32Array]"?ne+=Jt:L==="[object Uint32Array]"?ne+=oe:L==="[object Float32Array]"?ne+=me:L==="[object Float64Array]"?ne+=$e:q(new Error("Failed to get type for BinaryArray"))),q(ne+ke(J))}else if(L==="[object Blob]"){var X=new FileReader;X.onload=function(){var pe=Te+k.type+"~"+ke(this.result);q(Ne+Re+pe)},X.readAsArrayBuffer(k)}else try{q(JSON.stringify(k))}catch(pe){console.error("Couldn't convert value into a JSON string: ",k),q(null,pe)}}function dn(k){if(k.substring(0,Ht)!==Ne)return JSON.parse(k);var q=k.substring(Je),L=k.substring(Ht,Je),J;if(L===Re&&we.test(q)){var ne=q.match(we);J=ne[1],q=q.substring(ne[0].length)}var X=Ze(q);switch(L){case Ce:return X;case Re:return c([X],{type:J});case dt:return new Int8Array(X);case De:return new Uint8Array(X);case lt:return new Uint8ClampedArray(X);case Ft:return new Int16Array(X);case jn:return new Uint16Array(X);case Jt:return new Int32Array(X);case oe:return new Uint32Array(X);case me:return new Float32Array(X);case $e:return new Float64Array(X);default:throw new Error("Unkown type: "+L)}}var Mt={serialize:Ke,deserialize:dn,stringToBuffer:Ze,bufferToString:ke};function gt(k,q,L,J){k.executeSql("CREATE TABLE IF NOT EXISTS "+q.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],L,J)}function Cn(k){var q=this,L={db:null};if(k)for(var J in k)L[J]=typeof k[J]!="string"?k[J].toString():k[J];var ne=new f(function(X,pe){try{L.db=openDatabase(L.name,String(L.version),L.description,L.size)}catch(ve){return pe(ve)}L.db.transaction(function(ve){gt(ve,L,function(){q._dbInfo=L,X()},function(Se,Ee){pe(Ee)})},pe)});return L.serializer=Mt,ne}function hn(k,q,L,J,ne,X){k.executeSql(L,J,ne,function(pe,ve){ve.code===ve.SYNTAX_ERR?pe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[q.storeName],function(Se,Ee){Ee.rows.length?X(Se,ve):gt(Se,q,function(){Se.executeSql(L,J,ne,X)},X)},X):X(pe,ve)},X)}function Ws(k,q){var L=this;k=p(k);var J=new f(function(ne,X){L.ready().then(function(){var pe=L._dbInfo;pe.db.transaction(function(ve){hn(ve,pe,"SELECT * FROM "+pe.storeName+" WHERE key = ? LIMIT 1",[k],function(Se,Ee){var Ie=Ee.rows.length?Ee.rows.item(0).value:null;Ie&&(Ie=pe.serializer.deserialize(Ie)),ne(Ie)},function(Se,Ee){X(Ee)})})}).catch(X)});return d(J,q),J}function tr(k,q){var L=this,J=new f(function(ne,X){L.ready().then(function(){var pe=L._dbInfo;pe.db.transaction(function(ve){hn(ve,pe,"SELECT * FROM "+pe.storeName,[],function(Se,Ee){for(var Ie=Ee.rows,We=Ie.length,kt=0;kt<We;kt++){var ln=Ie.item(kt),pn=ln.value;if(pn&&(pn=pe.serializer.deserialize(pn)),pn=k(pn,ln.key,kt+1),pn!==void 0){ne(pn);return}}ne()},function(Se,Ee){X(Ee)})})}).catch(X)});return d(J,q),J}function xi(k,q,L,J){var ne=this;k=p(k);var X=new f(function(pe,ve){ne.ready().then(function(){q===void 0&&(q=null);var Se=q,Ee=ne._dbInfo;Ee.serializer.serialize(q,function(Ie,We){We?ve(We):Ee.db.transaction(function(kt){hn(kt,Ee,"INSERT OR REPLACE INTO "+Ee.storeName+" (key, value) VALUES (?, ?)",[k,Ie],function(){pe(Se)},function(ln,pn){ve(pn)})},function(kt){if(kt.code===kt.QUOTA_ERR){if(J>0){pe(xi.apply(ne,[k,Se,L,J-1]));return}ve(kt)}})})}).catch(ve)});return d(X,L),X}function cr(k,q,L){return xi.apply(this,[k,q,L,1])}function Pr(k,q){var L=this;k=p(k);var J=new f(function(ne,X){L.ready().then(function(){var pe=L._dbInfo;pe.db.transaction(function(ve){hn(ve,pe,"DELETE FROM "+pe.storeName+" WHERE key = ?",[k],function(){ne()},function(Se,Ee){X(Ee)})})}).catch(X)});return d(J,q),J}function nr(k){var q=this,L=new f(function(J,ne){q.ready().then(function(){var X=q._dbInfo;X.db.transaction(function(pe){hn(pe,X,"DELETE FROM "+X.storeName,[],function(){J()},function(ve,Se){ne(Se)})})}).catch(ne)});return d(L,k),L}function $n(k){var q=this,L=new f(function(J,ne){q.ready().then(function(){var X=q._dbInfo;X.db.transaction(function(pe){hn(pe,X,"SELECT COUNT(key) as c FROM "+X.storeName,[],function(ve,Se){var Ee=Se.rows.item(0).c;J(Ee)},function(ve,Se){ne(Se)})})}).catch(ne)});return d(L,k),L}function Wt(k,q){var L=this,J=new f(function(ne,X){L.ready().then(function(){var pe=L._dbInfo;pe.db.transaction(function(ve){hn(ve,pe,"SELECT key FROM "+pe.storeName+" WHERE id = ? LIMIT 1",[k+1],function(Se,Ee){var Ie=Ee.rows.length?Ee.rows.item(0).key:null;ne(Ie)},function(Se,Ee){X(Ee)})})}).catch(X)});return d(J,q),J}function Yr(k){var q=this,L=new f(function(J,ne){q.ready().then(function(){var X=q._dbInfo;X.db.transaction(function(pe){hn(pe,X,"SELECT key FROM "+X.storeName,[],function(ve,Se){for(var Ee=[],Ie=0;Ie<Se.rows.length;Ie++)Ee.push(Se.rows.item(Ie).key);J(Ee)},function(ve,Se){ne(Se)})})}).catch(ne)});return d(L,k),L}function fr(k){return new f(function(q,L){k.transaction(function(J){J.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ne,X){for(var pe=[],ve=0;ve<X.rows.length;ve++)pe.push(X.rows.item(ve).name);q({db:k,storeNames:pe})},function(ne,X){L(X)})},function(J){L(J)})})}function Ir(k,q){q=g.apply(this,arguments);var L=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||L.name,k.storeName=k.storeName||L.storeName);var J=this,ne;return k.name?ne=new f(function(X){var pe;k.name===L.name?pe=J._dbInfo.db:pe=openDatabase(k.name,"","",0),k.storeName?X({db:pe,storeNames:[k.storeName]}):X(fr(pe))}).then(function(X){return new f(function(pe,ve){X.db.transaction(function(Se){function Ee(ln){return new f(function(pn,dr){Se.executeSql("DROP TABLE IF EXISTS "+ln,[],function(){pn()},function(qn,ao){dr(ao)})})}for(var Ie=[],We=0,kt=X.storeNames.length;We<kt;We++)Ie.push(Ee(X.storeNames[We]));f.all(Ie).then(function(){pe()}).catch(function(ln){ve(ln)})},function(Se){ve(Se)})})}):ne=f.reject("Invalid arguments"),d(ne,q),ne}var si={_driver:"webSQLStorage",_initStorage:Cn,_support:Fe(),iterate:tr,getItem:Ws,setItem:cr,removeItem:Pr,clear:nr,length:$n,key:Wt,keys:Yr,dropInstance:Ir};function oo(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function G(k,q){var L=k.name+"/";return k.storeName!==q.storeName&&(L+=k.storeName+"/"),L}function j(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function Y(){return!j()||localStorage.length>0}function de(k){var q=this,L={};if(k)for(var J in k)L[J]=k[J];return L.keyPrefix=G(k,q._defaultConfig),Y()?(q._dbInfo=L,L.serializer=Mt,f.resolve()):f.reject()}function fe(k){var q=this,L=q.ready().then(function(){for(var J=q._dbInfo.keyPrefix,ne=localStorage.length-1;ne>=0;ne--){var X=localStorage.key(ne);X.indexOf(J)===0&&localStorage.removeItem(X)}});return d(L,k),L}function Ve(k,q){var L=this;k=p(k);var J=L.ready().then(function(){var ne=L._dbInfo,X=localStorage.getItem(ne.keyPrefix+k);return X&&(X=ne.serializer.deserialize(X)),X});return d(J,q),J}function ge(k,q){var L=this,J=L.ready().then(function(){for(var ne=L._dbInfo,X=ne.keyPrefix,pe=X.length,ve=localStorage.length,Se=1,Ee=0;Ee<ve;Ee++){var Ie=localStorage.key(Ee);if(Ie.indexOf(X)===0){var We=localStorage.getItem(Ie);if(We&&(We=ne.serializer.deserialize(We)),We=k(We,Ie.substring(pe),Se++),We!==void 0)return We}}});return d(J,q),J}function Le(k,q){var L=this,J=L.ready().then(function(){var ne=L._dbInfo,X;try{X=localStorage.key(k)}catch{X=null}return X&&(X=X.substring(ne.keyPrefix.length)),X});return d(J,q),J}function tt(k){var q=this,L=q.ready().then(function(){for(var J=q._dbInfo,ne=localStorage.length,X=[],pe=0;pe<ne;pe++){var ve=localStorage.key(pe);ve.indexOf(J.keyPrefix)===0&&X.push(ve.substring(J.keyPrefix.length))}return X});return d(L,k),L}function Ge(k){var q=this,L=q.keys().then(function(J){return J.length});return d(L,k),L}function at(k,q){var L=this;k=p(k);var J=L.ready().then(function(){var ne=L._dbInfo;localStorage.removeItem(ne.keyPrefix+k)});return d(J,q),J}function Tt(k,q,L){var J=this;k=p(k);var ne=J.ready().then(function(){q===void 0&&(q=null);var X=q;return new f(function(pe,ve){var Se=J._dbInfo;Se.serializer.serialize(q,function(Ee,Ie){if(Ie)ve(Ie);else try{localStorage.setItem(Se.keyPrefix+k,Ee),pe(X)}catch(We){(We.name==="QuotaExceededError"||We.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ve(We),ve(We)}})})});return d(ne,L),ne}function Pn(k,q){if(q=g.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var L=this.config();k.name=k.name||L.name,k.storeName=k.storeName||L.storeName}var J=this,ne;return k.name?ne=new f(function(X){k.storeName?X(G(k,J._defaultConfig)):X(k.name+"/")}).then(function(X){for(var pe=localStorage.length-1;pe>=0;pe--){var ve=localStorage.key(pe);ve.indexOf(X)===0&&localStorage.removeItem(ve)}}):ne=f.reject("Invalid arguments"),d(ne,q),ne}var ot={_driver:"localStorageWrapper",_initStorage:de,_support:oo(),iterate:ge,getItem:Ve,setItem:Tt,removeItem:at,clear:fe,length:Ge,key:Le,keys:tt,dropInstance:Pn},vn=function(q,L){return q===L||typeof q=="number"&&typeof L=="number"&&isNaN(q)&&isNaN(L)},ht=function(q,L){for(var J=q.length,ne=0;ne<J;){if(vn(q[ne],L))return!0;ne++}return!1},an=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},Wn={},Mr={},br={INDEXEDDB:Ue,WEBSQL:si,LOCALSTORAGE:ot},Gi=[br.INDEXEDDB._driver,br.WEBSQL._driver,br.LOCALSTORAGE._driver],ai=["dropInstance"],rr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ai),ze={description:"",driver:Gi.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Dt(k,q){k[q]=function(){var L=arguments;return k.ready().then(function(){return k[q].apply(k,L)})}}function Nn(){for(var k=1;k<arguments.length;k++){var q=arguments[k];if(q)for(var L in q)q.hasOwnProperty(L)&&(an(q[L])?arguments[0][L]=q[L].slice():arguments[0][L]=q[L])}return arguments[0]}var Qr=function(){function k(q){s(this,k);for(var L in br)if(br.hasOwnProperty(L)){var J=br[L],ne=J._driver;this[L]=ne,Wn[ne]||this.defineDriver(J)}this._defaultConfig=Nn({},ze),this._config=Nn({},this._defaultConfig,q),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(L){if((typeof L>"u"?"undefined":o(L))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var J in L){if(J==="storeName"&&(L[J]=L[J].replace(/\W/g,"_")),J==="version"&&typeof L[J]!="number")return new Error("Database version must be a number.");this._config[J]=L[J]}return"driver"in L&&L.driver?this.setDriver(this._config.driver):!0}else return typeof L=="string"?this._config[L]:this._config},k.prototype.defineDriver=function(L,J,ne){var X=new f(function(pe,ve){try{var Se=L._driver,Ee=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!L._driver){ve(Ee);return}for(var Ie=rr.concat("_initStorage"),We=0,kt=Ie.length;We<kt;We++){var ln=Ie[We],pn=!ht(ai,ln);if((pn||L[ln])&&typeof L[ln]!="function"){ve(Ee);return}}var dr=function(){for(var df=function(oI){return function(){var Kd=new Error("Method "+oI+" is not implemented by the current driver"),Yd=f.reject(Kd);return d(Yd,arguments[arguments.length-1]),Yd}},Mm=0,Lm=ai.length;Mm<Lm;Mm++){var jm=ai[Mm];L[jm]||(L[jm]=df(jm))}};dr();var qn=function(df){Wn[Se]&&console.info("Redefining LocalForage driver: "+Se),Wn[Se]=L,Mr[Se]=df,pe()};"_support"in L?L._support&&typeof L._support=="function"?L._support().then(qn,ve):qn(!!L._support):qn(!0)}catch(ao){ve(ao)}});return h(X,J,ne),X},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(L,J,ne){var X=Wn[L]?f.resolve(Wn[L]):f.reject(new Error("Driver not found."));return h(X,J,ne),X},k.prototype.getSerializer=function(L){var J=f.resolve(Mt);return h(J,L),J},k.prototype.ready=function(L){var J=this,ne=J._driverSet.then(function(){return J._ready===null&&(J._ready=J._initDriver()),J._ready});return h(ne,L,L),ne},k.prototype.setDriver=function(L,J,ne){var X=this;an(L)||(L=[L]);var pe=this._getSupportedDrivers(L);function ve(){X._config.driver=X.driver()}function Se(We){return X._extend(We),ve(),X._ready=X._initStorage(X._config),X._ready}function Ee(We){return function(){var kt=0;function ln(){for(;kt<We.length;){var pn=We[kt];return kt++,X._dbInfo=null,X._ready=null,X.getDriver(pn).then(Se).catch(ln)}ve();var dr=new Error("No available storage method found.");return X._driverSet=f.reject(dr),X._driverSet}return ln()}}var Ie=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Ie.then(function(){var We=pe[0];return X._dbInfo=null,X._ready=null,X.getDriver(We).then(function(kt){X._driver=kt._driver,ve(),X._wrapLibraryMethodsWithReady(),X._initDriver=Ee(pe)})}).catch(function(){ve();var We=new Error("No available storage method found.");return X._driverSet=f.reject(We),X._driverSet}),h(this._driverSet,J,ne),this._driverSet},k.prototype.supports=function(L){return!!Mr[L]},k.prototype._extend=function(L){Nn(this,L)},k.prototype._getSupportedDrivers=function(L){for(var J=[],ne=0,X=L.length;ne<X;ne++){var pe=L[ne];this.supports(pe)&&J.push(pe)}return J},k.prototype._wrapLibraryMethodsWithReady=function(){for(var L=0,J=rr.length;L<J;L++)Dt(this,rr[L])},k.prototype.createInstance=function(L){return new k(L)},k}(),so=new Qr;r.exports=so},{3:3}]},{},[4])(4)})})(rre);var nqe=rre.exports;const rqe=wa(nqe);var yU={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},iqe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},oM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ire(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):iqe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new oqe;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class oqe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sqe=function(e){const t=ire(e);return oM.encodeByteArray(t,!0)},lE=function(e){return sqe(e).replace(/\./g,"")},ore=function(e){try{return oM.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aqe=()=>sre().__FIREBASE_DEFAULTS__,lqe=()=>{if(typeof process>"u"||typeof yU>"u")return;const e=yU.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},uqe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ore(e[1]);return t&&JSON.parse(t)},sM=()=>{try{return aqe()||lqe()||uqe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},are=e=>{var t,n;return(n=(t=sM())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},cqe=e=>{const t=are(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},lre=()=>{var e;return(e=sM())===null||e===void 0?void 0:e.config},ure=e=>{var t;return(t=sM())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fqe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[lE(JSON.stringify(n)),lE(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dqe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zi())}function hqe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pqe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mqe(){const e=zi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function aM(){try{return typeof indexedDB=="object"}catch{return!1}}function gqe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yqe="FirebaseError";class xl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=yqe,Object.setPrototypeOf(this,xl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Om.prototype.create)}}class Om{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?vqe(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new xl(i,a,r)}}function vqe(e,t){return e.replace(_qe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const _qe=/\{\$([^}]+)}/g;function wqe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function hv(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(vU(o)&&vU(s)){if(!hv(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vU(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function bqe(e,t){const n=new Sqe(e,t);return n.subscribe.bind(n)}class Sqe{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Eqe(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=ST),i.error===void 0&&(i.error=ST),i.complete===void 0&&(i.complete=ST);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eqe(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ST(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xqe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pqe=1e3,Iqe=2,Oqe=4*60*60*1e3,Tqe=.5;function Cqe(e,t=Pqe,n=Iqe){const r=t*Math.pow(n,e),i=Math.round(Tqe*r*(Math.random()-.5)*2);return Math.min(Oqe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){return e&&e._delegate?e._delegate:e}class gl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $qe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new dv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Aqe(t))try{this.getOrInitializeService({instanceIdentifier:Pf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Pf){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pf){return this.instances.has(t)}getOptions(t=Pf){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kqe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pf){return this.component?this.component.multipleInstances?t:Pf:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kqe(e){return e===Pf?void 0:e}function Aqe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rqe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $qe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Kt||(Kt={}));const Nqe={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},Dqe=Kt.INFO,Mqe={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},Lqe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Mqe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class PP{constructor(t){this.name=t,this._logLevel=Dqe,this._logHandler=Lqe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Nqe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...t),this._logHandler(this,Kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...t),this._logHandler(this,Kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...t),this._logHandler(this,Kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...t),this._logHandler(this,Kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...t),this._logHandler(this,Kt.ERROR,...t)}}const jqe=(e,t)=>t.some(n=>e instanceof n);let _U,wU;function Fqe(){return _U||(_U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vqe(){return wU||(wU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cre=new WeakMap,Lk=new WeakMap,fre=new WeakMap,ET=new WeakMap,lM=new WeakMap;function Bqe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Tc(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&cre.set(n,e)}).catch(()=>{}),lM.set(t,e),t}function zqe(e){if(Lk.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Lk.set(e,t)}let jk={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Lk.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fre.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Uqe(e){jk=e(jk)}function Hqe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(xT(this),t,...n);return fre.set(r,t.sort?t.sort():[t]),Tc(r)}:Vqe().includes(e)?function(...t){return e.apply(xT(this),t),Tc(cre.get(this))}:function(...t){return Tc(e.apply(xT(this),t))}}function Wqe(e){return typeof e=="function"?Hqe(e):(e instanceof IDBTransaction&&zqe(e),jqe(e,Fqe())?new Proxy(e,jk):e)}function Tc(e){if(e instanceof IDBRequest)return Bqe(e);if(ET.has(e))return ET.get(e);const t=Wqe(e);return t!==e&&(ET.set(e,t),lM.set(t,e)),t}const xT=e=>lM.get(e);function qqe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Tc(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Tc(s.result),l.oldVersion,l.newVersion,Tc(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Gqe=["get","getKey","getAll","getAllKeys","count"],Kqe=["put","add","delete","clear"],PT=new Map;function bU(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(PT.get(t))return PT.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Kqe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Gqe.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return PT.set(t,o),o}Uqe(e=>({...e,get:(t,n,r)=>bU(t,n)||e.get(t,n,r),has:(t,n)=>!!bU(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yqe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qqe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Qqe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fk="@firebase/app",SU="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new PP("@firebase/app"),Xqe="@firebase/app-compat",Jqe="@firebase/analytics-compat",Zqe="@firebase/analytics",eGe="@firebase/app-check-compat",tGe="@firebase/app-check",nGe="@firebase/auth",rGe="@firebase/auth-compat",iGe="@firebase/database",oGe="@firebase/database-compat",sGe="@firebase/functions",aGe="@firebase/functions-compat",lGe="@firebase/installations",uGe="@firebase/installations-compat",cGe="@firebase/messaging",fGe="@firebase/messaging-compat",dGe="@firebase/performance",hGe="@firebase/performance-compat",pGe="@firebase/remote-config",mGe="@firebase/remote-config-compat",gGe="@firebase/storage",yGe="@firebase/storage-compat",vGe="@firebase/firestore",_Ge="@firebase/firestore-compat",wGe="firebase",bGe="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="[DEFAULT]",SGe={[Fk]:"fire-core",[Xqe]:"fire-core-compat",[Zqe]:"fire-analytics",[Jqe]:"fire-analytics-compat",[tGe]:"fire-app-check",[eGe]:"fire-app-check-compat",[nGe]:"fire-auth",[rGe]:"fire-auth-compat",[iGe]:"fire-rtdb",[oGe]:"fire-rtdb-compat",[sGe]:"fire-fn",[aGe]:"fire-fn-compat",[lGe]:"fire-iid",[uGe]:"fire-iid-compat",[cGe]:"fire-fcm",[fGe]:"fire-fcm-compat",[dGe]:"fire-perf",[hGe]:"fire-perf-compat",[pGe]:"fire-rc",[mGe]:"fire-rc-compat",[gGe]:"fire-gcs",[yGe]:"fire-gcs-compat",[vGe]:"fire-fst",[_Ge]:"fire-fst-compat","fire-js":"fire-js",[wGe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map,Bk=new Map;function EGe(e,t){try{e.container.addComponent(t)}catch(n){bd.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _u(e){const t=e.name;if(Bk.has(t))return bd.debug(`There were multiple attempts to register component ${t}.`),!1;Bk.set(t,e);for(const n of uE.values())EGe(n,e);return!0}function Tm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xGe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cc=new Om("app","Firebase",xGe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PGe{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=bGe;function dre(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Vk,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Cc.create("bad-app-name",{appName:String(i)});if(n||(n=lre()),!n)throw Cc.create("no-options");const o=uE.get(i);if(o){if(hv(n,o.options)&&hv(r,o.config))return o;throw Cc.create("duplicate-app",{appName:i})}const s=new Rqe(i);for(const l of Bk.values())s.addComponent(l);const a=new PGe(n,r,s);return uE.set(i,a),a}function uM(e=Vk){const t=uE.get(e);if(!t&&e===Vk&&lre())return dre();if(!t)throw Cc.create("no-app",{appName:e});return t}function pa(e,t,n){var r;let i=(r=SGe[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bd.warn(a.join(" "));return}_u(new gl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IGe="firebase-heartbeat-database",OGe=1,pv="firebase-heartbeat-store";let IT=null;function hre(){return IT||(IT=qqe(IGe,OGe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(pv)}}}).catch(e=>{throw Cc.create("idb-open",{originalErrorMessage:e.message})})),IT}async function TGe(e){try{return await(await hre()).transaction(pv).objectStore(pv).get(pre(e))}catch(t){if(t instanceof xl)bd.warn(t.message);else{const n=Cc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});bd.warn(n.message)}}}async function EU(e,t){try{const r=(await hre()).transaction(pv,"readwrite");await r.objectStore(pv).put(t,pre(e)),await r.done}catch(n){if(n instanceof xl)bd.warn(n.message);else{const r=Cc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bd.warn(r.message)}}}function pre(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CGe=1024,$Ge=30*24*60*60*1e3;class kGe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RGe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xU();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=$Ge}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xU(),{heartbeatsToSend:r,unsentEntries:i}=AGe(this._heartbeatsCache.heartbeats),o=lE(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function xU(){return new Date().toISOString().substring(0,10)}function AGe(e,t=CGe){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PU(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PU(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RGe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aM()?gqe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TGe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return EU(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return EU(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function PU(e){return lE(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NGe(e){_u(new gl("platform-logger",t=>new Yqe(t),"PRIVATE")),_u(new gl("heartbeat",t=>new kGe(t),"PRIVATE")),pa(Fk,SU,e),pa(Fk,SU,"esm2017"),pa("fire-js","")}NGe("");var DGe="firebase",MGe="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pa(DGe,MGe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre="firebasestorage.googleapis.com",gre="storageBucket",LGe=2*60*1e3,jGe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends xl{constructor(t,n,r=0){super(OT(t),`Firebase Storage: ${n} (${OT(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return OT(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vr||(vr={}));function OT(e){return"storage/"+e}function cM(){const e="An unknown error occurred, please check the error payload for server response.";return new wr(vr.UNKNOWN,e)}function FGe(e){return new wr(vr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function VGe(e){return new wr(vr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function BGe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wr(vr.UNAUTHENTICATED,e)}function zGe(){return new wr(vr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function UGe(e){return new wr(vr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function HGe(){return new wr(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WGe(){return new wr(vr.CANCELED,"User canceled the upload/download.")}function qGe(e){return new wr(vr.INVALID_URL,"Invalid URL '"+e+"'.")}function GGe(e){return new wr(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function KGe(){return new wr(vr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gre+"' property when initializing the app?")}function YGe(){return new wr(vr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QGe(){return new wr(vr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XGe(e){return new wr(vr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zk(e){return new wr(vr.INVALID_ARGUMENT,e)}function yre(){return new wr(vr.APP_DELETED,"The Firebase app was deleted.")}function JGe(e){return new wr(vr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function py(e,t){return new wr(vr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function pg(e){throw new wr(vr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Go.makeFromUrl(t,n)}catch{return new Go(t,"")}if(r.path==="")return r;throw GGe(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===mre?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${y}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<_.length;b++){const E=_[b],w=E.regex.exec(t);if(w){const x=w[E.indices.bucket];let I=w[E.indices.path];I||(I=""),r=new Go(x,I),E.postModify(r);break}}if(r==null)throw qGe(t);return r}}class ZGe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eKe(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,l())},y)}function d(){o&&clearTimeout(o)}function h(y,...m){if(u){d();return}if(y){d(),c.call(null,y,...m);return}if(l()||s){d(),c.call(null,y,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let p=!1;function g(y){p||(p=!0,d(),!u&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,g(!0)},n),g}function tKe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nKe(e){return e!==void 0}function rKe(e){return typeof e=="object"&&!Array.isArray(e)}function fM(e){return typeof e=="string"||e instanceof String}function IU(e){return dM()&&e instanceof Blob}function dM(){return typeof Blob<"u"}function OU(e,t,n,r){if(r<t)throw zk(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw zk(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function vre(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var td;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(td||(td={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iKe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oKe{constructor(t,n,r,i,o,s,a,l,u,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new z_(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===td.NO_ERROR,l=o.getStatus();if(!a||iKe(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===td.ABORT;r(!1,new z_(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new z_(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());nKe(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=cM();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?yre():WGe();s(l)}else{const l=HGe();s(l)}};this.canceled_?n(!1,new z_(!1,null,!0)):this.backoffId_=eKe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&tKe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class z_{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function sKe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function aKe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function lKe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function uKe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function cKe(e,t,n,r,i,o,s=!0){const a=vre(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return lKe(u,t),sKe(u,n),aKe(u,o),uKe(u,r),new oKe(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fKe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dKe(...e){const t=fKe();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(dM())return new Blob(e);throw new wr(vr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hKe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pKe(e){if(typeof atob>"u")throw XGe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class TT{constructor(t,n){this.data=t,this.contentType=n||null}}function mKe(e,t){switch(e){case Ga.RAW:return new TT(_re(t));case Ga.BASE64:case Ga.BASE64URL:return new TT(wre(e,t));case Ga.DATA_URL:return new TT(yKe(t),vKe(t))}throw cM()}function _re(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function gKe(e){let t;try{t=decodeURIComponent(e)}catch{throw py(Ga.DATA_URL,"Malformed data URL.")}return _re(t)}function wre(e,t){switch(e){case Ga.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw py(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ga.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw py(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pKe(t)}catch(i){throw i.message.includes("polyfill")?i:py(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class bre{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw py(Ga.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_Ke(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function yKe(e){const t=new bre(e);return t.base64?wre(Ga.BASE64,t.rest):gKe(t.rest)}function vKe(e){return new bre(e).contentType}function _Ke(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,n){let r=0,i="";IU(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(IU(this.data_)){const r=this.data_,i=hKe(r,t,n);return i===null?null:new tc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new tc(r,!0)}}static getBlob(...t){if(dM()){const n=t.map(r=>r instanceof tc?r.data_:r);return new tc(dKe.apply(null,n))}else{const n=t.map(s=>fM(s)?mKe(Ga.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new tc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(e){let t;try{t=JSON.parse(e)}catch{return null}return rKe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wKe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function bKe(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Ere(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SKe(e,t){return t}class Ki{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||SKe}}let U_=null;function EKe(e){return!fM(e)||e.length<2?e:Ere(e)}function xre(){if(U_)return U_;const e=[];e.push(new Ki("bucket")),e.push(new Ki("generation")),e.push(new Ki("metageneration")),e.push(new Ki("name","fullPath",!0));function t(o,s){return EKe(s)}const n=new Ki("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Ki("size");return i.xform=r,e.push(i),e.push(new Ki("timeCreated")),e.push(new Ki("updated")),e.push(new Ki("md5Hash",null,!0)),e.push(new Ki("cacheControl",null,!0)),e.push(new Ki("contentDisposition",null,!0)),e.push(new Ki("contentEncoding",null,!0)),e.push(new Ki("contentLanguage",null,!0)),e.push(new Ki("contentType",null,!0)),e.push(new Ki("metadata","customMetadata",!0)),U_=e,U_}function xKe(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Go(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function PKe(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return xKe(r,e),r}function Pre(e,t,n){const r=Sre(t);return r===null?null:PKe(e,r,n)}function IKe(e,t,n,r){const i=Sre(t);if(i===null||!fM(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,f=e.fullPath,d="/b/"+s(c)+"/o/"+s(f),h=hM(d,n,r),p=vre({alt:"media",token:u});return h+p})[0]}function OKe(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class Ire{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ore(e){if(!e)throw cM()}function TKe(e,t){function n(r,i){const o=Pre(e,i,t);return Ore(o!==null),o}return n}function CKe(e,t){function n(r,i){const o=Pre(e,i,t);return Ore(o!==null),IKe(o,i,e.host,e._protocol)}return n}function Tre(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=zGe():i=BGe():n.getStatus()===402?i=VGe(e.bucket):n.getStatus()===403?i=UGe(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function $Ke(e){const t=Tre(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=FGe(e.path)),o.serverResponse=i.serverResponse,o}return n}function kKe(e,t,n){const r=t.fullServerUrl(),i=hM(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new Ire(i,o,CKe(e,n),s);return a.errorHandler=$Ke(t),a}function AKe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function RKe(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=AKe(null,t)),r}function NKe(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=RKe(t,r,i),c=OKe(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",h=tc.getBlob(f,r,d);if(h===null)throw YGe();const p={name:u.fullPath},g=hM(o,e.host,e._protocol),y="POST",m=e.maxUploadRetryTime,v=new Ire(g,y,TKe(e,n),m);return v.urlParams=p,v.headers=s,v.body=h.uploadData(),v.errorHandler=Tre(t),v}class DKe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=td.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=td.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=td.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw pg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class MKe extends DKe{initXhr(){this.xhr_.responseType="text"}}function Cre(){return new MKe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t,n){this._service=t,n instanceof Go?this._location=n:this._location=Go.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Sd(t,n)}get root(){const t=new Go(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ere(this._location.path)}get storage(){return this._service}get parent(){const t=wKe(this._location.path);if(t===null)return null;const n=new Go(this._location.bucket,t);return new Sd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw JGe(t)}}function LKe(e,t,n){e._throwIfRoot("uploadBytes");const r=NKe(e.storage,e._location,xre(),new tc(t,!0),n);return e.storage.makeRequestWithTokens(r,Cre).then(i=>({metadata:i,ref:e}))}function jKe(e){e._throwIfRoot("getDownloadURL");const t=kKe(e.storage,e._location,xre());return e.storage.makeRequestWithTokens(t,Cre).then(n=>{if(n===null)throw QGe();return n})}function FKe(e,t){const n=bKe(e._location.path,t),r=new Go(e._location.bucket,n);return new Sd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VKe(e){return/^[A-Za-z]+:\/\//.test(e)}function BKe(e,t){return new Sd(e,t)}function $re(e,t){if(e instanceof pM){const n=e;if(n._bucket==null)throw KGe();const r=new Sd(n,n._bucket);return t!=null?$re(r,t):r}else return t!==void 0?FKe(e,t):e}function zKe(e,t){if(t&&VKe(t)){if(e instanceof pM)return BKe(e,t);throw zk("To use ref(service, url), the first argument must be a Storage instance.")}else return $re(e,t)}function TU(e,t){const n=t==null?void 0:t[gre];return n==null?null:Go.makeFromBucketSpec(n,e)}function UKe(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:fqe(i,e.app.options.projectId))}class pM{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=mre,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LGe,this._maxUploadRetryTime=jGe,this._requests=new Set,i!=null?this._bucket=Go.makeFromBucketSpec(i,this._host):this._bucket=TU(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Go.makeFromBucketSpec(this._url,t):this._bucket=TU(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){OU("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){OU("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Sd(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new ZGe(yre());{const s=cKe(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const CU="@firebase/storage",$U="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kre="storage";function HKe(e,t,n){return e=Ui(e),LKe(e,t,n)}function WKe(e){return e=Ui(e),jKe(e)}function kU(e,t){return e=Ui(e),zKe(e,t)}function AU(e=uM(),t){e=Ui(e);const r=Tm(e,kre).getImmediate({identifier:t}),i=cqe("storage");return i&&qKe(r,...i),r}function qKe(e,t,n,r={}){UKe(e,t,n,r)}function GKe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new pM(n,r,i,t,Hd)}function KKe(){_u(new gl(kre,GKe,"PUBLIC").setMultipleInstances(!0)),pa(CU,$U,""),pa(CU,$U,"esm2017")}KKe();var YKe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae,mM=mM||{},mt=YKe||self;function IP(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function w0(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function QKe(e){return Object.prototype.hasOwnProperty.call(e,CT)&&e[CT]||(e[CT]=++XKe)}var CT="closure_uid_"+(1e9*Math.random()>>>0),XKe=0;function JKe(e,t,n){return e.call.apply(e.bind,arguments)}function ZKe(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ji(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ji=JKe:ji=ZKe,ji.apply(null,arguments)}function H_(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function oi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function cf(){this.s=this.s,this.o=this.o}var eYe=0;cf.prototype.s=!1;cf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),eYe!=0)&&QKe(this)};cf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Are=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function gM(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function RU(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(IP(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function Fi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Fi.prototype.h=function(){this.defaultPrevented=!0};var tYe=function(){if(!mt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};mt.addEventListener("test",n,t),mt.removeEventListener("test",n,t)}catch{}return e}();function mv(e){return/^[\s\xa0]*$/.test(e)}function OP(){var e=mt.navigator;return e&&(e=e.userAgent)?e:""}function Ha(e){return OP().indexOf(e)!=-1}function yM(e){return yM[" "](e),e}yM[" "]=function(){};function nYe(e,t){var n=KYe;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var rYe=Ha("Opera"),Kp=Ha("Trident")||Ha("MSIE"),Rre=Ha("Edge"),Uk=Rre||Kp,Nre=Ha("Gecko")&&!(OP().toLowerCase().indexOf("webkit")!=-1&&!Ha("Edge"))&&!(Ha("Trident")||Ha("MSIE"))&&!Ha("Edge"),iYe=OP().toLowerCase().indexOf("webkit")!=-1&&!Ha("Edge");function Dre(){var e=mt.document;return e?e.documentMode:void 0}var Hk;e:{var $T="",kT=function(){var e=OP();if(Nre)return/rv:([^\);]+)(\)|;)/.exec(e);if(Rre)return/Edge\/([\d\.]+)/.exec(e);if(Kp)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(iYe)return/WebKit\/(\S+)/.exec(e);if(rYe)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(kT&&($T=kT?kT[1]:""),Kp){var AT=Dre();if(AT!=null&&AT>parseFloat($T)){Hk=String(AT);break e}}Hk=$T}var Wk;if(mt.document&&Kp){var NU=Dre();Wk=NU||parseInt(Hk,10)||void 0}else Wk=void 0;var oYe=Wk;function gv(e,t){if(Fi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nre){e:{try{yM(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:sYe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gv.$.h.call(this)}}oi(gv,Fi);var sYe={2:"touch",3:"pen",4:"mouse"};gv.prototype.h=function(){gv.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var b0="closure_listenable_"+(1e6*Math.random()|0),aYe=0;function lYe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++aYe,this.fa=this.ia=!1}function TP(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function vM(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function uYe(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Mre(e){const t={};for(const n in e)t[n]=e[n];return t}const DU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lre(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<DU.length;o++)n=DU[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function CP(e){this.src=e,this.g={},this.h=0}CP.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Gk(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new lYe(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function qk(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Are(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(TP(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Gk(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var _M="closure_lm_"+(1e6*Math.random()|0),RT={};function jre(e,t,n,r,i){if(r&&r.once)return Vre(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)jre(e,t[o],n,r,i);return null}return n=SM(n),e&&e[b0]?e.O(t,n,w0(r)?!!r.capture:!!r,i):Fre(e,t,n,!1,r,i)}function Fre(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=w0(i)?!!i.capture:!!i,a=bM(e);if(a||(e[_M]=a=new CP(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=cYe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tYe||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zre(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cYe(){function e(n){return t.call(e.src,e.listener,n)}const t=fYe;return e}function Vre(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Vre(e,t[o],n,r,i);return null}return n=SM(n),e&&e[b0]?e.P(t,n,w0(r)?!!r.capture:!!r,i):Fre(e,t,n,!0,r,i)}function Bre(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Bre(e,t[o],n,r,i);else r=w0(r)?!!r.capture:!!r,n=SM(n),e&&e[b0]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Gk(o,n,r,i),-1<n&&(TP(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=bM(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gk(t,n,r,i)),(n=-1<e?t[e]:null)&&wM(n))}function wM(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[b0])qk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zre(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bM(t))?(qk(n,e),n.h==0&&(n.src=null,t[_M]=null)):TP(e)}}}function zre(e){return e in RT?RT[e]:RT[e]="on"+e}function fYe(e,t){if(e.fa)e=!0;else{t=new gv(t,this);var n=e.listener,r=e.la||e.src;e.ia&&wM(e),e=n.call(r,t)}return e}function bM(e){return e=e[_M],e instanceof CP?e:null}var NT="__closure_events_fn_"+(1e9*Math.random()>>>0);function SM(e){return typeof e=="function"?e:(e[NT]||(e[NT]=function(t){return e.handleEvent(t)}),e[NT])}function ni(){cf.call(this),this.i=new CP(this),this.S=this,this.J=null}oi(ni,cf);ni.prototype[b0]=!0;ni.prototype.removeEventListener=function(e,t,n,r){Bre(this,e,t,n,r)};function wi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Fi(t,e);else if(t instanceof Fi)t.target=t.target||e;else{var i=t;t=new Fi(r,e),Lre(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=W_(s,r,!0,t)&&i}if(s=t.g=e,i=W_(s,r,!0,t)&&i,i=W_(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=W_(s,r,!1,t)&&i}ni.prototype.N=function(){if(ni.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)TP(n[r]);delete e.g[t],e.h--}}this.J=null};ni.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};ni.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function W_(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&qk(e.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var EM=mt.JSON.stringify;class dYe{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function hYe(){var e=xM;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class pYe{constructor(){this.h=this.g=null}add(t,n){const r=Ure.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Ure=new dYe(()=>new mYe,e=>e.reset());class mYe{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gYe(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function yYe(e){mt.setTimeout(()=>{throw e},0)}let yv,vv=!1,xM=new pYe,Hre=()=>{const e=mt.Promise.resolve(void 0);yv=()=>{e.then(vYe)}};var vYe=()=>{for(var e;e=hYe();){try{e.h.call(e.g)}catch(n){yYe(n)}var t=Ure;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vv=!1};function $P(e,t){ni.call(this),this.h=e||1,this.g=t||mt,this.j=ji(this.qb,this),this.l=Date.now()}oi($P,ni);Ae=$P.prototype;Ae.ga=!1;Ae.T=null;Ae.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wi(this,"tick"),this.ga&&(PM(this),this.start()))}};Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function PM(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ae.N=function(){$P.$.N.call(this),PM(this),delete this.g};function IM(e,t,n){if(typeof e=="function")n&&(e=ji(e,n));else if(e&&typeof e.handleEvent=="function")e=ji(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:mt.setTimeout(e,t||0)}function Wre(e){e.g=IM(()=>{e.g=null,e.i&&(e.i=!1,Wre(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class _Ye extends cf{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Wre(this)}N(){super.N(),this.g&&(mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _v(e){cf.call(this),this.h=e,this.g={}}oi(_v,cf);var MU=[];function qre(e,t,n,r){Array.isArray(n)||(n&&(MU[0]=n.toString()),n=MU);for(var i=0;i<n.length;i++){var o=jre(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Gre(e){vM(e.g,function(t,n){this.g.hasOwnProperty(n)&&wM(t)},e),e.g={}}_v.prototype.N=function(){_v.$.N.call(this),Gre(this)};_v.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kP(){this.g=!0}kP.prototype.Ea=function(){this.g=!1};function wYe(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function bYe(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function Lh(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+EYe(e,n)+(r?" "+r:"")})}function SYe(e,t){e.info(function(){return"TIMEOUT: "+t})}kP.prototype.info=function(){};function EYe(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return EM(n)}catch{return t}}var Wd={},LU=null;function AP(){return LU=LU||new ni}Wd.Ta="serverreachability";function Kre(e){Fi.call(this,Wd.Ta,e)}oi(Kre,Fi);function wv(e){const t=AP();wi(t,new Kre(t))}Wd.STAT_EVENT="statevent";function Yre(e,t){Fi.call(this,Wd.STAT_EVENT,e),this.stat=t}oi(Yre,Fi);function Xi(e){const t=AP();wi(t,new Yre(t,e))}Wd.Ua="timingevent";function Qre(e,t){Fi.call(this,Wd.Ua,e),this.size=t}oi(Qre,Fi);function S0(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return mt.setTimeout(function(){e()},t)}var RP={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xre={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function OM(){}OM.prototype.h=null;function jU(e){return e.h||(e.h=e.i())}function Jre(){}var E0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function TM(){Fi.call(this,"d")}oi(TM,Fi);function CM(){Fi.call(this,"c")}oi(CM,Fi);var Kk;function NP(){}oi(NP,OM);NP.prototype.g=function(){return new XMLHttpRequest};NP.prototype.i=function(){return{}};Kk=new NP;function x0(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new _v(this),this.P=xYe,e=Uk?125:void 0,this.V=new $P(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zre}function Zre(){this.i=null,this.g="",this.h=!1}var xYe=45e3,eie={},Yk={};Ae=x0.prototype;Ae.setTimeout=function(e){this.P=e};function Qk(e,t,n){e.L=1,e.A=MP(wu(t)),e.u=n,e.S=!0,tie(e,null)}function tie(e,t){e.G=Date.now(),P0(e),e.B=wu(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),uie(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Zre,e.g=$ie(e.l,n?t:null,!e.u),0<e.O&&(e.M=new _Ye(ji(e.Pa,e,e.g),e.O)),qre(e.U,e.g,"readystatechange",e.nb),t=e.I?Mre(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),wv(),wYe(e.j,e.v,e.B,e.m,e.W,e.u)}Ae.nb=function(e){e=e.target;const t=this.M;t&&Ka(e)==3?t.l():this.Pa(e)};Ae.Pa=function(e){try{if(e==this.g)e:{const c=Ka(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||Uk||this.g&&(this.h.h||this.g.ja()||zU(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?wv(3):wv(2)),DP(this);var n=this.g.da();this.ca=n;t:if(nie(this)){var r=zU(this.g);e="";var i=r.length,o=Ka(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qf(this),my(this);var s="";break t}this.h.i=new mt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,bYe(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mv(a)){var u=a;break t}}u=null}if(n=u)Lh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xk(this,n);else{this.i=!1,this.s=3,Xi(12),qf(this),my(this);break e}}this.S?(rie(this,c,s),Uk&&this.i&&c==3&&(qre(this.U,this.V,"tick",this.mb),this.V.start())):(Lh(this.j,this.m,s,null),Xk(this,s)),c==4&&qf(this),this.i&&!this.J&&(c==4?Iie(this.l,this):(this.i=!1,P0(this)))}else WYe(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Xi(12)):(this.s=0,Xi(13)),qf(this),my(this)}}}catch{}finally{}};function nie(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function rie(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=PYe(e,n),i==Yk){t==4&&(e.s=4,Xi(14),r=!1),Lh(e.j,e.m,null,"[Incomplete Response]");break}else if(i==eie){e.s=4,Xi(15),Lh(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Lh(e.j,e.m,i,null),Xk(e,i);nie(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Xi(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),DM(t),t.M=!0,Xi(11))):(Lh(e.j,e.m,n,"[Invalid Chunked Response]"),qf(e),my(e))}Ae.mb=function(){if(this.g){var e=Ka(this.g),t=this.g.ja();this.o<t.length&&(DP(this),rie(this,e,t),this.i&&e!=4&&P0(this))}};function PYe(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?Yk:(n=Number(t.substring(n,r)),isNaN(n)?eie:(r+=1,r+n>t.length?Yk:(t=t.slice(r,r+n),e.o=r+n,t)))}Ae.cancel=function(){this.J=!0,qf(this)};function P0(e){e.Y=Date.now()+e.P,iie(e,e.P)}function iie(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=S0(ji(e.lb,e),t)}function DP(e){e.C&&(mt.clearTimeout(e.C),e.C=null)}Ae.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(SYe(this.j,this.B),this.L!=2&&(wv(),Xi(17)),qf(this),this.s=2,my(this)):iie(this,this.Y-e)};function my(e){e.l.H==0||e.J||Iie(e.l,e)}function qf(e){DP(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,PM(e.V),Gre(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xk(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Jk(n.i,e))){if(!e.K&&Jk(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)dE(n),VP(n);else break e;NM(n),Xi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=S0(ji(n.ib,n),6e3));if(1>=die(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gf(n,11)}else if((e.K||n.g==e)&&dE(n),!mv(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&($M(o,o.h),o.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,zn(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=Cie(r,r.J?r.pa:null,r.Y),s.K){hie(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(DP(a),P0(a)),r.g=s}else xie(r);0<n.j.length&&BP(n)}else u[0]!="stop"&&u[0]!="close"||Gf(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gf(n,7):RM(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}wv(4)}catch{}}function IYe(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(IP(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function OYe(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(IP(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function oie(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(IP(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=OYe(e),r=IYe(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var sie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TYe(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function nd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof nd){this.h=e.h,cE(this,e.j),this.s=e.s,this.g=e.g,fE(this,e.m),this.l=e.l;var t=e.i,n=new bv;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),FU(this,n),this.o=e.o}else e&&(t=String(e).match(sie))?(this.h=!1,cE(this,t[1]||"",!0),this.s=Mg(t[2]||""),this.g=Mg(t[3]||"",!0),fE(this,t[4]),this.l=Mg(t[5]||"",!0),FU(this,t[6]||"",!0),this.o=Mg(t[7]||"")):(this.h=!1,this.i=new bv(null,this.h))}nd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lg(t,VU,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Lg(t,VU,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Lg(n,n.charAt(0)=="/"?kYe:$Ye,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lg(n,RYe)),e.join("")};function wu(e){return new nd(e)}function cE(e,t,n){e.j=n?Mg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function fE(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function FU(e,t,n){t instanceof bv?(e.i=t,NYe(e.i,e.h)):(n||(t=Lg(t,AYe)),e.i=new bv(t,e.h))}function zn(e,t,n){e.i.set(t,n)}function MP(e){return zn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lg(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,CYe),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function CYe(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var VU=/[#\/\?@]/g,$Ye=/[#\?:]/g,kYe=/[#\?]/g,AYe=/[#\?@]/g,RYe=/#/g;function bv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ff(e){e.g||(e.g=new Map,e.h=0,e.i&&TYe(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ae=bv.prototype;Ae.add=function(e,t){ff(this),this.i=null,e=Cm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function aie(e,t){ff(e),t=Cm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function lie(e,t){return ff(e),t=Cm(e,t),e.g.has(t)}Ae.forEach=function(e,t){ff(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ae.ta=function(){ff(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};Ae.Z=function(e){ff(this);let t=[];if(typeof e=="string")lie(this,e)&&(t=t.concat(this.g.get(Cm(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ae.set=function(e,t){return ff(this),this.i=null,e=Cm(this,e),lie(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ae.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function uie(e,t,n){aie(e,t),0<n.length&&(e.i=null,e.g.set(Cm(e,t),gM(n)),e.h+=n.length)}Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Cm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function NYe(e,t){t&&!e.j&&(ff(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aie(this,r),uie(this,i,n))},e)),e.j=t}var DYe=class{constructor(e,t){this.g=e,this.map=t}};function cie(e){this.l=e||MYe,mt.PerformanceNavigationTiming?(e=mt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(mt.g&&mt.g.Ka&&mt.g.Ka()&&mt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var MYe=10;function fie(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function die(e){return e.h?1:e.g?e.g.size:0}function Jk(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function $M(e,t){e.g?e.g.add(t):e.h=t}function hie(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}cie.prototype.cancel=function(){if(this.i=pie(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function pie(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return gM(e.i)}var LYe=class{stringify(e){return mt.JSON.stringify(e,void 0)}parse(e){return mt.JSON.parse(e,void 0)}};function jYe(){this.g=new LYe}function FYe(e,t,n){const r=n||"";try{oie(e,function(i,o){let s=i;w0(i)&&(s=EM(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function VYe(e,t){const n=new kP;if(mt.Image){const r=new Image;r.onload=H_(q_,n,r,"TestLoadImage: loaded",!0,t),r.onerror=H_(q_,n,r,"TestLoadImage: error",!1,t),r.onabort=H_(q_,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=H_(q_,n,r,"TestLoadImage: timeout",!1,t),mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function q_(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function LP(e){this.l=e.ec||null,this.j=e.ob||!1}oi(LP,OM);LP.prototype.g=function(){return new jP(this.l,this.j)};LP.prototype.i=function(e){return function(){return e}}({});function jP(e,t){ni.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=kM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oi(jP,ni);var kM=0;Ae=jP.prototype;Ae.open=function(e,t){if(this.readyState!=kM)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sv(this)};Ae.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||mt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,I0(this)),this.readyState=kM};Ae.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sv(this)),this.g&&(this.readyState=3,Sv(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof mt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mie(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function mie(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ae.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?I0(this):Sv(this),this.readyState==3&&mie(this)}};Ae.Za=function(e){this.g&&(this.response=this.responseText=e,I0(this))};Ae.Ya=function(e){this.g&&(this.response=e,I0(this))};Ae.ka=function(){this.g&&I0(this)};function I0(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sv(e)}Ae.setRequestHeader=function(e,t){this.v.append(e,t)};Ae.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ae.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Sv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(jP.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var BYe=mt.JSON.parse;function _r(e){ni.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gie,this.L=this.M=!1}oi(_r,ni);var gie="",zYe=/^https?$/i,UYe=["POST","PUT"];Ae=_r.prototype;Ae.Oa=function(e){this.M=e};Ae.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Kk.g(),this.C=this.u?jU(this.u):jU(Kk),this.g.onreadystatechange=ji(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){BU(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=mt.FormData&&e instanceof mt.FormData,!(0<=Are(UYe,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_ie(this),0<this.B&&((this.L=HYe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ji(this.ua,this)):this.A=IM(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){BU(this,o)}};function HYe(e){return Kp&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ae.ua=function(){typeof mM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wi(this,"timeout"),this.abort(8))};function BU(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yie(e),FP(e)}function yie(e){e.F||(e.F=!0,wi(e,"complete"),wi(e,"error"))}Ae.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wi(this,"complete"),wi(this,"abort"),FP(this))};Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),FP(this,!0)),_r.$.N.call(this)};Ae.La=function(){this.s||(this.G||this.v||this.l?vie(this):this.kb())};Ae.kb=function(){vie(this)};function vie(e){if(e.h&&typeof mM<"u"&&(!e.C[1]||Ka(e)!=4||e.da()!=2)){if(e.v&&Ka(e)==4)IM(e.La,0,e);else if(wi(e,"readystatechange"),Ka(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(sie)[1]||null;!i&&mt.self&&mt.self.location&&(i=mt.self.location.protocol.slice(0,-1)),r=!zYe.test(i?i.toLowerCase():"")}n=r}if(n)wi(e,"complete"),wi(e,"success");else{e.m=6;try{var o=2<Ka(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",yie(e)}}finally{FP(e)}}}}function FP(e,t){if(e.g){_ie(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||wi(e,"ready");try{n.onreadystatechange=r}catch{}}}function _ie(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(mt.clearTimeout(e.A),e.A=null)}Ae.isActive=function(){return!!this.g};function Ka(e){return e.g?e.g.readyState:0}Ae.da=function(){try{return 2<Ka(this)?this.g.status:-1}catch{return-1}};Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ae.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),BYe(t)}};function zU(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gie:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function WYe(e){const t={};e=(e.g&&2<=Ka(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(mv(e[r]))continue;var n=gYe(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}uYe(t,function(r){return r.join(", ")})}Ae.Ia=function(){return this.m};Ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wie(e){let t="";return vM(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function AM(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wie(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):zn(e,t,n))}function mg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bie(e){this.Ga=0,this.j=[],this.l=new kP,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mg("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mg("baseRetryDelayMs",5e3,e),this.hb=mg("retryDelaySeedMs",1e4,e),this.eb=mg("forwardChannelMaxRetries",2,e),this.xa=mg("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cie(e&&e.concurrentRequestLimit),this.Ja=new jYe,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ae=bie.prototype;Ae.ra=8;Ae.H=1;function RM(e){if(Sie(e),e.H==3){var t=e.W++,n=wu(e.I);if(zn(n,"SID",e.K),zn(n,"RID",t),zn(n,"TYPE","terminate"),O0(e,n),t=new x0(e,e.l,t),t.L=2,t.A=MP(wu(n)),n=!1,mt.navigator&&mt.navigator.sendBeacon)try{n=mt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&mt.Image&&(new Image().src=t.A,n=!0),n||(t.g=$ie(t.l,null),t.g.ha(t.A)),t.G=Date.now(),P0(t)}Tie(e)}function VP(e){e.g&&(DM(e),e.g.cancel(),e.g=null)}function Sie(e){VP(e),e.u&&(mt.clearTimeout(e.u),e.u=null),dE(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&mt.clearTimeout(e.m),e.m=null)}function BP(e){if(!fie(e.i)&&!e.m){e.m=!0;var t=e.Na;yv||Hre(),vv||(yv(),vv=!0),xM.add(t,e),e.C=0}}function qYe(e,t){return die(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=S0(ji(e.Na,e,t),Oie(e,e.C)),e.C++,!0)}Ae.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new x0(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Mre(o),Lre(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Eie(this,i,t),n=wu(this.I),zn(n,"RID",e),zn(n,"CVER",22),this.F&&zn(n,"X-HTTP-Session-Id",this.F),O0(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(wie(o)))+"&"+t:this.o&&AM(n,this.o,o)),$M(this.i,i),this.bb&&zn(n,"TYPE","init"),this.P?(zn(n,"$req",t),zn(n,"SID","null"),i.aa=!0,Qk(i,n,null)):Qk(i,n,t),this.H=2}}else this.H==3&&(e?UU(this,e):this.j.length==0||fie(this.i)||UU(this))};function UU(e,t){var n;t?n=t.m:n=e.W++;const r=wu(e.I);zn(r,"SID",e.K),zn(r,"RID",n),zn(r,"AID",e.V),O0(e,r),e.o&&e.s&&AM(r,e.o,e.s),n=new x0(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Eie(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),$M(e.i,n),Qk(n,r,t)}function O0(e,t){e.na&&vM(e.na,function(n,r){zn(t,r,n)}),e.h&&oie({},function(n,r){zn(t,r,n)})}function Eie(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ji(e.h.Va,e.h,e):null;e:{var i=e.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{FYe(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function xie(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;yv||Hre(),vv||(yv(),vv=!0),xM.add(t,e),e.A=0}}function NM(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=S0(ji(e.Ma,e),Oie(e,e.A)),e.A++,!0)}Ae.Ma=function(){if(this.u=null,Pie(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=S0(ji(this.jb,this),e)}};Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xi(10),VP(this),Pie(this))};function DM(e){e.B!=null&&(mt.clearTimeout(e.B),e.B=null)}function Pie(e){e.g=new x0(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=wu(e.wa);zn(t,"RID","rpc"),zn(t,"SID",e.K),zn(t,"AID",e.V),zn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&zn(t,"TO",e.qa),zn(t,"TYPE","xmlhttp"),O0(e,t),e.o&&e.s&&AM(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=MP(wu(t)),n.u=null,n.S=!0,tie(n,e)}Ae.ib=function(){this.v!=null&&(this.v=null,VP(this),NM(this),Xi(19))};function dE(e){e.v!=null&&(mt.clearTimeout(e.v),e.v=null)}function Iie(e,t){var n=null;if(e.g==t){dE(e),DM(e),e.g=null;var r=2}else if(Jk(e.i,t))n=t.F,hie(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=AP(),wi(r,new Qre(r,n)),BP(e)}else xie(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&qYe(e,t)||r==2&&NM(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gf(e,5);break;case 4:Gf(e,10);break;case 3:Gf(e,6);break;default:Gf(e,2)}}}function Oie(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Gf(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=ji(e.pb,e);n||(n=new nd("//www.google.com/images/cleardot.gif"),mt.location&&mt.location.protocol=="http"||cE(n,"https"),MP(n)),VYe(n.toString(),r)}else Xi(2);e.H=0,e.h&&e.h.za(t),Tie(e),Sie(e)}Ae.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Xi(2)):(this.l.info("Failed to ping google.com"),Xi(1))};function Tie(e){if(e.H=0,e.ma=[],e.h){const t=pie(e.i);(t.length!=0||e.j.length!=0)&&(RU(e.ma,t),RU(e.ma,e.j),e.i.i.length=0,gM(e.j),e.j.length=0),e.h.ya()}}function Cie(e,t,n){var r=n instanceof nd?wu(n):new nd(n);if(r.g!="")t&&(r.g=t+"."+r.g),fE(r,r.m);else{var i=mt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new nd(null);r&&cE(o,r),t&&(o.g=t),i&&fE(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&zn(r,n,t),zn(r,"VER",e.ra),O0(e,r),r}function $ie(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new _r(new LP({ob:n})):new _r(e.va),t.Oa(e.J),t}Ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function kie(){}Ae=kie.prototype;Ae.Ba=function(){};Ae.Aa=function(){};Ae.za=function(){};Ae.ya=function(){};Ae.isActive=function(){return!0};Ae.Va=function(){};function hE(){if(Kp&&!(10<=Number(oYe)))throw Error("Environmental error: no available transport.")}hE.prototype.g=function(e,t){return new os(e,t)};function os(e,t){ni.call(this),this.g=new bie(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!mv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mv(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new $m(this)}oi(os,ni);os.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Xi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Cie(e,null,e.Y),BP(e)};os.prototype.close=function(){RM(this.g)};os.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=EM(e),e=n);t.j.push(new DYe(t.fb++,e)),t.H==3&&BP(t)};os.prototype.N=function(){this.g.h=null,delete this.j,RM(this.g),delete this.g,os.$.N.call(this)};function Aie(e){TM.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}oi(Aie,TM);function Rie(){CM.call(this),this.status=1}oi(Rie,CM);function $m(e){this.g=e}oi($m,kie);$m.prototype.Ba=function(){wi(this.g,"a")};$m.prototype.Aa=function(e){wi(this.g,new Aie(e))};$m.prototype.za=function(e){wi(this.g,new Rie)};$m.prototype.ya=function(){wi(this.g,"b")};function GYe(){this.blockSize=-1}function _a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}oi(_a,GYe);_a.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function DT(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}_a.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)DT(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){DT(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){DT(this,r),i=0;break}}this.h=i,this.i+=t};_a.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Sn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var KYe={};function MM(e){return-128<=e&&128>e?nYe(e,function(t){return new Sn([t|0],0>t?-1:0)}):new Sn([e|0],0>e?-1:0)}function Ya(e){if(isNaN(e)||!isFinite(e))return ap;if(0>e)return gi(Ya(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Zk;return new Sn(t,0)}function Nie(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return gi(Nie(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ya(Math.pow(t,8)),r=ap,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=Ya(Math.pow(t,o)),r=r.R(o).add(Ya(s))):(r=r.R(n),r=r.add(Ya(s)))}return r}var Zk=4294967296,ap=MM(0),eA=MM(1),HU=MM(16777216);Ae=Sn.prototype;Ae.ea=function(){if(Ps(this))return-gi(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Zk+r)*t,t*=Zk}return e};Ae.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Wl(this))return"0";if(Ps(this))return"-"+gi(this).toString(e);for(var t=Ya(Math.pow(e,6)),n=this,r="";;){var i=mE(n,t).g;n=pE(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Wl(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Ae.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Wl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ps(e){return e.h==-1}Ae.X=function(e){return e=pE(this,e),Ps(e)?-1:Wl(e)?0:1};function gi(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Sn(n,~e.h).add(eA)}Ae.abs=function(){return Ps(this)?gi(this):this};Ae.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Sn(n,n[n.length-1]&-2147483648?-1:0)};function pE(e,t){return e.add(gi(t))}Ae.R=function(e){if(Wl(this)||Wl(e))return ap;if(Ps(this))return Ps(e)?gi(this).R(gi(e)):gi(gi(this).R(e));if(Ps(e))return gi(this.R(gi(e)));if(0>this.X(HU)&&0>e.X(HU))return Ya(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=s*l,G_(n,2*r+2*i),n[2*r+2*i+1]+=o*l,G_(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,G_(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,G_(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Sn(n,0)};function G_(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function gg(e,t){this.g=e,this.h=t}function mE(e,t){if(Wl(t))throw Error("division by zero");if(Wl(e))return new gg(ap,ap);if(Ps(e))return t=mE(gi(e),t),new gg(gi(t.g),gi(t.h));if(Ps(t))return t=mE(e,gi(t)),new gg(gi(t.g),t.h);if(30<e.g.length){if(Ps(e)||Ps(t))throw Error("slowDivide_ only works with positive integers.");for(var n=eA,r=t;0>=r.X(e);)n=WU(n),r=WU(r);var i=sh(n,1),o=sh(r,1);for(r=sh(r,2),n=sh(n,2);!Wl(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=sh(r,1),n=sh(n,1)}return t=pE(e,i.R(t)),new gg(i,t)}for(i=ap;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Ya(n),s=o.R(t);Ps(s)||0<s.X(e);)n-=r,o=Ya(n),s=o.R(t);Wl(o)&&(o=eA),i=i.add(o),e=pE(e,s)}return new gg(i,e)}Ae.gb=function(e){return mE(this,e).h};Ae.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Sn(n,this.h&e.h)};Ae.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Sn(n,this.h|e.h)};Ae.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Sn(n,this.h^e.h)};function WU(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Sn(n,e.h)}function sh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Sn(i,e.h)}hE.prototype.createWebChannel=hE.prototype.g;os.prototype.send=os.prototype.u;os.prototype.open=os.prototype.m;os.prototype.close=os.prototype.close;RP.NO_ERROR=0;RP.TIMEOUT=8;RP.HTTP_ERROR=6;Xre.COMPLETE="complete";Jre.EventType=E0;E0.OPEN="a";E0.CLOSE="b";E0.ERROR="c";E0.MESSAGE="d";ni.prototype.listen=ni.prototype.O;_r.prototype.listenOnce=_r.prototype.P;_r.prototype.getLastError=_r.prototype.Sa;_r.prototype.getLastErrorCode=_r.prototype.Ia;_r.prototype.getStatus=_r.prototype.da;_r.prototype.getResponseJson=_r.prototype.Wa;_r.prototype.getResponseText=_r.prototype.ja;_r.prototype.send=_r.prototype.ha;_r.prototype.setWithCredentials=_r.prototype.Oa;_a.prototype.digest=_a.prototype.l;_a.prototype.reset=_a.prototype.reset;_a.prototype.update=_a.prototype.j;Sn.prototype.add=Sn.prototype.add;Sn.prototype.multiply=Sn.prototype.R;Sn.prototype.modulo=Sn.prototype.gb;Sn.prototype.compare=Sn.prototype.X;Sn.prototype.toNumber=Sn.prototype.ea;Sn.prototype.toString=Sn.prototype.toString;Sn.prototype.getBits=Sn.prototype.D;Sn.fromNumber=Ya;Sn.fromString=Nie;var YYe=function(){return new hE},QYe=function(){return AP()},MT=RP,XYe=Xre,JYe=Wd,qU={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},K_=Jre,ZYe=_r,eQe=_a,lp=Sn;const GU="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}po.UNAUTHENTICATED=new po(null),po.GOOGLE_CREDENTIALS=new po("google-credentials-uid"),po.FIRST_PARTY=new po("first-party-uid"),po.MOCK_USER=new po("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new PP("@firebase/firestore");function yg(){return Ed.logLevel}function qe(e,...t){if(Ed.logLevel<=Kt.DEBUG){const n=t.map(LM);Ed.debug(`Firestore (${km}): ${e}`,...n)}}function bu(e,...t){if(Ed.logLevel<=Kt.ERROR){const n=t.map(LM);Ed.error(`Firestore (${km}): ${e}`,...n)}}function Ev(e,...t){if(Ed.logLevel<=Kt.WARN){const n=t.map(LM);Ed.warn(`Firestore (${km}): ${e}`,...n)}}function LM(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(e="Unexpected state"){const t=`FIRESTORE (${km}) INTERNAL ASSERTION FAILED: `+e;throw bu(t),new Error(t)}function Ln(e,t){e||ct()}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends xl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQe{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nQe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(po.UNAUTHENTICATED))}shutdown(){}}class rQe{constructor(t){this.t=t,this.currentUser=po.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new tu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tu,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tu)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ln(typeof r.accessToken=="string"),new tQe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ln(t===null||typeof t=="string"),new po(t)}}class iQe{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=po.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oQe{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new iQe(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(po.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sQe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aQe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,qe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ln(typeof n.token=="string"),this.R=n.token,new sQe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=lQe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function gn(e,t){return e<t?-1:e>t?1:0}function Yp(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Qe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Qe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Wr.fromMillis(Date.now())}static fromDate(t){return Wr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Wr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?gn(this.nanoseconds,t.nanoseconds):gn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new yt(t)}static min(){return new yt(new Wr(0,0))}static max(){return new yt(new Wr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,n,r){n===void 0?n=0:n>t.length&&ct(),r===void 0?r=t.length-n:r>t.length-n&&ct(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return xv.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xv?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Jn extends xv{construct(t,n,r){return new Jn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Qe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Jn(n)}static emptyPath(){return new Jn([])}}const uQe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends xv{construct(t,n,r){return new yi(t,n,r)}static isValidIdentifier(t){return uQe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yi(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Qe(_e.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Qe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Qe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Qe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yi(n)}static emptyPath(){return new yi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.path=t}static fromPath(t){return new nt(Jn.fromString(t))}static fromName(t){return new nt(Jn.fromString(t).popFirst(5))}static empty(){return new nt(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new Jn(t.slice()))}}function cQe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(r===1e9?new Wr(n+1,0):new Wr(n,r));return new Kc(i,nt.empty(),t)}function fQe(e){return new Kc(e.readTime,e.key,-1)}class Kc{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Kc(yt.min(),nt.empty(),-1)}static max(){return new Kc(yt.max(),nt.empty(),-1)}}function dQe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=nt.comparator(e.documentKey,t.documentKey),n!==0?n:gn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pQe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(e){if(e.code!==_e.FAILED_PRECONDITION||e.message!==hQe)throw e;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new be((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):be.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):be.reject(n)}static resolve(t){return new be((n,r)=>{n(t)})}static reject(t){return new be((n,r)=>{r(t)})}static waitFor(t){return new be((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=be.resolve(!1);for(const r of t)n=n.next(i=>i?be.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new be((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new be((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function C0(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}jM._e=-1;function zP(e){return e==null}function gE(e){return e===0&&1/e==-1/0}function mQe(e){return typeof e=="number"&&Number.isInteger(e)&&!gE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Am(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mie(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,n){this.comparator=t,this.root=n||hi.EMPTY}insert(t,n){return new ur(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(t){return new ur(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Y_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Y_(this.root,t,this.comparator,!1)}getReverseIterator(){return new Y_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Y_(this.root,t,this.comparator,!0)}}class Y_{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hi{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??hi.RED,this.left=i??hi.EMPTY,this.right=o??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new hi(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return hi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1;hi.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(t,n,r,i,o){return this}insert(t,n,r){return new hi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.comparator=t,this.data=new ur(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new YU(this.data.getIterator())}getIteratorFrom(t){return new YU(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof bi)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new bi(this.comparator);return n.data=t,n}}class YU{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this.fields=t,t.sort(yi.comparator)}static empty(){return new la([])}unionWith(t){let n=new bi(yi.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new la(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Yp(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lie("Invalid base64 string: "+o):o}}(t);return new Hi(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new Hi(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const gQe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yc(e){if(Ln(!!e),typeof e=="string"){let t=0;const n=gQe.exec(e);if(Ln(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$r(e.seconds),nanos:$r(e.nanos)}}function $r(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xd(e){return typeof e=="string"?Hi.fromBase64String(e):Hi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function VM(e){const t=e.mapValue.fields.__previous_value__;return FM(t)?VM(t):t}function Pv(e){const t=Yc(e.mapValue.fields.__local_write_time__.timestampValue);return new Wr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQe{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Iv{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Iv("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Iv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?FM(e)?4:vQe(e)?9007199254740991:10:ct()}function yl(e,t){if(e===t)return!0;const n=Pd(e);if(n!==Pd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pv(e).isEqual(Pv(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Yc(i.timestampValue),a=Yc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return xd(i.bytesValue).isEqual(xd(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return $r(i.geoPointValue.latitude)===$r(o.geoPointValue.latitude)&&$r(i.geoPointValue.longitude)===$r(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return $r(i.integerValue)===$r(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=$r(i.doubleValue),a=$r(o.doubleValue);return s===a?gE(s)===gE(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Yp(e.arrayValue.values||[],t.arrayValue.values||[],yl);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(KU(s)!==KU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!yl(s[l],a[l])))return!1;return!0}(e,t);default:return ct()}}function Ov(e,t){return(e.values||[]).find(n=>yl(n,t))!==void 0}function Qp(e,t){if(e===t)return 0;const n=Pd(e),r=Pd(t);if(n!==r)return gn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gn(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=$r(o.integerValue||o.doubleValue),l=$r(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return QU(e.timestampValue,t.timestampValue);case 4:return QU(Pv(e),Pv(t));case 5:return gn(e.stringValue,t.stringValue);case 6:return function(o,s){const a=xd(o),l=xd(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=gn(a[u],l[u]);if(c!==0)return c}return gn(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=gn($r(o.latitude),$r(s.latitude));return a!==0?a:gn($r(o.longitude),$r(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Qp(a[u],l[u]);if(c)return c}return gn(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Q_.mapValue&&s===Q_.mapValue)return 0;if(o===Q_.mapValue)return 1;if(s===Q_.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=gn(l[f],c[f]);if(d!==0)return d;const h=Qp(a[l[f]],u[c[f]]);if(h!==0)return h}return gn(l.length,c.length)}(e.mapValue,t.mapValue);default:throw ct()}}function QU(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return gn(e,t);const n=Yc(e),r=Yc(t),i=gn(n.seconds,r.seconds);return i!==0?i:gn(n.nanos,r.nanos)}function Xp(e){return tA(e)}function tA(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Yc(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return xd(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return nt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=tA(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${tA(n.fields[s])}`;return i+"}"}(e.mapValue):ct()}function nA(e){return!!e&&"integerValue"in e}function BM(e){return!!e&&"arrayValue"in e}function XU(e){return!!e&&"nullValue"in e}function JU(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uw(e){return!!e&&"mapValue"in e}function gy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Am(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=gy(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function vQe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this.value=t}static empty(){return new Is({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Uw(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gy(n)}setAll(t){let n=yi.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=gy(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Uw(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yl(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Uw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Am(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Is(gy(this.value))}}function jie(e){const t=[];return Am(e.fields,(n,r)=>{const i=new yi([n]);if(Uw(r)){const o=jie(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new la(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Mi(t,0,yt.min(),yt.min(),yt.min(),Is.empty(),0)}static newFoundDocument(t,n,r,i){return new Mi(t,1,n,yt.min(),r,i,0)}static newNoDocument(t,n){return new Mi(t,2,n,yt.min(),yt.min(),Is.empty(),0)}static newUnknownDocument(t,n){return new Mi(t,3,n,yt.min(),yt.min(),Is.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Mi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n){this.position=t,this.inclusive=n}}function ZU(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=nt.comparator(nt.fromName(s.referenceValue),n.key):r=Qp(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function e9(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!yl(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n="asc"){this.field=t,this.dir=n}}function _Qe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{}class zr extends Fie{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new bQe(t,n,r):n==="array-contains"?new xQe(t,r):n==="in"?new PQe(t,r):n==="not-in"?new IQe(t,r):n==="array-contains-any"?new OQe(t,r):new zr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new SQe(t,r):new EQe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qp(n,this.value)):n!==null&&Pd(this.value)===Pd(n)&&this.matchesComparison(Qp(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vl extends Fie{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new vl(t,n)}matches(t){return Vie(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Vie(e){return e.op==="and"}function Bie(e){return wQe(e)&&Vie(e)}function wQe(e){for(const t of e.filters)if(t instanceof vl)return!1;return!0}function rA(e){if(e instanceof zr)return e.field.canonicalString()+e.op.toString()+Xp(e.value);if(Bie(e))return e.filters.map(t=>rA(t)).join(",");{const t=e.filters.map(n=>rA(n)).join(",");return`${e.op}(${t})`}}function zie(e,t){return e instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.field.isEqual(i.field)&&yl(r.value,i.value)}(e,t):e instanceof vl?function(r,i){return i instanceof vl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zie(s,i.filters[a]),!0):!1}(e,t):void ct()}function Uie(e){return e instanceof zr?function(n){return`${n.field.canonicalString()} ${n.op} ${Xp(n.value)}`}(e):e instanceof vl?function(n){return n.op.toString()+" {"+n.getFilters().map(Uie).join(" ,")+"}"}(e):"Filter"}class bQe extends zr{constructor(t,n,r){super(t,n,r),this.key=nt.fromName(r.referenceValue)}matches(t){const n=nt.comparator(t.key,this.key);return this.matchesComparison(n)}}class SQe extends zr{constructor(t,n){super(t,"in",n),this.keys=Hie("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class EQe extends zr{constructor(t,n){super(t,"not-in",n),this.keys=Hie("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Hie(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>nt.fromName(r.referenceValue))}class xQe extends zr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return BM(n)&&Ov(n.arrayValue,this.value)}}class PQe extends zr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ov(this.value.arrayValue,n)}}class IQe extends zr{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ov(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ov(this.value.arrayValue,n)}}class OQe extends zr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!BM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ov(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQe{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function t9(e,t=null,n=[],r=[],i=null,o=null,s=null){return new TQe(e,t,n,r,i,o,s)}function zM(e){const t=xt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>rA(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zP(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Xp(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Xp(r)).join(",")),t.ce=n}return t.ce}function UM(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_Qe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zie(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!e9(e.startAt,t.startAt)&&e9(e.endAt,t.endAt)}function iA(e){return nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function CQe(e,t,n,r,i,o,s,a){return new UP(e,t,n,r,i,o,s,a)}function HM(e){return new UP(e)}function n9(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $Qe(e){return e.collectionGroup!==null}function yy(e){const t=xt(e);if(t.le===null){t.le=[];const n=new Set;for(const o of t.explicitOrderBy)t.le.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bi(yi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.le.push(new vE(o,r))}),n.has(yi.keyField().canonicalString())||t.le.push(new vE(yi.keyField(),r))}return t.le}function ol(e){const t=xt(e);return t.he||(t.he=kQe(t,yy(e))),t.he}function kQe(e,t){if(e.limitType==="F")return t9(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new vE(i.field,o)});const n=e.endAt?new yE(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yE(e.startAt.position,e.startAt.inclusive):null;return t9(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function oA(e,t,n){return new UP(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function HP(e,t){return UM(ol(e),ol(t))&&e.limitType===t.limitType}function Wie(e){return`${zM(ol(e))}|lt:${e.limitType}`}function hh(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Uie(i)).join(", ")}]`),zP(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xp(i)).join(",")),`Target(${r})`}(ol(e))}; limitType=${e.limitType})`}function WP(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):nt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of yy(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=ZU(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,yy(r),i)||r.endAt&&!function(s,a,l){const u=ZU(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,yy(r),i))}(e,t)}function AQe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qie(e){return(t,n)=>{let r=!1;for(const i of yy(e)){const o=RQe(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function RQe(e,t,n){const r=e.field.isKeyField()?nt.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Qp(l,u):ct()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Am(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return Mie(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQe=new ur(nt.comparator);function Su(){return NQe}const Gie=new ur(nt.comparator);function jg(...e){let t=Gie;for(const n of e)t=t.insert(n.key,n);return t}function Kie(e){let t=Gie;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Kf(){return vy()}function Yie(){return vy()}function vy(){return new Rm(e=>e.toString(),(e,t)=>e.isEqual(t))}const DQe=new ur(nt.comparator),MQe=new bi(nt.comparator);function Vt(...e){let t=MQe;for(const n of e)t=t.add(n);return t}const LQe=new bi(gn);function jQe(){return LQe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qie(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gE(t)?"-0":t}}function Xie(e){return{integerValue:""+e}}function FQe(e,t){return mQe(t)?Xie(t):Qie(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this._=void 0}}function VQe(e,t,n){return e instanceof _E?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&FM(o)&&(o=VM(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Tv?Zie(e,t):e instanceof Cv?eoe(e,t):function(i,o){const s=Jie(i,o),a=r9(s)+r9(i.Ie);return nA(s)&&nA(i.Ie)?Xie(a):Qie(i.serializer,a)}(e,t)}function BQe(e,t,n){return e instanceof Tv?Zie(e,t):e instanceof Cv?eoe(e,t):n}function Jie(e,t){return e instanceof wE?function(r){return nA(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class _E extends qP{}class Tv extends qP{constructor(t){super(),this.elements=t}}function Zie(e,t){const n=toe(t);for(const r of e.elements)n.some(i=>yl(i,r))||n.push(r);return{arrayValue:{values:n}}}class Cv extends qP{constructor(t){super(),this.elements=t}}function eoe(e,t){let n=toe(t);for(const r of e.elements)n=n.filter(i=>!yl(i,r));return{arrayValue:{values:n}}}class wE extends qP{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function r9(e){return $r(e.integerValue||e.doubleValue)}function toe(e){return BM(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function zQe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Tv&&i instanceof Tv||r instanceof Cv&&i instanceof Cv?Yp(r.elements,i.elements,yl):r instanceof wE&&i instanceof wE?yl(r.Ie,i.Ie):r instanceof _E&&i instanceof _E}(e.transform,t.transform)}class UQe{constructor(t,n){this.version=t,this.transformResults=n}}class nu{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new nu}static exists(t){return new nu(void 0,t)}static updateTime(t){return new nu(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hw(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class GP{}function noe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ioe(e.key,nu.none()):new $0(e.key,e.data,nu.none());{const n=e.data,r=Is.empty();let i=new bi(yi.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qd(e.key,r,new la(i.toArray()),nu.none())}}function HQe(e,t,n){e instanceof $0?function(i,o,s){const a=i.value.clone(),l=o9(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof qd?function(i,o,s){if(!Hw(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=o9(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(roe(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function _y(e,t,n,r){return e instanceof $0?function(o,s,a,l){if(!Hw(o.precondition,s))return a;const u=o.value.clone(),c=s9(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof qd?function(o,s,a,l){if(!Hw(o.precondition,s))return a;const u=s9(o.fieldTransforms,l,s),c=s.data;return c.setAll(roe(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(o,s,a){return Hw(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function WQe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=Jie(r.transform,i||null);o!=null&&(n===null&&(n=Is.empty()),n.set(r.field,o))}return n||null}function i9(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yp(r,i,(o,s)=>zQe(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $0 extends GP{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qd extends GP{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function roe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function o9(e,t,n){const r=new Map;Ln(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,BQe(s,a,n[i]))}return r}function s9(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,VQe(o,s,t))}return r}class ioe extends GP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qQe extends GP{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQe{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&HQe(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=_y(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=_y(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Yie();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=noe(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Yp(this.mutations,t.mutations,(n,r)=>i9(n,r))&&Yp(this.baseMutations,t.baseMutations,(n,r)=>i9(n,r))}}class WM{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Ln(t.mutations.length===r.length);let i=function(){return DQe}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new WM(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQe{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or,en;function QQe(e){switch(e){default:return ct();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function ooe(e){if(e===void 0)return bu("GRPC error has no .code"),_e.UNKNOWN;switch(e){case Or.OK:return _e.OK;case Or.CANCELLED:return _e.CANCELLED;case Or.UNKNOWN:return _e.UNKNOWN;case Or.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Or.INTERNAL:return _e.INTERNAL;case Or.UNAVAILABLE:return _e.UNAVAILABLE;case Or.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Or.NOT_FOUND:return _e.NOT_FOUND;case Or.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Or.ABORTED:return _e.ABORTED;case Or.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Or.DATA_LOSS:return _e.DATA_LOSS;default:return ct()}}(en=Or||(Or={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQe=new lp([4294967295,4294967295],0);function a9(e){const t=XQe().encode(e),n=new eQe;return n.update(t),new Uint8Array(n.digest())}function l9(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new lp([n,r],0),new lp([i,o],0)]}class qM{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fg(`Invalid padding: ${n}`);if(r<0)throw new Fg(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Fg(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Fg(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=lp.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(lp.fromNumber(r)));return i.compare(JQe)===1&&(i=new lp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=a9(t),[r,i]=l9(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new qM(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Te===0)return;const n=a9(t),[r,i]=l9(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Fg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,k0.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new KP(yt.min(),i,new ur(gn),Su(),Vt())}}class k0{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new k0(r,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class soe{constructor(t,n){this.targetId=t,this.fe=n}}class aoe{constructor(t,n,r=Hi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class u9{constructor(){this.ge=0,this.pe=f9(),this.ye=Hi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Vt(),n=Vt(),r=Vt();return this.pe.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ct()}}),new k0(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=f9()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ln(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class ZQe{constructor(t){this.Le=t,this.ke=new Map,this.qe=Su(),this.Qe=c9(),this.Ke=new ur(gn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:ct()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const o=i.target;if(iA(o))if(r===0){const s=new nt(o.path);this.We(n,s,Mi.newNoDocument(s,yt.min()))}else Ln(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(t),l=a?this.et(a,t,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=xd(r).toUint8Array()}catch(l){if(l instanceof Lie)return Ev("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qM(s,i,o)}catch(l){return Ev(l instanceof Fg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.We(n,o,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&iA(a.target)){const l=new nt(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Mi.newNoDocument(l,t))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Vt();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(t));const i=new KP(t,n,this.Ke,this.qe,r);return this.qe=Su(),this.Qe=c9(),this.Ke=new ur(gn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new u9,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new bi(gn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new u9),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function c9(){return new ur(nt.comparator)}function f9(){return new ur(nt.comparator)}const eXe={asc:"ASCENDING",desc:"DESCENDING"},tXe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nXe={and:"AND",or:"OR"};class rXe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sA(e,t){return e.useProto3Json||zP(t)?t:{value:t}}function bE(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function loe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function iXe(e,t){return bE(e,t.toTimestamp())}function sl(e){return Ln(!!e),yt.fromTimestamp(function(n){const r=Yc(n);return new Wr(r.seconds,r.nanos)}(e))}function GM(e,t){return function(r){return new Jn(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function uoe(e){const t=Jn.fromString(e);return Ln(hoe(t)),t}function aA(e,t){return GM(e.databaseId,t.path)}function LT(e,t){const n=uoe(t);if(n.get(1)!==e.databaseId.projectId)throw new Qe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nt(coe(n))}function lA(e,t){return GM(e.databaseId,t)}function oXe(e){const t=uoe(e);return t.length===4?Jn.emptyPath():coe(t)}function uA(e){return new Jn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function coe(e){return Ln(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function d9(e,t,n){return{name:aA(e,t),fields:n.value.mapValue.fields}}function sXe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ct()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ln(c===void 0||typeof c=="string"),Hi.fromBase64String(c||"")):(Ln(c===void 0||c instanceof Uint8Array),Hi.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?_e.UNKNOWN:ooe(u.code);return new Qe(c,u.message||"")}(s);n=new aoe(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=LT(e,r.document.name),o=sl(r.document.updateTime),s=r.document.createTime?sl(r.document.createTime):yt.min(),a=new Is({mapValue:{fields:r.document.fields}}),l=Mi.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ww(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=LT(e,r.document),o=r.readTime?sl(r.readTime):yt.min(),s=Mi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ww([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=LT(e,r.document),o=r.removedTargetIds||[];n=new Ww([],o,i,null)}else{if(!("filter"in t))return ct();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new YQe(i,o),a=r.targetId;n=new soe(a,s)}}return n}function aXe(e,t){let n;if(t instanceof $0)n={update:d9(e,t.key,t.value)};else if(t instanceof ioe)n={delete:aA(e,t.key)};else if(t instanceof qd)n={update:d9(e,t.key,t.data),updateMask:gXe(t.fieldMask)};else{if(!(t instanceof qQe))return ct();n={verify:aA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof _E)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wE)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ct()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:iXe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ct()}(e,t.precondition)),n}function lXe(e,t){return e&&e.length>0?(Ln(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?sl(i.updateTime):sl(o);return s.isEqual(yt.min())&&(s=sl(o)),new UQe(s,i.transformResults||[])}(n,t))):[]}function uXe(e,t){return{documents:[lA(e,t.path)]}}function cXe(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=lA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return doe(vl.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:ph(f.field),direction:hXe(f.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=sA(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function fXe(e){let t=oXe(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ln(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=foe(f);return d instanceof vl&&Bie(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(p){return new vE(mh(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,zP(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new yE(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new yE(h,d)}(n.endAt)),CQe(t,i,s,o,a,"F",l,u)}function dXe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function foe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mh(n.unaryFilter.field);return zr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mh(n.unaryFilter.field);return zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mh(n.unaryFilter.field);return zr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mh(n.unaryFilter.field);return zr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(e):e.fieldFilter!==void 0?function(n){return zr.create(mh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vl.create(n.compositeFilter.filters.map(r=>foe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct()}}(n.compositeFilter.op))}(e):ct()}function hXe(e){return eXe[e]}function pXe(e){return tXe[e]}function mXe(e){return nXe[e]}function ph(e){return{fieldPath:e.canonicalString()}}function mh(e){return yi.fromServerFormat(e.fieldPath)}function doe(e){return e instanceof zr?function(n){if(n.op==="=="){if(JU(n.value))return{unaryFilter:{field:ph(n.field),op:"IS_NAN"}};if(XU(n.value))return{unaryFilter:{field:ph(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JU(n.value))return{unaryFilter:{field:ph(n.field),op:"IS_NOT_NAN"}};if(XU(n.value))return{unaryFilter:{field:ph(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ph(n.field),op:pXe(n.op),value:n.value}}}(e):e instanceof vl?function(n){const r=n.getFilters().map(i=>doe(i));return r.length===1?r[0]:{compositeFilter:{op:mXe(n.op),filters:r}}}(e):ct()}function gXe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function hoe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n,r,i,o=yt.min(),s=yt.min(),a=Hi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new fc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yXe{constructor(t){this.ut=t}}function vXe(e){const t=fXe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?oA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Xe{constructor(){this.on=new wXe}addToCollectionParentIndex(t,n){return this.on.add(n),be.resolve()}getCollectionParents(t,n){return be.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return be.resolve()}deleteFieldIndex(t,n){return be.resolve()}deleteAllFieldIndexes(t){return be.resolve()}createTargetIndexes(t,n){return be.resolve()}getDocumentsMatchingTarget(t,n){return be.resolve(null)}getIndexType(t,n){return be.resolve(0)}getFieldIndexes(t,n){return be.resolve([])}getNextCollectionGroupToUpdate(t){return be.resolve(null)}getMinOffset(t,n){return be.resolve(Kc.min())}getMinOffsetFromCollectionGroup(t,n){return be.resolve(Kc.min())}updateCollectionGroup(t,n,r){return be.resolve()}updateIndexEntries(t,n){return be.resolve()}}class wXe{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new bi(Jn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new bi(Jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Jp(0)}static Nn(){return new Jp(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bXe{constructor(){this.changes=new Rm(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Mi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SXe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EXe{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&_y(r.mutation,i,la.empty(),Wr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Vt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Vt()){const i=Kf();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=jg();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Kf();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Vt()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Su();const s=vy(),a=function(){return vy()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof qd)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),_y(c.mutation,u,c.mutation.getFieldMask(),Wr.now())):s.set(u.key,la.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new SXe(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=vy();let i=new ur((s,a)=>s-a),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||la.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Vt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Yie();c.forEach(d=>{if(!o.has(d)){const h=noe(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return be.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return nt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$Qe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):be.resolve(Kf());let a=-1,l=o;return s.next(u=>be.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?be.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,Vt())).next(c=>({batchId:a,changes:Kie(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new nt(n)).next(r=>{let i=jg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=jg();return this.indexManager.getCollectionParents(t,o).next(a=>be.forEach(a,l=>{const u=function(f,d){return new UP(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Mi.newInvalidDocument(c)))});let a=jg();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&_y(c.mutation,u,la.empty(),Wr.now()),WP(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xXe{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return be.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:sl(i.createTime)}}(n)),be.resolve()}getNamedQuery(t,n){return be.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:vXe(i.bundledQuery),readTime:sl(i.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PXe{constructor(){this.overlays=new ur(nt.comparator),this.lr=new Map}getOverlay(t,n){return be.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Kf();return be.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.lt(t,n,o)}),be.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),be.resolve()}getOverlaysForCollection(t,n,r){const i=Kf(),o=n.length+1,s=new nt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return be.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new ur((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Kf(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Kf(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return be.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new KQe(n,r));let o=this.lr.get(n);o===void 0&&(o=Vt(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.hr=new bi(Jr.Pr),this.Ir=new bi(Jr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new Jr(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new Jr(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new nt(new Jn([])),r=new Jr(n,t),i=new Jr(n,t+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new nt(new Jn([])),r=new Jr(n,t),i=new Jr(n,t+1);let o=Vt();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Jr(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Jr{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return nt.comparator(t.key,n.key)||gn(t.gr,n.gr)}static Tr(t,n){return gn(t.gr,n.gr)||nt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IXe{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bi(Jr.Pr)}checkEmpty(t){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new GQe(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Jr(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return be.resolve(s)}lookupMutationBatch(t,n){return be.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Jr(n,0),i=new Jr(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new bi(gn);return n.forEach(i=>{const o=new Jr(i,0),s=new Jr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),be.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;nt.isDocumentKey(o)||(o=o.child(""));const s=new Jr(new nt(o),0);let a=new bi(gn);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),be.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ln(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return be.forEach(n.mutations,i=>{const o=new Jr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new Jr(n,0),i=this.yr.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,be.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OXe{constructor(t){this.Cr=t,this.docs=function(){return new ur(nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():Mi.newInvalidDocument(n))}getEntries(t,n){let r=Su();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mi.newInvalidDocument(i))}),be.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Su();const s=n.path,a=new nt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||dQe(fQe(c),r)<=0||(i.has(c.key)||WP(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(t,n,r,i){ct()}vr(t,n){return be.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new TXe(this)}getSize(t){return be.resolve(this.size)}}class TXe extends bXe{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),be.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CXe{constructor(t){this.persistence=t,this.Fr=new Rm(n=>zM(n),UM),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new KM,this.targetCount=0,this.Nr=Jp.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),be.resolve()}getLastRemoteSnapshotVersion(t){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return be.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),be.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Jp(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,be.resolve()}updateTargetData(t,n){return this.kn(n),be.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),be.waitFor(o).next(()=>i)}getTargetCount(t){return be.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return be.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),be.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),be.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),be.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return be.resolve(r)}containsKey(t,n){return be.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Xe{constructor(t,n){this.Br={},this.overlays={},this.Lr=new jM(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new CXe(this),this.indexManager=new _Xe,this.remoteDocumentCache=function(i){return new OXe(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new yXe(n),this.Kr=new xXe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new PXe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new IXe(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){qe("MemoryPersistence","Starting transaction:",t);const i=new kXe(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(t,n){return be.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class kXe extends pQe{constructor(t){super(),this.currentSequenceNumber=t}}class YM{constructor(t){this.persistence=t,this.Gr=new KM,this.zr=null}static jr(t){return new YM(t)}get Hr(){if(this.zr)return this.zr;throw ct()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),be.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),be.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),be.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Hr,r=>{const i=nt.fromPath(r);return this.Jr(t,i).next(o=>{o||n.removeEntry(i,yt.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return be.or([()=>be.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=Vt(),i=Vt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new QM(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AXe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RXe{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.zi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new AXe;return this.Hi(t,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,n,s,a.size)})}).next(()=>o.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(yg()<=Kt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",hh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),be.resolve()):(yg()<=Kt.DEBUG&&qe("QueryEngine","Query:",hh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(yg()<=Kt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",hh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ol(n))):be.resolve())}zi(t,n){if(n9(n))return be.resolve(null);let r=ol(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=oA(n,null,"F"),r=ol(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=Vt(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(t,oA(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return n9(n)||i.isEqual(yt.min())?be.resolve(null):this.Gi.getDocuments(t,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?be.resolve(null):(yg()<=Kt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hh(n)),this.Xi(t,s,n,cQe(i,-1)).next(a=>a))})}Yi(t,n){let r=new bi(qie(t));return n.forEach((i,o)=>{WP(t,o)&&(r=r.add(o))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(t,n,r){return yg()<=Kt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",hh(n)),this.Gi.getDocumentsMatchingQuery(t,n,Kc.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NXe{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new ur(gn),this.ns=new Rm(o=>zM(o),UM),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EXe(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function DXe(e,t,n,r){return new NXe(e,t,n,r)}async function poe(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Vt();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function MXe(e,t){const n=xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let h=be.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(g=>{const y=u.docVersions.get(p);Ln(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Vt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function moe(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function LXe(e,t){const n=xt(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(Hi.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(g,y,m){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(o,h))});let l=Su(),u=Vt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(jXe(o,s,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(yt.min())){const c=n.qr.getLastRemoteSnapshotVersion(o).next(f=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return be.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function jXe(e,t,n){let r=Vt(),i=Vt();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Su();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(yt.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):qe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function FXe(e,t){const n=xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function VXe(e,t){const n=xt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(o=>o?(i=o,be.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new fc(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function cA(e,t,n){const r=xt(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!C0(s))throw s;qe("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function h9(e,t,n){const r=xt(e);let i=yt.min(),o=Vt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=xt(l),d=f.ns.get(c);return d!==void 0?be.resolve(f.ts.get(d)):f.qr.getTargetData(u,c)}(r,s,ol(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,t,n?i:yt.min(),n?o:Vt())).next(a=>(BXe(r,AQe(t),a),{documents:a,ls:o})))}function BXe(e,t,n){let r=e.rs.get(t)||yt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.rs.set(t,r)}class p9{constructor(){this.activeTargetIds=jQe()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zXe{constructor(){this.eo=new p9,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new p9,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UXe{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X_=null;function jT(){return X_===null?X_=function(){return 268435456+Math.round(2147483648*Math.random())}():X_++,"0x"+X_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HXe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WXe{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="WebChannelConnection";class qXe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=jT(),l=this.So(n,r);qe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(n,l,u,i).then(c=>(qe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ev("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+km}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){const i=HXe[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const o=jT();return new Promise((s,a)=>{const l=new ZYe;l.setWithCredentials(!0),l.listenOnce(XYe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case MT.NO_ERROR:const c=l.getResponseJson();qe(ki,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case MT.TIMEOUT:qe(ki,`RPC '${t}' ${o} timed out`),a(new Qe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case MT.HTTP_ERROR:const f=l.getStatus();if(qe(ki,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(m)>=0?m:_e.UNKNOWN}(h.status);a(new Qe(p,h.message))}else a(new Qe(_e.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Qe(_e.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{qe(ki,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);qe(ki,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=jT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=YYe(),a=QYe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");qe(ki,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let d=!1,h=!1;const p=new WXe({co:y=>{h?qe(ki,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(qe(ki,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),qe(ki,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},lo:()=>f.close()}),g=(y,m,v)=>{y.listen(m,_=>{try{v(_)}catch(b){setTimeout(()=>{throw b},0)}})};return g(f,K_.EventType.OPEN,()=>{h||qe(ki,`RPC '${t}' stream ${i} transport opened.`)}),g(f,K_.EventType.CLOSE,()=>{h||(h=!0,qe(ki,`RPC '${t}' stream ${i} transport closed`),p.Ro())}),g(f,K_.EventType.ERROR,y=>{h||(h=!0,Ev(ki,`RPC '${t}' stream ${i} transport errored:`,y),p.Ro(new Qe(_e.UNAVAILABLE,"The operation could not be completed")))}),g(f,K_.EventType.MESSAGE,y=>{var m;if(!h){const v=y.data[0];Ln(!!v);const _=v,b=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(b){qe(ki,`RPC '${t}' stream ${i} received error:`,b);const E=b.status;let w=function(D){const R=Or[D];if(R!==void 0)return ooe(R)}(E),x=b.message;w===void 0&&(w=_e.INTERNAL,x="Unknown error status: "+E+" with message "+b.message),h=!0,p.Ro(new Qe(w,x)),f.close()}else qe(ki,`RPC '${t}' stream ${i} received:`,v),p.Vo(v)}}),g(a,JYe.STAT_EVENT,y=>{y.stat===qU.PROXY?qe(ki,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===qU.NOPROXY&&qe(ki,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function FT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(e){return new rXe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(t,n,r=1e3,i=1.5,o=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(t,n,r,i,o,s,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new goe(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(bu(n.toString()),bu("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new Qe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return qe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GXe extends yoe{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=sXe(this.serializer,t),r=function(o){if(!("targetChange"in o))return yt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?yt.min():s.readTime?sl(s.readTime):yt.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=uA(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=iA(l)?{documents:uXe(o,l)}:{query:cXe(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=loe(o,s.resumeToken);const u=sA(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(yt.min())>0){a.readTime=bE(o,s.snapshotVersion.toTimestamp());const u=sA(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=dXe(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=uA(this.serializer),n.removeTarget=t,this.e_(n)}}class KXe extends yoe{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Ln(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=lXe(t.writeResults,t.commitTime),r=sl(t.commitTime);return this.listener.I_(r,n)}return Ln(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=uA(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>aXe(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YXe extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Qe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(t,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Qe(_e.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe(_e.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class QXe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(bu(n),this.f_=!1):qe("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XXe{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(async()=>{Gd(this)&&(qe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xt(l);u.C_.add(4),await R0(u),u.M_.set("Unknown"),u.C_.delete(4),await A0(u)}(this))})}),this.M_=new QXe(r,i)}}async function A0(e){if(Gd(e))for(const t of e.v_)await t(!0)}async function R0(e){for(const t of e.v_)await t(!1)}function voe(e,t){const n=xt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),ZM(n)?JM(n):Nm(n).Ho()&&XM(n,t))}function _oe(e,t){const n=xt(e),r=Nm(n);n.D_.delete(t),r.Ho()&&woe(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Gd(n)&&n.M_.set("Unknown"))}function XM(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Nm(e).u_(t)}function woe(e,t){e.x_.Oe(t),Nm(e).c_(t)}function JM(e){e.x_=new ZQe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Nm(e).start(),e.M_.g_()}function ZM(e){return Gd(e)&&!Nm(e).jo()&&e.D_.size>0}function Gd(e){return xt(e).C_.size===0}function boe(e){e.x_=void 0}async function JXe(e){e.D_.forEach((t,n)=>{XM(e,t)})}async function ZXe(e,t){boe(e),ZM(e)?(e.M_.w_(t),JM(e)):e.M_.set("Unknown")}async function eJe(e,t,n){if(e.M_.set("Online"),t instanceof aoe&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){qe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await SE(e,r)}else if(t instanceof Ww?e.x_.$e(t):t instanceof soe?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(yt.min()))try{const r=await moe(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.D_.get(u);c&&o.D_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.D_.get(l);if(!c)return;o.D_.set(l,c.withResumeToken(Hi.EMPTY_BYTE_STRING,c.snapshotVersion)),woe(o,l);const f=new fc(c.target,l,u,c.sequenceNumber);XM(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){qe("RemoteStore","Failed to raise snapshot:",r),await SE(e,r)}}async function SE(e,t,n){if(!C0(t))throw t;e.C_.add(1),await R0(e),e.M_.set("Offline"),n||(n=()=>moe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{qe("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await A0(e)})}function Soe(e,t){return t().catch(n=>SE(e,n,t))}async function QP(e){const t=xt(e),n=Qc(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;tJe(t);)try{const i=await FXe(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,nJe(t,i)}catch(i){await SE(t,i)}Eoe(t)&&xoe(t)}function tJe(e){return Gd(e)&&e.b_.length<10}function nJe(e,t){e.b_.push(t);const n=Qc(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Eoe(e){return Gd(e)&&!Qc(e).jo()&&e.b_.length>0}function xoe(e){Qc(e).start()}async function rJe(e){Qc(e).E_()}async function iJe(e){const t=Qc(e);for(const n of e.b_)t.P_(n.mutations)}async function oJe(e,t,n){const r=e.b_.shift(),i=WM.from(r,t,n);await Soe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await QP(e)}async function sJe(e,t){t&&Qc(e).h_&&await async function(r,i){if(function(s){return QQe(s)&&s!==_e.ABORTED}(i.code)){const o=r.b_.shift();Qc(r).Yo(),await Soe(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await QP(r)}}(e,t),Eoe(e)&&xoe(e)}async function g9(e,t){const n=xt(e);n.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const r=Gd(n);n.C_.add(3),await R0(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await A0(n)}async function aJe(e,t){const n=xt(e);t?(n.C_.delete(2),await A0(n)):t||(n.C_.add(2),await R0(n),n.M_.set("Unknown"))}function Nm(e){return e.O_||(e.O_=function(n,r,i){const o=xt(n);return o.A_(),new GXe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{ho:JXe.bind(null,e),Io:ZXe.bind(null,e),a_:eJe.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),ZM(e)?JM(e):e.M_.set("Unknown")):(await e.O_.stop(),boe(e))})),e.O_}function Qc(e){return e.N_||(e.N_=function(n,r,i){const o=xt(n);return o.A_(),new KXe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{ho:rJe.bind(null,e),Io:sJe.bind(null,e),T_:iJe.bind(null,e),I_:oJe.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await QP(e)):(await e.N_.stop(),e.b_.length>0&&(qe("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new eL(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(_e.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tL(e,t){if(bu("AsyncQueue",`${t}: ${e}`),C0(e))return new Qe(_e.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t){this.comparator=t?(n,r)=>t(n,r)||nt.comparator(n.key,r.key):(n,r)=>nt.comparator(n.key,r.key),this.keyedMap=jg(),this.sortedSet=new ur(this.comparator)}static emptySet(t){return new up(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof up)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new up;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.B_=new ur(nt.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):ct():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Zp{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Zp(t,n,up.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&HP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJe{constructor(){this.k_=void 0,this.listeners=[]}}class uJe{constructor(){this.queries=new Rm(t=>Wie(t),HP),this.onlineState="Unknown",this.q_=new Set}}async function Poe(e,t){const n=xt(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new lJe),i)try{o.k_=await n.onListen(r)}catch(s){const a=tL(s,`Initialization of query '${hh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&nL(n)}async function Ioe(e,t){const n=xt(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function cJe(e,t){const n=xt(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&nL(n)}function fJe(e,t,n){const r=xt(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function nL(e){e.q_.forEach(t=>{t.next()})}class Ooe{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Zp(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Zp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(t){this.key=t}}class Coe{constructor(t){this.key=t}}class dJe{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Vt(),this.mutatedKeys=Vt(),this._a=qie(t),this.aa=new up(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new y9,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=WP(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(d,h)||(r.track({type:2,doc:h}),y=!0,(l&&this._a(h,l)>0||u&&this._a(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(a=!0)),y&&(h?(s=s.add(h),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((c,f)=>function(h,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return g(h)-g(p)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,s.length!==0||u?{snapshot:new Zp(this.query,t.aa,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new y9,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Vt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new Coe(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new Toe(r))}),n}da(t){this.ia=t.ls,this.oa=Vt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Zp.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class hJe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class pJe{constructor(t){this.key=t,this.Ra=!1}}class mJe{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Rm(a=>Wie(a),HP),this.fa=new Map,this.ga=new Set,this.pa=new ur(nt.comparator),this.ya=new Map,this.wa=new KM,this.Sa={},this.ba=new Map,this.Da=Jp.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function gJe(e,t){const n=IJe(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=await VXe(n.localStore,ol(t)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await yJe(n,t,r,a==="current",s.resumeToken),n.isPrimaryClient&&voe(n.remoteStore,s)}return i}async function yJe(e,t,n,r,i){e.va=(f,d,h)=>async function(g,y,m,v){let _=y.view.ca(m);_.Zi&&(_=await h9(g.localStore,y.query,!1).then(({documents:x})=>y.view.ca(x,_)));const b=v&&v.targetChanges.get(y.targetId),E=v&&v.targetMismatches.get(y.targetId)!=null,w=y.view.applyChanges(_,g.isPrimaryClient,b,E);return _9(g,y.targetId,w.Ta),w.snapshot}(e,f,d,h);const o=await h9(e.localStore,t,!0),s=new dJe(t,o.ls),a=s.ca(o.documents),l=k0.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);_9(e,n,u.Ta);const c=new hJe(t,n,s);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function vJe(e,t){const n=xt(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!HP(o,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cA(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_oe(n.remoteStore,r.targetId),fA(n,r.targetId)}).catch(T0)):(fA(n,r.targetId),await cA(n.localStore,r.targetId,!0))}async function _Je(e,t,n){const r=OJe(e);try{const i=await function(s,a){const l=xt(s),u=Wr.now(),c=a.reduce((h,p)=>h.add(p.key),Vt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Su(),g=Vt();return l.ss.getEntries(h,c).next(y=>{p=y,p.forEach((m,v)=>{v.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const m=[];for(const v of a){const _=WQe(v,f.get(v.key).overlayedDocument);_!=null&&m.push(new qd(v.key,_,jie(_.value.mapValue),nu.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,m,a)}).next(y=>{d=y;const m=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(h,y.batchId,m)})}).then(()=>({batchId:d.batchId,changes:Kie(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Sa[s.currentUser.toKey()];u||(u=new ur(gn)),u=u.insert(a,l),s.Sa[s.currentUser.toKey()]=u}(r,i.batchId,n),await N0(r,i.changes),await QP(r.remoteStore)}catch(i){const o=tL(i,"Failed to persist write");n.reject(o)}}async function $oe(e,t){const n=xt(e);try{const r=await LXe(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Ln(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Ln(s.Ra):i.removedDocuments.size>0&&(Ln(s.Ra),s.Ra=!1))}),await N0(n,r,t)}catch(r){await T0(r)}}function v9(e,t,n){const r=xt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=xt(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(u=!0)}),u&&nL(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wJe(e,t,n){const r=xt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let s=new ur(nt.comparator);s=s.insert(o,Mi.newNoDocument(o,yt.min()));const a=Vt().add(o),l=new KP(yt.min(),new Map,new ur(gn),s,a);await $oe(r,l),r.pa=r.pa.remove(o),r.ya.delete(t),rL(r)}else await cA(r.localStore,t,!1).then(()=>fA(r,t,n)).catch(T0)}async function bJe(e,t){const n=xt(e),r=t.batch.batchId;try{const i=await MXe(n.localStore,t);Aoe(n,r,null),koe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await N0(n,i)}catch(i){await T0(i)}}async function SJe(e,t,n){const r=xt(e);try{const i=await function(s,a){const l=xt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ln(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);Aoe(r,t,n),koe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await N0(r,i)}catch(i){await T0(i)}}function koe(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function Aoe(e,t,n){const r=xt(e);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function fA(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Roe(e,r)})}function Roe(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(_oe(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),rL(e))}function _9(e,t,n){for(const r of n)r instanceof Toe?(e.wa.addReference(r.key,t),EJe(e,r)):r instanceof Coe?(qe("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Roe(e,r.key)):ct()}function EJe(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(qe("SyncEngine","New document in limbo: "+n),e.ga.add(r),rL(e))}function rL(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new nt(Jn.fromString(t)),r=e.Da.next();e.ya.set(r,new pJe(n)),e.pa=e.pa.insert(n,r),voe(e.remoteStore,new fc(ol(HM(n.path)),r,"TargetPurposeLimboResolution",jM._e))}}async function N0(e,t,n){const r=xt(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{s.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=QM.Qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Va.a_(i),await async function(l,u){const c=xt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>be.forEach(u,d=>be.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>be.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!C0(f))throw f;qe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,g)}}}(r.localStore,o))}async function xJe(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){qe("SyncEngine","User change. New user:",t.toKey());const r=await poe(n.localStore,t);n.currentUser=t,function(o,s){o.ba.forEach(a=>{a.forEach(l=>{l.reject(new Qe(_e.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await N0(n,r._s)}}function PJe(e,t){const n=xt(e),r=n.ya.get(t);if(r&&r.Ra)return Vt().add(r.key);{let i=Vt();const o=n.fa.get(t);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function IJe(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$oe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PJe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wJe.bind(null,t),t.Va.a_=cJe.bind(null,t.eventManager),t.Va.Fa=fJe.bind(null,t.eventManager),t}function OJe(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bJe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SJe.bind(null,t),t}class w9{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=YP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return DXe(this.persistence,new RXe,t.initialUser,this.serializer)}createPersistence(t){return new $Xe(YM.jr,this.serializer)}createSharedClientState(t){return new zXe}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class TJe{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v9(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xJe.bind(null,this.syncEngine),await aJe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uJe}()}createDatastore(t){const n=YP(t.databaseInfo.databaseId),r=function(o){return new qXe(o)}(t.databaseInfo);return function(o,s,a,l){return new YXe(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new XXe(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>v9(this.syncEngine,n,0),function(){return m9.D()?new m9:new UXe}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const f=new mJe(i,o,s,a,l,u);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=xt(n);qe("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await R0(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):bu("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJe{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=po.UNAUTHENTICATED,this.clientId=Die.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{qe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(qe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=tL(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function VT(e,t){e.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await poe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function b9(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Doe(e);qe("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>g9(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>g9(t.remoteStore,o)),e._onlineComponents=t}function $Je(e){return e.name==="FirebaseError"?e.code===_e.FAILED_PRECONDITION||e.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Doe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await VT(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!$Je(n))throw n;Ev("Error using user provided cache. Falling back to memory cache: "+n),await VT(e,new w9)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),await VT(e,new w9);return e._offlineComponents}async function iL(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),await b9(e,e._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),await b9(e,new TJe))),e._onlineComponents}function kJe(e){return Doe(e).then(t=>t.persistence)}function AJe(e){return iL(e).then(t=>t.remoteStore)}function RJe(e){return iL(e).then(t=>t.syncEngine)}async function Moe(e){const t=await iL(e),n=t.eventManager;return n.onListen=gJe.bind(null,t.syncEngine),n.onUnlisten=vJe.bind(null,t.syncEngine),n}function NJe(e){return e.asyncQueue.enqueue(async()=>{const t=await kJe(e),n=await AJe(e);return t.setNetworkEnabled(!0),function(i){const o=xt(i);return o.C_.delete(0),A0(o)}(n)})}function DJe(e,t,n={}){const r=new tu;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Noe({next:d=>{s.enqueueAndForget(()=>Ioe(o,f));const h=d.docs.has(a);!h&&d.fromCache?u.reject(new Qe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?u.reject(new Qe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new Ooe(HM(a.path),c,{includeMetadataChanges:!0,J_:!0});return Poe(o,f)}(await Moe(e),e.asyncQueue,t,n,r)),r.promise}function MJe(e,t,n={}){const r=new tu;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Noe({next:d=>{s.enqueueAndForget(()=>Ioe(o,f)),d.fromCache&&l.source==="server"?u.reject(new Qe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new Ooe(a,c,{includeMetadataChanges:!0,J_:!0});return Poe(o,f)}(await Moe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Loe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function joe(e,t,n){if(!n)throw new Qe(_e.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function LJe(e,t,n,r){if(t===!0&&r===!0)throw new Qe(_e.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function E9(e){if(!nt.isDocumentKey(e))throw new Qe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function x9(e){if(nt.isDocumentKey(e))throw new Qe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function oL(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ct()}function Id(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oL(e);throw new Qe(_e.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Qe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Qe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LJe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Loe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Qe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Qe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Qe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sL{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Qe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P9(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nQe;switch(r.type){case"firstParty":return new oQe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=S9.get(n);r&&(qe("ComponentProvider","Removing Datastore"),S9.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new XP(this.firestore,t,this._query)}}class Jo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Jo(this.firestore,t,this._key)}}class $c extends XP{constructor(t,n,r){super(t,n,HM(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Jo(this.firestore,null,new nt(t))}withConverter(t){return new $c(this.firestore,t,this._path)}}function jJe(e,t,...n){if(e=Ui(e),joe("collection","path",t),e instanceof sL){const r=Jn.fromString(t,...n);return x9(r),new $c(e,null,r)}{if(!(e instanceof Jo||e instanceof $c))throw new Qe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Jn.fromString(t,...n));return x9(r),new $c(e.firestore,null,r)}}function zu(e,t,...n){if(e=Ui(e),arguments.length===1&&(t=Die.newId()),joe("doc","path",t),e instanceof sL){const r=Jn.fromString(t,...n);return E9(r),new Jo(e,null,new nt(r))}{if(!(e instanceof Jo||e instanceof $c))throw new Qe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Jn.fromString(t,...n));return E9(r),new Jo(e.firestore,e instanceof $c?e.converter:null,new nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new goe(this,"async_queue_retry"),this.iu=()=>{const n=FT();n&&qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=FT();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=FT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new tu;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!C0(t))throw t;qe("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw bu("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=eL.createAndSchedule(this,t,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&ct()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class D0 extends sL{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new FJe}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Foe(this),this._firestoreClient.terminate()}}function VJe(e,t,n){n||(n="(default)");const r=Tm(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(hv(o,t))return i;throw new Qe(_e.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new Qe(_e.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Qe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function JP(e){return e._firestoreClient||Foe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Foe(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new yQe(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Loe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new CJe(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function BJe(e){return NJe(JP(e=Id(e,D0)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t){this._byteString=t}static fromBase64String(t){try{return new em(Hi.fromBase64String(t))}catch(n){throw new Qe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new em(Hi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Qe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Qe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Qe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return gn(this._lat,t._lat)||gn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJe=/^__.*__$/;class UJe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new qd(t,this.data,this.fieldMask,n,this.fieldTransforms):new $0(t,this.data,n,this.fieldTransforms)}}function Boe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class uL{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new uL(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return EE(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(Boe(this.Iu)&&zJe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class HJe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||YP(t)}pu(t,n,r,i=!1){return new uL({Iu:t,methodName:n,gu:r,path:yi.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WJe(e){const t=e._freezeSettings(),n=YP(e._databaseId);return new HJe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qJe(e,t,n,r,i,o={}){const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);Woe("Data must be an object, but it was:",s,r);const a=Uoe(r,s);let l,u;if(o.merge)l=new la(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=GJe(t,f,n);if(!s.contains(d))throw new Qe(_e.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);YJe(c,d)||c.push(d)}l=new la(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new UJe(new Is(a),l,u)}function zoe(e,t){if(Hoe(e=Ui(e)))return Woe("Unsupported field value:",t,e),Uoe(e,t);if(e instanceof Voe)return function(r,i){if(!Boe(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=zoe(a,i.Vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FQe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Wr.fromDate(r);return{timestampValue:bE(i.serializer,o)}}if(r instanceof Wr){const o=new Wr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bE(i.serializer,o)}}if(r instanceof lL)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof em)return{bytesValue:loe(i.serializer,r._byteString)};if(r instanceof Jo){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:GM(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${oL(r)}`)}(e,t)}function Uoe(e,t){const n={};return Mie(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Am(e,(r,i)=>{const o=zoe(i,t.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Hoe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Wr||e instanceof lL||e instanceof em||e instanceof Jo||e instanceof Voe)}function Woe(e,t,n){if(!Hoe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=oL(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function GJe(e,t,n){if((t=Ui(t))instanceof aL)return t._internalPath;if(typeof t=="string")return qoe(e,t);throw EE("Field path arguments must be of type string or ",e,!1,void 0,n)}const KJe=new RegExp("[~\\*/\\[\\]]");function qoe(e,t,n){if(t.search(KJe)>=0)throw EE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new aL(...t.split("."))._internalPath}catch{throw EE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function EE(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Qe(_e.INVALID_ARGUMENT,a+e+l)}function YJe(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QJe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Koe("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QJe extends Goe{data(){return super.data()}}function Koe(e,t){return typeof t=="string"?qoe(e,t):t instanceof aL?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Qe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JJe{convertValue(t,n="none"){switch(Pd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $r(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ct()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Am(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new lL($r(t.latitude),$r(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=VM(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pv(t));default:return null}}convertTimestamp(t){const n=Yc(t);return new Wr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Jn.fromString(t);Ln(hoe(r));const i=new Iv(r.get(1),r.get(3)),o=new nt(r.popFirst(5));return i.isEqual(n)||bu(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJe(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yoe extends Goe{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Koe("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qw extends Yoe{data(t={}){return super.data(t)}}class eZe{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new qw(this._firestore,this._userDataWriter,r.key,r,new Vg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new qw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new qw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:tZe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tZe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e){e=Id(e,Jo);const t=Id(e.firestore,D0);return DJe(JP(t),e._key).then(n=>iZe(t,e,n))}class Qoe extends JJe{constructor(t){super(),this.firestore=t}convertBytes(t){return new em(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Jo(this.firestore,null,n)}}function nZe(e){e=Id(e,XP);const t=Id(e.firestore,D0),n=JP(t),r=new Qoe(t);return XJe(e._query),MJe(n,e._query).then(i=>new eZe(t,r,e,i))}function vg(e,t,n){e=Id(e,Jo);const r=Id(e.firestore,D0),i=ZJe(e.converter,t,n);return rZe(r,[qJe(WJe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,nu.none())])}function rZe(e,t){return function(r,i){const o=new tu;return r.asyncQueue.enqueueAndForget(async()=>_Je(await RJe(r),i,o)),o.promise}(JP(e),t)}function iZe(e,t,n){const r=n.docs.get(t._key),i=new Qoe(e);return new Yoe(e,i,t._key,r,new Vg(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){km=i})(Hd),_u(new gl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new D0(new rQe(r.getProvider("auth-internal")),new aQe(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Qe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iv(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),pa(GU,"4.4.0",t),pa(GU,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Map,Xoe={activated:!1,tokenObservers:[]},oZe={initialized:!1,enabled:!1};function qr(e){return dA.get(e)||Object.assign({},Xoe)}function sZe(e,t){return dA.set(e,t),dA.get(e)}function ZP(){return oZe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe="https://content-firebaseappcheck.googleapis.com/v1",aZe="exchangeRecaptchaV3Token",lZe="exchangeDebugToken",I9={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},uZe=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZe{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new dv,await fZe(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new dv,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function fZe(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZe={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Io=new Om("appCheck","AppCheck",dZe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function cL(e){if(!qr(e).activated)throw Io.create("use-before-activation",{appName:e.name})}function Zoe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),o=t-n*3600*24-r*3600-i*60;let s="";return n&&(s+=Z_(n)+"d:"),r&&(s+=Z_(r)+"h:"),s+=Z_(i)+"m:"+Z_(o)+"s",s}function Z_(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s;try{s=await fetch(e,o)}catch(f){throw Io.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(s.status!==200)throw Io.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(f){throw Io.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Io.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function hZe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Joe}/projects/${n}/apps/${r}:${aZe}?key=${i}`,body:{recaptcha_v3_token:t}}}function ese(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Joe}/projects/${n}/apps/${r}:${lZe}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZe="firebase-app-check-database",mZe=1,$v="firebase-app-check-store",tse="debug-token";let ew=null;function nse(){return ew||(ew=new Promise((e,t)=>{try{const n=indexedDB.open(pZe,mZe);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Io.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($v,{keyPath:"compositeKey"})}}}catch(n){t(Io.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),ew)}function gZe(e){return ise(ose(e))}function yZe(e,t){return rse(ose(e),t)}function vZe(e){return rse(tse,e)}function _Ze(){return ise(tse)}async function rse(e,t){const r=(await nse()).transaction($v,"readwrite"),o=r.objectStore($v).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(Io.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function ise(e){const n=(await nse()).transaction($v,"readonly"),i=n.objectStore($v).get(e);return new Promise((o,s)=>{i.onsuccess=a=>{const l=a.target.result;o(l?l.value:void 0)},n.onerror=a=>{var l;s(Io.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function ose(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new PP("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wZe(e){if(aM()){let t;try{t=await gZe(e)}catch(n){kv.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function BT(e,t){return aM()?yZe(e,t).catch(n=>{kv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function bZe(){let e;try{e=await _Ze()}catch{}if(e)return e;{const t=xqe();return vZe(t).catch(n=>kv.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return ZP().enabled}async function hL(){const e=ZP();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function SZe(){const e=sre(),t=ZP();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new dv;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(bZe())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZe={error:"UNKNOWN_ERROR"};function xZe(e){return oM.encodeString(JSON.stringify(e),!1)}async function hA(e,t=!1){const n=e.app;cL(n);const r=qr(n);let i=r.token,o;if(i&&!jh(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(jh(l)?i=l:await BT(n,void 0))}if(!t&&i&&jh(i))return{token:i.token};let s=!1;if(dL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=fL(ese(n,await hL()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const l=await r.exchangeTokenPromise;return await BT(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=await qr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?kv.warn(l.message):kv.error(l),o=l}let a;return i?o?jh(i)?a={token:i.token,internalError:o}:a=C9(o):(a={token:i.token},r.token=i,await BT(n,i)):a=C9(o),s&&lse(n,a),a}async function PZe(e){const t=e.app;cL(t);const{provider:n}=qr(t);if(dL()){const r=await hL(),{token:i}=await fL(ese(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function sse(e,t,n,r){const{app:i}=e,o=qr(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&jh(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),T9(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>T9(e))}function ase(e,t){const n=qr(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function T9(e){const{app:t}=e,n=qr(t);let r=n.tokenRefresher;r||(r=IZe(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function IZe(e){const{app:t}=e;return new cZe(async()=>{const n=qr(t);let r;if(n.token?r=await hA(e,!0):r=await hA(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=qr(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},I9.RETRIAL_MIN_WAIT,I9.RETRIAL_MAX_WAIT)}function lse(e,t){const n=qr(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function jh(e){return e.expireTimeMillis-Date.now()>0}function C9(e){return{token:xZe(EZe),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZe{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=qr(this.app);for(const n of t)ase(this.app,n.next);return Promise.resolve()}}function TZe(e,t){return new OZe(e,t)}function CZe(e){return{getToken:t=>hA(e,t),getLimitedUseToken:()=>PZe(e),addTokenListener:t=>sse(e,"INTERNAL",t),removeTokenListener:t=>ase(e.app,t)}}const $Ze="@firebase/app-check",kZe="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZe="https://www.google.com/recaptcha/api.js";function RZe(e,t){const n=new dv,r=qr(e);r.reCAPTCHAState={initialized:n};const i=NZe(e),o=O9(!1);return o?$9(e,t,o,i,n):LZe(()=>{const s=O9(!1);if(!s)throw new Error("no recaptcha");$9(e,t,s,i,n)}),n.promise}function $9(e,t,n,r,i){n.ready(()=>{MZe(e,t,n,r),i.resolve(n)})}function NZe(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function DZe(e){cL(e);const n=await qr(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=qr(e).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function MZe(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{qr(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{qr(e).reCAPTCHAState.succeeded=!1}}),o=qr(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function LZe(e){const t=document.createElement("script");t.src=AZe,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;FZe(this._throttleData);const i=await DZe(this._app).catch(s=>{throw Io.create("recaptcha-error")});if(!(!((t=qr(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Io.create("recaptcha-error");let o;try{o=await fL(hZe(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=jZe(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Io.create("throttled",{time:Zoe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o}initialize(t){this._app=t,this._heartbeatServiceProvider=Tm(t,"heartbeat"),RZe(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof pL?this._siteKey===t._siteKey:!1}}function jZe(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+uZe,httpStatus:e};{const n=t?t.backoffCount:0,r=Cqe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function FZe(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Io.create("throttled",{time:Zoe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VZe(e=uM(),t){e=Ui(e);const n=Tm(e,"app-check");if(ZP().initialized||SZe(),dL()&&hL().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&o.provider.isEqual(t.provider))return i;throw Io.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return BZe(e,t.provider,t.isTokenAutoRefreshEnabled),qr(e).isTokenAutoRefreshEnabled&&sse(r,"INTERNAL",()=>{}),r}function BZe(e,t,n){const r=sZe(e,Object.assign({},Xoe));r.activated=!0,r.provider=t,r.cachedTokenPromise=wZe(e).then(i=>(i&&jh(i)&&(r.token=i,lse(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const zZe="app-check",k9="app-check-internal";function UZe(){_u(new gl(zZe,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return TZe(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(k9).initialize()})),_u(new gl(k9,e=>{const t=e.getProvider("app-check").getImmediate();return CZe(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),pa($Ze,kZe)}UZe();function use(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HZe=use,cse=new Om("auth","Firebase",use());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new PP("@firebase/auth");function WZe(e,...t){xE.logLevel<=Kt.WARN&&xE.warn(`Auth (${Hd}): ${e}`,...t)}function Gw(e,...t){xE.logLevel<=Kt.ERROR&&xE.error(`Auth (${Hd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(e,...t){throw mL(e,...t)}function al(e,...t){return mL(e,...t)}function qZe(e,t,n){const r=Object.assign(Object.assign({},HZe()),{[t]:n});return new Om("auth","Firebase",r).create(t,{appName:e.name})}function mL(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return cse.create(e,...t)}function vt(e,t,...n){if(!e)throw mL(t,...n)}function ql(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gw(t),new Error(t)}function xu(e,t){e||ql(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function GZe(){return A9()==="http:"||A9()==="https:"}function A9(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GZe()||hqe()||"connection"in navigator)?navigator.onLine:!0}function YZe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n){this.shortDelay=t,this.longDelay=n,xu(n>t,"Short delay should be less than long delay!"),this.isMobile=dqe()||pqe()}get(){return KZe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(e,t){xu(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ql("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ql("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ql("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QZe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZe=new M0(3e4,6e4);function eI(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Dm(e,t,n,r,i={}){return dse(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=_0(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),fse.fetch()(pse(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function dse(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},QZe),t);try{const i=new JZe(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw tw(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw tw(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw tw(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw tw(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qZe(e,c,u);Eu(e,c)}}catch(i){if(i instanceof xl)throw i;Eu(e,"network-request-failed",{message:String(i)})}}async function hse(e,t,n,r,i={}){const o=await Dm(e,t,n,r,i);return"mfaPendingCredential"in o&&Eu(e,"multi-factor-auth-required",{_serverResponse:o}),o}function pse(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?gL(e.config,i):`${e.config.apiScheme}://${i}`}class JZe{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(al(this.auth,"network-request-failed")),XZe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=al(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZZe(e,t){return Dm(e,"POST","/v1/accounts:delete",t)}async function eet(e,t){return Dm(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tet(e,t=!1){const n=Ui(e),r=await n.getIdToken(t),i=yL(r);vt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wy(zT(i.auth_time)),issuedAtTime:wy(zT(i.iat)),expirationTime:wy(zT(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zT(e){return Number(e)*1e3}function yL(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Gw("JWT malformed, contained fewer than 3 sections"),null;try{const i=ore(n);return i?JSON.parse(i):(Gw("Failed to decode base64 JWT payload"),null)}catch(i){return Gw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function net(e){const t=yL(e);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Av(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof xl&&ret(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function ret({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iet{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wy(this.lastLoginAt),this.creationTime=wy(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Av(e,eet(n,{idToken:r}));vt(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?aet(o.providerUserInfo):[],a=set(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mse(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function oet(e){const t=Ui(e);await PE(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function set(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function aet(e){return e.map(t=>{var{providerId:n}=t,r=S2(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uet(e,t){const n=await dse(e,{},async()=>{const r=_0({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=pse(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fse.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cet(e,t){return Dm(e,"POST","/v2/accounts:revokeToken",eI(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):net(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return vt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await uet(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Rv;return r&&(vt(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(vt(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(vt(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Rv,this.toJSON())}_performRefresh(){return ql("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(e,t){vt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class rd{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=S2(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iet(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mse(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Av(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tet(this,t)}reload(){return oet(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new rd(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await PE(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Av(this,ZZe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:b,isAnonymous:E,providerData:w,stsTokenManager:x}=n;vt(_&&x,t,"internal-error");const I=Rv.fromJSON(this.name,x);vt(typeof _=="string",t,"internal-error"),Uu(f,t.name),Uu(d,t.name),vt(typeof b=="boolean",t,"internal-error"),vt(typeof E=="boolean",t,"internal-error"),Uu(h,t.name),Uu(p,t.name),Uu(g,t.name),Uu(y,t.name),Uu(m,t.name),Uu(v,t.name);const D=new rd({uid:_,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:I,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(D.providerData=w.map(R=>Object.assign({},R))),y&&(D._redirectEventId=y),D}static async _fromIdTokenResponse(t,n,r=!1){const i=new Rv;i.updateFromServerResponse(n);const o=new rd({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await PE(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=new Map;function Gl(e){xu(e instanceof Function,"Expected a class definition");let t=R9.get(e);return t?(xu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,R9.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}gse.type="NONE";const N9=gse;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e,t,n){return`firebase:${e}:${t}:${n}`}class cp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Kw(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kw("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?rd._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new cp(Gl(N9),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Gl(N9);const s=Kw(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=rd._fromJSON(t,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new cp(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new cp(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_se(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yse(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bse(t))return"Blackberry";if(Sse(t))return"Webos";if(vL(t))return"Safari";if((t.includes("chrome/")||vse(t))&&!t.includes("edge/"))return"Chrome";if(wse(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yse(e=zi()){return/firefox\//i.test(e)}function vL(e=zi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vse(e=zi()){return/crios\//i.test(e)}function _se(e=zi()){return/iemobile/i.test(e)}function wse(e=zi()){return/android/i.test(e)}function bse(e=zi()){return/blackberry/i.test(e)}function Sse(e=zi()){return/webos/i.test(e)}function tI(e=zi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fet(e=zi()){var t;return tI(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function det(){return mqe()&&document.documentMode===10}function Ese(e=zi()){return tI(e)||wse(e)||Sse(e)||bse(e)||/windows phone/i.test(e)||_se(e)}function het(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xse(e,t=[]){let n;switch(e){case"Browser":n=D9(zi());break;case"Worker":n=`${D9(zi())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pet{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function met(e,t={}){return Dm(e,"GET","/v2/passwordPolicy",eI(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const get=6;class yet{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:get,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vet{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M9(this),this.idTokenSubscription=new M9(this),this.beforeStateQueue=new pet(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cse,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Gl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await cp.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await PE(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YZe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Ui(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await met(this),n=new yet(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Om("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cet(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Gl(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await cp.create(this,[Gl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xse(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&WZe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nI(e){return Ui(e)}class M9{constructor(t){this.auth=t,this.observer=null,this.addObserver=bqe(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _et(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function wet(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=al("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_et().appendChild(r)})}function bet(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eet(e,t){const n=Tm(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(hv(o,t??{}))return i;Eu(i,"already-initialized")}return n.initialize({options:t})}function xet(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Pet(e,t,n){const r=nI(e);vt(r._canInitEmulator,r,"emulator-config-failed"),vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Pse(t),{host:s,port:a}=Iet(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Oet()}function Pse(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Iet(e){const t=Pse(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:L9(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:L9(s)}}}function L9(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Oet(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ql("not implemented")}_getIdTokenResponse(t){return ql("not implemented")}_linkToIdToken(t,n){return ql("not implemented")}_getReauthenticationResolver(t){return ql("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(e,t){return hse(e,"POST","/v1/accounts:signInWithIdp",eI(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tet="http://localhost";class Od extends Ise{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Od(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Eu("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=S2(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Od(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return fp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,fp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,fp(t,n)}buildRequest(){const t={requestUri:Tet,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_0(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends Ose{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends L0{constructor(){super("facebook.com")}static credential(t){return Od._fromParams({providerId:nc.PROVIDER_ID,signInMethod:nc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nc.credentialFromTaggedObject(t)}static credentialFromError(t){return nc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nc.credential(t.oauthAccessToken)}catch{return null}}}nc.FACEBOOK_SIGN_IN_METHOD="facebook.com";nc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends L0{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Od._fromParams({providerId:rc.PROVIDER_ID,signInMethod:rc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return rc.credentialFromTaggedObject(t)}static credentialFromError(t){return rc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rc.credential(n,r)}catch{return null}}}rc.GOOGLE_SIGN_IN_METHOD="google.com";rc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends L0{constructor(){super("github.com")}static credential(t){return Od._fromParams({providerId:ic.PROVIDER_ID,signInMethod:ic.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ic.credentialFromTaggedObject(t)}static credentialFromError(t){return ic.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ic.credential(t.oauthAccessToken)}catch{return null}}}ic.GITHUB_SIGN_IN_METHOD="github.com";ic.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends L0{constructor(){super("twitter.com")}static credential(t,n){return Od._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return oc.credentialFromTaggedObject(t)}static credentialFromError(t){return oc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return oc.credential(n,r)}catch{return null}}}oc.TWITTER_SIGN_IN_METHOD="twitter.com";oc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cet(e,t){return hse(e,"POST","/v1/accounts:signUp",eI(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await rd._fromIdTokenResponse(t,r,i),s=j9(r);return new Xc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=j9(r);return new Xc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function j9(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $et(e){var t;const n=nI(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Xc({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Cet(n,{returnSecureToken:!0}),i=await Xc._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends xl{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,IE.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new IE(t,n,r,i)}}function Tse(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?IE._fromErrorAndOperation(e,o,t,r):o})}async function ket(e,t,n=!1){const r=await Av(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aet(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Av(e,Tse(r,i,t,e),n);vt(o.idToken,r,"internal-error");const s=yL(o.idToken);vt(s,r,"internal-error");const{sub:a}=s;return vt(e.uid===a,r,"user-mismatch"),Xc._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Eu(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ret(e,t,n=!1){const r="signIn",i=await Tse(e,r,t),o=await Xc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function Net(e,t,n,r){return Ui(e).onIdTokenChanged(t,n,r)}function Det(e,t,n){return Ui(e).beforeAuthStateChanged(t,n)}const OE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(OE,"1"),this.storage.removeItem(OE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Met(){const e=zi();return vL(e)||tI(e)}const Let=1e3,jet=10;class $se extends Cse{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Met()&&het(),this.fallbackToPolling=Ese(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(t.newValue!==s)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);det()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,jet):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Let)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}$se.type="LOCAL";const Fet=$se;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse extends Cse{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kse.type="SESSION";const Ase=kse;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vet(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new rI(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Vet(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rI.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bet{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=_L("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(){return window}function zet(e){ll().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rse(){return typeof ll().WorkerGlobalScope<"u"&&typeof ll().importScripts=="function"}async function Uet(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Het(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Wet(){return Rse()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nse="firebaseLocalStorageDb",qet=1,TE="firebaseLocalStorage",Dse="fbase_key";class j0{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iI(e,t){return e.transaction([TE],t?"readwrite":"readonly").objectStore(TE)}function Get(){const e=indexedDB.deleteDatabase(Nse);return new j0(e).toPromise()}function mA(){const e=indexedDB.open(Nse,qet);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(TE,{keyPath:Dse})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(TE)?t(r):(r.close(),await Get(),t(await mA()))})})}async function F9(e,t,n){const r=iI(e,!0).put({[Dse]:t,value:n});return new j0(r).toPromise()}async function Ket(e,t){const n=iI(e,!1).get(t),r=await new j0(n).toPromise();return r===void 0?null:r.value}function V9(e,t){const n=iI(e,!0).delete(t);return new j0(n).toPromise()}const Yet=800,Qet=3;class Mse{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mA(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Qet)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rse()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rI._getInstance(Wet()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Uet(),!this.activeServiceWorker)return;this.sender=new Bet(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Het()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mA();return await F9(t,OE,"1"),await V9(t,OE),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F9(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Ket(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>V9(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=iI(i,!1).getAll();return new j0(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yet)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mse.type="LOCAL";const Xet=Mse;new M0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jet(e,t){return t?Gl(t):(vt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL extends Ise{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Zet(e){return Ret(e.auth,new wL(e),e.bypassAuthState)}function ett(e){const{auth:t,user:n}=e;return vt(n,t,"internal-error"),Aet(n,new wL(e),e.bypassAuthState)}async function ttt(e){const{auth:t,user:n}=e;return vt(n,t,"internal-error"),ket(n,new wL(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Zet;case"linkViaPopup":case"linkViaRedirect":return ttt;case"reauthViaPopup":case"reauthViaRedirect":return ett;default:Eu(this.auth,"internal-error")}}resolve(t){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ntt=new M0(2e3,1e4);class Fh extends Lse{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fh.currentPopupAction&&Fh.currentPopupAction.cancel(),Fh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){xu(this.filter.length===1,"Popup operations only handle one event");const t=_L();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(al(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(al(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(al(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ntt.get())};t()}}Fh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rtt="pendingRedirect",Yw=new Map;class itt extends Lse{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Yw.get(this.auth._key());if(!t){try{const r=await ott(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Yw.set(this.auth._key(),t)}return this.bypassAuthState||Yw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ott(e,t){const n=ltt(t),r=att(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function stt(e,t){Yw.set(e._key(),t)}function att(e){return Gl(e._redirectPersistence)}function ltt(e){return Kw(rtt,e.config.apiKey,e.name)}async function utt(e,t,n=!1){const r=nI(e),i=Jet(r,t),s=await new itt(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ctt=10*60*1e3;class ftt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dtt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!jse(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(al(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ctt&&this.cachedEventUids.clear(),this.cachedEventUids.has(B9(t))}saveEventToCache(t){this.cachedEventUids.add(B9(t)),this.lastProcessedEventTime=Date.now()}}function B9(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function jse({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function dtt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jse(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function htt(e,t={}){return Dm(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ptt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mtt=/^https?/;async function gtt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await htt(e);for(const n of t)try{if(ytt(n))return}catch{}Eu(e,"unauthorized-domain")}function ytt(e){const t=pA(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!mtt.test(n))return!1;if(ptt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vtt=new M0(3e4,6e4);function z9(){const e=ll().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function _tt(e){return new Promise((t,n)=>{var r,i,o;function s(){z9(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{z9(),n(al(e,"network-request-failed"))},timeout:vtt.get()})}if(!((i=(r=ll().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=ll().gapi)===null||o===void 0)&&o.load)s();else{const a=bet("iframefcb");return ll()[a]=()=>{gapi.load?s():n(al(e,"network-request-failed"))},wet(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Qw=null,t})}let Qw=null;function wtt(e){return Qw=Qw||_tt(e),Qw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const btt=new M0(5e3,15e3),Stt="__/auth/iframe",Ett="emulator/auth/iframe",xtt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ptt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Itt(e){const t=e.config;vt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?gL(t,Ett):`https://${e.config.authDomain}/${Stt}`,r={apiKey:t.apiKey,appName:e.name,v:Hd},i=Ptt.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_0(r).slice(1)}`}async function Ott(e){const t=await wtt(e),n=ll().gapi;return vt(n,e,"internal-error"),t.open({where:document.body,url:Itt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xtt,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=al(e,"network-request-failed"),a=ll().setTimeout(()=>{o(s)},btt.get());function l(){ll().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ttt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ctt=500,$tt=600,ktt="_blank",Att="http://localhost";class U9{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rtt(e,t,n,r=Ctt,i=$tt){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ttt),{width:r.toString(),height:i.toString(),top:o,left:s}),u=zi().toLowerCase();n&&(a=vse(u)?ktt:n),yse(u)&&(t=t||Att,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(fet(u)&&a!=="_self")return Ntt(t||"",a),new U9(null);const f=window.open(t||"",a,c);vt(f,e,"popup-blocked");try{f.focus()}catch{}return new U9(f)}function Ntt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dtt="__/auth/handler",Mtt="emulator/auth/handler",Ltt=encodeURIComponent("fac");async function H9(e,t,n,r,i,o){vt(e.config.authDomain,e,"auth-domain-config-required"),vt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Hd,eventId:i};if(t instanceof Ose){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",wqe(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(o||{}))s[c]=f}if(t instanceof L0){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${Ltt}=${encodeURIComponent(l)}`:"";return`${jtt(e)}?${_0(a).slice(1)}${u}`}function jtt({config:e}){return e.emulator?gL(e,Mtt):`https://${e.authDomain}/${Dtt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="webStorageSupport";class Ftt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ase,this._completeRedirectFn=utt,this._overrideRedirectResult=stt}async _openPopup(t,n,r,i){var o;xu((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await H9(t,n,r,pA(),i);return Rtt(t,s,_L())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await H9(t,n,r,pA(),i);return zet(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xu(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Ott(t),r=new ftt(t);return n.register("authEvent",i=>(vt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(UT,{type:UT},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[UT];s!==void 0&&n(!!s),Eu(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gtt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ese()||vL()||tI()}}const Vtt=Ftt;var W9="@firebase/auth",q9="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Btt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ztt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Utt(e){_u(new gl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;vt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xse(e)},u=new vet(r,i,o,l);return xet(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),_u(new gl("auth-internal",t=>{const n=nI(t.getProvider("auth").getImmediate());return(r=>new Btt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pa(W9,q9,ztt(e)),pa(W9,q9,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Htt=5*60,Wtt=ure("authIdTokenMaxAge")||Htt;let G9=null;const qtt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wtt)return;const i=n==null?void 0:n.token;G9!==i&&(G9=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Gtt(e=uM()){const t=Tm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Eet(e,{popupRedirectResolver:Vtt,persistence:[Xet,Fet,Ase]}),r=ure("authTokenSyncURL");if(r){const o=qtt(r);Det(n,o,()=>o(n.currentUser)),Net(n,s=>o(s))}const i=are("auth");return i&&Pet(n,`http://${i}`),n}Utt("Browser");class Ktt extends tqe{constructor(){super("firebase");qs(this,"RECAPTCHAV3TOKEN","6LdjOd0lAAAAAASvFfDZFWgtbzFSS9Y3so8rHJth");qs(this,"firestore");qs(this,"collectionPrefix","prod-");qs(this,"studyCollection");qs(this,"studyId","");qs(this,"localForage",rqe.createInstance({name:"currentParticipantId"}));qs(this,"localProvenanceCopy",{});const n=nN.parse(`
{
  apiKey: "AIzaSyAm9QtUgx1lYPDeE0vKLN-lK17WfUGVkLo",
  authDomain: "revisit-utah.firebaseapp.com",
  projectId: "revisit-utah",
  storageBucket: "revisit-utah.appspot.com",
  messagingSenderId: "811568460432",
  appId: "1:811568460432:web:995f6b4f1fc8042b5dde15"
}
`),r=dre(n);this.firestore=VJe(r,{});try{VZe(r,{provider:new pL(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=Gtt();if(await $et(n),!n.currentUser)throw new Error("Login failed with firebase");BJe(this.firestore),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){this.studyCollection=jJe(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const i=zu(this.studyCollection,"config");return await vg(i,r)}async initializeParticipantSession(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(),!this.currentParticipantId)throw new Error("Participant not initialized");const n=zu(this.studyCollection,this.currentParticipantId),r=(await J_(n)).data();if(this.localProvenanceCopy=await this._getFirebaseProvenance(this.currentParticipantId),r)return r;{const i={participantId:this.currentParticipantId,sequence:await this.getSequence(),answers:{}};return await vg(n,i),i}}async getCurrentParticipantId(){const n=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,n;{if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=zu(this.studyCollection);return this.currentParticipantId=r.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=zu(this.studyCollection,this.currentParticipantId),o={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await vg(i,{answers:{[n]:o}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._uploadLocalProvenance())}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=n.map(s=>s.join(",")),i=zu(this.studyCollection,"sequenceArray");return await vg(i,{sequenceArray:r})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=zu(this.studyCollection,"sequenceArray"),r=(await J_(n)).data();return r===void 0?null:r.sequenceArray.map(i=>i.split(","))}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.setSequenceArray(n),r}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await nZe(this.studyCollection),r=[],i=n.docs.map(async o=>{if(o.id==="config"||o.id==="sequenceArray")return;const s=o.data(),a=await this._getFirebaseProvenance(s.participantId);s.answers=Object.fromEntries(Object.entries(s.answers).map(([l,u])=>{if(u===void 0)return[l,u];const c=a[l];return[l,{...u,provenanceGraph:c}]})),r.push(s)});return await Promise.all(i),r}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let n=null;if(this.currentParticipantId!==null){const r=zu(this.studyCollection,this.currentParticipantId);if(n=(await J_(r)).data(),n!==null){const i=await this._getFirebaseProvenance(this.currentParticipantId);Object.entries(n.answers).forEach(([o,s])=>{s!==void 0&&(s.provenanceGraph=i[o])})}}return n}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=zu(this.studyCollection),r=n.id;await this.localForage.setItem("currentParticipantId",r),this.currentParticipantId=r;let i=null;if(this.currentParticipantId!==null&&(i=(await J_(n)).data()),!i){const o={participantId:r,sequence:await this.getSequence(),answers:{}};await vg(n,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _uploadLocalProvenance(){if(Object.entries(this.localProvenanceCopy).length>0){const n=AU(),r=kU(n,`${this.studyId}/${this.currentParticipantId}`),i=new Blob([JSON.stringify(this.localProvenanceCopy)],{type:"application/json"});await HKe(r,i)}}async _getFirebaseProvenance(n){const r=AU(),i=kU(r,`${this.studyId}/${n}`);let o={};try{const s=await WKe(i),l=await(await fetch(s)).text();o=JSON.parse(l)}catch{console.info(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return o}}async function Ytt(){let e;const t="firebase";{const n=new Ktt;await n.connect(),n.isConnected()&&(e=n)}if(!e)throw new Error(`The requested storage engine "${t}" could not be initialized.`);return e}function Qtt(){const{storageEngine:e,setStorageEngine:t}=$d();return S.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await Ytt();t(r)}n()},[t,e]),T.jsx(eqe,{})}HT.createRoot(document.getElementById("root")).render(T.jsx(M.StrictMode,{children:T.jsx(_ue,{children:T.jsx(Qtt,{})})}));
