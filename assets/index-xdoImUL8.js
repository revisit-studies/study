var uce=Object.defineProperty;var lce=(e,t,n)=>t in e?uce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Po=(e,t,n)=>(lce(e,typeof t!="symbol"?t+"":t,n),n);function cce(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fce(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var fH={exports:{}},BT={},dH={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_=Symbol.for("react.element"),dce=Symbol.for("react.portal"),hce=Symbol.for("react.fragment"),pce=Symbol.for("react.strict_mode"),mce=Symbol.for("react.profiler"),gce=Symbol.for("react.provider"),yce=Symbol.for("react.context"),_ce=Symbol.for("react.forward_ref"),vce=Symbol.for("react.suspense"),bce=Symbol.for("react.memo"),Ece=Symbol.for("react.lazy"),gM=Symbol.iterator;function wce(e){return e===null||typeof e!="object"?null:(e=gM&&e[gM]||e["@@iterator"],typeof e=="function"?e:null)}var hH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pH=Object.assign,mH={};function Mm(e,t,n){this.props=e,this.context=t,this.refs=mH,this.updater=n||hH}Mm.prototype.isReactComponent={};Mm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gH(){}gH.prototype=Mm.prototype;function KN(e,t,n){this.props=e,this.context=t,this.refs=mH,this.updater=n||hH}var QN=KN.prototype=new gH;QN.constructor=KN;pH(QN,Mm.prototype);QN.isPureReactComponent=!0;var yM=Array.isArray,yH=Object.prototype.hasOwnProperty,XN={current:null},_H={key:!0,ref:!0,__self:!0,__source:!0};function vH(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)yH.call(t,r)&&!_H.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:P_,type:e,key:s,ref:o,props:i,_owner:XN.current}}function Sce(e,t){return{$$typeof:P_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function JN(e){return typeof e=="object"&&e!==null&&e.$$typeof===P_}function Tce(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _M=/\/+/g;function PA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tce(""+e.key):t.toString(36)}function sb(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case P_:case dce:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+PA(o,0):r,yM(i)?(n="",e!=null&&(n=e.replace(_M,"$&/")+"/"),sb(i,t,n,"",function(l){return l})):i!=null&&(JN(i)&&(i=Sce(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_M,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",yM(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+PA(s,a);o+=sb(s,t,n,u,i)}else if(u=wce(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+PA(s,a++),o+=sb(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bv(e,t,n){if(e==null)return e;var r=[],i=0;return sb(e,r,"","",function(s){return t.call(n,s,i++)}),r}function xce(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ys={current:null},ob={transition:null},Ice={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:ob,ReactCurrentOwner:XN};Xt.Children={map:Bv,forEach:function(e,t,n){Bv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bv(e,function(){t++}),t},toArray:function(e){return Bv(e,function(t){return t})||[]},only:function(e){if(!JN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Mm;Xt.Fragment=hce;Xt.Profiler=mce;Xt.PureComponent=KN;Xt.StrictMode=pce;Xt.Suspense=vce;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ice;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pH({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=XN.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)yH.call(t,u)&&!_H.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:P_,type:e.type,key:i,ref:s,props:r,_owner:o}};Xt.createContext=function(e){return e={$$typeof:yce,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gce,_context:e},e.Consumer=e};Xt.createElement=vH;Xt.createFactory=function(e){var t=vH.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:_ce,render:e}};Xt.isValidElement=JN;Xt.lazy=function(e){return{$$typeof:Ece,_payload:{_status:-1,_result:e},_init:xce}};Xt.memo=function(e,t){return{$$typeof:bce,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=ob.transition;ob.transition={};try{e()}finally{ob.transition=t}};Xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xt.useCallback=function(e,t){return ys.current.useCallback(e,t)};Xt.useContext=function(e){return ys.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return ys.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return ys.current.useEffect(e,t)};Xt.useId=function(){return ys.current.useId()};Xt.useImperativeHandle=function(e,t,n){return ys.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return ys.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return ys.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return ys.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return ys.current.useReducer(e,t,n)};Xt.useRef=function(e){return ys.current.useRef(e)};Xt.useState=function(e){return ys.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return ys.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return ys.current.useTransition()};Xt.version="18.2.0";dH.exports=Xt;var S=dH.exports;const L=Ba(S),Dd=cce({__proto__:null,default:L},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ace=S,Cce=Symbol.for("react.element"),Oce=Symbol.for("react.fragment"),Pce=Object.prototype.hasOwnProperty,Rce=Ace.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nce={key:!0,ref:!0,__self:!0,__source:!0};function bH(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Pce.call(t,r)&&!Nce.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Cce,type:e,key:s,ref:o,props:i,_owner:Rce.current}}BT.Fragment=Oce;BT.jsx=bH;BT.jsxs=bH;fH.exports=BT;var O=fH.exports,yP={},EH={exports:{}},So={},wH={exports:{}},SH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ie){var K=ee.length;ee.push(ie);e:for(;0<K;){var I=K-1>>>1,C=ee[I];if(0<i(C,ie))ee[I]=ie,ee[K]=C,K=I;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],K=ee.pop();if(K!==ie){ee[0]=K;e:for(var I=0,C=ee.length,V=C>>>1;I<V;){var R=2*(I+1)-1,P=ee[R],G=R+1,se=ee[G];if(0>i(P,K))G<C&&0>i(se,P)?(ee[I]=se,ee[G]=K,I=G):(ee[I]=P,ee[R]=K,I=R);else if(G<C&&0>i(se,K))ee[I]=se,ee[G]=K,I=G;else break e}}return ie}function i(ee,ie){var K=ee.sortIndex-ie.sortIndex;return K!==0?K:ee.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(ee){for(var ie=n(l);ie!==null;){if(ie.callback===null)r(l);else if(ie.startTime<=ee)r(l),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(l)}}function w(ee){if(g=!1,v(ee),!p)if(n(u)!==null)p=!0,ae(T);else{var ie=n(l);ie!==null&&pe(w,ie.startTime-ee)}}function T(ee,ie){p=!1,g&&(g=!1,m(A),A=-1),h=!0;var K=d;try{for(v(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||ee&&!$());){var I=f.callback;if(typeof I=="function"){f.callback=null,d=f.priorityLevel;var C=I(f.expirationTime<=ie);ie=e.unstable_now(),typeof C=="function"?f.callback=C:f===n(u)&&r(u),v(ie)}else r(u);f=n(u)}if(f!==null)var V=!0;else{var R=n(l);R!==null&&pe(w,R.startTime-ie),V=!1}return V}finally{f=null,d=K,h=!1}}var E=!1,x=null,A=-1,M=5,D=-1;function $(){return!(e.unstable_now()-D<M)}function W(){if(x!==null){var ee=e.unstable_now();D=ee;var ie=!0;try{ie=x(!0,ee)}finally{ie?q():(E=!1,x=null)}}else E=!1}var q;if(typeof _=="function")q=function(){_(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,de=H.port2;H.port1.onmessage=W,q=function(){de.postMessage(null)}}else q=function(){y(W,0)};function ae(ee){x=ee,E||(E=!0,q())}function pe(ee,ie){A=y(function(){ee(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ae(T))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ee){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var K=d;d=ie;try{return ee()}finally{d=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var K=d;d=ee;try{return ie()}finally{d=K}},e.unstable_scheduleCallback=function(ee,ie,K){var I=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?I+K:I):K=I,ee){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=K+C,ee={id:c++,callback:ie,priorityLevel:ee,startTime:K,expirationTime:C,sortIndex:-1},K>I?(ee.sortIndex=K,t(l,ee),n(u)===null&&ee===n(l)&&(g?(m(A),A=-1):g=!0,pe(w,K-I))):(ee.sortIndex=C,t(u,ee),p||h||(p=!0,ae(T))),ee},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(ee){var ie=d;return function(){var K=d;d=ie;try{return ee.apply(this,arguments)}finally{d=K}}}})(SH);wH.exports=SH;var kce=wH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TH=S,go=kce;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xH=new Set,my={};function ih(e,t){Gp(e,t),Gp(e+"Capture",t)}function Gp(e,t){for(my[e]=t,e=0;e<t.length;e++)xH.add(t[e])}var Ol=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_P=Object.prototype.hasOwnProperty,Dce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vM={},bM={};function $ce(e){return _P.call(bM,e)?!0:_P.call(vM,e)?!1:Dce.test(e)?bM[e]=!0:(vM[e]=!0,!1)}function Lce(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mce(e,t,n,r){if(t===null||typeof t>"u"||Lce(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _s(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Li[e]=new _s(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Li[t]=new _s(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Li[e]=new _s(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Li[e]=new _s(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Li[e]=new _s(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Li[e]=new _s(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Li[e]=new _s(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Li[e]=new _s(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Li[e]=new _s(e,5,!1,e.toLowerCase(),null,!1,!1)});var ZN=/[\-:]([a-z])/g;function ek(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ZN,ek);Li[t]=new _s(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ZN,ek);Li[t]=new _s(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ZN,ek);Li[t]=new _s(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Li[e]=new _s(e,1,!1,e.toLowerCase(),null,!1,!1)});Li.xlinkHref=new _s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Li[e]=new _s(e,1,!1,e.toLowerCase(),null,!0,!0)});function tk(e,t,n,r){var i=Li.hasOwnProperty(t)?Li[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mce(t,n,i,r)&&(n=null),r||i===null?$ce(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xl=TH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jv=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),nk=Symbol.for("react.strict_mode"),vP=Symbol.for("react.profiler"),IH=Symbol.for("react.provider"),AH=Symbol.for("react.context"),rk=Symbol.for("react.forward_ref"),bP=Symbol.for("react.suspense"),EP=Symbol.for("react.suspense_list"),ik=Symbol.for("react.memo"),yc=Symbol.for("react.lazy"),CH=Symbol.for("react.offscreen"),EM=Symbol.iterator;function xg(e){return e===null||typeof e!="object"?null:(e=EM&&e[EM]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,RA;function a0(e){if(RA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);RA=t&&t[1]||""}return`
`+RA+e}var NA=!1;function kA(e,t){if(!e||NA)return"";NA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{NA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?a0(e):""}function Fce(e){switch(e.tag){case 5:return a0(e.type);case 16:return a0("Lazy");case 13:return a0("Suspense");case 19:return a0("SuspenseList");case 0:case 2:case 15:return e=kA(e.type,!1),e;case 11:return e=kA(e.type.render,!1),e;case 1:return e=kA(e.type,!0),e;default:return""}}function wP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qh:return"Fragment";case Kh:return"Portal";case vP:return"Profiler";case nk:return"StrictMode";case bP:return"Suspense";case EP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AH:return(e.displayName||"Context")+".Consumer";case IH:return(e._context.displayName||"Context")+".Provider";case rk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ik:return t=e.displayName||null,t!==null?t:wP(e.type)||"Memo";case yc:t=e._payload,e=e._init;try{return wP(e(t))}catch{}}return null}function Bce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wP(t);case 8:return t===nk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function OH(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jce(e){var t=OH(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uv(e){e._valueTracker||(e._valueTracker=jce(e))}function PH(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=OH(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function nE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function SP(e,t){var n=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wM(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function RH(e,t){t=t.checked,t!=null&&tk(e,"checked",t,!1)}function TP(e,t){RH(e,t);var n=sf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xP(e,t.type,n):t.hasOwnProperty("defaultValue")&&xP(e,t.type,sf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function SM(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xP(e,t,n){(t!=="number"||nE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var u0=Array.isArray;function bp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sf(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function IP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TM(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(u0(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sf(n)}}function NH(e,t){var n=sf(t.value),r=sf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xM(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kH(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kH(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vv,DH=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vv=Vv||document.createElement("div"),Vv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gy(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var P0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uce=["Webkit","ms","Moz","O"];Object.keys(P0).forEach(function(e){Uce.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),P0[t]=P0[e]})});function $H(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||P0.hasOwnProperty(e)&&P0[e]?(""+t).trim():t+"px"}function LH(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$H(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Vce=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CP(e,t){if(t){if(Vce[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function OP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PP=null;function sk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var RP=null,Ep=null,wp=null;function IM(e){if(e=k_(e)){if(typeof RP!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=HT(t),RP(e.stateNode,e.type,t))}}function MH(e){Ep?wp?wp.push(e):wp=[e]:Ep=e}function FH(){if(Ep){var e=Ep,t=wp;if(wp=Ep=null,IM(e),t)for(e=0;e<t.length;e++)IM(t[e])}}function BH(e,t){return e(t)}function jH(){}var DA=!1;function UH(e,t,n){if(DA)return e(t,n);DA=!0;try{return BH(e,t,n)}finally{DA=!1,(Ep!==null||wp!==null)&&(jH(),FH())}}function yy(e,t){var n=e.stateNode;if(n===null)return null;var r=HT(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var NP=!1;if(Ol)try{var Ig={};Object.defineProperty(Ig,"passive",{get:function(){NP=!0}}),window.addEventListener("test",Ig,Ig),window.removeEventListener("test",Ig,Ig)}catch{NP=!1}function zce(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var R0=!1,rE=null,iE=!1,kP=null,Hce={onError:function(e){R0=!0,rE=e}};function Wce(e,t,n,r,i,s,o,a,u){R0=!1,rE=null,zce.apply(Hce,arguments)}function qce(e,t,n,r,i,s,o,a,u){if(Wce.apply(this,arguments),R0){if(R0){var l=rE;R0=!1,rE=null}else throw Error(Ne(198));iE||(iE=!0,kP=l)}}function sh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function VH(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AM(e){if(sh(e)!==e)throw Error(Ne(188))}function Gce(e){var t=e.alternate;if(!t){if(t=sh(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return AM(i),e;if(s===r)return AM(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function zH(e){return e=Gce(e),e!==null?HH(e):null}function HH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HH(e);if(t!==null)return t;e=e.sibling}return null}var WH=go.unstable_scheduleCallback,CM=go.unstable_cancelCallback,Yce=go.unstable_shouldYield,Kce=go.unstable_requestPaint,Dr=go.unstable_now,Qce=go.unstable_getCurrentPriorityLevel,ok=go.unstable_ImmediatePriority,qH=go.unstable_UserBlockingPriority,sE=go.unstable_NormalPriority,Xce=go.unstable_LowPriority,GH=go.unstable_IdlePriority,jT=null,_u=null;function Jce(e){if(_u&&typeof _u.onCommitFiberRoot=="function")try{_u.onCommitFiberRoot(jT,e,void 0,(e.current.flags&128)===128)}catch{}}var Oa=Math.clz32?Math.clz32:tfe,Zce=Math.log,efe=Math.LN2;function tfe(e){return e>>>=0,e===0?32:31-(Zce(e)/efe|0)|0}var zv=64,Hv=4194304;function l0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=l0(a):(s&=o,s!==0&&(r=l0(s)))}else o=n&~i,o!==0?r=l0(o):s!==0&&(r=l0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Oa(t),i=1<<n,r|=e[n],t&=~i;return r}function nfe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rfe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Oa(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=nfe(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function DP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YH(){var e=zv;return zv<<=1,!(zv&4194240)&&(zv=64),e}function $A(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function R_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oa(t),e[t]=n}function ife(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Oa(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ak(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Oa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pn=0;function KH(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var QH,uk,XH,JH,ZH,$P=!1,Wv=[],Fc=null,Bc=null,jc=null,_y=new Map,vy=new Map,Sc=[],sfe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OM(e,t){switch(e){case"focusin":case"focusout":Fc=null;break;case"dragenter":case"dragleave":Bc=null;break;case"mouseover":case"mouseout":jc=null;break;case"pointerover":case"pointerout":_y.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vy.delete(t.pointerId)}}function Ag(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=k_(t),t!==null&&uk(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ofe(e,t,n,r,i){switch(t){case"focusin":return Fc=Ag(Fc,e,t,n,r,i),!0;case"dragenter":return Bc=Ag(Bc,e,t,n,r,i),!0;case"mouseover":return jc=Ag(jc,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _y.set(s,Ag(_y.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vy.set(s,Ag(vy.get(s)||null,e,t,n,r,i)),!0}return!1}function eW(e){var t=ud(e.target);if(t!==null){var n=sh(t);if(n!==null){if(t=n.tag,t===13){if(t=VH(n),t!==null){e.blockedOn=t,ZH(e.priority,function(){XH(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ab(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=LP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);PP=r,n.target.dispatchEvent(r),PP=null}else return t=k_(n),t!==null&&uk(t),e.blockedOn=n,!1;t.shift()}return!0}function PM(e,t,n){ab(e)&&n.delete(t)}function afe(){$P=!1,Fc!==null&&ab(Fc)&&(Fc=null),Bc!==null&&ab(Bc)&&(Bc=null),jc!==null&&ab(jc)&&(jc=null),_y.forEach(PM),vy.forEach(PM)}function Cg(e,t){e.blockedOn===t&&(e.blockedOn=null,$P||($P=!0,go.unstable_scheduleCallback(go.unstable_NormalPriority,afe)))}function by(e){function t(i){return Cg(i,e)}if(0<Wv.length){Cg(Wv[0],e);for(var n=1;n<Wv.length;n++){var r=Wv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fc!==null&&Cg(Fc,e),Bc!==null&&Cg(Bc,e),jc!==null&&Cg(jc,e),_y.forEach(t),vy.forEach(t),n=0;n<Sc.length;n++)r=Sc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sc.length&&(n=Sc[0],n.blockedOn===null);)eW(n),n.blockedOn===null&&Sc.shift()}var Sp=Xl.ReactCurrentBatchConfig,aE=!0;function ufe(e,t,n,r){var i=Pn,s=Sp.transition;Sp.transition=null;try{Pn=1,lk(e,t,n,r)}finally{Pn=i,Sp.transition=s}}function lfe(e,t,n,r){var i=Pn,s=Sp.transition;Sp.transition=null;try{Pn=4,lk(e,t,n,r)}finally{Pn=i,Sp.transition=s}}function lk(e,t,n,r){if(aE){var i=LP(e,t,n,r);if(i===null)WA(e,t,r,uE,n),OM(e,r);else if(ofe(i,e,t,n,r))r.stopPropagation();else if(OM(e,r),t&4&&-1<sfe.indexOf(e)){for(;i!==null;){var s=k_(i);if(s!==null&&QH(s),s=LP(e,t,n,r),s===null&&WA(e,t,r,uE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else WA(e,t,r,null,n)}}var uE=null;function LP(e,t,n,r){if(uE=null,e=sk(r),e=ud(e),e!==null)if(t=sh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=VH(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uE=e,null}function tW(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qce()){case ok:return 1;case qH:return 4;case sE:case Xce:return 16;case GH:return 536870912;default:return 16}default:return 16}}var Nc=null,ck=null,ub=null;function nW(){if(ub)return ub;var e,t=ck,n=t.length,r,i="value"in Nc?Nc.value:Nc.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ub=i.slice(e,1<r?1-r:void 0)}function lb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qv(){return!0}function RM(){return!1}function To(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qv:RM,this.isPropagationStopped=RM,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qv)},persist:function(){},isPersistent:qv}),t}var Fm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fk=To(Fm),N_=_r({},Fm,{view:0,detail:0}),cfe=To(N_),LA,MA,Og,UT=_r({},N_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Og&&(Og&&e.type==="mousemove"?(LA=e.screenX-Og.screenX,MA=e.screenY-Og.screenY):MA=LA=0,Og=e),LA)},movementY:function(e){return"movementY"in e?e.movementY:MA}}),NM=To(UT),ffe=_r({},UT,{dataTransfer:0}),dfe=To(ffe),hfe=_r({},N_,{relatedTarget:0}),FA=To(hfe),pfe=_r({},Fm,{animationName:0,elapsedTime:0,pseudoElement:0}),mfe=To(pfe),gfe=_r({},Fm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yfe=To(gfe),_fe=_r({},Fm,{data:0}),kM=To(_fe),vfe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bfe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Efe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wfe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Efe[e])?!!t[e]:!1}function dk(){return wfe}var Sfe=_r({},N_,{key:function(e){if(e.key){var t=vfe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bfe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dk,charCode:function(e){return e.type==="keypress"?lb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tfe=To(Sfe),xfe=_r({},UT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DM=To(xfe),Ife=_r({},N_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dk}),Afe=To(Ife),Cfe=_r({},Fm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ofe=To(Cfe),Pfe=_r({},UT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rfe=To(Pfe),Nfe=[9,13,27,32],hk=Ol&&"CompositionEvent"in window,N0=null;Ol&&"documentMode"in document&&(N0=document.documentMode);var kfe=Ol&&"TextEvent"in window&&!N0,rW=Ol&&(!hk||N0&&8<N0&&11>=N0),$M=" ",LM=!1;function iW(e,t){switch(e){case"keyup":return Nfe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sW(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xh=!1;function Dfe(e,t){switch(e){case"compositionend":return sW(t);case"keypress":return t.which!==32?null:(LM=!0,$M);case"textInput":return e=t.data,e===$M&&LM?null:e;default:return null}}function $fe(e,t){if(Xh)return e==="compositionend"||!hk&&iW(e,t)?(e=nW(),ub=ck=Nc=null,Xh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rW&&t.locale!=="ko"?null:t.data;default:return null}}var Lfe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lfe[e.type]:t==="textarea"}function oW(e,t,n,r){MH(r),t=lE(t,"onChange"),0<t.length&&(n=new fk("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var k0=null,Ey=null;function Mfe(e){yW(e,0)}function VT(e){var t=ep(e);if(PH(t))return e}function Ffe(e,t){if(e==="change")return t}var aW=!1;if(Ol){var BA;if(Ol){var jA="oninput"in document;if(!jA){var FM=document.createElement("div");FM.setAttribute("oninput","return;"),jA=typeof FM.oninput=="function"}BA=jA}else BA=!1;aW=BA&&(!document.documentMode||9<document.documentMode)}function BM(){k0&&(k0.detachEvent("onpropertychange",uW),Ey=k0=null)}function uW(e){if(e.propertyName==="value"&&VT(Ey)){var t=[];oW(t,Ey,e,sk(e)),UH(Mfe,t)}}function Bfe(e,t,n){e==="focusin"?(BM(),k0=t,Ey=n,k0.attachEvent("onpropertychange",uW)):e==="focusout"&&BM()}function jfe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return VT(Ey)}function Ufe(e,t){if(e==="click")return VT(t)}function Vfe(e,t){if(e==="input"||e==="change")return VT(t)}function zfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Da=typeof Object.is=="function"?Object.is:zfe;function wy(e,t){if(Da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_P.call(t,i)||!Da(e[i],t[i]))return!1}return!0}function jM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function UM(e,t){var n=jM(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jM(n)}}function lW(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lW(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cW(){for(var e=window,t=nE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nE(e.document)}return t}function pk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hfe(e){var t=cW(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lW(n.ownerDocument.documentElement,n)){if(r!==null&&pk(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=UM(n,s);var o=UM(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wfe=Ol&&"documentMode"in document&&11>=document.documentMode,Jh=null,MP=null,D0=null,FP=!1;function VM(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;FP||Jh==null||Jh!==nE(r)||(r=Jh,"selectionStart"in r&&pk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),D0&&wy(D0,r)||(D0=r,r=lE(MP,"onSelect"),0<r.length&&(t=new fk("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jh)))}function Gv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zh={animationend:Gv("Animation","AnimationEnd"),animationiteration:Gv("Animation","AnimationIteration"),animationstart:Gv("Animation","AnimationStart"),transitionend:Gv("Transition","TransitionEnd")},UA={},fW={};Ol&&(fW=document.createElement("div").style,"AnimationEvent"in window||(delete Zh.animationend.animation,delete Zh.animationiteration.animation,delete Zh.animationstart.animation),"TransitionEvent"in window||delete Zh.transitionend.transition);function zT(e){if(UA[e])return UA[e];if(!Zh[e])return e;var t=Zh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fW)return UA[e]=t[n];return e}var dW=zT("animationend"),hW=zT("animationiteration"),pW=zT("animationstart"),mW=zT("transitionend"),gW=new Map,zM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function If(e,t){gW.set(e,t),ih(t,[e])}for(var VA=0;VA<zM.length;VA++){var zA=zM[VA],qfe=zA.toLowerCase(),Gfe=zA[0].toUpperCase()+zA.slice(1);If(qfe,"on"+Gfe)}If(dW,"onAnimationEnd");If(hW,"onAnimationIteration");If(pW,"onAnimationStart");If("dblclick","onDoubleClick");If("focusin","onFocus");If("focusout","onBlur");If(mW,"onTransitionEnd");Gp("onMouseEnter",["mouseout","mouseover"]);Gp("onMouseLeave",["mouseout","mouseover"]);Gp("onPointerEnter",["pointerout","pointerover"]);Gp("onPointerLeave",["pointerout","pointerover"]);ih("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ih("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ih("onBeforeInput",["compositionend","keypress","textInput","paste"]);ih("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var c0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yfe=new Set("cancel close invalid load scroll toggle".split(" ").concat(c0));function HM(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qce(r,t,void 0,e),e.currentTarget=null}function yW(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;HM(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;HM(i,a,l),s=u}}}if(iE)throw e=kP,iE=!1,kP=null,e}function Yn(e,t){var n=t[zP];n===void 0&&(n=t[zP]=new Set);var r=e+"__bubble";n.has(r)||(_W(t,e,2,!1),n.add(r))}function HA(e,t,n){var r=0;t&&(r|=4),_W(n,e,r,t)}var Yv="_reactListening"+Math.random().toString(36).slice(2);function Sy(e){if(!e[Yv]){e[Yv]=!0,xH.forEach(function(n){n!=="selectionchange"&&(Yfe.has(n)||HA(n,!1,e),HA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yv]||(t[Yv]=!0,HA("selectionchange",!1,t))}}function _W(e,t,n,r){switch(tW(t)){case 1:var i=ufe;break;case 4:i=lfe;break;default:i=lk}n=i.bind(null,t,n,e),i=void 0,!NP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function WA(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ud(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}UH(function(){var l=s,c=sk(n),f=[];e:{var d=gW.get(e);if(d!==void 0){var h=fk,p=e;switch(e){case"keypress":if(lb(n)===0)break e;case"keydown":case"keyup":h=Tfe;break;case"focusin":p="focus",h=FA;break;case"focusout":p="blur",h=FA;break;case"beforeblur":case"afterblur":h=FA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=NM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=dfe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Afe;break;case dW:case hW:case pW:h=mfe;break;case mW:h=Ofe;break;case"scroll":h=cfe;break;case"wheel":h=Rfe;break;case"copy":case"cut":case"paste":h=yfe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=DM}var g=(t&4)!==0,y=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var _=l,v;_!==null;){v=_;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=yy(_,m),w!=null&&g.push(Ty(_,w,v)))),y)break;_=_.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==PP&&(p=n.relatedTarget||n.fromElement)&&(ud(p)||p[Pl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?ud(p):null,p!==null&&(y=sh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=NM,w="onMouseLeave",m="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(g=DM,w="onPointerLeave",m="onPointerEnter",_="pointer"),y=h==null?d:ep(h),v=p==null?d:ep(p),d=new g(w,_+"leave",h,n,c),d.target=y,d.relatedTarget=v,w=null,ud(c)===l&&(g=new g(m,_+"enter",p,n,c),g.target=v,g.relatedTarget=y,w=g),y=w,h&&p)t:{for(g=h,m=p,_=0,v=g;v;v=Ah(v))_++;for(v=0,w=m;w;w=Ah(w))v++;for(;0<_-v;)g=Ah(g),_--;for(;0<v-_;)m=Ah(m),v--;for(;_--;){if(g===m||m!==null&&g===m.alternate)break t;g=Ah(g),m=Ah(m)}g=null}else g=null;h!==null&&WM(f,d,h,g,!1),p!==null&&y!==null&&WM(f,y,p,g,!0)}}e:{if(d=l?ep(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var T=Ffe;else if(MM(d))if(aW)T=Vfe;else{T=jfe;var E=Bfe}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=Ufe);if(T&&(T=T(e,l))){oW(f,T,n,c);break e}E&&E(e,d,l),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&xP(d,"number",d.value)}switch(E=l?ep(l):window,e){case"focusin":(MM(E)||E.contentEditable==="true")&&(Jh=E,MP=l,D0=null);break;case"focusout":D0=MP=Jh=null;break;case"mousedown":FP=!0;break;case"contextmenu":case"mouseup":case"dragend":FP=!1,VM(f,n,c);break;case"selectionchange":if(Wfe)break;case"keydown":case"keyup":VM(f,n,c)}var x;if(hk)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xh?iW(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(rW&&n.locale!=="ko"&&(Xh||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xh&&(x=nW()):(Nc=c,ck="value"in Nc?Nc.value:Nc.textContent,Xh=!0)),E=lE(l,A),0<E.length&&(A=new kM(A,e,null,n,c),f.push({event:A,listeners:E}),x?A.data=x:(x=sW(n),x!==null&&(A.data=x)))),(x=kfe?Dfe(e,n):$fe(e,n))&&(l=lE(l,"onBeforeInput"),0<l.length&&(c=new kM("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=x))}yW(f,t)})}function Ty(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lE(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yy(e,n),s!=null&&r.unshift(Ty(e,s,i)),s=yy(e,t),s!=null&&r.push(Ty(e,s,i))),e=e.return}return r}function Ah(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function WM(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=yy(n,s),u!=null&&o.unshift(Ty(n,u,a))):i||(u=yy(n,s),u!=null&&o.push(Ty(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Kfe=/\r\n?/g,Qfe=/\u0000|\uFFFD/g;function qM(e){return(typeof e=="string"?e:""+e).replace(Kfe,`
`).replace(Qfe,"")}function Kv(e,t,n){if(t=qM(t),qM(e)!==t&&n)throw Error(Ne(425))}function cE(){}var BP=null,jP=null;function UP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var VP=typeof setTimeout=="function"?setTimeout:void 0,Xfe=typeof clearTimeout=="function"?clearTimeout:void 0,GM=typeof Promise=="function"?Promise:void 0,Jfe=typeof queueMicrotask=="function"?queueMicrotask:typeof GM<"u"?function(e){return GM.resolve(null).then(e).catch(Zfe)}:VP;function Zfe(e){setTimeout(function(){throw e})}function qA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),by(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);by(t)}function Uc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function YM(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bm=Math.random().toString(36).slice(2),nu="__reactFiber$"+Bm,xy="__reactProps$"+Bm,Pl="__reactContainer$"+Bm,zP="__reactEvents$"+Bm,ede="__reactListeners$"+Bm,tde="__reactHandles$"+Bm;function ud(e){var t=e[nu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pl]||n[nu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=YM(e);e!==null;){if(n=e[nu])return n;e=YM(e)}return t}e=n,n=e.parentNode}return null}function k_(e){return e=e[nu]||e[Pl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ep(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function HT(e){return e[xy]||null}var HP=[],tp=-1;function Af(e){return{current:e}}function Jn(e){0>tp||(e.current=HP[tp],HP[tp]=null,tp--)}function Wn(e,t){tp++,HP[tp]=e.current,e.current=t}var of={},es=Af(of),Vs=Af(!1),$d=of;function Yp(e,t){var n=e.type.contextTypes;if(!n)return of;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zs(e){return e=e.childContextTypes,e!=null}function fE(){Jn(Vs),Jn(es)}function KM(e,t,n){if(es.current!==of)throw Error(Ne(168));Wn(es,t),Wn(Vs,n)}function vW(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,Bce(e)||"Unknown",i));return _r({},n,r)}function dE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||of,$d=es.current,Wn(es,e),Wn(Vs,Vs.current),!0}function QM(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=vW(e,t,$d),r.__reactInternalMemoizedMergedChildContext=e,Jn(Vs),Jn(es),Wn(es,e)):Jn(Vs),Wn(Vs,n)}var rl=null,WT=!1,GA=!1;function bW(e){rl===null?rl=[e]:rl.push(e)}function nde(e){WT=!0,bW(e)}function Cf(){if(!GA&&rl!==null){GA=!0;var e=0,t=Pn;try{var n=rl;for(Pn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rl=null,WT=!1}catch(i){throw rl!==null&&(rl=rl.slice(e+1)),WH(ok,Cf),i}finally{Pn=t,GA=!1}}return null}var np=[],rp=0,hE=null,pE=0,Mo=[],Fo=0,Ld=null,cl=1,fl="";function Wf(e,t){np[rp++]=pE,np[rp++]=hE,hE=e,pE=t}function EW(e,t,n){Mo[Fo++]=cl,Mo[Fo++]=fl,Mo[Fo++]=Ld,Ld=e;var r=cl;e=fl;var i=32-Oa(r)-1;r&=~(1<<i),n+=1;var s=32-Oa(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cl=1<<32-Oa(t)+i|n<<i|r,fl=s+e}else cl=1<<s|n<<i|r,fl=e}function mk(e){e.return!==null&&(Wf(e,1),EW(e,1,0))}function gk(e){for(;e===hE;)hE=np[--rp],np[rp]=null,pE=np[--rp],np[rp]=null;for(;e===Ld;)Ld=Mo[--Fo],Mo[Fo]=null,fl=Mo[--Fo],Mo[Fo]=null,cl=Mo[--Fo],Mo[Fo]=null}var co=null,ao=null,ar=!1,ba=null;function wW(e,t){var n=qo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function XM(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,co=e,ao=Uc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,co=e,ao=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ld!==null?{id:cl,overflow:fl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,co=e,ao=null,!0):!1;default:return!1}}function WP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qP(e){if(ar){var t=ao;if(t){var n=t;if(!XM(e,t)){if(WP(e))throw Error(Ne(418));t=Uc(n.nextSibling);var r=co;t&&XM(e,t)?wW(r,n):(e.flags=e.flags&-4097|2,ar=!1,co=e)}}else{if(WP(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,ar=!1,co=e}}}function JM(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;co=e}function Qv(e){if(e!==co)return!1;if(!ar)return JM(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!UP(e.type,e.memoizedProps)),t&&(t=ao)){if(WP(e))throw SW(),Error(Ne(418));for(;t;)wW(e,t),t=Uc(t.nextSibling)}if(JM(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ao=Uc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ao=null}}else ao=co?Uc(e.stateNode.nextSibling):null;return!0}function SW(){for(var e=ao;e;)e=Uc(e.nextSibling)}function Kp(){ao=co=null,ar=!1}function yk(e){ba===null?ba=[e]:ba.push(e)}var rde=Xl.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var mE=Af(null),gE=null,ip=null,_k=null;function vk(){_k=ip=gE=null}function bk(e){var t=mE.current;Jn(mE),e._currentValue=t}function GP(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tp(e,t){gE=e,_k=ip=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fs=!0),e.firstContext=null)}function Jo(e){var t=e._currentValue;if(_k!==e)if(e={context:e,memoizedValue:t,next:null},ip===null){if(gE===null)throw Error(Ne(308));ip=e,gE.dependencies={lanes:0,firstContext:e}}else ip=ip.next=e;return t}var ld=null;function Ek(e){ld===null?ld=[e]:ld.push(e)}function TW(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ek(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rl(e,r)}function Rl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _c=!1;function wk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xW(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rl(e,n)}return i=r.interleaved,i===null?(t.next=t,Ek(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rl(e,n)}function cb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ak(e,n)}}function ZM(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yE(e,t,n,r){var i=e.updateQueue;_c=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=_r({},f,d);break e;case 2:_c=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Fd|=o,e.lanes=o,e.memoizedState=f}}function e4(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var IW=new TH.Component().refs;function YP(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_r({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qT={isMounted:function(e){return(e=e._reactInternals)?sh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=Hc(e),s=bl(r,i);s.payload=t,n!=null&&(s.callback=n),t=Vc(e,s,i),t!==null&&(Pa(t,e,i,r),cb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=Hc(e),s=bl(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Vc(e,s,i),t!==null&&(Pa(t,e,i,r),cb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=Hc(e),i=bl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Vc(e,i,r),t!==null&&(Pa(t,e,r,n),cb(t,e,r))}};function t4(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!wy(n,r)||!wy(i,s):!0}function AW(e,t,n){var r=!1,i=of,s=t.contextType;return typeof s=="object"&&s!==null?s=Jo(s):(i=zs(t)?$d:es.current,r=t.contextTypes,s=(r=r!=null)?Yp(e,i):of),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qT,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function n4(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qT.enqueueReplaceState(t,t.state,null)}function KP(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=IW,wk(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Jo(s):(s=zs(t)?$d:es.current,i.context=Yp(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(YP(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qT.enqueueReplaceState(i,i.state,null),yE(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Pg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===IW&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function Xv(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function r4(e){var t=e._init;return t(e._payload)}function CW(e){function t(m,_){if(e){var v=m.deletions;v===null?(m.deletions=[_],m.flags|=16):v.push(_)}}function n(m,_){if(!e)return null;for(;_!==null;)t(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=Wc(m,_),m.index=0,m.sibling=null,m}function s(m,_,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<_?(m.flags|=2,_):v):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,_,v,w){return _===null||_.tag!==6?(_=eC(v,m.mode,w),_.return=m,_):(_=i(_,v),_.return=m,_)}function u(m,_,v,w){var T=v.type;return T===Qh?c(m,_,v.props.children,w,v.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===yc&&r4(T)===_.type)?(w=i(_,v.props),w.ref=Pg(m,_,v),w.return=m,w):(w=gb(v.type,v.key,v.props,null,m.mode,w),w.ref=Pg(m,_,v),w.return=m,w)}function l(m,_,v,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=tC(v,m.mode,w),_.return=m,_):(_=i(_,v.children||[]),_.return=m,_)}function c(m,_,v,w,T){return _===null||_.tag!==7?(_=Id(v,m.mode,w,T),_.return=m,_):(_=i(_,v),_.return=m,_)}function f(m,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=eC(""+_,m.mode,v),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jv:return v=gb(_.type,_.key,_.props,null,m.mode,v),v.ref=Pg(m,null,_),v.return=m,v;case Kh:return _=tC(_,m.mode,v),_.return=m,_;case yc:var w=_._init;return f(m,w(_._payload),v)}if(u0(_)||xg(_))return _=Id(_,m.mode,v,null),_.return=m,_;Xv(m,_)}return null}function d(m,_,v,w){var T=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:a(m,_,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jv:return v.key===T?u(m,_,v,w):null;case Kh:return v.key===T?l(m,_,v,w):null;case yc:return T=v._init,d(m,_,T(v._payload),w)}if(u0(v)||xg(v))return T!==null?null:c(m,_,v,w,null);Xv(m,v)}return null}function h(m,_,v,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,a(_,m,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jv:return m=m.get(w.key===null?v:w.key)||null,u(_,m,w,T);case Kh:return m=m.get(w.key===null?v:w.key)||null,l(_,m,w,T);case yc:var E=w._init;return h(m,_,v,E(w._payload),T)}if(u0(w)||xg(w))return m=m.get(v)||null,c(_,m,w,T,null);Xv(_,w)}return null}function p(m,_,v,w){for(var T=null,E=null,x=_,A=_=0,M=null;x!==null&&A<v.length;A++){x.index>A?(M=x,x=null):M=x.sibling;var D=d(m,x,v[A],w);if(D===null){x===null&&(x=M);break}e&&x&&D.alternate===null&&t(m,x),_=s(D,_,A),E===null?T=D:E.sibling=D,E=D,x=M}if(A===v.length)return n(m,x),ar&&Wf(m,A),T;if(x===null){for(;A<v.length;A++)x=f(m,v[A],w),x!==null&&(_=s(x,_,A),E===null?T=x:E.sibling=x,E=x);return ar&&Wf(m,A),T}for(x=r(m,x);A<v.length;A++)M=h(x,m,A,v[A],w),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?A:M.key),_=s(M,_,A),E===null?T=M:E.sibling=M,E=M);return e&&x.forEach(function($){return t(m,$)}),ar&&Wf(m,A),T}function g(m,_,v,w){var T=xg(v);if(typeof T!="function")throw Error(Ne(150));if(v=T.call(v),v==null)throw Error(Ne(151));for(var E=T=null,x=_,A=_=0,M=null,D=v.next();x!==null&&!D.done;A++,D=v.next()){x.index>A?(M=x,x=null):M=x.sibling;var $=d(m,x,D.value,w);if($===null){x===null&&(x=M);break}e&&x&&$.alternate===null&&t(m,x),_=s($,_,A),E===null?T=$:E.sibling=$,E=$,x=M}if(D.done)return n(m,x),ar&&Wf(m,A),T;if(x===null){for(;!D.done;A++,D=v.next())D=f(m,D.value,w),D!==null&&(_=s(D,_,A),E===null?T=D:E.sibling=D,E=D);return ar&&Wf(m,A),T}for(x=r(m,x);!D.done;A++,D=v.next())D=h(x,m,A,D.value,w),D!==null&&(e&&D.alternate!==null&&x.delete(D.key===null?A:D.key),_=s(D,_,A),E===null?T=D:E.sibling=D,E=D);return e&&x.forEach(function(W){return t(m,W)}),ar&&Wf(m,A),T}function y(m,_,v,w){if(typeof v=="object"&&v!==null&&v.type===Qh&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case jv:e:{for(var T=v.key,E=_;E!==null;){if(E.key===T){if(T=v.type,T===Qh){if(E.tag===7){n(m,E.sibling),_=i(E,v.props.children),_.return=m,m=_;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===yc&&r4(T)===E.type){n(m,E.sibling),_=i(E,v.props),_.ref=Pg(m,E,v),_.return=m,m=_;break e}n(m,E);break}else t(m,E);E=E.sibling}v.type===Qh?(_=Id(v.props.children,m.mode,w,v.key),_.return=m,m=_):(w=gb(v.type,v.key,v.props,null,m.mode,w),w.ref=Pg(m,_,v),w.return=m,m=w)}return o(m);case Kh:e:{for(E=v.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(m,_.sibling),_=i(_,v.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else t(m,_);_=_.sibling}_=tC(v,m.mode,w),_.return=m,m=_}return o(m);case yc:return E=v._init,y(m,_,E(v._payload),w)}if(u0(v))return p(m,_,v,w);if(xg(v))return g(m,_,v,w);Xv(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(m,_.sibling),_=i(_,v),_.return=m,m=_):(n(m,_),_=eC(v,m.mode,w),_.return=m,m=_),o(m)):n(m,_)}return y}var Qp=CW(!0),OW=CW(!1),D_={},vu=Af(D_),Iy=Af(D_),Ay=Af(D_);function cd(e){if(e===D_)throw Error(Ne(174));return e}function Sk(e,t){switch(Wn(Ay,t),Wn(Iy,e),Wn(vu,D_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:AP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=AP(t,e)}Jn(vu),Wn(vu,t)}function Xp(){Jn(vu),Jn(Iy),Jn(Ay)}function PW(e){cd(Ay.current);var t=cd(vu.current),n=AP(t,e.type);t!==n&&(Wn(Iy,e),Wn(vu,n))}function Tk(e){Iy.current===e&&(Jn(vu),Jn(Iy))}var mr=Af(0);function _E(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var YA=[];function xk(){for(var e=0;e<YA.length;e++)YA[e]._workInProgressVersionPrimary=null;YA.length=0}var fb=Xl.ReactCurrentDispatcher,KA=Xl.ReactCurrentBatchConfig,Md=0,yr=null,Kr=null,fi=null,vE=!1,$0=!1,Cy=0,ide=0;function Bi(){throw Error(Ne(321))}function Ik(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Da(e[n],t[n]))return!1;return!0}function Ak(e,t,n,r,i,s){if(Md=s,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fb.current=e===null||e.memoizedState===null?ude:lde,e=n(r,i),$0){s=0;do{if($0=!1,Cy=0,25<=s)throw Error(Ne(301));s+=1,fi=Kr=null,t.updateQueue=null,fb.current=cde,e=n(r,i)}while($0)}if(fb.current=bE,t=Kr!==null&&Kr.next!==null,Md=0,fi=Kr=yr=null,vE=!1,t)throw Error(Ne(300));return e}function Ck(){var e=Cy!==0;return Cy=0,e}function Ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?yr.memoizedState=fi=e:fi=fi.next=e,fi}function Zo(){if(Kr===null){var e=yr.alternate;e=e!==null?e.memoizedState:null}else e=Kr.next;var t=fi===null?yr.memoizedState:fi.next;if(t!==null)fi=t,Kr=e;else{if(e===null)throw Error(Ne(310));Kr=e,e={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},fi===null?yr.memoizedState=fi=e:fi=fi.next=e}return fi}function Oy(e,t){return typeof t=="function"?t(e):t}function QA(e){var t=Zo(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=Kr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Md&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,yr.lanes|=c,Fd|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Da(r,t.memoizedState)||(Fs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,yr.lanes|=s,Fd|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function XA(e){var t=Zo(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Da(s,t.memoizedState)||(Fs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function RW(){}function NW(e,t){var n=yr,r=Zo(),i=t(),s=!Da(r.memoizedState,i);if(s&&(r.memoizedState=i,Fs=!0),r=r.queue,Ok($W.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||fi!==null&&fi.memoizedState.tag&1){if(n.flags|=2048,Py(9,DW.bind(null,n,r,i,t),void 0,null),pi===null)throw Error(Ne(349));Md&30||kW(n,t,i)}return i}function kW(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DW(e,t,n,r){t.value=n,t.getSnapshot=r,LW(t)&&MW(e)}function $W(e,t,n){return n(function(){LW(t)&&MW(e)})}function LW(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Da(e,n)}catch{return!0}}function MW(e){var t=Rl(e,1);t!==null&&Pa(t,e,1,-1)}function i4(e){var t=Ga();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:e},t.queue=e,e=e.dispatch=ade.bind(null,yr,e),[t.memoizedState,e]}function Py(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function FW(){return Zo().memoizedState}function db(e,t,n,r){var i=Ga();yr.flags|=e,i.memoizedState=Py(1|t,n,void 0,r===void 0?null:r)}function GT(e,t,n,r){var i=Zo();r=r===void 0?null:r;var s=void 0;if(Kr!==null){var o=Kr.memoizedState;if(s=o.destroy,r!==null&&Ik(r,o.deps)){i.memoizedState=Py(t,n,s,r);return}}yr.flags|=e,i.memoizedState=Py(1|t,n,s,r)}function s4(e,t){return db(8390656,8,e,t)}function Ok(e,t){return GT(2048,8,e,t)}function BW(e,t){return GT(4,2,e,t)}function jW(e,t){return GT(4,4,e,t)}function UW(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VW(e,t,n){return n=n!=null?n.concat([e]):null,GT(4,4,UW.bind(null,t,e),n)}function Pk(){}function zW(e,t){var n=Zo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ik(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HW(e,t){var n=Zo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ik(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function WW(e,t,n){return Md&21?(Da(n,t)||(n=YH(),yr.lanes|=n,Fd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fs=!0),e.memoizedState=n)}function sde(e,t){var n=Pn;Pn=n!==0&&4>n?n:4,e(!0);var r=KA.transition;KA.transition={};try{e(!1),t()}finally{Pn=n,KA.transition=r}}function qW(){return Zo().memoizedState}function ode(e,t,n){var r=Hc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GW(e))YW(t,n);else if(n=TW(e,t,n,r),n!==null){var i=hs();Pa(n,e,r,i),KW(n,t,r)}}function ade(e,t,n){var r=Hc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GW(e))YW(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Da(a,o)){var u=t.interleaved;u===null?(i.next=i,Ek(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=TW(e,t,i,r),n!==null&&(i=hs(),Pa(n,e,r,i),KW(n,t,r))}}function GW(e){var t=e.alternate;return e===yr||t!==null&&t===yr}function YW(e,t){$0=vE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function KW(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ak(e,n)}}var bE={readContext:Jo,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},ude={readContext:Jo,useCallback:function(e,t){return Ga().memoizedState=[e,t===void 0?null:t],e},useContext:Jo,useEffect:s4,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,db(4194308,4,UW.bind(null,t,e),n)},useLayoutEffect:function(e,t){return db(4194308,4,e,t)},useInsertionEffect:function(e,t){return db(4,2,e,t)},useMemo:function(e,t){var n=Ga();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ga();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ode.bind(null,yr,e),[r.memoizedState,e]},useRef:function(e){var t=Ga();return e={current:e},t.memoizedState=e},useState:i4,useDebugValue:Pk,useDeferredValue:function(e){return Ga().memoizedState=e},useTransition:function(){var e=i4(!1),t=e[0];return e=sde.bind(null,e[1]),Ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=yr,i=Ga();if(ar){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),pi===null)throw Error(Ne(349));Md&30||kW(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,s4($W.bind(null,r,s,e),[e]),r.flags|=2048,Py(9,DW.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ga(),t=pi.identifierPrefix;if(ar){var n=fl,r=cl;n=(r&~(1<<32-Oa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ide++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lde={readContext:Jo,useCallback:zW,useContext:Jo,useEffect:Ok,useImperativeHandle:VW,useInsertionEffect:BW,useLayoutEffect:jW,useMemo:HW,useReducer:QA,useRef:FW,useState:function(){return QA(Oy)},useDebugValue:Pk,useDeferredValue:function(e){var t=Zo();return WW(t,Kr.memoizedState,e)},useTransition:function(){var e=QA(Oy)[0],t=Zo().memoizedState;return[e,t]},useMutableSource:RW,useSyncExternalStore:NW,useId:qW,unstable_isNewReconciler:!1},cde={readContext:Jo,useCallback:zW,useContext:Jo,useEffect:Ok,useImperativeHandle:VW,useInsertionEffect:BW,useLayoutEffect:jW,useMemo:HW,useReducer:XA,useRef:FW,useState:function(){return XA(Oy)},useDebugValue:Pk,useDeferredValue:function(e){var t=Zo();return Kr===null?t.memoizedState=e:WW(t,Kr.memoizedState,e)},useTransition:function(){var e=XA(Oy)[0],t=Zo().memoizedState;return[e,t]},useMutableSource:RW,useSyncExternalStore:NW,useId:qW,unstable_isNewReconciler:!1};function Jp(e,t){try{var n="",r=t;do n+=Fce(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function JA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function QP(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fde=typeof WeakMap=="function"?WeakMap:Map;function QW(e,t,n){n=bl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wE||(wE=!0,o2=r),QP(e,t)},n}function XW(e,t,n){n=bl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){QP(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){QP(e,t),typeof r!="function"&&(zc===null?zc=new Set([this]):zc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function o4(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fde;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xde.bind(null,e,t,n),t.then(e,e))}function a4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u4(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bl(-1,1),t.tag=2,Vc(n,t,1))),n.lanes|=1),e)}var dde=Xl.ReactCurrentOwner,Fs=!1;function cs(e,t,n,r){t.child=e===null?OW(t,null,n,r):Qp(t,e.child,n,r)}function l4(e,t,n,r,i){n=n.render;var s=t.ref;return Tp(t,i),r=Ak(e,t,n,r,s,i),n=Ck(),e!==null&&!Fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nl(e,t,i)):(ar&&n&&mk(t),t.flags|=1,cs(e,t,r,i),t.child)}function c4(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Fk(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,JW(e,t,s,r,i)):(e=gb(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wy,n(o,r)&&e.ref===t.ref)return Nl(e,t,i)}return t.flags|=1,e=Wc(s,r),e.ref=t.ref,e.return=t,t.child=e}function JW(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(wy(s,r)&&e.ref===t.ref)if(Fs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Fs=!0);else return t.lanes=e.lanes,Nl(e,t,i)}return XP(e,t,n,r,i)}function ZW(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(op,to),to|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wn(op,to),to|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Wn(op,to),to|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Wn(op,to),to|=r;return cs(e,t,i,n),t.child}function eq(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function XP(e,t,n,r,i){var s=zs(n)?$d:es.current;return s=Yp(t,s),Tp(t,i),n=Ak(e,t,n,r,s,i),r=Ck(),e!==null&&!Fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Nl(e,t,i)):(ar&&r&&mk(t),t.flags|=1,cs(e,t,n,i),t.child)}function f4(e,t,n,r,i){if(zs(n)){var s=!0;dE(t)}else s=!1;if(Tp(t,i),t.stateNode===null)hb(e,t),AW(t,n,r),KP(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Jo(l):(l=zs(n)?$d:es.current,l=Yp(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&n4(t,o,r,l),_c=!1;var d=t.memoizedState;o.state=d,yE(t,r,o,i),u=t.memoizedState,a!==r||d!==u||Vs.current||_c?(typeof c=="function"&&(YP(t,n,c,r),u=t.memoizedState),(a=_c||t4(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xW(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ya(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jo(u):(u=zs(n)?$d:es.current,u=Yp(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&n4(t,o,r,u),_c=!1,d=t.memoizedState,o.state=d,yE(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||Vs.current||_c?(typeof h=="function"&&(YP(t,n,h,r),p=t.memoizedState),(l=_c||t4(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return JP(e,t,n,r,s,i)}function JP(e,t,n,r,i,s){eq(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&QM(t,n,!1),Nl(e,t,s);r=t.stateNode,dde.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Qp(t,e.child,null,s),t.child=Qp(t,null,a,s)):cs(e,t,a,s),t.memoizedState=r.state,i&&QM(t,n,!0),t.child}function tq(e){var t=e.stateNode;t.pendingContext?KM(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KM(e,t.context,!1),Sk(e,t.containerInfo)}function d4(e,t,n,r,i){return Kp(),yk(i),t.flags|=256,cs(e,t,n,r),t.child}var ZP={dehydrated:null,treeContext:null,retryLane:0};function e2(e){return{baseLanes:e,cachePool:null,transitions:null}}function nq(e,t,n){var r=t.pendingProps,i=mr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wn(mr,i&1),e===null)return qP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=QT(o,r,0,null),e=Id(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=e2(n),t.memoizedState=ZP,e):Rk(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hde(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Wc(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wc(a,s):(s=Id(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?e2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ZP,r}return s=e.child,e=s.sibling,r=Wc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rk(e,t){return t=QT({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jv(e,t,n,r){return r!==null&&yk(r),Qp(t,e.child,null,n),e=Rk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hde(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=JA(Error(Ne(422))),Jv(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=QT({mode:"visible",children:r.children},i,0,null),s=Id(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Qp(t,e.child,null,o),t.child.memoizedState=e2(o),t.memoizedState=ZP,s);if(!(t.mode&1))return Jv(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=JA(s,r,void 0),Jv(e,t,o,r)}if(a=(o&e.childLanes)!==0,Fs||a){if(r=pi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rl(e,i),Pa(r,e,i,-1))}return Mk(),r=JA(Error(Ne(421))),Jv(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ide.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ao=Uc(i.nextSibling),co=t,ar=!0,ba=null,e!==null&&(Mo[Fo++]=cl,Mo[Fo++]=fl,Mo[Fo++]=Ld,cl=e.id,fl=e.overflow,Ld=t),t=Rk(t,r.children),t.flags|=4096,t)}function h4(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),GP(e.return,t,n)}function ZA(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rq(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(cs(e,t,r.children,n),r=mr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h4(e,n,t);else if(e.tag===19)h4(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wn(mr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_E(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ZA(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_E(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ZA(t,!0,n,null,s);break;case"together":ZA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=Wc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pde(e,t,n){switch(t.tag){case 3:tq(t),Kp();break;case 5:PW(t);break;case 1:zs(t.type)&&dE(t);break;case 4:Sk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wn(mE,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wn(mr,mr.current&1),t.flags|=128,null):n&t.child.childLanes?nq(e,t,n):(Wn(mr,mr.current&1),e=Nl(e,t,n),e!==null?e.sibling:null);Wn(mr,mr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rq(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wn(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,ZW(e,t,n)}return Nl(e,t,n)}var iq,t2,sq,oq;iq=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};t2=function(){};sq=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cd(vu.current);var s=null;switch(n){case"input":i=SP(e,i),r=SP(e,r),s=[];break;case"select":i=_r({},i,{value:void 0}),r=_r({},r,{value:void 0}),s=[];break;case"textarea":i=IP(e,i),r=IP(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cE)}CP(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(my.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(my.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Yn("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};oq=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rg(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ji(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mde(e,t,n){var r=t.pendingProps;switch(gk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(t),null;case 1:return zs(t.type)&&fE(),ji(t),null;case 3:return r=t.stateNode,Xp(),Jn(Vs),Jn(es),xk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ba!==null&&(l2(ba),ba=null))),t2(e,t),ji(t),null;case 5:Tk(t);var i=cd(Ay.current);if(n=t.type,e!==null&&t.stateNode!=null)sq(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return ji(t),null}if(e=cd(vu.current),Qv(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[nu]=t,r[xy]=s,e=(t.mode&1)!==0,n){case"dialog":Yn("cancel",r),Yn("close",r);break;case"iframe":case"object":case"embed":Yn("load",r);break;case"video":case"audio":for(i=0;i<c0.length;i++)Yn(c0[i],r);break;case"source":Yn("error",r);break;case"img":case"image":case"link":Yn("error",r),Yn("load",r);break;case"details":Yn("toggle",r);break;case"input":wM(r,s),Yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yn("invalid",r);break;case"textarea":TM(r,s),Yn("invalid",r)}CP(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kv(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kv(r.textContent,a,e),i=["children",""+a]):my.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Yn("scroll",r)}switch(n){case"input":Uv(r),SM(r,s,!0);break;case"textarea":Uv(r),xM(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cE)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kH(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[nu]=t,e[xy]=r,iq(e,t,!1,!1),t.stateNode=e;e:{switch(o=OP(n,r),n){case"dialog":Yn("cancel",e),Yn("close",e),i=r;break;case"iframe":case"object":case"embed":Yn("load",e),i=r;break;case"video":case"audio":for(i=0;i<c0.length;i++)Yn(c0[i],e);i=r;break;case"source":Yn("error",e),i=r;break;case"img":case"image":case"link":Yn("error",e),Yn("load",e),i=r;break;case"details":Yn("toggle",e),i=r;break;case"input":wM(e,r),i=SP(e,r),Yn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_r({},r,{value:void 0}),Yn("invalid",e);break;case"textarea":TM(e,r),i=IP(e,r),Yn("invalid",e);break;default:i=r}CP(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?LH(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&DH(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&gy(e,u):typeof u=="number"&&gy(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(my.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Yn("scroll",e):u!=null&&tk(e,s,u,o))}switch(n){case"input":Uv(e),SM(e,r,!1);break;case"textarea":Uv(e),xM(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sf(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?bp(e,!!r.multiple,s,!1):r.defaultValue!=null&&bp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=cE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ji(t),null;case 6:if(e&&t.stateNode!=null)oq(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=cd(Ay.current),cd(vu.current),Qv(t)){if(r=t.stateNode,n=t.memoizedProps,r[nu]=t,(s=r.nodeValue!==n)&&(e=co,e!==null))switch(e.tag){case 3:Kv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nu]=t,t.stateNode=r}return ji(t),null;case 13:if(Jn(mr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&ao!==null&&t.mode&1&&!(t.flags&128))SW(),Kp(),t.flags|=98560,s=!1;else if(s=Qv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[nu]=t}else Kp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ji(t),s=!1}else ba!==null&&(l2(ba),ba=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mr.current&1?ei===0&&(ei=3):Mk())),t.updateQueue!==null&&(t.flags|=4),ji(t),null);case 4:return Xp(),t2(e,t),e===null&&Sy(t.stateNode.containerInfo),ji(t),null;case 10:return bk(t.type._context),ji(t),null;case 17:return zs(t.type)&&fE(),ji(t),null;case 19:if(Jn(mr),s=t.memoizedState,s===null)return ji(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Rg(s,!1);else{if(ei!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_E(e),o!==null){for(t.flags|=128,Rg(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wn(mr,mr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Dr()>Zp&&(t.flags|=128,r=!0,Rg(s,!1),t.lanes=4194304)}else{if(!r)if(e=_E(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ar)return ji(t),null}else 2*Dr()-s.renderingStartTime>Zp&&n!==1073741824&&(t.flags|=128,r=!0,Rg(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Dr(),t.sibling=null,n=mr.current,Wn(mr,r?n&1|2:n&1),t):(ji(t),null);case 22:case 23:return Lk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?to&1073741824&&(ji(t),t.subtreeFlags&6&&(t.flags|=8192)):ji(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function gde(e,t){switch(gk(t),t.tag){case 1:return zs(t.type)&&fE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xp(),Jn(Vs),Jn(es),xk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tk(t),null;case 13:if(Jn(mr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));Kp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(mr),null;case 4:return Xp(),null;case 10:return bk(t.type._context),null;case 22:case 23:return Lk(),null;case 24:return null;default:return null}}var Zv=!1,Ki=!1,yde=typeof WeakSet=="function"?WeakSet:Set,qe=null;function sp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tr(e,t,r)}else n.current=null}function n2(e,t,n){try{n()}catch(r){Tr(e,t,r)}}var p4=!1;function _de(e,t){if(BP=aE,e=cW(),pk(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jP={focusedElem:e,selectionRange:n},aE=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=t.stateNode,_=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:ya(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(w){Tr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return p=p4,p4=!1,p}function L0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&n2(t,n,s)}i=i.next}while(i!==r)}}function YT(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function r2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function aq(e){var t=e.alternate;t!==null&&(e.alternate=null,aq(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nu],delete t[xy],delete t[zP],delete t[ede],delete t[tde])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uq(e){return e.tag===5||e.tag===3||e.tag===4}function m4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uq(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cE));else if(r!==4&&(e=e.child,e!==null))for(i2(e,t,n),e=e.sibling;e!==null;)i2(e,t,n),e=e.sibling}function s2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(s2(e,t,n),e=e.sibling;e!==null;)s2(e,t,n),e=e.sibling}var Ti=null,_a=!1;function ac(e,t,n){for(n=n.child;n!==null;)lq(e,t,n),n=n.sibling}function lq(e,t,n){if(_u&&typeof _u.onCommitFiberUnmount=="function")try{_u.onCommitFiberUnmount(jT,n)}catch{}switch(n.tag){case 5:Ki||sp(n,t);case 6:var r=Ti,i=_a;Ti=null,ac(e,t,n),Ti=r,_a=i,Ti!==null&&(_a?(e=Ti,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ti.removeChild(n.stateNode));break;case 18:Ti!==null&&(_a?(e=Ti,n=n.stateNode,e.nodeType===8?qA(e.parentNode,n):e.nodeType===1&&qA(e,n),by(e)):qA(Ti,n.stateNode));break;case 4:r=Ti,i=_a,Ti=n.stateNode.containerInfo,_a=!0,ac(e,t,n),Ti=r,_a=i;break;case 0:case 11:case 14:case 15:if(!Ki&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&n2(n,t,o),i=i.next}while(i!==r)}ac(e,t,n);break;case 1:if(!Ki&&(sp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tr(n,t,a)}ac(e,t,n);break;case 21:ac(e,t,n);break;case 22:n.mode&1?(Ki=(r=Ki)||n.memoizedState!==null,ac(e,t,n),Ki=r):ac(e,t,n);break;default:ac(e,t,n)}}function g4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yde),t.forEach(function(r){var i=Ade.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function da(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ti=a.stateNode,_a=!1;break e;case 3:Ti=a.stateNode.containerInfo,_a=!0;break e;case 4:Ti=a.stateNode.containerInfo,_a=!0;break e}a=a.return}if(Ti===null)throw Error(Ne(160));lq(s,o,i),Ti=null,_a=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Tr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cq(t,e),t=t.sibling}function cq(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(da(t,e),za(e),r&4){try{L0(3,e,e.return),YT(3,e)}catch(g){Tr(e,e.return,g)}try{L0(5,e,e.return)}catch(g){Tr(e,e.return,g)}}break;case 1:da(t,e),za(e),r&512&&n!==null&&sp(n,n.return);break;case 5:if(da(t,e),za(e),r&512&&n!==null&&sp(n,n.return),e.flags&32){var i=e.stateNode;try{gy(i,"")}catch(g){Tr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RH(i,s),OP(a,o);var l=OP(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?LH(i,f):c==="dangerouslySetInnerHTML"?DH(i,f):c==="children"?gy(i,f):tk(i,c,f,l)}switch(a){case"input":TP(i,s);break;case"textarea":NH(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?bp(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?bp(i,!!s.multiple,s.defaultValue,!0):bp(i,!!s.multiple,s.multiple?[]:"",!1))}i[xy]=s}catch(g){Tr(e,e.return,g)}}break;case 6:if(da(t,e),za(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Tr(e,e.return,g)}}break;case 3:if(da(t,e),za(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{by(t.containerInfo)}catch(g){Tr(e,e.return,g)}break;case 4:da(t,e),za(e);break;case 13:da(t,e),za(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dk=Dr())),r&4&&g4(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ki=(l=Ki)||c,da(t,e),Ki=l):da(t,e),za(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(qe=e,c=e.child;c!==null;){for(f=qe=c;qe!==null;){switch(d=qe,h=d.child,d.tag){case 0:case 11:case 14:case 15:L0(4,d,d.return);break;case 1:sp(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Tr(r,n,g)}}break;case 5:sp(d,d.return);break;case 22:if(d.memoizedState!==null){_4(f);continue}}h!==null?(h.return=d,qe=h):_4(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=$H("display",o))}catch(g){Tr(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Tr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:da(t,e),za(e),r&4&&g4(e);break;case 21:break;default:da(t,e),za(e)}}function za(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uq(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gy(i,""),r.flags&=-33);var s=m4(e);s2(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=m4(e);i2(e,a,o);break;default:throw Error(Ne(161))}}catch(u){Tr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vde(e,t,n){qe=e,fq(e)}function fq(e,t,n){for(var r=(e.mode&1)!==0;qe!==null;){var i=qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zv;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ki;a=Zv;var l=Ki;if(Zv=o,(Ki=u)&&!l)for(qe=i;qe!==null;)o=qe,u=o.child,o.tag===22&&o.memoizedState!==null?v4(i):u!==null?(u.return=o,qe=u):v4(i);for(;s!==null;)qe=s,fq(s),s=s.sibling;qe=i,Zv=a,Ki=l}y4(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,qe=s):y4(e)}}function y4(e){for(;qe!==null;){var t=qe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ki||YT(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ki)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&e4(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}e4(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&by(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Ki||t.flags&512&&r2(t)}catch(d){Tr(t,t.return,d)}}if(t===e){qe=null;break}if(n=t.sibling,n!==null){n.return=t.return,qe=n;break}qe=t.return}}function _4(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qe=n;break}qe=t.return}}function v4(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{YT(4,t)}catch(u){Tr(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Tr(t,i,u)}}var s=t.return;try{r2(t)}catch(u){Tr(t,s,u)}break;case 5:var o=t.return;try{r2(t)}catch(u){Tr(t,o,u)}}}catch(u){Tr(t,t.return,u)}if(t===e){qe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,qe=a;break}qe=t.return}}var bde=Math.ceil,EE=Xl.ReactCurrentDispatcher,Nk=Xl.ReactCurrentOwner,Ko=Xl.ReactCurrentBatchConfig,pn=0,pi=null,Hr=null,Ni=0,to=0,op=Af(0),ei=0,Ry=null,Fd=0,KT=0,kk=0,M0=null,ks=null,Dk=0,Zp=1/0,el=null,wE=!1,o2=null,zc=null,e1=!1,kc=null,SE=0,F0=0,a2=null,pb=-1,mb=0;function hs(){return pn&6?Dr():pb!==-1?pb:pb=Dr()}function Hc(e){return e.mode&1?pn&2&&Ni!==0?Ni&-Ni:rde.transition!==null?(mb===0&&(mb=YH()),mb):(e=Pn,e!==0||(e=window.event,e=e===void 0?16:tW(e.type)),e):1}function Pa(e,t,n,r){if(50<F0)throw F0=0,a2=null,Error(Ne(185));R_(e,n,r),(!(pn&2)||e!==pi)&&(e===pi&&(!(pn&2)&&(KT|=n),ei===4&&Tc(e,Ni)),Hs(e,r),n===1&&pn===0&&!(t.mode&1)&&(Zp=Dr()+500,WT&&Cf()))}function Hs(e,t){var n=e.callbackNode;rfe(e,t);var r=oE(e,e===pi?Ni:0);if(r===0)n!==null&&CM(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&CM(n),t===1)e.tag===0?nde(b4.bind(null,e)):bW(b4.bind(null,e)),Jfe(function(){!(pn&6)&&Cf()}),n=null;else{switch(KH(r)){case 1:n=ok;break;case 4:n=qH;break;case 16:n=sE;break;case 536870912:n=GH;break;default:n=sE}n=vq(n,dq.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dq(e,t){if(pb=-1,mb=0,pn&6)throw Error(Ne(327));var n=e.callbackNode;if(xp()&&e.callbackNode!==n)return null;var r=oE(e,e===pi?Ni:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=TE(e,r);else{t=r;var i=pn;pn|=2;var s=pq();(pi!==e||Ni!==t)&&(el=null,Zp=Dr()+500,xd(e,t));do try{Sde();break}catch(a){hq(e,a)}while(!0);vk(),EE.current=s,pn=i,Hr!==null?t=0:(pi=null,Ni=0,t=ei)}if(t!==0){if(t===2&&(i=DP(e),i!==0&&(r=i,t=u2(e,i))),t===1)throw n=Ry,xd(e,0),Tc(e,r),Hs(e,Dr()),n;if(t===6)Tc(e,r);else{if(i=e.current.alternate,!(r&30)&&!Ede(i)&&(t=TE(e,r),t===2&&(s=DP(e),s!==0&&(r=s,t=u2(e,s))),t===1))throw n=Ry,xd(e,0),Tc(e,r),Hs(e,Dr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:qf(e,ks,el);break;case 3:if(Tc(e,r),(r&130023424)===r&&(t=Dk+500-Dr(),10<t)){if(oE(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=VP(qf.bind(null,e,ks,el),t);break}qf(e,ks,el);break;case 4:if(Tc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Oa(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Dr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bde(r/1960))-r,10<r){e.timeoutHandle=VP(qf.bind(null,e,ks,el),r);break}qf(e,ks,el);break;case 5:qf(e,ks,el);break;default:throw Error(Ne(329))}}}return Hs(e,Dr()),e.callbackNode===n?dq.bind(null,e):null}function u2(e,t){var n=M0;return e.current.memoizedState.isDehydrated&&(xd(e,t).flags|=256),e=TE(e,t),e!==2&&(t=ks,ks=n,t!==null&&l2(t)),e}function l2(e){ks===null?ks=e:ks.push.apply(ks,e)}function Ede(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Da(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tc(e,t){for(t&=~kk,t&=~KT,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oa(t),r=1<<n;e[n]=-1,t&=~r}}function b4(e){if(pn&6)throw Error(Ne(327));xp();var t=oE(e,0);if(!(t&1))return Hs(e,Dr()),null;var n=TE(e,t);if(e.tag!==0&&n===2){var r=DP(e);r!==0&&(t=r,n=u2(e,r))}if(n===1)throw n=Ry,xd(e,0),Tc(e,t),Hs(e,Dr()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qf(e,ks,el),Hs(e,Dr()),null}function $k(e,t){var n=pn;pn|=1;try{return e(t)}finally{pn=n,pn===0&&(Zp=Dr()+500,WT&&Cf())}}function Bd(e){kc!==null&&kc.tag===0&&!(pn&6)&&xp();var t=pn;pn|=1;var n=Ko.transition,r=Pn;try{if(Ko.transition=null,Pn=1,e)return e()}finally{Pn=r,Ko.transition=n,pn=t,!(pn&6)&&Cf()}}function Lk(){to=op.current,Jn(op)}function xd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xfe(n)),Hr!==null)for(n=Hr.return;n!==null;){var r=n;switch(gk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fE();break;case 3:Xp(),Jn(Vs),Jn(es),xk();break;case 5:Tk(r);break;case 4:Xp();break;case 13:Jn(mr);break;case 19:Jn(mr);break;case 10:bk(r.type._context);break;case 22:case 23:Lk()}n=n.return}if(pi=e,Hr=e=Wc(e.current,null),Ni=to=t,ei=0,Ry=null,kk=KT=Fd=0,ks=M0=null,ld!==null){for(t=0;t<ld.length;t++)if(n=ld[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ld=null}return e}function hq(e,t){do{var n=Hr;try{if(vk(),fb.current=bE,vE){for(var r=yr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vE=!1}if(Md=0,fi=Kr=yr=null,$0=!1,Cy=0,Nk.current=null,n===null||n.return===null){ei=1,Ry=t,Hr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Ni,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=a4(o);if(h!==null){h.flags&=-257,u4(h,o,a,s,t),h.mode&1&&o4(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}else{if(!(t&1)){o4(s,l,t),Mk();break e}u=Error(Ne(426))}}else if(ar&&a.mode&1){var y=a4(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),u4(y,o,a,s,t),yk(Jp(u,a));break e}}s=u=Jp(u,a),ei!==4&&(ei=2),M0===null?M0=[s]:M0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=QW(s,u,t);ZM(s,m);break e;case 1:a=u;var _=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(zc===null||!zc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=XW(s,a,t);ZM(s,w);break e}}s=s.return}while(s!==null)}gq(n)}catch(T){t=T,Hr===n&&n!==null&&(Hr=n=n.return);continue}break}while(!0)}function pq(){var e=EE.current;return EE.current=bE,e===null?bE:e}function Mk(){(ei===0||ei===3||ei===2)&&(ei=4),pi===null||!(Fd&268435455)&&!(KT&268435455)||Tc(pi,Ni)}function TE(e,t){var n=pn;pn|=2;var r=pq();(pi!==e||Ni!==t)&&(el=null,xd(e,t));do try{wde();break}catch(i){hq(e,i)}while(!0);if(vk(),pn=n,EE.current=r,Hr!==null)throw Error(Ne(261));return pi=null,Ni=0,ei}function wde(){for(;Hr!==null;)mq(Hr)}function Sde(){for(;Hr!==null&&!Yce();)mq(Hr)}function mq(e){var t=_q(e.alternate,e,to);e.memoizedProps=e.pendingProps,t===null?gq(e):Hr=t,Nk.current=null}function gq(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gde(n,t),n!==null){n.flags&=32767,Hr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ei=6,Hr=null;return}}else if(n=mde(n,t,to),n!==null){Hr=n;return}if(t=t.sibling,t!==null){Hr=t;return}Hr=t=e}while(t!==null);ei===0&&(ei=5)}function qf(e,t,n){var r=Pn,i=Ko.transition;try{Ko.transition=null,Pn=1,Tde(e,t,n,r)}finally{Ko.transition=i,Pn=r}return null}function Tde(e,t,n,r){do xp();while(kc!==null);if(pn&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ife(e,s),e===pi&&(Hr=pi=null,Ni=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||e1||(e1=!0,vq(sE,function(){return xp(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ko.transition,Ko.transition=null;var o=Pn;Pn=1;var a=pn;pn|=4,Nk.current=null,_de(e,n),cq(n,e),Hfe(jP),aE=!!BP,jP=BP=null,e.current=n,vde(n),Kce(),pn=a,Pn=o,Ko.transition=s}else e.current=n;if(e1&&(e1=!1,kc=e,SE=i),s=e.pendingLanes,s===0&&(zc=null),Jce(n.stateNode),Hs(e,Dr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wE)throw wE=!1,e=o2,o2=null,e;return SE&1&&e.tag!==0&&xp(),s=e.pendingLanes,s&1?e===a2?F0++:(F0=0,a2=e):F0=0,Cf(),null}function xp(){if(kc!==null){var e=KH(SE),t=Ko.transition,n=Pn;try{if(Ko.transition=null,Pn=16>e?16:e,kc===null)var r=!1;else{if(e=kc,kc=null,SE=0,pn&6)throw Error(Ne(331));var i=pn;for(pn|=4,qe=e.current;qe!==null;){var s=qe,o=s.child;if(qe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(qe=l;qe!==null;){var c=qe;switch(c.tag){case 0:case 11:case 15:L0(8,c,s)}var f=c.child;if(f!==null)f.return=c,qe=f;else for(;qe!==null;){c=qe;var d=c.sibling,h=c.return;if(aq(c),c===l){qe=null;break}if(d!==null){d.return=h,qe=d;break}qe=h}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qe=o;else e:for(;qe!==null;){if(s=qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:L0(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,qe=m;break e}qe=s.return}}var _=e.current;for(qe=_;qe!==null;){o=qe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,qe=v;else e:for(o=_;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:YT(9,a)}}catch(T){Tr(a,a.return,T)}if(a===o){qe=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,qe=w;break e}qe=a.return}}if(pn=i,Cf(),_u&&typeof _u.onPostCommitFiberRoot=="function")try{_u.onPostCommitFiberRoot(jT,e)}catch{}r=!0}return r}finally{Pn=n,Ko.transition=t}}return!1}function E4(e,t,n){t=Jp(n,t),t=QW(e,t,1),e=Vc(e,t,1),t=hs(),e!==null&&(R_(e,1,t),Hs(e,t))}function Tr(e,t,n){if(e.tag===3)E4(e,e,n);else for(;t!==null;){if(t.tag===3){E4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zc===null||!zc.has(r))){e=Jp(n,e),e=XW(t,e,1),t=Vc(t,e,1),e=hs(),t!==null&&(R_(t,1,e),Hs(t,e));break}}t=t.return}}function xde(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,pi===e&&(Ni&n)===n&&(ei===4||ei===3&&(Ni&130023424)===Ni&&500>Dr()-Dk?xd(e,0):kk|=n),Hs(e,t)}function yq(e,t){t===0&&(e.mode&1?(t=Hv,Hv<<=1,!(Hv&130023424)&&(Hv=4194304)):t=1);var n=hs();e=Rl(e,t),e!==null&&(R_(e,t,n),Hs(e,n))}function Ide(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yq(e,n)}function Ade(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),yq(e,n)}var _q;_q=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vs.current)Fs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fs=!1,pde(e,t,n);Fs=!!(e.flags&131072)}else Fs=!1,ar&&t.flags&1048576&&EW(t,pE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hb(e,t),e=t.pendingProps;var i=Yp(t,es.current);Tp(t,n),i=Ak(null,t,r,e,i,n);var s=Ck();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zs(r)?(s=!0,dE(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wk(t),i.updater=qT,t.stateNode=i,i._reactInternals=t,KP(t,r,e,n),t=JP(null,t,r,!0,s,n)):(t.tag=0,ar&&s&&mk(t),cs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ode(r),e=ya(r,e),i){case 0:t=XP(null,t,r,e,n);break e;case 1:t=f4(null,t,r,e,n);break e;case 11:t=l4(null,t,r,e,n);break e;case 14:t=c4(null,t,r,ya(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),XP(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),f4(e,t,r,i,n);case 3:e:{if(tq(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,xW(e,t),yE(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Jp(Error(Ne(423)),t),t=d4(e,t,r,n,i);break e}else if(r!==i){i=Jp(Error(Ne(424)),t),t=d4(e,t,r,n,i);break e}else for(ao=Uc(t.stateNode.containerInfo.firstChild),co=t,ar=!0,ba=null,n=OW(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kp(),r===i){t=Nl(e,t,n);break e}cs(e,t,r,n)}t=t.child}return t;case 5:return PW(t),e===null&&qP(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,UP(r,i)?o=null:s!==null&&UP(r,s)&&(t.flags|=32),eq(e,t),cs(e,t,o,n),t.child;case 6:return e===null&&qP(t),null;case 13:return nq(e,t,n);case 4:return Sk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qp(t,null,r,n):cs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),l4(e,t,r,i,n);case 7:return cs(e,t,t.pendingProps,n),t.child;case 8:return cs(e,t,t.pendingProps.children,n),t.child;case 12:return cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Wn(mE,r._currentValue),r._currentValue=o,s!==null)if(Da(s.value,o)){if(s.children===i.children&&!Vs.current){t=Nl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=bl(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),GP(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),GP(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}cs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Tp(t,n),i=Jo(i),r=r(i),t.flags|=1,cs(e,t,r,n),t.child;case 14:return r=t.type,i=ya(r,t.pendingProps),i=ya(r.type,i),c4(e,t,r,i,n);case 15:return JW(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),hb(e,t),t.tag=1,zs(r)?(e=!0,dE(t)):e=!1,Tp(t,n),AW(t,r,i),KP(t,r,i,n),JP(null,t,r,!0,e,n);case 19:return rq(e,t,n);case 22:return ZW(e,t,n)}throw Error(Ne(156,t.tag))};function vq(e,t){return WH(e,t)}function Cde(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qo(e,t,n,r){return new Cde(e,t,n,r)}function Fk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ode(e){if(typeof e=="function")return Fk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rk)return 11;if(e===ik)return 14}return 2}function Wc(e,t){var n=e.alternate;return n===null?(n=qo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gb(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Fk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qh:return Id(n.children,i,s,t);case nk:o=8,i|=8;break;case vP:return e=qo(12,n,t,i|2),e.elementType=vP,e.lanes=s,e;case bP:return e=qo(13,n,t,i),e.elementType=bP,e.lanes=s,e;case EP:return e=qo(19,n,t,i),e.elementType=EP,e.lanes=s,e;case CH:return QT(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case IH:o=10;break e;case AH:o=9;break e;case rk:o=11;break e;case ik:o=14;break e;case yc:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=qo(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Id(e,t,n,r){return e=qo(7,e,r,t),e.lanes=n,e}function QT(e,t,n,r){return e=qo(22,e,r,t),e.elementType=CH,e.lanes=n,e.stateNode={isHidden:!1},e}function eC(e,t,n){return e=qo(6,e,null,t),e.lanes=n,e}function tC(e,t,n){return t=qo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pde(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$A(0),this.expirationTimes=$A(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$A(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bk(e,t,n,r,i,s,o,a,u){return e=new Pde(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wk(s),e}function Rde(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bq(e){if(!e)return of;e=e._reactInternals;e:{if(sh(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(zs(n))return vW(e,n,t)}return t}function Eq(e,t,n,r,i,s,o,a,u){return e=Bk(n,r,!0,e,i,s,o,a,u),e.context=bq(null),n=e.current,r=hs(),i=Hc(n),s=bl(r,i),s.callback=t??null,Vc(n,s,i),e.current.lanes=i,R_(e,i,r),Hs(e,r),e}function XT(e,t,n,r){var i=t.current,s=hs(),o=Hc(i);return n=bq(n),t.context===null?t.context=n:t.pendingContext=n,t=bl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vc(i,t,o),e!==null&&(Pa(e,i,o,s),cb(e,i,o)),o}function xE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function w4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jk(e,t){w4(e,t),(e=e.alternate)&&w4(e,t)}function Nde(){return null}var wq=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uk(e){this._internalRoot=e}JT.prototype.render=Uk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));XT(e,t,null,null)};JT.prototype.unmount=Uk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bd(function(){XT(null,e,null,null)}),t[Pl]=null}};function JT(e){this._internalRoot=e}JT.prototype.unstable_scheduleHydration=function(e){if(e){var t=JH();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sc.length&&t!==0&&t<Sc[n].priority;n++);Sc.splice(n,0,e),n===0&&eW(e)}};function Vk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ZT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function S4(){}function kde(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=xE(o);s.call(l)}}var o=Eq(t,r,e,0,null,!1,!1,"",S4);return e._reactRootContainer=o,e[Pl]=o.current,Sy(e.nodeType===8?e.parentNode:e),Bd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=xE(u);a.call(l)}}var u=Bk(e,0,!1,null,null,!1,!1,"",S4);return e._reactRootContainer=u,e[Pl]=u.current,Sy(e.nodeType===8?e.parentNode:e),Bd(function(){XT(t,u,n,r)}),u}function ex(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=xE(o);a.call(u)}}XT(t,o,e,i)}else o=kde(n,t,e,i,r);return xE(o)}QH=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=l0(t.pendingLanes);n!==0&&(ak(t,n|1),Hs(t,Dr()),!(pn&6)&&(Zp=Dr()+500,Cf()))}break;case 13:Bd(function(){var r=Rl(e,1);if(r!==null){var i=hs();Pa(r,e,1,i)}}),jk(e,1)}};uk=function(e){if(e.tag===13){var t=Rl(e,134217728);if(t!==null){var n=hs();Pa(t,e,134217728,n)}jk(e,134217728)}};XH=function(e){if(e.tag===13){var t=Hc(e),n=Rl(e,t);if(n!==null){var r=hs();Pa(n,e,t,r)}jk(e,t)}};JH=function(){return Pn};ZH=function(e,t){var n=Pn;try{return Pn=e,t()}finally{Pn=n}};RP=function(e,t,n){switch(t){case"input":if(TP(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=HT(r);if(!i)throw Error(Ne(90));PH(r),TP(r,i)}}}break;case"textarea":NH(e,n);break;case"select":t=n.value,t!=null&&bp(e,!!n.multiple,t,!1)}};BH=$k;jH=Bd;var Dde={usingClientEntryPoint:!1,Events:[k_,ep,HT,MH,FH,$k]},Ng={findFiberByHostInstance:ud,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$de={bundleType:Ng.bundleType,version:Ng.version,rendererPackageName:Ng.rendererPackageName,rendererConfig:Ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zH(e),e===null?null:e.stateNode},findFiberByHostInstance:Ng.findFiberByHostInstance||Nde,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t1.isDisabled&&t1.supportsFiber)try{jT=t1.inject($de),_u=t1}catch{}}So.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dde;So.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vk(t))throw Error(Ne(200));return Rde(e,t,null,n)};So.createRoot=function(e,t){if(!Vk(e))throw Error(Ne(299));var n=!1,r="",i=wq;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bk(e,1,!1,null,null,n,!1,r,i),e[Pl]=t.current,Sy(e.nodeType===8?e.parentNode:e),new Uk(t)};So.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=zH(t),e=e===null?null:e.stateNode,e};So.flushSync=function(e){return Bd(e)};So.hydrate=function(e,t,n){if(!ZT(t))throw Error(Ne(200));return ex(null,e,t,!0,n)};So.hydrateRoot=function(e,t,n){if(!Vk(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wq;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Eq(t,null,e,1,n??null,i,!1,s,o),e[Pl]=t.current,Sy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new JT(t)};So.render=function(e,t,n){if(!ZT(t))throw Error(Ne(200));return ex(null,e,t,!1,n)};So.unmountComponentAtNode=function(e){if(!ZT(e))throw Error(Ne(40));return e._reactRootContainer?(Bd(function(){ex(null,null,e,!1,function(){e._reactRootContainer=null,e[Pl]=null})}),!0):!1};So.unstable_batchedUpdates=$k;So.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ZT(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return ex(e,t,n,!1,r)};So.version="18.2.0-next-9e3b772b8-20220608";function Sq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sq)}catch(e){console.error(e)}}Sq(),EH.exports=So;var $_=EH.exports,T4=$_;yP.createRoot=T4.createRoot,yP.hydrateRoot=T4.hydrateRoot;const Tq=S.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Of=()=>S.useContext(Tq),Lde=({children:e})=>{const[t,n]=L.useState(void 0),r=L.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return O.jsx(Tq.Provider,{value:r,children:e})};/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(this,arguments)}var Dc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dc||(Dc={}));const x4="popstate";function Mde(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return c2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xq(i)}return Bde(t,n,null,e)}function Wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fde(){return Math.random().toString(36).substr(2,8)}function I4(e,t){return{usr:e.state,key:e.key,idx:t}}function c2(e,t,n,r){return n===void 0&&(n=null),Ny({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jm(t):t,{state:n,key:t&&t.key||r||Fde()})}function xq(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Bde(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Dc.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Ny({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Dc.Pop;let y=c(),m=y==null?null:y-l;l=y,u&&u({action:a,location:g.location,delta:m})}function d(y,m){a=Dc.Push;let _=c2(g.location,y,m);n&&n(_,y),l=c()+1;let v=I4(_,l),w=g.createHref(_);try{o.pushState(v,"",w)}catch{i.location.assign(w)}s&&u&&u({action:a,location:g.location,delta:1})}function h(y,m){a=Dc.Replace;let _=c2(g.location,y,m);n&&n(_,y),l=c();let v=I4(_,l),w=g.createHref(_);o.replaceState(v,"",w),s&&u&&u({action:a,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:xq(y);return Wr(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let g={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(x4,f),u=y,()=>{i.removeEventListener(x4,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(y){return o.go(y)}};return g}var A4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A4||(A4={}));function jde(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?jm(t):t,i=Cq(r.pathname||"/",n);if(i==null)return null;let s=Iq(e);Ude(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Qde(s[a],Zde(i));return o}function Iq(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Wr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=qc([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Wr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Iq(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:Yde(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Aq(s.path))i(s,o,u)}),t}function Aq(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Aq(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Ude(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kde(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Vde=/^:\w+$/,zde=3,Hde=2,Wde=1,qde=10,Gde=-2,C4=e=>e==="*";function Yde(e,t){let n=e.split("/"),r=n.length;return n.some(C4)&&(r+=Gde),t&&(r+=Hde),n.filter(i=>!C4(i)).reduce((i,s)=>i+(Vde.test(s)?zde:s===""?Wde:qde),r)}function Kde(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Qde(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=Xde({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:qc([i,c.pathname]),pathnameBase:rhe(qc([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=qc([i,c.pathnameBase]))}return s}function Xde(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Jde(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=ehe(a[f]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:e}}function Jde(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),zk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Zde(e){try{return decodeURI(e)}catch(t){return zk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ehe(e,t){try{return decodeURIComponent(e)}catch(n){return zk(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Cq(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function the(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jm(e):e;return{pathname:n?n.startsWith("/")?n:nhe(n,t):t,search:ihe(r),hash:she(i)}}function nhe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Oq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pq(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=jm(e):(i=Ny({},e),Wr(!i.pathname||!i.pathname.includes("?"),nC("?","pathname","search",i)),Wr(!i.pathname||!i.pathname.includes("#"),nC("#","pathname","hash",i)),Wr(!i.search||!i.search.includes("#"),nC("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=the(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const qc=e=>e.join("/").replace(/\/\/+/g,"/"),rhe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ihe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,she=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ohe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rq=["post","put","patch","delete"];new Set(Rq);const ahe=["get",...Rq];new Set(ahe);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uhe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const lhe=typeof Object.is=="function"?Object.is:uhe,{useState:che,useEffect:fhe,useLayoutEffect:dhe,useDebugValue:hhe}=Dd;function phe(e,t,n){const r=t(),[{inst:i},s]=che({inst:{value:r,getSnapshot:t}});return dhe(()=>{i.value=r,i.getSnapshot=t,rC(i)&&s({inst:i})},[e,r,t]),fhe(()=>(rC(i)&&s({inst:i}),e(()=>{rC(i)&&s({inst:i})})),[e]),hhe(r),r}function rC(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!lhe(n,r)}catch{return!0}}function mhe(e,t,n){return t()}const ghe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yhe=!ghe,_he=yhe?mhe:phe;"useSyncExternalStore"in Dd&&(e=>e.useSyncExternalStore)(Dd);const Nq=S.createContext(null),Hk=S.createContext(null),tx=S.createContext(null),nx=S.createContext(null),Pf=S.createContext({outlet:null,matches:[]}),kq=S.createContext(null);function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f2.apply(this,arguments)}function vhe(e,t){let{relative:n}=t===void 0?{}:t;Um()||Wr(!1);let{basename:r,navigator:i}=S.useContext(tx),{hash:s,pathname:o,search:a}=whe(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:qc([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Um(){return S.useContext(nx)!=null}function Vm(){return Um()||Wr(!1),S.useContext(nx).location}function oh(){Um()||Wr(!1);let{basename:e,navigator:t}=S.useContext(tx),{matches:n}=S.useContext(Pf),{pathname:r}=Vm(),i=JSON.stringify(Oq(n).map(a=>a.pathnameBase)),s=S.useRef(!1);return S.useEffect(()=>{s.current=!0}),S.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let l=Pq(a,JSON.parse(i),r,u.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:qc([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,r])}const bhe=S.createContext(null);function Ehe(e){let t=S.useContext(Pf).outlet;return t&&S.createElement(bhe.Provider,{value:e},t)}function Wk(){let{matches:e}=S.useContext(Pf),t=e[e.length-1];return t?t.params:{}}function whe(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=S.useContext(Pf),{pathname:i}=Vm(),s=JSON.stringify(Oq(r).map(o=>o.pathnameBase));return S.useMemo(()=>Pq(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Dq(e,t){Um()||Wr(!1);let{navigator:n}=S.useContext(tx),r=S.useContext(Hk),{matches:i}=S.useContext(Pf),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Vm(),l;if(t){var c;let g=typeof t=="string"?jm(t):t;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||Wr(!1),l=g}else l=u;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=jde(e,{pathname:d}),p=Ihe(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:qc([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:qc([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return t&&p?S.createElement(nx.Provider,{value:{location:f2({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Dc.Pop}},p):p}function She(){let e=Phe(),t=ohe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,s)}class The extends S.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?S.createElement(Pf.Provider,{value:this.props.routeContext},S.createElement(kq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xhe(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(Nq);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Pf.Provider,{value:t},r)}function Ihe(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Wr(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=null;n&&(o.route.ErrorBoundary?l=S.createElement(o.route.ErrorBoundary,null):o.route.errorElement?l=o.route.errorElement:l=S.createElement(She,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=s;return u?d=l:o.route.Component?d=S.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),S.createElement(xhe,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?S.createElement(The,{location:n.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var O4;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(O4||(O4={}));var IE;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(IE||(IE={}));function Ahe(e){let t=S.useContext(Hk);return t||Wr(!1),t}function Che(e){let t=S.useContext(Pf);return t||Wr(!1),t}function Ohe(e){let t=Che(),n=t.matches[t.matches.length-1];return n.route.id||Wr(!1),n.route.id}function Phe(){var e;let t=S.useContext(kq),n=Ahe(IE.UseRouteError),r=Ohe(IE.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Rhe(e){let{to:t,replace:n,state:r,relative:i}=e;Um()||Wr(!1);let s=S.useContext(Hk),o=oh();return S.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function Nhe(e){return Ehe(e.context)}function d2(e){Wr(!1)}function khe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Dc.Pop,navigator:s,static:o=!1}=e;Um()&&Wr(!1);let a=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=jm(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=S.useMemo(()=>{let g=Cq(l,a);return g==null?null:{location:{pathname:g,search:c,hash:f,state:d,key:h},navigationType:i}},[a,l,c,f,d,h,i]);return p==null?null:S.createElement(tx.Provider,{value:u},S.createElement(nx.Provider,{children:n,value:p}))}function Dhe(e){let{children:t,location:n}=e,r=S.useContext(Nq),i=r&&!t?r.router.routes:h2(t);return Dq(i,n)}var P4;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(P4||(P4={}));new Promise(()=>{});function h2(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let s=[...t,i];if(r.type===S.Fragment){n.push.apply(n,h2(r.props.children,s));return}r.type!==d2&&Wr(!1),!r.props.index||!r.props.children||Wr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=h2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function $he(e,t){let n=p2(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function Lhe(e){let{basename:t,children:n,window:r}=e,i=S.useRef();i.current==null&&(i.current=Mde({window:r,v5Compat:!0}));let s=i.current,[o,a]=S.useState({action:s.action,location:s.location});return S.useLayoutEffect(()=>s.listen(a),[s]),S.createElement(khe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var R4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(R4||(R4={}));var N4;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(N4||(N4={}));function $q(e){let t=S.useRef(p2(e)),n=S.useRef(!1),r=Vm(),i=S.useMemo(()=>$he(r.search,n.current?null:t.current),[r.search]),s=oh(),o=S.useCallback((a,u)=>{const l=p2(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function AE(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Mhe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Fhe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Bhe(e,t,n){return AE(e,n)===AE(t,n)}function jhe({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=AE(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(g=>Bhe(a.currentTarget,g,e)),c=l.findIndex(g=>a.currentTarget===g),f=Fhe(c,l,r),d=Mhe(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}function Uhe(e,t,n){var r;return n?Array.from(((r=AE(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function Lq(e){const t=S.createContext(null);return[({children:i,value:s})=>L.createElement(t.Provider,{value:s},i),()=>{const i=S.useContext(t);if(i===null)throw new Error(e);return i}]}function jd(e){return Array.isArray(e)?e:[e]}const Vhe=()=>{};function zhe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Vhe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function dl(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Hhe(){const[e,t]=S.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Mq({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function L_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==L.Fragment:!1}function Fq(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Fq(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Bq(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Fq(t))&&(r&&(r+=" "),r+=n);return r}const Whe={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function qhe(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var Ghe=Object.defineProperty,k4=Object.getOwnPropertySymbols,Yhe=Object.prototype.hasOwnProperty,Khe=Object.prototype.propertyIsEnumerable,D4=(e,t,n)=>t in e?Ghe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$4=(e,t)=>{for(var n in t||(t={}))Yhe.call(t,n)&&D4(e,n,t[n]);if(k4)for(var n of k4(t))Khe.call(t,n)&&D4(e,n,t[n]);return e};function Qhe(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:$4({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:$4({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function M_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function qk(e){const t=M_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function jq(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function Xhe(e,...t){return`linear-gradient(${e}deg, ${jq(t)})`}function Jhe(...e){return`radial-gradient(circle, ${jq(e)})`}function Uq(e){const t=qk(e),n=M_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function Gk(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function Zhe(e){return t=>`@media (min-width: ${Gk({size:t,sizes:e.breakpoints})}px)`}function epe(e){return t=>`@media (max-width: ${Gk({size:t,sizes:e.breakpoints})-1}px)`}function tpe(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function npe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function rpe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function Yk(e){return tpe(e)?npe(e):e.startsWith("rgb")?rpe(e):{r:0,g:0,b:0,a:1}}function Bh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=Yk(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function ipe(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function spe(e,t){const{r:n,g:r,b:i,a:s}=Yk(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function ope(e,t){const{r:n,g:r,b:i,a:s}=Yk(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function ape(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function upe(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function lpe(e){const t=qk(e),n=M_(e),r=Uq(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=upe(s,e);switch(i){case"light":return{border:"transparent",background:Bh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Bh(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Bh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Bh(t(s,5,a,!1),.05):Bh(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function cpe(e){return t=>{const n=M_(e)(t);return e.colors[e.primaryColor][n]}}function fpe(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const ui={fontStyles:qhe,themeColor:qk,focusStyles:Qhe,linearGradient:Xhe,radialGradient:Jhe,smallerThan:epe,largerThan:Zhe,rgba:Bh,size:Gk,cover:ipe,darken:spe,lighten:ope,radius:ape,variant:lpe,primaryShade:M_,hover:fpe,gradient:Uq,primaryColor:cpe};var dpe=Object.defineProperty,hpe=Object.defineProperties,ppe=Object.getOwnPropertyDescriptors,L4=Object.getOwnPropertySymbols,mpe=Object.prototype.hasOwnProperty,gpe=Object.prototype.propertyIsEnumerable,M4=(e,t,n)=>t in e?dpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ype=(e,t)=>{for(var n in t||(t={}))mpe.call(t,n)&&M4(e,n,t[n]);if(L4)for(var n of L4(t))gpe.call(t,n)&&M4(e,n,t[n]);return e},_pe=(e,t)=>hpe(e,ppe(t));function vpe(e){return _pe(ype({},e),{fn:{fontStyles:ui.fontStyles(e),themeColor:ui.themeColor(e),focusStyles:ui.focusStyles(e),largerThan:ui.largerThan(e),smallerThan:ui.smallerThan(e),radialGradient:ui.radialGradient,linearGradient:ui.linearGradient,gradient:ui.gradient(e),rgba:ui.rgba,size:ui.size,cover:ui.cover,lighten:ui.lighten,darken:ui.darken,primaryShade:ui.primaryShade(e),radius:ui.radius(e),variant:ui.variant(e),hover:ui.hover,primaryColor:ui.primaryColor(e)}})}const bpe=["xs","sm","md","lg","xl"],Epe={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:Whe,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},Vq=vpe(Epe);function wpe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Spe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Tpe=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Spe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=wpe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),qi="-ms-",CE="-moz-",Tn="-webkit-",zq="comm",Kk="rule",Qk="decl",xpe="@import",Hq="@keyframes",Ipe=Math.abs,rx=String.fromCharCode,Ape=Object.assign;function Cpe(e,t){return Ci(e,0)^45?(((t<<2^Ci(e,0))<<2^Ci(e,1))<<2^Ci(e,2))<<2^Ci(e,3):0}function Wq(e){return e.trim()}function Ope(e,t){return(e=t.exec(e))?e[0]:e}function Cn(e,t,n){return e.replace(t,n)}function m2(e,t){return e.indexOf(t)}function Ci(e,t){return e.charCodeAt(t)|0}function ky(e,t,n){return e.slice(t,n)}function eu(e){return e.length}function Xk(e){return e.length}function n1(e,t){return t.push(e),e}function Ppe(e,t){return e.map(t).join("")}var ix=1,em=1,qq=0,Ws=0,Vr=0,zm="";function sx(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:ix,column:em,length:o,return:""}}function kg(e,t){return Ape(sx("",null,null,"",null,null,0),e,{length:-e.length},t)}function Rpe(){return Vr}function Npe(){return Vr=Ws>0?Ci(zm,--Ws):0,em--,Vr===10&&(em=1,ix--),Vr}function fo(){return Vr=Ws<qq?Ci(zm,Ws++):0,em++,Vr===10&&(em=1,ix++),Vr}function bu(){return Ci(zm,Ws)}function yb(){return Ws}function F_(e,t){return ky(zm,e,t)}function Dy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gq(e){return ix=em=1,qq=eu(zm=e),Ws=0,[]}function Yq(e){return zm="",e}function _b(e){return Wq(F_(Ws-1,g2(e===91?e+2:e===40?e+1:e)))}function kpe(e){for(;(Vr=bu())&&Vr<33;)fo();return Dy(e)>2||Dy(Vr)>3?"":" "}function Dpe(e,t){for(;--t&&fo()&&!(Vr<48||Vr>102||Vr>57&&Vr<65||Vr>70&&Vr<97););return F_(e,yb()+(t<6&&bu()==32&&fo()==32))}function g2(e){for(;fo();)switch(Vr){case e:return Ws;case 34:case 39:e!==34&&e!==39&&g2(Vr);break;case 40:e===41&&g2(e);break;case 92:fo();break}return Ws}function $pe(e,t){for(;fo()&&e+Vr!==57;)if(e+Vr===84&&bu()===47)break;return"/*"+F_(t,Ws-1)+"*"+rx(e===47?e:fo())}function Lpe(e){for(;!Dy(bu());)fo();return F_(e,Ws)}function Mpe(e){return Yq(vb("",null,null,null,[""],e=Gq(e),0,[0],e))}function vb(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,g=1,y=1,m=1,_=0,v="",w=i,T=s,E=r,x=v;y;)switch(p=_,_=fo()){case 40:if(p!=108&&Ci(x,f-1)==58){m2(x+=Cn(_b(_),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:x+=_b(_);break;case 9:case 10:case 13:case 32:x+=kpe(p);break;case 92:x+=Dpe(yb()-1,7);continue;case 47:switch(bu()){case 42:case 47:n1(Fpe($pe(fo(),yb()),t,n),u);break;default:x+="/"}break;case 123*g:a[l++]=eu(x)*m;case 125*g:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:h>0&&eu(x)-f&&n1(h>32?B4(x+";",r,n,f-1):B4(Cn(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(n1(E=F4(x,t,n,l,c,i,a,v,w=[],T=[],f),s),_===123)if(c===0)vb(x,t,E,E,w,s,f,a,T);else switch(d===99&&Ci(x,3)===110?100:d){case 100:case 109:case 115:vb(e,E,E,r&&n1(F4(e,E,E,0,0,i,a,v,i,w=[],f),T),i,T,f,a,r?w:T);break;default:vb(x,E,E,E,[""],T,0,a,T)}}l=c=h=0,g=m=1,v=x="",f=o;break;case 58:f=1+eu(x),h=p;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&Npe()==125)continue}switch(x+=rx(_),_*g){case 38:m=c>0?1:(x+="\f",-1);break;case 44:a[l++]=(eu(x)-1)*m,m=1;break;case 64:bu()===45&&(x+=_b(fo())),d=bu(),c=f=eu(v=x+=Lpe(yb())),_++;break;case 45:p===45&&eu(x)==2&&(g=0)}}return s}function F4(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=Xk(d),p=0,g=0,y=0;p<r;++p)for(var m=0,_=ky(e,f+1,f=Ipe(g=o[p])),v=e;m<h;++m)(v=Wq(g>0?d[m]+" "+_:Cn(_,/&\f/g,d[m])))&&(u[y++]=v);return sx(e,t,n,i===0?Kk:a,u,l,c)}function Fpe(e,t,n){return sx(e,t,n,zq,rx(Rpe()),ky(e,2,-2),0)}function B4(e,t,n,r){return sx(e,t,n,Qk,ky(e,0,r),ky(e,r+1,-1),r)}function Ip(e,t){for(var n="",r=Xk(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Bpe(e,t,n,r){switch(e.type){case xpe:case Qk:return e.return=e.return||e.value;case zq:return"";case Hq:return e.return=e.value+"{"+Ip(e.children,r)+"}";case Kk:e.value=e.props.join(",")}return eu(n=Ip(e.children,r))?e.return=e.value+"{"+n+"}":""}function jpe(e){var t=Xk(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function Upe(e){return function(t){t.root||(t=t.return)&&e(t)}}function Vpe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var zpe=function(t,n,r){for(var i=0,s=0;i=s,s=bu(),i===38&&s===12&&(n[r]=1),!Dy(s);)fo();return F_(t,Ws)},Hpe=function(t,n){var r=-1,i=44;do switch(Dy(i)){case 0:i===38&&bu()===12&&(n[r]=1),t[r]+=zpe(Ws-1,n,r);break;case 2:t[r]+=_b(i);break;case 4:if(i===44){t[++r]=bu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=rx(i)}while(i=fo());return t},Wpe=function(t,n){return Yq(Hpe(Gq(t),n))},j4=new WeakMap,qpe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!j4.get(r))&&!i){j4.set(t,!0);for(var s=[],o=Wpe(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},Gpe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Kq(e,t){switch(Cpe(e,t)){case 5103:return Tn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Tn+e+CE+e+qi+e+e;case 6828:case 4268:return Tn+e+qi+e+e;case 6165:return Tn+e+qi+"flex-"+e+e;case 5187:return Tn+e+Cn(e,/(\w+).+(:[^]+)/,Tn+"box-$1$2"+qi+"flex-$1$2")+e;case 5443:return Tn+e+qi+"flex-item-"+Cn(e,/flex-|-self/,"")+e;case 4675:return Tn+e+qi+"flex-line-pack"+Cn(e,/align-content|flex-|-self/,"")+e;case 5548:return Tn+e+qi+Cn(e,"shrink","negative")+e;case 5292:return Tn+e+qi+Cn(e,"basis","preferred-size")+e;case 6060:return Tn+"box-"+Cn(e,"-grow","")+Tn+e+qi+Cn(e,"grow","positive")+e;case 4554:return Tn+Cn(e,/([^-])(transform)/g,"$1"+Tn+"$2")+e;case 6187:return Cn(Cn(Cn(e,/(zoom-|grab)/,Tn+"$1"),/(image-set)/,Tn+"$1"),e,"")+e;case 5495:case 3959:return Cn(e,/(image-set\([^]*)/,Tn+"$1$`$1");case 4968:return Cn(Cn(e,/(.+:)(flex-)?(.*)/,Tn+"box-pack:$3"+qi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tn+e+e;case 4095:case 3583:case 4068:case 2532:return Cn(e,/(.+)-inline(.+)/,Tn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(eu(e)-1-t>6)switch(Ci(e,t+1)){case 109:if(Ci(e,t+4)!==45)break;case 102:return Cn(e,/(.+:)(.+)-([^]+)/,"$1"+Tn+"$2-$3$1"+CE+(Ci(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~m2(e,"stretch")?Kq(Cn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ci(e,t+1)!==115)break;case 6444:switch(Ci(e,eu(e)-3-(~m2(e,"!important")&&10))){case 107:return Cn(e,":",":"+Tn)+e;case 101:return Cn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Tn+(Ci(e,14)===45?"inline-":"")+"box$3$1"+Tn+"$2$3$1"+qi+"$2box$3")+e}break;case 5936:switch(Ci(e,t+11)){case 114:return Tn+e+qi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Tn+e+qi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Tn+e+qi+Cn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Tn+e+qi+e+e}return e}var Ype=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Qk:t.return=Kq(t.value,t.length);break;case Hq:return Ip([kg(t,{value:Cn(t.value,"@","@"+Tn)})],i);case Kk:if(t.length)return Ppe(t.props,function(s){switch(Ope(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ip([kg(t,{props:[Cn(s,/:(read-\w+)/,":"+CE+"$1")]})],i);case"::placeholder":return Ip([kg(t,{props:[Cn(s,/:(plac\w+)/,":"+Tn+"input-$1")]}),kg(t,{props:[Cn(s,/:(plac\w+)/,":"+CE+"$1")]}),kg(t,{props:[Cn(s,/:(plac\w+)/,qi+"input-$1")]})],i)}return""})}},Kpe=[Ype],Qpe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||Kpe,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)s[y[m]]=!0;a.push(g)});var u,l=[qpe,Gpe];{var c,f=[Bpe,Upe(function(g){c.insert(g)})],d=jpe(l.concat(i,f)),h=function(y){return Ip(Mpe(y),d)};u=function(y,m,_,v){c=_,h(y?y+"{"+m.styles+"}":m.styles),v&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new Tpe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};const Qq=Qpe;function cr(){return cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cr.apply(this,arguments)}var Xq={exports:{}},Nn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=typeof Symbol=="function"&&Symbol.for,Jk=gi?Symbol.for("react.element"):60103,Zk=gi?Symbol.for("react.portal"):60106,ox=gi?Symbol.for("react.fragment"):60107,ax=gi?Symbol.for("react.strict_mode"):60108,ux=gi?Symbol.for("react.profiler"):60114,lx=gi?Symbol.for("react.provider"):60109,cx=gi?Symbol.for("react.context"):60110,eD=gi?Symbol.for("react.async_mode"):60111,fx=gi?Symbol.for("react.concurrent_mode"):60111,dx=gi?Symbol.for("react.forward_ref"):60112,hx=gi?Symbol.for("react.suspense"):60113,Xpe=gi?Symbol.for("react.suspense_list"):60120,px=gi?Symbol.for("react.memo"):60115,mx=gi?Symbol.for("react.lazy"):60116,Jpe=gi?Symbol.for("react.block"):60121,Zpe=gi?Symbol.for("react.fundamental"):60117,eme=gi?Symbol.for("react.responder"):60118,tme=gi?Symbol.for("react.scope"):60119;function xo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jk:switch(e=e.type,e){case eD:case fx:case ox:case ux:case ax:case hx:return e;default:switch(e=e&&e.$$typeof,e){case cx:case dx:case mx:case px:case lx:return e;default:return t}}case Zk:return t}}}function Jq(e){return xo(e)===fx}Nn.AsyncMode=eD;Nn.ConcurrentMode=fx;Nn.ContextConsumer=cx;Nn.ContextProvider=lx;Nn.Element=Jk;Nn.ForwardRef=dx;Nn.Fragment=ox;Nn.Lazy=mx;Nn.Memo=px;Nn.Portal=Zk;Nn.Profiler=ux;Nn.StrictMode=ax;Nn.Suspense=hx;Nn.isAsyncMode=function(e){return Jq(e)||xo(e)===eD};Nn.isConcurrentMode=Jq;Nn.isContextConsumer=function(e){return xo(e)===cx};Nn.isContextProvider=function(e){return xo(e)===lx};Nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jk};Nn.isForwardRef=function(e){return xo(e)===dx};Nn.isFragment=function(e){return xo(e)===ox};Nn.isLazy=function(e){return xo(e)===mx};Nn.isMemo=function(e){return xo(e)===px};Nn.isPortal=function(e){return xo(e)===Zk};Nn.isProfiler=function(e){return xo(e)===ux};Nn.isStrictMode=function(e){return xo(e)===ax};Nn.isSuspense=function(e){return xo(e)===hx};Nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ox||e===fx||e===ux||e===ax||e===hx||e===Xpe||typeof e=="object"&&e!==null&&(e.$$typeof===mx||e.$$typeof===px||e.$$typeof===lx||e.$$typeof===cx||e.$$typeof===dx||e.$$typeof===Zpe||e.$$typeof===eme||e.$$typeof===tme||e.$$typeof===Jpe)};Nn.typeOf=xo;Xq.exports=Nn;var nme=Xq.exports,Zq=nme,rme={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ime={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eG={};eG[Zq.ForwardRef]=rme;eG[Zq.Memo]=ime;var sme=!0;function ome(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var ame=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||sme===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},tG=function(t,n,r){ame(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function ume(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var lme={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cme=/[A-Z]|^ms/g,fme=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nG=function(t){return t.charCodeAt(1)===45},U4=function(t){return t!=null&&typeof t!="boolean"},iC=Vpe(function(e){return nG(e)?e:e.replace(cme,"-$&").toLowerCase()}),V4=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(fme,function(r,i,s){return tu={name:i,styles:s,next:tu},i})}return lme[t]!==1&&!nG(t)&&typeof n=="number"&&n!==0?n+"px":n};function $y(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return tu={name:n.name,styles:n.styles,next:tu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)tu={name:r.name,styles:r.styles,next:tu},r=r.next;var i=n.styles+";";return i}return dme(e,t,n)}case"function":{if(e!==void 0){var s=tu,o=n(e);return tu=s,$y(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function dme(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$y(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":U4(o)&&(r+=iC(s)+":"+V4(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)U4(o[a])&&(r+=iC(s)+":"+V4(s,o[a])+";");else{var u=$y(e,t,o);switch(s){case"animation":case"animationName":{r+=iC(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var z4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,tu,tD=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";tu=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=$y(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=$y(r,n,t[a]),i&&(s+=o[a]);z4.lastIndex=0;for(var u="",l;(l=z4.exec(s))!==null;)u+="-"+l[1];var c=ume(s)+u;return{name:c,styles:s,next:tu}},hme=Dd.useInsertionEffect?Dd.useInsertionEffect:!1,H4=hme||S.useLayoutEffect,rG=S.createContext(typeof HTMLElement<"u"?Qq({key:"css"}):null);rG.Provider;var pme=function(t){return S.forwardRef(function(n,r){var i=S.useContext(rG);return t(n,i,r)})},mme=S.createContext({}),gme=pme(function(e,t){var n=e.styles,r=tD([n],void 0,S.useContext(mme)),i=S.useRef();return H4(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),H4(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&tG(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function iG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tD(t)}var yme=function(){var t=iG.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function sG(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var _me=Object.defineProperty,W4=Object.getOwnPropertySymbols,vme=Object.prototype.hasOwnProperty,bme=Object.prototype.propertyIsEnumerable,q4=(e,t,n)=>t in e?_me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sC=(e,t)=>{for(var n in t||(t={}))vme.call(t,n)&&q4(e,n,t[n]);if(W4)for(var n of W4(t))bme.call(t,n)&&q4(e,n,t[n]);return e};const oG=S.createContext({theme:Vq});function ss(){var e;return((e=S.useContext(oG))==null?void 0:e.theme)||Vq}function Eme(e){const t=ss(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function aG(){var e;return(e=S.useContext(oG))==null?void 0:e.emotionCache}function ht(e,t,n){var r;const s=(r=ss().components[e])==null?void 0:r.defaultProps;return sC(sC(sC({},t),s),sG(n))}const uG=S.createContext({classNames:{},styles:{},unstyled:!1});function lG({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return L.createElement(uG.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i}},e)}function B_(){return S.useContext(uG)}const wme={app:100,modal:200,popover:300,overlay:400,max:9999};function Io(e){return wme[e]}function Sme(e,t){const n=S.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const Tme=Qq({key:"mantine",prepend:!0});function xme(){return aG()||Tme}var Ime=Object.defineProperty,G4=Object.getOwnPropertySymbols,Ame=Object.prototype.hasOwnProperty,Cme=Object.prototype.propertyIsEnumerable,Y4=(e,t,n)=>t in e?Ime(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ome=(e,t)=>{for(var n in t||(t={}))Ame.call(t,n)&&Y4(e,n,t[n]);if(G4)for(var n of G4(t))Cme.call(t,n)&&Y4(e,n,t[n]);return e};const oC="ref";function Pme(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(oC in n))return{args:e,ref:t};t=n[oC];const r=Ome({},n);return delete r[oC],{args:[r],ref:t}}const{cssFactory:Rme}=(()=>{function e(n,r,i){const s=[],o=ome(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=Pme(o),l=tD(u,r.registered);return tG(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,Bq(o))}}return{cssFactory:t}})();function cG(){const e=xme();return Sme(()=>Rme({cache:e}),[e])}function Nme({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var kme=Object.defineProperty,K4=Object.getOwnPropertySymbols,Dme=Object.prototype.hasOwnProperty,$me=Object.prototype.propertyIsEnumerable,Q4=(e,t,n)=>t in e?kme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aC=(e,t)=>{for(var n in t||(t={}))Dme.call(t,n)&&Q4(e,n,t[n]);if(K4)for(var n of K4(t))$me.call(t,n)&&Q4(e,n,t[n]);return e};function Lme(e){return`__mantine-ref-${e||""}`}function X4(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=aC(aC({},i[o]),s[o]):i[o]=aC({},s[o])}),i),{}):r(e)}function lt(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=ss(),o=Eme(i==null?void 0:i.name),a=aG(),{css:u,cx:l}=cG(),c=t(s,r,Lme),f=X4(i==null?void 0:i.styles,s,r),d=X4(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const g=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,g]}));return{classes:Nme({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function fG({styles:e}){const t=ss();return L.createElement(gme,{styles:iG(typeof e=="function"?e(t):e)})}var Mme=Object.defineProperty,Fme=Object.defineProperties,Bme=Object.getOwnPropertyDescriptors,J4=Object.getOwnPropertySymbols,jme=Object.prototype.hasOwnProperty,Ume=Object.prototype.propertyIsEnumerable,Z4=(e,t,n)=>t in e?Mme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dg=(e,t)=>{for(var n in t||(t={}))jme.call(t,n)&&Z4(e,n,t[n]);if(J4)for(var n of J4(t))Ume.call(t,n)&&Z4(e,n,t[n]);return e},$g=(e,t)=>Fme(e,Bme(t));const Lg={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},r1={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:$g(Dg({},Lg),{common:{transformOrigin:"center center"}}),"pop-bottom-left":$g(Dg({},Lg),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":$g(Dg({},Lg),{common:{transformOrigin:"bottom right"}}),"pop-top-left":$g(Dg({},Lg),{common:{transformOrigin:"top left"}}),"pop-top-right":$g(Dg({},Lg),{common:{transformOrigin:"top right"}})},e5=["mousedown","touchstart"];function Vme(e,t,n){const r=S.useRef();return S.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o);n.every(l=>!!l&&!l.contains(o))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||e5).forEach(s=>document.addEventListener(s,i)),()=>{(t||e5).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function zme(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Hme(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Wme(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=S.useState(n?!1:Hme(e,t)),s=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),zme(s.current,o=>i(o.matches))},[e]),r}function Gc(e,t,n){return Math.min(Math.max(e,t),n)}const nD=typeof document<"u"?S.useLayoutEffect:S.useEffect;function ho(e,t){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function dG({opened:e,shouldReturnFocus:t=!0}){const n=S.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return ho(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const qme=/input|select|textarea|button|object/,hG="a, input, select, textarea, button, object, [tabindex]";function Gme(e){return e.style.display==="none"}function Yme(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(Gme(n))return!1;n=n.parentNode}return!0}function pG(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function y2(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(pG(e));return(qme.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Yme(e)}function mG(e){const t=pG(e);return(Number.isNaN(t)||t>=0)&&y2(e)}function Kme(e){return Array.from(e.querySelectorAll(hG)).filter(mG)}function Qme(e,t){const n=Kme(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function Xme(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function gG(e=!0){const t=S.useRef(),n=S.useRef(null),r=S.useCallback(i=>{if(e&&i!==null&&(n.current=Xme(i),t.current!==i))if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(hG));o=a.find(mG)||a.find(y2)||null,!o&&y2(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&s()}),t.current=i}else t.current=null},[e]);return S.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&Qme(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const Jme=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,Zme=L.useId||(()=>{});function ege(){const[e,t]=S.useState("");return nD(()=>{t(Jme())},[]),e}function tge(){const e=Zme();return e?`mantine-${e.replace(/:/g,"")}`:""}function Uu(e){return typeof e=="string"?e:tge()||ege()}function _2(e,t,n){S.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function yG(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function nge(...e){return t=>{e.forEach(n=>yG(n,t))}}function na(...e){return S.useCallback(nge(...e),e)}function _G(e,t,n="ltr"){const r=S.useRef(),i=S.useRef(!1),s=S.useRef(!1),o=S.useRef(0),[a,u]=S.useState(!1);return S.useEffect(()=>{i.current=!0},[]),S.useEffect(()=>{const l=({x:_,y:v})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const w=r.current.getBoundingClientRect();if(w.width&&w.height){const T=Gc((_-w.left)/w.width,0,1);e({x:n==="ltr"?T:1-T,y:Gc((v-w.top)/w.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=_=>{d(),g(_)},g=_=>l({x:_.clientX,y:_.clientY}),y=_=>{_.cancelable&&_.preventDefault(),d(),m(_)},m=_=>{_.cancelable&&_.preventDefault(),l({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function $a({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=S.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function rD(e,t){return Wme("(prefers-reduced-motion: reduce)",e,t)}const rge=e=>e<.5?2*e*e:-1+(4-2*e)*e,ige=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},sge=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},oge=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function vG({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=rge,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=S.useRef(0),u=S.useRef(0),l=S.useRef(!1),c=S.useRef(null),f=S.useRef(null),d=rD(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=S.useCallback(({alignment:y="start"}={})=>{var m;l.current=!1,a.current&&h();const _=(m=sge({parent:c.current,axis:t}))!=null?m:0,v=ige({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:_);function w(){u.current===0&&(u.current=performance.now());const E=performance.now()-u.current,x=d||e===0?1:E/e,A=_+v*r(x);oge({parent:c.current,axis:t,distance:A}),!l.current&&x<1?a.current=requestAnimationFrame(w):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}w()},[t,e,r,o,i,n,d]),g=()=>{s&&(l.current=!0)};return _2("wheel",g,{passive:!0}),_2("touchmove",g,{passive:!0}),S.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const age={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function B0(){const e=S.useRef(0),t=S.useRef(null),[n,r]=S.useState(age),i=S.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return S.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function uge(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const lge=({disableBodyPadding:e})=>{const t=e?null:uge();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function cge(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fge(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function dge(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function hge(e,t={disableBodyPadding:!1}){const[n,r]=S.useState(e||!1),i=S.useRef(0),{disableBodyPadding:s}=t,o=S.useRef(null),a=()=>{i.current=window.scrollY;const l=lge({disableBodyPadding:s}),c=dge();cge(c,l),fge(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return S.useEffect(()=>(n?a():u(),u),[n]),S.useEffect(()=>{e!==void 0&&r(e)},[e]),S.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var pge=Object.defineProperty,mge=Object.defineProperties,gge=Object.getOwnPropertyDescriptors,t5=Object.getOwnPropertySymbols,yge=Object.prototype.hasOwnProperty,_ge=Object.prototype.propertyIsEnumerable,n5=(e,t,n)=>t in e?pge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vge=(e,t)=>{for(var n in t||(t={}))yge.call(t,n)&&n5(e,n,t[n]);if(t5)for(var n of t5(t))_ge.call(t,n)&&n5(e,n,t[n]);return e},bge=(e,t)=>mge(e,gge(t));function Ege(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return bge(vge({},n),{key:i})}function wge(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function Sge(e){return t=>wge(Ege(e),t)}function Tge(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i])=>{Sge(r)(n)&&(t.preventDefault(),i(n))})}}function xge(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function Ige(){return typeof window<"u"?xge():"undetermined"}function Age(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function Cge(e){const[t,n]=S.useState(e);return[t,Age(n)]}function Oge(e,t){const[n,r]=S.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},s=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:s,toggle:()=>{n?s():i()}}]}function Pge(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var r5=Object.getOwnPropertySymbols,Rge=Object.prototype.hasOwnProperty,Nge=Object.prototype.propertyIsEnumerable,kge=(e,t)=>{var n={};for(var r in e)Rge.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&r5)for(var r of r5(e))t.indexOf(r)<0&&Nge.call(e,r)&&(n[r]=e[r]);return n};function ah(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:_,ff:v,fz:w,fw:T,lts:E,ta:x,lh:A,fs:M,tt:D,td:$,w:W,miw:q,maw:H,h:de,mih:ae,mah:pe,bgsz:ee,bgp:ie,bgr:K,bga:I,pos:C,top:V,left:R,bottom:P,right:G,inset:se,display:ue}=t,he=kge(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:sG({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:_,ff:v,fz:w,fw:T,lts:E,ta:x,lh:A,fs:M,tt:D,td:$,w:W,miw:q,maw:H,h:de,mih:ae,mah:pe,bgsz:ee,bgp:ie,bgr:K,bga:I,pos:C,top:V,left:R,bottom:P,right:G,inset:se,display:ue}),rest:he}}function Dge(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function $ge({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return Dge(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function Lge(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function Mge(e){return e}function Fge(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const Bge=["-xs","-sm","-md","-lg","-xl"];function jge(e,t){return Bge.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const Uge={color:Lge,default:Mge,fontSize:Fge,spacing:jge},Vge={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var zge=Object.defineProperty,i5=Object.getOwnPropertySymbols,Hge=Object.prototype.hasOwnProperty,Wge=Object.prototype.propertyIsEnumerable,s5=(e,t,n)=>t in e?zge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o5=(e,t)=>{for(var n in t||(t={}))Hge.call(t,n)&&s5(e,n,t[n]);if(i5)for(var n of i5(t))Wge.call(t,n)&&s5(e,n,t[n]);return e};function v2(e,t,n=Vge){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push($ge({value:e[s],getValue:Uge[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=o5(o5({},i[o]),s[o]):i[o]=s[o]}),i),{})}function a5(e,t){return typeof e=="function"?e(t):e}function qge(e,t,n){const r=ss(),{css:i,cx:s}=cG();return Array.isArray(e)?s(n,i(v2(t,r)),e.map(o=>i(a5(o,r)))):s(n,i(a5(e,r)),i(v2(t,r)))}var Gge=Object.defineProperty,OE=Object.getOwnPropertySymbols,bG=Object.prototype.hasOwnProperty,EG=Object.prototype.propertyIsEnumerable,u5=(e,t,n)=>t in e?Gge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yge=(e,t)=>{for(var n in t||(t={}))bG.call(t,n)&&u5(e,n,t[n]);if(OE)for(var n of OE(t))EG.call(t,n)&&u5(e,n,t[n]);return e},Kge=(e,t)=>{var n={};for(var r in e)bG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OE)for(var r of OE(e))t.indexOf(r)<0&&EG.call(e,r)&&(n[r]=e[r]);return n};const wG=S.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=Kge(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=ah(a),c=i||"div";return L.createElement(c,Yge({ref:t,className:qge(o,u,r),style:s},l))});wG.displayName="@mantine/core/Box";const ut=wG;var Qge=Object.defineProperty,Xge=Object.defineProperties,Jge=Object.getOwnPropertyDescriptors,l5=Object.getOwnPropertySymbols,Zge=Object.prototype.hasOwnProperty,e0e=Object.prototype.propertyIsEnumerable,c5=(e,t,n)=>t in e?Qge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f5=(e,t)=>{for(var n in t||(t={}))Zge.call(t,n)&&c5(e,n,t[n]);if(l5)for(var n of l5(t))e0e.call(t,n)&&c5(e,n,t[n]);return e},t0e=(e,t)=>Xge(e,Jge(t)),n0e=lt(e=>({root:t0e(f5(f5({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const r0e=n0e;var i0e=Object.defineProperty,PE=Object.getOwnPropertySymbols,SG=Object.prototype.hasOwnProperty,TG=Object.prototype.propertyIsEnumerable,d5=(e,t,n)=>t in e?i0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s0e=(e,t)=>{for(var n in t||(t={}))SG.call(t,n)&&d5(e,n,t[n]);if(PE)for(var n of PE(t))TG.call(t,n)&&d5(e,n,t[n]);return e},o0e=(e,t)=>{var n={};for(var r in e)SG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PE)for(var r of PE(e))t.indexOf(r)<0&&TG.call(e,r)&&(n[r]=e[r]);return n};const xG=S.forwardRef((e,t)=>{const n=ht("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=o0e(n,["className","component","unstyled"]),{classes:a,cx:u}=r0e(null,{name:"UnstyledButton",unstyled:s});return L.createElement(ut,s0e({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});xG.displayName="@mantine/core/UnstyledButton";const iD=xG;var a0e=Object.defineProperty,u0e=Object.defineProperties,l0e=Object.getOwnPropertyDescriptors,h5=Object.getOwnPropertySymbols,c0e=Object.prototype.hasOwnProperty,f0e=Object.prototype.propertyIsEnumerable,p5=(e,t,n)=>t in e?a0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IG=(e,t)=>{for(var n in t||(t={}))c0e.call(t,n)&&p5(e,n,t[n]);if(h5)for(var n of h5(t))f0e.call(t,n)&&p5(e,n,t[n]);return e},d0e=(e,t)=>u0e(e,l0e(t));const f0={xs:18,sm:22,md:28,lg:34,xl:44};function h0e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:IG({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var p0e=lt((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:d0e(IG({},h0e({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:f0}),minHeight:e.fn.size({size:n,sizes:f0}),width:e.fn.size({size:n,sizes:f0}),minWidth:e.fn.size({size:n,sizes:f0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const m0e=p0e;var g0e=Object.defineProperty,RE=Object.getOwnPropertySymbols,AG=Object.prototype.hasOwnProperty,CG=Object.prototype.propertyIsEnumerable,m5=(e,t,n)=>t in e?g0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y0e=(e,t)=>{for(var n in t||(t={}))AG.call(t,n)&&m5(e,n,t[n]);if(RE)for(var n of RE(t))CG.call(t,n)&&m5(e,n,t[n]);return e},_0e=(e,t)=>{var n={};for(var r in e)AG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RE)for(var r of RE(e))t.indexOf(r)<0&&CG.call(e,r)&&(n[r]=e[r]);return n};function v0e(e){var t=e,{size:n,color:r}=t,i=_0e(t,["size","color"]);return L.createElement("svg",y0e({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),L.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},L.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),L.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),L.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},L.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),L.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),L.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},L.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),L.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),L.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},L.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),L.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),L.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},L.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),L.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var b0e=Object.defineProperty,NE=Object.getOwnPropertySymbols,OG=Object.prototype.hasOwnProperty,PG=Object.prototype.propertyIsEnumerable,g5=(e,t,n)=>t in e?b0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E0e=(e,t)=>{for(var n in t||(t={}))OG.call(t,n)&&g5(e,n,t[n]);if(NE)for(var n of NE(t))PG.call(t,n)&&g5(e,n,t[n]);return e},w0e=(e,t)=>{var n={};for(var r in e)OG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NE)for(var r of NE(e))t.indexOf(r)<0&&PG.call(e,r)&&(n[r]=e[r]);return n};function S0e(e){var t=e,{size:n,color:r}=t,i=w0e(t,["size","color"]);return L.createElement("svg",E0e({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),L.createElement("g",{fill:"none",fillRule:"evenodd"},L.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},L.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),L.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},L.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var T0e=Object.defineProperty,kE=Object.getOwnPropertySymbols,RG=Object.prototype.hasOwnProperty,NG=Object.prototype.propertyIsEnumerable,y5=(e,t,n)=>t in e?T0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x0e=(e,t)=>{for(var n in t||(t={}))RG.call(t,n)&&y5(e,n,t[n]);if(kE)for(var n of kE(t))NG.call(t,n)&&y5(e,n,t[n]);return e},I0e=(e,t)=>{var n={};for(var r in e)RG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kE)for(var r of kE(e))t.indexOf(r)<0&&NG.call(e,r)&&(n[r]=e[r]);return n};function A0e(e){var t=e,{size:n,color:r}=t,i=I0e(t,["size","color"]);return L.createElement("svg",x0e({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),L.createElement("circle",{cx:"15",cy:"15",r:"15"},L.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),L.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),L.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},L.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),L.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),L.createElement("circle",{cx:"105",cy:"15",r:"15"},L.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),L.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var C0e=Object.defineProperty,DE=Object.getOwnPropertySymbols,kG=Object.prototype.hasOwnProperty,DG=Object.prototype.propertyIsEnumerable,_5=(e,t,n)=>t in e?C0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O0e=(e,t)=>{for(var n in t||(t={}))kG.call(t,n)&&_5(e,n,t[n]);if(DE)for(var n of DE(t))DG.call(t,n)&&_5(e,n,t[n]);return e},P0e=(e,t)=>{var n={};for(var r in e)kG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DE)for(var r of DE(e))t.indexOf(r)<0&&DG.call(e,r)&&(n[r]=e[r]);return n};const uC={bars:v0e,oval:S0e,dots:A0e},R0e={xs:18,sm:22,md:36,lg:44,xl:58},N0e={size:"md"};function uh(e){const t=ht("Loader",N0e,e),{size:n,color:r,variant:i}=t,s=P0e(t,["size","color","variant"]),o=ss(),a=i in uC?i:o.loader;return L.createElement(ut,O0e({role:"presentation",component:uC[a]||uC.bars,size:o.fn.size({size:n,sizes:R0e}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}uh.displayName="@mantine/core/Loader";var k0e=Object.defineProperty,$E=Object.getOwnPropertySymbols,$G=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,v5=(e,t,n)=>t in e?k0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b5=(e,t)=>{for(var n in t||(t={}))$G.call(t,n)&&v5(e,n,t[n]);if($E)for(var n of $E(t))LG.call(t,n)&&v5(e,n,t[n]);return e},D0e=(e,t)=>{var n={};for(var r in e)$G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$E)for(var r of $E(e))t.indexOf(r)<0&&LG.call(e,r)&&(n[r]=e[r]);return n};const $0e={color:"gray",size:"md",variant:"subtle",loading:!1},MG=S.forwardRef((e,t)=>{const n=ht("ActionIcon",$0e,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=D0e(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:y,theme:m}=m0e({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),_=m.fn.variant({color:i,variant:u}),v=L.createElement(uh,b5({color:_.color,size:m.fn.size({size:a,sizes:f0})-12},f));return L.createElement(iD,b5({className:y(g.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?v:s)});MG.displayName="@mantine/core/ActionIcon";const sD=MG;function FG(e){const{children:t,target:n,className:r}=ht("Portal",{},e),i=ss(),[s,o]=S.useState(!1),a=S.useRef();return nD(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?$_.createPortal(L.createElement("div",{className:r,dir:i.dir},t),a.current):null}FG.displayName="@mantine/core/Portal";var L0e=Object.defineProperty,LE=Object.getOwnPropertySymbols,BG=Object.prototype.hasOwnProperty,jG=Object.prototype.propertyIsEnumerable,E5=(e,t,n)=>t in e?L0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M0e=(e,t)=>{for(var n in t||(t={}))BG.call(t,n)&&E5(e,n,t[n]);if(LE)for(var n of LE(t))jG.call(t,n)&&E5(e,n,t[n]);return e},F0e=(e,t)=>{var n={};for(var r in e)BG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&jG.call(e,r)&&(n[r]=e[r]);return n};function j_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=F0e(t,["withinPortal","children"]);return n?L.createElement(FG,M0e({},i),r):L.createElement(L.Fragment,null,r)}j_.displayName="@mantine/core/OptionalPortal";var B0e=Object.defineProperty,j0e=Object.defineProperties,U0e=Object.getOwnPropertyDescriptors,w5=Object.getOwnPropertySymbols,V0e=Object.prototype.hasOwnProperty,z0e=Object.prototype.propertyIsEnumerable,S5=(e,t,n)=>t in e?B0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lC=(e,t)=>{for(var n in t||(t={}))V0e.call(t,n)&&S5(e,n,t[n]);if(w5)for(var n of w5(t))z0e.call(t,n)&&S5(e,n,t[n]);return e},T5=(e,t)=>j0e(e,U0e(t));function H0e({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var W0e=lt((e,{color:t,radius:n,variant:r})=>({root:lC(T5(lC({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),H0e({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:T5(lC({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}}));const q0e=W0e;var G0e=Object.defineProperty,x5=Object.getOwnPropertySymbols,Y0e=Object.prototype.hasOwnProperty,K0e=Object.prototype.propertyIsEnumerable,I5=(e,t,n)=>t in e?G0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q0e=(e,t)=>{for(var n in t||(t={}))Y0e.call(t,n)&&I5(e,n,t[n]);if(x5)for(var n of x5(t))K0e.call(t,n)&&I5(e,n,t[n]);return e};function UG(e){return L.createElement("svg",Q0e({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}UG.displayName="@mantine/core/CloseIcon";var X0e=Object.defineProperty,ME=Object.getOwnPropertySymbols,VG=Object.prototype.hasOwnProperty,zG=Object.prototype.propertyIsEnumerable,A5=(e,t,n)=>t in e?X0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J0e=(e,t)=>{for(var n in t||(t={}))VG.call(t,n)&&A5(e,n,t[n]);if(ME)for(var n of ME(t))zG.call(t,n)&&A5(e,n,t[n]);return e},Z0e=(e,t)=>{var n={};for(var r in e)VG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&zG.call(e,r)&&(n[r]=e[r]);return n};const eye={xs:12,sm:14,md:16,lg:20,xl:24},tye={size:"md"},HG=S.forwardRef((e,t)=>{const n=ht("CloseButton",tye,e),{iconSize:r,size:i="md"}=n,s=Z0e(n,["iconSize","size"]),o=ss(),a=r||o.fn.size({size:i,sizes:eye});return L.createElement(sD,J0e({size:i,ref:t},s),L.createElement(UG,{width:a,height:a}))});HG.displayName="@mantine/core/CloseButton";const gx=HG;var nye=Object.defineProperty,FE=Object.getOwnPropertySymbols,WG=Object.prototype.hasOwnProperty,qG=Object.prototype.propertyIsEnumerable,C5=(e,t,n)=>t in e?nye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rye=(e,t)=>{for(var n in t||(t={}))WG.call(t,n)&&C5(e,n,t[n]);if(FE)for(var n of FE(t))qG.call(t,n)&&C5(e,n,t[n]);return e},iye=(e,t)=>{var n={};for(var r in e)WG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&qG.call(e,r)&&(n[r]=e[r]);return n};const sye={variant:"light"},GG=S.forwardRef((e,t)=>{const n=ht("Alert",sye,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:g,unstyled:y}=n,m=iye(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:_,cx:v}=q0e({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),w=Uu(r),T=s&&`${w}-title`,E=`${w}-body`;return L.createElement(ut,rye({id:w,role:"alert","aria-labelledby":T,"aria-describedby":E,className:v(_.root,_[o],i),ref:t},m),L.createElement("div",{className:_.wrapper},c&&L.createElement("div",{className:_.icon},c),L.createElement("div",{className:_.body},s&&L.createElement("div",{className:_.title,"data-with-close-button":p||void 0},L.createElement("span",{id:T,className:_.label},s)),p&&L.createElement(gx,{className:_.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":g}),L.createElement("div",{id:E,className:_.message},a))))});GG.displayName="@mantine/core/Alert";var oye=Object.defineProperty,aye=Object.defineProperties,uye=Object.getOwnPropertyDescriptors,O5=Object.getOwnPropertySymbols,lye=Object.prototype.hasOwnProperty,cye=Object.prototype.propertyIsEnumerable,P5=(e,t,n)=>t in e?oye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i1=(e,t)=>{for(var n in t||(t={}))lye.call(t,n)&&P5(e,n,t[n]);if(O5)for(var n of O5(t))cye.call(t,n)&&P5(e,n,t[n]);return e},fye=(e,t)=>aye(e,uye(t));function dye({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function hye({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function pye(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var mye=lt((e,{color:t,variant:n,size:r,lineClamp:i,inline:s,inherit:o,underline:a,gradient:u,weight:l,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:u});return{root:i1(fye(i1(i1(i1({},e.fn.fontStyles()),e.fn.focusStyles()),pye(i)),{color:hye({color:t,theme:e,variant:n}),fontFamily:o?"inherit":e.fontFamily,fontSize:o||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:o?"inherit":s?1:e.lineHeight,textDecoration:dye({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const gye=mye;var yye=Object.defineProperty,BE=Object.getOwnPropertySymbols,YG=Object.prototype.hasOwnProperty,KG=Object.prototype.propertyIsEnumerable,R5=(e,t,n)=>t in e?yye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_ye=(e,t)=>{for(var n in t||(t={}))YG.call(t,n)&&R5(e,n,t[n]);if(BE)for(var n of BE(t))KG.call(t,n)&&R5(e,n,t[n]);return e},vye=(e,t)=>{var n={};for(var r in e)YG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&KG.call(e,r)&&(n[r]=e[r]);return n};const bye={variant:"text"},QG=S.forwardRef((e,t)=>{const n=ht("Text",bye,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:g,italic:y,classNames:m,styles:_,unstyled:v,span:w}=n,T=vye(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:E,cx:x}=gye({variant:l,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:g,italic:y,weight:s,transform:o,align:u,gradient:f},{unstyled:v,name:"Text"});return L.createElement(ut,_ye({ref:t,className:x(E.root,{[E.gradient]:l==="gradient"},r),component:w?"span":"div"},T))});QG.displayName="@mantine/core/Text";const At=QG;var Eye=lt(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const wye=Eye;var Sye=Object.defineProperty,jE=Object.getOwnPropertySymbols,XG=Object.prototype.hasOwnProperty,JG=Object.prototype.propertyIsEnumerable,N5=(e,t,n)=>t in e?Sye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k5=(e,t)=>{for(var n in t||(t={}))XG.call(t,n)&&N5(e,n,t[n]);if(jE)for(var n of jE(t))JG.call(t,n)&&N5(e,n,t[n]);return e},Tye=(e,t)=>{var n={};for(var r in e)XG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&JG.call(e,r)&&(n[r]=e[r]);return n};const xye={},ZG=S.forwardRef((e,t)=>{const n=ht("Anchor",xye,e),{component:r,className:i,unstyled:s}=n,o=Tye(n,["component","className","unstyled"]),{classes:a,cx:u}=wye(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return L.createElement(At,k5(k5({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});ZG.displayName="@mantine/core/Anchor";const eY=ZG,tY=S.createContext({}),Iye=tY.Provider;function nY(){return S.useContext(tY)}function yx(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var Aye=Object.defineProperty,Cye=Object.defineProperties,Oye=Object.getOwnPropertyDescriptors,D5=Object.getOwnPropertySymbols,Pye=Object.prototype.hasOwnProperty,Rye=Object.prototype.propertyIsEnumerable,$5=(e,t,n)=>t in e?Aye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s1=(e,t)=>{for(var n in t||(t={}))Pye.call(t,n)&&$5(e,n,t[n]);if(D5)for(var n of D5(t))Rye.call(t,n)&&$5(e,n,t[n]);return e},L5=(e,t)=>Cye(e,Oye(t)),Nye=lt((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u})=>{const l=typeof n=="object"&&n!==null?yx(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:L5(s1(s1(L5(s1(s1({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),l),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const kye=Nye;var Dye=Object.defineProperty,UE=Object.getOwnPropertySymbols,rY=Object.prototype.hasOwnProperty,iY=Object.prototype.propertyIsEnumerable,M5=(e,t,n)=>t in e?Dye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F5=(e,t)=>{for(var n in t||(t={}))rY.call(t,n)&&M5(e,n,t[n]);if(UE)for(var n of UE(t))iY.call(t,n)&&M5(e,n,t[n]);return e},$ye=(e,t)=>{var n={};for(var r in e)rY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&iY.call(e,r)&&(n[r]=e[r]);return n};const oD=S.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a=Io("app"),hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:g,__staticSelector:y,unstyled:m}=n,_=$ye(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const v=nY(),{classes:w,cx:T,theme:E}=kye({width:r,height:i,fixed:v.fixed||s,position:o,hiddenBreakpoint:u,zIndex:v.zIndex||a,section:g,withBorder:c},{classNames:d,styles:h,name:y,unstyled:m}),x=yx(r,E).reduce((A,[M,D])=>(A[`@media (min-width: ${M}px)`]={[`--mantine-${g}-width`]:`${D}px`},A),{});return L.createElement(ut,F5({component:g==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:T(w.root,f)},_),p,L.createElement(fG,{styles:()=>({":root":F5({[`--mantine-${g}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},x)})}))});oD.displayName="@mantine/core/HorizontalSection";var Lye=Object.defineProperty,VE=Object.getOwnPropertySymbols,sY=Object.prototype.hasOwnProperty,oY=Object.prototype.propertyIsEnumerable,B5=(e,t,n)=>t in e?Lye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mye=(e,t)=>{for(var n in t||(t={}))sY.call(t,n)&&B5(e,n,t[n]);if(VE)for(var n of VE(t))oY.call(t,n)&&B5(e,n,t[n]);return e},Fye=(e,t)=>{var n={};for(var r in e)sY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&oY.call(e,r)&&(n[r]=e[r]);return n};const aY=S.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=Fye(n,["children","grow","sx"]);return L.createElement(ut,Mye({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...jd(s)]},o),r)});aY.displayName="@mantine/core/Section";const uY=aY;var Bye=Object.defineProperty,j5=Object.getOwnPropertySymbols,jye=Object.prototype.hasOwnProperty,Uye=Object.prototype.propertyIsEnumerable,U5=(e,t,n)=>t in e?Bye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vye=(e,t)=>{for(var n in t||(t={}))jye.call(t,n)&&U5(e,n,t[n]);if(j5)for(var n of j5(t))Uye.call(t,n)&&U5(e,n,t[n]);return e};const zye={fixed:!1,position:{top:0,left:0},zIndex:Io("app"),hiddenBreakpoint:"md",hidden:!1},j0=S.forwardRef((e,t)=>{const n=ht("Navbar",zye,e);return L.createElement(oD,Vye({section:"navbar",__staticSelector:"Navbar",ref:t},n))});j0.Section=uY;j0.displayName="@mantine/core/Navbar";var Hye=Object.defineProperty,Wye=Object.defineProperties,qye=Object.getOwnPropertyDescriptors,V5=Object.getOwnPropertySymbols,Gye=Object.prototype.hasOwnProperty,Yye=Object.prototype.propertyIsEnumerable,z5=(e,t,n)=>t in e?Hye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cC=(e,t)=>{for(var n in t||(t={}))Gye.call(t,n)&&z5(e,n,t[n]);if(V5)for(var n of V5(t))Yye.call(t,n)&&z5(e,n,t[n]);return e},H5=(e,t)=>Wye(e,qye(t)),Kye=lt((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s})=>{const o=typeof t=="object"&&t!==null?yx(t,e).reduce((a,[u,l])=>(a[`@media (min-width: ${u}px)`]={height:l,minHeight:l},a),{}):null;return{root:H5(cC(H5(cC(cC({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),o),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const Qye=Kye;var Xye=Object.defineProperty,zE=Object.getOwnPropertySymbols,lY=Object.prototype.hasOwnProperty,cY=Object.prototype.propertyIsEnumerable,W5=(e,t,n)=>t in e?Xye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q5=(e,t)=>{for(var n in t||(t={}))lY.call(t,n)&&W5(e,n,t[n]);if(zE)for(var n of zE(t))cY.call(t,n)&&W5(e,n,t[n]);return e},Jye=(e,t)=>{var n={};for(var r in e)lY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&cY.call(e,r)&&(n[r]=e[r]);return n};const fY=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f=Io("app"),section:d,unstyled:h,__staticSelector:p}=n,g=Jye(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=nY(),{classes:m,cx:_,theme:v}=Qye({height:a,fixed:y.fixed||u,position:c,zIndex:y.zIndex||f,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),w=typeof a=="object"&&a!==null?yx(a,v).reduce((T,[E,x])=>(T[`@media (min-width: ${E}px)`]={[`--mantine-${d}-height`]:`${x}px`},T),{}):null;return L.createElement(ut,q5({component:d==="header"?"header":"footer",className:_(m.root,i),ref:t},g),r,L.createElement(fG,{styles:()=>({":root":q5({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},w)})}))});fY.displayName="@mantine/core/VerticalSection";var Zye=Object.defineProperty,e_e=Object.defineProperties,t_e=Object.getOwnPropertyDescriptors,G5=Object.getOwnPropertySymbols,n_e=Object.prototype.hasOwnProperty,r_e=Object.prototype.propertyIsEnumerable,Y5=(e,t,n)=>t in e?Zye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i_e=(e,t)=>{for(var n in t||(t={}))n_e.call(t,n)&&Y5(e,n,t[n]);if(G5)for(var n of G5(t))r_e.call(t,n)&&Y5(e,n,t[n]);return e},s_e=(e,t)=>e_e(e,t_e(t));const o_e={fixed:!1,position:{top:0,left:0,right:0},zIndex:Io("app")},dY=S.forwardRef((e,t)=>{const n=ht("Header",o_e,e);return L.createElement(fY,s_e(i_e({section:"header",__staticSelector:"Header"},n),{ref:t}))});dY.displayName="@mantine/core/Header";var a_e=Object.defineProperty,K5=Object.getOwnPropertySymbols,u_e=Object.prototype.hasOwnProperty,l_e=Object.prototype.propertyIsEnumerable,Q5=(e,t,n)=>t in e?a_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c_e=(e,t)=>{for(var n in t||(t={}))u_e.call(t,n)&&Q5(e,n,t[n]);if(K5)for(var n of K5(t))l_e.call(t,n)&&Q5(e,n,t[n]);return e};const f_e={fixed:!1,position:{top:0,right:0},zIndex:Io("app"),hiddenBreakpoint:"md",hidden:!1},ap=S.forwardRef((e,t)=>{const n=ht("Aside",f_e,e);return L.createElement(oD,c_e({section:"aside",__staticSelector:"Aside",ref:t},n))});ap.Section=uY;ap.displayName="@mantine/core/Aside";var d_e=Object.defineProperty,X5=Object.getOwnPropertySymbols,h_e=Object.prototype.hasOwnProperty,p_e=Object.prototype.propertyIsEnumerable,J5=(e,t,n)=>t in e?d_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m_e=(e,t)=>{for(var n in t||(t={}))h_e.call(t,n)&&J5(e,n,t[n]);if(X5)for(var n of X5(t))p_e.call(t,n)&&J5(e,n,t[n]);return e};function g_e(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var y_e=lt((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:m_e({flex:1,width:"100vw",boxSizing:"border-box"},g_e(t,e))}));const __e=y_e;var v_e=Object.defineProperty,HE=Object.getOwnPropertySymbols,hY=Object.prototype.hasOwnProperty,pY=Object.prototype.propertyIsEnumerable,Z5=(e,t,n)=>t in e?v_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b_e=(e,t)=>{for(var n in t||(t={}))hY.call(t,n)&&Z5(e,n,t[n]);if(HE)for(var n of HE(t))pY.call(t,n)&&Z5(e,n,t[n]);return e},E_e=(e,t)=>{var n={};for(var r in e)hY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&pY.call(e,r)&&(n[r]=e[r]);return n};const w_e={fixed:!0,zIndex:Io("app"),padding:"md"},mY=S.forwardRef((e,t)=>{const n=ht("AppShell",w_e,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:g,unstyled:y,hidden:m}=n,_=E_e(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:v,cx:w}=__e({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:g,unstyled:y,name:"AppShell"});return m?L.createElement(L.Fragment,null,r):L.createElement(Iye,{value:{fixed:u,zIndex:l}},L.createElement(ut,b_e({className:w(v.root,h),ref:t},_),s,L.createElement("div",{className:v.body},i,L.createElement("main",{className:v.main},r),a),o))});mY.displayName="@mantine/core/AppShell";const o1={xs:1,sm:2,md:3,lg:4,xl:5};function a1(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var S_e=lt((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:o1})}px ${n} ${a1(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:o1})}px ${n} ${a1(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:o1}),borderTopColor:a1(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:o1}),borderLeftColor:a1(e,r),borderLeftStyle:n}}));const T_e=S_e;var x_e=Object.defineProperty,I_e=Object.defineProperties,A_e=Object.getOwnPropertyDescriptors,WE=Object.getOwnPropertySymbols,gY=Object.prototype.hasOwnProperty,yY=Object.prototype.propertyIsEnumerable,eF=(e,t,n)=>t in e?x_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tF=(e,t)=>{for(var n in t||(t={}))gY.call(t,n)&&eF(e,n,t[n]);if(WE)for(var n of WE(t))yY.call(t,n)&&eF(e,n,t[n]);return e},C_e=(e,t)=>I_e(e,A_e(t)),O_e=(e,t)=>{var n={};for(var r in e)gY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&yY.call(e,r)&&(n[r]=e[r]);return n};const P_e={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},b2=S.forwardRef((e,t)=>{const n=ht("Divider",P_e,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=O_e(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:y}=T_e({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),m=s==="vertical",_=s==="horizontal",v=!!a&&_,w=!(l!=null&&l.color);return L.createElement(ut,tF({ref:t,className:y(g.root,{[g.vertical]:m,[g.horizontal]:_,[g.withLabel]:v},r),role:"separator"},p),v&&L.createElement(At,C_e(tF({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(g.label,g[u],{[g.labelDefaultStyles]:w})}),a))});b2.displayName="@mantine/core/Divider";var R_e=Object.defineProperty,N_e=Object.defineProperties,k_e=Object.getOwnPropertyDescriptors,nF=Object.getOwnPropertySymbols,D_e=Object.prototype.hasOwnProperty,$_e=Object.prototype.propertyIsEnumerable,rF=(e,t,n)=>t in e?R_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iF=(e,t)=>{for(var n in t||(t={}))D_e.call(t,n)&&rF(e,n,t[n]);if(nF)for(var n of nF(t))$_e.call(t,n)&&rF(e,n,t[n]);return e},L_e=(e,t)=>N_e(e,k_e(t)),M_e=lt((e,{size:t})=>({item:L_e(iF({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":iF({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const F_e=M_e;var B_e=Object.defineProperty,sF=Object.getOwnPropertySymbols,j_e=Object.prototype.hasOwnProperty,U_e=Object.prototype.propertyIsEnumerable,oF=(e,t,n)=>t in e?B_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V_e=(e,t)=>{for(var n in t||(t={}))j_e.call(t,n)&&oF(e,n,t[n]);if(sF)for(var n of sF(t))U_e.call(t,n)&&oF(e,n,t[n]);return e};function aD({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:g}){const{classes:y}=F_e({size:f},{classNames:n,styles:r,unstyled:g,name:o}),m=[],_=[];let v=null;const w=(E,x)=>{const A=typeof i=="function"?i(E.value):!1;return L.createElement(c,V_e({key:E.value,className:y.item,"data-disabled":E.disabled||void 0,"data-hovered":!E.disabled&&t===x||void 0,"data-selected":!E.disabled&&A||void 0,onMouseEnter:()=>a(x),id:`${s}-${x}`,role:"option",tabIndex:-1,"aria-selected":t===x,ref:M=>{l&&l.current&&(l.current[E.value]=M)},onMouseDown:E.disabled?null:M=>{M.preventDefault(),u(E)},disabled:E.disabled},E))};let T=null;if(e.forEach((E,x)=>{E.creatable?v=x:E.group?(T!==E.group&&(T=E.group,_.push(L.createElement("div",{className:y.separator,key:`__mantine-divider-${x}`},L.createElement(b2,{classNames:{label:y.separatorLabel},label:E.group})))),_.push(w(E,x))):m.push(w(E,x))}),h){const E=e[v];m.push(L.createElement("div",{key:Pge(),className:y.item,"data-hovered":t===v||void 0,onMouseEnter:()=>a(v),onMouseDown:x=>{x.preventDefault(),u(E)},tabIndex:-1,ref:x=>{l&&l.current&&(l.current[E.value]=x)}},p))}return _.length>0&&m.length>0&&m.unshift(L.createElement("div",{className:y.separator,key:"empty-group-separator"},L.createElement(b2,null))),_.length>0||m.length>0?L.createElement(L.Fragment,null,_,m):L.createElement(At,{size:f,unstyled:g,className:y.nothingFound},d)}aD.displayName="@mantine/core/SelectItems";var z_e=Object.defineProperty,qE=Object.getOwnPropertySymbols,_Y=Object.prototype.hasOwnProperty,vY=Object.prototype.propertyIsEnumerable,aF=(e,t,n)=>t in e?z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H_e=(e,t)=>{for(var n in t||(t={}))_Y.call(t,n)&&aF(e,n,t[n]);if(qE)for(var n of qE(t))vY.call(t,n)&&aF(e,n,t[n]);return e},W_e=(e,t)=>{var n={};for(var r in e)_Y.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&vY.call(e,r)&&(n[r]=e[r]);return n};const uD=S.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=W_e(n,["label","value"]);return L.createElement("div",H_e({ref:t},s),r||i)});uD.displayName="@mantine/core/DefaultItem";function q_e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bY(...e){return t=>e.forEach(n=>q_e(n,t))}function lh(...e){return S.useCallback(bY(...e),e)}const EY=S.forwardRef((e,t)=>{const{children:n,...r}=e,i=S.Children.toArray(n),s=i.find(Y_e);if(s){const o=s.props.children,a=i.map(u=>u===s?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:u);return S.createElement(E2,cr({},r,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,a):null)}return S.createElement(E2,cr({},r,{ref:t}),n)});EY.displayName="Slot";const E2=S.forwardRef((e,t)=>{const{children:n,...r}=e;return S.isValidElement(n)?S.cloneElement(n,{...K_e(r,n.props),ref:bY(t,n.ref)}):S.Children.count(n)>1?S.Children.only(null):null});E2.displayName="SlotClone";const G_e=({children:e})=>S.createElement(S.Fragment,null,e);function Y_e(e){return S.isValidElement(e)&&e.type===G_e}function K_e(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{s==null||s(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const Q_e=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],U_=Q_e.reduce((e,t)=>{const n=S.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?EY:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(a,cr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),w2=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function X_e(e,t){return S.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const V_=e=>{const{present:t,children:n}=e,r=J_e(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=lh(r.ref,i.ref);return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};V_.displayName="Presence";function J_e(e){const[t,n]=S.useState(),r=S.useRef({}),i=S.useRef(e),s=S.useRef("none"),o=e?"mounted":"unmounted",[a,u]=X_e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const l=u1(r.current);s.current=a==="mounted"?l:"none"},[a]),w2(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=u1(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),w2(()=>{if(t){const l=f=>{const h=u1(r.current).includes(f.animationName);f.target===t&&h&&$_.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=u1(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function u1(e){return(e==null?void 0:e.animationName)||"none"}function Z_e(e,t=[]){let n=[];function r(s,o){const a=S.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][u])||a,y=S.useMemo(()=>p,Object.values(p));return S.createElement(g.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=S.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return S.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,eve(i,...t)]}function eve(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ed(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const tve=S.createContext(void 0);function nve(e){const t=S.useContext(tve);return e||t||"ltr"}function rve(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ad(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function ive(e,t){return S.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const wY="ScrollArea",[SY,flt]=Z_e(wY),[sve,ra]=SY(wY),ove=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=S.useState(null),[l,c]=S.useState(null),[f,d]=S.useState(null),[h,p]=S.useState(null),[g,y]=S.useState(null),[m,_]=S.useState(0),[v,w]=S.useState(0),[T,E]=S.useState(!1),[x,A]=S.useState(!1),M=lh(t,$=>u($)),D=nve(i);return S.createElement(sve,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:T,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:x,onScrollbarYEnabledChange:A,onCornerWidthChange:_,onCornerHeightChange:w},S.createElement(U_.div,cr({dir:D},o,{ref:M,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})))}),ave="ScrollAreaViewport",uve=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ra(ave,n),o=S.useRef(null),a=lh(t,o,s.onViewportChange);return S.createElement(S.Fragment,null,S.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),S.createElement(U_.div,cr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),S.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Jl="ScrollAreaScrollbar",lve=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ra(Jl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return S.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?S.createElement(cve,cr({},r,{ref:t,forceMount:n})):i.type==="scroll"?S.createElement(fve,cr({},r,{ref:t,forceMount:n})):i.type==="auto"?S.createElement(TY,cr({},r,{ref:t,forceMount:n})):i.type==="always"?S.createElement(lD,cr({},r,{ref:t})):null}),cve=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ra(Jl,e.__scopeScrollArea),[s,o]=S.useState(!1);return S.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),S.createElement(V_,{present:n||s},S.createElement(TY,cr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),fve=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ra(Jl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=vx(()=>u("SCROLL_END"),100),[a,u]=ive("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),S.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),S.createElement(V_,{present:n||a!=="hidden"},S.createElement(lD,cr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Ad(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ad(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),TY=S.forwardRef((e,t)=>{const n=ra(Jl,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=S.useState(!1),a=e.orientation==="horizontal",u=vx(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return tm(n.viewport,u),tm(n.content,u),S.createElement(V_,{present:r||s},S.createElement(lD,cr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),lD=S.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ra(Jl,e.__scopeScrollArea),s=S.useRef(null),o=S.useRef(0),[a,u]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=CY(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return vve(d,o.current,a,h)}return n==="horizontal"?S.createElement(dve,cr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=uF(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?S.createElement(hve,cr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=uF(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),dve=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ra(Jl,e.__scopeScrollArea),[o,a]=S.useState(),u=S.useRef(null),l=lh(t,u,s.onScrollbarXChange);return S.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),S.createElement(IY,cr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_x(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),PY(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:GE(o.paddingLeft),paddingEnd:GE(o.paddingRight)}})}}))}),hve=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ra(Jl,e.__scopeScrollArea),[o,a]=S.useState(),u=S.useRef(null),l=lh(t,u,s.onScrollbarYChange);return S.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),S.createElement(IY,cr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_x(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),PY(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:GE(o.paddingTop),paddingEnd:GE(o.paddingBottom)}})}}))}),[pve,xY]=SY(Jl),IY=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=ra(Jl,n),[p,g]=S.useState(null),y=lh(t,M=>g(M)),m=S.useRef(null),_=S.useRef(""),v=h.viewport,w=r.content-r.viewport,T=ed(c),E=ed(u),x=vx(f,10);function A(M){if(m.current){const D=M.clientX-m.current.left,$=M.clientY-m.current.top;l({x:D,y:$})}}return S.useEffect(()=>{const M=D=>{const $=D.target;(p==null?void 0:p.contains($))&&T(D,w)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[v,p,w,T]),S.useEffect(E,[r,E]),tm(p,x),tm(h.content,x),S.createElement(pve,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:ed(s),onThumbPointerUp:ed(o),onThumbPositionChange:E,onThumbPointerDown:ed(a)},S.createElement(U_.div,cr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:Ad(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),m.current=p.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(M))}),onPointerMove:Ad(e.onPointerMove,A),onPointerUp:Ad(e.onPointerUp,M=>{M.target.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=_.current,m.current=null})})))}),S2="ScrollAreaThumb",mve=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=xY(S2,e.__scopeScrollArea);return S.createElement(V_,{present:n||i.hasThumb},S.createElement(gve,cr({ref:t},r)))}),gve=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ra(S2,n),o=xY(S2,n),{onThumbPositionChange:a}=o,u=lh(t,f=>o.onThumbChange(f)),l=S.useRef(),c=vx(()=>{l.current&&(l.current(),l.current=void 0)},100);return S.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=bve(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),S.createElement(U_.div,cr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ad(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:Ad(e.onPointerUp,o.onThumbPointerUp)}))}),AY="ScrollAreaCorner",yve=S.forwardRef((e,t)=>{const n=ra(AY,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.createElement(_ve,cr({},e,{ref:t})):null}),_ve=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ra(AY,n),[s,o]=S.useState(0),[a,u]=S.useState(0),l=!!(s&&a);return tm(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),tm(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?S.createElement(U_.div,cr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function GE(e){return e?parseInt(e,10):0}function CY(e,t){const n=e/t;return isNaN(n)?0:n}function _x(e){const t=CY(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function vve(e,t,n,r="ltr"){const i=_x(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return OY([u,l],f)(e)}function uF(e,t,n="ltr"){const r=_x(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=rve(e,u);return OY([0,o],[0,a])(l)}function OY(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function PY(e,t){return e>0&&e<t}const bve=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function vx(e,t){const n=ed(e),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function tm(e,t){const n=ed(t);w2(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const Eve=ove,wve=uve,lF=lve,cF=mve,Sve=yve;var Tve=lt((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const xve=Tve;var Ive=Object.defineProperty,Ave=Object.defineProperties,Cve=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,RY=Object.prototype.hasOwnProperty,NY=Object.prototype.propertyIsEnumerable,fF=(e,t,n)=>t in e?Ive(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kY=(e,t)=>{for(var n in t||(t={}))RY.call(t,n)&&fF(e,n,t[n]);if(YE)for(var n of YE(t))NY.call(t,n)&&fF(e,n,t[n]);return e},Ove=(e,t)=>Ave(e,Cve(t)),DY=(e,t)=>{var n={};for(var r in e)RY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&NY.call(e,r)&&(n[r]=e[r]);return n};const $Y={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},bx=S.forwardRef((e,t)=>{const n=ht("ScrollArea",$Y,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,g=DY(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[y,m]=S.useState(!1),_=ss(),{classes:v,cx:w}=xve({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:y,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return L.createElement(Eve,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},L.createElement(ut,kY({className:w(v.root,i)},g),L.createElement(wve,{className:v.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:T})=>h({x:T.scrollLeft,y:T.scrollTop}):void 0},r),L.createElement(lF,{orientation:"horizontal",className:v.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},L.createElement(cF,{className:v.thumb})),L.createElement(lF,{orientation:"vertical",className:v.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},L.createElement(cF,{className:v.thumb})),L.createElement(Sve,{className:v.corner})))}),LY=S.forwardRef((e,t)=>{const n=ht("ScrollAreaAutosize",$Y,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:g}=n,y=DY(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return L.createElement(ut,Ove(kY({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...jd(g)]}),L.createElement(ut,{sx:{display:"flex",flexDirection:"column",flex:1}},L.createElement(bx,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});LY.displayName="@mantine/core/ScrollAreaAutosize";bx.displayName="@mantine/core/ScrollArea";bx.Autosize=LY;const d0=bx;var Pve=Object.defineProperty,Rve=Object.defineProperties,Nve=Object.getOwnPropertyDescriptors,KE=Object.getOwnPropertySymbols,MY=Object.prototype.hasOwnProperty,FY=Object.prototype.propertyIsEnumerable,dF=(e,t,n)=>t in e?Pve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hF=(e,t)=>{for(var n in t||(t={}))MY.call(t,n)&&dF(e,n,t[n]);if(KE)for(var n of KE(t))FY.call(t,n)&&dF(e,n,t[n]);return e},kve=(e,t)=>Rve(e,Nve(t)),Dve=(e,t)=>{var n={};for(var r in e)MY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&FY.call(e,r)&&(n[r]=e[r]);return n};const Ex=S.forwardRef((e,t)=>{var n=e,{style:r}=n,i=Dve(n,["style"]);return L.createElement(d0,kve(hF({},i),{style:hF({width:"100%"},r),viewportRef:t}),i.children)});Ex.displayName="@mantine/core/SelectScrollArea";var $ve=lt(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Lve=$ve;function kl(e){return e.split("-")[0]}function z_(e){return e.split("-")[1]}function ch(e){return["top","bottom"].includes(kl(e))?"x":"y"}function cD(e){return e==="y"?"height":"width"}function pF(e,t,n){let{reference:r,floating:i}=e;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=ch(t),u=cD(a),l=r[u]/2-i[u]/2,c=a==="x";let f;switch(kl(t)){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(z_(t)){case"start":f[a]-=l*(n&&c?-1:1);break;case"end":f[a]+=l*(n&&c?-1:1)}return f}const Mve=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=pF(l,r,u),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:m}=a[g],{x:_,y:v,data:w,reset:T}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=_??c,f=v??f,h={...h,[y]:{...h[y],...w}},T&&p<=50&&(p++,typeof T=="object"&&(T.placement&&(d=T.placement),T.rects&&(l=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:c,y:f}=pF(l,d,u)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function fD(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Ly(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function dD(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=fD(h),g=a[d?f==="floating"?"reference":"floating":f],y=Ly(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),m=Ly(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:u}):o[f]);return{top:y.top-m.top+p.top,bottom:m.bottom-y.bottom+p.bottom,left:y.left-m.left+p.left,right:m.right-y.right+p.right}}const BY=Math.min,vc=Math.max;function T2(e,t,n){return vc(e,BY(t,n))}const mF=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:s,placement:o,rects:a,platform:u}=t;if(n==null)return{};const l=fD(r),c={x:i,y:s},f=ch(o),d=z_(o),h=cD(f),p=await u.getDimensions(n),g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=a.reference[h]+a.reference[f]-c[f]-a.floating[h],_=c[f]-a.reference[f],v=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n));let w=v?f==="y"?v.clientHeight||0:v.clientWidth||0:0;w===0&&(w=a.floating[h]);const T=m/2-_/2,E=l[g],x=w-p[h]-l[y],A=w/2-p[h]/2+T,M=T2(E,A,x),D=(d==="start"?l[g]:l[y])>0&&A!==M&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(D?A<E?E-A:x-A:0),data:{[f]:M,centerOffset:A-M}}}}),Fve={left:"right",right:"left",bottom:"top",top:"bottom"};function QE(e){return e.replace(/left|right|bottom|top/g,t=>Fve[t])}function Bve(e,t,n){n===void 0&&(n=!1);const r=z_(e),i=ch(e),s=cD(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=QE(o)),{main:o,cross:QE(o)}}const jve={start:"end",end:"start"};function gF(e){return e.replace(/start|end/g,t=>jve[t])}const Uve=["top","right","bottom","left"];Uve.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const jY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,g=kl(r),y=f||(g===o||!h?[QE(o)]:function(A){const M=QE(A);return[gF(A),M,gF(M)]}(o)),m=[o,...y],_=await dD(t,p),v=[];let w=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&v.push(_[g]),c){const{main:A,cross:M}=Bve(r,s,await(a.isRTL==null?void 0:a.isRTL(u.floating)));v.push(_[A],_[M])}if(w=[...w,{placement:r,overflows:v}],!v.every(A=>A<=0)){var T,E;const A=((T=(E=i.flip)==null?void 0:E.index)!=null?T:0)+1,M=m[A];if(M)return{data:{index:A,overflows:w},reset:{placement:M}};let D="bottom";switch(d){case"bestFit":{var x;const $=(x=w.map(W=>[W,W.overflows.filter(q=>q>0).reduce((q,H)=>q+H,0)]).sort((W,q)=>W[1]-q[1])[0])==null?void 0:x[0].placement;$&&(D=$);break}case"initialPlacement":D=o}if(r!==D)return{reset:{placement:D}}}return{}}}},UY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(s,o){const{placement:a,platform:u,elements:l}=s,c=await(u.isRTL==null?void 0:u.isRTL(l.floating)),f=kl(a),d=z_(a),h=ch(a)==="x",p=["left","top"].includes(f)?-1:1,g=c&&h?-1:1,y=typeof o=="function"?o(s):o;let{mainAxis:m,crossAxis:_,alignmentAxis:v}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof v=="number"&&(_=d==="end"?-1*v:v),h?{x:_*g,y:m*p}:{x:m*p,y:_*g}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function VY(e){return e==="x"?"y":"x"}const hD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:m,y:_}=y;return{x:m,y:_}}},...u}=e,l={x:n,y:r},c=await dD(t,u),f=ch(kl(i)),d=VY(f);let h=l[f],p=l[d];if(s){const y=f==="y"?"bottom":"right";h=T2(h+c[f==="y"?"top":"left"],h,h-c[y])}if(o){const y=d==="y"?"bottom":"right";p=T2(p+c[d==="y"?"top":"left"],p,p-c[y])}const g=a.fn({...t,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},Vve=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=e,c={x:n,y:r},f=ch(i),d=VY(f);let h=c[f],p=c[d];const g=typeof a=="function"?a(t):a,y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const T=f==="y"?"height":"width",E=s.reference[f]-s.floating[T]+y.mainAxis,x=s.reference[f]+s.reference[T]-y.mainAxis;h<E?h=E:h>x&&(h=x)}if(l){var m,_,v,w;const T=f==="y"?"width":"height",E=["top","left"].includes(kl(i)),x=s.reference[d]-s.floating[T]+(E&&(m=(_=o.offset)==null?void 0:_[d])!=null?m:0)+(E?0:y.crossAxis),A=s.reference[d]+s.reference[T]+(E?0:(v=(w=o.offset)==null?void 0:w[d])!=null?v:0)-(E?y.crossAxis:0);p<x?p=x:p>A&&(p=A)}return{[f]:h,[d]:p}}}},zve=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=e,u=await dD(t,a),l=kl(n),c=z_(n);let f,d;l==="top"||l==="bottom"?(f=l,d=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(d=l,f=c==="end"?"top":"bottom");const h=vc(u.left,0),p=vc(u.right,0),g=vc(u.top,0),y=vc(u.bottom,0),m={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(g!==0||y!==0?g+y:vc(u.top,u.bottom)):u[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:vc(u.left,u.right)):u[d])};await o({...t,...m});const _=await i.getDimensions(s.floating);return r.floating.width!==_.width||r.floating.height!==_.height?{reset:{rects:!0}}:{}}}},zY=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=t,{padding:u=2,x:l,y:c}=e,f=Ly(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),d=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],h=fD(u),p=await o.getElementRects({reference:{getBoundingClientRect:function(){var g;if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return(g=d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom))!=null?g:f;if(d.length>=2){if(ch(r)==="x"){const E=d[0],x=d[d.length-1],A=kl(r)==="top",M=E.top,D=x.bottom,$=A?E.left:x.left,W=A?E.right:x.right;return{top:M,bottom:D,left:$,right:W,width:W-$,height:D-M,x:$,y:M}}const y=kl(r)==="left",m=vc(...d.map(E=>E.right)),_=BY(...d.map(E=>E.left)),v=d.filter(E=>y?E.left===_:E.right===m),w=v[0].top,T=v[v.length-1].bottom;return{top:w,bottom:T,left:_,right:m,width:m-_,height:T-w,x:_,y:w}}return f}},floating:i.floating,strategy:a});return s.reference.x!==p.reference.x||s.reference.y!==p.reference.y||s.reference.width!==p.reference.width||s.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function HY(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Zl(e){if(e==null)return window;if(!HY(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function af(e){return Zl(e).getComputedStyle(e)}function uf(e){return HY(e)?"":e?(e.nodeName||"").toLowerCase():""}function WY(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Dl(e){return e instanceof Zl(e).HTMLElement}function El(e){return e instanceof Zl(e).Element}function yF(e){return typeof ShadowRoot>"u"?!1:e instanceof Zl(e).ShadowRoot||e instanceof ShadowRoot}function wx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=af(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function Hve(e){return["table","td","th"].includes(uf(e))}function x2(e){const t=/firefox/i.test(WY()),n=af(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null&&s.includes(i)})}function qY(){return!/^((?!chrome|android).)*safari/i.test(WY())}function pD(e){return["html","body","#document"].includes(uf(e))}const _F=Math.min,U0=Math.max,XE=Math.round;function wl(e,t,n){var r,i,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&Dl(e)&&(u=e.offsetWidth>0&&XE(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&XE(a.height)/e.offsetHeight||1);const c=El(e)?Zl(e):window,f=!qY()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,h=(a.top+(f&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/l,p=a.width/u,g=a.height/l;return{width:p,height:g,top:h,right:d+p,bottom:h+g,left:d,x:d,y:h}}function Yc(e){return(t=e,(t instanceof Zl(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Sx(e){return El(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function GY(e){return wl(Yc(e)).left+Sx(e).scrollLeft}function Wve(e,t,n){const r=Dl(t),i=Yc(t),s=wl(e,r&&function(u){const l=wl(u);return XE(l.width)!==u.offsetWidth||XE(l.height)!==u.offsetHeight}(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((uf(t)!=="body"||wx(i))&&(o=Sx(t)),Dl(t)){const u=wl(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=GY(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function JE(e){if(uf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(yF(e)?e.host:null)||Yc(e);return yF(t)?t.host:t}function vF(e){return Dl(e)&&af(e).position!=="fixed"?e.offsetParent:null}function bF(e){const t=Zl(e);let n=vF(e);for(;n&&Hve(n)&&af(n).position==="static";)n=vF(n);return n&&(uf(n)==="html"||uf(n)==="body"&&af(n).position==="static"&&!x2(n))?t:n||function(r){let i=JE(r);for(;Dl(i)&&!pD(i);){if(x2(i))return i;i=JE(i)}return null}(e)||t}function EF(e){if(Dl(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=wl(e);return{width:t.width,height:t.height}}function YY(e){const t=JE(e);return pD(t)?e.ownerDocument.body:Dl(t)&&wx(t)?t:YY(t)}function Sl(e,t){var n;t===void 0&&(t=[]);const r=YY(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Zl(r),o=i?[s].concat(s.visualViewport||[],wx(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Sl(o))}function wF(e,t,n){return t==="viewport"?Ly(function(r,i){const s=Zl(r),o=Yc(r),a=s.visualViewport;let u=o.clientWidth,l=o.clientHeight,c=0,f=0;if(a){u=a.width,l=a.height;const d=qY();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:u,height:l,x:c,y:f}}(e,n)):El(t)?function(r,i){const s=wl(r,!1,i==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft;return{top:o,left:a,x:a,y:o,right:a+r.clientWidth,bottom:o+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):Ly(function(r){var i;const s=Yc(r),o=Sx(r),a=(i=r.ownerDocument)==null?void 0:i.body,u=U0(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=U0(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+GY(r);const f=-o.scrollTop;return af(a||s).direction==="rtl"&&(c+=U0(s.clientWidth,a?a.clientWidth:0)-u),{width:u,height:l,x:c,y:f}}(Yc(e)))}const qve={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=n==="clippingAncestors"?function(l){let c=Sl(l).filter(h=>El(h)&&uf(h)!=="body"),f=l,d=null;for(;El(f)&&!pD(f);){const h=af(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!x2(f)?c=c.filter(p=>p!==f):d=h,f=JE(f)}return c}(t):[].concat(n),o=[...s,r],a=o[0],u=o.reduce((l,c)=>{const f=wF(t,c,i);return l.top=U0(f.top,l.top),l.right=_F(f.right,l.right),l.bottom=_F(f.bottom,l.bottom),l.left=U0(f.left,l.left),l},wF(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Dl(n),s=Yc(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((uf(n)!=="body"||wx(s))&&(o=Sx(n)),Dl(n))){const u=wl(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}},isElement:El,getDimensions:EF,getOffsetParent:bF,getDocumentElement:Yc,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:Wve(t,bF(n),r),floating:{...EF(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>af(e).direction==="rtl"};function Gve(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,u=i&&!a,l=u||s?[...El(e)?Sl(e):e.contextElement?Sl(e.contextElement):[],...Sl(t)]:[];l.forEach(h=>{u&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});let c,f=null;if(o){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),El(e)&&!a&&f.observe(e),El(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?wl(e):null;return a&&function h(){const p=wl(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;l.forEach(p=>{u&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const Yve=(e,t,n)=>Mve(e,t,{platform:qve,...n});var I2=typeof document<"u"?S.useLayoutEffect:S.useEffect;function ZE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ZE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!ZE(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Kve(e){const t=S.useRef(e);return I2(()=>{t.current=e}),t}function Qve(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[s,o]=S.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,u]=S.useState(t);ZE(a,t)||u(t);const l=S.useRef(null),c=S.useRef(null),f=S.useRef(null),d=S.useRef(s),h=Kve(i),p=S.useCallback(()=>{!l.current||!c.current||Yve(l.current,c.current,{middleware:a,placement:n,strategy:r}).then(w=>{g.current&&!ZE(d.current,w)&&(d.current=w,$_.flushSync(()=>{o(w)}))})},[a,n,r]);I2(()=>{g.current&&p()},[p]);const g=S.useRef(!1);I2(()=>(g.current=!0,()=>{g.current=!1}),[]);const y=S.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),l.current&&c.current)if(h.current){const w=h.current(l.current,c.current,p);f.current=w}else p()},[p,h]),m=S.useCallback(w=>{l.current=w,y()},[y]),_=S.useCallback(w=>{c.current=w,y()},[y]),v=S.useMemo(()=>({reference:l,floating:c}),[]);return S.useMemo(()=>({...s,update:p,refs:v,reference:m,floating:_}),[s,p,v,m,_])}const KY=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?mF({element:t.current,padding:n}).fn(i):{}:t?mF({element:t,padding:n}).fn(i):{}}}};var nm=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Xve(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let fC=!1,Jve=0;const SF=()=>"floating-ui-"+Jve++;function Zve(){const[e,t]=S.useState(()=>fC?SF():void 0);return nm(()=>{e==null&&t(SF())},[]),S.useEffect(()=>{fC||(fC=!0)},[]),e}const TF=Dd.useId,xF=TF??Zve,e1e=S.createContext(null),t1e=S.createContext(null),QY=()=>{var e,t;return(e=(t=S.useContext(e1e))==null?void 0:t.id)!=null?e:null},mD=()=>S.useContext(t1e);function xc(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function XY(e){var t;return(t=xc(e).defaultView)!=null?t:window}function fd(e){return e?e instanceof XY(e).Element:!1}function n1e(e){return e?e instanceof XY(e).HTMLElement:!1}const IF=Dd.useInsertionEffect;function r1e(e){const t=S.useRef(()=>{});return IF?IF(()=>{t.current=e}):t.current=e,S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function gD(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:s,strategy:o,nodeId:a}=e===void 0?{}:e;const[u,l]=S.useState(null),c=mD(),f=S.useRef(null),d=S.useRef({}),h=S.useState(()=>Xve())[0],p=Qve({placement:i,middleware:s,strategy:o,whileElementsMounted:r}),g=r1e(n),y=S.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),m=S.useMemo(()=>({...p,refs:y,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:g,_:{domReference:u}}),[p,a,h,t,g,y,u]);nm(()=>{const w=c==null?void 0:c.nodesRef.current.find(T=>T.id===a);w&&(w.context=m)});const{reference:_}=p,v=S.useCallback(w=>{(fd(w)||w===null)&&(m.refs.domReference.current=w,l(w)),_(w)},[_,m.refs]);return S.useMemo(()=>({...p,context:m,refs:y,reference:v}),[p,y,m,v])}function dC(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const i1e=function(e){e===void 0&&(e=[]);const t=e,n=S.useCallback(s=>dC(s,e,"reference"),t),r=S.useCallback(s=>dC(s,e,"floating"),t),i=S.useCallback(s=>dC(s,e,"item"),t);return S.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function hC(e,t){var n;let r=(n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var s;i=(s=e.filter(o=>{var a;return(a=i)==null?void 0:a.some(u=>{var l;return o.parentId===u.id&&((l=o.context)==null?void 0:l.open)})}))!=null?s:[],r=r.concat(i)}return r}function s1e(e){return"composedPath"in e?e.composedPath()[0]:e.target}function AF(e){const t=S.useRef(e);return nm(()=>{t.current=e}),t}function o1e(e){const t=S.useRef();return nm(()=>{t.current=e},[e]),t.current}function bb(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const a1e=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,refs:d,_:h}=e,p=mD(),g=QY(),y=AF(i),m=AF(r),_=o1e(u),v=S.useRef(),w=S.useRef(),T=S.useRef(),E=S.useRef(),x=S.useRef(!0),A=S.useRef(!1),M=S.useCallback(()=>{var q;const H=(q=c.current.openEvent)==null?void 0:q.type;return(H==null?void 0:H.includes("mouse"))&&H!=="mousedown"},[c]);S.useEffect(()=>{if(!n)return;function q(){clearTimeout(w.current),clearTimeout(E.current),x.current=!0}return f.on("dismiss",q),()=>{f.off("dismiss",q)}},[n,f,d]),S.useEffect(()=>{if(!n||!y.current)return;function q(){M()&&l(!1)}const H=xc(d.floating.current).documentElement;return H.addEventListener("mouseleave",q),()=>{H.removeEventListener("mouseleave",q)}},[d,l,n,y,c,M]);const D=S.useCallback(function(q){q===void 0&&(q=!0);const H=bb(m.current,"close",v.current);H&&!T.current?(clearTimeout(w.current),w.current=setTimeout(()=>l(!1),H)):q&&(clearTimeout(w.current),l(!1))},[m,l]),$=S.useCallback(()=>{T.current&&(xc(d.floating.current).removeEventListener("pointermove",T.current),T.current=void 0)},[d]),W=S.useCallback(()=>{xc(d.floating.current).body.style.pointerEvents="",A.current=!1},[d]);return S.useEffect(()=>{if(!n)return;function q(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function H(ie){if(clearTimeout(w.current),x.current=!1,s&&v.current!=="mouse"||o>0&&bb(m.current,"open")===0)return;c.current.openEvent=ie;const K=bb(m.current,"open",v.current);K?w.current=setTimeout(()=>{l(!0)},K):l(!0)}function de(ie){if(q())return;const K=xc(d.floating.current);if(clearTimeout(E.current),y.current){clearTimeout(w.current),T.current&&K.removeEventListener("pointermove",T.current),T.current=y.current({...e,tree:p,x:ie.clientX,y:ie.clientY,onClose(){W(),$(),D()}}),K.addEventListener("pointermove",T.current);return}D()}function ae(ie){q()||y.current==null||y.current({...e,tree:p,x:ie.clientX,y:ie.clientY,leave:!0,onClose(){W(),$(),D()}})(ie)}const pe=d.floating.current,ee=d.domReference.current;if(fd(ee))return u&&ee.addEventListener("mouseleave",ae),pe==null||pe.addEventListener("mouseleave",ae),a&&ee.addEventListener("mousemove",H,{once:!0}),ee.addEventListener("mouseenter",H),ee.addEventListener("mouseleave",de),()=>{u&&ee.removeEventListener("mouseleave",ae),pe==null||pe.removeEventListener("mouseleave",ae),a&&ee.removeEventListener("mousemove",H),ee.removeEventListener("mouseenter",H),ee.removeEventListener("mouseleave",de)}},[h.domReference,n,e,s,o,a,D,$,W,l,u,p,d,m,y,c]),nm(()=>{if(n&&u&&y.current&&y.current.__options.blockPointerEvents&&M()){xc(d.floating.current).body.style.pointerEvents="none",A.current=!0;const de=d.domReference.current,ae=d.floating.current;if(fd(de)&&ae){var q,H;const pe=p==null||(q=p.nodesRef.current.find(ee=>ee.id===g))==null||(H=q.context)==null?void 0:H.refs.floating.current;return pe&&(pe.style.pointerEvents=""),de.style.pointerEvents="auto",ae.style.pointerEvents="auto",()=>{de.style.pointerEvents="",ae.style.pointerEvents=""}}}},[n,u,g,d,p,y,c,M]),nm(()=>{_&&!u&&(v.current=void 0,$(),W())}),S.useEffect(()=>()=>{$(),clearTimeout(w.current),clearTimeout(E.current),A.current&&W()},[n,$,W]),S.useMemo(()=>{if(!n)return{};function q(H){v.current=H.pointerType}return{reference:{onPointerDown:q,onPointerEnter:q,onMouseMove(){u||o===0||(clearTimeout(E.current),E.current=setTimeout(()=>{x.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(w.current)},onMouseLeave(){D(!1)}}}},[n,o,u,l,D])},JY=S.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),ZY=()=>S.useContext(JY),u1e=e=>{let{children:t,delay:n}=e;const[r,i]=S.useState({delay:n,initialDelay:n,currentId:null}),s=S.useCallback(o=>{i(a=>({...a,currentId:o}))},[]);return S.createElement(JY.Provider,{value:S.useMemo(()=>({...r,setState:i,setCurrentId:s}),[r,i,s])},t)},l1e=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,initialDelay:o,setState:a}=ZY();S.useEffect(()=>{s&&(a(u=>({...u,delay:{open:1,close:bb(o,"close")}})),s!==i&&r(!1))},[i,r,a,s,o]),S.useEffect(()=>{!n&&s===i&&(r(!1),a(u=>({...u,delay:o,currentId:null})))},[n,a,s,i,r,o])},c1e=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=xF(),o=xF();return S.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function pC(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const f1e={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},d1e={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},h1e=function(e,t){let{open:n,onOpenChange:r,refs:i,events:s,nodeId:o}=e,{enabled:a=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const g=mD(),y=QY()!=null,m=S.useRef(!1);return S.useEffect(()=>{if(!n||!a)return;function _(x){if(x.key==="Escape"){if(!p&&g&&hC(g.nodesRef.current,o).length>0)return;s.emit("dismiss",{preventScroll:!1}),r(!1)}}function v(x){const A=m.current;if(m.current=!1,A)return;const M=s1e(x);if(fd(M)&&i.floating.current){var D;const W=(D=i.floating.current.ownerDocument.defaultView)!=null?D:window,q=M.scrollWidth>M.clientWidth,H=M.scrollHeight>M.clientHeight;let de=H&&x.offsetX>M.clientWidth;if(H&&W.getComputedStyle(M).direction==="rtl"&&(de=x.offsetX<=M.offsetWidth-M.clientWidth),de||q&&x.offsetY>M.clientHeight)return}const $=g&&hC(g.nodesRef.current,o).some(W=>{var q;return pC(x,(q=W.context)==null?void 0:q.refs.floating.current)});pC(x,i.floating.current)||pC(x,i.domReference.current)||$||!p&&g&&hC(g.nodesRef.current,o).length>0||(s.emit("dismiss",y?{preventScroll:!0}:!1),r(!1))}function w(){r(!1)}const T=xc(i.floating.current);u&&T.addEventListener("keydown",_),l&&T.addEventListener(c,v);let E=[];return h&&(fd(i.domReference.current)&&(E=Sl(i.domReference.current)),fd(i.floating.current)&&(E=E.concat(Sl(i.floating.current))),!fd(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(E=E.concat(Sl(i.reference.current.contextElement)))),E=E.filter(x=>{var A;return x!==((A=T.defaultView)==null?void 0:A.visualViewport)}),E.forEach(x=>{x.addEventListener("scroll",w,{passive:!0})}),()=>{u&&T.removeEventListener("keydown",_),l&&T.removeEventListener(c,v),E.forEach(x=>{x.removeEventListener("scroll",w)})}},[u,l,c,s,g,o,n,r,h,a,p,i,y]),S.useEffect(()=>{m.current=!1},[l,c]),S.useMemo(()=>a?{reference:{[f1e[d]]:()=>{f&&(s.emit("dismiss"),r(!1))}},floating:{[d1e[c]]:()=>{m.current=!0}}}:{},[a,s,f,c,d,r])},p1e=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:s,events:o}=e,{enabled:a=!0,keyboardOnly:u=!0}=t===void 0?{}:t;const l=S.useRef(""),c=S.useRef(!1),f=S.useRef();return S.useEffect(()=>{var d;if(!a)return;const p=(d=xc(s.floating.current).defaultView)!=null?d:window;function g(){!n&&n1e(s.domReference.current)&&s.domReference.current.blur()}return p.addEventListener("blur",g),()=>{p.removeEventListener("blur",g)}},[s,n,a]),S.useEffect(()=>{if(!a)return;function d(){c.current=!0}return o.on("dismiss",d),()=>{o.off("dismiss",d)}},[o,a]),S.useEffect(()=>()=>{clearTimeout(f.current)},[]),S.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;l.current=h,c.current=!!(h&&u)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,g;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=s.domReference.current)!=null&&p.contains((g=i.current.openEvent)==null?void 0:g.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,g;(p=s.floating.current)!=null&&p.contains(h)||(g=s.domReference.current)!=null&&g.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,u,s,i,r])};function eK({opened:e,floating:t,positionDependencies:n}){const[r,i]=S.useState(0);S.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return Gve(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),ho(()=>{t.update()},n),ho(()=>{i(s=>s+1)},[e])}function m1e(e){const t=[UY(e.offset)];return e.middlewares.shift&&t.push(hD({limiter:Vve()})),e.middlewares.flip&&t.push(jY()),e.middlewares.inline&&t.push(zY()),t.push(KY({element:e.arrowRef})),t}function g1e(e){const[t,n]=$a({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=gD({placement:e.position,middleware:[...m1e(e),...e.width==="target"?[zve({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return eK({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),ho(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const tK={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[y1e,nK]=Lq(tK.context);var _1e=Object.defineProperty,v1e=Object.defineProperties,b1e=Object.getOwnPropertyDescriptors,ew=Object.getOwnPropertySymbols,rK=Object.prototype.hasOwnProperty,iK=Object.prototype.propertyIsEnumerable,CF=(e,t,n)=>t in e?_1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l1=(e,t)=>{for(var n in t||(t={}))rK.call(t,n)&&CF(e,n,t[n]);if(ew)for(var n of ew(t))iK.call(t,n)&&CF(e,n,t[n]);return e},E1e=(e,t)=>v1e(e,b1e(t)),w1e=(e,t)=>{var n={};for(var r in e)rK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ew)for(var r of ew(e))t.indexOf(r)<0&&iK.call(e,r)&&(n[r]=e[r]);return n};const sK=S.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:s="dialog"}=n,o=w1e(n,["children","refProp","popupType"]);if(!L_(r))throw new Error(tK.children);const a=o,u=nK(),l=na(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return S.cloneElement(r,l1(E1e(l1(l1(l1({},a),c),u.targetProps),{className:Bq(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});sK.displayName="@mantine/core/PopoverTarget";var S1e=lt((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const T1e=S1e;var x1e=Object.defineProperty,OF=Object.getOwnPropertySymbols,I1e=Object.prototype.hasOwnProperty,A1e=Object.prototype.propertyIsEnumerable,PF=(e,t,n)=>t in e?x1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ch=(e,t)=>{for(var n in t||(t={}))I1e.call(t,n)&&PF(e,n,t[n]);if(OF)for(var n of OF(t))A1e.call(t,n)&&PF(e,n,t[n]);return e};const RF={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function oK({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in r1?Ch(Ch(Ch({transitionProperty:r1[e].transitionProperty},i),r1[e].common),r1[e][RF[t]]):null:Ch(Ch(Ch({transitionProperty:e.transitionProperty},i),e.common),e[RF[t]])}function aK({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=ss(),l=rD(),c=u.respectReducedMotion?l:!1,[f,d]=S.useState(r?"entered":"exited");let h=c?0:e;const p=S.useRef(-1),g=y=>{const m=y?i:s,_=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof m=="function"&&m(),typeof _=="function"&&_(),d(y?"entered":"exited");else{const v=window.setTimeout(()=>{typeof m=="function"&&m(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(v),typeof _=="function"&&_(),d(y?"entered":"exited")},h)}};return ho(()=>{g(r)},[r]),S.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function Tx({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=aK({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?L.createElement(L.Fragment,null,i({})):null:f==="exited"?null:L.createElement(L.Fragment,null,i(oK({transition:e,duration:c,state:f,timingFunction:d})))}Tx.displayName="@mantine/core/Transition";function uK({children:e,active:t=!0,refProp:n="ref"}){const r=gG(t),i=na(r,e==null?void 0:e.ref);return L_(e)?S.cloneElement(e,{[n]:i}):e}uK.displayName="@mantine/core/FocusTrap";var C1e=Object.defineProperty,O1e=Object.defineProperties,P1e=Object.getOwnPropertyDescriptors,NF=Object.getOwnPropertySymbols,R1e=Object.prototype.hasOwnProperty,N1e=Object.prototype.propertyIsEnumerable,kF=(e,t,n)=>t in e?C1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uc=(e,t)=>{for(var n in t||(t={}))R1e.call(t,n)&&kF(e,n,t[n]);if(NF)for(var n of NF(t))N1e.call(t,n)&&kF(e,n,t[n]);return e},c1=(e,t)=>O1e(e,P1e(t));function DF(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function $F(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const k1e={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function D1e({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[k1e[u]]:i},f=t?-n/2-1:-n/2;return u==="left"?c1(uc(uc({},c),DF(l,o,r)),{right:f,borderLeft:0,borderBottom:0}):u==="right"?c1(uc(uc({},c),DF(l,o,r)),{left:f,borderRight:0,borderTop:0}):u==="top"?c1(uc(uc({},c),$F(l,s,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):u==="bottom"?c1(uc(uc({},c),$F(l,s,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var $1e=Object.defineProperty,L1e=Object.defineProperties,M1e=Object.getOwnPropertyDescriptors,tw=Object.getOwnPropertySymbols,lK=Object.prototype.hasOwnProperty,cK=Object.prototype.propertyIsEnumerable,LF=(e,t,n)=>t in e?$1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F1e=(e,t)=>{for(var n in t||(t={}))lK.call(t,n)&&LF(e,n,t[n]);if(tw)for(var n of tw(t))cK.call(t,n)&&LF(e,n,t[n]);return e},B1e=(e,t)=>L1e(e,M1e(t)),j1e=(e,t)=>{var n={};for(var r in e)lK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tw)for(var r of tw(e))t.indexOf(r)<0&&cK.call(e,r)&&(n[r]=e[r]);return n};const yD=S.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,visible:u,arrowX:l,arrowY:c}=n,f=j1e(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=ss();return u?L.createElement("div",B1e(F1e({},f),{ref:t,style:D1e({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,dir:d.dir,arrowX:l,arrowY:c})})):null});yD.displayName="@mantine/core/FloatingArrow";var U1e=Object.defineProperty,V1e=Object.defineProperties,z1e=Object.getOwnPropertyDescriptors,nw=Object.getOwnPropertySymbols,fK=Object.prototype.hasOwnProperty,dK=Object.prototype.propertyIsEnumerable,MF=(e,t,n)=>t in e?U1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f1=(e,t)=>{for(var n in t||(t={}))fK.call(t,n)&&MF(e,n,t[n]);if(nw)for(var n of nw(t))dK.call(t,n)&&MF(e,n,t[n]);return e},FF=(e,t)=>V1e(e,z1e(t)),H1e=(e,t)=>{var n={};for(var r in e)fK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nw)for(var r of nw(e))t.indexOf(r)<0&&dK.call(e,r)&&(n[r]=e[r]);return n};function hK(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=H1e(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:u,unstyled:l,staticSelector:c}=B_(),f=nK(),{classes:d,cx:h}=T1e({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:u,unstyled:l}),p=dG({opened:f.opened,shouldReturnFocus:f.returnFocus}),g=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:L.createElement(j_,{withinPortal:f.withinPortal},L.createElement(Tx,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration},y=>{var m,_;return L.createElement(uK,{active:f.trapFocus},L.createElement(ut,f1(FF(f1({},g),{tabIndex:-1,ref:f.floating,style:FF(f1(f1({},n),y),{zIndex:f.zIndex,top:(m=f.y)!=null?m:0,left:(_=f.x)!=null?_:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:zhe(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:s}),"data-position":f.placement}),o),i,L.createElement(yD,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})))}))}hK.displayName="@mantine/core/PopoverDropdown";function pK(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var BF=Object.getOwnPropertySymbols,W1e=Object.prototype.hasOwnProperty,q1e=Object.prototype.propertyIsEnumerable,G1e=(e,t)=>{var n={};for(var r in e)W1e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BF)for(var r of BF(e))t.indexOf(r)<0&&q1e.call(e,r)&&(n[r]=e[r]);return n};const Y1e={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Io("popover"),__staticSelector:"Popover",width:"max-content"};function ec(e){var t,n,r,i,s,o;const a=S.useRef(null),u=ht("Popover",Y1e,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:g,transitionDuration:y,width:m,middlewares:_,withArrow:v,arrowSize:w,arrowOffset:T,arrowRadius:E,unstyled:x,classNames:A,styles:M,closeOnClickOutside:D,withinPortal:$,closeOnEscape:W,clickOutsideEvents:q,trapFocus:H,onClose:de,onOpen:ae,onChange:pe,zIndex:ee,radius:ie,shadow:K,id:I,defaultOpened:C,exitTransitionDuration:V,__staticSelector:R,withRoles:P,disabled:G,returnFocus:se}=u,ue=G1e(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[he,fe]=S.useState(null),[Te,me]=S.useState(null),Xe=Uu(I),Ge=ss(),He=g1e({middlewares:_,width:m,position:pK(Ge.dir,c),offset:f+(v?w/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:C,onChange:pe,onOpen:ae,onClose:de});Vme(()=>D&&He.onClose(),q,[he,Te]);const Le=S.useCallback(Ve=>{fe(Ve),He.floating.reference(Ve)},[He.floating.reference]),Ae=S.useCallback(Ve=>{me(Ve),He.floating.floating(Ve)},[He.floating.floating]);return L.createElement(lG,{classNames:A,styles:M,unstyled:x,staticSelector:R},L.createElement(y1e,{value:{returnFocus:se,disabled:G,controlled:He.controlled,reference:Le,floating:Ae,x:He.floating.x,y:He.floating.y,arrowX:(r=(n=(t=He.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=He.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:He.opened,arrowRef:a,transition:g,transitionDuration:y,exitTransitionDuration:V,width:m,withArrow:v,arrowSize:w,arrowOffset:T,arrowRadius:E,placement:He.floating.placement,trapFocus:H,withinPortal:$,zIndex:ee,radius:ie,shadow:K,closeOnEscape:W,onClose:He.onClose,onToggle:He.onToggle,getTargetId:()=>`${Xe}-target`,getDropdownId:()=>`${Xe}-dropdown`,withRoles:P,targetProps:ue}},l))}ec.Target=sK;ec.Dropdown=hK;ec.displayName="@mantine/core/Popover";var K1e=Object.defineProperty,rw=Object.getOwnPropertySymbols,mK=Object.prototype.hasOwnProperty,gK=Object.prototype.propertyIsEnumerable,jF=(e,t,n)=>t in e?K1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q1e=(e,t)=>{for(var n in t||(t={}))mK.call(t,n)&&jF(e,n,t[n]);if(rw)for(var n of rw(t))gK.call(t,n)&&jF(e,n,t[n]);return e},X1e=(e,t)=>{var n={};for(var r in e)mK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rw)for(var r of rw(e))t.indexOf(r)<0&&gK.call(e,r)&&(n[r]=e[r]);return n};function J1e(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=X1e(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=Lve(null,{name:u,styles:l,classNames:c,unstyled:f});return L.createElement(ec.Dropdown,Q1e({p:0,onMouseDown:p=>p.preventDefault()},d),L.createElement("div",{style:{maxHeight:i,display:"flex"}},L.createElement(ut,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==Ex?"auto":void 0},"data-combobox-popover":!0,ref:a},L.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Kc({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:g}){return L.createElement(ec,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:g,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Kc.Target=ec.Target;Kc.Dropdown=J1e;var Z1e=Object.defineProperty,ebe=Object.defineProperties,tbe=Object.getOwnPropertyDescriptors,iw=Object.getOwnPropertySymbols,yK=Object.prototype.hasOwnProperty,_K=Object.prototype.propertyIsEnumerable,UF=(e,t,n)=>t in e?Z1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mC=(e,t)=>{for(var n in t||(t={}))yK.call(t,n)&&UF(e,n,t[n]);if(iw)for(var n of iw(t))_K.call(t,n)&&UF(e,n,t[n]);return e},nbe=(e,t)=>ebe(e,tbe(t)),rbe=(e,t)=>{var n={};for(var r in e)yK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iw)for(var r of iw(e))t.indexOf(r)<0&&_K.call(e,r)&&(n[r]=e[r]);return n};function vK(e,t,n){const r=ht(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,wrapperProps:m,id:_,size:v,style:w,inputContainer:T,inputWrapperOrder:E,withAsterisk:x}=r,A=rbe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),M=Uu(_),{systemStyles:D,rest:$}=ah(A);return nbe(mC({},$),{classNames:u,styles:l,unstyled:f,wrapperProps:mC(mC({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,unstyled:f,styles:l,id:M,size:v,style:w,inputContainer:T,inputWrapperOrder:E,withAsterisk:x},m),D),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:M,size:v,__staticSelector:d,invalid:!!o}})}var ibe=lt((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const sbe=ibe;var obe=Object.defineProperty,sw=Object.getOwnPropertySymbols,bK=Object.prototype.hasOwnProperty,EK=Object.prototype.propertyIsEnumerable,VF=(e,t,n)=>t in e?obe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,abe=(e,t)=>{for(var n in t||(t={}))bK.call(t,n)&&VF(e,n,t[n]);if(sw)for(var n of sw(t))EK.call(t,n)&&VF(e,n,t[n]);return e},ube=(e,t)=>{var n={};for(var r in e)bK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sw)for(var r of sw(e))t.indexOf(r)<0&&EK.call(e,r)&&(n[r]=e[r]);return n};const _D=S.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:s,size:o="sm",classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=ube(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:g}=sbe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return L.createElement(ut,abe({component:r,ref:t,className:g(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&L.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});_D.displayName="@mantine/core/InputLabel";var lbe=lt((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const cbe=lbe;var fbe=Object.defineProperty,ow=Object.getOwnPropertySymbols,wK=Object.prototype.hasOwnProperty,SK=Object.prototype.propertyIsEnumerable,zF=(e,t,n)=>t in e?fbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dbe=(e,t)=>{for(var n in t||(t={}))wK.call(t,n)&&zF(e,n,t[n]);if(ow)for(var n of ow(t))SK.call(t,n)&&zF(e,n,t[n]);return e},hbe=(e,t)=>{var n={};for(var r in e)wK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ow)for(var r of ow(e))t.indexOf(r)<0&&SK.call(e,r)&&(n[r]=e[r]);return n};const vD=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=hbe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=cbe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return L.createElement(At,dbe({className:d(f.error,i),ref:t,role:"alert"},c),r)});vD.displayName="@mantine/core/InputError";var pbe=lt((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const mbe=pbe;var gbe=Object.defineProperty,aw=Object.getOwnPropertySymbols,TK=Object.prototype.hasOwnProperty,xK=Object.prototype.propertyIsEnumerable,HF=(e,t,n)=>t in e?gbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ybe=(e,t)=>{for(var n in t||(t={}))TK.call(t,n)&&HF(e,n,t[n]);if(aw)for(var n of aw(t))xK.call(t,n)&&HF(e,n,t[n]);return e},_be=(e,t)=>{var n={};for(var r in e)TK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aw)for(var r of aw(e))t.indexOf(r)<0&&xK.call(e,r)&&(n[r]=e[r]);return n};const bD=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=_be(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=mbe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return L.createElement(At,ybe({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});bD.displayName="@mantine/core/InputDescription";const IK=S.createContext({offsetBottom:!1,offsetTop:!1}),vbe=IK.Provider,bbe=()=>S.useContext(IK);function Ebe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var wbe=Object.defineProperty,Sbe=Object.defineProperties,Tbe=Object.getOwnPropertyDescriptors,WF=Object.getOwnPropertySymbols,xbe=Object.prototype.hasOwnProperty,Ibe=Object.prototype.propertyIsEnumerable,qF=(e,t,n)=>t in e?wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Abe=(e,t)=>{for(var n in t||(t={}))xbe.call(t,n)&&qF(e,n,t[n]);if(WF)for(var n of WF(t))Ibe.call(t,n)&&qF(e,n,t[n]);return e},Cbe=(e,t)=>Sbe(e,Tbe(t)),Obe=lt(e=>({root:Cbe(Abe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const Pbe=Obe;var Rbe=Object.defineProperty,Nbe=Object.defineProperties,kbe=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,AK=Object.prototype.hasOwnProperty,CK=Object.prototype.propertyIsEnumerable,GF=(e,t,n)=>t in e?Rbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vf=(e,t)=>{for(var n in t||(t={}))AK.call(t,n)&&GF(e,n,t[n]);if(uw)for(var n of uw(t))CK.call(t,n)&&GF(e,n,t[n]);return e},YF=(e,t)=>Nbe(e,kbe(t)),Dbe=(e,t)=>{var n={};for(var r in e)AK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uw)for(var r of uw(e))t.indexOf(r)<0&&CK.call(e,r)&&(n[r]=e[r]);return n};const $be={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},OK=S.forwardRef((e,t)=>{const n=ht("InputWrapper",$be,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:g,size:y,inputContainer:m,__staticSelector:_,unstyled:v,inputWrapperOrder:w,withAsterisk:T}=n,E=Dbe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:x,cx:A}=Pbe(null,{classNames:p,styles:g,name:["InputWrapper",_],unstyled:v}),M={classNames:p,styles:g,unstyled:v,size:y,__staticSelector:_},D=typeof T=="boolean"?T:o,$=i&&L.createElement(_D,Vf(Vf({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:D},M),f),i),W=l&&L.createElement(bD,YF(Vf(Vf({key:"description"},d),M),{size:(d==null?void 0:d.size)||M.size}),l),q=L.createElement(S.Fragment,{key:"input"},m(s)),H=typeof u!="boolean"&&u&&L.createElement(vD,YF(Vf(Vf({},h),M),{size:(h==null?void 0:h.size)||M.size,key:"error"}),u),de=w.map(ae=>{switch(ae){case"label":return $;case"input":return q;case"description":return W;case"error":return H;default:return null}});return L.createElement(vbe,{value:Ebe(w,{hasDescription:!!W,hasError:!!H})},L.createElement(ut,Vf({className:A(x.root,r),ref:t},E),de))});OK.displayName="@mantine/core/InputWrapper";var Lbe=Object.defineProperty,Mbe=Object.defineProperties,Fbe=Object.getOwnPropertyDescriptors,KF=Object.getOwnPropertySymbols,Bbe=Object.prototype.hasOwnProperty,jbe=Object.prototype.propertyIsEnumerable,QF=(e,t,n)=>t in e?Lbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gC=(e,t)=>{for(var n in t||(t={}))Bbe.call(t,n)&&QF(e,n,t[n]);if(KF)for(var n of KF(t))jbe.call(t,n)&&QF(e,n,t[n]);return e},XF=(e,t)=>Mbe(e,Fbe(t));const Ps={xs:30,sm:36,md:42,lg:50,xl:60};function Ube({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var Vbe=lt((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Ps}),paddingLeft:e.fn.size({size:t,sizes:Ps})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Ps})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:gC(XF(gC(XF(gC({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Ps}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Ps})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),Ube({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Ps})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Ps}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}});const zbe=Vbe;var Hbe=Object.defineProperty,Wbe=Object.defineProperties,qbe=Object.getOwnPropertyDescriptors,lw=Object.getOwnPropertySymbols,PK=Object.prototype.hasOwnProperty,RK=Object.prototype.propertyIsEnumerable,JF=(e,t,n)=>t in e?Hbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d1=(e,t)=>{for(var n in t||(t={}))PK.call(t,n)&&JF(e,n,t[n]);if(lw)for(var n of lw(t))RK.call(t,n)&&JF(e,n,t[n]);return e},ZF=(e,t)=>Wbe(e,qbe(t)),Gbe=(e,t)=>{var n={};for(var r in e)PK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lw)for(var r of lw(e))t.indexOf(r)<0&&RK.call(e,r)&&(n[r]=e[r]);return n};const Ybe={rightSectionWidth:36,size:"sm",variant:"default"},Hm=S.forwardRef((e,t)=>{const n=ht("Input",Ybe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:g,wrapperProps:y,classNames:m,styles:_,__staticSelector:v,multiline:w,sx:T,unstyled:E,pointer:x}=n,A=Gbe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:M,offsetTop:D}=bbe(),{classes:$,cx:W}=zbe({radius:p,size:g,multiline:w,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:M,offsetTop:D,pointer:x},{classNames:m,styles:_,name:["Input",v],unstyled:E}),{systemStyles:q,rest:H}=ah(A);return L.createElement(ut,d1(d1({className:W($.wrapper,r),sx:T,style:l},q),y),u&&L.createElement("div",{className:$.icon},u),L.createElement(ut,ZF(d1({component:"input"},H),{ref:t,required:s,"aria-invalid":i,disabled:o,className:W($[`${a}Variant`],$.input,{[$.withIcon]:u,[$.invalid]:i,[$.disabled]:o})})),d&&L.createElement("div",ZF(d1({},h),{className:$.rightSection}),d))});Hm.displayName="@mantine/core/Input";Hm.Wrapper=OK;Hm.Label=_D;Hm.Description=bD;Hm.Error=vD;const po=Hm;var Kbe=Object.defineProperty,Qbe=Object.defineProperties,Xbe=Object.getOwnPropertyDescriptors,e8=Object.getOwnPropertySymbols,Jbe=Object.prototype.hasOwnProperty,Zbe=Object.prototype.propertyIsEnumerable,t8=(e,t,n)=>t in e?Kbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yC=(e,t)=>{for(var n in t||(t={}))Jbe.call(t,n)&&t8(e,n,t[n]);if(e8)for(var n of e8(t))Zbe.call(t,n)&&t8(e,n,t[n]);return e},eEe=(e,t)=>Qbe(e,Xbe(t));const _C={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},tEe={xs:4,sm:4,md:6,lg:8,xl:10};function nEe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:tEe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var rEe=lt((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in _C?_C[n]:_C.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:yC(eEe(yC(yC({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),nEe({theme:e,variant:o,color:t,size:n,gradient:i}))}});const iEe=rEe;var sEe=Object.defineProperty,cw=Object.getOwnPropertySymbols,NK=Object.prototype.hasOwnProperty,kK=Object.prototype.propertyIsEnumerable,n8=(e,t,n)=>t in e?sEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oEe=(e,t)=>{for(var n in t||(t={}))NK.call(t,n)&&n8(e,n,t[n]);if(cw)for(var n of cw(t))kK.call(t,n)&&n8(e,n,t[n]);return e},aEe=(e,t)=>{var n={};for(var r in e)NK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cw)for(var r of cw(e))t.indexOf(r)<0&&kK.call(e,r)&&(n[r]=e[r]);return n};const uEe={variant:"light",size:"md",radius:"xl"},DK=S.forwardRef((e,t)=>{const n=ht("Badge",uEe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:g}=n,y=aEe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:_}=iEe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:g});return L.createElement(ut,oEe({className:_(m.root,r),ref:t},y),l&&L.createElement("span",{className:m.leftSection},l),L.createElement("span",{className:m.inner},a),c&&L.createElement("span",{className:m.rightSection},c))});DK.displayName="@mantine/core/Badge";const lEe=DK;var cEe=lt((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const fEe=cEe;var dEe=Object.defineProperty,fw=Object.getOwnPropertySymbols,$K=Object.prototype.hasOwnProperty,LK=Object.prototype.propertyIsEnumerable,r8=(e,t,n)=>t in e?dEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hEe=(e,t)=>{for(var n in t||(t={}))$K.call(t,n)&&r8(e,n,t[n]);if(fw)for(var n of fw(t))LK.call(t,n)&&r8(e,n,t[n]);return e},pEe=(e,t)=>{var n={};for(var r in e)$K.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fw)for(var r of fw(e))t.indexOf(r)<0&&LK.call(e,r)&&(n[r]=e[r]);return n};const mEe={orientation:"horizontal",buttonBorderWidth:1},MK=S.forwardRef((e,t)=>{const n=ht("ButtonGroup",mEe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=pEe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=fEe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return L.createElement(ut,hEe({className:l(u.root,r),ref:t},a))});MK.displayName="@mantine/core/ButtonGroup";var gEe=Object.defineProperty,yEe=Object.defineProperties,_Ee=Object.getOwnPropertyDescriptors,i8=Object.getOwnPropertySymbols,vEe=Object.prototype.hasOwnProperty,bEe=Object.prototype.propertyIsEnumerable,s8=(e,t,n)=>t in e?gEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,td=(e,t)=>{for(var n in t||(t={}))vEe.call(t,n)&&s8(e,n,t[n]);if(i8)for(var n of i8(t))bEe.call(t,n)&&s8(e,n,t[n]);return e},A2=(e,t)=>yEe(e,_Ee(t));const C2={xs:{height:Ps.xs,paddingLeft:14,paddingRight:14},sm:{height:Ps.sm,paddingLeft:18,paddingRight:18},md:{height:Ps.md,paddingLeft:22,paddingRight:22},lg:{height:Ps.lg,paddingLeft:26,paddingRight:26},xl:{height:Ps.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function EEe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return C2[`compact-${t}`];const i=C2[t];return A2(td({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const wEe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function SEe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:td({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var TEe=lt((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:A2(td(A2(td(td(td(td({},EEe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),wEe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),SEe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const xEe=TEe;var IEe=Object.defineProperty,dw=Object.getOwnPropertySymbols,FK=Object.prototype.hasOwnProperty,BK=Object.prototype.propertyIsEnumerable,o8=(e,t,n)=>t in e?IEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a8=(e,t)=>{for(var n in t||(t={}))FK.call(t,n)&&o8(e,n,t[n]);if(dw)for(var n of dw(t))BK.call(t,n)&&o8(e,n,t[n]);return e},AEe=(e,t)=>{var n={};for(var r in e)FK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dw)for(var r of dw(e))t.indexOf(r)<0&&BK.call(e,r)&&(n[r]=e[r]);return n};const CEe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},ED=S.forwardRef((e,t)=>{const n=ht("Button",CEe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:g,loading:y,loaderPosition:m,loaderProps:_,gradient:v,classNames:w,styles:T,unstyled:E}=n,x=AEe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:A,cx:M,theme:D}=xEe({radius:h,color:s,size:i,fullWidth:f,compact:g,gradient:v,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:E,classNames:w,styles:T}),$=D.fn.variant({color:s,variant:d}),W=L.createElement(uh,a8({color:$.color,size:D.fn.size({size:i,sizes:C2}).height/2},_));return L.createElement(iD,a8({className:M(A.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:E},x),L.createElement("div",{className:A.inner},(l||y&&m==="left")&&L.createElement("span",{className:M(A.icon,A.leftIcon)},y&&m==="left"?W:l),y&&m==="center"&&L.createElement("span",{className:A.centerLoader},W),L.createElement("span",{className:A.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&m==="right")&&L.createElement("span",{className:M(A.icon,A.rightIcon)},y&&m==="right"?W:c)))});ED.displayName="@mantine/core/Button";ED.Group=MK;const Qo=ED;var OEe=lt((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const PEe=OEe;var REe=Object.defineProperty,hw=Object.getOwnPropertySymbols,jK=Object.prototype.hasOwnProperty,UK=Object.prototype.propertyIsEnumerable,u8=(e,t,n)=>t in e?REe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NEe=(e,t)=>{for(var n in t||(t={}))jK.call(t,n)&&u8(e,n,t[n]);if(hw)for(var n of hw(t))UK.call(t,n)&&u8(e,n,t[n]);return e},kEe=(e,t)=>{var n={};for(var r in e)jK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hw)for(var r of hw(e))t.indexOf(r)<0&&UK.call(e,r)&&(n[r]=e[r]);return n};const DEe={},VK=S.forwardRef((e,t)=>{const n=ht("Paper",DEe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=kEe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=PEe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return L.createElement(ut,NEe({className:f(c.root,r),ref:t},l),i)});VK.displayName="@mantine/core/Paper";const V0=VK,zK=S.createContext({padding:0}),$Ee=zK.Provider,LEe=()=>S.useContext(zK).padding;var MEe=lt((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const FEe=MEe;var BEe=Object.defineProperty,pw=Object.getOwnPropertySymbols,HK=Object.prototype.hasOwnProperty,WK=Object.prototype.propertyIsEnumerable,l8=(e,t,n)=>t in e?BEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jEe=(e,t)=>{for(var n in t||(t={}))HK.call(t,n)&&l8(e,n,t[n]);if(pw)for(var n of pw(t))WK.call(t,n)&&l8(e,n,t[n]);return e},UEe=(e,t)=>{var n={};for(var r in e)HK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pw)for(var r of pw(e))t.indexOf(r)<0&&WK.call(e,r)&&(n[r]=e[r]);return n};const qK=S.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:s=!1,unstyled:o}=n,a=UEe(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:u,cx:l}=FEe({padding:LEe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return L.createElement(ut,jEe({className:l(u.cardSection,r),ref:t},a))});qK.displayName="@mantine/core/CardSection";const GK=qK;var VEe=lt(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const zEe=VEe;var HEe=Object.defineProperty,mw=Object.getOwnPropertySymbols,YK=Object.prototype.hasOwnProperty,KK=Object.prototype.propertyIsEnumerable,c8=(e,t,n)=>t in e?HEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WEe=(e,t)=>{for(var n in t||(t={}))YK.call(t,n)&&c8(e,n,t[n]);if(mw)for(var n of mw(t))KK.call(t,n)&&c8(e,n,t[n]);return e},qEe=(e,t)=>{var n={};for(var r in e)YK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mw)for(var r of mw(e))t.indexOf(r)<0&&KK.call(e,r)&&(n[r]=e[r]);return n};const GEe={p:"md"},wD=S.forwardRef((e,t)=>{const n=ht("Card",GEe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=qEe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=zEe(null,{name:"Card",unstyled:a}),f=S.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===GK?S.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return L.createElement($Ee,{value:{padding:i}},L.createElement(V0,WEe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});wD.Section=GK;wD.displayName="@mantine/core/Card";const YEe=wD;var KEe=Object.defineProperty,gw=Object.getOwnPropertySymbols,QK=Object.prototype.hasOwnProperty,XK=Object.prototype.propertyIsEnumerable,f8=(e,t,n)=>t in e?KEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QEe=(e,t)=>{for(var n in t||(t={}))QK.call(t,n)&&f8(e,n,t[n]);if(gw)for(var n of gw(t))XK.call(t,n)&&f8(e,n,t[n]);return e},XEe=(e,t)=>{var n={};for(var r in e)QK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gw)for(var r of gw(e))t.indexOf(r)<0&&XK.call(e,r)&&(n[r]=e[r]);return n};const JK=S.forwardRef((e,t)=>{const n=ht("Center",{},e),{inline:r,sx:i}=n,s=XEe(n,["inline","sx"]);return L.createElement(ut,QEe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...jd(i)]},s))});JK.displayName="@mantine/core/Center";const Ud=JK,ZK=S.createContext(null),JEe=ZK.Provider,ZEe=()=>S.useContext(ZK);function ewe(e){return S.Children.toArray(e).filter(Boolean)}const twe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var nwe=lt((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:twe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const rwe=nwe;var iwe=Object.defineProperty,yw=Object.getOwnPropertySymbols,eQ=Object.prototype.hasOwnProperty,tQ=Object.prototype.propertyIsEnumerable,d8=(e,t,n)=>t in e?iwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,swe=(e,t)=>{for(var n in t||(t={}))eQ.call(t,n)&&d8(e,n,t[n]);if(yw)for(var n of yw(t))tQ.call(t,n)&&d8(e,n,t[n]);return e},owe=(e,t)=>{var n={};for(var r in e)eQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yw)for(var r of yw(e))t.indexOf(r)<0&&tQ.call(e,r)&&(n[r]=e[r]);return n};const awe={position:"left",spacing:"md"},yo=S.forwardRef((e,t)=>{const n=ht("Group",awe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=owe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=ewe(o),{classes:h,cx:p}=rwe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return L.createElement(ut,swe({className:p(h.root,r),ref:t},f),d)});yo.displayName="@mantine/core/Group";var uwe=lt((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const lwe=uwe;var cwe=Object.defineProperty,_w=Object.getOwnPropertySymbols,nQ=Object.prototype.hasOwnProperty,rQ=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fwe=(e,t)=>{for(var n in t||(t={}))nQ.call(t,n)&&h8(e,n,t[n]);if(_w)for(var n of _w(t))rQ.call(t,n)&&h8(e,n,t[n]);return e},dwe=(e,t)=>{var n={};for(var r in e)nQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_w)for(var r of _w(e))t.indexOf(r)<0&&rQ.call(e,r)&&(n[r]=e[r]);return n};const hwe={spacing:"md",align:"stretch",justify:"top"},Go=S.forwardRef((e,t)=>{const n=ht("Stack",hwe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=dwe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=lwe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return L.createElement(ut,fwe({className:c(l.root,i),ref:t},u))});Go.displayName="@mantine/core/Stack";function iQ({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?L.createElement(yo,{pt:t,spacing:e,role:i,unstyled:s},r):L.createElement(Go,{pt:t,spacing:e,role:i,unstyled:s},r)}var pwe=Object.defineProperty,vw=Object.getOwnPropertySymbols,sQ=Object.prototype.hasOwnProperty,oQ=Object.prototype.propertyIsEnumerable,p8=(e,t,n)=>t in e?pwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m8=(e,t)=>{for(var n in t||(t={}))sQ.call(t,n)&&p8(e,n,t[n]);if(vw)for(var n of vw(t))oQ.call(t,n)&&p8(e,n,t[n]);return e},mwe=(e,t)=>{var n={};for(var r in e)sQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vw)for(var r of vw(e))t.indexOf(r)<0&&oQ.call(e,r)&&(n[r]=e[r]);return n};const gwe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},aQ=S.forwardRef((e,t)=>{const n=ht("CheckboxGroup",gwe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=mwe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=$a({value:i,defaultValue:s,finalValue:[],onChange:o}),g=y=>{const m=y.currentTarget.value;p(h.includes(m)?h.filter(_=>_!==m):[...h,m])};return L.createElement(JEe,{value:{value:h,onChange:g,size:l}},L.createElement(po.Wrapper,m8(m8({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),L.createElement(iQ,{spacing:u,orientation:a,offset:f},r)))});aQ.displayName="@mantine/core/CheckboxGroup";var ywe=Object.defineProperty,bw=Object.getOwnPropertySymbols,uQ=Object.prototype.hasOwnProperty,lQ=Object.prototype.propertyIsEnumerable,g8=(e,t,n)=>t in e?ywe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O2=(e,t)=>{for(var n in t||(t={}))uQ.call(t,n)&&g8(e,n,t[n]);if(bw)for(var n of bw(t))lQ.call(t,n)&&g8(e,n,t[n]);return e},_we=(e,t)=>{var n={};for(var r in e)uQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bw)for(var r of bw(e))t.indexOf(r)<0&&lQ.call(e,r)&&(n[r]=e[r]);return n};function vwe(e){return L.createElement("svg",O2({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function bwe(e){var t=e,{indeterminate:n}=t,r=_we(t,["indeterminate"]);return n?L.createElement("svg",O2({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),L.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):L.createElement(vwe,O2({},r))}var Ewe=Object.defineProperty,wwe=Object.defineProperties,Swe=Object.getOwnPropertyDescriptors,y8=Object.getOwnPropertySymbols,Twe=Object.prototype.hasOwnProperty,xwe=Object.prototype.propertyIsEnumerable,_8=(e,t,n)=>t in e?Ewe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iwe=(e,t)=>{for(var n in t||(t={}))Twe.call(t,n)&&_8(e,n,t[n]);if(y8)for(var n of y8(t))xwe.call(t,n)&&_8(e,n,t[n]);return e},Awe=(e,t)=>wwe(e,Swe(t));const Cwe={xs:16,sm:20,md:24,lg:30,xl:36},Owe={xs:8,sm:10,md:14,lg:16,xl:20};var Pwe=lt((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:Cwe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:Owe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:Awe(Iwe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const Rwe=Pwe;var Nwe=Object.defineProperty,kwe=Object.defineProperties,Dwe=Object.getOwnPropertyDescriptors,v8=Object.getOwnPropertySymbols,$we=Object.prototype.hasOwnProperty,Lwe=Object.prototype.propertyIsEnumerable,b8=(e,t,n)=>t in e?Nwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mwe=(e,t)=>{for(var n in t||(t={}))$we.call(t,n)&&b8(e,n,t[n]);if(v8)for(var n of v8(t))Lwe.call(t,n)&&b8(e,n,t[n]);return e},Fwe=(e,t)=>kwe(e,Dwe(t));const Bwe={xs:16,sm:20,md:24,lg:30,xl:36};var jwe=lt((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:Fwe(Mwe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:Bwe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const Uwe=jwe;var Vwe=Object.defineProperty,Ew=Object.getOwnPropertySymbols,cQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,E8=(e,t,n)=>t in e?Vwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zwe=(e,t)=>{for(var n in t||(t={}))cQ.call(t,n)&&E8(e,n,t[n]);if(Ew)for(var n of Ew(t))fQ.call(t,n)&&E8(e,n,t[n]);return e},Hwe=(e,t)=>{var n={};for(var r in e)cQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ew)for(var r of Ew(e))t.indexOf(r)<0&&fQ.call(e,r)&&(n[r]=e[r]);return n};function SD(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,g=Hwe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:m}=Uwe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return L.createElement(ut,zwe({className:m(y.root,r)},g),L.createElement("div",{className:m(y.body)},a,L.createElement("div",{className:y.labelWrapper},u&&L.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&L.createElement(po.Description,{className:y.description},l),d&&d!=="boolean"&&L.createElement(po.Error,{className:y.error},d))))}SD.displayName="@mantine/core/InlineInput";var Wwe=Object.defineProperty,ww=Object.getOwnPropertySymbols,dQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,w8=(e,t,n)=>t in e?Wwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h1=(e,t)=>{for(var n in t||(t={}))dQ.call(t,n)&&w8(e,n,t[n]);if(ww)for(var n of ww(t))hQ.call(t,n)&&w8(e,n,t[n]);return e},qwe=(e,t)=>{var n={};for(var r in e)dQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ww)for(var r of ww(e))t.indexOf(r)<0&&hQ.call(e,r)&&(n[r]=e[r]);return n};const Gwe={size:"sm",transitionDuration:100,icon:bwe,labelPosition:"right"},Sw=S.forwardRef((e,t)=>{const n=ht("Checkbox",Gwe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:g,classNames:y,styles:m,transitionDuration:_,icon:v,unstyled:w,labelPosition:T,description:E,error:x}=n,A=qwe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),M=ZEe(),D=Uu(f),{systemStyles:$,rest:W}=ah(A),{classes:q}=Rwe({size:(M==null?void 0:M.size)||d,radius:h,color:u,transitionDuration:_,labelPosition:T,error:!!x,indeterminate:c},{name:"Checkbox",classNames:y,styles:m,unstyled:w}),H=M?{checked:M.value.includes(W.value),onChange:M.onChange}:{};return L.createElement(SD,h1(h1({className:r,sx:s,style:i,id:D,size:(M==null?void 0:M.size)||d,labelPosition:T,label:l,description:E,error:x,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:m,unstyled:w,"data-checked":H.checked||void 0},$),p),L.createElement("div",{className:q.inner},L.createElement("input",h1(h1({id:D,ref:t,type:"checkbox",className:q.input,checked:o,disabled:a},W),H)),L.createElement(v,{indeterminate:c,className:q.icon})))});Sw.displayName="@mantine/core/Checkbox";Sw.Group=aQ;var Ywe=lt((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const Kwe=Ywe;var Qwe=Object.defineProperty,Tw=Object.getOwnPropertySymbols,pQ=Object.prototype.hasOwnProperty,mQ=Object.prototype.propertyIsEnumerable,S8=(e,t,n)=>t in e?Qwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xwe=(e,t)=>{for(var n in t||(t={}))pQ.call(t,n)&&S8(e,n,t[n]);if(Tw)for(var n of Tw(t))mQ.call(t,n)&&S8(e,n,t[n]);return e},Jwe=(e,t)=>{var n={};for(var r in e)pQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Tw)for(var r of Tw(e))t.indexOf(r)<0&&mQ.call(e,r)&&(n[r]=e[r]);return n};const Zwe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},gQ=S.forwardRef((e,t)=>{const n=ht("Container",Zwe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=Jwe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=Kwe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return L.createElement(ut,Xwe({className:c(l.root,r),ref:t},u))});gQ.displayName="@mantine/core/Container";function yQ({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=aK({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?L.createElement(L.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,g)=>(p[g]=oK({duration:e[g].duration,transition:e[g].transition,timingFunction:e[g].timingFunction||d,state:f}),p),{});return L.createElement(L.Fragment,null,i(h))}yQ.displayName="@mantine/core/GroupedTransition";var eSe=lt((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const tSe=eSe;var nSe=Object.defineProperty,rSe=Object.defineProperties,iSe=Object.getOwnPropertyDescriptors,xw=Object.getOwnPropertySymbols,_Q=Object.prototype.hasOwnProperty,vQ=Object.prototype.propertyIsEnumerable,T8=(e,t,n)=>t in e?nSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vC=(e,t)=>{for(var n in t||(t={}))_Q.call(t,n)&&T8(e,n,t[n]);if(xw)for(var n of xw(t))vQ.call(t,n)&&T8(e,n,t[n]);return e},sSe=(e,t)=>rSe(e,iSe(t)),oSe=(e,t)=>{var n={};for(var r in e)_Q.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xw)for(var r of xw(e))t.indexOf(r)<0&&vQ.call(e,r)&&(n[r]=e[r]);return n};const aSe={opacity:.6,color:"#fff",zIndex:Io("modal"),radius:0,blur:0},bQ=S.forwardRef((e,t)=>{const n=ht("Overlay",aSe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=oSe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=tSe({zIndex:a},{name:"Overlay",unstyled:c}),g=o?{backgroundImage:o}:{backgroundColor:s},y=m=>L.createElement(ut,vC({ref:t,className:p(h.root,f),sx:[_=>sSe(vC({},g),{opacity:r,borderRadius:_.fn.size({size:u,sizes:_.radius})}),...jd(l)]},m));return i?L.createElement(ut,vC({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...jd(l)]},d),y()):y(d)});bQ.displayName="@mantine/core/Overlay";const uSe=bQ,lSe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var cSe=Object.defineProperty,fSe=Object.defineProperties,dSe=Object.getOwnPropertyDescriptors,Iw=Object.getOwnPropertySymbols,EQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,x8=(e,t,n)=>t in e?cSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hSe=(e,t)=>{for(var n in t||(t={}))EQ.call(t,n)&&x8(e,n,t[n]);if(Iw)for(var n of Iw(t))wQ.call(t,n)&&x8(e,n,t[n]);return e},pSe=(e,t)=>fSe(e,dSe(t)),mSe=(e,t)=>{var n={};for(var r in e)EQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Iw)for(var r of Iw(e))t.indexOf(r)<0&&wQ.call(e,r)&&(n[r]=e[r]);return n};const gSe={},rm=S.forwardRef((e,t)=>{const n=ht("Flex",gSe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=mSe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return L.createElement(ut,pSe(hSe({},f),{sx:[{display:"flex"},d=>v2({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,lSe),...jd(c)],ref:t}))});rm.displayName="@mantine/core/Flex";const SQ=S.createContext(null),ySe=SQ.Provider,_Se=()=>S.useContext(SQ);var vSe=Object.defineProperty,I8=Object.getOwnPropertySymbols,bSe=Object.prototype.hasOwnProperty,ESe=Object.prototype.propertyIsEnumerable,A8=(e,t,n)=>t in e?vSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wSe=(e,t)=>{for(var n in t||(t={}))bSe.call(t,n)&&A8(e,n,t[n]);if(I8)for(var n of I8(t))ESe.call(t,n)&&A8(e,n,t[n]);return e};const TD=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,TQ=(e,t,n)=>n||e==="auto"||e==="content"?"unset":TD(e,t),xQ=(e,t)=>{if(e)return e==="auto"||t?1:0},IQ=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function SSe({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:s}){return bpe.reduce((o,a)=>(o[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:TD(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:TQ(e[a],i,s),marginLeft:IQ(t[a],i),flexGrow:xQ(e[a],s)},o),{})}var TSe=lt((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:s,offsetMd:o,offsetLg:a,offsetXl:u,columns:l,span:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:w,orderXl:T})=>({root:wSe({boxSizing:"border-box",flexGrow:xQ(c,n),order:y,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:IQ(r,l),flexBasis:TD(c,l),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:TQ(c,l,n)},SSe({sizes:{xs:f,sm:d,md:h,lg:p,xl:g},offsets:{xs:i,sm:s,md:o,lg:a,xl:u},orders:{xs:m,sm:_,md:v,lg:w,xl:T},theme:e,columns:l,grow:n}))}));const xSe=TSe;var ISe=Object.defineProperty,Aw=Object.getOwnPropertySymbols,AQ=Object.prototype.hasOwnProperty,CQ=Object.prototype.propertyIsEnumerable,C8=(e,t,n)=>t in e?ISe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ASe=(e,t)=>{for(var n in t||(t={}))AQ.call(t,n)&&C8(e,n,t[n]);if(Aw)for(var n of Aw(t))CQ.call(t,n)&&C8(e,n,t[n]);return e},CSe=(e,t)=>{var n={};for(var r in e)AQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Aw)for(var r of Aw(e))t.indexOf(r)<0&&CQ.call(e,r)&&(n[r]=e[r]);return n};const OSe={};function PSe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const OQ=S.forwardRef((e,t)=>{const n=ht("Grid.Col",OSe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:w,orderXl:T,className:E,id:x,unstyled:A}=n,M=CSe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),D=_Se();if(!D)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const $=i||D.columns,{classes:W,cx:q}=xSe({gutter:D.gutter,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:w,orderXl:T,grow:D.grow,columns:D.columns,span:$},{unstyled:A,name:"Col"});return!PSe($)||$>D.columns?null:L.createElement(ut,ASe({className:q(W.root,E),ref:t},M),r)});OQ.displayName="@mantine/core/Col";var RSe=lt((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const NSe=RSe;var kSe=Object.defineProperty,Cw=Object.getOwnPropertySymbols,PQ=Object.prototype.hasOwnProperty,RQ=Object.prototype.propertyIsEnumerable,O8=(e,t,n)=>t in e?kSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DSe=(e,t)=>{for(var n in t||(t={}))PQ.call(t,n)&&O8(e,n,t[n]);if(Cw)for(var n of Cw(t))RQ.call(t,n)&&O8(e,n,t[n]);return e},$Se=(e,t)=>{var n={};for(var r in e)PQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cw)for(var r of Cw(e))t.indexOf(r)<0&&RQ.call(e,r)&&(n[r]=e[r]);return n};const LSe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},hl=S.forwardRef((e,t)=>{const n=ht("Grid",LSe,e),{gutter:r,children:i,grow:s,justify:o,align:a,columns:u,className:l,id:c,unstyled:f}=n,d=$Se(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=NSe({gutter:r,justify:o,align:a},{unstyled:f,name:"Grid"});return L.createElement(ySe,{value:{gutter:r,grow:s,columns:u}},L.createElement(ut,DSe({className:p(h.root,l),ref:t},d),i))});hl.Col=OQ;hl.displayName="@mantine/core/Grid";function MSe({open:e,close:t,openDelay:n,closeDelay:r}){const i=S.useRef(-1),s=S.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return S.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var FSe=Object.defineProperty,P8=Object.getOwnPropertySymbols,BSe=Object.prototype.hasOwnProperty,jSe=Object.prototype.propertyIsEnumerable,R8=(e,t,n)=>t in e?FSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,USe=(e,t)=>{for(var n in t||(t={}))BSe.call(t,n)&&R8(e,n,t[n]);if(P8)for(var n of P8(t))jSe.call(t,n)&&R8(e,n,t[n]);return e};function VSe(e){return L.createElement("svg",USe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var zSe=Object.defineProperty,HSe=Object.defineProperties,WSe=Object.getOwnPropertyDescriptors,N8=Object.getOwnPropertySymbols,qSe=Object.prototype.hasOwnProperty,GSe=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?zSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D8=(e,t)=>{for(var n in t||(t={}))qSe.call(t,n)&&k8(e,n,t[n]);if(N8)for(var n of N8(t))GSe.call(t,n)&&k8(e,n,t[n]);return e},$8=(e,t)=>HSe(e,WSe(t)),YSe=lt((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:$8(D8({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:$8(D8({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const KSe=YSe;var QSe=Object.defineProperty,Ow=Object.getOwnPropertySymbols,NQ=Object.prototype.hasOwnProperty,kQ=Object.prototype.propertyIsEnumerable,L8=(e,t,n)=>t in e?QSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bC=(e,t)=>{for(var n in t||(t={}))NQ.call(t,n)&&L8(e,n,t[n]);if(Ow)for(var n of Ow(t))kQ.call(t,n)&&L8(e,n,t[n]);return e},XSe=(e,t)=>{var n={};for(var r in e)NQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ow)for(var r of Ow(e))t.indexOf(r)<0&&kQ.call(e,r)&&(n[r]=e[r]);return n};const JSe={fit:"cover",width:"100%",height:"auto",radius:0},H_=S.forwardRef((e,t)=>{const n=ht("Image",JSe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:g,caption:y,unstyled:m,style:_}=n,v=XSe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:w,cx:T}=KSe({radius:l},{classNames:p,styles:g,unstyled:m,name:"Image"}),[E,x]=S.useState(!s),A=f&&E;return ho(()=>{x(!1)},[s]),L.createElement(ut,bC({className:T(w.root,r),ref:t,style:bC({width:a},_)},v),L.createElement("figure",{className:w.figure},L.createElement("div",{className:w.imageWrapper},L.createElement("img",bC({className:w.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:M=>{x(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(M)}},c)),A&&L.createElement("div",{className:w.placeholder,title:i},d||L.createElement("div",null,L.createElement(VSe,{style:{width:40,height:40}})))),!!y&&L.createElement(At,{component:"figcaption",size:"sm",align:"center",className:w.caption},y)))});H_.displayName="@mantine/core/Image";function ZSe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var eTe=S.useLayoutEffect,tTe=function(t){var n=S.useRef(t);return eTe(function(){n.current=t}),n},M8=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},nTe=function(t,n){var r=S.useRef();return S.useCallback(function(i){t.current=i,r.current&&M8(r.current,null),r.current=n,n&&M8(n,i)},[n])},F8={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},B8=function(t){Object.keys(F8).forEach(function(n){t.style.setProperty(n,F8[n],"important")})},Js=null,rTe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function iTe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Js||(Js=document.createElement("textarea"),Js.setAttribute("tabindex","-1"),Js.setAttribute("aria-hidden","true"),B8(Js)),Js.parentNode===null&&document.body.appendChild(Js);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;Js.style[h]=o[h]}),B8(Js),Js.value=t;var u=rTe(Js,e);Js.value="x";var l=Js.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var j8=function(){},sTe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},oTe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],aTe=!!document.documentElement.currentStyle,uTe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=sTe(oTe,n),i=r.boxSizing;if(i==="")return null;aTe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},lTe=function(t){var n=tTe(t);S.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},cTe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?j8:o,u=t.onHeightChange,l=u===void 0?j8:u,c=ZSe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=S.useRef(null),h=nTe(d,n),p=S.useRef(0),g=S.useRef(),y=function(){var v=d.current,w=r&&g.current?g.current:uTe(v);if(w){g.current=w;var T=iTe(w,v.value||v.placeholder||"x",s,i),E=T[0],x=T[1];p.current!==E&&(p.current=E,v.style.setProperty("height",E+"px","important"),l(E,{rowHeight:x}))}},m=function(v){f||y(),a(v)};return S.useLayoutEffect(y),lTe(y),S.createElement("textarea",cr({},c,{onChange:m,ref:h}))},fTe=S.forwardRef(cTe);const dTe=fTe;var hTe=lt(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const pTe=hTe;var mTe=Object.defineProperty,gTe=Object.defineProperties,yTe=Object.getOwnPropertyDescriptors,Pw=Object.getOwnPropertySymbols,DQ=Object.prototype.hasOwnProperty,$Q=Object.prototype.propertyIsEnumerable,U8=(e,t,n)=>t in e?mTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oh=(e,t)=>{for(var n in t||(t={}))DQ.call(t,n)&&U8(e,n,t[n]);if(Pw)for(var n of Pw(t))$Q.call(t,n)&&U8(e,n,t[n]);return e},EC=(e,t)=>gTe(e,yTe(t)),_Te=(e,t)=>{var n={};for(var r in e)DQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pw)for(var r of Pw(e))t.indexOf(r)<0&&$Q.call(e,r)&&(n[r]=e[r]);return n};const vTe={autosize:!1,size:"sm",__staticSelector:"Textarea"},LQ=S.forwardRef((e,t)=>{const n=ht("Textarea",vTe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:g,size:y,__staticSelector:m,sx:_,errorProps:v,descriptionProps:w,labelProps:T,inputWrapperOrder:E,inputContainer:x,unstyled:A,withAsterisk:M}=n,D=_Te(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),$=Uu(l),{classes:W,cx:q}=pTe(),{systemStyles:H,rest:de}=ah(D),ae=Oh({required:f,ref:t,invalid:!!a,id:$,classNames:EC(Oh({},p),{input:q(W.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:y,multiline:!0,unstyled:A},de);return L.createElement(po.Wrapper,Oh(Oh({label:o,error:a,id:$,description:u,required:f,style:d,className:c,classNames:p,styles:g,size:y,__staticSelector:m,sx:_,errorProps:v,labelProps:T,descriptionProps:w,inputContainer:x,inputWrapperOrder:E,unstyled:A,withAsterisk:M},H),h),r?L.createElement(po,EC(Oh({},ae),{component:dTe,maxRows:i,minRows:s})):L.createElement(po,EC(Oh({},ae),{component:"textarea",rows:s})))});LQ.displayName="@mantine/core/Textarea";const MQ=S.createContext(null);function bTe(){return S.useContext(MQ)||{}}var ETe=lt((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const wTe=ETe;var STe=Object.defineProperty,Rw=Object.getOwnPropertySymbols,FQ=Object.prototype.hasOwnProperty,BQ=Object.prototype.propertyIsEnumerable,V8=(e,t,n)=>t in e?STe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TTe=(e,t)=>{for(var n in t||(t={}))FQ.call(t,n)&&V8(e,n,t[n]);if(Rw)for(var n of Rw(t))BQ.call(t,n)&&V8(e,n,t[n]);return e},xTe=(e,t)=>{var n={};for(var r in e)FQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Rw)for(var r of Rw(e))t.indexOf(r)<0&&BQ.call(e,r)&&(n[r]=e[r]);return n};function jQ(e){var t=e,{className:n,children:r,icon:i}=t,s=xTe(t,["className","children","icon"]);const{icon:o,spacing:a,center:u,listStyleType:l,size:c,withPadding:f}=bTe(),{classNames:d,styles:h,unstyled:p}=B_(),g=i||o,{classes:y,cx:m}=wTe({withPadding:f,size:c,listStyleType:l,center:u,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return L.createElement(ut,TTe({component:"li",className:m(y.item,{[y.withIcon]:g},n)},s),L.createElement("div",{className:y.itemWrapper},g&&L.createElement("span",{className:y.itemIcon},g),L.createElement("span",null,r)))}jQ.displayName="@mantine/core/ListItem";var ITe=Object.defineProperty,ATe=Object.defineProperties,CTe=Object.getOwnPropertyDescriptors,z8=Object.getOwnPropertySymbols,OTe=Object.prototype.hasOwnProperty,PTe=Object.prototype.propertyIsEnumerable,H8=(e,t,n)=>t in e?ITe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RTe=(e,t)=>{for(var n in t||(t={}))OTe.call(t,n)&&H8(e,n,t[n]);if(z8)for(var n of z8(t))PTe.call(t,n)&&H8(e,n,t[n]);return e},NTe=(e,t)=>ATe(e,CTe(t)),kTe=lt((e,{withPadding:t,size:n,listStyleType:r})=>({root:NTe(RTe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const DTe=kTe;var $Te=Object.defineProperty,Nw=Object.getOwnPropertySymbols,UQ=Object.prototype.hasOwnProperty,VQ=Object.prototype.propertyIsEnumerable,W8=(e,t,n)=>t in e?$Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LTe=(e,t)=>{for(var n in t||(t={}))UQ.call(t,n)&&W8(e,n,t[n]);if(Nw)for(var n of Nw(t))VQ.call(t,n)&&W8(e,n,t[n]);return e},MTe=(e,t)=>{var n={};for(var r in e)UQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Nw)for(var r of Nw(e))t.indexOf(r)<0&&VQ.call(e,r)&&(n[r]=e[r]);return n};const FTe={type:"unordered",size:"md",spacing:0},im=S.forwardRef((e,t)=>{const n=ht("List",FTe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,g=MTe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:m}=DTe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return L.createElement(lG,{classNames:h,styles:d,unstyled:p},L.createElement(MQ.Provider,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a}},L.createElement(ut,LTe({component:i==="unordered"?"ul":"ol",className:m(y.root,f),ref:t},g),r)))});im.Item=jQ;im.displayName="@mantine/core/List";var BTe=lt(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const jTe=BTe;var UTe=Object.defineProperty,kw=Object.getOwnPropertySymbols,zQ=Object.prototype.hasOwnProperty,HQ=Object.prototype.propertyIsEnumerable,q8=(e,t,n)=>t in e?UTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VTe=(e,t)=>{for(var n in t||(t={}))zQ.call(t,n)&&q8(e,n,t[n]);if(kw)for(var n of kw(t))HQ.call(t,n)&&q8(e,n,t[n]);return e},zTe=(e,t)=>{var n={};for(var r in e)zQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kw)for(var r of kw(e))t.indexOf(r)<0&&HQ.call(e,r)&&(n[r]=e[r]);return n};function WQ(e){var t=e,{children:n,className:r}=t,i=zTe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=B_(),{classes:u,cx:l}=jTe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return L.createElement(ut,VTe({className:l(u.divider,r)},i))}WQ.displayName="@mantine/core/MenuDivider";const qQ={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[HTe,xD]=Lq(qQ.context);var WTe=Object.defineProperty,Dw=Object.getOwnPropertySymbols,GQ=Object.prototype.hasOwnProperty,YQ=Object.prototype.propertyIsEnumerable,G8=(e,t,n)=>t in e?WTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qTe=(e,t)=>{for(var n in t||(t={}))GQ.call(t,n)&&G8(e,n,t[n]);if(Dw)for(var n of Dw(t))YQ.call(t,n)&&G8(e,n,t[n]);return e},GTe=(e,t)=>{var n={};for(var r in e)GQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Dw)for(var r of Dw(e))t.indexOf(r)<0&&YQ.call(e,r)&&(n[r]=e[r]);return n};function KQ(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=GTe(t,["children","onMouseEnter","onMouseLeave"]);const o=S.useRef(),a=xD(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=dl(r,()=>a.trigger==="hover"&&a.openDropdown()),c=dl(i,()=>a.trigger==="hover"&&a.closeDropdown());return L.createElement(ec.Dropdown,qTe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),L.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}KQ.displayName="@mantine/core/MenuDropdown";var YTe=Object.defineProperty,KTe=Object.defineProperties,QTe=Object.getOwnPropertyDescriptors,Y8=Object.getOwnPropertySymbols,XTe=Object.prototype.hasOwnProperty,JTe=Object.prototype.propertyIsEnumerable,K8=(e,t,n)=>t in e?YTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZTe=(e,t)=>{for(var n in t||(t={}))XTe.call(t,n)&&K8(e,n,t[n]);if(Y8)for(var n of Y8(t))JTe.call(t,n)&&K8(e,n,t[n]);return e},exe=(e,t)=>KTe(e,QTe(t)),txe=lt((e,{color:t,radius:n})=>({item:exe(ZTe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const nxe=txe;var rxe=Object.defineProperty,ixe=Object.defineProperties,sxe=Object.getOwnPropertyDescriptors,$w=Object.getOwnPropertySymbols,QQ=Object.prototype.hasOwnProperty,XQ=Object.prototype.propertyIsEnumerable,Q8=(e,t,n)=>t in e?rxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oxe=(e,t)=>{for(var n in t||(t={}))QQ.call(t,n)&&Q8(e,n,t[n]);if($w)for(var n of $w(t))XQ.call(t,n)&&Q8(e,n,t[n]);return e},axe=(e,t)=>ixe(e,sxe(t)),uxe=(e,t)=>{var n={};for(var r in e)QQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$w)for(var r of $w(e))t.indexOf(r)<0&&XQ.call(e,r)&&(n[r]=e[r]);return n};const JQ=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=uxe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=xD(),{classNames:f,styles:d,unstyled:h}=B_(),{classes:p,cx:g,theme:y}=nxe({radius:c.radius,color:s},{name:"Menu",classNames:f,styles:d,unstyled:h}),m=S.useRef(),_=c.getItemIndex(m.current),v=l,w=dl(v.onMouseLeave,()=>c.setHovered(-1)),T=dl(v.onMouseEnter,()=>c.setHovered(c.getItemIndex(m.current))),E=dl(v.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),x=dl(v.onFocus,()=>c.setHovered(c.getItemIndex(m.current)));return L.createElement(ut,axe(oxe({component:"button",type:"button"},l),{tabIndex:-1,onFocus:x,className:g(p.item,i),ref:na(m,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===_?!0:void 0,onMouseEnter:T,onMouseLeave:w,onClick:E,onKeyDown:jhe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y.dir,orientation:"vertical",onKeyDown:v.onKeydown})}),a&&L.createElement("div",{className:p.itemIcon},a),r&&L.createElement("div",{className:p.itemLabel},r),u&&L.createElement("div",{className:p.itemRightSection},u))});JQ.displayName="@mantine/core/MenuItem";const lxe=JQ;var cxe=lt(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const fxe=cxe;var dxe=Object.defineProperty,Lw=Object.getOwnPropertySymbols,ZQ=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,X8=(e,t,n)=>t in e?dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hxe=(e,t)=>{for(var n in t||(t={}))ZQ.call(t,n)&&X8(e,n,t[n]);if(Lw)for(var n of Lw(t))eX.call(t,n)&&X8(e,n,t[n]);return e},pxe=(e,t)=>{var n={};for(var r in e)ZQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lw)for(var r of Lw(e))t.indexOf(r)<0&&eX.call(e,r)&&(n[r]=e[r]);return n};function tX(e){var t=e,{children:n,className:r}=t,i=pxe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=B_(),{classes:u,cx:l}=fxe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return L.createElement(At,hxe({className:l(u.label,r)},i),n)}tX.displayName="@mantine/core/MenuLabel";var mxe=Object.defineProperty,Mw=Object.getOwnPropertySymbols,nX=Object.prototype.hasOwnProperty,rX=Object.prototype.propertyIsEnumerable,J8=(e,t,n)=>t in e?mxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gxe=(e,t)=>{for(var n in t||(t={}))nX.call(t,n)&&J8(e,n,t[n]);if(Mw)for(var n of Mw(t))rX.call(t,n)&&J8(e,n,t[n]);return e},yxe=(e,t)=>{var n={};for(var r in e)nX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Mw)for(var r of Mw(e))t.indexOf(r)<0&&rX.call(e,r)&&(n[r]=e[r]);return n};const iX=S.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,s=yxe(n,["children","refProp"]);if(!L_(r))throw new Error(qQ.children);const o=xD(),a=dl(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=dl(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=dl(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return L.createElement(ec.Target,gxe({refProp:i,popupType:"menu",ref:t},s),S.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});iX.displayName="@mantine/core/MenuTarget";var _xe=lt({dropdown:{padding:4}});const vxe=_xe;var bxe=Object.defineProperty,Exe=Object.defineProperties,wxe=Object.getOwnPropertyDescriptors,Fw=Object.getOwnPropertySymbols,sX=Object.prototype.hasOwnProperty,oX=Object.prototype.propertyIsEnumerable,Z8=(e,t,n)=>t in e?bxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e9=(e,t)=>{for(var n in t||(t={}))sX.call(t,n)&&Z8(e,n,t[n]);if(Fw)for(var n of Fw(t))oX.call(t,n)&&Z8(e,n,t[n]);return e},t9=(e,t)=>Exe(e,wxe(t)),Sxe=(e,t)=>{var n={};for(var r in e)sX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fw)for(var r of Fw(e))t.indexOf(r)<0&&oX.call(e,r)&&(n[r]=e[r]);return n};const Txe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Bo(e){const t=ht("Menu",Txe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:g,unstyled:y,radius:m}=t,_=Sxe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:v,cx:w}=vxe(),[T,{setHovered:E,resetHovered:x}]=Hhe(),[A,M]=$a({value:s,defaultValue:o,finalValue:!1,onChange:a}),D=()=>{M(!1),A&&(i==null||i())},$=()=>{M(!0),!A&&(r==null||r())},W=()=>A?D():$(),{openDropdown:q,closeDropdown:H}=MSe({open:$,close:D,closeDelay:h,openDelay:d}),de=ae=>Uhe("[data-menu-item]","[data-menu-dropdown]",ae);return ho(()=>{x()},[A]),L.createElement(HTe,{value:{opened:A,toggleDropdown:W,getItemIndex:de,hovered:T,setHovered:E,closeOnItemClick:u,closeDropdown:f==="click"?D:H,openDropdown:f==="click"?$:q,closeDropdownImmediately:D,loop:l,trigger:f,radius:m}},L.createElement(ec,t9(e9({},_),{radius:m,opened:A,onChange:M,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:t9(e9({},p),{dropdown:w(v.dropdown,p==null?void 0:p.dropdown)}),styles:g,unstyled:y,onClose:D,onOpen:$}),n))}Bo.displayName="@mantine/core/Menu";Bo.Item=lxe;Bo.Label=tX;Bo.Dropdown=KQ;Bo.Target=iX;Bo.Divider=WQ;var xxe=Object.defineProperty,n9=Object.getOwnPropertySymbols,Ixe=Object.prototype.hasOwnProperty,Axe=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?xxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cxe=(e,t)=>{for(var n in t||(t={}))Ixe.call(t,n)&&r9(e,n,t[n]);if(n9)for(var n of n9(t))Axe.call(t,n)&&r9(e,n,t[n]);return e};const Oxe={xs:320,sm:380,md:440,lg:620,xl:780};function Pxe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var Rxe=lt((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:Cxe({position:"relative",width:s?"100vw":e.fn.size({sizes:Oxe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},Pxe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const Nxe=Rxe;var kxe=Object.defineProperty,Bw=Object.getOwnPropertySymbols,aX=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,i9=(e,t,n)=>t in e?kxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dxe=(e,t)=>{for(var n in t||(t={}))aX.call(t,n)&&i9(e,n,t[n]);if(Bw)for(var n of Bw(t))uX.call(t,n)&&i9(e,n,t[n]);return e},$xe=(e,t)=>{var n={};for(var r in e)aX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bw)for(var r of Bw(e))t.indexOf(r)<0&&uX.call(e,r)&&(n[r]=e[r]);return n};const Lxe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Io("modal"),exitTransitionDuration:0};function xx(e){const t=ht("Modal",Lxe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:g,padding:y,shadow:m,radius:_,id:v,classNames:w,styles:T,closeOnClickOutside:E,trapFocus:x,closeOnEscape:A,centered:M,target:D,withinPortal:$,zIndex:W,overlayBlur:q,transitionTimingFunction:H,fullScreen:de,unstyled:ae,lockScroll:pe,withFocusReturn:ee}=t,ie=$xe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),K=Uu(v),I=`${K}-title`,C=`${K}-body`,{classes:V,cx:R,theme:P}=Nxe({size:l,overflow:p,centered:M,zIndex:W,fullScreen:de},{unstyled:ae,classNames:w,styles:T,name:"Modal"}),G=gG(x&&r),se=S.useRef(null),ue=na(G,se),he=typeof u=="number"?u:P.colorScheme==="dark"?.85:.75;hge(pe&&r);const fe=Xe=>{!x&&Xe.key==="Escape"&&A&&s()};S.useEffect(()=>{if(!x)return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[x]),dG({opened:r,shouldReturnFocus:x&&ee});const Te=S.useRef(null);_2("mousedown",Xe=>{Te.current=Xe.target});const me=()=>{Te.current===se.current&&E&&s()};return L.createElement(j_,{withinPortal:$,target:D},L.createElement(yQ,{mounted:r,duration:c,exitDuration:f,timingFunction:H,transitions:{modal:{duration:c,transition:g||(de?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},Xe=>L.createElement(L.Fragment,null,L.createElement(ut,Dxe({id:K,className:R(V.root,n)},ie),L.createElement("div",{style:Xe.overlay},L.createElement(uSe,{className:V.overlay,sx:{position:"fixed"},zIndex:0,blur:q,color:h||(P.colorScheme==="dark"?P.colors.dark[9]:P.black),opacity:he,unstyled:ae})),L.createElement("div",{role:"presentation",className:V.inner,onClick:me,onKeyDown:Ge=>{var He;((He=Ge.target)==null?void 0:He.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ge.key==="Escape"&&A&&s()},ref:ue},L.createElement(V0,{className:V.modal,shadow:m,p:y,radius:_,role:"dialog","aria-labelledby":I,"aria-describedby":C,"aria-modal":!0,tabIndex:-1,style:Xe.modal,unstyled:ae,onClick:Ge=>Ge.stopPropagation()},(i||a)&&L.createElement("div",{className:V.header},L.createElement(At,{id:I,className:V.title},i),a&&L.createElement(gx,{iconSize:16,onClick:s,"aria-label":d,className:V.close})),L.createElement("div",{id:C,className:V.body},o)))))))}xx.displayName="@mantine/core/Modal";const Mxe={xs:16,sm:22,md:26,lg:30,xl:36},Fxe={xs:10,sm:12,md:14,lg:16,xl:18};var Bxe=lt((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:Mxe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:Fxe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const jxe=Bxe;var Uxe=Object.defineProperty,jw=Object.getOwnPropertySymbols,lX=Object.prototype.hasOwnProperty,cX=Object.prototype.propertyIsEnumerable,s9=(e,t,n)=>t in e?Uxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vxe=(e,t)=>{for(var n in t||(t={}))lX.call(t,n)&&s9(e,n,t[n]);if(jw)for(var n of jw(t))cX.call(t,n)&&s9(e,n,t[n]);return e},zxe=(e,t)=>{var n={};for(var r in e)lX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jw)for(var r of jw(e))t.indexOf(r)<0&&cX.call(e,r)&&(n[r]=e[r]);return n};const o9={xs:16,sm:22,md:24,lg:26,xl:30};function fX(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=zxe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=jxe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return L.createElement("div",Vxe({className:p(h.defaultValue,s)},d),L.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&L.createElement(gx,{"aria-hidden":!0,onMouseDown:o,size:o9[l],radius:2,color:"blue",variant:"transparent",iconSize:o9[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}fX.displayName="@mantine/core/MultiSelect/DefaultValue";function Hxe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s}){if(!t&&s.length===0)return e;if(!t){const a=[];for(let u=0;u<e.length;u+=1)s.some(l=>l===e[u].value&&!e[u].disabled)||a.push(e[u]);return a}const o=[];for(let a=0;a<e.length&&(i(r,s.some(u=>u===e[a].value&&!e[a].disabled),e[a])&&o.push(e[a]),!(o.length>=n));a+=1);return o}var Wxe=Object.defineProperty,Uw=Object.getOwnPropertySymbols,dX=Object.prototype.hasOwnProperty,hX=Object.prototype.propertyIsEnumerable,a9=(e,t,n)=>t in e?Wxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u9=(e,t)=>{for(var n in t||(t={}))dX.call(t,n)&&a9(e,n,t[n]);if(Uw)for(var n of Uw(t))hX.call(t,n)&&a9(e,n,t[n]);return e},qxe=(e,t)=>{var n={};for(var r in e)dX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Uw)for(var r of Uw(e))t.indexOf(r)<0&&hX.call(e,r)&&(n[r]=e[r]);return n};const Gxe={xs:14,sm:18,md:20,lg:24,xl:28};function Yxe(e){var t=e,{size:n,error:r,style:i}=t,s=qxe(t,["size","error","style"]);const o=ss(),a=o.fn.size({size:n,sizes:Gxe});return L.createElement("svg",u9({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:u9({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),L.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function pX({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?L.createElement(gx,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):L.createElement(Yxe,{error:i,size:r})}pX.displayName="@mantine/core/SelectRightSection";var Kxe=Object.defineProperty,Qxe=Object.defineProperties,Xxe=Object.getOwnPropertyDescriptors,Vw=Object.getOwnPropertySymbols,mX=Object.prototype.hasOwnProperty,gX=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?Kxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wC=(e,t)=>{for(var n in t||(t={}))mX.call(t,n)&&l9(e,n,t[n]);if(Vw)for(var n of Vw(t))gX.call(t,n)&&l9(e,n,t[n]);return e},c9=(e,t)=>Qxe(e,Xxe(t)),Jxe=(e,t)=>{var n={};for(var r in e)mX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vw)for(var r of Vw(e))t.indexOf(r)<0&&gX.call(e,r)&&(n[r]=e[r]);return n};const Zxe={xs:24,sm:30,md:34,lg:44,xl:54};function yX(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=Jxe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:Zxe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&L.createElement(pX,wC({},o)),styles:c9(wC({},a),{rightSection:c9(wC({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var eIe=Object.defineProperty,tIe=Object.defineProperties,nIe=Object.getOwnPropertyDescriptors,f9=Object.getOwnPropertySymbols,rIe=Object.prototype.hasOwnProperty,iIe=Object.prototype.propertyIsEnumerable,d9=(e,t,n)=>t in e?eIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sIe=(e,t)=>{for(var n in t||(t={}))rIe.call(t,n)&&d9(e,n,t[n]);if(f9)for(var n of f9(t))iIe.call(t,n)&&d9(e,n,t[n]);return e},oIe=(e,t)=>tIe(e,nIe(t)),aIe=lt((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Ps})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:oIe(sIe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Ps})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const uIe=aIe;var lIe=Object.defineProperty,cIe=Object.defineProperties,fIe=Object.getOwnPropertyDescriptors,zw=Object.getOwnPropertySymbols,_X=Object.prototype.hasOwnProperty,vX=Object.prototype.propertyIsEnumerable,h9=(e,t,n)=>t in e?lIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ph=(e,t)=>{for(var n in t||(t={}))_X.call(t,n)&&h9(e,n,t[n]);if(zw)for(var n of zw(t))vX.call(t,n)&&h9(e,n,t[n]);return e},p9=(e,t)=>cIe(e,fIe(t)),dIe=(e,t)=>{var n={};for(var r in e)_X.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zw)for(var r of zw(e))t.indexOf(r)<0&&vX.call(e,r)&&(n[r]=e[r]);return n};function hIe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function pIe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function m9(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const mIe={size:"sm",valueComponent:fX,itemComponent:uD,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:hIe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:pIe,switchDirectionOnFlip:!1,zIndex:Io("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},bX=S.forwardRef((e,t)=>{const n=ht("MultiSelect",mIe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:g,onChange:y,valueComponent:m,itemComponent:_,id:v,transition:w,transitionDuration:T,transitionTimingFunction:E,maxDropdownHeight:x,shadow:A,nothingFound:M,onFocus:D,onBlur:$,searchable:W,placeholder:q,filter:H,limit:de,clearSearchOnChange:ae,clearable:pe,clearSearchOnBlur:ee,clearButtonLabel:ie,variant:K,onSearchChange:I,searchValue:C,disabled:V,initiallyOpened:R,radius:P,icon:G,rightSection:se,rightSectionWidth:ue,creatable:he,getCreateLabel:fe,shouldCreate:Te,onCreate:me,sx:Xe,dropdownComponent:Ge,onDropdownClose:He,onDropdownOpen:Le,maxSelectedValues:Ae,withinPortal:Ve,switchDirectionOnFlip:Zt,zIndex:Me,selectOnBlur:Ue,name:bt,dropdownPosition:ze,errorProps:gt,labelProps:Yt,descriptionProps:un,clearButtonTabIndex:Gn,form:ce,positionDependencies:we,onKeyDown:Fe,unstyled:ot,inputContainer:$e,inputWrapperOrder:at,readOnly:Be,withAsterisk:nt}=n,En=dIe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:Wt,cx:Tt,theme:Fn}=uIe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:ot,name:"MultiSelect"}),{systemStyles:wn,rest:fa}=ah(En),fr=S.useRef(),Fi=S.useRef(),br=S.useRef({}),Lr=Uu(v),[dr,Bn]=S.useState(R),[en,oi]=S.useState(-1),[Er,Mr]=S.useState("column"),[vi,bs]=$a({value:C,defaultValue:"",finalValue:void 0,onChange:I}),[X,U]=S.useState(!1),{scrollIntoView:Z,targetRef:ye,scrollableRef:ge}=vG({duration:0,offset:5,cancelable:!1,isList:!0}),Ye=he&&typeof fe=="function";let Se=null;const We=g.map(Qe=>typeof Qe=="string"?{label:Qe,value:Qe}:Qe),ct=Mq({data:We}),[tt,mt]=$a({value:m9(h,g),defaultValue:m9(p,g),finalValue:[],onChange:y}),Lt=S.useRef(!!Ae&&Ae<tt.length),Dn=Qe=>{if(!Be){const zt=tt.filter(zn=>zn!==Qe);mt(zt),Ae&&zt.length<Ae&&(Lt.current=!1)}},pt=Qe=>{bs(Qe.currentTarget.value),!V&&!Lt.current&&W&&Bn(!0)},An=Qe=>{typeof D=="function"&&D(Qe),!V&&!Lt.current&&W&&Bn(!0)},Et=Hxe({data:ct,searchable:W,searchValue:vi,limit:de,filter:H,value:tt}),gn=(Qe,zt,zn)=>{let ai=Qe;for(;zn(ai);)if(ai=zt(ai),!Et[ai].disabled)return ai;return Qe};ho(()=>{oi(-1)},[vi]),ho(()=>{!V&&tt.length>g.length&&Bn(!1),Ae&&tt.length<Ae&&(Lt.current=!1),Ae&&tt.length>=Ae&&(Lt.current=!0,Bn(!1))},[tt]);const er=Qe=>{if(!Be)if(ae&&bs(""),tt.includes(Qe.value))Dn(Qe.value);else{if(Qe.creatable&&typeof me=="function"){const zt=me(Qe.value);typeof zt<"u"&&zt!==null&&mt(typeof zt=="string"?[...tt,zt]:[...tt,zt.value])}else mt([...tt,Qe.value]);tt.length===Ae-1&&(Lt.current=!0,Bn(!1)),en===Et.length-1&&oi(Et.length-2),Et.length===1&&Bn(!1)}},Gr=Qe=>{typeof $=="function"&&$(Qe),Ue&&Et[en]&&dr&&er(Et[en]),ee&&bs(""),Bn(!1)},Rr=Qe=>{if(X||(Fe==null||Fe(Qe),Be)||Qe.key!=="Backspace"&&Ae&&Lt.current)return;const zt=Er==="column",zn=()=>{oi(Es=>{var N;const Q=gn(Es,B=>B+1,B=>B<Et.length-1);return dr&&(ye.current=br.current[(N=Et[Q])==null?void 0:N.value],Z({alignment:zt?"end":"start"})),Q})},ai=()=>{oi(Es=>{var N;const Q=gn(Es,B=>B-1,B=>B>0);return dr&&(ye.current=br.current[(N=Et[Q])==null?void 0:N.value],Z({alignment:zt?"start":"end"})),Q})};switch(Qe.key){case"ArrowUp":{Qe.preventDefault(),Bn(!0),zt?ai():zn();break}case"ArrowDown":{Qe.preventDefault(),Bn(!0),zt?zn():ai();break}case"Enter":{Qe.preventDefault(),Et[en]&&dr?er(Et[en]):Bn(!0);break}case" ":{W||(Qe.preventDefault(),Et[en]&&dr?er(Et[en]):Bn(!0));break}case"Backspace":{tt.length>0&&vi.length===0&&(mt(tt.slice(0,-1)),Bn(!0),Ae&&(Lt.current=!1));break}case"Home":{if(!W){Qe.preventDefault(),dr||Bn(!0);const Es=Et.findIndex(N=>!N.disabled);oi(Es),Z({alignment:zt?"end":"start"})}break}case"End":{if(!W){Qe.preventDefault(),dr||Bn(!0);const Es=Et.map(N=>!!N.disabled).lastIndexOf(!1);oi(Es),Z({alignment:zt?"end":"start"})}break}case"Escape":Bn(!1)}},us=tt.map(Qe=>{let zt=ct.find(zn=>zn.value===Qe&&!zn.disabled);return!zt&&Ye&&(zt={value:Qe,label:Qe}),zt}).filter(Qe=>!!Qe).map(Qe=>L.createElement(m,p9(Ph({},Qe),{variant:K,disabled:V,className:Wt.value,readOnly:Be,onRemove:zt=>{zt.preventDefault(),zt.stopPropagation(),Dn(Qe.value)},key:Qe.value,size:u,styles:f,classNames:c,radius:P}))),bi=()=>{var Qe;bs(""),mt([]),(Qe=fr.current)==null||Qe.focus(),Ae&&(Lt.current=!1)};Ye&&Te(vi,ct)&&(Se=fe(vi),Et.push({label:vi,value:vi,creatable:!0}));const hr=!Be&&(Et.length>0?dr:dr&&!!M);return ho(()=>{const Qe=hr?Le:He;typeof Qe=="function"&&Qe()},[hr]),L.createElement(po.Wrapper,Ph(Ph({required:s,id:Lr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:Xe,errorProps:gt,descriptionProps:un,labelProps:Yt,inputContainer:$e,inputWrapperOrder:at,unstyled:ot,withAsterisk:nt},wn),d),L.createElement(Kc,{opened:hr,transition:w,transitionDuration:T,shadow:"sm",withinPortal:Ve,__staticSelector:"MultiSelect",onDirectionChange:Mr,switchDirectionOnFlip:Zt,zIndex:Me,dropdownPosition:ze,positionDependencies:we,classNames:c,styles:f,unstyled:ot},L.createElement(Kc.Target,null,L.createElement("div",{className:Wt.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":dr&&hr?`${Lr}-items`:null,"aria-controls":Lr,"aria-expanded":dr,onMouseLeave:()=>oi(-1),tabIndex:-1,ref:Fi},L.createElement("input",{type:"hidden",name:bt,value:tt.join(","),form:ce,disabled:V}),L.createElement(po,Ph({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:K,disabled:V,invalid:!!l,required:s,radius:P,icon:G,unstyled:ot,onMouseDown:Qe=>{var zt;Qe.preventDefault(),!V&&!Lt.current&&Bn(!dr),(zt=fr.current)==null||zt.focus()},classNames:p9(Ph({},c),{input:Tt({[Wt.input]:!W},c==null?void 0:c.input)})},yX({theme:Fn,rightSection:se,rightSectionWidth:ue,styles:f,size:u,shouldClear:pe&&tt.length>0,clearButtonLabel:ie,onClear:bi,error:l,disabled:V,clearButtonTabIndex:Gn,readOnly:Be})),L.createElement("div",{className:Wt.values},us,L.createElement("input",Ph({ref:na(t,fr),type:"search",id:Lr,className:Tt(Wt.searchInput,{[Wt.searchInputPointer]:!W,[Wt.searchInputInputHidden]:!dr&&tt.length>0||!W&&tt.length>0,[Wt.searchInputEmpty]:tt.length===0}),onKeyDown:Rr,value:vi,onChange:pt,onFocus:An,onBlur:Gr,readOnly:!W||Lt.current||Be,placeholder:tt.length===0?q:void 0,disabled:V,"data-mantine-stop-propagation":dr,autoComplete:"off",onCompositionStart:()=>U(!0),onCompositionEnd:()=>U(!1)},fa)))))),L.createElement(Kc.Dropdown,{component:Ge||Ex,maxHeight:x,direction:Er,id:Lr,innerRef:ge,__staticSelector:"MultiSelect",classNames:c,styles:f},L.createElement(aD,{data:Et,hovered:en,classNames:c,styles:f,uuid:Lr,__staticSelector:"MultiSelect",onItemHover:oi,onItemSelect:er,itemsRefs:br,itemComponent:_,size:u,nothingFound:M,creatable:he&&!!Se,createLabel:Se,unstyled:ot}))))});bX.displayName="@mantine/core/MultiSelect";const gIe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function g9({direction:e,size:t}){return L.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},L.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const EX={xs:20,sm:24,md:30,lg:34,xl:36};var yIe=lt((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:EX}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const _Ie=yIe;var vIe=Object.defineProperty,bIe=Object.defineProperties,EIe=Object.getOwnPropertyDescriptors,Hw=Object.getOwnPropertySymbols,wX=Object.prototype.hasOwnProperty,SX=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?vIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SC=(e,t)=>{for(var n in t||(t={}))wX.call(t,n)&&y9(e,n,t[n]);if(Hw)for(var n of Hw(t))SX.call(t,n)&&y9(e,n,t[n]);return e},wIe=(e,t)=>bIe(e,EIe(t)),SIe=(e,t)=>{var n={};for(var r in e)wX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hw)for(var r of Hw(e))t.indexOf(r)<0&&SX.call(e,r)&&(n[r]=e[r]);return n};const TIe={type:"text",size:"sm",__staticSelector:"TextInput"},ID=S.forwardRef((e,t)=>{const n=vK("TextInput",TIe,e),{inputProps:r,wrapperProps:i}=n,s=SIe(n,["inputProps","wrapperProps"]);return L.createElement(po.Wrapper,SC({},i),L.createElement(po,wIe(SC(SC({},r),s),{ref:t})))});ID.displayName="@mantine/core/TextInput";var xIe=Object.defineProperty,IIe=Object.defineProperties,AIe=Object.getOwnPropertyDescriptors,Ww=Object.getOwnPropertySymbols,TX=Object.prototype.hasOwnProperty,xX=Object.prototype.propertyIsEnumerable,_9=(e,t,n)=>t in e?xIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CIe=(e,t)=>{for(var n in t||(t={}))TX.call(t,n)&&_9(e,n,t[n]);if(Ww)for(var n of Ww(t))xX.call(t,n)&&_9(e,n,t[n]);return e},OIe=(e,t)=>IIe(e,AIe(t)),PIe=(e,t)=>{var n={};for(var r in e)TX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ww)for(var r of Ww(e))t.indexOf(r)<0&&xX.call(e,r)&&(n[r]=e[r]);return n};const RIe=e=>e||"",NIe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},v9={xs:10,sm:14,md:16,lg:18,xl:20},kIe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:RIe,parser:NIe,type:"text"},IX=S.forwardRef((e,t)=>{const n=ht("NumberInput",kIe,e),{disabled:r,value:i,onChange:s,decimalSeparator:o,min:a,max:u,startValue:l,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:g,onKeyUp:y,hideControls:m,radius:_,variant:v,precision:w,removeTrailingZeros:T,defaultValue:E,noClampOnBlur:x,handlersRef:A,classNames:M,styles:D,size:$,rightSection:W,rightSectionWidth:q,formatter:H,parser:de,inputMode:ae,unstyled:pe,type:ee}=n,ie=PIe(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:K,cx:I,theme:C}=_Ie({radius:_,size:$},{classNames:M,styles:D,unstyled:pe,name:"NumberInput"}),V=$e=>{if($e===void 0)return;let at=$e.toFixed(w);return T&&w>0&&(at=at.replace(new RegExp(`[0]{0,${w}}$`),""),(at.endsWith(".")||at.endsWith(o))&&(at=at.slice(0,-1))),at},[R,P]=S.useState(!1),[G,se]=S.useState(typeof i=="number"?i:typeof E=="number"?E:void 0),ue=typeof i=="number"?i:G,[he,fe]=S.useState(typeof ue=="number"?V(ue):""),Te=S.useRef(),me=$e=>{$e!==G&&!Number.isNaN($e)&&(typeof s=="function"&&s($e),se($e))},Xe=($e="")=>{let at=typeof $e=="number"?String($e):$e;return o&&(at=at.replace(/\./g,o)),H(at)},Ge=$e=>{let at=$e;return o&&(at=at.replace(new RegExp(`\\${o}`,"g"),".")),de(at)},He=typeof a=="number"?a:-1/0,Le=typeof u=="number"?u:1/0,Ae=S.useRef();Ae.current=()=>{var $e,at,Be;if(G===void 0)me(($e=l??a)!=null?$e:0),fe((Be=(at=V(l))!=null?at:V(a))!=null?Be:"0");else{const nt=V(Gc(G+c,He,Le));me(parseFloat(nt)),fe(nt)}};const Ve=S.useRef();Ve.current=()=>{var $e,at,Be;if(G===void 0)me(($e=l??a)!=null?$e:0),fe((Be=(at=V(l))!=null?at:V(a))!=null?Be:"0");else{const nt=V(Gc(G-c,He,Le));me(parseFloat(nt)),fe(nt)}},yG(A,{increment:Ae.current,decrement:Ve.current}),S.useEffect(()=>{typeof i=="number"&&!R&&(se(i),fe(V(i))),E===void 0&&i===void 0&&!R&&(se(i),fe(""))},[i]);const Zt=d!==void 0&&f!==void 0,Me=S.useRef(null),Ue=S.useRef(0),bt=()=>{Me.current&&window.clearTimeout(Me.current),Me.current=null,Ue.current=0},ze=$e=>{$e?Ae.current():Ve.current(),Ue.current+=1},gt=$e=>{if(ze($e),Zt){const at=typeof f=="number"?f:f(Ue.current);Me.current=window.setTimeout(()=>gt($e),at)}},Yt=($e,at)=>{$e.preventDefault(),Te.current.focus(),ze(at),Zt&&(Me.current=window.setTimeout(()=>gt(at),d))};S.useEffect(()=>(bt(),bt),[]);const un=L.createElement("div",{className:K.rightSection},L.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ue>=u,className:I(K.control,K.controlUp),onPointerDown:$e=>{Yt($e,!0)},onPointerUp:bt,onPointerLeave:bt},L.createElement(g9,{size:C.fn.size({size:$,sizes:v9}),direction:"up"})),L.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ue<=a,className:I(K.control,K.controlDown),onPointerDown:$e=>{Yt($e,!1)},onPointerUp:bt,onPointerLeave:bt},L.createElement(g9,{size:C.fn.size({size:$,sizes:v9}),direction:"down"}))),Gn=$e=>{if($e.nativeEvent.isComposing)return;const Be=$e.target.value,nt=Ge(Be);fe(nt),Be===""||Be==="-"?me(void 0):Be.trim()!==""&&!Number.isNaN(nt)&&me(parseFloat(nt))},ce=$e=>{var at;if($e.target.value==="")fe(""),me(void 0);else{let Be=$e.target.value;(Be[0]===`${o}`||Be[0]===".")&&(Be=`0${Be}`);const nt=Ge(Be),En=Gc(parseFloat(nt),He,Le);Number.isNaN(En)?fe((at=V(ue))!=null?at:""):x||(fe(V(En)),me(parseFloat(V(En))))}P(!1),typeof h=="function"&&h($e)},we=$e=>{P(!0),typeof p=="function"&&p($e)},Fe=$e=>{if(typeof g=="function"&&g($e),$e.repeat&&Zt&&($e.key==="ArrowUp"||$e.key==="ArrowDown")){$e.preventDefault();return}$e.key==="ArrowUp"?Yt($e,!0):$e.key==="ArrowDown"&&Yt($e,!1)},ot=$e=>{typeof y=="function"&&y($e),($e.key==="ArrowUp"||$e.key==="ArrowDown")&&bt()};return L.createElement(ID,OIe(CIe({},ie),{type:ee,variant:v,value:Xe(he),disabled:r,ref:na(Te,t),onChange:Gn,onBlur:ce,onFocus:we,onKeyDown:Fe,onKeyUp:ot,rightSection:W||(r||m||v==="unstyled"?null:un),rightSectionWidth:q||C.fn.size({size:$,sizes:EX})+1,radius:_,max:u,min:a,step:c,size:$,styles:D,classNames:M,inputMode:ae||gIe(c,w,Ige()),__staticSelector:"NumberInput",unstyled:pe}))});IX.displayName="@mantine/core/NumberInput";const b9={xs:3,sm:5,md:8,lg:12,xl:16},DIe=yme({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var $Ie=lt((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:b9}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${DIe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:b9})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const LIe=$Ie,AX=S.createContext(!1),MIe=AX.Provider,FIe=()=>S.useContext(AX);function CX({children:e,openDelay:t=0,closeDelay:n=0}){return L.createElement(MIe,{value:!0},L.createElement(u1e,{delay:{open:t,close:n}},e))}CX.displayName="@mantine/core/TooltipGroup";var BIe=Object.defineProperty,jIe=Object.defineProperties,UIe=Object.getOwnPropertyDescriptors,E9=Object.getOwnPropertySymbols,VIe=Object.prototype.hasOwnProperty,zIe=Object.prototype.propertyIsEnumerable,w9=(e,t,n)=>t in e?BIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S9=(e,t)=>{for(var n in t||(t={}))VIe.call(t,n)&&w9(e,n,t[n]);if(E9)for(var n of E9(t))zIe.call(t,n)&&w9(e,n,t[n]);return e},HIe=(e,t)=>jIe(e,UIe(t));function WIe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var qIe=lt((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:HIe(S9(S9({},e.fn.fontStyles()),WIe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const OX=qIe,PX={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function GIe({offset:e,position:t}){const[n,r]=S.useState(!1),i=S.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=gD({placement:t,middleware:[hD({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=S.useCallback(({clientX:g,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+d,top:y+h,right:g,bottom:y}}})},[a]);return S.useEffect(()=>{if(l.floating.current){const g=i.current;g.addEventListener("mousemove",p);const y=Sl(l.floating.current);return y.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),y.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,l.floating,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var YIe=Object.defineProperty,KIe=Object.defineProperties,QIe=Object.getOwnPropertyDescriptors,qw=Object.getOwnPropertySymbols,RX=Object.prototype.hasOwnProperty,NX=Object.prototype.propertyIsEnumerable,T9=(e,t,n)=>t in e?YIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TC=(e,t)=>{for(var n in t||(t={}))RX.call(t,n)&&T9(e,n,t[n]);if(qw)for(var n of qw(t))NX.call(t,n)&&T9(e,n,t[n]);return e},xC=(e,t)=>KIe(e,QIe(t)),XIe=(e,t)=>{var n={};for(var r in e)RX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qw)for(var r of qw(e))t.indexOf(r)<0&&NX.call(e,r)&&(n[r]=e[r]);return n};const JIe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Io("popover")};function kX(e){var t;const n=ht("TooltipFloating",JIe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:g,multiline:y,width:m,zIndex:_,disabled:v}=n,w=XIe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:T,x:E,y:x,opened:A,boundaryRef:M,floating:D,setOpened:$}=GIe({offset:p,position:g}),{classes:W,cx:q}=OX({radius:f,color:d,multiline:y,width:m},{name:"Tooltip",classNames:u,styles:l,unstyled:c});if(!L_(r))throw new Error(PX.children);const H=na(M,r.ref),de=pe=>{var ee,ie;(ie=(ee=r.props).onMouseEnter)==null||ie.call(ee,pe),T(pe),$(!0)},ae=pe=>{var ee,ie;(ie=(ee=r.props).onMouseLeave)==null||ie.call(ee,pe),$(!1)};return v?L.createElement(L.Fragment,null,r):L.createElement(L.Fragment,null,L.createElement(j_,{withinPortal:s},L.createElement(ut,xC(TC({},w),{ref:D,className:q(W.tooltip,a),style:xC(TC({},o),{zIndex:_,display:A?"block":"none",top:x??"",left:(t=Math.round(E))!=null?t:""})}),h)),S.cloneElement(r,xC(TC({},r.props),{[i]:H,onMouseEnter:de,onMouseLeave:ae})))}kX.displayName="@mantine/core/TooltipFloating";function ZIe(e){const[t,n]=S.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=FIe(),o=Uu(),{delay:a,currentId:u,setCurrentId:l}=ZY(),c=S.useCallback(A=>{n(A),A&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:g,refs:y,update:m,placement:_,middlewareData:{arrow:{x:v,y:w}={}}}=gD({placement:e.position,open:i,onOpenChange:c,middleware:[UY(e.offset),hD({padding:8}),jY(),KY({element:e.arrowRef}),...e.inline?[zY()]:[]]}),{getReferenceProps:T,getFloatingProps:E}=i1e([a1e(g,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),p1e(g,{enabled:e.events.focus,keyboardOnly:!0}),c1e(g,{role:"tooltip"}),h1e(g,{enabled:typeof e.opened===void 0}),l1e(g,{id:o})]);return eK({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:m}}),ho(()=>{var A;(A=e.onPositionChange)==null||A.call(e,_)},[_]),{x:f,y:d,arrowX:v,arrowY:w,reference:h,floating:p,getFloatingProps:E,getReferenceProps:T,isGroupPhase:i&&u&&u!==o,opened:i,placement:_}}var eAe=Object.defineProperty,tAe=Object.defineProperties,nAe=Object.getOwnPropertyDescriptors,Gw=Object.getOwnPropertySymbols,DX=Object.prototype.hasOwnProperty,$X=Object.prototype.propertyIsEnumerable,x9=(e,t,n)=>t in e?eAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mg=(e,t)=>{for(var n in t||(t={}))DX.call(t,n)&&x9(e,n,t[n]);if(Gw)for(var n of Gw(t))$X.call(t,n)&&x9(e,n,t[n]);return e},rAe=(e,t)=>tAe(e,nAe(t)),iAe=(e,t)=>{var n={};for(var r in e)DX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gw)for(var r of Gw(e))t.indexOf(r)<0&&$X.call(e,r)&&(n[r]=e[r]);return n};const sAe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Io("popover"),positionDependencies:[]},Ix=S.forwardRef((e,t)=>{const n=S.useRef(null),r=ht("Tooltip",sAe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:g,styles:y,unstyled:m,style:_,className:v,withArrow:w,arrowSize:T,arrowOffset:E,arrowRadius:x,offset:A,transition:M,transitionDuration:D,multiline:$,width:W,events:q,zIndex:H,disabled:de,positionDependencies:ae,onClick:pe,onMouseEnter:ee,onMouseLeave:ie,inline:K}=r,I=iAe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:C,cx:V,theme:R}=OX({radius:h,color:p,width:W,multiline:$},{name:"Tooltip",classNames:g,styles:y,unstyled:m}),P=ZIe({position:pK(R.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:q,arrowRef:n,offset:A+(w?T/2:0),positionDependencies:[...ae,i],inline:K});if(!L_(i))throw new Error(PX.children);const G=na(P.reference,i.ref,t);return L.createElement(L.Fragment,null,L.createElement(j_,{withinPortal:d},L.createElement(Tx,{mounted:!de&&P.opened,transition:M,duration:P.isGroupPhase?10:D},se=>{var ue,he;return L.createElement(ut,Mg(Mg({},I),P.getFloatingProps({ref:P.floating,className:C.tooltip,style:rAe(Mg(Mg({},_),se),{zIndex:H,top:(ue=P.y)!=null?ue:0,left:(he=P.x)!=null?he:0})})),a,L.createElement(yD,{ref:n,arrowX:P.arrowX,arrowY:P.arrowY,visible:w,withBorder:!1,position:P.placement,arrowSize:T,arrowOffset:E,arrowRadius:x,className:C.arrow}))})),S.cloneElement(i,P.getReferenceProps(Mg({onClick:pe,onMouseEnter:ee,onMouseLeave:ie,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:G,className:V(v,i.props.className)},i.props))))});Ix.Group=CX;Ix.Floating=kX;Ix.displayName="@mantine/core/Tooltip";const LX=Ix;var oAe=Object.defineProperty,aAe=Object.defineProperties,uAe=Object.getOwnPropertyDescriptors,Yw=Object.getOwnPropertySymbols,MX=Object.prototype.hasOwnProperty,FX=Object.prototype.propertyIsEnumerable,I9=(e,t,n)=>t in e?oAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P2=(e,t)=>{for(var n in t||(t={}))MX.call(t,n)&&I9(e,n,t[n]);if(Yw)for(var n of Yw(t))FX.call(t,n)&&I9(e,n,t[n]);return e},BX=(e,t)=>aAe(e,uAe(t)),A9=(e,t)=>{var n={};for(var r in e)MX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yw)for(var r of Yw(e))t.indexOf(r)<0&&FX.call(e,r)&&(n[r]=e[r]);return n};function lAe(e){return e.reduce((t,n)=>(t.sections.push(BX(P2({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const cAe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},jX=S.forwardRef((e,t)=>{const n=ht("Progress",cAe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:g}=n,y=A9(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:m,cx:_,theme:v}=LIe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:g,name:"Progress"}),w=Array.isArray(p)?lAe(p).map((T,E)=>{var x=T,{tooltip:A,accumulated:M,value:D,label:$,color:W}=x,q=A9(x,["tooltip","accumulated","value","label","color"]);return L.createElement(LX.Floating,{label:A,disabled:!A,key:E},L.createElement(ut,BX(P2({},q),{className:_(m.bar,q.className),sx:{width:`${D}%`,left:`${M}%`,backgroundColor:v.fn.variant({variant:"filled",primaryFallback:!1,color:W||v.primaryColor}).background}}),$&&L.createElement(At,{className:m.label},$)))}):null;return L.createElement(ut,P2({className:_(m.root,r),ref:t},y),w||L.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:m.bar,style:{width:`${i}%`}},c?L.createElement(At,{className:m.label},c):""))});jX.displayName="@mantine/core/Progress";var fAe=Object.defineProperty,C9=Object.getOwnPropertySymbols,dAe=Object.prototype.hasOwnProperty,hAe=Object.prototype.propertyIsEnumerable,O9=(e,t,n)=>t in e?fAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pAe=(e,t)=>{for(var n in t||(t={}))dAe.call(t,n)&&O9(e,n,t[n]);if(C9)for(var n of C9(t))hAe.call(t,n)&&O9(e,n,t[n]);return e};function mAe(e){return L.createElement("svg",pAe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),L.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const UX=S.createContext(null),gAe=UX.Provider,yAe=()=>S.useContext(UX);var _Ae=Object.defineProperty,Kw=Object.getOwnPropertySymbols,VX=Object.prototype.hasOwnProperty,zX=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?_Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R9=(e,t)=>{for(var n in t||(t={}))VX.call(t,n)&&P9(e,n,t[n]);if(Kw)for(var n of Kw(t))zX.call(t,n)&&P9(e,n,t[n]);return e},vAe=(e,t)=>{var n={};for(var r in e)VX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Kw)for(var r of Kw(e))t.indexOf(r)<0&&zX.call(e,r)&&(n[r]=e[r]);return n};const bAe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},HX=S.forwardRef((e,t)=>{const n=ht("RadioGroup",bAe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=vAe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[g,y]=$a({value:i,defaultValue:s,finalValue:"",onChange:o}),m=_=>y(_.currentTarget.value);return L.createElement(gAe,{value:{value:g,onChange:m,size:l,name:h}},L.createElement(po.Wrapper,R9(R9({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),L.createElement(iQ,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});HX.displayName="@mantine/core/RadioGroup";var EAe=Object.defineProperty,wAe=Object.defineProperties,SAe=Object.getOwnPropertyDescriptors,N9=Object.getOwnPropertySymbols,TAe=Object.prototype.hasOwnProperty,xAe=Object.prototype.propertyIsEnumerable,k9=(e,t,n)=>t in e?EAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IAe=(e,t)=>{for(var n in t||(t={}))TAe.call(t,n)&&k9(e,n,t[n]);if(N9)for(var n of N9(t))xAe.call(t,n)&&k9(e,n,t[n]);return e},AAe=(e,t)=>wAe(e,SAe(t));const IC={xs:16,sm:20,md:24,lg:30,xl:36},p1={xs:6,sm:8,md:10,lg:14,xl:16};var CAe=lt((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:p1,size:t}),height:e.fn.size({sizes:p1,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:p1,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:p1,size:t})/2}px)`},radio:AAe(IAe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:IC,size:t}),height:e.fn.size({sizes:IC,size:t}),borderRadius:e.fn.size({sizes:IC,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const OAe=CAe;var PAe=Object.defineProperty,Qw=Object.getOwnPropertySymbols,WX=Object.prototype.hasOwnProperty,qX=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?PAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m1=(e,t)=>{for(var n in t||(t={}))WX.call(t,n)&&D9(e,n,t[n]);if(Qw)for(var n of Qw(t))qX.call(t,n)&&D9(e,n,t[n]);return e},RAe=(e,t)=>{var n={};for(var r in e)WX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qw)for(var r of Qw(e))t.indexOf(r)<0&&qX.call(e,r)&&(n[r]=e[r]);return n};const NAe={icon:mAe,transitionDuration:100,size:"sm",labelPosition:"right"},Xw=S.forwardRef((e,t)=>{var n,r;const i=ht("Radio",NAe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:g,icon:y,transitionDuration:m,wrapperProps:_,unstyled:v,labelPosition:w,description:T,error:E}=i,x=RAe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),A=yAe(),M=(n=A==null?void 0:A.size)!=null?n:l,D=e.size?l:M,{classes:$}=OAe({color:d,size:D,transitionDuration:m,labelPosition:w,error:!!E},{classNames:h,styles:p,unstyled:v,name:"Radio"}),{systemStyles:W,rest:q}=ah(x),H=Uu(a),de=A?{checked:A.value===q.value,name:(r=q.name)!=null?r:A.name,onChange:A.onChange}:{};return L.createElement(SD,m1(m1({className:s,sx:g,style:o,id:H,size:D,labelPosition:w,label:u,description:T,error:E,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:v,"data-checked":de.checked||void 0},W),_),L.createElement("div",{className:$.inner},L.createElement("input",m1(m1({ref:t,className:$.radio,type:"radio",id:H,disabled:f},q),de)),L.createElement(y,{className:$.icon,"aria-hidden":!0})))});Xw.displayName="@mantine/core/Radio";Xw.Group=HX;var kAe=Object.defineProperty,DAe=Object.defineProperties,$Ae=Object.getOwnPropertyDescriptors,$9=Object.getOwnPropertySymbols,LAe=Object.prototype.hasOwnProperty,MAe=Object.prototype.propertyIsEnumerable,L9=(e,t,n)=>t in e?kAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g1=(e,t)=>{for(var n in t||(t={}))LAe.call(t,n)&&L9(e,n,t[n]);if($9)for(var n of $9(t))MAe.call(t,n)&&L9(e,n,t[n]);return e},FAe=(e,t)=>DAe(e,$Ae(t));const Eb=4,M9={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var BAe=lt((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:FAe(g1(g1({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:M9[a in M9?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:g1({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:g1({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:Eb},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const jAe=BAe;var UAe=Object.defineProperty,Jw=Object.getOwnPropertySymbols,GX=Object.prototype.hasOwnProperty,YX=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?UAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VAe=(e,t)=>{for(var n in t||(t={}))GX.call(t,n)&&F9(e,n,t[n]);if(Jw)for(var n of Jw(t))YX.call(t,n)&&F9(e,n,t[n]);return e},zAe=(e,t)=>{var n={};for(var r in e)GX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jw)for(var r of Jw(e))t.indexOf(r)<0&&YX.call(e,r)&&(n[r]=e[r]);return n};const HAe={disabled:!1,size:"sm",transitionDuration:200},KX=S.forwardRef((e,t)=>{var n,r,i,s;const o=ht("SegmentedControl",HAe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:g,size:y,transitionDuration:m,transitionTimingFunction:_,classNames:v,styles:w,defaultValue:T,orientation:E,unstyled:x}=o,A=zAe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),M=ss(),D=rD(),$=M.respectReducedMotion?D:!1,W=l.map(ue=>typeof ue=="string"?{label:ue,value:ue}:ue),q=S.useRef(),[H,de]=S.useState(!1),[ae,pe]=$a({value:f,defaultValue:T,finalValue:Array.isArray(W)&&(s=(i=(n=W.find(ue=>!ue.disabled))==null?void 0:n.value)!=null?i:(r=W[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:ee,cx:ie}=jAe({size:y,fullWidth:p,color:h,radius:g,shouldAnimate:$||!H,transitionDuration:m,transitionTimingFunction:_,orientation:E},{classNames:v,styles:w,unstyled:x,name:"SegmentedControl"}),[K,I]=S.useState({width:0,height:0,translate:[0,0]}),C=Uu(c),V=S.useRef({}),[R,P]=B0();nD(()=>{q.current?de(!0):(q.current=!0,de(!1))}),S.useEffect(()=>{if(ae in V.current&&R.current){const ue=V.current[ae],he=ue.getBoundingClientRect(),fe=ue.offsetWidth/he.width,Te=he.width*fe||0,me=he.height*fe||0,Xe=P.width-ue.parentElement.offsetLeft+Eb-Te,Ge=ue.parentElement.offsetLeft-Eb;I({width:Te,height:me,translate:[M.dir==="rtl"?Xe:Ge,ue.parentElement.offsetTop-Eb]})}},[ae,P]);const G=W.map(ue=>L.createElement("div",{className:ie(ee.control,{[ee.controlActive]:ae===ue.value}),key:ue.value},L.createElement("input",{className:ee.input,disabled:u||ue.disabled,type:"radio",name:C,value:ue.value,id:`${C}-${ue.value}`,checked:ae===ue.value,onChange:()=>pe(ue.value)}),L.createElement("label",{className:ie(ee.label,{[ee.labelActive]:ae===ue.value,[ee.disabled]:u||ue.disabled}),htmlFor:`${C}-${ue.value}`,ref:he=>{V.current[ue.value]=he}},ue.label))),se=na(R,t);return W.length===0?null:L.createElement(ut,VAe({className:ie(ee.root,a),ref:se},A),typeof ae=="string"&&H&&L.createElement(ut,{component:"span",className:ee.active,sx:{width:K.width,height:K.height,transform:`translate(${K.translate[0]}px, ${K.translate[1]}px )`}}),G)});KX.displayName="@mantine/core/SegmentedControl";function WAe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r)return e;const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var qAe=lt(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const GAe=qAe;var YAe=Object.defineProperty,KAe=Object.defineProperties,QAe=Object.getOwnPropertyDescriptors,Zw=Object.getOwnPropertySymbols,QX=Object.prototype.hasOwnProperty,XX=Object.prototype.propertyIsEnumerable,B9=(e,t,n)=>t in e?YAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fg=(e,t)=>{for(var n in t||(t={}))QX.call(t,n)&&B9(e,n,t[n]);if(Zw)for(var n of Zw(t))XX.call(t,n)&&B9(e,n,t[n]);return e},AC=(e,t)=>KAe(e,QAe(t)),XAe=(e,t)=>{var n={};for(var r in e)QX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zw)for(var r of Zw(e))t.indexOf(r)<0&&XX.call(e,r)&&(n[r]=e[r]);return n};function JAe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function ZAe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const eCe={required:!1,size:"sm",shadow:"sm",itemComponent:uD,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:JAe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:ZAe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Io("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},JX=S.forwardRef((e,t)=>{const n=vK("Select",eCe,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:g,initiallyOpened:y,transitionTimingFunction:m,unstyled:_,classNames:v,styles:w,filter:T,maxDropdownHeight:E,searchable:x,clearable:A,nothingFound:M,clearButtonLabel:D,limit:$,disabled:W,onSearchChange:q,searchValue:H,rightSection:de,rightSectionWidth:ae,creatable:pe,getCreateLabel:ee,shouldCreate:ie,selectOnBlur:K,onCreate:I,dropdownComponent:C,onDropdownClose:V,onDropdownOpen:R,withinPortal:P,switchDirectionOnFlip:G,zIndex:se,name:ue,dropdownPosition:he,allowDeselect:fe,placeholder:Te,filterDataOnExactSearchMatch:me,clearButtonTabIndex:Xe,form:Ge,positionDependencies:He,readOnly:Le}=n,Ae=XAe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:Ve,cx:Zt,theme:Me}=GAe(),[Ue,bt]=S.useState(y),[ze,gt]=S.useState(-1),Yt=S.useRef(),un=S.useRef({}),[Gn,ce]=S.useState("column"),we=Gn==="column",{scrollIntoView:Fe,targetRef:ot,scrollableRef:$e}=vG({duration:0,offset:5,cancelable:!1,isList:!0}),at=fe===void 0?A:fe,Be=Se=>{if(Ue!==Se){bt(Se);const We=Se?R:V;typeof We=="function"&&We()}},nt=pe&&typeof ee=="function";let En=null;const Wt=o.map(Se=>typeof Se=="string"?{label:Se,value:Se}:Se),Tt=Mq({data:Wt}),[Fn,wn,fa]=$a({value:a,defaultValue:u,finalValue:null,onChange:l}),fr=Tt.find(Se=>Se.value===Fn),[Fi,br]=$a({value:H,defaultValue:(fr==null?void 0:fr.label)||"",finalValue:void 0,onChange:q}),Lr=Se=>{br(Se),x&&typeof q=="function"&&q(Se)},dr=()=>{var Se;Le||(wn(null),fa||Lr(""),(Se=Yt.current)==null||Se.focus())};S.useEffect(()=>{const Se=Tt.find(We=>We.value===Fn);Se?Lr(Se.label):(!nt||!Fn)&&Lr("")},[Fn]),S.useEffect(()=>{fr&&(!x||!Ue)&&Lr(fr.label)},[fr==null?void 0:fr.label]);const Bn=Se=>{if(!Le)if(at&&(fr==null?void 0:fr.value)===Se.value)wn(null),Be(!1);else{if(Se.creatable&&typeof I=="function"){const We=I(Se.value);typeof We<"u"&&We!==null&&wn(typeof We=="string"?We:We.value)}else wn(Se.value);fa||Lr(Se.label),gt(-1),Be(!1),Yt.current.focus()}},en=WAe({data:Tt,searchable:x,limit:$,searchValue:Fi,filter:T,filterDataOnExactSearchMatch:me,value:Fn});nt&&ie(Fi,en)&&(En=ee(Fi),en.push({label:Fi,value:Fi,creatable:!0}));const oi=(Se,We,ct)=>{let tt=Se;for(;ct(tt);)if(tt=We(tt),!en[tt].disabled)return tt;return Se};ho(()=>{gt(-1)},[Fi]);const Er=Fn?en.findIndex(Se=>Se.value===Fn):0,Mr=!Le&&(en.length>0?Ue:Ue&&!!M),vi=()=>{gt(Se=>{var We;const ct=oi(Se,tt=>tt-1,tt=>tt>0);return ot.current=un.current[(We=en[ct])==null?void 0:We.value],Mr&&Fe({alignment:we?"start":"end"}),ct})},bs=()=>{gt(Se=>{var We;const ct=oi(Se,tt=>tt+1,tt=>tt<en.length-1);return ot.current=un.current[(We=en[ct])==null?void 0:We.value],Mr&&Fe({alignment:we?"end":"start"}),ct})},X=()=>window.setTimeout(()=>{var Se;ot.current=un.current[(Se=en[Er])==null?void 0:Se.value],Fe({alignment:we?"end":"start"})},0);ho(()=>{Mr&&X()},[Mr]);const U=Se=>{switch(typeof f=="function"&&f(Se),Se.key){case"ArrowUp":{Se.preventDefault(),Ue?we?vi():bs():(gt(Er),Be(!0),X());break}case"ArrowDown":{Se.preventDefault(),Ue?we?bs():vi():(gt(Er),Be(!0),X());break}case"Home":{if(!x){Se.preventDefault(),Ue||Be(!0);const We=en.findIndex(ct=>!ct.disabled);gt(We),Mr&&Fe({alignment:we?"end":"start"})}break}case"End":{if(!x){Se.preventDefault(),Ue||Be(!0);const We=en.map(ct=>!!ct.disabled).lastIndexOf(!1);gt(We),Mr&&Fe({alignment:we?"end":"start"})}break}case"Escape":{Se.preventDefault(),Be(!1),gt(-1);break}case" ":{x||(Se.preventDefault(),en[ze]&&Ue?Bn(en[ze]):(Be(!0),gt(Er),X()));break}case"Enter":x||Se.preventDefault(),en[ze]&&Ue&&(Se.preventDefault(),Bn(en[ze]))}},Z=Se=>{typeof d=="function"&&d(Se);const We=Tt.find(ct=>ct.value===Fn);K&&en[ze]&&Ue&&Bn(en[ze]),Lr((We==null?void 0:We.label)||""),Be(!1)},ye=Se=>{typeof h=="function"&&h(Se),x&&Be(!0)},ge=Se=>{Le||(Lr(Se.currentTarget.value),A&&Se.currentTarget.value===""&&wn(null),gt(-1),Be(!0))},Ye=()=>{Le||(Be(!Ue),Fn&&!Ue&&gt(Er))};return L.createElement(po.Wrapper,AC(Fg({},i),{__staticSelector:"Select"}),L.createElement(Kc,{opened:Mr,transition:p,transitionDuration:g,shadow:"sm",withinPortal:P,__staticSelector:"Select",onDirectionChange:ce,switchDirectionOnFlip:G,zIndex:se,dropdownPosition:he,positionDependencies:He,classNames:v,styles:w,unstyled:_},L.createElement(Kc.Target,null,L.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Mr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Mr,onMouseLeave:()=>gt(-1),tabIndex:-1},L.createElement("input",{type:"hidden",name:ue,value:Fn||"",form:Ge,disabled:W}),L.createElement(po,Fg(AC(Fg(Fg({autoComplete:"off",type:"search"},r),Ae),{ref:na(t,Yt),onKeyDown:U,__staticSelector:"Select",value:Fi,placeholder:Te,onChange:ge,"aria-autocomplete":"list","aria-controls":Mr?`${r.id}-items`:null,"aria-activedescendant":ze>=0?`${r.id}-${ze}`:null,onMouseDown:Ye,onBlur:Z,onFocus:ye,readOnly:!x||Le,disabled:W,"data-mantine-stop-propagation":Mr,name:null,classNames:AC(Fg({},v),{input:Zt({[Ve.input]:!x},v==null?void 0:v.input)})}),yX({theme:Me,rightSection:de,rightSectionWidth:ae,styles:w,size:r.size,shouldClear:A&&!!fr,clearButtonLabel:D,onClear:dr,error:i.error,clearButtonTabIndex:Xe,disabled:W,readOnly:Le}))))),L.createElement(Kc.Dropdown,{component:C||Ex,maxHeight:E,direction:Gn,id:r.id,innerRef:$e,__staticSelector:"Select",classNames:v,styles:w},L.createElement(aD,{data:en,hovered:ze,classNames:v,styles:w,isItemSelected:Se=>Se===Fn,uuid:r.id,__staticSelector:"Select",onItemHover:gt,onItemSelect:Bn,itemsRefs:un,itemComponent:c,size:r.size,nothingFound:M,creatable:nt&&!!En,createLabel:En,"aria-label":i.label,unstyled:_}))))});JX.displayName="@mantine/core/Select";function eS({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function R2({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var tCe=Object.defineProperty,nCe=Object.defineProperties,rCe=Object.getOwnPropertyDescriptors,j9=Object.getOwnPropertySymbols,iCe=Object.prototype.hasOwnProperty,sCe=Object.prototype.propertyIsEnumerable,U9=(e,t,n)=>t in e?tCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oCe=(e,t)=>{for(var n in t||(t={}))iCe.call(t,n)&&U9(e,n,t[n]);if(j9)for(var n of j9(t))sCe.call(t,n)&&U9(e,n,t[n]);return e},aCe=(e,t)=>nCe(e,rCe(t));const Ls={xs:4,sm:6,md:8,lg:10,xl:12};var uCe=lt((e,{size:t,disabled:n})=>({root:aCe(oCe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Ls,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const lCe=uCe;var cCe=Object.defineProperty,fCe=Object.defineProperties,dCe=Object.getOwnPropertyDescriptors,V9=Object.getOwnPropertySymbols,hCe=Object.prototype.hasOwnProperty,pCe=Object.prototype.propertyIsEnumerable,z9=(e,t,n)=>t in e?cCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mCe=(e,t)=>{for(var n in t||(t={}))hCe.call(t,n)&&z9(e,n,t[n]);if(V9)for(var n of V9(t))pCe.call(t,n)&&z9(e,n,t[n]);return e},gCe=(e,t)=>fCe(e,dCe(t)),yCe=lt((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:gCe(mCe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Ls,size:n})*2,width:i||e.fn.size({sizes:Ls,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const _Ce=yCe,tS=S.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:g,onFocus:y,onBlur:m,showLabelOnHover:_,children:v=null,disabled:w,unstyled:T,thumbSize:E},x)=>{const{classes:A,cx:M,theme:D}=_Ce({color:a,size:c,disabled:w,thumbSize:E},{classNames:u,styles:l,unstyled:T,name:"Slider"}),[$,W]=S.useState(!1),q=p||s||$||_;return L.createElement(ut,{tabIndex:0,role:"slider","aria-label":g,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:x,className:M(A.thumb,{[A.dragging]:s}),onFocus:()=>{W(!0),typeof y=="function"&&y()},onBlur:()=>{W(!1),typeof m=="function"&&m()},onTouchStart:o,onMouseDown:o,onClick:H=>H.stopPropagation(),style:{[D.dir==="rtl"?"right":"left"]:`${r}%`}},v,L.createElement(Tx,{mounted:i!=null&&q,duration:d,transition:f,timingFunction:h||D.transitionTimingFunction},H=>L.createElement("div",{style:H,className:A.label},i)))});tS.displayName="@mantine/core/SliderThumb";function vCe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var bCe=lt((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Ls})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ls,size:t}),width:e.fn.size({sizes:Ls,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ls,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const ECe=bCe;function ZX({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=ECe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),g=e.map((y,m)=>L.createElement(ut,{className:h.markWrapper,sx:{left:`${eS({value:y.value,min:r,max:i})}%`},key:m},L.createElement("div",{className:p(h.mark,{[h.markFilled]:vCe({mark:y,value:s,offset:u,inverted:d})})}),y.label&&L.createElement("div",{className:h.markLabel,onMouseDown:_=>{_.stopPropagation(),l(y.value)},onTouchStart:_=>{_.stopPropagation(),l(y.value)}},y.label)));return L.createElement("div",null,g)}ZX.displayName="@mantine/core/SliderMarks";var wCe=lt((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Ls,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Ls}),marginLeft:e.fn.size({size:n,sizes:Ls}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Ls}),left:-e.fn.size({size:n,sizes:Ls}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const SCe=wCe;var TCe=Object.defineProperty,xCe=Object.defineProperties,ICe=Object.getOwnPropertyDescriptors,nS=Object.getOwnPropertySymbols,eJ=Object.prototype.hasOwnProperty,tJ=Object.prototype.propertyIsEnumerable,H9=(e,t,n)=>t in e?TCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ACe=(e,t)=>{for(var n in t||(t={}))eJ.call(t,n)&&H9(e,n,t[n]);if(nS)for(var n of nS(t))tJ.call(t,n)&&H9(e,n,t[n]);return e},CCe=(e,t)=>xCe(e,ICe(t)),OCe=(e,t)=>{var n={};for(var r in e)eJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nS)for(var r of nS(e))t.indexOf(r)<0&&tJ.call(e,r)&&(n[r]=e[r]);return n};function AD(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:g}=t,y=OCe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:m}=SCe({color:i,size:r,radius:a,disabled:d,inverted:g},{classNames:s,styles:o,unstyled:p,name:"Slider"});return L.createElement("div",{className:m.track,onMouseLeave:c,onMouseEnter:f},L.createElement(ut,{className:m.bar,sx:_=>({left:`calc(${l}% - ${_.fn.size({size:r,sizes:Ls})}px)`,width:`calc(${n}% + ${_.fn.size({size:r,sizes:Ls})}px)`})}),u,L.createElement(ZX,CCe(ACe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:g})))}AD.displayName="@mantine/core/SliderTrack";var PCe=Object.defineProperty,RCe=Object.defineProperties,NCe=Object.getOwnPropertyDescriptors,rS=Object.getOwnPropertySymbols,nJ=Object.prototype.hasOwnProperty,rJ=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?PCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kCe=(e,t)=>{for(var n in t||(t={}))nJ.call(t,n)&&W9(e,n,t[n]);if(rS)for(var n of rS(t))rJ.call(t,n)&&W9(e,n,t[n]);return e},DCe=(e,t)=>RCe(e,NCe(t)),$Ce=(e,t)=>{var n={};for(var r in e)nJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rS)for(var r of rS(e))t.indexOf(r)<0&&rJ.call(e,r)&&(n[r]=e[r]);return n};const CD=S.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=$Ce(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=lCe({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return L.createElement(ut,DCe(kCe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});CD.displayName="@mantine/core/SliderRoot";var LCe=Object.defineProperty,MCe=Object.defineProperties,FCe=Object.getOwnPropertyDescriptors,iS=Object.getOwnPropertySymbols,iJ=Object.prototype.hasOwnProperty,sJ=Object.prototype.propertyIsEnumerable,q9=(e,t,n)=>t in e?LCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BCe=(e,t)=>{for(var n in t||(t={}))iJ.call(t,n)&&q9(e,n,t[n]);if(iS)for(var n of iS(t))sJ.call(t,n)&&q9(e,n,t[n]);return e},jCe=(e,t)=>MCe(e,FCe(t)),UCe=(e,t)=>{var n={};for(var r in e)iJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iS)for(var r of iS(e))t.indexOf(r)<0&&sJ.call(e,r)&&(n[r]=e[r]);return n};const VCe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},OD=S.forwardRef((e,t)=>{const n=ht("Slider",VCe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:g,name:y,marks:m,label:_,labelTransition:v,labelTransitionDuration:w,labelTransitionTimingFunction:T,labelAlwaysOn:E,thumbLabel:x,showLabelOnHover:A,thumbChildren:M,disabled:D,unstyled:$,thumbSize:W,scale:q,inverted:H}=n,de=UCe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ae=ss(),[pe,ee]=S.useState(!1),[ie,K]=$a({value:typeof o=="number"?Gc(o,f,d):o,defaultValue:typeof g=="number"?Gc(g,f,d):g,finalValue:Gc(0,f,d),onChange:a}),I=S.useRef(ie),C=S.useRef(),V=eS({value:ie,min:f,max:d}),R=q(ie),P=typeof _=="function"?_(R):_,G=S.useCallback(({x:Te})=>{if(!D){const me=R2({value:Te,min:f,max:d,step:h,precision:p});K(me),I.current=me}},[D,f,d,h,p]),{ref:se,active:ue}=_G(G,{onScrubEnd:()=>u==null?void 0:u(I.current)},ae.dir),he=Te=>{Te.stopPropagation()},fe=Te=>{if(!D)switch(Te.key){case"ArrowUp":{Te.preventDefault(),C.current.focus();const me=Math.min(Math.max(ie+h,f),d);u==null||u(me),K(me);break}case"ArrowRight":{Te.preventDefault(),C.current.focus();const me=Math.min(Math.max(ae.dir==="rtl"?ie-h:ie+h,f),d);u==null||u(me),K(me);break}case"ArrowDown":{Te.preventDefault(),C.current.focus();const me=Math.min(Math.max(ie-h,f),d);u==null||u(me),K(me);break}case"ArrowLeft":{Te.preventDefault(),C.current.focus();const me=Math.min(Math.max(ae.dir==="rtl"?ie+h:ie-h,f),d);u==null||u(me),K(me);break}case"Home":{Te.preventDefault(),C.current.focus(),u==null||u(f),K(f);break}case"End":{Te.preventDefault(),C.current.focus(),u==null||u(d),K(d);break}}};return L.createElement(CD,jCe(BCe({},de),{size:l,ref:na(se,t),onKeyDownCapture:fe,onMouseDownCapture:()=>{var Te;return(Te=se.current)==null?void 0:Te.focus()},classNames:r,styles:i,disabled:D,unstyled:$}),L.createElement(AD,{inverted:H,offset:0,filled:V,marks:m,size:l,radius:c,color:s,min:f,max:d,value:R,onChange:K,onMouseEnter:A?()=>ee(!0):void 0,onMouseLeave:A?()=>ee(!1):void 0,classNames:r,styles:i,disabled:D,unstyled:$},L.createElement(tS,{max:d,min:f,value:R,position:V,dragging:ue,color:s,size:l,label:P,ref:C,onMouseDown:he,labelTransition:v,labelTransitionDuration:w,labelTransitionTimingFunction:T,labelAlwaysOn:E,classNames:r,styles:i,thumbLabel:x,showLabelOnHover:A&&pe,disabled:D,unstyled:$,thumbSize:W},M)),L.createElement("input",{type:"hidden",name:y,value:R}))});OD.displayName="@mantine/core/Slider";function zCe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var HCe=Object.defineProperty,WCe=Object.defineProperties,qCe=Object.getOwnPropertyDescriptors,sS=Object.getOwnPropertySymbols,oJ=Object.prototype.hasOwnProperty,aJ=Object.prototype.propertyIsEnumerable,G9=(e,t,n)=>t in e?HCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CC=(e,t)=>{for(var n in t||(t={}))oJ.call(t,n)&&G9(e,n,t[n]);if(sS)for(var n of sS(t))aJ.call(t,n)&&G9(e,n,t[n]);return e},OC=(e,t)=>WCe(e,qCe(t)),GCe=(e,t)=>{var n={};for(var r in e)oJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sS)for(var r of sS(e))t.indexOf(r)<0&&aJ.call(e,r)&&(n[r]=e[r]);return n};const YCe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},N2=S.forwardRef((e,t)=>{const n=ht("RangeSlider",YCe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,step:p,precision:g,defaultValue:y,name:m,marks:_,label:v,labelTransition:w,labelTransitionDuration:T,labelTransitionTimingFunction:E,labelAlwaysOn:x,thumbFromLabel:A,thumbToLabel:M,showLabelOnHover:D,thumbChildren:$,disabled:W,unstyled:q,thumbSize:H,scale:de,inverted:ae}=n,pe=GCe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ee=ss(),[ie,K]=S.useState(-1),[I,C]=S.useState(!1),[V,R]=$a({value:o,defaultValue:y,finalValue:[f,d],onChange:a}),P=S.useRef(V),G=S.useRef([]),se=S.useRef(void 0),ue=[eS({value:V[0],min:f,max:d}),eS({value:V[1],min:f,max:d})],he=Me=>{R(Me),P.current=Me};S.useEffect(()=>{Array.isArray(o)&&(P.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const fe=(Me,Ue,bt)=>{const ze=[...P.current];ze[Ue]=Me,Ue===0&&(Me>ze[1]-(h-1e-9)&&(ze[1]=Math.min(Me+h,d)),Me>(d-(h-1e-9)||f)&&(ze[Ue]=P.current[Ue])),Ue===1&&(Me<ze[0]+h&&(ze[0]=Math.max(Me-h,f)),Me<ze[0]+h&&(ze[Ue]=P.current[Ue])),he(ze),bt&&(u==null||u(P.current))},Te=Me=>{if(!W){const Ue=R2({value:Me,min:f,max:d,step:p,precision:g});fe(Ue,se.current,!1)}},{ref:me,active:Xe}=_G(({x:Me})=>Te(Me),{onScrubEnd:()=>u==null?void 0:u(P.current)},ee.dir);function Ge(Me,Ue){Me.stopPropagation(),se.current=Ue}const He=Me=>{me.current.focus();const Ue=me.current.getBoundingClientRect(),bt=zCe(Me.nativeEvent),ze=R2({value:bt-Ue.left,max:d,min:f,step:p,containerWidth:Ue.width}),gt=Math.abs(V[0]-ze)>Math.abs(V[1]-ze)?1:0,Yt=ee.dir==="ltr"?gt:gt===1?0:1;se.current=Yt},Le=()=>ie!==1&&ie!==0?(K(0),0):ie,Ae=Me=>{if(!W)switch(Me.key){case"ArrowUp":{Me.preventDefault();const Ue=Le();G.current[Ue].focus(),fe(Math.min(Math.max(P.current[Ue]+p,f),d),Ue,!0);break}case"ArrowRight":{Me.preventDefault();const Ue=Le();G.current[Ue].focus(),fe(Math.min(Math.max(ee.dir==="rtl"?P.current[Ue]-p:P.current[Ue]+p,f),d),Ue,!0);break}case"ArrowDown":{Me.preventDefault();const Ue=Le();G.current[Ue].focus(),fe(Math.min(Math.max(P.current[Ue]-p,f),d),Ue,!0);break}case"ArrowLeft":{Me.preventDefault();const Ue=Le();G.current[Ue].focus(),fe(Math.min(Math.max(ee.dir==="rtl"?P.current[Ue]+p:P.current[Ue]-p,f),d),Ue,!0);break}}},Ve={max:d,min:f,color:s,size:l,labelTransition:w,labelTransitionDuration:T,labelTransitionTimingFunction:E,labelAlwaysOn:x,onBlur:()=>K(-1),classNames:r,styles:i},Zt=Array.isArray($);return L.createElement(CD,OC(CC({},pe),{size:l,ref:na(me,t),onTouchStartCapture:He,onTouchEndCapture:()=>{se.current=-1},onMouseDownCapture:He,onMouseUpCapture:()=>{se.current=-1},onKeyDownCapture:Ae,styles:i,classNames:r,disabled:W,unstyled:q}),L.createElement(AD,{offset:ue[0],marksOffset:V[0],filled:ue[1]-ue[0],marks:_,inverted:ae,size:l,radius:c,color:s,min:f,max:d,value:V[1],styles:i,classNames:r,onMouseEnter:D?()=>C(!0):void 0,onMouseLeave:D?()=>C(!1):void 0,onChange:Me=>{const Ue=Math.abs(V[0]-Me)>Math.abs(V[1]-Me)?1:0,bt=[...V];bt[Ue]=Me,he(bt)},disabled:W,unstyled:q},L.createElement(tS,OC(CC({},Ve),{value:de(V[0]),position:ue[0],dragging:Xe,label:typeof v=="function"?v(de(V[0])):v,ref:Me=>{G.current[0]=Me},thumbLabel:A,onMouseDown:Me=>Ge(Me,0),onFocus:()=>K(0),showLabelOnHover:D&&I,disabled:W,unstyled:q,thumbSize:H}),Zt?$[0]:$),L.createElement(tS,OC(CC({},Ve),{thumbLabel:M,value:de(V[1]),position:ue[1],dragging:Xe,label:typeof v=="function"?v(de(V[1])):v,ref:Me=>{G.current[1]=Me},onMouseDown:Me=>Ge(Me,1),onFocus:()=>K(1),showLabelOnHover:D&&I,disabled:W,unstyled:q,thumbSize:H}),Zt?$[1]:$)),L.createElement("input",{type:"hidden",name:`${m}_from`,value:V[0]}),L.createElement("input",{type:"hidden",name:`${m}_to`,value:V[1]}))});N2.displayName="@mantine/core/RangeSlider";var KCe=Object.defineProperty,oS=Object.getOwnPropertySymbols,uJ=Object.prototype.hasOwnProperty,lJ=Object.prototype.propertyIsEnumerable,Y9=(e,t,n)=>t in e?KCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QCe=(e,t)=>{for(var n in t||(t={}))uJ.call(t,n)&&Y9(e,n,t[n]);if(oS)for(var n of oS(t))lJ.call(t,n)&&Y9(e,n,t[n]);return e},XCe=(e,t)=>{var n={};for(var r in e)uJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oS)for(var r of oS(e))t.indexOf(r)<0&&lJ.call(e,r)&&(n[r]=e[r]);return n};const JCe={w:0,h:0},sm=S.forwardRef((e,t)=>{const n=ht("Space",JCe,e),{w:r,h:i,sx:s}=n,o=XCe(n,["w","h","sx"]);return L.createElement(ut,QCe({ref:t,sx:[a=>{const u=a.fn.size({size:r,sizes:a.spacing}),l=a.fn.size({size:i,sizes:a.spacing});return{width:u,height:l,minWidth:u,minHeight:l}},...jd(s)]},o))});sm.displayName="@mantine/core/Space";var ZCe=Object.defineProperty,eOe=Object.defineProperties,tOe=Object.getOwnPropertyDescriptors,K9=Object.getOwnPropertySymbols,nOe=Object.prototype.hasOwnProperty,rOe=Object.prototype.propertyIsEnumerable,Q9=(e,t,n)=>t in e?ZCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iOe=(e,t)=>{for(var n in t||(t={}))nOe.call(t,n)&&Q9(e,n,t[n]);if(K9)for(var n of K9(t))rOe.call(t,n)&&Q9(e,n,t[n]);return e},sOe=(e,t)=>eOe(e,tOe(t));function oOe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function aOe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var uOe=lt((e,{element:t,weight:n,size:r,inline:i})=>({root:sOe(iOe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:oOe(r,t,e),lineHeight:i?1:aOe(r,t,e),margin:0})}));const lOe=uOe;var cOe=Object.defineProperty,aS=Object.getOwnPropertySymbols,cJ=Object.prototype.hasOwnProperty,fJ=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?cOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fOe=(e,t)=>{for(var n in t||(t={}))cJ.call(t,n)&&X9(e,n,t[n]);if(aS)for(var n of aS(t))fJ.call(t,n)&&X9(e,n,t[n]);return e},dOe=(e,t)=>{var n={};for(var r in e)cJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aS)for(var r of aS(e))t.indexOf(r)<0&&fJ.call(e,r)&&(n[r]=e[r]);return n};const hOe={order:1},bc=S.forwardRef((e,t)=>{const n=ht("Title",hOe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=dOe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=lOe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?L.createElement(At,fOe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});bc.displayName="@mantine/core/Title";function k2(e){const t=e.split("/")||[];return t[(t==null?void 0:t.length)-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const pOe="https://github.com/revisit-studies/study/tree/main/public/",mOe=({globalConfig:e,studyConfigs:t})=>{const{configsList:n}=e,r=oh();return O.jsxs(gQ,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[O.jsx(H_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Yu}assets/revisitLogoSquare.svg`,alt:"reVISit"}),O.jsx(At,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=k2(i);return O.jsx(iD,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:O.jsxs(YEe,{shadow:"sm",radius:"md",withBorder:!0,children:[O.jsx(At,{fw:"bold",children:s.studyMetadata.title}),O.jsxs(At,{c:"dimmed",children:["Authors: ",s.studyMetadata.authors]}),O.jsx(At,{c:"dimmed",children:s.studyMetadata.description}),O.jsx(At,{c:"dimmed",ta:"right",style:{paddingRight:5},children:O.jsxs(eY,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${pOe}${o}`,children:["View source: ",o]})})]})},i)})]})};var dJ={exports:{}},hJ={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=S;function gOe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yOe=typeof Object.is=="function"?Object.is:gOe,_Oe=om.useState,vOe=om.useEffect,bOe=om.useLayoutEffect,EOe=om.useDebugValue;function wOe(e,t){var n=t(),r=_Oe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return bOe(function(){i.value=n,i.getSnapshot=t,PC(i)&&s({inst:i})},[e,n,t]),vOe(function(){return PC(i)&&s({inst:i}),e(function(){PC(i)&&s({inst:i})})},[e]),EOe(n),n}function PC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yOe(e,n)}catch{return!0}}function SOe(e,t){return t()}var TOe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SOe:wOe;hJ.useSyncExternalStore=om.useSyncExternalStore!==void 0?om.useSyncExternalStore:TOe;dJ.exports=hJ;var xOe=dJ.exports,pJ={exports:{}},mJ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax=S,IOe=xOe;function AOe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var COe=typeof Object.is=="function"?Object.is:AOe,OOe=IOe.useSyncExternalStore,POe=Ax.useRef,ROe=Ax.useEffect,NOe=Ax.useMemo,kOe=Ax.useDebugValue;mJ.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=POe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=NOe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,COe(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=OOe(e,s[0],s[1]);return ROe(function(){o.hasValue=!0,o.value=a},[a]),kOe(a),a};pJ.exports=mJ;var DOe=pJ.exports;function $Oe(e){e()}let gJ=$Oe;const LOe=e=>gJ=e,MOe=()=>gJ,lf=S.createContext(null);function yJ(){return S.useContext(lf)}const FOe=()=>{throw new Error("uSES not initialized!")};let _J=FOe;const BOe=e=>{_J=e},jOe=(e,t)=>e===t;function UOe(e=lf){const t=e===lf?yJ:()=>S.useContext(e);return function(r,i=jOe){const{store:s,subscription:o,getServerState:a}=t(),u=_J(o.addNestedSub,s.getState,a||s.getState,r,i);return S.useDebugValue(u),u}}const VOe=UOe();var Mn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD=Symbol.for("react.element"),RD=Symbol.for("react.portal"),Cx=Symbol.for("react.fragment"),Ox=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),Rx=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),zOe=Symbol.for("react.server_context"),kx=Symbol.for("react.forward_ref"),Dx=Symbol.for("react.suspense"),$x=Symbol.for("react.suspense_list"),Lx=Symbol.for("react.memo"),Mx=Symbol.for("react.lazy"),HOe=Symbol.for("react.offscreen"),vJ;vJ=Symbol.for("react.module.reference");function ia(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case PD:switch(e=e.type,e){case Cx:case Px:case Ox:case Dx:case $x:return e;default:switch(e=e&&e.$$typeof,e){case zOe:case Nx:case kx:case Mx:case Lx:case Rx:return e;default:return t}}case RD:return t}}}Mn.ContextConsumer=Nx;Mn.ContextProvider=Rx;Mn.Element=PD;Mn.ForwardRef=kx;Mn.Fragment=Cx;Mn.Lazy=Mx;Mn.Memo=Lx;Mn.Portal=RD;Mn.Profiler=Px;Mn.StrictMode=Ox;Mn.Suspense=Dx;Mn.SuspenseList=$x;Mn.isAsyncMode=function(){return!1};Mn.isConcurrentMode=function(){return!1};Mn.isContextConsumer=function(e){return ia(e)===Nx};Mn.isContextProvider=function(e){return ia(e)===Rx};Mn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===PD};Mn.isForwardRef=function(e){return ia(e)===kx};Mn.isFragment=function(e){return ia(e)===Cx};Mn.isLazy=function(e){return ia(e)===Mx};Mn.isMemo=function(e){return ia(e)===Lx};Mn.isPortal=function(e){return ia(e)===RD};Mn.isProfiler=function(e){return ia(e)===Px};Mn.isStrictMode=function(e){return ia(e)===Ox};Mn.isSuspense=function(e){return ia(e)===Dx};Mn.isSuspenseList=function(e){return ia(e)===$x};Mn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cx||e===Px||e===Ox||e===Dx||e===$x||e===HOe||typeof e=="object"&&e!==null&&(e.$$typeof===Mx||e.$$typeof===Lx||e.$$typeof===Rx||e.$$typeof===Nx||e.$$typeof===kx||e.$$typeof===vJ||e.getModuleId!==void 0)};Mn.typeOf=ia;function WOe(){const e=MOe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const J9={notify(){},get:()=>[]};function qOe(e,t){let n,r=J9;function i(f){return u(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=WOe())}function l(){n&&(n(),n=void 0,r.clear(),r=J9)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const GOe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YOe=GOe?S.useLayoutEffect:S.useEffect;function KOe({store:e,context:t,children:n,serverState:r}){const i=S.useMemo(()=>{const a=qOe(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),s=S.useMemo(()=>e.getState(),[e]);YOe(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=t||lf;return L.createElement(o.Provider,{value:i},n)}function bJ(e=lf){const t=e===lf?yJ:()=>S.useContext(e);return function(){const{store:r}=t();return r}}const QOe=bJ();function XOe(e=lf){const t=e===lf?QOe:bJ(e);return function(){return t().dispatch}}const EJ=XOe();BOe(DOe.useSyncExternalStoreWithSelector);LOe($_.unstable_batchedUpdates);const JOe={},ZOe=Object.freeze(Object.defineProperty({__proto__:null,default:JOe},Symbol.toStringTag,{value:"Module"})),ePe=fce(ZOe);var tPe=ePe;function nPe(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function rPe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function iPe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function sPe(e){return e.__COMMENTS__}function oPe(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var Fx={EOL:tPe.EOL||`
`,tryParseNumber:nPe,createComment:rPe,removeComment:iPe,getComment:sPe,forceComment:oPe},aPe="3.2.1";function uPe(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return Z9}else if(e.length===0)return Z9;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return cPe(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),lPe.bind(null,n)}function lPe(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function Z9(){}function cPe(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function wJ(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}wJ.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function SJ(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}SJ.description="parse hexadecimal numbers prefixed with 0x";function TJ(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}TJ.description="support ISO dates";var ND={loadDsf:uPe,std:{math:wJ,hex:SJ,date:TJ}},fPe=function(e,t){var n=Fx,r=ND,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(H){return H==="{"||H==="}"||H==="["||H==="]"||H===","||H===":"}function d(H){var de,ae=0,pe=1;for(de=s-1;de>0&&i[de]!==`
`;de--,ae++);for(;de>0;de--)i[de]===`
`&&pe++;throw new Error(H+" at line "+pe+","+ae+" >>>"+i.substr(s-ae,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(H){return i.charAt(s+H)}function g(H){for(var de="",ae=o;h();){if(o===ae)return h(),H&&ae==="'"&&o==="'"&&de.length===0?(h(),y()):de;if(o==="\\")if(h(),o==="u"){for(var pe=0,ee=0;ee<4;ee++){h();var ie=o.charCodeAt(0),K;o>="0"&&o<="9"?K=ie-48:o>="a"&&o<="f"?K=ie-97+10:o>="A"&&o<="F"?K=ie-65+10:d("Bad \\u char "+o),pe=pe*16+K}de+=String.fromCharCode(pe)}else if(typeof a[o]=="string")de+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):de+=o}d("Bad string")}function y(){for(var H="",de=0,ae=0;;){var pe=p(-ae-5);if(!pe||pe===`
`)break;ae++}function ee(){for(var ie=ae;o&&o<=" "&&o!==`
`&&ie-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),ee());;){if(!o)d("Bad multiline string");else if(o==="'"){if(de++,h(),de===3)return H.slice(-1)===`
`&&(H=H.slice(0,-1)),H;continue}else for(;de>0;)H+="'",de--;o===`
`?(H+=`
`,h(),ee()):(o!=="\r"&&(H+=o),h())}}function m(){if(o==='"'||o==="'")return g(!1);for(var H="",de=s,ae=-1;;){if(o===":")return H?ae>=0&&ae!==H.length&&(s=de+ae,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),H;o<=" "?o?ae<0&&(ae=H.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):H+=o,h()}}function _(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function v(){var H=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var de=o==="\r"||o===`
`||o==="";if(de||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var ae=H[0];switch(ae){case"f":if(H.trim()==="false")return!1;break;case"n":if(H.trim()==="null")return null;break;case"t":if(H.trim()==="true")return!0;break;default:if(ae==="-"||ae>="0"&&ae<="9"){var pe=n.tryParseNumber(H);if(pe!==void 0)return pe}}if(de){H=H.trim();var ee=l(H);return ee!==void 0?ee:H}}H+=o}}function w(H,de){var ae;for(H--,ae=s-2;ae>H&&i[ae]<=" "&&i[ae]!==`
`;ae--);i[ae]===`
`&&ae--,i[ae]==="\r"&&ae--;var pe=i.substr(H,ae-H+1);for(ae=0;ae<pe.length;ae++)if(pe[ae]>" "){var ee=pe.indexOf(`
`);if(ee>=0){var ie=[pe.substr(0,ee),pe.substr(ee+1)];return de&&ie[0].trim().length===0&&ie.shift(),ie}else return[pe]}return[]}function T(H){function de(pe,ee){var ie,K,I,C;switch(typeof pe){case"string":pe.indexOf(ee)>=0&&(C=pe);break;case"object":if(Object.prototype.toString.apply(pe)==="[object Array]")for(ie=0,I=pe.length;ie<I;ie++)C=de(pe[ie],ee)||C;else for(K in pe)Object.prototype.hasOwnProperty.call(pe,K)&&(C=de(pe[K],ee)||C)}return C}function ae(pe){var ee=de(H,pe);return ee?"found '"+pe+`' in a string value, your mistake could be with:
  > `+ee+`
  (unquoted strings contain everything up to the next line!)`:""}return ae("}")||ae("]")}function E(){var H=[],de,ae,pe;try{if(u&&(de=n.createComment(H,{a:[]})),h(),ae=s,_(),de&&(pe=w(ae,!0).join(`
`)),o==="]")return h(),de&&(de.e=[pe]),H;for(;o;){if(H.push(A()),ae=s,_(),o===","&&(h(),ae=s,_()),de){var ee=w(ae);de.a.push([pe||"",ee[0]||""]),pe=ee[1]}if(o==="]")return h(),de&&(de.a[de.a.length-1][1]+=pe||""),H;_()}d("End of input while parsing an array (missing ']')")}catch(ie){throw ie.hint=ie.hint||T(H),ie}}function x(H){var de="",ae={},pe,ee,ie;try{if(u&&(pe=n.createComment(ae,{c:{},o:[]})),H?ee=1:(h(),ee=s),_(),pe&&(ie=w(ee,!0).join(`
`)),o==="}"&&!H)return pe&&(pe.e=[ie]),h(),ae;for(;o;){if(de=m(),_(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),ae[de]=A(),ee=s,_(),o===","&&(h(),ee=s,_()),pe){var K=w(ee);pe.c[de]=[ie||"",K[0]||""],ie=K[1],pe.o.push(de)}if(o==="}"&&!H)return h(),pe&&(pe.c[de][1]+=ie||""),ae;_()}if(H)return ae;d("End of input while parsing an object (missing '}')")}catch(I){throw I.hint=I.hint||T(ae),I}}function A(){switch(_(),o){case"{":return x();case"[":return E();case"'":case'"':return g(!0);default:return v()}}function M(H,de){var ae=s;if(_(),o&&d("Syntax error, found trailing characters"),u){var pe=de.join(`
`),ee=w(ae).join(`
`);if(ee||pe){var ie=n.createComment(H,n.getComment(H));ie.r=[pe,ee]}}return H}function D(){_();var H=u?w(1):null;switch(o){case"{":return M(x(),H);case"[":return M(E(),H);default:return M(A(),H)}}function $(){_();var H=u?w(1):null;switch(o){case"{":return M(x(),H);case"[":return M(E(),H)}try{return M(x(!0),H)}catch(de){c();try{return M(A(),H)}catch{throw de}}}if(typeof e!="string")throw new Error("source is not a string");var W=null,q=!0;return t&&typeof t=="object"&&(u=t.keepWsc,W=t.dsf,q=t.legacyRoot!==!1),l=r.loadDsf(W,"parse"),i=e,c(),q?$():D()},dPe=function(e,t){var n=Fx,r=ND,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,g=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,g=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var m,_=Object.keys(i);for(m=_.length-1;m>=0;m--){var v=_[m];y[v].push(i[v][0].length,i[v][1].length)}}var w,T="---\u2028--\uFEFF-",E=new RegExp('[\\\\\\"\0-'+T+"]","g"),x=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+T+"]","g"),A=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+T+"]","g"),M=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),D={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},$=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,W="",q=0;function H(C,V){return q+=C[0].length+C[1].length-C[2]-C[3],C[0]+V+C[1]}function de(C){return C.replace(E,function(V){var R=D[V];return typeof R=="string"?H(y.esc,R):H(y.uni,("0000"+V.charCodeAt(0).toString(16)).slice(-4))})}function ae(C,V,R,P){return C?(x.lastIndex=0,M.lastIndex=0,c||R||x.test(C)||n.tryParseNumber(C,!0)!==void 0||M.test(C)?(E.lastIndex=0,A.lastIndex=0,E.test(C)?!A.test(C)&&!P&&d?pe(C,V):H(y.qstr,de(C)):H(y.qstr,C)):H(y.str,C)):H(y.qstr,"")}function pe(C,V){var R,P=C.replace(/\r/g,"").split(`
`);if(V+=o,P.length===1)return H(y.mstr,P[0]);var G=s+V+y.mstr[0];for(R=0;R<P.length;R++)G+=s,P[R]&&(G+=V+P[R]);return G+s+V+y.mstr[1]}function ee(C){return C?l||$.test(C)?(E.lastIndex=0,H(y.qkey,E.test(C)?de(C):C)):H(y.key,C):'""'}function ie(C,V,R,P){function G(nt){return nt&&nt[nt[0]==="\r"?1:0]===`
`}function se(nt){return nt&&!G(nt)}function ue(nt,En,Wt){if(!nt)return"";nt=n.forceComment(nt);var Tt,Fn=nt.length;for(Tt=0;Tt<Fn&&nt[Tt]<=" ";Tt++);return Wt&&Tt>0&&(nt=nt.substr(Tt)),Tt<Fn?En+H(y.rem,nt):nt}var he=w(C);if(he!==void 0)return H(y.dsf,he);switch(typeof C){case"string":return ae(C,W,V,P);case"number":return isFinite(C)?H(y.num,String(C)):H(y.lit,"null");case"boolean":return H(y.lit,String(C));case"object":if(!C)return H(y.lit,"null");var fe;a&&(fe=n.getComment(C));var Te=Object.prototype.toString.apply(C)==="[object Array]",me=W;W+=o;var Xe=s+me,Ge=s+W,He=R||u?"":Xe,Le=[],Ae,Ve=f?[]:null,Zt=c,Me=d,Ue=h?"":y.com[0],bt=0,ze,gt,Yt,un,Gn,ce,we,Fe,ot;if(Te){for(ze=0,gt=C.length;ze<gt;ze++){if(Ae=ze<gt-1,fe?(ce=fe.a[ze]||[],we=se(ce[1]),Le.push(ue(ce[0],`
`)+Ge),Ve&&(ce[0]||ce[1]||we)&&(Ve=null)):Le.push(Ge),q=0,un=C[ze],Le.push(ie(un,fe?we:!1,!0)+(Ae?h:"")),Ve){switch(typeof un){case"string":q=0,c=!0,d=0,Ve.push(ie(un,!1,!0)+(Ae?y.com[0]:"")),c=Zt,d=Me;break;case"object":if(un){Ve=null;break}default:Ve.push(Le[Le.length-1]+(Ae?Ue:""));break}Ae&&(q+=y.com[0].length-y.com[2]),bt+=q}fe&&ce[1]&&Le.push(ue(ce[1],we?" ":`
`,we))}gt===0?fe&&fe.e&&Le.push(ue(fe.e[0],`
`)+Xe):Le.push(Xe),Le.length===0?Fe=H(y.arr,""):(Fe=He+H(y.arr,Le.join("")),Ve&&(ot=Ve.join(" "),ot.length-bt<=f&&(Fe=H(y.arr,ot))))}else{var $e=fe?fe.o.slice():[],at=[];for(Yt in C)Object.prototype.hasOwnProperty.call(C,Yt)&&$e.indexOf(Yt)<0&&at.push(Yt);g&&at.sort();var Be=$e.concat(at);for(ze=0,gt=Be.length;ze<gt;ze++)if(Ae=ze<gt-1,Yt=Be[ze],fe?(ce=fe.c[Yt]||[],we=se(ce[1]),Le.push(ue(ce[0],`
`)+Ge),Ve&&(ce[0]||ce[1]||we)&&(Ve=null)):Le.push(Ge),q=0,un=C[Yt],Gn=ie(un,fe&&we),Le.push(ee(Yt)+y.col[0]+(G(Gn)?"":" ")+Gn+(Ae?h:"")),fe&&ce[1]&&Le.push(ue(ce[1],we?" ":`
`,we)),Ve){switch(typeof un){case"string":q=0,c=!0,d=0,Gn=ie(un,!1),c=Zt,d=Me,Ve.push(ee(Yt)+y.col[0]+" "+Gn+(Ae?y.com[0]:""));break;case"object":if(un){Ve=null;break}default:Ve.push(Le[Le.length-1]+(Ae?Ue:""));break}q+=y.col[0].length-y.col[2],Ae&&(q+=y.com[0].length-y.com[2]),bt+=q}gt===0?fe&&fe.e&&Le.push(ue(fe.e[0],`
`)+Xe):Le.push(Xe),Le.length===0?Fe=H(y.obj,""):(Fe=He+H(y.obj,Le.join("")),Ve&&(ot=Ve.join(" "),ot.length-bt<=f&&(Fe=H(y.obj,ot))))}return W=me,Fe}}w=r.loadDsf(p,"stringify");var K="",I=a?I=(n.getComment(e)||{}).r:null;return I&&I[0]&&(K=I[0]+`
`),K+=ie(e,null,!0,!0),I&&(K+=I[1]||""),K},Ap=Fx;function z0(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function D2(e,t){if(!(e===null||typeof e!="object")){var n=Ap.getComment(e);n&&Ap.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)eB(o.a,r,n.a[r],D2(e[r]))&&(s=!0);!s&&n.e&&(o.e=z0(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];eB(o.s,l,n.c[l],D2(e[l]))&&(s=!0)}!s&&n.e&&(o.e=z0(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=z0(n.r[0],n.r[1])),s?o:void 0}}function hPe(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function pPe(e,t){var n=[];if($2(e,t,n,[]),n.length>0){var r=uS(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+hPe(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),uS(t,r,1)}}function eB(e,t,n,r){var i=z0(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function H0(e,t){var n=z0(t.b,t.a);return n.path=e,n}function W0(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(H0(s,o)),W0(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(H0(u,l)),W0(l.x,t,u))});e.e&&t.push(H0(n,e.e))}}function $2(e,t,n,r){if(e){if(t===null||typeof t!="object"){W0(e,n,r);return}var i,s=Ap.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],$2(u.x,t[i],n,l)):(n.push(H0(l,u)),W0(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],$2(d.x,t[c],n,f))):d&&(n.push(H0(f,d)),W0(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function uS(e,t,n){var r=Ap.createComment(e,Ap.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=Ap.forceComment(t)),r.r[n]||""}var mPe={extract:function(e){return D2(e,!0)},merge:pPe,header:function(e,t){return uS(e,t,0)},footer:function(e,t){return uS(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var tB=Fx,gPe=aPe,nB=fPe,rB=dPe,yPe=mPe,_Pe=ND,kD={parse:nB,stringify:rB,endOfLine:function(){return tB.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(tB.EOL=e)},version:gPe,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,nB(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,rB(e,t)}},comments:yPe,dsf:_Pe.std},L2={exports:{}},xJ={},Ra={},am={},W_={},Gt={},My={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((v,w)=>`${v}${w}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((v,w)=>(w instanceof n&&(v[w.str]=(v[w.str]||0)+1),v),{})}}e._Code=r,e.nil=new r("");function i(m,..._){const v=[m[0]];let w=0;for(;w<_.length;)a(v,_[w]),v.push(m[++w]);return new r(v)}e._=i;const s=new r("+");function o(m,..._){const v=[h(m[0])];let w=0;for(;w<_.length;)v.push(s),a(v,_[w]),v.push(s,h(m[++w]));return u(v),new r(v)}e.str=o;function a(m,_){_ instanceof r?m.push(..._._items):_ instanceof n?m.push(_):m.push(f(_))}e.addCodeArg=a;function u(m){let _=1;for(;_<m.length-1;){if(m[_]===s){const v=l(m[_-1],m[_+1]);if(v!==void 0){m.splice(_-1,3,v);continue}m[_++]="+"}_++}}function l(m,_){if(_==='""')return m;if(m==='""')return _;if(typeof m=="string")return _ instanceof n||m[m.length-1]!=='"'?void 0:typeof _!="string"?`${m.slice(0,-1)}${_}"`:_[0]==='"'?m.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(m instanceof n))return`"${m}${_.slice(1)}`}function c(m,_){return _.emptyStr()?m:m.emptyStr()?_:o`${m}${_}`}e.strConcat=c;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function d(m){return new r(h(m))}e.stringify=d;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}e.getProperty=p;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(m){return new r(m.toString())}e.regexpCode=y})(My);var M2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=My;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let g=this._values[h];if(g){const _=g.get(p);if(_)return _}else g=this._values[h]=new Map;g.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),m=y.length;return y[m]=c.ref,d.setValue(c,{property:h,itemIndex:m}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const g=l[p];if(!g)continue;const y=f[p]=f[p]||new Map;g.forEach(m=>{if(y.has(m))return;y.set(m,r.Started);let _=c(m);if(_){const v=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${v} ${m} = ${_};${this.opts._n}`}else if(_=d==null?void 0:d(m))h=(0,t._)`${h}${_}${this.opts._n}`;else throw new n(m);y.set(m,r.Completed)})}return h}}e.ValueScope=a})(M2);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=My,n=M2;var r=My;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=M2;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(R,P){return this}}class o extends s{constructor(R,P,G){super(),this.varKind=R,this.name=P,this.rhs=G}render({es5:R,_n:P}){const G=R?n.varKinds.var:this.varKind,se=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${se};`+P}optimizeNames(R,P){if(R[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,R,P)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(R,P,G){super(),this.lhs=R,this.rhs=P,this.sideEffects=G}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,P){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,R,P),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return q(R,this.rhs)}}class u extends a{constructor(R,P,G,se){super(R,G,se),this.op=P}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}}class l extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}}class c extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}}class f extends s{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}}class d extends s{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,P){return this.code=H(this.code,R,P),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((P,G)=>P+G.render(R),"")}optimizeNodes(){const{nodes:R}=this;let P=R.length;for(;P--;){const G=R[P].optimizeNodes();Array.isArray(G)?R.splice(P,1,...G):G?R[P]=G:R.splice(P,1)}return R.length>0?this:void 0}optimizeNames(R,P){const{nodes:G}=this;let se=G.length;for(;se--;){const ue=G[se];ue.optimizeNames(R,P)||(de(R,ue.names),G.splice(se,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((R,P)=>W(R,P.names),{})}}class p extends h{render(R){return"{"+R._n+super.render(R)+"}"+R._n}}class g extends h{}class y extends p{}y.kind="else";class m extends p{constructor(R,P){super(P),this.condition=R}render(R){let P=`if(${this.condition})`+super.render(R);return this.else&&(P+="else "+this.else.render(R)),P}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let P=this.else;if(P){const G=P.optimizeNodes();P=this.else=Array.isArray(G)?new y(G):G}if(P)return R===!1?P instanceof m?P:P.nodes:this.nodes.length?this:new m(ae(R),P instanceof m?[P]:P.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,P){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(R,P),!!(super.optimizeNames(R,P)||this.else))return this.condition=H(this.condition,R,P),this}get names(){const R=super.names;return q(R,this.condition),this.else&&W(R,this.else.names),R}}m.kind="if";class _ extends p{}_.kind="for";class v extends _{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,P){if(super.optimizeNames(R,P))return this.iteration=H(this.iteration,R,P),this}get names(){return W(super.names,this.iteration.names)}}class w extends _{constructor(R,P,G,se){super(),this.varKind=R,this.name=P,this.from=G,this.to=se}render(R){const P=R.es5?n.varKinds.var:this.varKind,{name:G,from:se,to:ue}=this;return`for(${P} ${G}=${se}; ${G}<${ue}; ${G}++)`+super.render(R)}get names(){const R=q(super.names,this.from);return q(R,this.to)}}class T extends _{constructor(R,P,G,se){super(),this.loop=R,this.varKind=P,this.name=G,this.iterable=se}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,P){if(super.optimizeNames(R,P))return this.iterable=H(this.iterable,R,P),this}get names(){return W(super.names,this.iterable.names)}}class E extends p{constructor(R,P,G){super(),this.name=R,this.args=P,this.async=G}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}}E.kind="func";class x extends h{render(R){return"return "+super.render(R)}}x.kind="return";class A extends p{render(R){let P="try"+super.render(R);return this.catch&&(P+=this.catch.render(R)),this.finally&&(P+=this.finally.render(R)),P}optimizeNodes(){var R,P;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(R,P){var G,se;return super.optimizeNames(R,P),(G=this.catch)===null||G===void 0||G.optimizeNames(R,P),(se=this.finally)===null||se===void 0||se.optimizeNames(R,P),this}get names(){const R=super.names;return this.catch&&W(R,this.catch.names),this.finally&&W(R,this.finally.names),R}}class M extends p{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}}M.kind="catch";class D extends p{render(R){return"finally"+super.render(R)}}D.kind="finally";class ${constructor(R,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=R,this._scope=new n.Scope({parent:R}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,P){const G=this._extScope.value(R,P);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(R,P){return this._extScope.getValue(R,P)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,P,G,se){const ue=this._scope.toName(P);return G!==void 0&&se&&(this._constants[ue.str]=G),this._leafNode(new o(R,ue,G)),ue}const(R,P,G){return this._def(n.varKinds.const,R,P,G)}let(R,P,G){return this._def(n.varKinds.let,R,P,G)}var(R,P,G){return this._def(n.varKinds.var,R,P,G)}assign(R,P,G){return this._leafNode(new a(R,P,G))}add(R,P){return this._leafNode(new u(R,e.operators.ADD,P))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new d(R)),this}object(...R){const P=["{"];for(const[G,se]of R)P.length>1&&P.push(","),P.push(G),(G!==se||this.opts.es5)&&(P.push(":"),(0,t.addCodeArg)(P,se));return P.push("}"),new t._Code(P)}if(R,P,G){if(this._blockNode(new m(R)),P&&G)this.code(P).else().code(G).endIf();else if(P)this.code(P).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new m(R))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(R,P){return this._blockNode(R),P&&this.code(P).endFor(),this}for(R,P){return this._for(new v(R),P)}forRange(R,P,G,se,ue=this.opts.es5?n.varKinds.var:n.varKinds.let){const he=this._scope.toName(R);return this._for(new w(ue,he,P,G),()=>se(he))}forOf(R,P,G,se=n.varKinds.const){const ue=this._scope.toName(R);if(this.opts.es5){const he=P instanceof t.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,t._)`${he}.length`,fe=>{this.var(ue,(0,t._)`${he}[${fe}]`),G(ue)})}return this._for(new T("of",se,ue,P),()=>G(ue))}forIn(R,P,G,se=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${P})`,G);const ue=this._scope.toName(R);return this._for(new T("in",se,ue,P),()=>G(ue))}endFor(){return this._endBlockNode(_)}label(R){return this._leafNode(new l(R))}break(R){return this._leafNode(new c(R))}return(R){const P=new x;if(this._blockNode(P),this.code(R),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(R,P,G){if(!P&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new A;if(this._blockNode(se),this.code(R),P){const ue=this.name("e");this._currNode=se.catch=new M(ue),P(ue)}return G&&(this._currNode=se.finally=new D,this.code(G)),this._endBlockNode(M,D)}throw(R){return this._leafNode(new f(R))}block(R,P){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(P),this}endBlock(R){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-P;if(G<0||R!==void 0&&G!==R)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${R} expected`);return this._nodes.length=P,this}func(R,P=t.nil,G,se){return this._blockNode(new E(R,P,G)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,P){const G=this._currNode;if(G instanceof R||P&&G instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${R.kind}/${P.kind}`:R.kind}"`)}_elseNode(R){const P=this._currNode;if(!(P instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const P=this._nodes;P[P.length-1]=R}}e.CodeGen=$;function W(V,R){for(const P in R)V[P]=(V[P]||0)+(R[P]||0);return V}function q(V,R){return R instanceof t._CodeOrName?W(V,R.names):V}function H(V,R,P){if(V instanceof t.Name)return G(V);if(!se(V))return V;return new t._Code(V._items.reduce((ue,he)=>(he instanceof t.Name&&(he=G(he)),he instanceof t._Code?ue.push(...he._items):ue.push(he),ue),[]));function G(ue){const he=P[ue.str];return he===void 0||R[ue.str]!==1?ue:(delete R[ue.str],he)}function se(ue){return ue instanceof t._Code&&ue._items.some(he=>he instanceof t.Name&&R[he.str]===1&&P[he.str]!==void 0)}}function de(V,R){for(const P in R)V[P]=(V[P]||0)-(R[P]||0)}function ae(V){return typeof V=="boolean"||typeof V=="number"||V===null?!V:(0,t._)`!${C(V)}`}e.not=ae;const pe=I(e.operators.AND);function ee(...V){return V.reduce(pe)}e.and=ee;const ie=I(e.operators.OR);function K(...V){return V.reduce(ie)}e.or=K;function I(V){return(R,P)=>R===t.nil?P:P===t.nil?R:(0,t._)`${C(R)} ${V} ${C(P)}`}function C(V){return V instanceof t.Name?V:(0,t._)`(${V})`}})(Gt);var mn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Gt,n=My;function r(E){const x={};for(const A of E)x[A]=!0;return x}e.toHash=r;function i(E,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(E,x),!o(x,E.self.RULES.all))}e.alwaysValidSchema=i;function s(E,x=E.schema){const{opts:A,self:M}=E;if(!A.strictSchema||typeof x=="boolean")return;const D=M.RULES.keywords;for(const $ in x)D[$]||T(E,`unknown keyword: "${$}"`)}e.checkUnknownRules=s;function o(E,x){if(typeof E=="boolean")return!E;for(const A in E)if(x[A])return!0;return!1}e.schemaHasRules=o;function a(E,x){if(typeof E=="boolean")return!E;for(const A in E)if(A!=="$ref"&&x.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:E,schemaPath:x},A,M,D){if(!D){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${E}${x}${(0,t.getProperty)(M)}`}e.schemaRefOrVal=u;function l(E){return d(decodeURIComponent(E))}e.unescapeFragment=l;function c(E){return encodeURIComponent(f(E))}e.escapeFragment=c;function f(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(E,x){if(Array.isArray(E))for(const A of E)x(A);else x(E)}e.eachItem=h;function p({mergeNames:E,mergeToName:x,mergeValues:A,resultToName:M}){return(D,$,W,q)=>{const H=W===void 0?$:W instanceof t.Name?($ instanceof t.Name?E(D,$,W):x(D,$,W),W):$ instanceof t.Name?(x(D,W,$),$):A($,W);return q===t.Name&&!(H instanceof t.Name)?M(D,H):H}}e.mergeEvaluated={props:p({mergeNames:(E,x,A)=>E.if((0,t._)`${A} !== true && ${x} !== undefined`,()=>{E.if((0,t._)`${x} === true`,()=>E.assign(A,!0),()=>E.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${x})`))}),mergeToName:(E,x,A)=>E.if((0,t._)`${A} !== true`,()=>{x===!0?E.assign(A,!0):(E.assign(A,(0,t._)`${A} || {}`),y(E,A,x))}),mergeValues:(E,x)=>E===!0?!0:{...E,...x},resultToName:g}),items:p({mergeNames:(E,x,A)=>E.if((0,t._)`${A} !== true && ${x} !== undefined`,()=>E.assign(A,(0,t._)`${x} === true ? true : ${A} > ${x} ? ${A} : ${x}`)),mergeToName:(E,x,A)=>E.if((0,t._)`${A} !== true`,()=>E.assign(A,x===!0?!0:(0,t._)`${A} > ${x} ? ${A} : ${x}`)),mergeValues:(E,x)=>E===!0?!0:Math.max(E,x),resultToName:(E,x)=>E.var("items",x)})};function g(E,x){if(x===!0)return E.var("props",!0);const A=E.var("props",(0,t._)`{}`);return x!==void 0&&y(E,A,x),A}e.evaluatedPropsToName=g;function y(E,x,A){Object.keys(A).forEach(M=>E.assign((0,t._)`${x}${(0,t.getProperty)(M)}`,!0))}e.setEvaluated=y;const m={};function _(E,x){return E.scopeValue("func",{ref:x,code:m[x.code]||(m[x.code]=new n._Code(x.code))})}e.useFunc=_;var v;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(v=e.Type||(e.Type={}));function w(E,x,A){if(E instanceof t.Name){const M=x===v.Num;return A?M?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:M?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(E).toString():"/"+f(E)}e.getErrorPath=w;function T(E,x,A=E.opts.strictSchema){if(A){if(x=`strict mode: ${x}`,A===!0)throw new Error(x);E.self.logger.warn(x)}}e.checkStrictMode=T})(mn);var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});const Ui=Gt,vPe={data:new Ui.Name("data"),valCxt:new Ui.Name("valCxt"),instancePath:new Ui.Name("instancePath"),parentData:new Ui.Name("parentData"),parentDataProperty:new Ui.Name("parentDataProperty"),rootData:new Ui.Name("rootData"),dynamicAnchors:new Ui.Name("dynamicAnchors"),vErrors:new Ui.Name("vErrors"),errors:new Ui.Name("errors"),this:new Ui.Name("this"),self:new Ui.Name("self"),scope:new Ui.Name("scope"),json:new Ui.Name("json"),jsonPos:new Ui.Name("jsonPos"),jsonLen:new Ui.Name("jsonLen"),jsonPart:new Ui.Name("jsonPart")};Vu.default=vPe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Gt,n=mn,r=Vu;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,m=e.keywordError,_,v){const{it:w}=y,{gen:T,compositeRule:E,allErrors:x}=w,A=f(y,m,_);v??(E||x)?u(T,A):l(w,(0,t._)`[${A}]`)}e.reportError=i;function s(y,m=e.keywordError,_){const{it:v}=y,{gen:w,compositeRule:T,allErrors:E}=v,x=f(y,m,_);u(w,x),T||E||l(v,r.default.vErrors)}e.reportExtraError=s;function o(y,m){y.assign(r.default.errors,m),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${r.default.vErrors}.length`,m),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:m,schemaValue:_,data:v,errsCount:w,it:T}){if(w===void 0)throw new Error("ajv implementation error");const E=y.name("err");y.forRange("i",w,r.default.errors,x=>{y.const(E,(0,t._)`${r.default.vErrors}[${x}]`),y.if((0,t._)`${E}.instancePath === undefined`,()=>y.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(r.default.instancePath,T.errorPath))),y.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${m}`),T.opts.verbose&&(y.assign((0,t._)`${E}.schema`,_),y.assign((0,t._)`${E}.data`,v))})}e.extendErrors=a;function u(y,m){const _=y.const("err",m);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${r.default.vErrors}.push(${_})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,m){const{gen:_,validateName:v,schemaEnv:w}=y;w.$async?_.throw((0,t._)`new ${y.ValidationError}(${m})`):(_.assign((0,t._)`${v}.errors`,m),_.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,m,_){const{createErrors:v}=y.it;return v===!1?(0,t._)`{}`:d(y,m,_)}function d(y,m,_={}){const{gen:v,it:w}=y,T=[h(w,_),p(y,_)];return g(y,m,T),v.object(...T)}function h({errorPath:y},{instancePath:m}){const _=m?(0,t.str)`${y}${(0,n.getErrorPath)(m,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,_)]}function p({keyword:y,it:{errSchemaPath:m}},{schemaPath:_,parentSchema:v}){let w=v?m:(0,t.str)`${m}/${y}`;return _&&(w=(0,t.str)`${w}${(0,n.getErrorPath)(_,n.Type.Str)}`),[c.schemaPath,w]}function g(y,{params:m,message:_},v){const{keyword:w,data:T,schemaValue:E,it:x}=y,{opts:A,propertyName:M,topSchemaRef:D,schemaPath:$}=x;v.push([c.keyword,w],[c.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),A.messages&&v.push([c.message,typeof _=="function"?_(y):_]),A.verbose&&v.push([c.schema,E],[c.parentSchema,(0,t._)`${D}${$}`],[r.default.data,T]),M&&v.push([c.propertyName,M])}})(W_);Object.defineProperty(am,"__esModule",{value:!0});am.boolOrEmptySchema=am.topBoolOrEmptySchema=void 0;const bPe=W_,EPe=Gt,wPe=Vu,SPe={message:"boolean schema is false"};function TPe(e){const{gen:t,schema:n,validateName:r}=e;n===!1?IJ(e,!1):typeof n=="object"&&n.$async===!0?t.return(wPe.default.data):(t.assign((0,EPe._)`${r}.errors`,null),t.return(!0))}am.topBoolOrEmptySchema=TPe;function xPe(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),IJ(e)):n.var(t,!0)}am.boolOrEmptySchema=xPe;function IJ(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,bPe.reportError)(i,SPe,void 0,t)}var q_={},Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.getRules=Vd.isJSONType=void 0;const IPe=["string","number","integer","boolean","null","object","array"],APe=new Set(IPe);function CPe(e){return typeof e=="string"&&APe.has(e)}Vd.isJSONType=CPe;function OPe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Vd.getRules=OPe;var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.shouldUseRule=Tl.shouldUseGroup=Tl.schemaHasRulesForType=void 0;function PPe({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&AJ(e,r)}Tl.schemaHasRulesForType=PPe;function AJ(e,t){return t.rules.some(n=>CJ(e,n))}Tl.shouldUseGroup=AJ;function CJ(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Tl.shouldUseRule=CJ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Vd,n=Tl,r=W_,i=Gt,s=mn;var o;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(v){const w=u(v.type);if(w.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&w.push("null")}return w}e.getSchemaTypes=a;function u(v){const w=Array.isArray(v)?v:v?[v]:[];if(w.every(t.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}e.getJSONTypes=u;function l(v,w){const{gen:T,data:E,opts:x}=v,A=f(w,x.coerceTypes),M=w.length>0&&!(A.length===0&&w.length===1&&(0,n.schemaHasRulesForType)(v,w[0]));if(M){const D=g(w,E,x.strictNumbers,o.Wrong);T.if(D,()=>{A.length?d(v,w,A):m(v)})}return M}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(v,w){return w?v.filter(T=>c.has(T)||w==="array"&&T==="array"):[]}function d(v,w,T){const{gen:E,data:x,opts:A}=v,M=E.let("dataType",(0,i._)`typeof ${x}`),D=E.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&E.if((0,i._)`${M} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>E.assign(x,(0,i._)`${x}[0]`).assign(M,(0,i._)`typeof ${x}`).if(g(w,x,A.strictNumbers),()=>E.assign(D,x))),E.if((0,i._)`${D} !== undefined`);for(const W of T)(c.has(W)||W==="array"&&A.coerceTypes==="array")&&$(W);E.else(),m(v),E.endIf(),E.if((0,i._)`${D} !== undefined`,()=>{E.assign(x,D),h(v,D)});function $(W){switch(W){case"string":E.elseIf((0,i._)`${M} == "number" || ${M} == "boolean"`).assign(D,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(D,(0,i._)`""`);return;case"number":E.elseIf((0,i._)`${M} == "boolean" || ${x} === null
              || (${M} == "string" && ${x} && ${x} == +${x})`).assign(D,(0,i._)`+${x}`);return;case"integer":E.elseIf((0,i._)`${M} === "boolean" || ${x} === null
              || (${M} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(D,(0,i._)`+${x}`);return;case"boolean":E.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(D,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(D,!0);return;case"null":E.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),E.assign(D,null);return;case"array":E.elseIf((0,i._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${x} === null`).assign(D,(0,i._)`[${x}]`)}}}function h({gen:v,parentData:w,parentDataProperty:T},E){v.if((0,i._)`${w} !== undefined`,()=>v.assign((0,i._)`${w}[${T}]`,E))}function p(v,w,T,E=o.Correct){const x=E===o.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(v){case"null":return(0,i._)`${w} ${x} null`;case"array":A=(0,i._)`Array.isArray(${w})`;break;case"object":A=(0,i._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":A=M((0,i._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":A=M();break;default:return(0,i._)`typeof ${w} ${x} ${v}`}return E===o.Correct?A:(0,i.not)(A);function M(D=i.nil){return(0,i.and)((0,i._)`typeof ${w} == "number"`,D,T?(0,i._)`isFinite(${w})`:i.nil)}}e.checkDataType=p;function g(v,w,T,E){if(v.length===1)return p(v[0],w,T,E);let x;const A=(0,s.toHash)(v);if(A.array&&A.object){const M=(0,i._)`typeof ${w} != "object"`;x=A.null?M:(0,i._)`!${w} || ${M}`,delete A.null,delete A.array,delete A.object}else x=i.nil;A.number&&delete A.integer;for(const M in A)x=(0,i.and)(x,p(M,w,T,E));return x}e.checkDataTypes=g;const y={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:w})=>typeof v=="string"?(0,i._)`{type: ${v}}`:(0,i._)`{type: ${w}}`};function m(v){const w=_(v);(0,r.reportError)(w,y)}e.reportTypeError=m;function _(v){const{gen:w,data:T,schema:E}=v,x=(0,s.schemaRefOrVal)(v,E,"type");return{gen:w,keyword:"type",data:T,schema:E.type,schemaCode:x,schemaValue:x,parentSchema:E,params:{},it:v}}})(q_);var Bx={};Object.defineProperty(Bx,"__esModule",{value:!0});Bx.assignDefaults=void 0;const Rh=Gt,RPe=mn;function NPe(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)iB(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>iB(e,s,i.default))}Bx.assignDefaults=NPe;function iB(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,Rh._)`${s}${(0,Rh.getProperty)(t)}`;if(i){(0,RPe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,Rh._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,Rh._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,Rh._)`${a} = ${(0,Rh.stringify)(n)}`)}var du={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.validateUnion=qt.validateArray=qt.usePattern=qt.callValidateCode=qt.schemaProperties=qt.allSchemaProperties=qt.noPropertyInData=qt.propertyInData=qt.isOwnProperty=qt.hasPropFunc=qt.reportMissingProp=qt.checkMissingProp=qt.checkReportMissingProp=void 0;const Qn=Gt,DD=mn,lc=Vu,kPe=mn;function DPe(e,t){const{gen:n,data:r,it:i}=e;n.if(LD(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Qn._)`${t}`},!0),e.error()})}qt.checkReportMissingProp=DPe;function $Pe({gen:e,data:t,it:{opts:n}},r,i){return(0,Qn.or)(...r.map(s=>(0,Qn.and)(LD(e,t,s,n.ownProperties),(0,Qn._)`${i} = ${s}`)))}qt.checkMissingProp=$Pe;function LPe(e,t){e.setParams({missingProperty:t},!0),e.error()}qt.reportMissingProp=LPe;function OJ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Qn._)`Object.prototype.hasOwnProperty`})}qt.hasPropFunc=OJ;function $D(e,t,n){return(0,Qn._)`${OJ(e)}.call(${t}, ${n})`}qt.isOwnProperty=$D;function MPe(e,t,n,r){const i=(0,Qn._)`${t}${(0,Qn.getProperty)(n)} !== undefined`;return r?(0,Qn._)`${i} && ${$D(e,t,n)}`:i}qt.propertyInData=MPe;function LD(e,t,n,r){const i=(0,Qn._)`${t}${(0,Qn.getProperty)(n)} === undefined`;return r?(0,Qn.or)(i,(0,Qn.not)($D(e,t,n))):i}qt.noPropertyInData=LD;function PJ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}qt.allSchemaProperties=PJ;function FPe(e,t){return PJ(t).filter(n=>!(0,DD.alwaysValidSchema)(e,t[n]))}qt.schemaProperties=FPe;function BPe({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,Qn._)`${e}, ${t}, ${r}${i}`:t,f=[[lc.default.instancePath,(0,Qn.strConcat)(lc.default.instancePath,s)],[lc.default.parentData,o.parentData],[lc.default.parentDataProperty,o.parentDataProperty],[lc.default.rootData,lc.default.rootData]];o.opts.dynamicRef&&f.push([lc.default.dynamicAnchors,lc.default.dynamicAnchors]);const d=(0,Qn._)`${c}, ${n.object(...f)}`;return u!==Qn.nil?(0,Qn._)`${a}.call(${u}, ${d})`:(0,Qn._)`${a}(${d})`}qt.callValidateCode=BPe;const jPe=(0,Qn._)`new RegExp`;function UPe({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Qn._)`${i.code==="new RegExp"?jPe:(0,kPe.useFunc)(e,i)}(${n}, ${r})`})}qt.usePattern=UPe;function VPe(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,Qn._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:DD.Type.Num},s),t.if((0,Qn.not)(s),a)})}}qt.validateArray=VPe;function zPe(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,DD.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Qn._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Qn.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}qt.validateUnion=zPe;Object.defineProperty(du,"__esModule",{value:!0});du.validateKeywordUsage=du.validSchemaType=du.funcKeywordCode=du.macroKeywordCode=void 0;const fs=Gt,nd=Vu,HPe=qt,WPe=W_;function qPe(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=RJ(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:fs.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}du.macroKeywordCode=qPe;function GPe(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;KPe(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=RJ(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)g(),t.modifying&&sB(e),y(()=>e.error());else{const m=t.async?h():p();t.modifying&&sB(e),y(()=>YPe(e,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,fs._)`await `),_=>r.assign(f,!1).if((0,fs._)`${_} instanceof ${u.ValidationError}`,()=>r.assign(m,(0,fs._)`${_}.errors`),()=>r.throw(_))),m}function p(){const m=(0,fs._)`${c}.errors`;return r.assign(m,null),g(fs.nil),m}function g(m=t.async?(0,fs._)`await `:fs.nil){const _=u.opts.passContext?nd.default.this:nd.default.self,v=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,fs._)`${m}${(0,HPe.callValidateCode)(e,c,_,v)}`,t.modifying)}function y(m){var _;r.if((0,fs.not)((_=t.valid)!==null&&_!==void 0?_:f),m)}}du.funcKeywordCode=GPe;function sB(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,fs._)`${r.parentData}[${r.parentDataProperty}]`))}function YPe(e,t){const{gen:n}=e;n.if((0,fs._)`Array.isArray(${t})`,()=>{n.assign(nd.default.vErrors,(0,fs._)`${nd.default.vErrors} === null ? ${t} : ${nd.default.vErrors}.concat(${t})`).assign(nd.default.errors,(0,fs._)`${nd.default.vErrors}.length`),(0,WPe.extendErrors)(e)},()=>e.error())}function KPe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function RJ(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,fs.stringify)(n)})}function QPe(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}du.validSchemaType=QPe;function XPe({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}du.validateKeywordUsage=XPe;var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.extendSubschemaMode=Qc.extendSubschemaData=Qc.getSubschema=void 0;const ru=Gt,NJ=mn;function JPe(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,ru._)`${e.schemaPath}${(0,ru.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,ru._)`${e.schemaPath}${(0,ru.getProperty)(t)}${(0,ru.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,NJ.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Qc.getSubschema=JPe;function ZPe(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,ru._)`${t.data}${(0,ru.getProperty)(n)}`,!0);u(d),e.errorPath=(0,ru.str)`${l}${(0,NJ.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,ru._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof ru.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Qc.extendSubschemaData=ZPe;function e2e(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}Qc.extendSubschemaMode=e2e;var Oi={},MD=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const oB=Ba(MD);var kJ={exports:{}},$c=kJ.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};wb(t,r,i,e,"",e)};$c.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};$c.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};$c.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};$c.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function wb(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in $c.arrayKeywords)for(var d=0;d<f.length;d++)wb(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in $c.propsKeywords){if(f&&typeof f=="object")for(var h in f)wb(e,t,n,f[h],i+"/"+c+"/"+t2e(h),s,i,c,r,h)}else(c in $c.keywords||e.allKeys&&!(c in $c.skipKeywords))&&wb(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function t2e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var n2e=kJ.exports;Object.defineProperty(Oi,"__esModule",{value:!0});Oi.getSchemaRefs=Oi.resolveUrl=Oi.normalizeId=Oi._getFullPath=Oi.getFullPath=Oi.inlineRef=void 0;const r2e=mn,i2e=MD,s2e=n2e,o2e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a2e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!F2(e):t?DJ(e)<=t:!1}Oi.inlineRef=a2e;const u2e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function F2(e){for(const t in e){if(u2e.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(F2)||typeof n=="object"&&F2(n))return!0}return!1}function DJ(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!o2e.has(n)&&(typeof e[n]=="object"&&(0,r2e.eachItem)(e[n],r=>t+=DJ(r)),t===1/0))return 1/0}return t}function $J(e,t="",n){n!==!1&&(t=Cp(t));const r=e.parse(t);return LJ(e,r)}Oi.getFullPath=$J;function LJ(e,t){return e.serialize(t).split("#")[0]+"#"}Oi._getFullPath=LJ;const l2e=/#\/?$/;function Cp(e){return e?e.replace(l2e,""):""}Oi.normalizeId=Cp;function c2e(e,t,n){return n=Cp(n),e.resolve(t,n)}Oi.resolveUrl=c2e;const f2e=/^[a-z_][-a-z0-9._]*$/i;function d2e(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=Cp(e[n]||t),s={"":i},o=$J(r,i,!1),a={},u=new Set;return s2e(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const g=o+d;let y=s[p];typeof f[n]=="string"&&(y=m.call(this,f[n])),_.call(this,f.$anchor),_.call(this,f.$dynamicAnchor),s[d]=y;function m(v){const w=this.opts.uriResolver.resolve;if(v=Cp(y?w(y,v):v),u.has(v))throw c(v);u.add(v);let T=this.refs[v];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?l(f,T.schema,v):v!==Cp(g)&&(v[0]==="#"?(l(f,a[v],v),a[v]=f):this.refs[v]=g),v}function _(v){if(typeof v=="string"){if(!f2e.test(v))throw new Error(`invalid anchor "${v}"`);m.call(this,`#${v}`)}}}),a;function l(f,d,h){if(d!==void 0&&!i2e(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Oi.getSchemaRefs=d2e;Object.defineProperty(Ra,"__esModule",{value:!0});Ra.getData=Ra.KeywordCxt=Ra.validateFunctionCode=void 0;const MJ=am,aB=q_,FD=Tl,lS=q_,h2e=Bx,q0=du,RC=Qc,rt=Gt,yt=Vu,p2e=Oi,xl=mn,Bg=W_;function m2e(e){if(jJ(e)&&(UJ(e),BJ(e))){_2e(e);return}FJ(e,()=>(0,MJ.topBoolOrEmptySchema)(e))}Ra.validateFunctionCode=m2e;function FJ({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,rt._)`${yt.default.data}, ${yt.default.valCxt}`,r.$async,()=>{e.code((0,rt._)`"use strict"; ${uB(n,i)}`),y2e(e,i),e.code(s)}):e.func(t,(0,rt._)`${yt.default.data}, ${g2e(i)}`,r.$async,()=>e.code(uB(n,i)).code(s))}function g2e(e){return(0,rt._)`{${yt.default.instancePath}="", ${yt.default.parentData}, ${yt.default.parentDataProperty}, ${yt.default.rootData}=${yt.default.data}${e.dynamicRef?(0,rt._)`, ${yt.default.dynamicAnchors}={}`:rt.nil}}={}`}function y2e(e,t){e.if(yt.default.valCxt,()=>{e.var(yt.default.instancePath,(0,rt._)`${yt.default.valCxt}.${yt.default.instancePath}`),e.var(yt.default.parentData,(0,rt._)`${yt.default.valCxt}.${yt.default.parentData}`),e.var(yt.default.parentDataProperty,(0,rt._)`${yt.default.valCxt}.${yt.default.parentDataProperty}`),e.var(yt.default.rootData,(0,rt._)`${yt.default.valCxt}.${yt.default.rootData}`),t.dynamicRef&&e.var(yt.default.dynamicAnchors,(0,rt._)`${yt.default.valCxt}.${yt.default.dynamicAnchors}`)},()=>{e.var(yt.default.instancePath,(0,rt._)`""`),e.var(yt.default.parentData,(0,rt._)`undefined`),e.var(yt.default.parentDataProperty,(0,rt._)`undefined`),e.var(yt.default.rootData,yt.default.data),t.dynamicRef&&e.var(yt.default.dynamicAnchors,(0,rt._)`{}`)})}function _2e(e){const{schema:t,opts:n,gen:r}=e;FJ(e,()=>{n.$comment&&t.$comment&&zJ(e),S2e(e),r.let(yt.default.vErrors,null),r.let(yt.default.errors,0),n.unevaluated&&v2e(e),VJ(e),I2e(e)})}function v2e(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,rt._)`${n}.evaluated`),t.if((0,rt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,rt._)`${e.evaluated}.props`,(0,rt._)`undefined`)),t.if((0,rt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,rt._)`${e.evaluated}.items`,(0,rt._)`undefined`))}function uB(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,rt._)`/*# sourceURL=${n} */`:rt.nil}function b2e(e,t){if(jJ(e)&&(UJ(e),BJ(e))){E2e(e,t);return}(0,MJ.boolOrEmptySchema)(e,t)}function BJ({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function jJ(e){return typeof e.schema!="boolean"}function E2e(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&zJ(e),T2e(e),x2e(e);const s=r.const("_errs",yt.default.errors);VJ(e,s),r.var(t,(0,rt._)`${s} === ${yt.default.errors}`)}function UJ(e){(0,xl.checkUnknownRules)(e),w2e(e)}function VJ(e,t){if(e.opts.jtd)return lB(e,[],!1,t);const n=(0,aB.getSchemaTypes)(e.schema),r=(0,aB.coerceAndCheckDataType)(e,n);lB(e,n,!r,t)}function w2e(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,xl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function S2e(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,xl.checkStrictMode)(e,"default is ignored in the schema root")}function T2e(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,p2e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function x2e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function zJ({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,rt._)`${yt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,rt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,rt._)`${yt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function I2e(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,rt._)`${yt.default.errors} === 0`,()=>t.return(yt.default.data),()=>t.throw((0,rt._)`new ${i}(${yt.default.vErrors})`)):(t.assign((0,rt._)`${r}.errors`,yt.default.vErrors),s.unevaluated&&A2e(e),t.return((0,rt._)`${yt.default.errors} === 0`))}function A2e({gen:e,evaluated:t,props:n,items:r}){n instanceof rt.Name&&e.assign((0,rt._)`${t}.props`,n),r instanceof rt.Name&&e.assign((0,rt._)`${t}.items`,r)}function lB(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,xl.schemaHasRulesButRef)(s,c))){i.block(()=>qJ(e,"$ref",c.all.$ref.definition));return}u.jtd||C2e(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,FD.shouldUseGroup)(s,d)&&(d.type?(i.if((0,lS.checkDataType)(d.type,o,u.strictNumbers)),cB(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,lS.reportTypeError)(e)),i.endIf()):cB(e,d),a||i.if((0,rt._)`${yt.default.errors} === ${r||0}`))}}function cB(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,h2e.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,FD.shouldUseRule)(r,s)&&qJ(e,s.keyword,s.definition,t.type)})}function C2e(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(O2e(e,t),e.opts.allowUnionTypes||P2e(e,t),R2e(e,e.dataTypes))}function O2e(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{HJ(e.dataTypes,n)||BD(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),k2e(e,t)}}function P2e(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&BD(e,"use allowUnionTypes to allow union type keyword")}function R2e(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,FD.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>N2e(t,o))&&BD(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function N2e(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function HJ(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function k2e(e,t){const n=[];for(const r of e.dataTypes)HJ(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function BD(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,xl.checkStrictMode)(e,t,e.opts.strictTypes)}class WJ{constructor(t,n,r){if((0,q0.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,xl.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",GJ(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,q0.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",yt.default.errors))}result(t,n,r){this.failResult((0,rt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,rt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,rt._)`${n} !== undefined && (${(0,rt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?Bg.reportExtraError:Bg.reportError)(this,this.def.error,n)}$dataError(){(0,Bg.reportError)(this,this.def.$dataError||Bg.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Bg.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=rt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=rt.nil,n=rt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,rt.or)((0,rt._)`${i} === undefined`,n)),t!==rt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==rt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,rt.or)(o(),a());function o(){if(r.length){if(!(n instanceof rt.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,rt._)`${(0,lS.checkDataTypes)(u,n,s.opts.strictNumbers,lS.DataType.Wrong)}`}return rt.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,rt._)`!${u}(${n})`}return rt.nil}}subschema(t,n){const r=(0,RC.getSubschema)(this.it,t);(0,RC.extendSubschemaData)(r,this.it,t),(0,RC.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return b2e(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=xl.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=xl.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,rt.Name)),!0}}Ra.KeywordCxt=WJ;function qJ(e,t,n,r){const i=new WJ(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,q0.funcKeywordCode)(i,n):"macro"in n?(0,q0.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,q0.funcKeywordCode)(i,n)}const D2e=/^\/(?:[^~]|~0|~1)*$/,$2e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function GJ(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return yt.default.rootData;if(e[0]==="/"){if(!D2e.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=yt.default.rootData}else{const l=$2e.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,rt._)`${s}${(0,rt.getProperty)((0,xl.unescapeJsonPointer)(l))}`,o=(0,rt._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Ra.getData=GJ;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});class L2e extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}G_.default=L2e;var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});const NC=Oi;class M2e extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,NC.resolveUrl)(t,n,r),this.missingSchema=(0,NC.normalizeId)((0,NC.getFullPath)(t,this.missingRef))}}Y_.default=M2e;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.resolveSchema=Ms.getCompilingSchema=Ms.resolveRef=Ms.compileSchema=Ms.SchemaEnv=void 0;const ha=Gt,F2e=G_,zf=Vu,Sa=Oi,fB=mn,B2e=Ra;class jx{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Sa.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Ms.SchemaEnv=jx;function jD(e){const t=YJ.call(this,e);if(t)return t;const n=(0,Sa.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new ha.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:F2e.default,code:(0,ha._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:zf.default.data,parentData:zf.default.parentData,parentDataProperty:zf.default.parentDataProperty,dataNames:[zf.default.data],dataPathArr:[ha.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ha.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:ha.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ha._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,B2e.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(zf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${zf.default.self}`,`${zf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:g}=l;h.evaluated={props:p instanceof ha.Name?void 0:p,items:g instanceof ha.Name?void 0:g,dynamicProps:p instanceof ha.Name,dynamicItems:g instanceof ha.Name},h.source&&(h.source.evaluated=(0,ha.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Ms.compileSchema=jD;function j2e(e,t,n){var r;n=(0,Sa.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=z2e.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new jx({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=U2e.call(this,s)}Ms.resolveRef=j2e;function U2e(e){return(0,Sa.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:jD.call(this,e)}function YJ(e){for(const t of this._compilations)if(V2e(t,e))return t}Ms.getCompilingSchema=YJ;function V2e(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function z2e(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||Ux.call(this,e,t)}function Ux(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Sa._getFullPath)(this.opts.uriResolver,n);let i=(0,Sa.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return kC.call(this,n,e);const s=(0,Sa.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=Ux.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:kC.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||jD.call(this,o),s===(0,Sa.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,Sa.resolveUrl)(this.opts.uriResolver,i,l)),new jx({schema:a,schemaId:u,root:e,baseId:i})}return kC.call(this,n,o)}}Ms.resolveSchema=Ux;const H2e=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function kC(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,fB.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!H2e.has(a)&&l&&(t=(0,Sa.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,fB.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Sa.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=Ux.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new jx({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const W2e="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",q2e="Meta-schema for $data reference (JSON AnySchema extension proposal)",G2e="object",Y2e=["$data"],K2e={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Q2e=!1,X2e={$id:W2e,description:q2e,type:G2e,required:Y2e,properties:K2e,additionalProperties:Q2e};var UD={},B2={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(oo,function(n){function r(){for(var X=arguments.length,U=Array(X),Z=0;Z<X;Z++)U[Z]=arguments[Z];if(U.length>1){U[0]=U[0].slice(0,-1);for(var ye=U.length-1,ge=1;ge<ye;++ge)U[ge]=U[ge].slice(1,-1);return U[ye]=U[ye].slice(1),U.join("")}else return U[0]}function i(X){return"(?:"+X+")"}function s(X){return X===void 0?"undefined":X===null?"null":Object.prototype.toString.call(X).split(" ").pop().split("]").shift().toLowerCase()}function o(X){return X.toUpperCase()}function a(X){return X!=null?X instanceof Array?X:typeof X.length!="number"||X.split||X.setInterval||X.call?[X]:Array.prototype.slice.call(X):[]}function u(X,U){var Z=X;if(U)for(var ye in U)Z[ye]=U[ye];return Z}function l(X){var U="[A-Za-z]",Z="[0-9]",ye=r(Z,"[A-Fa-f]"),ge=i(i("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+i("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+i("%"+ye+ye)),Ye="[\\:\\/\\?\\#\\[\\]\\@]",Se="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",We=r(Ye,Se),ct=X?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",tt=X?"[\\uE000-\\uF8FF]":"[]",mt=r(U,Z,"[\\-\\.\\_\\~]",ct);i(U+r(U,Z,"[\\+\\-\\.]")+"*"),i(i(ge+"|"+r(mt,Se,"[\\:]"))+"*");var Lt=i(i("25[0-5]")+"|"+i("2[0-4]"+Z)+"|"+i("1"+Z+Z)+"|"+i("0?[1-9]"+Z)+"|0?0?"+Z),Dn=i(Lt+"\\."+Lt+"\\."+Lt+"\\."+Lt),pt=i(ye+"{1,4}"),An=i(i(pt+"\\:"+pt)+"|"+Dn),Et=i(i(pt+"\\:")+"{6}"+An),gn=i("\\:\\:"+i(pt+"\\:")+"{5}"+An),er=i(i(pt)+"?\\:\\:"+i(pt+"\\:")+"{4}"+An),Gr=i(i(i(pt+"\\:")+"{0,1}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{3}"+An),Rr=i(i(i(pt+"\\:")+"{0,2}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{2}"+An),us=i(i(i(pt+"\\:")+"{0,3}"+pt)+"?\\:\\:"+pt+"\\:"+An),bi=i(i(i(pt+"\\:")+"{0,4}"+pt)+"?\\:\\:"+An),hr=i(i(i(pt+"\\:")+"{0,5}"+pt)+"?\\:\\:"+pt),Qe=i(i(i(pt+"\\:")+"{0,6}"+pt)+"?\\:\\:"),zt=i([Et,gn,er,Gr,Rr,us,bi,hr,Qe].join("|")),zn=i(i(mt+"|"+ge)+"+");i("[vV]"+ye+"+\\."+r(mt,Se,"[\\:]")+"+"),i(i(ge+"|"+r(mt,Se))+"*");var ai=i(ge+"|"+r(mt,Se,"[\\:\\@]"));return i(i(ge+"|"+r(mt,Se,"[\\@]"))+"+"),i(i(ai+"|"+r("[\\/\\?]",tt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",U,Z,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",mt,Se),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",mt,Se),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",mt,Se),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",mt,Se),"g"),NOT_QUERY:new RegExp(r("[^\\%]",mt,Se,"[\\:\\@\\/\\?]",tt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",mt,Se,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",mt,Se),"g"),UNRESERVED:new RegExp(mt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",mt,We),"g"),PCT_ENCODED:new RegExp(ge,"g"),IPV4ADDRESS:new RegExp("^("+Dn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+i(i("\\%25|\\%(?!"+ye+"{2})")+"("+zn+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function X(U,Z){var ye=[],ge=!0,Ye=!1,Se=void 0;try{for(var We=U[Symbol.iterator](),ct;!(ge=(ct=We.next()).done)&&(ye.push(ct.value),!(Z&&ye.length===Z));ge=!0);}catch(tt){Ye=!0,Se=tt}finally{try{!ge&&We.return&&We.return()}finally{if(Ye)throw Se}}return ye}return function(U,Z){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return X(U,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(X){if(Array.isArray(X)){for(var U=0,Z=Array(X.length);U<X.length;U++)Z[U]=X[U];return Z}else return Array.from(X)},p=2147483647,g=36,y=1,m=26,_=38,v=700,w=72,T=128,E="-",x=/^xn--/,A=/[^\0-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=g-y,W=Math.floor,q=String.fromCharCode;function H(X){throw new RangeError(D[X])}function de(X,U){for(var Z=[],ye=X.length;ye--;)Z[ye]=U(X[ye]);return Z}function ae(X,U){var Z=X.split("@"),ye="";Z.length>1&&(ye=Z[0]+"@",X=Z[1]),X=X.replace(M,".");var ge=X.split("."),Ye=de(ge,U).join(".");return ye+Ye}function pe(X){for(var U=[],Z=0,ye=X.length;Z<ye;){var ge=X.charCodeAt(Z++);if(ge>=55296&&ge<=56319&&Z<ye){var Ye=X.charCodeAt(Z++);(Ye&64512)==56320?U.push(((ge&1023)<<10)+(Ye&1023)+65536):(U.push(ge),Z--)}else U.push(ge)}return U}var ee=function(U){return String.fromCodePoint.apply(String,h(U))},ie=function(U){return U-48<10?U-22:U-65<26?U-65:U-97<26?U-97:g},K=function(U,Z){return U+22+75*(U<26)-((Z!=0)<<5)},I=function(U,Z,ye){var ge=0;for(U=ye?W(U/v):U>>1,U+=W(U/Z);U>$*m>>1;ge+=g)U=W(U/$);return W(ge+($+1)*U/(U+_))},C=function(U){var Z=[],ye=U.length,ge=0,Ye=T,Se=w,We=U.lastIndexOf(E);We<0&&(We=0);for(var ct=0;ct<We;++ct)U.charCodeAt(ct)>=128&&H("not-basic"),Z.push(U.charCodeAt(ct));for(var tt=We>0?We+1:0;tt<ye;){for(var mt=ge,Lt=1,Dn=g;;Dn+=g){tt>=ye&&H("invalid-input");var pt=ie(U.charCodeAt(tt++));(pt>=g||pt>W((p-ge)/Lt))&&H("overflow"),ge+=pt*Lt;var An=Dn<=Se?y:Dn>=Se+m?m:Dn-Se;if(pt<An)break;var Et=g-An;Lt>W(p/Et)&&H("overflow"),Lt*=Et}var gn=Z.length+1;Se=I(ge-mt,gn,mt==0),W(ge/gn)>p-Ye&&H("overflow"),Ye+=W(ge/gn),ge%=gn,Z.splice(ge++,0,Ye)}return String.fromCodePoint.apply(String,Z)},V=function(U){var Z=[];U=pe(U);var ye=U.length,ge=T,Ye=0,Se=w,We=!0,ct=!1,tt=void 0;try{for(var mt=U[Symbol.iterator](),Lt;!(We=(Lt=mt.next()).done);We=!0){var Dn=Lt.value;Dn<128&&Z.push(q(Dn))}}catch(be){ct=!0,tt=be}finally{try{!We&&mt.return&&mt.return()}finally{if(ct)throw tt}}var pt=Z.length,An=pt;for(pt&&Z.push(E);An<ye;){var Et=p,gn=!0,er=!1,Gr=void 0;try{for(var Rr=U[Symbol.iterator](),us;!(gn=(us=Rr.next()).done);gn=!0){var bi=us.value;bi>=ge&&bi<Et&&(Et=bi)}}catch(be){er=!0,Gr=be}finally{try{!gn&&Rr.return&&Rr.return()}finally{if(er)throw Gr}}var hr=An+1;Et-ge>W((p-Ye)/hr)&&H("overflow"),Ye+=(Et-ge)*hr,ge=Et;var Qe=!0,zt=!1,zn=void 0;try{for(var ai=U[Symbol.iterator](),Es;!(Qe=(Es=ai.next()).done);Qe=!0){var N=Es.value;if(N<ge&&++Ye>p&&H("overflow"),N==ge){for(var Q=Ye,B=g;;B+=g){var ne=B<=Se?y:B>=Se+m?m:B-Se;if(Q<ne)break;var oe=Q-ne,te=g-ne;Z.push(q(K(ne+oe%te,0))),Q=W(oe/te)}Z.push(q(K(Q,0))),Se=I(Ye,hr,An==pt),Ye=0,++An}}}catch(be){zt=!0,zn=be}finally{try{!Qe&&ai.return&&ai.return()}finally{if(zt)throw zn}}++Ye,++ge}return Z.join("")},R=function(U){return ae(U,function(Z){return x.test(Z)?C(Z.slice(4).toLowerCase()):Z})},P=function(U){return ae(U,function(Z){return A.test(Z)?"xn--"+V(Z):Z})},G={version:"2.1.0",ucs2:{decode:pe,encode:ee},decode:C,encode:V,toASCII:P,toUnicode:R},se={};function ue(X){var U=X.charCodeAt(0),Z=void 0;return U<16?Z="%0"+U.toString(16).toUpperCase():U<128?Z="%"+U.toString(16).toUpperCase():U<2048?Z="%"+(U>>6|192).toString(16).toUpperCase()+"%"+(U&63|128).toString(16).toUpperCase():Z="%"+(U>>12|224).toString(16).toUpperCase()+"%"+(U>>6&63|128).toString(16).toUpperCase()+"%"+(U&63|128).toString(16).toUpperCase(),Z}function he(X){for(var U="",Z=0,ye=X.length;Z<ye;){var ge=parseInt(X.substr(Z+1,2),16);if(ge<128)U+=String.fromCharCode(ge),Z+=3;else if(ge>=194&&ge<224){if(ye-Z>=6){var Ye=parseInt(X.substr(Z+4,2),16);U+=String.fromCharCode((ge&31)<<6|Ye&63)}else U+=X.substr(Z,6);Z+=6}else if(ge>=224){if(ye-Z>=9){var Se=parseInt(X.substr(Z+4,2),16),We=parseInt(X.substr(Z+7,2),16);U+=String.fromCharCode((ge&15)<<12|(Se&63)<<6|We&63)}else U+=X.substr(Z,9);Z+=9}else U+=X.substr(Z,3),Z+=3}return U}function fe(X,U){function Z(ye){var ge=he(ye);return ge.match(U.UNRESERVED)?ge:ye}return X.scheme&&(X.scheme=String(X.scheme).replace(U.PCT_ENCODED,Z).toLowerCase().replace(U.NOT_SCHEME,"")),X.userinfo!==void 0&&(X.userinfo=String(X.userinfo).replace(U.PCT_ENCODED,Z).replace(U.NOT_USERINFO,ue).replace(U.PCT_ENCODED,o)),X.host!==void 0&&(X.host=String(X.host).replace(U.PCT_ENCODED,Z).toLowerCase().replace(U.NOT_HOST,ue).replace(U.PCT_ENCODED,o)),X.path!==void 0&&(X.path=String(X.path).replace(U.PCT_ENCODED,Z).replace(X.scheme?U.NOT_PATH:U.NOT_PATH_NOSCHEME,ue).replace(U.PCT_ENCODED,o)),X.query!==void 0&&(X.query=String(X.query).replace(U.PCT_ENCODED,Z).replace(U.NOT_QUERY,ue).replace(U.PCT_ENCODED,o)),X.fragment!==void 0&&(X.fragment=String(X.fragment).replace(U.PCT_ENCODED,Z).replace(U.NOT_FRAGMENT,ue).replace(U.PCT_ENCODED,o)),X}function Te(X){return X.replace(/^0*(.*)/,"$1")||"0"}function me(X,U){var Z=X.match(U.IPV4ADDRESS)||[],ye=d(Z,2),ge=ye[1];return ge?ge.split(".").map(Te).join("."):X}function Xe(X,U){var Z=X.match(U.IPV6ADDRESS)||[],ye=d(Z,3),ge=ye[1],Ye=ye[2];if(ge){for(var Se=ge.toLowerCase().split("::").reverse(),We=d(Se,2),ct=We[0],tt=We[1],mt=tt?tt.split(":").map(Te):[],Lt=ct.split(":").map(Te),Dn=U.IPV4ADDRESS.test(Lt[Lt.length-1]),pt=Dn?7:8,An=Lt.length-pt,Et=Array(pt),gn=0;gn<pt;++gn)Et[gn]=mt[gn]||Lt[An+gn]||"";Dn&&(Et[pt-1]=me(Et[pt-1],U));var er=Et.reduce(function(hr,Qe,zt){if(!Qe||Qe==="0"){var zn=hr[hr.length-1];zn&&zn.index+zn.length===zt?zn.length++:hr.push({index:zt,length:1})}return hr},[]),Gr=er.sort(function(hr,Qe){return Qe.length-hr.length})[0],Rr=void 0;if(Gr&&Gr.length>1){var us=Et.slice(0,Gr.index),bi=Et.slice(Gr.index+Gr.length);Rr=us.join(":")+"::"+bi.join(":")}else Rr=Et.join(":");return Ye&&(Rr+="%"+Ye),Rr}else return X}var Ge=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,He="".match(/(){0}/)[1]===void 0;function Le(X){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z={},ye=U.iri!==!1?f:c;U.reference==="suffix"&&(X=(U.scheme?U.scheme+":":"")+"//"+X);var ge=X.match(Ge);if(ge){He?(Z.scheme=ge[1],Z.userinfo=ge[3],Z.host=ge[4],Z.port=parseInt(ge[5],10),Z.path=ge[6]||"",Z.query=ge[7],Z.fragment=ge[8],isNaN(Z.port)&&(Z.port=ge[5])):(Z.scheme=ge[1]||void 0,Z.userinfo=X.indexOf("@")!==-1?ge[3]:void 0,Z.host=X.indexOf("//")!==-1?ge[4]:void 0,Z.port=parseInt(ge[5],10),Z.path=ge[6]||"",Z.query=X.indexOf("?")!==-1?ge[7]:void 0,Z.fragment=X.indexOf("#")!==-1?ge[8]:void 0,isNaN(Z.port)&&(Z.port=X.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ge[4]:void 0)),Z.host&&(Z.host=Xe(me(Z.host,ye),ye)),Z.scheme===void 0&&Z.userinfo===void 0&&Z.host===void 0&&Z.port===void 0&&!Z.path&&Z.query===void 0?Z.reference="same-document":Z.scheme===void 0?Z.reference="relative":Z.fragment===void 0?Z.reference="absolute":Z.reference="uri",U.reference&&U.reference!=="suffix"&&U.reference!==Z.reference&&(Z.error=Z.error||"URI is not a "+U.reference+" reference.");var Ye=se[(U.scheme||Z.scheme||"").toLowerCase()];if(!U.unicodeSupport&&(!Ye||!Ye.unicodeSupport)){if(Z.host&&(U.domainHost||Ye&&Ye.domainHost))try{Z.host=G.toASCII(Z.host.replace(ye.PCT_ENCODED,he).toLowerCase())}catch(Se){Z.error=Z.error||"Host's domain name can not be converted to ASCII via punycode: "+Se}fe(Z,c)}else fe(Z,ye);Ye&&Ye.parse&&Ye.parse(Z,U)}else Z.error=Z.error||"URI can not be parsed.";return Z}function Ae(X,U){var Z=U.iri!==!1?f:c,ye=[];return X.userinfo!==void 0&&(ye.push(X.userinfo),ye.push("@")),X.host!==void 0&&ye.push(Xe(me(String(X.host),Z),Z).replace(Z.IPV6ADDRESS,function(ge,Ye,Se){return"["+Ye+(Se?"%25"+Se:"")+"]"})),(typeof X.port=="number"||typeof X.port=="string")&&(ye.push(":"),ye.push(String(X.port))),ye.length?ye.join(""):void 0}var Ve=/^\.\.?\//,Zt=/^\/\.(\/|$)/,Me=/^\/\.\.(\/|$)/,Ue=/^\/?(?:.|\n)*?(?=\/|$)/;function bt(X){for(var U=[];X.length;)if(X.match(Ve))X=X.replace(Ve,"");else if(X.match(Zt))X=X.replace(Zt,"/");else if(X.match(Me))X=X.replace(Me,"/"),U.pop();else if(X==="."||X==="..")X="";else{var Z=X.match(Ue);if(Z){var ye=Z[0];X=X.slice(ye.length),U.push(ye)}else throw new Error("Unexpected dot segment condition")}return U.join("")}function ze(X){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=U.iri?f:c,ye=[],ge=se[(U.scheme||X.scheme||"").toLowerCase()];if(ge&&ge.serialize&&ge.serialize(X,U),X.host&&!Z.IPV6ADDRESS.test(X.host)){if(U.domainHost||ge&&ge.domainHost)try{X.host=U.iri?G.toUnicode(X.host):G.toASCII(X.host.replace(Z.PCT_ENCODED,he).toLowerCase())}catch(We){X.error=X.error||"Host's domain name can not be converted to "+(U.iri?"Unicode":"ASCII")+" via punycode: "+We}}fe(X,Z),U.reference!=="suffix"&&X.scheme&&(ye.push(X.scheme),ye.push(":"));var Ye=Ae(X,U);if(Ye!==void 0&&(U.reference!=="suffix"&&ye.push("//"),ye.push(Ye),X.path&&X.path.charAt(0)!=="/"&&ye.push("/")),X.path!==void 0){var Se=X.path;!U.absolutePath&&(!ge||!ge.absolutePath)&&(Se=bt(Se)),Ye===void 0&&(Se=Se.replace(/^\/\//,"/%2F")),ye.push(Se)}return X.query!==void 0&&(ye.push("?"),ye.push(X.query)),X.fragment!==void 0&&(ye.push("#"),ye.push(X.fragment)),ye.join("")}function gt(X,U){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=arguments[3],ge={};return ye||(X=Le(ze(X,Z),Z),U=Le(ze(U,Z),Z)),Z=Z||{},!Z.tolerant&&U.scheme?(ge.scheme=U.scheme,ge.userinfo=U.userinfo,ge.host=U.host,ge.port=U.port,ge.path=bt(U.path||""),ge.query=U.query):(U.userinfo!==void 0||U.host!==void 0||U.port!==void 0?(ge.userinfo=U.userinfo,ge.host=U.host,ge.port=U.port,ge.path=bt(U.path||""),ge.query=U.query):(U.path?(U.path.charAt(0)==="/"?ge.path=bt(U.path):((X.userinfo!==void 0||X.host!==void 0||X.port!==void 0)&&!X.path?ge.path="/"+U.path:X.path?ge.path=X.path.slice(0,X.path.lastIndexOf("/")+1)+U.path:ge.path=U.path,ge.path=bt(ge.path)),ge.query=U.query):(ge.path=X.path,U.query!==void 0?ge.query=U.query:ge.query=X.query),ge.userinfo=X.userinfo,ge.host=X.host,ge.port=X.port),ge.scheme=X.scheme),ge.fragment=U.fragment,ge}function Yt(X,U,Z){var ye=u({scheme:"null"},Z);return ze(gt(Le(X,ye),Le(U,ye),ye,!0),ye)}function un(X,U){return typeof X=="string"?X=ze(Le(X,U),U):s(X)==="object"&&(X=Le(ze(X,U),U)),X}function Gn(X,U,Z){return typeof X=="string"?X=ze(Le(X,Z),Z):s(X)==="object"&&(X=ze(X,Z)),typeof U=="string"?U=ze(Le(U,Z),Z):s(U)==="object"&&(U=ze(U,Z)),X===U}function ce(X,U){return X&&X.toString().replace(!U||!U.iri?c.ESCAPE:f.ESCAPE,ue)}function we(X,U){return X&&X.toString().replace(!U||!U.iri?c.PCT_ENCODED:f.PCT_ENCODED,he)}var Fe={scheme:"http",domainHost:!0,parse:function(U,Z){return U.host||(U.error=U.error||"HTTP URIs must have a host."),U},serialize:function(U,Z){var ye=String(U.scheme).toLowerCase()==="https";return(U.port===(ye?443:80)||U.port==="")&&(U.port=void 0),U.path||(U.path="/"),U}},ot={scheme:"https",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize};function $e(X){return typeof X.secure=="boolean"?X.secure:String(X.scheme).toLowerCase()==="wss"}var at={scheme:"ws",domainHost:!0,parse:function(U,Z){var ye=U;return ye.secure=$e(ye),ye.resourceName=(ye.path||"/")+(ye.query?"?"+ye.query:""),ye.path=void 0,ye.query=void 0,ye},serialize:function(U,Z){if((U.port===($e(U)?443:80)||U.port==="")&&(U.port=void 0),typeof U.secure=="boolean"&&(U.scheme=U.secure?"wss":"ws",U.secure=void 0),U.resourceName){var ye=U.resourceName.split("?"),ge=d(ye,2),Ye=ge[0],Se=ge[1];U.path=Ye&&Ye!=="/"?Ye:void 0,U.query=Se,U.resourceName=void 0}return U.fragment=void 0,U}},Be={scheme:"wss",domainHost:at.domainHost,parse:at.parse,serialize:at.serialize},nt={},En="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Wt="[0-9A-Fa-f]",Tt=i(i("%[EFef]"+Wt+"%"+Wt+Wt+"%"+Wt+Wt)+"|"+i("%[89A-Fa-f]"+Wt+"%"+Wt+Wt)+"|"+i("%"+Wt+Wt)),Fn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",wn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",fa=r(wn,'[\\"\\\\]'),fr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Fi=new RegExp(En,"g"),br=new RegExp(Tt,"g"),Lr=new RegExp(r("[^]",Fn,"[\\.]",'[\\"]',fa),"g"),dr=new RegExp(r("[^]",En,fr),"g"),Bn=dr;function en(X){var U=he(X);return U.match(Fi)?U:X}var oi={scheme:"mailto",parse:function(U,Z){var ye=U,ge=ye.to=ye.path?ye.path.split(","):[];if(ye.path=void 0,ye.query){for(var Ye=!1,Se={},We=ye.query.split("&"),ct=0,tt=We.length;ct<tt;++ct){var mt=We[ct].split("=");switch(mt[0]){case"to":for(var Lt=mt[1].split(","),Dn=0,pt=Lt.length;Dn<pt;++Dn)ge.push(Lt[Dn]);break;case"subject":ye.subject=we(mt[1],Z);break;case"body":ye.body=we(mt[1],Z);break;default:Ye=!0,Se[we(mt[0],Z)]=we(mt[1],Z);break}}Ye&&(ye.headers=Se)}ye.query=void 0;for(var An=0,Et=ge.length;An<Et;++An){var gn=ge[An].split("@");if(gn[0]=we(gn[0]),Z.unicodeSupport)gn[1]=we(gn[1],Z).toLowerCase();else try{gn[1]=G.toASCII(we(gn[1],Z).toLowerCase())}catch(er){ye.error=ye.error||"Email address's domain name can not be converted to ASCII via punycode: "+er}ge[An]=gn.join("@")}return ye},serialize:function(U,Z){var ye=U,ge=a(U.to);if(ge){for(var Ye=0,Se=ge.length;Ye<Se;++Ye){var We=String(ge[Ye]),ct=We.lastIndexOf("@"),tt=We.slice(0,ct).replace(br,en).replace(br,o).replace(Lr,ue),mt=We.slice(ct+1);try{mt=Z.iri?G.toUnicode(mt):G.toASCII(we(mt,Z).toLowerCase())}catch(An){ye.error=ye.error||"Email address's domain name can not be converted to "+(Z.iri?"Unicode":"ASCII")+" via punycode: "+An}ge[Ye]=tt+"@"+mt}ye.path=ge.join(",")}var Lt=U.headers=U.headers||{};U.subject&&(Lt.subject=U.subject),U.body&&(Lt.body=U.body);var Dn=[];for(var pt in Lt)Lt[pt]!==nt[pt]&&Dn.push(pt.replace(br,en).replace(br,o).replace(dr,ue)+"="+Lt[pt].replace(br,en).replace(br,o).replace(Bn,ue));return Dn.length&&(ye.query=Dn.join("&")),ye}},Er=/^([^\:]+)\:(.*)/,Mr={scheme:"urn",parse:function(U,Z){var ye=U.path&&U.path.match(Er),ge=U;if(ye){var Ye=Z.scheme||ge.scheme||"urn",Se=ye[1].toLowerCase(),We=ye[2],ct=Ye+":"+(Z.nid||Se),tt=se[ct];ge.nid=Se,ge.nss=We,ge.path=void 0,tt&&(ge=tt.parse(ge,Z))}else ge.error=ge.error||"URN can not be parsed.";return ge},serialize:function(U,Z){var ye=Z.scheme||U.scheme||"urn",ge=U.nid,Ye=ye+":"+(Z.nid||ge),Se=se[Ye];Se&&(U=Se.serialize(U,Z));var We=U,ct=U.nss;return We.path=(ge||Z.nid)+":"+ct,We}},vi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,bs={scheme:"urn:uuid",parse:function(U,Z){var ye=U;return ye.uuid=ye.nss,ye.nss=void 0,!Z.tolerant&&(!ye.uuid||!ye.uuid.match(vi))&&(ye.error=ye.error||"UUID is not valid."),ye},serialize:function(U,Z){var ye=U;return ye.nss=(U.uuid||"").toLowerCase(),ye}};se[Fe.scheme]=Fe,se[ot.scheme]=ot,se[at.scheme]=at,se[Be.scheme]=Be,se[oi.scheme]=oi,se[Mr.scheme]=Mr,se[bs.scheme]=bs,n.SCHEMES=se,n.pctEncChar=ue,n.pctDecChars=he,n.parse=Le,n.removeDotSegments=bt,n.serialize=ze,n.resolveComponents=gt,n.resolve=Yt,n.normalize=un,n.equal=Gn,n.escapeComponent=ce,n.unescapeComponent=we,Object.defineProperty(n,"__esModule",{value:!0})})})(B2,B2.exports);var J2e=B2.exports;Object.defineProperty(UD,"__esModule",{value:!0});const KJ=J2e;KJ.code='require("ajv/dist/runtime/uri").default';UD.default=KJ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ra;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Gt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=G_,i=Y_,s=Vd,o=Ms,a=Gt,u=Oi,l=q_,c=mn,f=X2e,d=UD,h=(K,I)=>new RegExp(K,I);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function v(K){var I,C,V,R,P,G,se,ue,he,fe,Te,me,Xe,Ge,He,Le,Ae,Ve,Zt,Me,Ue,bt,ze,gt,Yt;const un=K.strict,Gn=(I=K.code)===null||I===void 0?void 0:I.optimize,ce=Gn===!0||Gn===void 0?1:Gn||0,we=(V=(C=K.code)===null||C===void 0?void 0:C.regExp)!==null&&V!==void 0?V:h,Fe=(R=K.uriResolver)!==null&&R!==void 0?R:d.default;return{strictSchema:(G=(P=K.strictSchema)!==null&&P!==void 0?P:un)!==null&&G!==void 0?G:!0,strictNumbers:(ue=(se=K.strictNumbers)!==null&&se!==void 0?se:un)!==null&&ue!==void 0?ue:!0,strictTypes:(fe=(he=K.strictTypes)!==null&&he!==void 0?he:un)!==null&&fe!==void 0?fe:"log",strictTuples:(me=(Te=K.strictTuples)!==null&&Te!==void 0?Te:un)!==null&&me!==void 0?me:"log",strictRequired:(Ge=(Xe=K.strictRequired)!==null&&Xe!==void 0?Xe:un)!==null&&Ge!==void 0?Ge:!1,code:K.code?{...K.code,optimize:ce,regExp:we}:{optimize:ce,regExp:we},loopRequired:(He=K.loopRequired)!==null&&He!==void 0?He:_,loopEnum:(Le=K.loopEnum)!==null&&Le!==void 0?Le:_,meta:(Ae=K.meta)!==null&&Ae!==void 0?Ae:!0,messages:(Ve=K.messages)!==null&&Ve!==void 0?Ve:!0,inlineRefs:(Zt=K.inlineRefs)!==null&&Zt!==void 0?Zt:!0,schemaId:(Me=K.schemaId)!==null&&Me!==void 0?Me:"$id",addUsedSchema:(Ue=K.addUsedSchema)!==null&&Ue!==void 0?Ue:!0,validateSchema:(bt=K.validateSchema)!==null&&bt!==void 0?bt:!0,validateFormats:(ze=K.validateFormats)!==null&&ze!==void 0?ze:!0,unicodeRegExp:(gt=K.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:(Yt=K.int32range)!==null&&Yt!==void 0?Yt:!0,uriResolver:Fe}}class w{constructor(I={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,I=this.opts={...I,...v(I)};const{es5:C,lines:V}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:C,lines:V}),this.logger=W(I.logger);const R=I.validateFormats;I.validateFormats=!1,this.RULES=(0,s.getRules)(),T.call(this,y,I,"NOT SUPPORTED"),T.call(this,m,I,"DEPRECATED","warn"),this._metaOpts=D.call(this),I.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),I.keywords&&M.call(this,I.keywords),typeof I.meta=="object"&&this.addMetaSchema(I.meta),x.call(this),I.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:I,meta:C,schemaId:V}=this.opts;let R=f;V==="id"&&(R={...f},R.id=R.$id,delete R.$id),C&&I&&this.addMetaSchema(R,R[V],!1)}defaultMeta(){const{meta:I,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof I=="object"?I[C]||I:void 0}validate(I,C){let V;if(typeof I=="string"){if(V=this.getSchema(I),!V)throw new Error(`no schema with key or ref "${I}"`)}else V=this.compile(I);const R=V(C);return"$async"in V||(this.errors=V.errors),R}compile(I,C){const V=this._addSchema(I,C);return V.validate||this._compileSchemaEnv(V)}compileAsync(I,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:V}=this.opts;return R.call(this,I,C);async function R(fe,Te){await P.call(this,fe.$schema);const me=this._addSchema(fe,Te);return me.validate||G.call(this,me)}async function P(fe){fe&&!this.getSchema(fe)&&await R.call(this,{$ref:fe},!0)}async function G(fe){try{return this._compileSchemaEnv(fe)}catch(Te){if(!(Te instanceof i.default))throw Te;return se.call(this,Te),await ue.call(this,Te.missingSchema),G.call(this,fe)}}function se({missingSchema:fe,missingRef:Te}){if(this.refs[fe])throw new Error(`AnySchema ${fe} is loaded but ${Te} cannot be resolved`)}async function ue(fe){const Te=await he.call(this,fe);this.refs[fe]||await P.call(this,Te.$schema),this.refs[fe]||this.addSchema(Te,fe,C)}async function he(fe){const Te=this._loading[fe];if(Te)return Te;try{return await(this._loading[fe]=V(fe))}finally{delete this._loading[fe]}}}addSchema(I,C,V,R=this.opts.validateSchema){if(Array.isArray(I)){for(const G of I)this.addSchema(G,void 0,V,R);return this}let P;if(typeof I=="object"){const{schemaId:G}=this.opts;if(P=I[G],P!==void 0&&typeof P!="string")throw new Error(`schema ${G} must be string`)}return C=(0,u.normalizeId)(C||P),this._checkUnique(C),this.schemas[C]=this._addSchema(I,V,C,R,!0),this}addMetaSchema(I,C,V=this.opts.validateSchema){return this.addSchema(I,C,!0,V),this}validateSchema(I,C){if(typeof I=="boolean")return!0;let V;if(V=I.$schema,V!==void 0&&typeof V!="string")throw new Error("$schema must be a string");if(V=V||this.opts.defaultMeta||this.defaultMeta(),!V)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(V,I);if(!R&&C){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return R}getSchema(I){let C;for(;typeof(C=E.call(this,I))=="string";)I=C;if(C===void 0){const{schemaId:V}=this.opts,R=new o.SchemaEnv({schema:{},schemaId:V});if(C=o.resolveSchema.call(this,R,I),!C)return;this.refs[I]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(I){if(I instanceof RegExp)return this._removeAllSchemas(this.schemas,I),this._removeAllSchemas(this.refs,I),this;switch(typeof I){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=E.call(this,I);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[I],delete this.refs[I],this}case"object":{const C=I;this._cache.delete(C);let V=I[this.opts.schemaId];return V&&(V=(0,u.normalizeId)(V),delete this.schemas[V],delete this.refs[V]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(I){for(const C of I)this.addKeyword(C);return this}addKeyword(I,C){let V;if(typeof I=="string")V=I,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=V);else if(typeof I=="object"&&C===void 0){if(C=I,V=C.keyword,Array.isArray(V)&&!V.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,V,C),!C)return(0,c.eachItem)(V,P=>de.call(this,P)),this;pe.call(this,C);const R={...C,type:(0,l.getJSONTypes)(C.type),schemaType:(0,l.getJSONTypes)(C.schemaType)};return(0,c.eachItem)(V,R.type.length===0?P=>de.call(this,P,R):P=>R.type.forEach(G=>de.call(this,P,R,G))),this}getKeyword(I){const C=this.RULES.all[I];return typeof C=="object"?C.definition:!!C}removeKeyword(I){const{RULES:C}=this;delete C.keywords[I],delete C.all[I];for(const V of C.rules){const R=V.rules.findIndex(P=>P.keyword===I);R>=0&&V.rules.splice(R,1)}return this}addFormat(I,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[I]=C,this}errorsText(I=this.errors,{separator:C=", ",dataVar:V="data"}={}){return!I||I.length===0?"No errors":I.map(R=>`${V}${R.instancePath} ${R.message}`).reduce((R,P)=>R+C+P)}$dataMetaSchema(I,C){const V=this.RULES.all;I=JSON.parse(JSON.stringify(I));for(const R of C){const P=R.split("/").slice(1);let G=I;for(const se of P)G=G[se];for(const se in V){const ue=V[se];if(typeof ue!="object")continue;const{$data:he}=ue.definition,fe=G[se];he&&fe&&(G[se]=ie(fe))}}return I}_removeAllSchemas(I,C){for(const V in I){const R=I[V];(!C||C.test(V))&&(typeof R=="string"?delete I[V]:R&&!R.meta&&(this._cache.delete(R.schema),delete I[V]))}}_addSchema(I,C,V,R=this.opts.validateSchema,P=this.opts.addUsedSchema){let G;const{schemaId:se}=this.opts;if(typeof I=="object")G=I[se];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof I!="boolean")throw new Error("schema must be object or boolean")}let ue=this._cache.get(I);if(ue!==void 0)return ue;V=(0,u.normalizeId)(G||V);const he=u.getSchemaRefs.call(this,I,V);return ue=new o.SchemaEnv({schema:I,schemaId:se,meta:C,baseId:V,localRefs:he}),this._cache.set(ue.schema,ue),P&&!V.startsWith("#")&&(V&&this._checkUnique(V),this.refs[V]=ue),R&&this.validateSchema(I,!0),ue}_checkUnique(I){if(this.schemas[I]||this.refs[I])throw new Error(`schema with key or id "${I}" already exists`)}_compileSchemaEnv(I){if(I.meta?this._compileMetaSchema(I):o.compileSchema.call(this,I),!I.validate)throw new Error("ajv implementation error");return I.validate}_compileMetaSchema(I){const C=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,I)}finally{this.opts=C}}}e.default=w,w.ValidationError=r.default,w.MissingRefError=i.default;function T(K,I,C,V="error"){for(const R in K){const P=R;P in I&&this.logger[V](`${C}: option ${R}. ${K[P]}`)}}function E(K){return K=(0,u.normalizeId)(K),this.schemas[K]||this.refs[K]}function x(){const K=this.opts.schemas;if(K)if(Array.isArray(K))this.addSchema(K);else for(const I in K)this.addSchema(K[I],I)}function A(){for(const K in this.opts.formats){const I=this.opts.formats[K];I&&this.addFormat(K,I)}}function M(K){if(Array.isArray(K)){this.addVocabulary(K);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const I in K){const C=K[I];C.keyword||(C.keyword=I),this.addKeyword(C)}}function D(){const K={...this.opts};for(const I of p)delete K[I];return K}const $={log(){},warn(){},error(){}};function W(K){if(K===!1)return $;if(K===void 0)return console;if(K.log&&K.warn&&K.error)return K;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function H(K,I){const{RULES:C}=this;if((0,c.eachItem)(K,V=>{if(C.keywords[V])throw new Error(`Keyword ${V} is already defined`);if(!q.test(V))throw new Error(`Keyword ${V} has invalid name`)}),!!I&&I.$data&&!("code"in I||"validate"in I))throw new Error('$data keyword must have "code" or "validate" function')}function de(K,I,C){var V;const R=I==null?void 0:I.post;if(C&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let G=R?P.post:P.rules.find(({type:ue})=>ue===C);if(G||(G={type:C,rules:[]},P.rules.push(G)),P.keywords[K]=!0,!I)return;const se={keyword:K,definition:{...I,type:(0,l.getJSONTypes)(I.type),schemaType:(0,l.getJSONTypes)(I.schemaType)}};I.before?ae.call(this,G,se,I.before):G.rules.push(se),P.all[K]=se,(V=I.implements)===null||V===void 0||V.forEach(ue=>this.addKeyword(ue))}function ae(K,I,C){const V=K.rules.findIndex(R=>R.keyword===C);V>=0?K.rules.splice(V,0,I):(K.rules.push(I),this.logger.warn(`rule ${C} is not defined`))}function pe(K){let{metaSchema:I}=K;I!==void 0&&(K.$data&&this.opts.$data&&(I=ie(I)),K.validateSchema=this.compile(I,!0))}const ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(K){return{anyOf:[K,ee]}}})(xJ);var VD={},zD={},HD={};Object.defineProperty(HD,"__esModule",{value:!0});const Z2e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};HD.default=Z2e;var zd={};Object.defineProperty(zd,"__esModule",{value:!0});zd.callRef=zd.getValidate=void 0;const eRe=Y_,dB=qt,Cs=Gt,Nh=Vu,hB=Ms,y1=mn,tRe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=hB.resolveRef.call(u,l,i,n);if(c===void 0)throw new eRe.default(r.opts.uriResolver,i,n);if(c instanceof hB.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return Sb(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return Sb(e,(0,Cs._)`${p}.validate`,l,l.$async)}function d(p){const g=QJ(e,p);Sb(e,g,p,p.$async)}function h(p){const g=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Cs.stringify)(p)}:{ref:p}),y=t.name("valid"),m=e.subschema({schema:p,dataTypes:[],schemaPath:Cs.nil,topSchemaRef:g,errSchemaPath:n},y);e.mergeEvaluated(m),e.ok(y)}}};function QJ(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Cs._)`${n.scopeValue("wrapper",{ref:t})}.validate`}zd.getValidate=QJ;function Sb(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?Nh.default.this:Cs.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Cs._)`await ${(0,dB.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},g=>{i.if((0,Cs._)`!(${g} instanceof ${s.ValidationError})`,()=>i.throw(g)),d(g),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,dB.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const g=(0,Cs._)`${p}.errors`;i.assign(Nh.default.vErrors,(0,Cs._)`${Nh.default.vErrors} === null ? ${g} : ${Nh.default.vErrors}.concat(${g})`),i.assign(Nh.default.errors,(0,Cs._)`${Nh.default.vErrors}.length`)}function h(p){var g;if(!s.opts.unevaluated)return;const y=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=y1.mergeEvaluated.props(i,y.props,s.props));else{const m=i.var("props",(0,Cs._)`${p}.evaluated.props`);s.props=y1.mergeEvaluated.props(i,m,s.props,Cs.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=y1.mergeEvaluated.items(i,y.items,s.items));else{const m=i.var("items",(0,Cs._)`${p}.evaluated.items`);s.items=y1.mergeEvaluated.items(i,m,s.items,Cs.Name)}}}zd.callRef=Sb;zd.default=tRe;Object.defineProperty(zD,"__esModule",{value:!0});const nRe=HD,rRe=zd,iRe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",nRe.default,rRe.default];zD.default=iRe;var WD={},qD={};Object.defineProperty(qD,"__esModule",{value:!0});const cS=Gt,cc=cS.operators,fS={maximum:{okStr:"<=",ok:cc.LTE,fail:cc.GT},minimum:{okStr:">=",ok:cc.GTE,fail:cc.LT},exclusiveMaximum:{okStr:"<",ok:cc.LT,fail:cc.GTE},exclusiveMinimum:{okStr:">",ok:cc.GT,fail:cc.LTE}},sRe={message:({keyword:e,schemaCode:t})=>(0,cS.str)`must be ${fS[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,cS._)`{comparison: ${fS[e].okStr}, limit: ${t}}`},oRe={keyword:Object.keys(fS),type:"number",schemaType:"number",$data:!0,error:sRe,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,cS._)`${n} ${fS[t].fail} ${r} || isNaN(${n})`)}};qD.default=oRe;var GD={};Object.defineProperty(GD,"__esModule",{value:!0});const G0=Gt,aRe={message:({schemaCode:e})=>(0,G0.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,G0._)`{multipleOf: ${e}}`},uRe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:aRe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,G0._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,G0._)`${o} !== parseInt(${o})`;e.fail$data((0,G0._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};GD.default=uRe;var YD={},KD={};Object.defineProperty(KD,"__esModule",{value:!0});function XJ(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}KD.default=XJ;XJ.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(YD,"__esModule",{value:!0});const rd=Gt,lRe=mn,cRe=KD,fRe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,rd.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,rd._)`{limit: ${e}}`},dRe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:fRe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?rd.operators.GT:rd.operators.LT,o=i.opts.unicode===!1?(0,rd._)`${n}.length`:(0,rd._)`${(0,lRe.useFunc)(e.gen,cRe.default)}(${n})`;e.fail$data((0,rd._)`${o} ${s} ${r}`)}};YD.default=dRe;var QD={};Object.defineProperty(QD,"__esModule",{value:!0});const hRe=qt,dS=Gt,pRe={message:({schemaCode:e})=>(0,dS.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,dS._)`{pattern: ${e}}`},mRe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:pRe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,dS._)`(new RegExp(${i}, ${o}))`:(0,hRe.usePattern)(e,r);e.fail$data((0,dS._)`!${a}.test(${t})`)}};QD.default=mRe;var XD={};Object.defineProperty(XD,"__esModule",{value:!0});const Y0=Gt,gRe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Y0.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Y0._)`{limit: ${e}}`},yRe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:gRe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Y0.operators.GT:Y0.operators.LT;e.fail$data((0,Y0._)`Object.keys(${n}).length ${i} ${r}`)}};XD.default=yRe;var JD={};Object.defineProperty(JD,"__esModule",{value:!0});const jg=qt,K0=Gt,_Re=mn,vRe={message:({params:{missingProperty:e}})=>(0,K0.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,K0._)`{missingProperty: ${e}}`},bRe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:vRe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const y=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,_Re.checkStrictMode)(o,m,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(K0.nil,f);else for(const h of n)(0,jg.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,jg.checkMissingProp)(e,n,h)),(0,jg.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,jg.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,jg.propertyInData)(t,i,h,a.ownProperties)),t.if((0,K0.not)(p),()=>{e.error(),t.break()})},K0.nil)}}};JD.default=bRe;var ZD={};Object.defineProperty(ZD,"__esModule",{value:!0});const Q0=Gt,ERe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Q0.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Q0._)`{limit: ${e}}`},wRe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ERe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Q0.operators.GT:Q0.operators.LT;e.fail$data((0,Q0._)`${n}.length ${i} ${r}`)}};ZD.default=wRe;var e$={},K_={};Object.defineProperty(K_,"__esModule",{value:!0});const JJ=MD;JJ.code='require("ajv/dist/runtime/equal").default';K_.default=JJ;Object.defineProperty(e$,"__esModule",{value:!0});const DC=q_,Si=Gt,SRe=mn,TRe=K_,xRe={message:({params:{i:e,j:t}})=>(0,Si.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Si._)`{i: ${e}, j: ${t}}`},IRe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:xRe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,DC.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Si._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Si._)`${n}.length`),g=t.let("j");e.setParams({i:p,j:g}),t.assign(u,!0),t.if((0,Si._)`${p} > 1`,()=>(f()?d:h)(p,g))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,g){const y=t.name("item"),m=(0,DC.checkDataTypes)(l,y,a.opts.strictNumbers,DC.DataType.Wrong),_=t.const("indices",(0,Si._)`{}`);t.for((0,Si._)`;${p}--;`,()=>{t.let(y,(0,Si._)`${n}[${p}]`),t.if(m,(0,Si._)`continue`),l.length>1&&t.if((0,Si._)`typeof ${y} == "string"`,(0,Si._)`${y} += "_"`),t.if((0,Si._)`typeof ${_}[${y}] == "number"`,()=>{t.assign(g,(0,Si._)`${_}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Si._)`${_}[${y}] = ${p}`)})}function h(p,g){const y=(0,SRe.useFunc)(t,TRe.default),m=t.name("outer");t.label(m).for((0,Si._)`;${p}--;`,()=>t.for((0,Si._)`${g} = ${p}; ${g}--;`,()=>t.if((0,Si._)`${y}(${n}[${p}], ${n}[${g}])`,()=>{e.error(),t.assign(u,!1).break(m)})))}}};e$.default=IRe;var t$={};Object.defineProperty(t$,"__esModule",{value:!0});const j2=Gt,ARe=mn,CRe=K_,ORe={message:"must be equal to constant",params:({schemaCode:e})=>(0,j2._)`{allowedValue: ${e}}`},PRe={keyword:"const",$data:!0,error:ORe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,j2._)`!${(0,ARe.useFunc)(t,CRe.default)}(${n}, ${i})`):e.fail((0,j2._)`${s} !== ${n}`)}};t$.default=PRe;var n$={};Object.defineProperty(n$,"__esModule",{value:!0});const h0=Gt,RRe=mn,NRe=K_,kRe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,h0._)`{allowedValues: ${e}}`},DRe={keyword:"enum",schemaType:"array",$data:!0,error:kRe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,RRe.useFunc)(t,NRe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,h0.or)(...i.map((p,g)=>d(h,g)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,h0._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,h0._)`${l()}(${n}, ${h}[${p}])`:(0,h0._)`${n} === ${g}`}}};n$.default=DRe;Object.defineProperty(WD,"__esModule",{value:!0});const $Re=qD,LRe=GD,MRe=YD,FRe=QD,BRe=XD,jRe=JD,URe=ZD,VRe=e$,zRe=t$,HRe=n$,WRe=[$Re.default,LRe.default,MRe.default,FRe.default,BRe.default,jRe.default,URe.default,VRe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},zRe.default,HRe.default];WD.default=WRe;var r$={},Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});Wm.validateAdditionalItems=void 0;const id=Gt,U2=mn,qRe={message:({params:{len:e}})=>(0,id.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,id._)`{limit: ${e}}`},GRe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:qRe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,U2.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}ZJ(e,r)}};function ZJ(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,id._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,id._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,U2.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,id._)`${a} <= ${t.length}`);n.if((0,id.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:U2.Type.Num},l),o.allErrors||n.if((0,id.not)(l),()=>n.break())})}}Wm.validateAdditionalItems=ZJ;Wm.default=GRe;var i$={},qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.validateTuple=void 0;const pB=Gt,Tb=mn,YRe=qt,KRe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return eZ(e,"additionalItems",t);n.items=!0,!(0,Tb.alwaysValidSchema)(n,t)&&e.ok((0,YRe.validateArray)(e))}};function eZ(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=Tb.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,pB._)`${s}.length`);n.forEach((f,d)=>{(0,Tb.alwaysValidSchema)(a,f)||(r.if((0,pB._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,g=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!g){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Tb.checkStrictMode)(a,y,d.strictTuples)}}}qm.validateTuple=eZ;qm.default=KRe;Object.defineProperty(i$,"__esModule",{value:!0});const QRe=qm,XRe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,QRe.validateTuple)(e,"items")};i$.default=XRe;var s$={};Object.defineProperty(s$,"__esModule",{value:!0});const mB=Gt,JRe=mn,ZRe=qt,eNe=Wm,tNe={message:({params:{len:e}})=>(0,mB.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,mB._)`{limit: ${e}}`},nNe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:tNe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,JRe.alwaysValidSchema)(r,t)&&(i?(0,eNe.validateAdditionalItems)(e,i):e.ok((0,ZRe.validateArray)(e)))}};s$.default=nNe;var o$={};Object.defineProperty(o$,"__esModule",{value:!0});const Lo=Gt,_1=mn,rNe={message:({params:{min:e,max:t}})=>t===void 0?(0,Lo.str)`must contain at least ${e} valid item(s)`:(0,Lo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Lo._)`{minContains: ${e}}`:(0,Lo._)`{minContains: ${e}, maxContains: ${t}}`},iNe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:rNe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Lo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,_1.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,_1.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,_1.alwaysValidSchema)(s,n)){let g=(0,Lo._)`${c} >= ${o}`;a!==void 0&&(g=(0,Lo._)`${g} && ${c} <= ${a}`),e.pass(g);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Lo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const g=t.name("_valid"),y=t.let("count",0);h(g,()=>t.if(g,()=>p(y)))}function h(g,y){t.forRange("i",0,c,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:_1.Type.Num,compositeRule:!0},g),y()})}function p(g){t.code((0,Lo._)`${g}++`),a===void 0?t.if((0,Lo._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Lo._)`${g} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Lo._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};o$.default=iNe;var tZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Gt,n=mn,r=qt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const g=l[p];if(g.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),d.allErrors?c.if(y,()=>{for(const m of g)(0,r.checkReportMissingProp)(u,m)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,g,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const g in l)(0,n.alwaysValidSchema)(h,l[g])||(c.if((0,r.propertyInData)(c,f,g,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:g},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(tZ);var a$={};Object.defineProperty(a$,"__esModule",{value:!0});const nZ=Gt,sNe=mn,oNe={message:"property name must be valid",params:({params:e})=>(0,nZ._)`{propertyName: ${e.propertyName}}`},aNe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:oNe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,sNe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,nZ.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};a$.default=aNe;var Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});const v1=qt,pa=Gt,uNe=Vu,b1=mn,lNe={message:"must NOT have additional properties",params:({params:e})=>(0,pa._)`{additionalProperty: ${e.additionalProperty}}`},cNe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:lNe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,b1.alwaysValidSchema)(o,n))return;const l=(0,v1.allSchemaProperties)(r.properties),c=(0,v1.allSchemaProperties)(r.patternProperties);f(),e.ok((0,pa._)`${s} === ${uNe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let m;if(l.length>8){const _=(0,b1.schemaRefOrVal)(o,r.properties,"properties");m=(0,v1.isOwnProperty)(t,_,y)}else l.length?m=(0,pa.or)(...l.map(_=>(0,pa._)`${y} === ${_}`)):m=pa.nil;return c.length&&(m=(0,pa.or)(m,...c.map(_=>(0,pa._)`${(0,v1.usePattern)(e,_)}.test(${y})`))),(0,pa.not)(m)}function h(y){t.code((0,pa._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,b1.alwaysValidSchema)(o,n)){const m=t.name("valid");u.removeAdditional==="failing"?(g(y,m,!1),t.if((0,pa.not)(m),()=>{e.reset(),h(y)})):(g(y,m),a||t.if((0,pa.not)(m),()=>t.break()))}}function g(y,m,_){const v={keyword:"additionalProperties",dataProp:y,dataPropType:b1.Type.Str};_===!1&&Object.assign(v,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(v,m)}}};Vx.default=cNe;var u$={};Object.defineProperty(u$,"__esModule",{value:!0});const fNe=Ra,gB=qt,$C=mn,yB=Vx,dNe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&yB.default.code(new fNe.KeywordCxt(s,yB.default,"additionalProperties"));const o=(0,gB.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=$C.mergeEvaluated.props(t,(0,$C.toHash)(o),s.props));const a=o.filter(f=>!(0,$C.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,gB.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};u$.default=dNe;var l$={};Object.defineProperty(l$,"__esModule",{value:!0});const _B=qt,E1=Gt,vB=mn,bB=mn,hNe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,_B.allSchemaProperties)(n),u=a.filter(g=>(0,vB.alwaysValidSchema)(s,n[g]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof E1.Name)&&(s.props=(0,bB.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const g of a)l&&h(g),s.allErrors?p(g):(t.var(c,!0),p(g),t.if(c))}function h(g){for(const y in l)new RegExp(g).test(y)&&(0,vB.checkStrictMode)(s,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){t.forIn("key",r,y=>{t.if((0,E1._)`${(0,_B.usePattern)(e,g)}.test(${y})`,()=>{const m=u.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:bB.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,E1._)`${f}[${y}]`,!0):!m&&!s.allErrors&&t.if((0,E1.not)(c),()=>t.break())})})}}};l$.default=hNe;var c$={};Object.defineProperty(c$,"__esModule",{value:!0});const pNe=mn,mNe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,pNe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};c$.default=mNe;var f$={};Object.defineProperty(f$,"__esModule",{value:!0});const gNe=qt,yNe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:gNe.validateUnion,error:{message:"must match a schema in anyOf"}};f$.default=yNe;var d$={};Object.defineProperty(d$,"__esModule",{value:!0});const xb=Gt,_Ne=mn,vNe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,xb._)`{passingSchemas: ${e.passing}}`},bNe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:vNe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,_Ne.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,xb._)`${u} && ${o}`).assign(o,!1).assign(a,(0,xb._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,xb.Name)})})}}};d$.default=bNe;var h$={};Object.defineProperty(h$,"__esModule",{value:!0});const ENe=mn,wNe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,ENe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};h$.default=wNe;var p$={};Object.defineProperty(p$,"__esModule",{value:!0});const hS=Gt,rZ=mn,SNe={message:({params:e})=>(0,hS.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,hS._)`{failingKeyword: ${e.ifClause}}`},TNe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:SNe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,rZ.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=EB(r,"then"),s=EB(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,hS.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,hS._)`${c}`):e.setParams({ifClause:c})}}}};function EB(e,t){const n=e.schema[t];return n!==void 0&&!(0,rZ.alwaysValidSchema)(e,n)}p$.default=TNe;var m$={};Object.defineProperty(m$,"__esModule",{value:!0});const xNe=mn,INe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,xNe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};m$.default=INe;Object.defineProperty(r$,"__esModule",{value:!0});const ANe=Wm,CNe=i$,ONe=qm,PNe=s$,RNe=o$,NNe=tZ,kNe=a$,DNe=Vx,$Ne=u$,LNe=l$,MNe=c$,FNe=f$,BNe=d$,jNe=h$,UNe=p$,VNe=m$;function zNe(e=!1){const t=[MNe.default,FNe.default,BNe.default,jNe.default,UNe.default,VNe.default,kNe.default,DNe.default,NNe.default,$Ne.default,LNe.default];return e?t.push(CNe.default,PNe.default):t.push(ANe.default,ONe.default),t.push(RNe.default),t}r$.default=zNe;var g$={},y$={};Object.defineProperty(y$,"__esModule",{value:!0});const kr=Gt,HNe={message:({schemaCode:e})=>(0,kr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,kr._)`{format: ${e}}`},WNe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:HNe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=n.const("fDef",(0,kr._)`${p}[${o}]`),y=n.let("fType"),m=n.let("format");n.if((0,kr._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(y,(0,kr._)`${g}.type || "string"`).assign(m,(0,kr._)`${g}.validate`),()=>n.assign(y,(0,kr._)`"string"`).assign(m,g)),e.fail$data((0,kr.or)(_(),v()));function _(){return u.strictSchema===!1?kr.nil:(0,kr._)`${o} && !${m}`}function v(){const w=c.$async?(0,kr._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,kr._)`${m}(${r})`,T=(0,kr._)`(typeof ${m} == "function" ? ${w} : ${m}.test(${r}))`;return(0,kr._)`${m} && ${m} !== true && ${y} === ${t} && !${T}`}}function h(){const p=f.formats[s];if(!p){_();return}if(p===!0)return;const[g,y,m]=v(p);g===t&&e.pass(w());function _(){if(u.strictSchema===!1){f.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function v(T){const E=T instanceof RegExp?(0,kr.regexpCode)(T):u.code.formats?(0,kr._)`${u.code.formats}${(0,kr.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:T,code:E});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,kr._)`${x}.validate`]:["string",T,x]}function w(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,kr._)`await ${m}(${r})`}return typeof y=="function"?(0,kr._)`${m}(${r})`:(0,kr._)`${m}.test(${r})`}}}};y$.default=WNe;Object.defineProperty(g$,"__esModule",{value:!0});const qNe=y$,GNe=[qNe.default];g$.default=GNe;var um={};Object.defineProperty(um,"__esModule",{value:!0});um.contentVocabulary=um.metadataVocabulary=void 0;um.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];um.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(VD,"__esModule",{value:!0});const YNe=zD,KNe=WD,QNe=r$,XNe=g$,wB=um,JNe=[YNe.default,KNe.default,(0,QNe.default)(),XNe.default,wB.metadataVocabulary,wB.contentVocabulary];VD.default=JNe;var _$={},iZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(iZ);Object.defineProperty(_$,"__esModule",{value:!0});const jh=Gt,V2=iZ,SB=Ms,ZNe=mn,eke={message:({params:{discrError:e,tagName:t}})=>e===V2.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,jh._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},tke={keyword:"discriminator",type:"object",schemaType:"object",error:eke,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,jh._)`${n}${(0,jh.getProperty)(a)}`);t.if((0,jh._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:V2.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,jh._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:V2.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(g,jh.Name),p}function d(){var h;const p={},g=m(i);let y=!0;for(let w=0;w<o.length;w++){let T=o[w];T!=null&&T.$ref&&!(0,ZNe.schemaHasRulesButRef)(T,s.self.RULES)&&(T=SB.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,T==null?void 0:T.$ref),T instanceof SB.SchemaEnv&&(T=T.schema));const E=(h=T==null?void 0:T.properties)===null||h===void 0?void 0:h[a];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||m(T)),_(E,w)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:w}){return Array.isArray(w)&&w.includes(a)}function _(w,T){if(w.const)v(w.const,T);else if(w.enum)for(const E of w.enum)v(E,T);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function v(w,T){if(typeof w!="string"||w in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[w]=T}}}};_$.default=tke;const nke="http://json-schema.org/draft-07/schema#",rke="http://json-schema.org/draft-07/schema#",ike="Core schema meta-schema",ske={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},oke=["object","boolean"],ake={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},uke={$schema:nke,$id:rke,title:ike,definitions:ske,type:oke,properties:ake,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=xJ,r=VD,i=_$,s=uke,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Ra;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Gt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=G_;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=Y_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(L2,L2.exports);var lke=L2.exports;const sZ=Ba(lke),cke="#/definitions/StudyConfig",fke="http://json-schema.org/draft-07/schema#",dke={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{type:"number"},acceptableLow:{type:"number"},answer:{},answerCallback:{type:"string"},answerRegex:{type:"string"},id:{type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/PartialComponent"}]},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{},desc:{type:"string"},hidden:{type:"boolean"},id:{type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},preset:{type:"number"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},rightLabel:{type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},max:{type:"number"},min:{type:"number"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{type:"string"},value:{type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,properties:{components:{items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{type:"number"},order:{enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},PartialComponent:{additionalProperties:!1,properties:{baseComponent:{type:"string"},correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{},hidden:{type:"boolean"},id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.hjson.",properties:{$schema:{type:"string"},baseComponents:{additionalProperties:{$ref:"#/definitions/IndividualComponent"},type:"object"},components:{additionalProperties:{$ref:"#/definitions/InheritedComponent"},type:"object"},sequence:{$ref:"#/definitions/OrderObject"},studyMetadata:{$ref:"#/definitions/StudyMetadata"},uiConfig:{$ref:"#/definitions/UIConfig"}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{items:{type:"string"},type:"array"},date:{type:"string"},description:{type:"string"},organizations:{items:{type:"string"},type:"array"},title:{type:"string"},version:{type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{type:"boolean"},autoDownloadTime:{type:"number"},contactEmail:{type:"string"},helpTextPath:{type:"string"},logoPath:{type:"string"},sidebar:{type:"boolean"},studyEndMsg:{type:"string"},withProgressBar:{type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},hke={$ref:cke,$schema:fke,definitions:dke},pke="#/definitions/GlobalConfig",mke="http://json-schema.org/draft-07/schema#",gke={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{type:"string"},configs:{additionalProperties:{additionalProperties:!1,properties:{path:{type:"string"}},required:["path"],type:"object"},type:"object"},configsList:{items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},yke={$ref:pke,$schema:mke,definitions:gke},oZ=new sZ;oZ.addSchema(yke);const TB=oZ.getSchema("#/definitions/GlobalConfig"),aZ=new sZ;aZ.addSchema(hke);const xB=aZ.getSchema("#/definitions/StudyConfig");function _ke(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function zx(e){return e.baseComponent!==void 0}function vke(e){const t=kD.parse(e),n=TB(t),r=_ke(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...TB.errors||[],...r[1]]),Error("There was an issue validating your file global.hjson")}function bke(e){const t=[];return[Object.values(e.components).every(r=>{var i;return zx(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function uZ(e,t){const n=kD.parse(e),r=xB(n),i=bke(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...xB.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Ta(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function cf(e){return!!e&&!!e[or]}function $l(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Oke}(e)||Array.isArray(e)||!!e[NB]||!!(!((t=e.constructor)===null||t===void 0)&&t[NB])||v$(e)||b$(e))}function Hd(e,t,n){n===void 0&&(n=!1),Gm(e)===0?(n?Object.keys:Pp)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Gm(e){var t=e[or];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:v$(e)?2:b$(e)?3:0}function Op(e,t){return Gm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Eke(e,t){return Gm(e)===2?e.get(t):e[t]}function lZ(e,t,n){var r=Gm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function cZ(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function v$(e){return Ake&&e instanceof Map}function b$(e){return Cke&&e instanceof Set}function Gf(e){return e.o||e.t}function E$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=dZ(e);delete t[or];for(var n=Pp(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function w$(e,t){return t===void 0&&(t=!1),S$(e)||cf(e)||!$l(e)||(Gm(e)>1&&(e.set=e.add=e.clear=e.delete=wke),Object.freeze(e),t&&Hd(e,function(n,r){return w$(r,!0)},!0)),e}function wke(){Ta(2)}function S$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Eu(e){var t=q2[e];return t||Ta(18,e),t}function Ske(e,t){q2[e]||(q2[e]=t)}function z2(){return Fy}function LC(e,t){t&&(Eu("Patches"),e.u=[],e.s=[],e.v=t)}function pS(e){H2(e),e.p.forEach(Tke),e.p=null}function H2(e){e===Fy&&(Fy=e.l)}function IB(e){return Fy={p:[],l:Fy,h:e,m:!0,_:0}}function Tke(e){var t=e[or];t.i===0||t.i===1?t.j():t.O=!0}function MC(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Eu("ES5").S(t,e,r),r?(n[or].P&&(pS(t),Ta(4)),$l(e)&&(e=mS(t,e),t.l||gS(t,e)),t.u&&Eu("Patches").M(n[or].t,e,t.u,t.s)):e=mS(t,n,[]),pS(t),t.u&&t.v(t.u,t.s),e!==fZ?e:void 0}function mS(e,t,n){if(S$(t))return t;var r=t[or];if(!r)return Hd(t,function(a,u){return AB(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return gS(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=E$(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Hd(s,function(a,u){return AB(e,r,i,a,u,n,o)}),gS(e,i,!1),n&&e.u&&Eu("Patches").N(r,n,e.u,e.s)}return r.o}function AB(e,t,n,r,i,s,o){if(cf(i)){var a=mS(e,i,s&&t&&t.i!==3&&!Op(t.R,r)?s.concat(r):void 0);if(lZ(n,r,a),!cf(a))return;e.m=!1}else o&&n.add(i);if($l(i)&&!S$(i)){if(!e.h.D&&e._<1)return;mS(e,i),t&&t.A.l||gS(e,i)}}function gS(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&w$(t,n)}function FC(e,t){var n=e[or];return(n?Gf(n):e)[t]}function CB(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ic(e){e.P||(e.P=!0,e.l&&Ic(e.l))}function BC(e){e.o||(e.o=E$(e.t))}function W2(e,t,n){var r=v$(t)?Eu("MapSet").F(t,n):b$(t)?Eu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:z2(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=By;o&&(u=[a],l=p0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Eu("ES5").J(t,n);return(n?n.A:z2()).p.push(r),r}function xke(e){return cf(e)||Ta(22,e),function t(n){if(!$l(n))return n;var r,i=n[or],s=Gm(n);if(i){if(!i.P&&(i.i<4||!Eu("ES5").K(i)))return i.t;i.I=!0,r=OB(n,s),i.I=!1}else r=OB(n,s);return Hd(r,function(o,a){i&&Eke(i.t,o)===a||lZ(r,o,t(a))}),s===3?new Set(r):r}(e)}function OB(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return E$(e)}function Ike(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[or];return By.get(u,s)},set:function(u){var l=this[or];By.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][or];if(!a.P)switch(a.i){case 5:r(a)&&Ic(a);break;case 4:n(a)&&Ic(a)}}}function n(s){for(var o=s.t,a=s.k,u=Pp(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==or){var f=o[c];if(f===void 0&&!Op(o,c))return!0;var d=a[c],h=d&&d[or];if(h?h.t!==f:!cZ(d,f))return!0}}var p=!!o[or];return u.length!==Pp(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};Ske("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=dZ(f);delete p[or];for(var g=Pp(p),y=0;y<g.length;y++){var m=g[y];p[m]=e(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:z2(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,or,{value:l,writable:!0}),u},S:function(s,o,a){a?cf(o)&&o[or].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[or];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Hd(d,function(v){v!==or&&(f[v]!==void 0||Op(f,v)?h[v]||u(d[v]):(h[v]=!0,Ic(c)))}),Hd(f,function(v){d[v]!==void 0||Op(d,v)||(h[v]=!1,Ic(c))});else if(p===5){if(r(c)&&(Ic(c),h.length=!0),d.length<f.length)for(var g=d.length;g<f.length;g++)h[g]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var m=Math.min(d.length,f.length),_=0;_<m;_++)d.hasOwnProperty(_)||(h[_]=!0),h[_]===void 0&&u(d[_])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var PB,Fy,T$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ake=typeof Map<"u",Cke=typeof Set<"u",RB=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",fZ=T$?Symbol.for("immer-nothing"):((PB={})["immer-nothing"]=!0,PB),NB=T$?Symbol.for("immer-draftable"):"__$immer_draftable",or=T$?Symbol.for("immer-state"):"__$immer_state",Oke=""+Object.prototype.constructor,Pp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,dZ=Object.getOwnPropertyDescriptors||function(e){var t={};return Pp(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},q2={},By={get:function(e,t){if(t===or)return e;var n=Gf(e);if(!Op(n,t))return function(i,s,o){var a,u=CB(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!$l(r)?r:r===FC(e.t,t)?(BC(e),e.o[t]=W2(e.A.h,r,e)):r},has:function(e,t){return t in Gf(e)},ownKeys:function(e){return Reflect.ownKeys(Gf(e))},set:function(e,t,n){var r=CB(Gf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=FC(Gf(e),t),s=i==null?void 0:i[or];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(cZ(n,i)&&(n!==void 0||Op(e.t,t)))return!0;BC(e),Ic(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return FC(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,BC(e),Ic(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Gf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ta(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ta(12)}},p0={};Hd(By,function(e,t){p0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),p0.deleteProperty=function(e,t){return p0.set.call(this,e,t,void 0)},p0.set=function(e,t,n){return By.set.call(this,e[0],t,n,e[0])};var Pke=function(){function e(n){var r=this;this.g=RB,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,_=Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];return u.produce(g,function(w){var T;return(T=s).call.apply(T,[y,w].concat(_))})}}var l;if(typeof s!="function"&&Ta(6),o!==void 0&&typeof o!="function"&&Ta(7),$l(i)){var c=IB(r),f=W2(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?pS(c):H2(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return LC(c,o),MC(g,c)},function(g){throw pS(c),g}):(LC(c,o),MC(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===fZ&&(l=void 0),r.D&&w$(l,!0),o){var h=[],p=[];Eu("Patches").M(i,l,h,p),o(h,p)}return l}Ta(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){$l(n)||Ta(8),cf(n)&&(n=xke(n));var r=IB(this),i=W2(this,n,void 0);return i[or].C=!0,H2(r),i},t.finishDraft=function(n,r){var i=n&&n[or],s=i.A;return LC(s,r),MC(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!RB&&Ta(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Eu("Patches").$;return cf(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),_o=new Pke,hZ=_o.produce;_o.produceWithPatches.bind(_o);_o.setAutoFreeze.bind(_o);_o.setUseProxies.bind(_o);_o.applyPatches.bind(_o);_o.createDraft.bind(_o);_o.finishDraft.bind(_o);function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function Rke(e,t){if(jy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nke(e){var t=Rke(e,"string");return jy(t)==="symbol"?t:String(t)}function kke(e,t,n){return t=Nke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kB(Object(n),!0).forEach(function(r){kke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var $B=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),jC=function(){return Math.random().toString(36).substring(7).split("").join(".")},yS={INIT:"@@redux/INIT"+jC(),REPLACE:"@@redux/REPLACE"+jC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+jC()}};function Dke(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function pZ(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gi(1));return n(pZ)(e,t)}if(typeof e!="function")throw new Error(Gi(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Gi(3));return s}function f(g){if(typeof g!="function")throw new Error(Gi(4));if(u)throw new Error(Gi(5));var y=!0;return l(),a.push(g),function(){if(y){if(u)throw new Error(Gi(6));y=!1,l();var _=a.indexOf(g);a.splice(_,1),o=null}}}function d(g){if(!Dke(g))throw new Error(Gi(7));if(typeof g.type>"u")throw new Error(Gi(8));if(u)throw new Error(Gi(9));try{u=!0,s=i(s,g)}finally{u=!1}for(var y=o=a,m=0;m<y.length;m++){var _=y[m];_()}return g}function h(g){if(typeof g!="function")throw new Error(Gi(10));i=g,d({type:yS.REPLACE})}function p(){var g,y=f;return g={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Gi(11));function v(){_.next&&_.next(c())}v();var w=y(v);return{unsubscribe:w}}},g[$B]=function(){return this},g}return d({type:yS.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[$B]=p,r}function $ke(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:yS.INIT});if(typeof r>"u")throw new Error(Gi(12));if(typeof n(void 0,{type:yS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gi(13))})}function Lke(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{$ke(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],g=u[h],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(Gi(14));f[h]=y,c=c||y!==g}return c=c||s.length!==Object.keys(u).length,c?f:u}}function _S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Mke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Gi(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=_S.apply(void 0,a)(i.dispatch),DB(DB({},i),{},{dispatch:s})}}}function mZ(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var gZ=mZ();gZ.withExtraArgument=mZ;const LB=gZ;var Fke=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q_=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Uy=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Bke=Object.defineProperty,jke=Object.defineProperties,Uke=Object.getOwnPropertyDescriptors,MB=Object.getOwnPropertySymbols,Vke=Object.prototype.hasOwnProperty,zke=Object.prototype.propertyIsEnumerable,FB=function(e,t,n){return t in e?Bke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Xc=function(e,t){for(var n in t||(t={}))Vke.call(t,n)&&FB(e,n,t[n]);if(MB)for(var r=0,i=MB(t);r<i.length;r++){var n=i[r];zke.call(t,n)&&FB(e,n,t[n])}return e},UC=function(e,t){return jke(e,Uke(t))},X_=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},Hke=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_S:_S.apply(null,arguments)};function Wke(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var qke=function(e){Fke(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Uy([void 0],n[0].concat(this)))):new(t.bind.apply(t,Uy([void 0],n.concat(this))))},t}(Array);function G2(e){return $l(e)?hZ(e,function(){}):e}function Gke(e){return typeof e=="boolean"}function Yke(){return function(t){return Kke(t)}}function Kke(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new qke;return n&&(Gke(n)?r.push(LB):r.push(LB.withExtraArgument(n.extraArgument))),r}var Qke=!0;function yZ(e){var t=Yke(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(Wke(i))h=Lke(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var g=Mke.apply(void 0,p),y=_S;u&&(y=Hke(Xc({trace:!Qke},typeof u=="object"&&u)));var m=[g];Array.isArray(d)?m=Uy([g],d):typeof d=="function"&&(m=d(m));var _=y.apply(void 0,m);return pZ(h,c,_)}function wu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Xc(Xc({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function _Z(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function Xke(e){return typeof e=="function"}function Jke(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?_Z(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(Xke(e))u=function(){return G2(e())};else{var l=G2(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Uy([s[d.type]],o.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,g){if(g)if(cf(p)){var y=p,m=g(y,d);return m===void 0?p:m}else{if($l(p))return hZ(p,function(_){return g(_,d)});var m=g(p,d);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=u,c}function Zke(e,t){return e+"/"+t}function vZ(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:G2(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=Zke(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?wu(d,p):wu(d)});function u(){var c=typeof e.extraReducers=="function"?_Z(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,g=c[2],y=g===void 0?void 0:g,m=Xc(Xc({},d),o);return Jke(n,function(_){for(var v in m)_.addCase(v,m[v]);for(var w=0,T=p;w<T.length;w++){var E=T[w];_.addMatcher(E.matcher,E.reducer)}y&&_.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var eDe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bZ=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=eDe[Math.random()*64|0];return t},tDe=["name","message","stack","code"],VC=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),BB=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),nDe=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=tDe;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=wu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:UC(Xc({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=wu(t+"/pending",function(l,c,f){return{payload:void 0,meta:UC(Xc({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=wu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||nDe)(l||"Rejected"),meta:UC(Xc({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):bZ(),p=new a,g;function y(_){g=_,p.abort()}var m=function(){return X_(this,null,function(){var _,v,w,T,E,x,A;return Q_(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),T=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:f,extra:d}),iDe(T)?[4,T]:[3,2];case 1:T=M.sent(),M.label=2;case 2:if(T===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(D,$){return p.signal.addEventListener("abort",function(){return $({name:"AbortError",message:g||"Aborted"})})}),c(s(h,l,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([E,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(D,$){return new VC(D,$)},fulfillWithValue:function(D,$){return new BB(D,$)}})).then(function(D){if(D instanceof VC)throw D;return D instanceof BB?i(D.payload,h,l,D.meta):i(D,h,l)})])];case 3:return w=M.sent(),[3,5];case 4:return x=M.sent(),w=x instanceof VC?o(null,h,l,x.payload,x.meta):o(x,h,l),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,A||c(w),[2,w]}})})}();return Object.assign(m,{abort:y,requestId:h,arg:l,unwrap:function(){return m.then(rDe)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function rDe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function iDe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var sDe=function(e){return e&&typeof e.match=="function"},oDe=function(e,t){return sDe(e)?e.match(t):e(t)};function jB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return oDe(r,n)})}}var x$=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},Y2=function(){},EZ=function(e,t){return t===void 0&&(t=Y2),e.catch(t),e},wZ=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Rp=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},aDe="task",SZ="listener",TZ="completed",I$="cancelled",uDe="task-"+I$,lDe="task-"+TZ,xZ=SZ+"-"+I$,cDe=SZ+"-"+TZ,Hx=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=aDe+" "+I$+" (reason: "+t+")"}return e}(),Np=function(e){if(e.aborted)throw new Hx(e.reason)};function IZ(e,t){var n=Y2;return new Promise(function(r,i){var s=function(){return i(new Hx(e.reason))};if(e.aborted){s();return}n=wZ(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=Y2})}var fDe=function(e,t){return X_(void 0,null,function(){var n,r;return Q_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof Hx?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},vS=function(e){return function(t){return EZ(IZ(e,t).then(function(n){return Np(e),n}))}},AZ=function(e){var t=vS(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},dDe=Object.assign,UB={},J_="listenerMiddleware",hDe=function(e){var t=function(n){return wZ(e,function(){return Rp(n,e.reason)})};return function(n){x$(n,"taskExecutor");var r=new AbortController;t(r);var i=fDe(function(){return X_(void 0,null,function(){var s;return Q_(this,function(o){switch(o.label){case 0:return Np(e),Np(r.signal),[4,n({pause:vS(r.signal),delay:AZ(r.signal),signal:r.signal})];case 1:return s=o.sent(),Np(r.signal),[2,s]}})})},function(){return Rp(r,lDe)});return{result:vS(e)(i),cancel:function(){Rp(r,uDe)}}}},pDe=function(e,t){var n=function(r,i){return X_(void 0,null,function(){var s,o,a,u;return Q_(this,function(l){switch(l.label){case 0:Np(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,IZ(t,Promise.race(a))];case 2:return u=l.sent(),Np(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return EZ(n(r,i))}},CZ=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=wu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return x$(s,"options.listener"),{predicate:i,type:t,effect:s}},mDe=function(e){var t=CZ(e),n=t.type,r=t.predicate,i=t.effect,s=bZ(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},K2=function(e){e.pending.forEach(function(t){Rp(t,xZ)})},gDe=function(e){return function(){e.forEach(K2),e.clear()}},VB=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},yDe=wu(J_+"/add"),_De=wu(J_+"/removeAll"),vDe=wu(J_+"/remove"),bDe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Uy([J_+"/error"],e))};function EDe(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?bDe:i;x$(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&K2(h)}},a=function(h){for(var p=0,g=Array.from(n.values());p<g.length;p++){var y=g[p];if(h(y))return y}},u=function(h){var p=a(function(g){return g.effect===h.effect});return p||(p=mDe(h)),o(p)},l=function(h){var p=CZ(h),g=p.type,y=p.effect,m=p.predicate,_=a(function(v){var w=typeof g=="string"?v.type===g:v.predicate===m;return w&&v.effect===y});return _&&(_.unsubscribe(),h.cancelActive&&K2(_)),!!_},c=function(h,p,g,y){return X_(t,null,function(){var m,_,v;return Q_(this,function(w){switch(w.label){case 0:m=new AbortController,_=pDe(u,m.signal),w.label=1;case 1:return w.trys.push([1,3,4,5]),h.pending.add(m),[4,Promise.resolve(h.effect(p,dDe({},g,{getOriginalState:y,condition:function(T,E){return _(T,E).then(Boolean)},take:_,delay:AZ(m.signal),pause:vS(m.signal),extra:r,signal:m.signal,fork:hDe(m.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(T,E,x){T!==m&&(Rp(T,xZ),x.delete(T))})}})))];case 2:return w.sent(),[3,5];case 3:return v=w.sent(),v instanceof Hx||VB(s,v,{raisedBy:"effect"}),[3,5];case 4:return Rp(m,cDe),h.pending.delete(m),[7];case 5:return[2]}})})},f=gDe(n),d=function(h){return function(p){return function(g){if(yDe.match(g))return u(g.payload);if(_De.match(g)){f();return}if(vDe.match(g))return l(g.payload);var y=h.getState(),m=function(){if(y===UB)throw new Error(J_+": getOriginalState can only be called synchronously");return y},_;try{if(_=p(g),n.size>0)for(var v=h.getState(),w=Array.from(n.values()),T=0,E=w;T<E.length;T++){var x=E[T],A=!1;try{A=x.predicate(g,v,y)}catch(M){A=!1,VB(s,M,{raisedBy:"predicate"})}A&&c(x,g,h,m)}}finally{y=UB}return _}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var zB;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Ike();async function wDe(e,t,n,r){const i=Object.assign({},n.map(c=>({[c]:{}}))),s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=vZ({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{if(!f.currentStep||f.currentStep.length===0)return c;c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph)},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:g,provenanceGraph:y}=f;c.answers[d]={answer:h,startTime:p,endTime:g,provenanceGraph:y}}}});return{store:yZ({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const OZ=S.createContext(null);function tc(){return S.useContext(OZ).actions}const nc=EJ,zu=VOe;function SDe(e){return zu(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}function PZ(){return Vm().pathname.split("/")[1]}function Ao(){return Vm().pathname.split("/")[2]}function A$(e){return structuredClone(e)}function C$(){const{answers:e}=zu(n=>n),t=Ao();return e[t]}function RZ(){const e=Ao(),{sequence:t,trialValidation:n}=zu(y=>y),r=C$(),i=nc(),{saveTrialAnswer:s,setIframeAnswers:o}=tc(),{storageEngine:a}=Of(),l=!SDe(e),c=r==null?void 0:r.answer,f=oh(),d=S.useMemo(()=>{const y=t.indexOf(e);return t[y+1]||"end"},[e,t]),h=`/${PZ()}/${d}`,p=S.useMemo(()=>Date.now(),[]),g=S.useCallback(()=>{const y=A$(n[e]),m=Object.values(y).reduce((w,T)=>Object.hasOwn(T,"values")?{...w,...T.values}:w,{}),_=y.provenanceGraph,v=Date.now();Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:m,startTime:p,endTime:v,provenanceGraph:_})),a&&a.saveAnswer(e,{answer:m,startTime:p,endTime:v,provenanceGraph:_}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h]);return{nextStep:d,isNextDisabled:l,goToNextStep:g}}function TDe({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:s}=RZ(),o=S.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return O.jsx(Qo,{type:"submit",disabled:t||i,onClick:o,children:e})}function Q2(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var xDe=Object.defineProperty,HB=Object.getOwnPropertySymbols,IDe=Object.prototype.hasOwnProperty,ADe=Object.prototype.propertyIsEnumerable,WB=(e,t,n)=>t in e?xDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CDe=(e,t)=>{for(var n in t||(t={}))IDe.call(t,n)&&WB(e,n,t[n]);if(HB)for(var n of HB(t))ADe.call(t,n)&&WB(e,n,t[n]);return e};function NZ(e,t){if(t===null||typeof t!="object")return{};const n=CDe({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const ODe="__MANTINE_FORM_INDEX__";function qB(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${ODe}`)):!1:!1}function GB(e,t,n){typeof n.value=="object"&&(n.value=up(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function up(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(up(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(up(a),up(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(up(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)GB(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||GB(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function kZ(e){return typeof e!="string"?[]:e.split(".")}function Wx(e,t,n){const r=kZ(e);if(r.length===0)return n;const i=up(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function sl(e,t){const n=kZ(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function YB(e){const t=Q2(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function X2(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=sl(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>X2(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||X2(o,t,a,i)),i},r)}function J2(e,t){return YB(typeof e=="function"?e(t):X2(e,t))}function w1(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=J2(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function PDe(e,{from:t,to:n},r){const i=sl(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),Wx(e,s,r)}var RDe=Object.defineProperty,KB=Object.getOwnPropertySymbols,NDe=Object.prototype.hasOwnProperty,kDe=Object.prototype.propertyIsEnumerable,QB=(e,t,n)=>t in e?RDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DDe=(e,t)=>{for(var n in t||(t={}))NDe.call(t,n)&&QB(e,n,t[n]);if(KB)for(var n of KB(t))kDe.call(t,n)&&QB(e,n,t[n]);return e};function $De(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=DDe({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function LDe(e,t,n){const r=sl(e,n);return Array.isArray(r)?Wx(e,r.filter((i,s)=>s!==t),n):n}var MDe=Object.defineProperty,XB=Object.getOwnPropertySymbols,FDe=Object.prototype.hasOwnProperty,BDe=Object.prototype.propertyIsEnumerable,JB=(e,t,n)=>t in e?MDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jDe=(e,t)=>{for(var n in t||(t={}))FDe.call(t,n)&&JB(e,n,t[n]);if(XB)for(var n of XB(t))BDe.call(t,n)&&JB(e,n,t[n]);return e};function ZB(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function ej(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=NZ(`${i}.${t}`,s));const o=jDe({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=ZB(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=ZB(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function UDe(e,t,n,r){const i=sl(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),Wx(e,s,r)}function tj(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function VDe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var zDe=Object.defineProperty,HDe=Object.defineProperties,WDe=Object.getOwnPropertyDescriptors,nj=Object.getOwnPropertySymbols,qDe=Object.prototype.hasOwnProperty,GDe=Object.prototype.propertyIsEnumerable,rj=(e,t,n)=>t in e?zDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fc=(e,t)=>{for(var n in t||(t={}))qDe.call(t,n)&&rj(e,n,t[n]);if(nj)for(var n of nj(t))GDe.call(t,n)&&rj(e,n,t[n]);return e},zC=(e,t)=>HDe(e,WDe(t));function YDe({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=S.useState(r),[f,d]=S.useState(n),[h,p]=S.useState(e),[g,y]=S.useState(Q2(t)),m=S.useRef(e),_=P=>{m.current=P},v=S.useCallback(()=>c({}),[]),w=P=>{const G=P?fc(fc({},h),P):h;_(G),d({})},T=S.useCallback(P=>y(G=>Q2(typeof P=="function"?P(G):P)),[]),E=S.useCallback(()=>y({}),[]),x=S.useCallback(()=>{p(e),E(),_(e),d({}),v()},[]),A=S.useCallback((P,G)=>T(se=>zC(fc({},se),{[P]:G})),[]),M=S.useCallback(P=>T(G=>{if(typeof P!="string")return G;const se=fc({},G);return delete se[P],se}),[]),D=S.useCallback(P=>d(G=>{if(typeof P!="string")return G;const se=NZ(P,G);return delete se[P],se}),[]),$=S.useCallback((P,G)=>{const se=qB(P,s);D(P),c(ue=>zC(fc({},ue),{[P]:!0})),p(ue=>{const he=Wx(P,G,ue);if(se){const fe=w1(P,u,he);fe.hasError?A(P,fe.error):M(P)}return he}),!se&&i&&A(P,null)},[]),W=S.useCallback(P=>{p(G=>{const se=typeof P=="function"?P(G):P;return fc(fc({},G),se)}),i&&E()},[]),q=S.useCallback((P,G)=>{D(P),p(se=>PDe(P,G,se)),y(se=>$De(P,G,se))},[]),H=S.useCallback((P,G)=>{D(P),p(se=>LDe(P,G,se)),y(se=>ej(P,G,se,-1))},[]),de=S.useCallback((P,G,se)=>{D(P),p(ue=>UDe(P,G,se,ue)),y(ue=>ej(P,se,ue,1))},[]),ae=S.useCallback(()=>{const P=J2(u,h);return y(P.errors),P},[h,u]),pe=S.useCallback(P=>{const G=w1(P,u,h);return G.hasError?A(P,G.error):M(P),G},[h,u]),ee=(P,{type:G="input",withError:se=!0,withFocus:ue=!0}={})=>{const fe={onChange:VDe(Te=>$(P,Te))};return se&&(fe.error=g[P]),G==="checkbox"?fe.checked=sl(P,h):fe.value=sl(P,h),ue&&(fe.onFocus=()=>c(Te=>zC(fc({},Te),{[P]:!0})),fe.onBlur=()=>{if(qB(P,o)){const Te=w1(P,u,h);Te.hasError?A(P,Te.error):M(P)}}),fe},ie=(P,G)=>se=>{se==null||se.preventDefault();const ue=ae();ue.hasErrors?G==null||G(ue.errors,h,se):P==null||P(a(h),se)},K=P=>a(P||h),I=S.useCallback(P=>{P.preventDefault(),x()},[]),C=P=>{if(P){const se=sl(P,f);if(typeof se=="boolean")return se;const ue=sl(P,h),he=sl(P,m.current);return!oB(ue,he)}return Object.keys(f).length>0?tj(f):!oB(h,m.current)},V=S.useCallback(P=>tj(l,P),[l]),R=S.useCallback(P=>P?!w1(P,u,h).hasError:!J2(u,h).hasErrors,[h,u]);return{values:h,errors:g,setValues:W,setErrors:T,setFieldValue:$,setFieldError:A,clearFieldError:M,clearErrors:E,reset:x,validate:ae,validateField:pe,reorderListItem:q,removeListItem:H,insertListItem:de,getInputProps:ee,onSubmit:ie,onReset:I,isDirty:C,isTouched:V,setTouched:c,setDirty:d,resetTouched:v,resetDirty:w,isValid:R,getTransformedValues:K}}const KDe=new URLSearchParams(window.location.search),QDe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};i?n={...n,[r.id]:i}:n={...n,[r.id]:r.type==="iframe"?[]:r.paramCapture?KDe.get(r.paramCapture):""}}),{...n}},XDe=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function JDe(e,t,n){const[r,i]=S.useState(null),s=YDe({initialValues:QDe(e,n),validate:XDe(e)});return S.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function fh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}function ZDe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return O.jsx(Sw.Group,{label:r,withAsterisk:i,...n,error:fh(e,n,s),children:O.jsx(yo,{mt:"md",children:s.map(o=>O.jsx(Sw,{disabled:t,value:o.value,label:o.label},o.value))})})}function e$e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return O.jsx(O.Fragment,{children:O.jsx(JX,{disabled:t,label:i,placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:fh(e,n,o)})})}function t$e({response:e,answer:t}){const{prompt:n}=e;return O.jsxs(O.Fragment,{children:[O.jsx(At,{fz:"md",fw:500,children:n}),O.jsx(im,{children:Array.isArray(t.value)&&t.value.map(r=>O.jsx(im.Item,{children:r},r))})]})}function DZ({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return O.jsx(O.Fragment,{children:O.jsxs(Xw.Group,{name:`radioInput${e.id}`,label:r,withAsterisk:i,size:"md",...n,error:fh(e,n,s),children:[o?O.jsx(At,{children:o}):null,O.jsx(yo,{mt:"xs",children:s.map(u=>O.jsx(Xw,{disabled:t,value:u.value,label:u.label},u.label))}),O.jsx(At,{children:a})]},e.id)})}function n$e({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o++)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return O.jsx(DZ,{disabled:t,response:s,answer:n})}function r$e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return O.jsx(O.Fragment,{children:O.jsx(IX,{disabled:t,placeholder:a,label:r,withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:fh(e,n)})})}function i$e({response:e,disabled:t,answer:n}){const{prompt:r,options:i}=e,s=fh(e,n);return O.jsxs(Go,{spacing:2,children:[O.jsx(At,{fz:"md",fw:500,children:r}),O.jsx(OD,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:i,...n,styles:o=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:o.colors.blue[6]},markLabel:{fontSize:o.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:o.white,borderWidth:1,boxShadow:o.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})}),s?O.jsx(At,{size:12,c:"#fa5252",children:s}):null]})}function s$e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return O.jsx(O.Fragment,{children:O.jsx(ID,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:fh(e,n)})})}function o$e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return O.jsx(O.Fragment,{children:O.jsx(LQ,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:fh(e,n)})})}function a$e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=$q(),o=S.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return O.jsx(O.Fragment,{children:O.jsxs(ut,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&O.jsx(r$e,{response:e,disabled:o,answer:r}),e.type==="shortText"&&O.jsx(s$e,{response:e,disabled:o,answer:r}),e.type==="longText"&&O.jsx(o$e,{response:e,disabled:o,answer:r}),e.type==="likert"&&O.jsx(n$e,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&O.jsx(e$e,{response:e,disabled:o,answer:r}),e.type==="slider"&&O.jsx(i$e,{response:e,disabled:o,answer:r}),e.type==="radio"&&O.jsx(DZ,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&O.jsx(ZDe,{response:e,disabled:o,answer:r}),e.type==="iframe"&&O.jsx(t$e,{response:e,disabled:o,answer:r})]})})}function bS({config:e,location:t,status:n,style:r}){var y,m;const i=Ao(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(_=>_.location?_.location===t:t==="belowStimulus"))||[],u=nc(),{updateResponseBlockValidation:l}=tc(),c=JDe(a,i,s||{}),[f,d]=S.useState(!1),{iframeAnswers:h}=zu(_=>_),p=(((m=o==null?void 0:o.correctAnswer)==null?void 0:m.length)||0)>0,g=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return S.useEffect(()=>{const _=a.find(v=>v.type==="iframe");if(_){const v=_.id;c.setValues({...c.values,[v]:h})}},[h]),S.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:A$(c.values)}))},[c.values,i,t]),O.jsxs("div",{style:r,children:[a.map(_=>{var v,w;return O.jsx(L.Fragment,{children:_.hidden?"":O.jsxs(O.Fragment,{children:[O.jsx(a$e,{storedAnswer:s?s[_.id]:void 0,answer:{...c.getInputProps(_.id,{type:_.type==="checkbox"?"checkbox":"input"})},response:_}),p&&f&&O.jsxs(At,{children:["The correct answer is: ",(w=(v=o.correctAnswer)==null?void 0:v.find(T=>T.id===_.id))==null?void 0:w.answer]})]})},`${_.id}-${i}`)}),O.jsxs(yo,{position:"right",spacing:"xs",mt:"xl",children:[p&&g&&O.jsx(Qo,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),g&&O.jsx(TDe,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const S1="@REVISIT_COMMS",u$e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function l$e({currentConfig:e}){const{setIframeAnswers:t}=tc(),n=nc(),r=EJ(),i=S.useRef(null),s=S.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=Ao(),a=oh(),u=S.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${S1}/${l}`,iframeId:s,message:c},"*")},[i,s]);return S.useEffect(()=>{const l=c=>{const f=c.data;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${S1}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${S1}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${S1}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),O.jsx("div",{children:O.jsx("iframe",{ref:i,src:`${Yu}${e.path}?trialid=${o}&id=${s}`,style:u$e})})}const c$e={maxWidth:"100%"},f$e=({currentConfig:e})=>{const t={...c$e,...e.style};return O.jsx(H_,{mx:"auto",src:`${Yu}${e.path}`,style:t})};function Ib(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O$(e){let t,n,r;e.length!==2?(t=Ib,n=(a,u)=>Ib(e(a),u),r=(a,u)=>e(a)-u):(t=e===Ib||e===d$e?e:h$e,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function h$e(){return 0}function p$e(e){return e===null?NaN:+e}const m$e=O$(Ib),g$e=m$e.right;O$(p$e).center;const y$e=g$e;function ij(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class sj extends Map{constructor(t,n=b$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(oj(this,t))}has(t){return super.has(oj(this,t))}set(t,n){return super.set(_$e(this,t),n)}delete(t){return super.delete(v$e(this,t))}}function oj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function v$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function b$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}const E$e=Math.sqrt(50),w$e=Math.sqrt(10),S$e=Math.sqrt(2);function ES(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=E$e?10:s>=w$e?5:s>=S$e?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?ES(e,t,n*2):[a,u,l]}function T$e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?ES(t,e,n):ES(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function Z2(e,t,n){return t=+t,e=+e,n=+n,ES(e,t,n)[2]}function eR(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Z2(t,e,n):Z2(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function x$e(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function I$e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var A$e={value:()=>{}};function P$(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ab(n)}function Ab(e){this._=e}function C$e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ab.prototype=P$.prototype={constructor:Ab,on:function(e,t){var n=this._,r=C$e(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=O$e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=aj(n[i],e.name,t);else if(t==null)for(i in n)n[i]=aj(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ab(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function O$e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function aj(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=A$e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var tR="http://www.w3.org/1999/xhtml";const uj={svg:"http://www.w3.org/2000/svg",xhtml:tR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qx(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),uj.hasOwnProperty(t)?{space:uj[t],local:e}:e}function P$e(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tR&&t.documentElement.namespaceURI===tR?t.createElement(e):t.createElementNS(n,e)}}function R$e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $Z(e){var t=qx(e);return(t.local?R$e:P$e)(t)}function N$e(){}function R$(e){return e==null?N$e:function(){return this.querySelector(e)}}function k$e(e){typeof e!="function"&&(e=R$(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new ps(r,this._parents)}function LZ(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function D$e(){return[]}function MZ(e){return e==null?D$e:function(){return this.querySelectorAll(e)}}function $$e(e){return function(){return LZ(e.apply(this,arguments))}}function L$e(e){typeof e=="function"?e=$$e(e):e=MZ(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new ps(r,i)}function FZ(e){return function(){return this.matches(e)}}function BZ(e){return function(t){return t.matches(e)}}var M$e=Array.prototype.find;function F$e(e){return function(){return M$e.call(this.children,e)}}function B$e(){return this.firstElementChild}function j$e(e){return this.select(e==null?B$e:F$e(typeof e=="function"?e:BZ(e)))}var U$e=Array.prototype.filter;function V$e(){return Array.from(this.children)}function z$e(e){return function(){return U$e.call(this.children,e)}}function H$e(e){return this.selectAll(e==null?V$e:z$e(typeof e=="function"?e:BZ(e)))}function W$e(e){typeof e!="function"&&(e=FZ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new ps(r,this._parents)}function jZ(e){return new Array(e.length)}function q$e(){return new ps(this._enter||this._groups.map(jZ),this._parents)}function wS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}wS.prototype={constructor:wS,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function G$e(e){return function(){return e}}function Y$e(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new wS(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function K$e(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new wS(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function Q$e(e){return e.__data__}function X$e(e,t){if(!arguments.length)return Array.from(this,Q$e);var n=t?K$e:Y$e,r=this._parents,i=this._groups;typeof e!="function"&&(e=G$e(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=J$e(e.call(c,c&&c.__data__,l,r)),p=h.length,g=a[l]=new Array(p),y=o[l]=new Array(p),m=u[l]=new Array(d);n(c,f,g,y,m,h,t);for(var _=0,v=0,w,T;_<p;++_)if(w=g[_]){for(_>=v&&(v=_+1);!(T=y[v])&&++v<p;);w._next=T||null}}return o=new ps(o,r),o._enter=a,o._exit=u,o}function J$e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Z$e(){return new ps(this._exit||this._groups.map(jZ),this._parents)}function e3e(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function t3e(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new ps(a,this._parents)}function n3e(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function r3e(e){e||(e=i3e);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new ps(i,this._parents).order()}function i3e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function s3e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function o3e(){return Array.from(this)}function a3e(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function u3e(){let e=0;for(const t of this)++e;return e}function l3e(){return!this.node()}function c3e(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function f3e(e){return function(){this.removeAttribute(e)}}function d3e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function h3e(e,t){return function(){this.setAttribute(e,t)}}function p3e(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function m3e(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function g3e(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function y3e(e,t){var n=qx(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?d3e:f3e:typeof t=="function"?n.local?g3e:m3e:n.local?p3e:h3e)(n,t))}function UZ(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _3e(e){return function(){this.style.removeProperty(e)}}function v3e(e,t,n){return function(){this.style.setProperty(e,t,n)}}function b3e(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function E3e(e,t,n){return arguments.length>1?this.each((t==null?_3e:typeof t=="function"?b3e:v3e)(e,t,n??"")):lm(this.node(),e)}function lm(e,t){return e.style.getPropertyValue(t)||UZ(e).getComputedStyle(e,null).getPropertyValue(t)}function w3e(e){return function(){delete this[e]}}function S3e(e,t){return function(){this[e]=t}}function T3e(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function x3e(e,t){return arguments.length>1?this.each((t==null?w3e:typeof t=="function"?T3e:S3e)(e,t)):this.node()[e]}function VZ(e){return e.trim().split(/^|\s+/)}function N$(e){return e.classList||new zZ(e)}function zZ(e){this._node=e,this._names=VZ(e.getAttribute("class")||"")}zZ.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function HZ(e,t){for(var n=N$(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function WZ(e,t){for(var n=N$(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function I3e(e){return function(){HZ(this,e)}}function A3e(e){return function(){WZ(this,e)}}function C3e(e,t){return function(){(t.apply(this,arguments)?HZ:WZ)(this,e)}}function O3e(e,t){var n=VZ(e+"");if(arguments.length<2){for(var r=N$(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?C3e:t?I3e:A3e)(n,t))}function P3e(){this.textContent=""}function R3e(e){return function(){this.textContent=e}}function N3e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function k3e(e){return arguments.length?this.each(e==null?P3e:(typeof e=="function"?N3e:R3e)(e)):this.node().textContent}function D3e(){this.innerHTML=""}function $3e(e){return function(){this.innerHTML=e}}function L3e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function M3e(e){return arguments.length?this.each(e==null?D3e:(typeof e=="function"?L3e:$3e)(e)):this.node().innerHTML}function F3e(){this.nextSibling&&this.parentNode.appendChild(this)}function B3e(){return this.each(F3e)}function j3e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U3e(){return this.each(j3e)}function V3e(e){var t=typeof e=="function"?e:$Z(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function z3e(){return null}function H3e(e,t){var n=typeof e=="function"?e:$Z(e),r=t==null?z3e:typeof t=="function"?t:R$(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function W3e(){var e=this.parentNode;e&&e.removeChild(this)}function q3e(){return this.each(W3e)}function G3e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Y3e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function K3e(e){return this.select(e?Y3e:G3e)}function Q3e(e){return arguments.length?this.property("__data__",e):this.node().__data__}function X3e(e){return function(t){e.call(this,t,this.__data__)}}function J3e(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Z3e(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function e6e(e,t,n){return function(){var r=this.__on,i,s=X3e(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function t6e(e,t,n){var r=J3e(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?e6e:Z3e,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function qZ(e,t,n){var r=UZ(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function n6e(e,t){return function(){return qZ(this,e,t)}}function r6e(e,t){return function(){return qZ(this,e,t.apply(this,arguments))}}function i6e(e,t){return this.each((typeof t=="function"?r6e:n6e)(e,t))}function*s6e(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var k$=[null];function ps(e,t){this._groups=e,this._parents=t}function Z_(){return new ps([[document.documentElement]],k$)}function o6e(){return this}ps.prototype=Z_.prototype={constructor:ps,select:k$e,selectAll:L$e,selectChild:j$e,selectChildren:H$e,filter:W$e,data:X$e,enter:q$e,exit:Z$e,join:e3e,merge:t3e,selection:o6e,order:n3e,sort:r3e,call:s3e,nodes:o3e,node:a3e,size:u3e,empty:l3e,each:c3e,attr:y3e,style:E3e,property:x3e,classed:O3e,text:k3e,html:M3e,raise:B3e,lower:U3e,append:V3e,insert:H3e,remove:q3e,clone:K3e,datum:Q3e,on:t6e,dispatch:i6e,[Symbol.iterator]:s6e};function jr(e){return typeof e=="string"?new ps([[document.querySelector(e)]],[document.documentElement]):new ps([[e]],k$)}function a6e(e){let t;for(;t=e.sourceEvent;)e=t;return e}function nR(e,t){if(e=a6e(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function u6e(e){return typeof e=="string"?new ps([document.querySelectorAll(e)],[document.documentElement]):new ps([LZ(e)],k$)}const rR={capture:!0,passive:!1};function iR(e){e.preventDefault(),e.stopImmediatePropagation()}function l6e(e){var t=e.document.documentElement,n=jr(e).on("dragstart.drag",iR,rR);"onselectstart"in t?n.on("selectstart.drag",iR,rR):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function c6e(e,t){var n=e.document.documentElement,r=jr(e).on("dragstart.drag",null);t&&(r.on("click.drag",iR,rR),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function D$(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function GZ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ev(){}var Vy=.7,SS=1/Vy,kp="\\s*([+-]?\\d+)\\s*",zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f6e=/^#([0-9a-f]{3,8})$/,d6e=new RegExp(`^rgb\\(${kp},${kp},${kp}\\)$`),h6e=new RegExp(`^rgb\\(${Su},${Su},${Su}\\)$`),p6e=new RegExp(`^rgba\\(${kp},${kp},${kp},${zy}\\)$`),m6e=new RegExp(`^rgba\\(${Su},${Su},${Su},${zy}\\)$`),g6e=new RegExp(`^hsl\\(${zy},${Su},${Su}\\)$`),y6e=new RegExp(`^hsla\\(${zy},${Su},${Su},${zy}\\)$`),lj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D$(ev,Wd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cj,formatHex:cj,formatHex8:_6e,formatHsl:v6e,formatRgb:fj,toString:fj});function cj(){return this.rgb().formatHex()}function _6e(){return this.rgb().formatHex8()}function v6e(){return YZ(this).formatHsl()}function fj(){return this.rgb().formatRgb()}function Wd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=f6e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?dj(t):n===3?new Bs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?T1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?T1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=d6e.exec(e))?new Bs(t[1],t[2],t[3],1):(t=h6e.exec(e))?new Bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p6e.exec(e))?T1(t[1],t[2],t[3],t[4]):(t=m6e.exec(e))?T1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g6e.exec(e))?mj(t[1],t[2]/100,t[3]/100,1):(t=y6e.exec(e))?mj(t[1],t[2]/100,t[3]/100,t[4]):lj.hasOwnProperty(e)?dj(lj[e]):e==="transparent"?new Bs(NaN,NaN,NaN,0):null}function dj(e){return new Bs(e>>16&255,e>>8&255,e&255,1)}function T1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Bs(e,t,n,r)}function b6e(e){return e instanceof ev||(e=Wd(e)),e?(e=e.rgb(),new Bs(e.r,e.g,e.b,e.opacity)):new Bs}function sR(e,t,n,r){return arguments.length===1?b6e(e):new Bs(e,t,n,r??1)}function Bs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}D$(Bs,sR,GZ(ev,{brighter(e){return e=e==null?SS:Math.pow(SS,e),new Bs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vy:Math.pow(Vy,e),new Bs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bs(Cd(this.r),Cd(this.g),Cd(this.b),TS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hj,formatHex:hj,formatHex8:E6e,formatRgb:pj,toString:pj}));function hj(){return`#${dd(this.r)}${dd(this.g)}${dd(this.b)}`}function E6e(){return`#${dd(this.r)}${dd(this.g)}${dd(this.b)}${dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function pj(){const e=TS(this.opacity);return`${e===1?"rgb(":"rgba("}${Cd(this.r)}, ${Cd(this.g)}, ${Cd(this.b)}${e===1?")":`, ${e})`}`}function TS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dd(e){return e=Cd(e),(e<16?"0":"")+e.toString(16)}function mj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xa(e,t,n,r)}function YZ(e){if(e instanceof xa)return new xa(e.h,e.s,e.l,e.opacity);if(e instanceof ev||(e=Wd(e)),!e)return new xa;if(e instanceof xa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new xa(o,a,u,e.opacity)}function w6e(e,t,n,r){return arguments.length===1?YZ(e):new xa(e,t,n,r??1)}function xa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}D$(xa,w6e,GZ(ev,{brighter(e){return e=e==null?SS:Math.pow(SS,e),new xa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vy:Math.pow(Vy,e),new xa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Bs(HC(e>=240?e-240:e+120,i,r),HC(e,i,r),HC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xa(gj(this.h),x1(this.s),x1(this.l),TS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=TS(this.opacity);return`${e===1?"hsl(":"hsla("}${gj(this.h)}, ${x1(this.s)*100}%, ${x1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gj(e){return e=(e||0)%360,e<0?e+360:e}function x1(e){return Math.max(0,Math.min(1,e||0))}function HC(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $$=e=>()=>e;function S6e(e,t){return function(n){return e+n*t}}function T6e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function x6e(e){return(e=+e)==1?KZ:function(t,n){return n-t?T6e(t,n,e):$$(isNaN(t)?n:t)}}function KZ(e,t){var n=t-e;return n?S6e(e,n):$$(isNaN(e)?t:e)}const xS=function e(t){var n=x6e(t);function r(i,s){var o=n((i=sR(i)).r,(s=sR(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=KZ(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function I6e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function A6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function C6e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Gx(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function O6e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ea(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function P6e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Gx(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var oR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WC=new RegExp(oR.source,"g");function R6e(e){return function(){return e}}function N6e(e){return function(t){return e(t)+""}}function QZ(e,t){var n=oR.lastIndex=WC.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=oR.exec(e))&&(i=WC.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Ea(r,i)})),n=WC.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?N6e(u[0].x):R6e(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function Gx(e,t){var n=typeof t,r;return t==null||n==="boolean"?$$(t):(n==="number"?Ea:n==="string"?(r=Wd(t))?(t=r,xS):QZ:t instanceof Wd?xS:t instanceof Date?O6e:A6e(t)?I6e:Array.isArray(t)?C6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?P6e:Ea)(e,t)}function k6e(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var yj=180/Math.PI,aR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function XZ(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*yj,skewX:Math.atan(u)*yj,scaleX:o,scaleY:a}}var I1;function D6e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?aR:XZ(t.a,t.b,t.c,t.d,t.e,t.f)}function $6e(e){return e==null||(I1||(I1=document.createElementNS("http://www.w3.org/2000/svg","g")),I1.setAttribute("transform",e),!(e=I1.transform.baseVal.consolidate()))?aR:(e=e.matrix,XZ(e.a,e.b,e.c,e.d,e.e,e.f))}function JZ(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Ea(l,f)},{i:g-2,x:Ea(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Ea(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Ea(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Ea(l,f)},{i:g-2,x:Ea(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,g=d.length,y;++p<g;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var L6e=JZ(D6e,"px, ","px)","deg)"),M6e=JZ($6e,", ",")",")"),cm=0,m0=0,Ug=0,ZZ=1e3,IS,g0,AS=0,qd=0,Yx=0,Hy=typeof performance=="object"&&performance.now?performance:Date,eee=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function L$(){return qd||(eee(F6e),qd=Hy.now()+Yx)}function F6e(){qd=0}function CS(){this._call=this._time=this._next=null}CS.prototype=tee.prototype={constructor:CS,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?L$():+n)+(t==null?0:+t),!this._next&&g0!==this&&(g0?g0._next=this:IS=this,g0=this),this._call=e,this._time=n,uR()},stop:function(){this._call&&(this._call=null,this._time=1/0,uR())}};function tee(e,t,n){var r=new CS;return r.restart(e,t,n),r}function B6e(){L$(),++cm;for(var e=IS,t;e;)(t=qd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--cm}function _j(){qd=(AS=Hy.now())+Yx,cm=m0=0;try{B6e()}finally{cm=0,U6e(),qd=0}}function j6e(){var e=Hy.now(),t=e-AS;t>ZZ&&(Yx-=t,AS=e)}function U6e(){for(var e,t=IS,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:IS=n);g0=e,uR(r)}function uR(e){if(!cm){m0&&(m0=clearTimeout(m0));var t=e-qd;t>24?(e<1/0&&(m0=setTimeout(_j,e-Hy.now()-Yx)),Ug&&(Ug=clearInterval(Ug))):(Ug||(AS=Hy.now(),Ug=setInterval(j6e,ZZ)),cm=1,eee(_j))}}function vj(e,t,n){var r=new CS;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var V6e=P$("start","end","cancel","interrupt"),z6e=[],nee=0,bj=1,lR=2,Cb=3,Ej=4,cR=5,Ob=6;function Kx(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;H6e(e,n,{name:t,index:r,group:i,on:V6e,tween:z6e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:nee})}function M$(e,t){var n=ja(e,t);if(n.state>nee)throw new Error("too late; already scheduled");return n}function Hu(e,t){var n=ja(e,t);if(n.state>Cb)throw new Error("too late; already running");return n}function ja(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function H6e(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=tee(s,0,n.time);function s(l){n.state=bj,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==bj)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Cb)return vj(o);h.state===Ej?(h.state=Ob,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Ob,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(vj(function(){n.state===Cb&&(n.state=Ej,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=lR,n.on.call("start",e,e.__data__,n.index,n.group),n.state===lR){for(n.state=Cb,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=cR,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===cR&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Ob,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function fR(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>lR&&r.state<cR,r.state=Ob,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function W6e(e){return this.each(function(){fR(this,e)})}function q6e(e,t){var n,r;return function(){var i=Hu(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function G6e(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Hu(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function Y6e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ja(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?q6e:G6e)(n,e,t))}function F$(e,t,n){var r=e._id;return e.each(function(){var i=Hu(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ja(i,r).value[t]}}function ree(e,t){var n;return(typeof t=="number"?Ea:t instanceof Wd?xS:(n=Wd(t))?(t=n,xS):QZ)(e,t)}function K6e(e){return function(){this.removeAttribute(e)}}function Q6e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function X6e(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function J6e(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function Z6e(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function eLe(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function tLe(e,t){var n=qx(e),r=n==="transform"?M6e:ree;return this.attrTween(e,typeof t=="function"?(n.local?eLe:Z6e)(n,r,F$(this,"attr."+e,t)):t==null?(n.local?Q6e:K6e)(n):(n.local?J6e:X6e)(n,r,t))}function nLe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function rLe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function iLe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&rLe(e,s)),n}return i._value=t,i}function sLe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&nLe(e,s)),n}return i._value=t,i}function oLe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=qx(e);return this.tween(n,(r.local?iLe:sLe)(r,t))}function aLe(e,t){return function(){M$(this,e).delay=+t.apply(this,arguments)}}function uLe(e,t){return t=+t,function(){M$(this,e).delay=t}}function lLe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aLe:uLe)(t,e)):ja(this.node(),t).delay}function cLe(e,t){return function(){Hu(this,e).duration=+t.apply(this,arguments)}}function fLe(e,t){return t=+t,function(){Hu(this,e).duration=t}}function dLe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cLe:fLe)(t,e)):ja(this.node(),t).duration}function hLe(e,t){if(typeof t!="function")throw new Error;return function(){Hu(this,e).ease=t}}function pLe(e){var t=this._id;return arguments.length?this.each(hLe(t,e)):ja(this.node(),t).ease}function mLe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Hu(this,e).ease=n}}function gLe(e){if(typeof e!="function")throw new Error;return this.each(mLe(this._id,e))}function yLe(e){typeof e!="function"&&(e=FZ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Ll(r,this._parents,this._name,this._id)}function _Le(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new Ll(o,this._parents,this._name,this._id)}function vLe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function bLe(e,t,n){var r,i,s=vLe(t)?M$:Hu;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function ELe(e,t){var n=this._id;return arguments.length<2?ja(this.node(),n).on.on(e):this.each(bLe(n,e,t))}function wLe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function SLe(){return this.on("end.remove",wLe(this._id))}function TLe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=R$(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,Kx(l[d],t,n,d,l,ja(c,n)));return new Ll(s,this._parents,t,n)}function xLe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=MZ(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=ja(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&Kx(h,t,n,g,d,p);s.push(d),o.push(c)}return new Ll(s,o,t,n)}var ILe=Z_.prototype.constructor;function ALe(){return new ILe(this._groups,this._parents)}function CLe(e,t){var n,r,i;return function(){var s=lm(this,e),o=(this.style.removeProperty(e),lm(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function iee(e){return function(){this.style.removeProperty(e)}}function OLe(e,t,n){var r,i=n+"",s;return function(){var o=lm(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function PLe(e,t,n){var r,i,s;return function(){var o=lm(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),lm(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function RLe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Hu(this,e),l=u.on,c=u.value[s]==null?a||(a=iee(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function NLe(e,t,n){var r=(e+="")=="transform"?L6e:ree;return t==null?this.styleTween(e,CLe(e,r)).on("end.style."+e,iee(e)):typeof t=="function"?this.styleTween(e,PLe(e,r,F$(this,"style."+e,t))).each(RLe(this._id,e)):this.styleTween(e,OLe(e,r,t),n).on("end.style."+e,null)}function kLe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function DLe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&kLe(e,o,n)),r}return s._value=t,s}function $Le(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,DLe(e,t,n??""))}function LLe(e){return function(){this.textContent=e}}function MLe(e){return function(){var t=e(this);this.textContent=t??""}}function FLe(e){return this.tween("text",typeof e=="function"?MLe(F$(this,"text",e)):LLe(e==null?"":e+""))}function BLe(e){return function(t){this.textContent=e.call(this,t)}}function jLe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&BLe(i)),t}return r._value=e,r}function ULe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,jLe(e))}function VLe(){for(var e=this._name,t=this._id,n=see(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=ja(u,t);Kx(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ll(r,this._parents,e,n)}function zLe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Hu(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var HLe=0;function Ll(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function see(){return++HLe}var Qu=Z_.prototype;Ll.prototype={constructor:Ll,select:TLe,selectAll:xLe,selectChild:Qu.selectChild,selectChildren:Qu.selectChildren,filter:yLe,merge:_Le,selection:ALe,transition:VLe,call:Qu.call,nodes:Qu.nodes,node:Qu.node,size:Qu.size,empty:Qu.empty,each:Qu.each,on:ELe,attr:tLe,attrTween:oLe,style:NLe,styleTween:$Le,text:FLe,textTween:ULe,remove:SLe,tween:Y6e,delay:lLe,duration:dLe,ease:pLe,easeVarying:gLe,end:zLe,[Symbol.iterator]:Qu[Symbol.iterator]};const WLe=e=>+e;function qLe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var GLe={time:null,delay:0,duration:250,ease:qLe};function YLe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function KLe(e){var t,n;e instanceof Ll?(t=e._id,e=e._name):(t=see(),(n=GLe).time=L$(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&Kx(u,e,t,l,o,n||YLe(u,t));return new Ll(r,this._parents,e,t)}Z_.prototype.interrupt=W6e;Z_.prototype.transition=KLe;const qC=e=>()=>e;function QLe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function XLe(e){e.stopImmediatePropagation()}function GC(e){e.preventDefault(),e.stopImmediatePropagation()}var wj={name:"drag"},YC={name:"space"},kh={name:"handle"},Dh={name:"center"};const{abs:Sj,max:Vi,min:zi}=Math;function Tj(e){return[+e[0],+e[1]]}function dR(e){return[Tj(e[0]),Tj(e[1])]}var Pb={name:"x",handles:["w","e"].map(Wy),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Rb={name:"y",handles:["n","s"].map(Wy),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},JLe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wy),input:function(e){return e==null?null:dR(e)},output:function(e){return e}},Xu={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},xj={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ij={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ZLe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},eMe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Wy(e){return{type:e}}function tMe(e){return!e.ctrlKey&&!e.button}function nMe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function rMe(){return navigator.maxTouchPoints||"ontouchstart"in this}function KC(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function iMe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function sMe(){return B$(Pb)}function oMe(){return B$(Rb)}function aMe(){return B$(JLe)}function B$(e){var t=nMe,n=tMe,r=rMe,i=!0,s=P$("start","brush","end"),o=6,a;function u(y){var m=y.property("__brush",g).selectAll(".overlay").data([Wy("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Xu.overlay).merge(m).each(function(){var v=KC(this).extent;jr(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),y.selectAll(".selection").data([Wy("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Xu.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=y.selectAll(".handle").data(e.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Xu[v.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,m,_){y.tween?y.on("start.brush",function(v){c(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){c(this,arguments).end(v)}).tween("brush",function(){var v=this,w=v.__brush,T=c(v,arguments),E=w.selection,x=e.input(typeof m=="function"?m.apply(this,arguments):m,w.extent),A=Gx(E,x);function M(D){w.selection=D===1&&x===null?null:A(D),l.call(v),T.brush()}return E!==null&&x!==null?M:M(1)}):y.each(function(){var v=this,w=arguments,T=v.__brush,E=e.input(typeof m=="function"?m.apply(v,w):m,T.extent),x=c(v,w).beforestart();fR(v),T.selection=E===null?null:E,l.call(v),x.start(_).brush(_).end(_)})},u.clear=function(y,m){u.move(y,null,m)};function l(){var y=jr(this),m=KC(this).selection;m?(y.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?m[1][0]-o/2:m[0][0]-o/2}).attr("y",function(_){return _.type[0]==="s"?m[1][1]-o/2:m[0][1]-o/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?m[1][0]-m[0][0]+o:o}).attr("height",function(_){return _.type==="e"||_.type==="w"?m[1][1]-m[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,m,_){var v=y.__brush.emitter;return v&&(!_||!v.clean)?v:new f(y,m,_)}function f(y,m,_){this.that=y,this.args=m,this.state=y.__brush,this.active=0,this.clean=_}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,m){return this.starting?(this.starting=!1,this.emit("start",y,m)):this.emit("brush",y),this},brush:function(y,m){return this.emit("brush",y,m),this},end:function(y,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,m)),this},emit:function(y,m,_){var v=jr(this.that).datum();s.call(y,this.that,new QLe(y,{sourceEvent:m,target:u,selection:e.output(this.state.selection),mode:_,dispatch:s}),v)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var m=this,_=y.target.__data__.type,v=(i&&y.metaKey?_="overlay":_)==="selection"?wj:i&&y.altKey?Dh:kh,w=e===Rb?null:ZLe[_],T=e===Pb?null:eMe[_],E=KC(m),x=E.extent,A=E.selection,M=x[0][0],D,$,W=x[0][1],q,H,de=x[1][0],ae,pe,ee=x[1][1],ie,K,I=0,C=0,V,R=w&&T&&i&&y.shiftKey,P,G,se=Array.from(y.touches||[y],Ae=>{const Ve=Ae.identifier;return Ae=nR(Ae,m),Ae.point0=Ae.slice(),Ae.identifier=Ve,Ae});fR(m);var ue=c(m,arguments,!0).beforestart();if(_==="overlay"){A&&(V=!0);const Ae=[se[0],se[1]||se[0]];E.selection=A=[[D=e===Rb?M:zi(Ae[0][0],Ae[1][0]),q=e===Pb?W:zi(Ae[0][1],Ae[1][1])],[ae=e===Rb?de:Vi(Ae[0][0],Ae[1][0]),ie=e===Pb?ee:Vi(Ae[0][1],Ae[1][1])]],se.length>1&&Xe(y)}else D=A[0][0],q=A[0][1],ae=A[1][0],ie=A[1][1];$=D,H=q,pe=ae,K=ie;var he=jr(m).attr("pointer-events","none"),fe=he.selectAll(".overlay").attr("cursor",Xu[_]);if(y.touches)ue.moved=me,ue.ended=Ge;else{var Te=jr(y.view).on("mousemove.brush",me,!0).on("mouseup.brush",Ge,!0);i&&Te.on("keydown.brush",He,!0).on("keyup.brush",Le,!0),l6e(y.view)}l.call(m),ue.start(y,v.name);function me(Ae){for(const Ve of Ae.changedTouches||[Ae])for(const Zt of se)Zt.identifier===Ve.identifier&&(Zt.cur=nR(Ve,m));if(R&&!P&&!G&&se.length===1){const Ve=se[0];Sj(Ve.cur[0]-Ve[0])>Sj(Ve.cur[1]-Ve[1])?G=!0:P=!0}for(const Ve of se)Ve.cur&&(Ve[0]=Ve.cur[0],Ve[1]=Ve.cur[1]);V=!0,GC(Ae),Xe(Ae)}function Xe(Ae){const Ve=se[0],Zt=Ve.point0;var Me;switch(I=Ve[0]-Zt[0],C=Ve[1]-Zt[1],v){case YC:case wj:{w&&(I=Vi(M-D,zi(de-ae,I)),$=D+I,pe=ae+I),T&&(C=Vi(W-q,zi(ee-ie,C)),H=q+C,K=ie+C);break}case kh:{se[1]?(w&&($=Vi(M,zi(de,se[0][0])),pe=Vi(M,zi(de,se[1][0])),w=1),T&&(H=Vi(W,zi(ee,se[0][1])),K=Vi(W,zi(ee,se[1][1])),T=1)):(w<0?(I=Vi(M-D,zi(de-D,I)),$=D+I,pe=ae):w>0&&(I=Vi(M-ae,zi(de-ae,I)),$=D,pe=ae+I),T<0?(C=Vi(W-q,zi(ee-q,C)),H=q+C,K=ie):T>0&&(C=Vi(W-ie,zi(ee-ie,C)),H=q,K=ie+C));break}case Dh:{w&&($=Vi(M,zi(de,D-I*w)),pe=Vi(M,zi(de,ae+I*w))),T&&(H=Vi(W,zi(ee,q-C*T)),K=Vi(W,zi(ee,ie+C*T)));break}}pe<$&&(w*=-1,Me=D,D=ae,ae=Me,Me=$,$=pe,pe=Me,_ in xj&&fe.attr("cursor",Xu[_=xj[_]])),K<H&&(T*=-1,Me=q,q=ie,ie=Me,Me=H,H=K,K=Me,_ in Ij&&fe.attr("cursor",Xu[_=Ij[_]])),E.selection&&(A=E.selection),P&&($=A[0][0],pe=A[1][0]),G&&(H=A[0][1],K=A[1][1]),(A[0][0]!==$||A[0][1]!==H||A[1][0]!==pe||A[1][1]!==K)&&(E.selection=[[$,H],[pe,K]],l.call(m),ue.brush(Ae,v.name))}function Ge(Ae){if(XLe(Ae),Ae.touches){if(Ae.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else c6e(Ae.view,V),Te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);he.attr("pointer-events","all"),fe.attr("cursor",Xu.overlay),E.selection&&(A=E.selection),iMe(A)&&(E.selection=null,l.call(m)),ue.end(Ae,v.name)}function He(Ae){switch(Ae.keyCode){case 16:{R=w&&T;break}case 18:{v===kh&&(w&&(ae=pe-I*w,D=$+I*w),T&&(ie=K-C*T,q=H+C*T),v=Dh,Xe(Ae));break}case 32:{(v===kh||v===Dh)&&(w<0?ae=pe-I:w>0&&(D=$-I),T<0?ie=K-C:T>0&&(q=H-C),v=YC,fe.attr("cursor",Xu.selection),Xe(Ae));break}default:return}GC(Ae)}function Le(Ae){switch(Ae.keyCode){case 16:{R&&(P=G=R=!1,Xe(Ae));break}case 18:{v===Dh&&(w<0?ae=pe:w>0&&(D=$),T<0?ie=K:T>0&&(q=H),v=kh,Xe(Ae));break}case 32:{v===YC&&(Ae.altKey?(w&&(ae=pe-I*w,D=$+I*w),T&&(ie=K-C*T,q=H+C*T),v=Dh):(w<0?ae=pe:w>0&&(D=$),T<0?ie=K:T>0&&(q=H),v=kh),fe.attr("cursor",Xu[_]),Xe(Ae));break}default:return}GC(Ae)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function g(){var y=this.__brush||{selection:null};return y.extent=dR(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:qC(dR(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:qC(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:qC(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const hR=Math.PI,pR=2*hR,Yf=1e-6,uMe=pR-Yf;function oee(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lMe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oee;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cMe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oee:lMe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Yf)if(!(Math.abs(f*u-l*c)>Yf)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,g=u*u+l*l,y=h*h+p*p,m=Math.sqrt(g),_=Math.sqrt(d),v=s*Math.tan((hR-Math.acos((g+d-y)/(2*m*_)))/2),w=v/_,T=v/m;Math.abs(w-1)>Yf&&this._append`L${t+w*c},${n+w*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+T*u},${this._y1=n+T*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Yf||Math.abs(this._y1-c)>Yf)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%pR+pR),d>uMe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Yf&&this._append`A${r},${r},0,${+(d>=hR)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Aj={},QC={},XC=34,Vg=10,JC=13;function aee(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function fMe(e,t){var n=aee(e);return function(r,i){return t(n(r),i,e)}}function Cj(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function As(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function dMe(e){return e<0?"-"+As(-e,6):e>9999?"+"+As(e,6):As(e,4)}function hMe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":dMe(e.getUTCFullYear())+"-"+As(e.getUTCMonth()+1,2)+"-"+As(e.getUTCDate(),2)+(i?"T"+As(t,2)+":"+As(n,2)+":"+As(r,2)+"."+As(i,3)+"Z":r?"T"+As(t,2)+":"+As(n,2)+":"+As(r,2)+"Z":n||t?"T"+As(t,2)+":"+As(n,2)+"Z":"")}function pMe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(y,m){if(h)return h(y,m-1);p=y,h=d?fMe(y,d):aee(y)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,y=0,m,_=p<=0,v=!1;f.charCodeAt(p-1)===Vg&&--p,f.charCodeAt(p-1)===JC&&--p;function w(){if(_)return QC;if(v)return v=!1,Aj;var E,x=g,A;if(f.charCodeAt(x)===XC){for(;g++<p&&f.charCodeAt(g)!==XC||f.charCodeAt(++g)===XC;);return(E=g)>=p?_=!0:(A=f.charCodeAt(g++))===Vg?v=!0:A===JC&&(v=!0,f.charCodeAt(g)===Vg&&++g),f.slice(x+1,E-1).replace(/""/g,'"')}for(;g<p;){if((A=f.charCodeAt(E=g++))===Vg)v=!0;else if(A===JC)v=!0,f.charCodeAt(g)===Vg&&++g;else if(A!==n)continue;return f.slice(x,E)}return _=!0,f.slice(x,p)}for(;(m=w())!==QC;){for(var T=[];m!==Aj&&m!==QC;)T.push(m),m=w();d&&(T=d(T,y++))==null||h.push(T)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=Cj(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=Cj(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?hMe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var mMe=pMe(","),gMe=mMe.parse;function yMe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function _Me(e,t){return fetch(e,t).then(yMe)}function vMe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),_Me(t,n).then(function(i){return e(i,r)})}}var bMe=vMe(gMe);function EMe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function OS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fm(e){return e=OS(Math.abs(e)),e?e[1]:NaN}function wMe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function SMe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var TMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function PS(e){if(!(t=TMe.exec(e)))throw new Error("invalid format: "+e);var t;return new j$({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}PS.prototype=j$.prototype;function j$(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}j$.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xMe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var uee;function IMe(e,t){var n=OS(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(uee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+OS(e,Math.max(0,t+s-1))[0]}function Oj(e,t){var n=OS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Pj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:EMe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Oj(e*100,t),r:Oj,s:IMe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Rj(e){return e}var Nj=Array.prototype.map,kj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AMe(e){var t=e.grouping===void 0||e.thousands===void 0?Rj:wMe(Nj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Rj:SMe(Nj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=PS(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,m=f.width,_=f.comma,v=f.precision,w=f.trim,T=f.type;T==="n"?(_=!0,T="g"):Pj[T]||(v===void 0&&(v=12),w=!0,T="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",x=g==="$"?r:/[%p]/.test(T)?o:"",A=Pj[T],M=/[defgprs%]/.test(T);v=v===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function D($){var W=E,q=x,H,de,ae;if(T==="c")q=A($)+q,$="";else{$=+$;var pe=$<0||1/$<0;if($=isNaN($)?u:A(Math.abs($),v),w&&($=xMe($)),pe&&+$==0&&p!=="+"&&(pe=!1),W=(pe?p==="("?p:a:p==="-"||p==="("?"":p)+W,q=(T==="s"?kj[8+uee/3]:"")+q+(pe&&p==="("?")":""),M){for(H=-1,de=$.length;++H<de;)if(ae=$.charCodeAt(H),48>ae||ae>57){q=(ae===46?i+$.slice(H+1):$.slice(H))+q,$=$.slice(0,H);break}}}_&&!y&&($=t($,1/0));var ee=W.length+$.length+q.length,ie=ee<m?new Array(m-ee+1).join(d):"";switch(_&&y&&($=t(ie+$,ie.length?m-q.length:1/0),ie=""),h){case"<":$=W+$+q+ie;break;case"=":$=W+ie+$+q;break;case"^":$=ie.slice(0,ee=ie.length>>1)+W+$+q+ie.slice(ee);break;default:$=ie+W+$+q;break}return s($)}return D.toString=function(){return f+""},D}function c(f,d){var h=l((f=PS(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(fm(d)/3)))*3,g=Math.pow(10,-p),y=kj[8+p/3];return function(m){return h(g*m)+y}}return{format:l,formatPrefix:c}}var A1,Qx,lee;CMe({thousands:",",grouping:[3],currency:["$",""]});function CMe(e){return A1=AMe(e),Qx=A1.format,lee=A1.formatPrefix,A1}function OMe(e){return Math.max(0,-fm(Math.abs(e)))}function PMe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fm(t)/3)))*3-fm(Math.abs(e)))}function RMe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fm(t)-fm(e))+1}function NMe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function kMe(){return this.eachAfter(NMe)}function DMe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function $Me(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function LMe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function MMe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function FMe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function BMe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function jMe(e){for(var t=this,n=UMe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function UMe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function VMe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function zMe(){return Array.from(this)}function HMe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function WMe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*qMe(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function U$(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=KMe)):t===void 0&&(t=YMe);for(var n=new RS(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new RS(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(XMe)}function GMe(){return U$(this).eachBefore(QMe)}function YMe(e){return e.children}function KMe(e){return Array.isArray(e)?e[1]:null}function QMe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function XMe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function RS(e){this.data=e,this.depth=this.height=0,this.parent=null}RS.prototype=U$.prototype={constructor:RS,count:kMe,each:DMe,eachAfter:LMe,eachBefore:$Me,find:MMe,sum:FMe,sort:BMe,path:jMe,ancestors:VMe,descendants:zMe,leaves:HMe,links:WMe,copy:GMe,[Symbol.iterator]:qMe};function JMe(e){return e==null?null:ZMe(e)}function ZMe(e){if(typeof e!="function")throw new Error;return e}function Dj(){return 0}function e4e(e){return function(){return e}}const t4e=1664525,n4e=1013904223,$j=4294967296;function r4e(){let e=1;return()=>(e=(t4e*e+n4e)%$j)/$j}function i4e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function s4e(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function o4e(e,t){for(var n=0,r=(e=s4e(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&cee(o,s)?++n:(o=u4e(i=a4e(i,s)),n=0);return o}function a4e(e,t){var n,r;if(ZC(t,e))return[t];for(n=0;n<e.length;++n)if(C1(t,e[n])&&ZC(y0(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(C1(y0(e[n],e[r]),t)&&C1(y0(e[n],t),e[r])&&C1(y0(e[r],t),e[n])&&ZC(fee(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function C1(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function cee(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function ZC(e,t){for(var n=0;n<t.length;++n)if(!cee(e,t[n]))return!1;return!0}function u4e(e){switch(e.length){case 1:return l4e(e[0]);case 2:return y0(e[0],e[1]);case 3:return fee(e[0],e[1],e[2])}}function l4e(e){return{x:e.x,y:e.y,r:e.r}}function y0(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function fee(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,g=i-c,y=u-s,m=f-s,_=r*r+i*i-s*s,v=_-o*o-a*a+u*u,w=_-l*l-c*c+f*f,T=h*p-d*g,E=(p*w-g*v)/(T*2)-r,x=(g*y-p*m)/T,A=(h*v-d*w)/(T*2)-i,M=(d*m-h*y)/T,D=x*x+M*M-1,$=2*(s+E*x+A*M),W=E*E+A*A-s*s,q=-(Math.abs(D)>1e-6?($+Math.sqrt($*$-4*D*W))/(2*D):W/$);return{x:r+E+x*q,y:i+A+M*q,r:q}}function Lj(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function Mj(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Fj(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function O1(e){this._=e,this.next=null,this.previous=null}function c4e(e,t){if(!(s=(e=i4e(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;Lj(r,n,i=e[2]),n=new O1(n),r=new O1(r),i=new O1(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){Lj(n._,r._,i=e[u]),i=new O1(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(Mj(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(Mj(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=Fj(n);(i=i.next)!==r;)(a=Fj(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=o4e(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function f4e(e){return Math.sqrt(e.value)}function d4e(){var e=null,t=1,n=1,r=Dj;function i(s){const o=r4e();return s.x=t/2,s.y=n/2,e?s.eachBefore(Bj(e)).eachAfter(eO(r,.5,o)).eachBefore(jj(1)):s.eachBefore(Bj(f4e)).eachAfter(eO(Dj,1,o)).eachAfter(eO(r,s.r/Math.min(t,n),o)).eachBefore(jj(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=JMe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:e4e(+s),i):r},i}function Bj(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function eO(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=c4e(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function jj(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Xx(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Uj=Symbol("implicit");function Jx(){var e=new sj,t=[],n=[],r=Uj;function i(s){let o=e.get(s);if(o===void 0){if(r!==Uj)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new sj;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Jx(t,n).unknown(r)},Xx.apply(i,arguments),i}function tv(){var e=Jx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;s=(g-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(g-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=I$e(d).map(function(m){return p+s*m});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return tv(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},Xx.apply(f(),arguments)}function h4e(e){return function(){return e}}function p4e(e){return+e}var Vj=[0,1];function lp(e){return e}function mR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:h4e(isNaN(t)?NaN:.5)}function m4e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function g4e(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=mR(i,r),s=n(o,s)):(r=mR(r,i),s=n(s,o)),function(a){return s(r(a))}}function y4e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=mR(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=y$e(e,a,1,r)-1;return s[u](i[u](a))}}function dee(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _4e(){var e=Vj,t=Vj,n=Gx,r,i,s,o=lp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==lp&&(o=m4e(e[0],e[d-1])),a=d>2?y4e:g4e,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Ea)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,p4e),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=k6e,c()},f.clamp=function(d){return arguments.length?(o=d?!0:lp,c()):o!==lp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function hee(){return _4e()(lp,lp)}function v4e(e,t,n,r){var i=eR(e,t,n),s;switch(r=PS(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=PMe(i,o))&&(r.precision=s),lee(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=RMe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=OMe(i))&&(r.precision=s-(r.type==="%")*2);break}}return Qx(r)}function b4e(e){var t=e.domain;return e.ticks=function(n){var r=t();return T$e(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return v4e(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=Z2(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function ff(){var e=hee();return e.copy=function(){return dee(e,ff())},Xx.apply(e,arguments),b4e(e)}function E4e(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const tO=new Date,nO=new Date;function si(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>si(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(tO.setTime(+s),nO.setTime(+o),e(tO),e(nO),Math.floor(n(tO,nO))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const NS=si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);NS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?si(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):NS);NS.range;const pl=1e3,Yo=pl*60,ml=Yo*60,Ml=ml*24,V$=Ml*7,zj=Ml*30,rO=Ml*365,cp=si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pl)},(e,t)=>(t-e)/pl,e=>e.getUTCSeconds());cp.range;const z$=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pl)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getMinutes());z$.range;const w4e=si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getUTCMinutes());w4e.range;const H$=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pl-e.getMinutes()*Yo)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getHours());H$.range;const S4e=si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCHours());S4e.range;const nv=si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yo)/Ml,e=>e.getDate()-1);nv.range;const W$=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ml,e=>e.getUTCDate()-1);W$.range;const T4e=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ml,e=>Math.floor(e/Ml));T4e.range;function dh(e){return si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Yo)/V$)}const Zx=dh(0),kS=dh(1),x4e=dh(2),I4e=dh(3),dm=dh(4),A4e=dh(5),C4e=dh(6);Zx.range;kS.range;x4e.range;I4e.range;dm.range;A4e.range;C4e.range;function hh(e){return si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/V$)}const pee=hh(0),DS=hh(1),O4e=hh(2),P4e=hh(3),hm=hh(4),R4e=hh(5),N4e=hh(6);pee.range;DS.range;O4e.range;P4e.range;hm.range;R4e.range;N4e.range;const q$=si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());q$.range;const k4e=si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());k4e.range;const Fl=si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Fl.range;const Gd=si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Gd.range;function D4e(e,t,n,r,i,s){const o=[[cp,1,pl],[cp,5,5*pl],[cp,15,15*pl],[cp,30,30*pl],[s,1,Yo],[s,5,5*Yo],[s,15,15*Yo],[s,30,30*Yo],[i,1,ml],[i,3,3*ml],[i,6,6*ml],[i,12,12*ml],[r,1,Ml],[r,2,2*Ml],[n,1,V$],[t,1,zj],[t,3,3*zj],[e,1,rO]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=O$(([,,y])=>y).right(o,d);if(h===o.length)return e.every(eR(l/rO,c/rO,f));if(h===0)return NS.every(Math.max(eR(l,c,f),1));const[p,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(g)}return[a,u]}const[$4e,L4e]=D4e(Fl,q$,Zx,nv,H$,z$);function iO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function M4e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=Hg(i),c=Wg(i),f=Hg(s),d=Wg(s),h=Hg(o),p=Wg(o),g=Hg(a),y=Wg(a),m=Hg(u),_=Wg(u),v={a:pe,A:ee,b:ie,B:K,c:null,d:Kj,e:Kj,f:o5e,g:g5e,G:_5e,H:r5e,I:i5e,j:s5e,L:mee,m:a5e,M:u5e,p:I,q:C,Q:Jj,s:Zj,S:l5e,u:c5e,U:f5e,V:d5e,w:h5e,W:p5e,x:null,X:null,y:m5e,Y:y5e,Z:v5e,"%":Xj},w={a:V,A:R,b:P,B:G,c:null,d:Qj,e:Qj,f:S5e,g:k5e,G:$5e,H:b5e,I:E5e,j:w5e,L:yee,m:T5e,M:x5e,p:se,q:ue,Q:Jj,s:Zj,S:I5e,u:A5e,U:C5e,V:O5e,w:P5e,W:R5e,x:null,X:null,y:N5e,Y:D5e,Z:L5e,"%":Xj},T={a:D,A:$,b:W,B:q,c:H,d:Gj,e:Gj,f:Z4e,g:qj,G:Wj,H:Yj,I:Yj,j:K4e,L:J4e,m:Y4e,M:Q4e,p:M,q:G4e,Q:t5e,s:n5e,S:X4e,u:V4e,U:z4e,V:H4e,w:U4e,W:W4e,x:de,X:ae,y:qj,Y:Wj,Z:q4e,"%":e5e};v.x=E(n,v),v.X=E(r,v),v.c=E(t,v),w.x=E(n,w),w.X=E(r,w),w.c=E(t,w);function E(he,fe){return function(Te){var me=[],Xe=-1,Ge=0,He=he.length,Le,Ae,Ve;for(Te instanceof Date||(Te=new Date(+Te));++Xe<He;)he.charCodeAt(Xe)===37&&(me.push(he.slice(Ge,Xe)),(Ae=Hj[Le=he.charAt(++Xe)])!=null?Le=he.charAt(++Xe):Ae=Le==="e"?" ":"0",(Ve=fe[Le])&&(Le=Ve(Te,Ae)),me.push(Le),Ge=Xe+1);return me.push(he.slice(Ge,Xe)),me.join("")}}function x(he,fe){return function(Te){var me=zg(1900,void 0,1),Xe=A(me,he,Te+="",0),Ge,He;if(Xe!=Te.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(fe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ge=sO(zg(me.y,0,1)),He=Ge.getUTCDay(),Ge=He>4||He===0?DS.ceil(Ge):DS(Ge),Ge=W$.offset(Ge,(me.V-1)*7),me.y=Ge.getUTCFullYear(),me.m=Ge.getUTCMonth(),me.d=Ge.getUTCDate()+(me.w+6)%7):(Ge=iO(zg(me.y,0,1)),He=Ge.getDay(),Ge=He>4||He===0?kS.ceil(Ge):kS(Ge),Ge=nv.offset(Ge,(me.V-1)*7),me.y=Ge.getFullYear(),me.m=Ge.getMonth(),me.d=Ge.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),He="Z"in me?sO(zg(me.y,0,1)).getUTCDay():iO(zg(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(He+5)%7:me.w+me.U*7-(He+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,sO(me)):iO(me)}}function A(he,fe,Te,me){for(var Xe=0,Ge=fe.length,He=Te.length,Le,Ae;Xe<Ge;){if(me>=He)return-1;if(Le=fe.charCodeAt(Xe++),Le===37){if(Le=fe.charAt(Xe++),Ae=T[Le in Hj?fe.charAt(Xe++):Le],!Ae||(me=Ae(he,Te,me))<0)return-1}else if(Le!=Te.charCodeAt(me++))return-1}return me}function M(he,fe,Te){var me=l.exec(fe.slice(Te));return me?(he.p=c.get(me[0].toLowerCase()),Te+me[0].length):-1}function D(he,fe,Te){var me=h.exec(fe.slice(Te));return me?(he.w=p.get(me[0].toLowerCase()),Te+me[0].length):-1}function $(he,fe,Te){var me=f.exec(fe.slice(Te));return me?(he.w=d.get(me[0].toLowerCase()),Te+me[0].length):-1}function W(he,fe,Te){var me=m.exec(fe.slice(Te));return me?(he.m=_.get(me[0].toLowerCase()),Te+me[0].length):-1}function q(he,fe,Te){var me=g.exec(fe.slice(Te));return me?(he.m=y.get(me[0].toLowerCase()),Te+me[0].length):-1}function H(he,fe,Te){return A(he,t,fe,Te)}function de(he,fe,Te){return A(he,n,fe,Te)}function ae(he,fe,Te){return A(he,r,fe,Te)}function pe(he){return o[he.getDay()]}function ee(he){return s[he.getDay()]}function ie(he){return u[he.getMonth()]}function K(he){return a[he.getMonth()]}function I(he){return i[+(he.getHours()>=12)]}function C(he){return 1+~~(he.getMonth()/3)}function V(he){return o[he.getUTCDay()]}function R(he){return s[he.getUTCDay()]}function P(he){return u[he.getUTCMonth()]}function G(he){return a[he.getUTCMonth()]}function se(he){return i[+(he.getUTCHours()>=12)]}function ue(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var fe=E(he+="",v);return fe.toString=function(){return he},fe},parse:function(he){var fe=x(he+="",!1);return fe.toString=function(){return he},fe},utcFormat:function(he){var fe=E(he+="",w);return fe.toString=function(){return he},fe},utcParse:function(he){var fe=x(he+="",!0);return fe.toString=function(){return he},fe}}}var Hj={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,F4e=/^%/,B4e=/[\\^$*+?|[\]().{}]/g;function bn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function j4e(e){return e.replace(B4e,"\\$&")}function Hg(e){return new RegExp("^(?:"+e.map(j4e).join("|")+")","i")}function Wg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function U4e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function V4e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function z4e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function H4e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function W4e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Wj(e,t,n){var r=yi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function qj(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function q4e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function G4e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Y4e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Gj(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function K4e(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Yj(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Q4e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function X4e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function J4e(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Z4e(e,t,n){var r=yi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function e5e(e,t,n){var r=F4e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function t5e(e,t,n){var r=yi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function n5e(e,t,n){var r=yi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Kj(e,t){return bn(e.getDate(),t,2)}function r5e(e,t){return bn(e.getHours(),t,2)}function i5e(e,t){return bn(e.getHours()%12||12,t,2)}function s5e(e,t){return bn(1+nv.count(Fl(e),e),t,3)}function mee(e,t){return bn(e.getMilliseconds(),t,3)}function o5e(e,t){return mee(e,t)+"000"}function a5e(e,t){return bn(e.getMonth()+1,t,2)}function u5e(e,t){return bn(e.getMinutes(),t,2)}function l5e(e,t){return bn(e.getSeconds(),t,2)}function c5e(e){var t=e.getDay();return t===0?7:t}function f5e(e,t){return bn(Zx.count(Fl(e)-1,e),t,2)}function gee(e){var t=e.getDay();return t>=4||t===0?dm(e):dm.ceil(e)}function d5e(e,t){return e=gee(e),bn(dm.count(Fl(e),e)+(Fl(e).getDay()===4),t,2)}function h5e(e){return e.getDay()}function p5e(e,t){return bn(kS.count(Fl(e)-1,e),t,2)}function m5e(e,t){return bn(e.getFullYear()%100,t,2)}function g5e(e,t){return e=gee(e),bn(e.getFullYear()%100,t,2)}function y5e(e,t){return bn(e.getFullYear()%1e4,t,4)}function _5e(e,t){var n=e.getDay();return e=n>=4||n===0?dm(e):dm.ceil(e),bn(e.getFullYear()%1e4,t,4)}function v5e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bn(t/60|0,"0",2)+bn(t%60,"0",2)}function Qj(e,t){return bn(e.getUTCDate(),t,2)}function b5e(e,t){return bn(e.getUTCHours(),t,2)}function E5e(e,t){return bn(e.getUTCHours()%12||12,t,2)}function w5e(e,t){return bn(1+W$.count(Gd(e),e),t,3)}function yee(e,t){return bn(e.getUTCMilliseconds(),t,3)}function S5e(e,t){return yee(e,t)+"000"}function T5e(e,t){return bn(e.getUTCMonth()+1,t,2)}function x5e(e,t){return bn(e.getUTCMinutes(),t,2)}function I5e(e,t){return bn(e.getUTCSeconds(),t,2)}function A5e(e){var t=e.getUTCDay();return t===0?7:t}function C5e(e,t){return bn(pee.count(Gd(e)-1,e),t,2)}function _ee(e){var t=e.getUTCDay();return t>=4||t===0?hm(e):hm.ceil(e)}function O5e(e,t){return e=_ee(e),bn(hm.count(Gd(e),e)+(Gd(e).getUTCDay()===4),t,2)}function P5e(e){return e.getUTCDay()}function R5e(e,t){return bn(DS.count(Gd(e)-1,e),t,2)}function N5e(e,t){return bn(e.getUTCFullYear()%100,t,2)}function k5e(e,t){return e=_ee(e),bn(e.getUTCFullYear()%100,t,2)}function D5e(e,t){return bn(e.getUTCFullYear()%1e4,t,4)}function $5e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hm(e):hm.ceil(e),bn(e.getUTCFullYear()%1e4,t,4)}function L5e(){return"+0000"}function Xj(){return"%"}function Jj(e){return+e}function Zj(e){return Math.floor(+e/1e3)}var $h,vee,bee;M5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M5e(e){return $h=M4e(e),vee=$h.format,$h.parse,bee=$h.utcFormat,$h.utcParse,$h}function F5e(e){return new Date(e)}function B5e(e){return e instanceof Date?+e:+new Date(+e)}function Eee(e,t,n,r,i,s,o,a,u,l){var c=hee(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),y=l("%I %p"),m=l("%a %d"),_=l("%b %d"),v=l("%B"),w=l("%Y");function T(E){return(u(E)<E?h:a(E)<E?p:o(E)<E?g:s(E)<E?y:r(E)<E?i(E)<E?m:_:n(E)<E?v:w)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,B5e)):d().map(F5e)},c.ticks=function(E){var x=d();return e(x[0],x[x.length-1],E??10)},c.tickFormat=function(E,x){return x==null?T:l(x)},c.nice=function(E){var x=d();return(!E||typeof E.range!="function")&&(E=t(x[0],x[x.length-1],E??10)),E?d(E4e(x,E)):c},c.copy=function(){return dee(c,Eee(e,t,n,r,i,s,o,a,u,l))},c}function j5e(){return Xx.apply(Eee($4e,L4e,Fl,q$,Zx,nv,H$,z$,cp,vee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function U5e(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const wee=U5e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Qr(e){return function(){return e}}const eU=Math.abs,Hi=Math.atan2,Hf=Math.cos,V5e=Math.max,oO=Math.min,Ha=Math.sin,fp=Math.sqrt,xs=1e-12,qy=Math.PI,$S=qy/2,Nb=2*qy;function z5e(e){return e>1?0:e<-1?qy:Math.acos(e)}function tU(e){return e>=1?$S:e<=-1?-$S:Math.asin(e)}function H5e(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new cMe(t)}function W5e(e){return e.innerRadius}function q5e(e){return e.outerRadius}function G5e(e){return e.startAngle}function Y5e(e){return e.endAngle}function K5e(e){return e&&e.padAngle}function Q5e(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<xs))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function P1(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/fp(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,g=r+f,y=(d+p)/2,m=(h+g)/2,_=p-d,v=g-h,w=_*_+v*v,T=i-s,E=d*g-p*h,x=(v<0?-1:1)*fp(V5e(0,T*T*w-E*E)),A=(E*v-_*x)/w,M=(-E*_-v*x)/w,D=(E*v+_*x)/w,$=(-E*_+v*x)/w,W=A-y,q=M-m,H=D-y,de=$-m;return W*W+q*q>H*H+de*de&&(A=D,M=$),{cx:A,cy:M,x01:-c,y01:-f,x11:A*(i/T-1),y11:M*(i/T-1)}}function nU(){var e=W5e,t=q5e,n=Qr(0),r=null,i=G5e,s=Y5e,o=K5e,a=null,u=H5e(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-$S,g=s.apply(this,arguments)-$S,y=eU(g-p),m=g>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>xs))a.moveTo(0,0);else if(y>Nb-xs)a.moveTo(h*Hf(p),h*Ha(p)),a.arc(0,0,h,p,g,!m),d>xs&&(a.moveTo(d*Hf(g),d*Ha(g)),a.arc(0,0,d,g,p,m));else{var _=p,v=g,w=p,T=g,E=y,x=y,A=o.apply(this,arguments)/2,M=A>xs&&(r?+r.apply(this,arguments):fp(d*d+h*h)),D=oO(eU(h-d)/2,+n.apply(this,arguments)),$=D,W=D,q,H;if(M>xs){var de=tU(M/d*Ha(A)),ae=tU(M/h*Ha(A));(E-=de*2)>xs?(de*=m?1:-1,w+=de,T-=de):(E=0,w=T=(p+g)/2),(x-=ae*2)>xs?(ae*=m?1:-1,_+=ae,v-=ae):(x=0,_=v=(p+g)/2)}var pe=h*Hf(_),ee=h*Ha(_),ie=d*Hf(T),K=d*Ha(T);if(D>xs){var I=h*Hf(v),C=h*Ha(v),V=d*Hf(w),R=d*Ha(w),P;if(y<qy)if(P=Q5e(pe,ee,V,R,I,C,ie,K)){var G=pe-P[0],se=ee-P[1],ue=I-P[0],he=C-P[1],fe=1/Ha(z5e((G*ue+se*he)/(fp(G*G+se*se)*fp(ue*ue+he*he)))/2),Te=fp(P[0]*P[0]+P[1]*P[1]);$=oO(D,(d-Te)/(fe-1)),W=oO(D,(h-Te)/(fe+1))}else $=W=0}x>xs?W>xs?(q=P1(V,R,pe,ee,h,W,m),H=P1(I,C,ie,K,h,W,m),a.moveTo(q.cx+q.x01,q.cy+q.y01),W<D?a.arc(q.cx,q.cy,W,Hi(q.y01,q.x01),Hi(H.y01,H.x01),!m):(a.arc(q.cx,q.cy,W,Hi(q.y01,q.x01),Hi(q.y11,q.x11),!m),a.arc(0,0,h,Hi(q.cy+q.y11,q.cx+q.x11),Hi(H.cy+H.y11,H.cx+H.x11),!m),a.arc(H.cx,H.cy,W,Hi(H.y11,H.x11),Hi(H.y01,H.x01),!m))):(a.moveTo(pe,ee),a.arc(0,0,h,_,v,!m)):a.moveTo(pe,ee),!(d>xs)||!(E>xs)?a.lineTo(ie,K):$>xs?(q=P1(ie,K,I,C,d,-$,m),H=P1(pe,ee,V,R,d,-$,m),a.lineTo(q.cx+q.x01,q.cy+q.y01),$<D?a.arc(q.cx,q.cy,$,Hi(q.y01,q.x01),Hi(H.y01,H.x01),!m):(a.arc(q.cx,q.cy,$,Hi(q.y01,q.x01),Hi(q.y11,q.x11),!m),a.arc(0,0,d,Hi(q.cy+q.y11,q.cx+q.x11),Hi(H.cy+H.y11,H.cx+H.x11),m),a.arc(H.cx,H.cy,$,Hi(H.y11,H.x11),Hi(H.y01,H.x01),!m))):a.arc(0,0,d,T,w,m)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-qy/2;return[Hf(f)*c,Ha(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Qr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Qr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Qr(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Qr(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Qr(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Qr(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Qr(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function See(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X5e(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function J5e(e){return e}function Z5e(){var e=J5e,t=X5e,n=null,r=Qr(0),i=Qr(Nb),s=Qr(0);function o(a){var u,l=(a=See(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),g=+r.apply(this,arguments),y=Math.min(Nb,Math.max(-Nb,i.apply(this,arguments)-g)),m,_=Math.min(Math.abs(y)/l,s.apply(this,arguments)),v=_*(y<0?-1:1),w;for(u=0;u<l;++u)(w=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=w);for(t!=null?h.sort(function(T,E){return t(p[T],p[E])}):n!=null&&h.sort(function(T,E){return n(a[T],a[E])}),u=0,f=d?(y-l*v)/d:0;u<l;++u,g=m)c=h[u],w=p[c],m=g+(w>0?w*f:0)+v,p[c]={data:a[c],index:u,value:w,startAngle:g,endAngle:m,padAngle:_};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:Qr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Qr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Qr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:Qr(+a),o):s},o}function rU(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iU(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function eFe(e,t){return e[t]}function tFe(e){const t=[];return t.key=e,t}function nFe(){var e=Qr([]),t=iU,n=rU,r=eFe;function i(s){var o=Array.from(e.apply(this,arguments),tFe),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=See(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Qr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Qr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?iU:typeof s=="function"?s:Qr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??rU,i):n},i}function _0(e,t,n){this.k=e,this.x=t,this.y=n}_0.prototype={constructor:_0,scale:function(e){return e===1?this:new _0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};_0.prototype;function G$({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1}){const u=S.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),l=S.useCallback(c=>(s?bee("%B"):Qx(".2s"))(c),[s]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:O.jsx(Ud,{children:O.jsx(yo,{spacing:3,children:O.jsx(At,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?O.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:f})=>O.jsxs("g",{transform:`translate(${f}, ${n})`,children:[O.jsx("line",{y2:"6",stroke:"currentColor"}),o?O.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,O.jsx("foreignObject",{x:0-u/2,y:10,width:u,height:20,children:O.jsx(Ud,{children:O.jsx(LX,{withinPortal:!0,label:c,children:O.jsx(At,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:l(s?new Date(c):c)})})})})]},c))]})}const rFe=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:G$},Symbol.toStringTag,{value:"Module"}));function Tee({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=S.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>10?60:u*6},[i]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:O.jsx(Ud,{children:O.jsx(yo,{spacing:3,children:O.jsx(At,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?O.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>O.jsxs("g",{transform:`translate(${n}, ${l})`,children:[O.jsx("line",{x2:"-6",stroke:"currentColor"}),s?O.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,O.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:O.jsx("foreignObject",{width:a,height:20,children:O.jsx(yo,{style:{width:"100%",height:"100%"},position:"right",children:O.jsx(At,{sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const iFe=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:Tee},Symbol.toStringTag,{value:"Module"})),Ro={top:15,left:100,right:50,bottom:50};function gR({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=B0(),o=S.useMemo(()=>s-Ro.left-Ro.right,[s]),a=S.useMemo(()=>i-Ro.top-Ro.bottom,[i]),u=S.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return Jx(wee).domain(d)},[n,t.category]),l=S.useMemo(()=>e?ff([Ro.left,o+Ro.left]).domain([0,x$e(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=S.useMemo(()=>e?tv([Ro.top,a+Ro.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=S.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:O.jsxs("g",{children:[O.jsx("rect",{x:Ro.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-Ro.left},h),O.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]})),[e,u,t.category,l,c]);return c&&l?O.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[O.jsx(G$,{xScale:l,yRange:c.range(),vertPosition:a+Ro.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?O.jsx(Tee,{yScale:c,horizontalPosition:Ro.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):O.jsx(uh,{})}const sFe=Object.freeze(Object.defineProperty({__proto__:null,Bar:gR,default:gR},Symbol.toStringTag,{value:"Module"}));function xee({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=S.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=S.useMemo(()=>Qx(".2s"),[]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:O.jsx(Ud,{children:O.jsx(yo,{spacing:3,children:O.jsx(At,{size:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),O.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>O.jsxs("g",{transform:`translate(${n}, ${a})`,children:[O.jsx("line",{x2:"-6",stroke:"currentColor"}),O.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),O.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const oFe=Object.freeze(Object.defineProperty({__proto__:null,YAxis:xee},Symbol.toStringTag,{value:"Module"})),aO=15;function Iee({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0}){const[a,u]=S.useState([0,0]),[l,c]=S.useState(!1);return S.useEffect(()=>{const f=jr("#scatterSvgBrushStudy");if(f){const d=f.node().getBoundingClientRect();f.on("mousemove",h=>{const p=[h.clientX-d.x,h.clientY-d.y];if(u(p),l){const g=i.filter(y=>Math.abs(e(y[r.x])-p[0])<aO&&Math.abs(t(y[r.y])-p[1])<aO);if(h.ctrlKey||h.metaKey||!o){const y=new Set(s.ids);g.forEach(_=>{y.has(_[r.ids])&&y.delete(_[r.ids])});const m=Array.from(y);n([[a[0],a[1]],[a[0],a[1]]],e,t,m.length===0?"clear":"drag",m)}else{const y=Array.from(new Set([...s.ids,...g.map(m=>m[r.ids])]));y.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",y)}}}),f.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),f.on("mouseup",()=>{c(!1)})}},[s.ids,i,l,o,r,e,t]),O.jsx("circle",{style:{cursor:l?"pointer":"default"},r:aO,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const aFe=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Iee},Symbol.toStringTag,{value:"Module"})),ir={top:15,left:100,right:15,bottom:70};function yR({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:s,brushedPoints:o}){const[a,{height:u,width:l}]=B0(),[c]=B0(),[f]=B0(),[d,h]=S.useState(!0),p=S.useMemo(()=>l-ir.left-ir.right,[l]),g=S.useMemo(()=>u-ir.top-ir.bottom,[u]),y=S.useMemo(()=>{const D=Array.from(new Set(s.map($=>$[i.category])));return Jx(wee).domain(D)},[s,i.category]),{xMin:m,yMin:_,xMax:v,yMax:w}=S.useMemo(()=>{const D=s.map(ae=>+ae[i.x]).filter(ae=>ae!==null),[$,W]=ij(D),q=s.map(ae=>+ae[i.y]).filter(ae=>ae!==null),[H,de]=ij(q);return{xMin:$,xMax:W,yMin:H,yMax:de}},[s,i.x,i.y]),T=S.useMemo(()=>{const D=v-m;return p<=0?null:i.dataType==="date"?j5e([ir.left,p+ir.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):ff([ir.left,p+ir.left]).domain([m-D/10,v+D/10]).nice()},[i.dataType,p,v,m]),E=S.useMemo(()=>{const D=w-_;return g<=0?null:ff([g+ir.top,ir.top]).domain([_-D/10,w+D/10]).nice()},[g,w,_]),x=S.useMemo(()=>{if(!(!T||!E))if(r==="Axis Selection"){const D=sMe().extent([[ir.left,ir.top+g-5],[ir.left+p,ir.top+g+5]]).on("brush end",W=>{W.sourceEvent!==void 0&&n([[W.selection[0],null],[W.selection[1],null]],T,E,W.mode)}),$=oMe().extent([[ir.left-5,ir.top],[ir.left+5,ir.top+g]]).on("brush end",W=>{W.sourceEvent!==void 0&&n([[null,W.selection[0]],[null,W.selection[1]]],T,E,W.mode)});return c.current&&f.current&&(jr(f.current).call($),jr(c.current).call(D),t.hasBrush||(jr(f.current).call($.move,[E(w),E(_)]),jr(c.current).call(D.move,[T(new Date("2015-01-02")),T(new Date("2015-12-31"))]),n([[T(new Date("2015-01-02")),E(w)],[T(new Date("2015-12-31")),E(_)]],T,E,"drag"))),()=>{jr(f.current).call($.move,[E(w),E(_)]),jr(c.current).call(D.move,[T(new Date("2015-01-02")),T(new Date("2015-12-31"))]),n([[T(new Date("2015-01-02")),E(w)],[T(new Date("2015-12-31")),E(_)]],T,E,"clear")}}else if(r==="Rectangular Selection"){const D=aMe().extent([[ir.left,ir.top],[ir.left+p,ir.top+g]]).on("brush",$=>{$.sourceEvent!==void 0&&n([[$.selection[0][0],$.selection[0][1]],[$.selection[1][0],$.selection[1][1]]],T,E,$.mode)}).on("end",$=>{$.selection===null&&$.sourceEvent!==void 0&&(jr(a.current).call(D.move,null),e(null))});return jr(a.current).call(D),()=>{jr(a.current).call(D.move,null),n([[null,null],[null,null]],T,E,"clear")}}else{if(r==="Slider Selection")return()=>n([[T(m),E(w)],[T(v),E(_)]],T,E,"clear");if(r==="Paintbrush Selection")return()=>n([[T(m),E(w)],[T(v),E(_)]],T,E,"clear",[])}},[t,r,c,f,g,a,n,p,v,m,T,w,_,E]);S.useEffect(()=>{r==="Slider Selection"&&T&&E&&n([[T(m),E(w)],[T(v),E(_)]],T,E,null)},[r,v,m,T,w,_,E]);const A=S.useMemo(()=>o.length===0?null:new Set(o),[o]),M=S.useMemo(()=>!T||!E?null:s.map((D,$)=>{if(D[i.x]===null||D[i.y]===null)return null;const W=i.dataType==="date"?T(new Date(D[i.x])):T(D[i.x]);return O.jsx("circle",{opacity:A?A.has(D[i.ids])?1:.3:1,r:3,fill:A?A.has(D[i.ids])?y(D[i.category]):"lightgray":y(D[i.category]),cx:W,cy:E(D[i.y])},$)}),[A,y,s,i.category,i.ids,i.x,i.y,T,E]);return S.useEffect(()=>{r==="Axis Selection"&&u6e(".handle").style("fill","darkgrey")},[t,r]),O.jsxs(Go,{children:[O.jsxs(yo,{children:[O.jsx(Qo,{ml:60,compact:!0,style:{width:"130px"},disabled:o.length===0,onClick:()=>{e(null),x==null||x()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?O.jsx(KX,{defaultChecked:!0,value:d?"Select":"De-Select",onChange:D=>h(D==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:o.length===0}]}):null]}),O.jsxs(yo,{style:{width:"100%",height:"100%"},noWrap:!0,children:[O.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[T&&E?O.jsxs("g",{children:[O.jsx(xee,{yScale:E,label:i.y,horizontalPosition:ir.left,xRange:T.range()}),O.jsx(G$,{xScale:T,yRange:E.range(),isDate:i.dataType==="date",vertPosition:g+ir.top,label:i.x,ticks:T.ticks(i.brushType==="Axis Selection"?12:5).map(D=>({value:D.toString(),offset:T(D)}))})]}):null,M,O.jsx("g",{id:"brushXRef",ref:c}),O.jsx("g",{id:"brushYRef",ref:f}),T&&E&&r==="Paintbrush Selection"?O.jsx(Iee,{brushState:t,setBrushedSpace:n,params:i,data:s,isSelect:d,xScale:T,yScale:E}):null]}),r==="Slider Selection"&&T&&E?O.jsxs(Go,{style:{flexGrow:1},spacing:50,children:[O.jsxs(Go,{spacing:0,children:[O.jsx(At,{children:i.x}),O.jsx(N2,{minRange:1,label:null,min:T.domain()[0],max:T.domain()[1],labelAlwaysOn:!1,onChange:D=>{n([[T(D[0]),t.y1],[T(D[1]),t.y2]],T,E,"drag")},style:{width:"300px"},marks:T.ticks(5).map(D=>({value:D,label:D})),value:[T.invert(t.x1),T.invert(t.x2)]})]}),O.jsxs(Go,{spacing:0,children:[O.jsx(At,{children:i.y}),O.jsx(N2,{minRange:1,label:null,min:E.domain()[0],max:E.domain()[1],onChange:D=>{n([[t.x1,E(D[1])],[t.x2,E(D[0])]],T,E,"drag")},style:{width:"300px"},marks:E.ticks(5).map(D=>({value:D,label:D})),value:[E.invert(t.y2),E.invert(t.y1)]})]})]}):null]})]})}const uFe=Object.freeze(Object.defineProperty({__proto__:null,Scatter:yR,default:yR},Symbol.toStringTag,{value:"Module"})),_n=Array.isArray;function qs(e){return e!=null?_n(e)?e:[e]:[]}function lFe(e=0,t=1/0){return`${sU(e)} < row_number() && row_number() <= ${sU(t)}`}function sU(e){return e<0?`count() + ${e}`:e}class Aee{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(lFe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,qs(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function jt(e){throw Error(e)}function ms(e){return typeof e=="number"}function Zn(e){return typeof e=="function"}function eI(e,t){const n=Array(e);if(Zn(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let cFe=class extends Aee{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){jt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){jt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){jt("Not implemented")}getter(t){jt("Not implemented")}objects(t){jt("Not implemented")}object(t){jt("Not implemented")}[Symbol.iterator](){jt("Not implemented")}print(t={}){ms(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=eI(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},fFe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},dFe=function(e){return e&&Zn(e.get)?e:new fFe(e)};function Bl(e){return e instanceof Date}function ts(e){return e===Object(e)}function LS(e){return e instanceof RegExp}function Mi(e){return typeof e=="string"}function hFe(e,t){const n=r=>jt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?oU(e.entries(),t):Bl(e)?n("Date"):LS(e)?n("RegExp"):Mi(e)?n():_n(e)?pFe(e,t):Zn(e[Symbol.iterator])?mFe(e,t):ts(e)?oU(Object.entries(e),t):n()}function oU(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function pFe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function mFe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:gFe}=Object.prototype;function La(e,t){return gFe.call(e,t)}function Co(e){return e?new aU({...e.data()},e.columnNames()):new aU}class aU{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return La(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const hn=void 0,yFe=Object.getPrototypeOf(Int8Array);function rv(e){return e instanceof yFe}function hd(e){return _n(e)||rv(e)}function Aa(e){return e!=null&&e===e}const qg=e=>hd(e)||Mi(e),_Fe={compact:e=>hd(e)?e.filter(t=>Aa(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>qg(e)?e.includes(t,n):!1,indexof:(e,t)=>qg(e)?e.indexOf(t):-1,join:(e,t)=>hd(e)?e.join(t):hn,lastindexof:(e,t)=>qg(e)?e.lastIndexOf(t):-1,length:e=>qg(e)?e.length:0,pluck:(e,t)=>hd(e)?e.map(n=>Aa(n)?n[t]:hn):hn,reverse:e=>hd(e)?e.slice().reverse():Mi(e)?e.split("").reverse().join(""):hn,slice:(e,t,n)=>qg(e)?e.slice(t,n):hn};function vFe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function kb(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const Wa=e=>(e<10?"0":"")+e,bFe=e=>e<0?"-"+kb(-e,6):e>9999?"+"+kb(e,6):kb(e,4);function Cee(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return bFe(e)+"-"+Wa(t+1)+"-"+Wa(n)+(!u||o?"T"+Wa(r)+":"+Wa(i)+":"+Wa(s)+"."+kb(o,3)+l:s?"T"+Wa(r)+":"+Wa(i)+":"+Wa(s)+l:i||r||!a?"T"+Wa(r)+":"+Wa(i)+l:"")}function Oee(e,t){return isNaN(e)?"Invalid Date":Cee(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function tI(e,t){return isNaN(e)?"Invalid Date":Cee(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const EFe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function wFe(e){return e.match(EFe)}function SFe(e,t=Date.parse){return wFe(e)?t(e):e}const Pee=6e4,Ree=864e5,Nee=6048e5,xr=new Date,Ir=new Date,Nr=e=>(xr.setTime(typeof e=="string"?SFe(e):e),xr);function TFe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function xFe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function IFe(e){Ir.setTime(+e),Ir.setHours(0,0,0,0),xr.setTime(+Ir),xr.setMonth(0),xr.setDate(1);const t=(Ir.getTimezoneOffset()-xr.getTimezoneOffset())*Pee;return Math.floor(1+(Ir-xr-t)/Ree)}function AFe(e){Ir.setTime(+e),Ir.setUTCHours(0,0,0,0);const t=Date.UTC(Ir.getUTCFullYear(),0,1);return Math.floor(1+(Ir-t)/Ree)}function CFe(e,t){const n=t||0;Ir.setTime(+e),Ir.setDate(Ir.getDate()-(Ir.getDay()+7-n)%7),Ir.setHours(0,0,0,0),xr.setTime(+e),xr.setMonth(0),xr.setDate(1),xr.setDate(1-(xr.getDay()+7-n)%7),xr.setHours(0,0,0,0);const r=(Ir.getTimezoneOffset()-xr.getTimezoneOffset())*Pee;return Math.floor((1+(Ir-xr)-r)/Nee)}function OFe(e,t){const n=t||0;return Ir.setTime(+e),Ir.setUTCDate(Ir.getUTCDate()-(Ir.getUTCDay()+7-n)%7),Ir.setUTCHours(0,0,0,0),xr.setTime(+e),xr.setUTCMonth(0),xr.setUTCDate(1),xr.setUTCDate(1-(xr.getUTCDay()+7-n)%7),xr.setUTCHours(0,0,0,0),Math.floor((1+(Ir-xr))/Nee)}const PFe={format_date:(e,t)=>Oee(Nr(e),!t),format_utcdate:(e,t)=>tI(Nr(e),!t),timestamp:e=>+Nr(e),year:e=>Nr(e).getFullYear(),quarter:e=>Math.floor(Nr(e).getMonth()/3),month:e=>Nr(e).getMonth(),date:e=>Nr(e).getDate(),dayofweek:e=>Nr(e).getDay(),hours:e=>Nr(e).getHours(),minutes:e=>Nr(e).getMinutes(),seconds:e=>Nr(e).getSeconds(),milliseconds:e=>Nr(e).getMilliseconds(),utcyear:e=>Nr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Nr(e).getUTCMonth()/3),utcmonth:e=>Nr(e).getUTCMonth(),utcdate:e=>Nr(e).getUTCDate(),utcdayofweek:e=>Nr(e).getUTCDay(),utchours:e=>Nr(e).getUTCHours(),utcminutes:e=>Nr(e).getUTCMinutes(),utcseconds:e=>Nr(e).getUTCSeconds(),utcmilliseconds:e=>Nr(e).getUTCMilliseconds(),datetime:TFe,dayofyear:IFe,week:CFe,utcdatetime:xFe,utcdayofyear:AFe,utcweek:OFe,now:Date.now};function Y$(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Bl(e)||Bl(t)?+e==+t:LS(e)&&LS(t)?e+""==t+"":ts(e)&&ts(t)?RFe(e,t):!1}function RFe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return uU(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!uU(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!Y$(e[o],t[o]))return!1}return!0}function uU(e,t,n=Y$){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const NFe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let kFe=Math.random;function Ym(){return kFe()}const DFe={random:Ym,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function K$(e){return e instanceof Map}function $Fe(e){return e instanceof Set}function Db(e){return K$(e)||$Fe(e)}function uO(e){return Array.from(e)}const LFe={has:(e,t)=>Db(e)?e.has(t):e!=null?La(e,t):!1,keys:e=>K$(e)?uO(e.keys()):e!=null?Object.keys(e):[],values:e=>Db(e)?uO(e.values()):e!=null?Object.values(e):[],entries:e=>Db(e)?uO(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):hn};function MFe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(La(t,e))return t[e];return n!==void 0?n:e}function FFe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const BFe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},dp={bin:vFe,equal:Y$,recode:MFe,sequence:FFe,..._Fe,...PFe,...NFe,...DFe,...LFe,...BFe};function Gy(e){return typeof e=="bigint"}function Ru(e){return e===void 0?e+"":Gy(e)?e+"n":JSON.stringify(e)}function Mt(e,t=[],n=[]){return new jFe(e,qs(t),qs(n))}let jFe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${Ru(n)}]`),...this.params.map(Ru)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const kee=e=>Mt("any",e),Dee=()=>Mt("count"),$ee=e=>Mt("array_agg",e),Lee=e=>Mt("array_agg_distinct",e),Mee=(e,t)=>Mt("map_agg",[e,t]),Fee=(e,t)=>Mt("object_agg",[e,t]),Bee=(e,t)=>Mt("entries_agg",[e,t]);({...dp});function UFe(e,t){e=Db(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function VFe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function zFe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,g)=>p+g,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function HFe(e,t,n,r){const i=r==="map"||r===!0?Mee:r==="entries"?Bee:r==="object"?Fee:jt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=UFe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:$ee(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const WFe="ArrayPattern",qFe="ArrowFunctionExpression",GFe="FunctionExpression",Jc="Identifier",Km="Literal",jee="MemberExpression",YFe="ObjectExpression",Uee="ObjectPattern",Vee="Property",iv="Column",KFe="Constant",QFe="Dictionary",XFe="Function",JFe="Parameter",zee="Op",Hn=(e,t)=>{const n=ZFe[e.type];return n?n(e,t):jt(`Unsupported expression construct: ${e.type}`)},lO=(e,t)=>"("+Hn(e.left,t)+" "+e.operator+" "+Hn(e.right,t)+")",cO=(e,t)=>"("+Ya(e.params,t)+")=>"+Hn(e.body,t),lU=(e,t)=>Hn(e.callee,t)+"("+Ya(e.arguments,t)+")",Ya=(e,t,n=",")=>e.map(r=>Hn(r,t)).join(n),Hee=e=>e.computed?`[${Ru(e.name)}]`:`.${e.name}`,cU=(e,t,n)=>{const r=e.table||"";return`data${r}${Hee(e)}.${n}(${t.index}${r})`},ZFe={Constant:e=>e.raw,Column:(e,t)=>cU(e,t,"get"),Dictionary:(e,t)=>cU(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${Hee(e)}`,Op:(e,t)=>`op(${Ru(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Hn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Hn(e.object,t),i=Hn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:lU,NewExpression:(e,t)=>"new "+lU(e,t),ArrayExpression:(e,t)=>"["+Ya(e.elements,t)+"]",AssignmentExpression:lO,BinaryExpression:lO,LogicalExpression:lO,UnaryExpression:(e,t)=>"("+e.operator+Hn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Hn(e.test,t)+"?"+Hn(e.consequent,t)+":"+Hn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Ya(e.properties,t)+"})",Property:(e,t)=>{const n=Hn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Hn(e.value,t)},ArrowFunctionExpression:cO,FunctionExpression:cO,FunctionDeclaration:cO,ArrayPattern:(e,t)=>"["+Ya(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Ya(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Ya(e.declarations,t,","),VariableDeclarator:(e,t)=>Hn(e.id,t)+"="+Hn(e.init,t),SpreadElement:(e,t)=>"..."+Hn(e.argument,t),BlockStatement:(e,t)=>"{"+Ya(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Hn(e.expression,t),IfStatement:(e,t)=>"if ("+Hn(e.test,t)+")"+Hn(e.consequent,t)+(e.alternate?" else "+Hn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Hn(e.discriminant,t)+") {"+Ya(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Hn(e.test,t):"default")+": "+Ya(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Hn(e.argument,t),Program:(e,t)=>Hn(e.body[0],t)};function MS(e,t={index:"row"}){return Hn(e,t)}function e8e(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function pm(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Bl(e)?+e:_n(e)||rv(e)?`[${e.map(pm)}]`:LS(e)?e+"":t8e(e)}function t8e(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${pm(e[r])}`;return t+="}",t}function FS(e,t){const n=e.length;return n===1?(r,i)=>pm(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=pm(a)}return s}}function n8e(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=pm(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=pm(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function il(){}function r8e(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Yr(e){return e.init=e.init||il,e.add=e.add||il,e.rem=e.rem||il,e}function fU(e,t){return e.product_v=!1,e.product=t}const Wee={count:{create:()=>Yr({value:e=>e.count}),param:[]},array_agg:{create:()=>Yr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Yr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Yr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Yr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Yr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:hn}),param:[1]},valid:{create:()=>Yr({value:e=>e.valid}),param:[1]},invalid:{create:()=>Yr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=n8e(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Yr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Yr({value:e=>{let t=hn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:hn,add:(e,t)=>Gy(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>fU(e,1),value:e=>e.valid?e.product_v?fU(e,r8e(e.list.values())):e.product:void 0,add:(e,t)=>Gy(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:hn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Yr({value:e=>e.valid?e.mean:hn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):hn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Yr({value:e=>e.valid>1?e.dev/e.valid:hn}),param:[1],req:["variance"]},stdev:{create:()=>Yr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):hn}),param:[1],req:["variance"]},stdevp:{create:()=>Yr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):hn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=hn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===hn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=hn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===hn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Yr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Yr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):hn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>Yr({value:e=>e.valid>1?e.cov/e.valid:hn}),param:[2],req:["covariance"]},corr:{create:()=>Yr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):hn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Yr({value:i=>e8e(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},dU={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},hU={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},qee={row_number:{create(){return{init:il,value:e=>e.index+1}},param:[]},rank:dU,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=dU.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:hU,ntile:{create(e){e=+e,e>0||jt("ntile num must be greater than zero.");const{init:t,value:n}=hU.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=hn){return e=+e||1,{init:il,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=hn){return e=+e||1,{init:il,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:il,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:il,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||jt("nth_value nth must be greater than zero."),{init:il,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):hn}}},param:[1,1]},fill_down:{create(e=hn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Aa(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=hn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=i8e(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function i8e(e,t,n){for(const r=e.size;n<r;++n)if(Aa(e.value(n,t)))return n;return-1}function Q$(e){return La(Wee,e)}function X$(e){return La(qee,e)}function Gee(e){return La(dp,e)||e==="row_object"}function Yee(e){return Q$(e)&&Wee[e]}function Kee(e){return X$(e)&&qee[e]}function Gg(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const J$={escape:(e,t,n)=>Gg(e,t,n),expr:(e,t)=>Gg(`(row,data,op)=>${e}`,dp,t),expr2:(e,t)=>Gg(`(row0,data0,row,data)=>${e}`,dp,t),join:(e,t)=>Gg(`(row1,data1,row2,data2)=>${e}`,dp,t),param:(e,t)=>Gg(e,dp,t)},s8e={"==":1,"!=":1,"===":1,"!==":1};function Qee(e,t,n=0,r,i){if(e.type=iv,e.name=t,e.table=n,i&&r&&Zn(r.keyFor)){const s=s8e[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===Km&&o8e(i,e,s,r.keyFor(s.value))}return e}function o8e(e,t,n,r){return r<0?(e.type=Km,e.value=!1,e.raw="false"):(t.type=QFe,n.value=r,n.raw=r+""),!0}function nI(e){return _n(e)?e:K$(e)?e.entries():e?Object.entries(e):[]}const Xee="row_object";function Jee(e,t){e.type=YFe;const n=e.properties=[];for(const r of nI(t)){const[i,s]=_n(r)?r:[r,r];n.push({type:Vee,key:{type:Km,raw:Ru(s)},value:Qee({computed:!0},i)})}return e}function Zee(e){return MS(Jee({},e))}function ete(e){return J$.expr(Zee(e))}function Z$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ol(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function pU(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sn(e){return this instanceof sn?(this.v=e,this):new sn(e)}function pd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof sn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fO(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:sn(e[i](o)),done:!1}:s?s(o):o}:s}}function X0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof pU=="function"?pU(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const a8e=new TextDecoder("utf-8"),_R=e=>a8e.decode(e),u8e=new TextEncoder,e3=e=>u8e.encode(e),[mlt,tte]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[ph,glt]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[mh,ylt]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),l8e=e=>typeof e=="boolean",Rs=e=>typeof e=="function",Rf=e=>e!=null&&Object(e)===e,rI=e=>Rf(e)&&Rs(e.then),t3=e=>Rf(e)&&Rs(e[Symbol.iterator]),iI=e=>Rf(e)&&Rs(e[Symbol.asyncIterator]),c8e=e=>Rf(e)&&"done"in e&&"value"in e,nte=e=>"_getDOMStream"in e&&"_getNodeStream"in e,f8e=e=>Rf(e)&&Rs(e.abort)&&Rs(e.getWriter)&&!nte(e),d8e=e=>Rf(e)&&Rs(e.end)&&Rs(e.write)&&l8e(e.writable)&&!nte(e),h8e=e=>Rf(e)&&Rs(e.clear)&&Rs(e.bytes)&&Rs(e.position)&&Rs(e.setPosition)&&Rs(e.capacity)&&Rs(e.getBufferIdentifier)&&Rs(e.createLong),n3=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function p8e(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function BS(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function Nu(e,t){const n=p8e(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?BS(o,s,a):o=s;break}BS(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function Ii(e,t){let n=c8e(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=e3(n)),n instanceof ArrayBuffer?new e(n):n instanceof n3?new e(n):h8e(n)?Ii(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const Yg=e=>Ii(Int32Array,e),On=e=>Ii(Uint8Array,e),vR=e=>(e.next(),e);function*m8e(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof n3?n(t):t3(t)?t:n(t);return yield*vR(function*(i){let s=null;do s=i.next(yield Ii(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const g8e=e=>m8e(Uint8Array,e);function rte(e,t){return pd(this,arguments,function*(){if(rI(t))return yield sn(yield sn(yield*fO(X0(rte(e,yield sn(t))))));const r=function(o){return pd(this,arguments,function*(){yield yield sn(yield sn(o))})},i=function(o){return pd(this,arguments,function*(){yield sn(yield*fO(X0(vR(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof n3?r(t):t3(t)?i(t):iI(t)?t:r(t);return yield sn(yield*fO(X0(vR(function(o){return pd(this,arguments,function*(){let a=null;do a=yield sn(o.next(yield yield sn(Ii(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield sn(new e)})}const y8e=e=>rte(Uint8Array,e);function r3(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function _8e(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const mU={fromIterable(e){return R1(v8e(e))},fromAsyncIterable(e){return R1(b8e(e))},fromDOMStream(e){return R1(E8e(e))},fromNodeStream(e){return R1(S8e(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},R1=e=>(e.next(),e);function*v8e(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?Nu(r,o)[0]:([i,r,a]=Nu(r,o),i)}({cmd:s,size:o}=yield null);const l=g8e(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function b8e(e){return pd(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Nu(i,a)[0]:([s,i,u]=Nu(i,a),s)}({cmd:o,size:a}=yield yield sn(null));const c=y8e(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield sn(c.next()):yield sn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield sn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield sn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield sn(c.return(new Uint8Array(0))))}return yield sn(null)})}function E8e(e){return pd(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Nu(i,a)[0]:([s,i,u]=Nu(i,a),s)}({cmd:o,size:a}=yield yield sn(null));const c=new w8e(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield sn(c.read()):yield sn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(On(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield sn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield sn(c.cancel(f)))}finally{r===!1?yield sn(c.cancel()):e.locked&&c.releaseLock()}return yield sn(null)})}class w8e{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return ol(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return ol(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=On(n)),n})}}const dO=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function S8e(e){return pd(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?Nu(l,a)[0]:([c,l,u]=Nu(l,a),c)}if({cmd:o,size:a}=yield yield sn(null),e.isTTY)return yield yield sn(new Uint8Array(0)),yield sn(null);try{n[0]=dO(e,"end"),n[1]=dO(e,"error");do{if(n[2]=dO(e,"readable"),[r,s]=yield sn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=On(e.read(a-u)),c.byteLength<a-u&&(c=On(e.read()))):c=On(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield sn(f()));while(a<u)}while(!i)}finally{yield sn(d(n,r==="error"?s:null))}return yield sn(null);function d(h,p){return c=l=null,new Promise((g,y)=>{for(const[m,_]of h)e.off(m,_);try{const m=e.destroy;m&&m.call(e,p),p=void 0}catch(m){p=m||p}finally{p!=null?y(p):g()}})}})}var so;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(so||(so={}));var ea;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ea||(ea={}));var ki;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(ki||(ki={}));var ku;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(ku||(ku={}));var on;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(on||(on={}));var Du;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Du||(Du={}));var di;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(di||(di={}));var J;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(J||(J={}));var tl;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(tl||(tl={}));const T8e=void 0;function Zc(e){if(e===null)return"null";if(e===T8e)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof ph||e instanceof mh?`[${[...e].map(t=>Zc(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const x8e=Symbol.for("isArrowBigNum");function Ua(e,...t){return t.length===0?Object.setPrototypeOf(Ii(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Ua.prototype[x8e]=!0;Ua.prototype.toJSON=function(){return`"${Od(this)}"`};Ua.prototype.valueOf=function(){return ite(this)};Ua.prototype.toString=function(){return Od(this)};Ua.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return ite(this);case"string":return Od(this);case"default":return bR(this)}return Od(this)};function Dp(...e){return Ua.apply(this,e)}function $p(...e){return Ua.apply(this,e)}function Yy(...e){return Ua.apply(this,e)}Object.setPrototypeOf(Dp.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf($p.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Yy.prototype,Object.create(Uint32Array.prototype));Object.assign(Dp.prototype,Ua.prototype,{constructor:Dp,signed:!0,TypedArray:Int32Array,BigIntArray:ph});Object.assign($p.prototype,Ua.prototype,{constructor:$p,signed:!1,TypedArray:Uint32Array,BigIntArray:mh});Object.assign(Yy.prototype,Ua.prototype,{constructor:Yy,signed:!0,TypedArray:Uint32Array,BigIntArray:mh});function ite(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new mh(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}let Od,bR;tte?(bR=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:hO(e),Od=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:hO(e)):(Od=hO,bR=Od);function hO(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class i3{static new(t,n){switch(n){case!0:return new Dp(t);case!1:return new $p(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case ph:return new Dp(t)}return t.byteLength===16?new Yy(t):new $p(t)}static signed(t){return new Dp(t)}static unsigned(t){return new $p(t)}static decimal(t){return new Yy(t)}constructor(t,n){return i3.new(t,n)}}var ste,ote,ate,ute,lte,cte,fte,dte,hte,pte,mte,gte,yte,_te,vte,bte,Ete,wte,Ste;class Qt{static isNull(t){return(t==null?void 0:t.typeId)===J.Null}static isInt(t){return(t==null?void 0:t.typeId)===J.Int}static isFloat(t){return(t==null?void 0:t.typeId)===J.Float}static isBinary(t){return(t==null?void 0:t.typeId)===J.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===J.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===J.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===J.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===J.Date}static isTime(t){return(t==null?void 0:t.typeId)===J.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===J.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===J.Interval}static isList(t){return(t==null?void 0:t.typeId)===J.List}static isStruct(t){return(t==null?void 0:t.typeId)===J.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===J.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===J.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===J.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===J.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===J.Dictionary}static isDenseUnion(t){return Qt.isUnion(t)&&t.mode===ea.Dense}static isSparseUnion(t){return Qt.isUnion(t)&&t.mode===ea.Sparse}get typeId(){return J.NONE}}ste=Symbol.toStringTag;Qt[ste]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Qt.prototype);let jl=class extends Qt{toString(){return"Null"}get typeId(){return J.Null}};ote=Symbol.toStringTag;jl[ote]=(e=>e[Symbol.toStringTag]="Null")(jl.prototype);class gs extends Qt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return J.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?ph:mh}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}ate=Symbol.toStringTag;gs[ate]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(gs.prototype);class s3 extends gs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class o3 extends gs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class df extends gs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class a3 extends gs{constructor(){super(!0,64)}get ArrayType(){return ph}}class u3 extends gs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class l3 extends gs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class c3 extends gs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class f3 extends gs{constructor(){super(!1,64)}get ArrayType(){return mh}}Object.defineProperty(s3.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(o3.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(df.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(a3.prototype,"ArrayType",{value:ph});Object.defineProperty(u3.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(l3.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(c3.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(f3.prototype,"ArrayType",{value:mh});class hf extends Qt{constructor(t){super(),this.precision=t}get typeId(){return J.Float}get ArrayType(){switch(this.precision){case ki.HALF:return Uint16Array;case ki.SINGLE:return Float32Array;case ki.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}ute=Symbol.toStringTag;hf[ute]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(hf.prototype);class Tte extends hf{constructor(){super(ki.HALF)}}class d3 extends hf{constructor(){super(ki.SINGLE)}}class h3 extends hf{constructor(){super(ki.DOUBLE)}}Object.defineProperty(Tte.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(d3.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(h3.prototype,"ArrayType",{value:Float64Array});let Ky=class extends Qt{constructor(){super()}get typeId(){return J.Binary}toString(){return"Binary"}};lte=Symbol.toStringTag;Ky[lte]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Ky.prototype);let mm=class extends Qt{constructor(){super()}get typeId(){return J.Utf8}toString(){return"Utf8"}};cte=Symbol.toStringTag;mm[cte]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(mm.prototype);let Qy=class extends Qt{constructor(){super()}get typeId(){return J.Bool}toString(){return"Bool"}};fte=Symbol.toStringTag;Qy[fte]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Qy.prototype);let jS=class extends Qt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return J.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};dte=Symbol.toStringTag;jS[dte]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(jS.prototype);class gm extends Qt{constructor(t){super(),this.unit=t}get typeId(){return J.Date}toString(){return`Date${(this.unit+1)*32}<${ku[this.unit]}>`}}hte=Symbol.toStringTag;gm[hte]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(gm.prototype);class I8e extends gm{constructor(){super(ku.DAY)}}class A8e extends gm{constructor(){super(ku.MILLISECOND)}}class Ul extends Qt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return J.Time}toString(){return`Time${this.bitWidth}<${on[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return ph}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}pte=Symbol.toStringTag;Ul[pte]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Ul.prototype);class C8e extends Ul{constructor(){super(on.SECOND,32)}}class O8e extends Ul{constructor(){super(on.MILLISECOND,32)}}class P8e extends Ul{constructor(){super(on.MICROSECOND,64)}}class R8e extends Ul{constructor(){super(on.NANOSECOND,64)}}class US extends Qt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return J.Timestamp}toString(){return`Timestamp<${on[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}mte=Symbol.toStringTag;US[mte]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(US.prototype);class ym extends Qt{constructor(t){super(),this.unit=t}get typeId(){return J.Interval}toString(){return`Interval<${Du[this.unit]}>`}}gte=Symbol.toStringTag;ym[gte]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(ym.prototype);class N8e extends ym{constructor(){super(Du.DAY_TIME)}}class k8e extends ym{constructor(){super(Du.YEAR_MONTH)}}let _m=class extends Qt{constructor(t){super(),this.children=[t]}get typeId(){return J.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};yte=Symbol.toStringTag;_m[yte]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(_m.prototype);class Xi extends Qt{constructor(t){super(),this.children=t}get typeId(){return J.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}_te=Symbol.toStringTag;Xi[_te]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Xi.prototype);class Xy extends Qt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return J.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}vte=Symbol.toStringTag;Xy[vte]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Xy.prototype);let VS=class extends Qt{constructor(t){super(),this.byteWidth=t}get typeId(){return J.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};bte=Symbol.toStringTag;VS[bte]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(VS.prototype);let vm=class extends Qt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return J.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Ete=Symbol.toStringTag;vm[Ete]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(vm.prototype);class Jy extends Qt{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return J.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}wte=Symbol.toStringTag;Jy[wte]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Jy.prototype);const D8e=(e=>()=>++e)(-1);class pf extends Qt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?D8e():typeof r=="number"?r:r.low}get typeId(){return J.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Ste=Symbol.toStringTag;pf[Ste]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(pf.prototype);function Za(e){const t=e;switch(e.typeId){case J.Decimal:return e.bitWidth/32;case J.Timestamp:return 2;case J.Date:return 1+t.unit;case J.Interval:return 1+t.unit;case J.FixedSizeList:return t.listSize;case J.FixedSizeBinary:return t.byteWidth;default:return 1}}class an{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return $8e(this,t,n)}getVisitFnByTypeId(t,n=!0){return Uh(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function $8e(e,t,n=!0){return typeof t=="number"?Uh(e,t,n):typeof t=="string"&&t in J?Uh(e,J[t],n):t&&t instanceof Qt?Uh(e,gU(t),n):t!=null&&t.type&&t.type instanceof Qt?Uh(e,gU(t.type),n):Uh(e,J.NONE,n)}function Uh(e,t,n=!0){let r=null;switch(t){case J.Null:r=e.visitNull;break;case J.Bool:r=e.visitBool;break;case J.Int:r=e.visitInt;break;case J.Int8:r=e.visitInt8||e.visitInt;break;case J.Int16:r=e.visitInt16||e.visitInt;break;case J.Int32:r=e.visitInt32||e.visitInt;break;case J.Int64:r=e.visitInt64||e.visitInt;break;case J.Uint8:r=e.visitUint8||e.visitInt;break;case J.Uint16:r=e.visitUint16||e.visitInt;break;case J.Uint32:r=e.visitUint32||e.visitInt;break;case J.Uint64:r=e.visitUint64||e.visitInt;break;case J.Float:r=e.visitFloat;break;case J.Float16:r=e.visitFloat16||e.visitFloat;break;case J.Float32:r=e.visitFloat32||e.visitFloat;break;case J.Float64:r=e.visitFloat64||e.visitFloat;break;case J.Utf8:r=e.visitUtf8;break;case J.Binary:r=e.visitBinary;break;case J.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case J.Date:r=e.visitDate;break;case J.DateDay:r=e.visitDateDay||e.visitDate;break;case J.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case J.Timestamp:r=e.visitTimestamp;break;case J.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case J.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case J.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case J.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case J.Time:r=e.visitTime;break;case J.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case J.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case J.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case J.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case J.Decimal:r=e.visitDecimal;break;case J.List:r=e.visitList;break;case J.Struct:r=e.visitStruct;break;case J.Union:r=e.visitUnion;break;case J.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case J.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case J.Dictionary:r=e.visitDictionary;break;case J.Interval:r=e.visitInterval;break;case J.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case J.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case J.FixedSizeList:r=e.visitFixedSizeList;break;case J.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${J[t]}'`)}function gU(e){switch(e.typeId){case J.Null:return J.Null;case J.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?J.Int8:J.Uint8;case 16:return n?J.Int16:J.Uint16;case 32:return n?J.Int32:J.Uint32;case 64:return n?J.Int64:J.Uint64}return J.Int}case J.Float:switch(e.precision){case ki.HALF:return J.Float16;case ki.SINGLE:return J.Float32;case ki.DOUBLE:return J.Float64}return J.Float;case J.Binary:return J.Binary;case J.Utf8:return J.Utf8;case J.Bool:return J.Bool;case J.Decimal:return J.Decimal;case J.Time:switch(e.unit){case on.SECOND:return J.TimeSecond;case on.MILLISECOND:return J.TimeMillisecond;case on.MICROSECOND:return J.TimeMicrosecond;case on.NANOSECOND:return J.TimeNanosecond}return J.Time;case J.Timestamp:switch(e.unit){case on.SECOND:return J.TimestampSecond;case on.MILLISECOND:return J.TimestampMillisecond;case on.MICROSECOND:return J.TimestampMicrosecond;case on.NANOSECOND:return J.TimestampNanosecond}return J.Timestamp;case J.Date:switch(e.unit){case ku.DAY:return J.DateDay;case ku.MILLISECOND:return J.DateMillisecond}return J.Date;case J.Interval:switch(e.unit){case Du.DAY_TIME:return J.IntervalDayTime;case Du.YEAR_MONTH:return J.IntervalYearMonth}return J.Interval;case J.Map:return J.Map;case J.List:return J.List;case J.Struct:return J.Struct;case J.Union:switch(e.mode){case ea.Dense:return J.DenseUnion;case ea.Sparse:return J.SparseUnion}return J.Union;case J.FixedSizeBinary:return J.FixedSizeBinary;case J.FixedSizeList:return J.FixedSizeList;case J.Dictionary:return J.Dictionary}throw new Error(`Unrecognized type '${J[e.typeId]}'`)}an.prototype.visitInt8=null;an.prototype.visitInt16=null;an.prototype.visitInt32=null;an.prototype.visitInt64=null;an.prototype.visitUint8=null;an.prototype.visitUint16=null;an.prototype.visitUint32=null;an.prototype.visitUint64=null;an.prototype.visitFloat16=null;an.prototype.visitFloat32=null;an.prototype.visitFloat64=null;an.prototype.visitDateDay=null;an.prototype.visitDateMillisecond=null;an.prototype.visitTimestampSecond=null;an.prototype.visitTimestampMillisecond=null;an.prototype.visitTimestampMicrosecond=null;an.prototype.visitTimestampNanosecond=null;an.prototype.visitTimeSecond=null;an.prototype.visitTimeMillisecond=null;an.prototype.visitTimeMicrosecond=null;an.prototype.visitTimeNanosecond=null;an.prototype.visitDenseUnion=null;an.prototype.visitSparseUnion=null;an.prototype.visitIntervalDayTime=null;an.prototype.visitIntervalYearMonth=null;const xte=new Float64Array(1),Lh=new Uint32Array(xte.buffer);function Ite(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function Ate(e){if(e!==e)return 32256;xte[0]=e;const t=(Lh[1]&2147483648)>>16&65535;let n=Lh[1]&2146435072,r=0;return n>=1089470464?Lh[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Lh[1]&1048575)>>10):n<=1056964608?(r=1048576+(Lh[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Lh[1]&1048575)+512>>10),t|n|r&65535}class kt extends an{}function Ft(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const L8e=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},p3=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},M8e=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},F8e=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Cte=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},B8e=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},rc=({values:e},t,n)=>{e[t]=n},m3=({values:e},t,n)=>{e[t]=n},Ote=({values:e},t,n)=>{e[t]=Ate(n)},j8e=(e,t,n)=>{switch(e.type.precision){case ki.HALF:return Ote(e,t,n);case ki.SINGLE:case ki.DOUBLE:return m3(e,t,n)}},g3=({values:e},t,n)=>{L8e(e,t,n.valueOf())},y3=({values:e},t,n)=>{p3(e,t*2,n.valueOf())},Pte=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},U8e=({values:e,valueOffsets:t},n,r)=>Cte(e,t,n,r),V8e=({values:e,valueOffsets:t},n,r)=>{Cte(e,t,n,e3(r))},Rte=(e,t,n)=>{e.type.unit===ku.DAY?g3(e,t,n):y3(e,t,n)},_3=({values:e},t,n)=>p3(e,t*2,n/1e3),v3=({values:e},t,n)=>p3(e,t*2,n),b3=({values:e},t,n)=>M8e(e,t*2,n),E3=({values:e},t,n)=>F8e(e,t*2,n),Nte=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return _3(e,t,n);case on.MILLISECOND:return v3(e,t,n);case on.MICROSECOND:return b3(e,t,n);case on.NANOSECOND:return E3(e,t,n)}},w3=({values:e},t,n)=>{e[t]=n},S3=({values:e},t,n)=>{e[t]=n},T3=({values:e},t,n)=>{e[t]=n},x3=({values:e},t,n)=>{e[t]=n},kte=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return w3(e,t,n);case on.MILLISECOND:return S3(e,t,n);case on.MICROSECOND:return T3(e,t,n);case on.NANOSECOND:return x3(e,t,n)}},Dte=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},z8e=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ta.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},H8e=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ta.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},W8e=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),q8e=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),G8e=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),Y8e=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),K8e=(e,t,n)=>{const r=e.type.children.map(s=>ta.getVisitFn(s.type)),i=n instanceof Map?G8e(t,n):n instanceof vn?q8e(t,n):Array.isArray(n)?W8e(t,n):Y8e(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},Q8e=(e,t,n)=>{e.type.mode===ea.Dense?$te(e,t,n):Lte(e,t,n)},$te=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ta.visit(i,e.valueOffsets[t],n)},Lte=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ta.visit(i,t,n)},X8e=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Mte=(e,t,n)=>{e.type.unit===Du.DAY_TIME?I3(e,t,n):A3(e,t,n)},I3=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},A3=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},J8e=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ta.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};kt.prototype.visitBool=Ft(B8e);kt.prototype.visitInt=Ft(rc);kt.prototype.visitInt8=Ft(rc);kt.prototype.visitInt16=Ft(rc);kt.prototype.visitInt32=Ft(rc);kt.prototype.visitInt64=Ft(rc);kt.prototype.visitUint8=Ft(rc);kt.prototype.visitUint16=Ft(rc);kt.prototype.visitUint32=Ft(rc);kt.prototype.visitUint64=Ft(rc);kt.prototype.visitFloat=Ft(j8e);kt.prototype.visitFloat16=Ft(Ote);kt.prototype.visitFloat32=Ft(m3);kt.prototype.visitFloat64=Ft(m3);kt.prototype.visitUtf8=Ft(V8e);kt.prototype.visitBinary=Ft(U8e);kt.prototype.visitFixedSizeBinary=Ft(Pte);kt.prototype.visitDate=Ft(Rte);kt.prototype.visitDateDay=Ft(g3);kt.prototype.visitDateMillisecond=Ft(y3);kt.prototype.visitTimestamp=Ft(Nte);kt.prototype.visitTimestampSecond=Ft(_3);kt.prototype.visitTimestampMillisecond=Ft(v3);kt.prototype.visitTimestampMicrosecond=Ft(b3);kt.prototype.visitTimestampNanosecond=Ft(E3);kt.prototype.visitTime=Ft(kte);kt.prototype.visitTimeSecond=Ft(w3);kt.prototype.visitTimeMillisecond=Ft(S3);kt.prototype.visitTimeMicrosecond=Ft(T3);kt.prototype.visitTimeNanosecond=Ft(x3);kt.prototype.visitDecimal=Ft(Dte);kt.prototype.visitList=Ft(z8e);kt.prototype.visitStruct=Ft(K8e);kt.prototype.visitUnion=Ft(Q8e);kt.prototype.visitDenseUnion=Ft($te);kt.prototype.visitSparseUnion=Ft(Lte);kt.prototype.visitDictionary=Ft(X8e);kt.prototype.visitInterval=Ft(Mte);kt.prototype.visitIntervalDayTime=Ft(I3);kt.prototype.visitIntervalYearMonth=Ft(A3);kt.prototype.visitFixedSizeList=Ft(J8e);kt.prototype.visitMap=Ft(H8e);const ta=new kt,va=Symbol.for("parent"),Lp=Symbol.for("rowIndex");class C3{constructor(t,n){return this[va]=t,this[Lp]=n,new Proxy(this,new e9e)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Lp],n=this[va],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Gs.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Zc(t)}: ${Zc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Z8e(this[va],this[Lp])}}class Z8e{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Gs.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(C3.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[va]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Lp]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class e9e{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[va].type.children.map(n=>n.name)}has(t,n){return t[va].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[va].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[va].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Gs.visit(t[va].children[r],t[Lp]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[va].type.children.findIndex(s=>s.name===n);return i!==-1?(ta.visit(t[va].children[i],t[Lp],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class Ct extends an{}function Dt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const t9e=(e,t)=>864e5*e[t],O3=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),n9e=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,r9e=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Fte=e=>new Date(e),i9e=(e,t)=>Fte(t9e(e,t)),s9e=(e,t)=>Fte(O3(e,t)),o9e=(e,t)=>null,Bte=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},a9e=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},jte=({values:e},t)=>i9e(e,t),Ute=({values:e},t)=>s9e(e,t*2),Nf=({stride:e,values:t},n)=>t[e*n],u9e=({stride:e,values:t},n)=>Ite(t[e*n]),Vte=({values:e},t)=>e[t],l9e=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),c9e=({values:e,valueOffsets:t},n)=>Bte(e,t,n),f9e=({values:e,valueOffsets:t},n)=>{const r=Bte(e,t,n);return r!==null?_R(r):null},d9e=({values:e},t)=>e[t],h9e=({type:e,values:t},n)=>e.precision!==ki.HALF?t[n]:Ite(t[n]),p9e=(e,t)=>e.type.unit===ku.DAY?jte(e,t):Ute(e,t),zte=({values:e},t)=>1e3*O3(e,t*2),Hte=({values:e},t)=>O3(e,t*2),Wte=({values:e},t)=>n9e(e,t*2),qte=({values:e},t)=>r9e(e,t*2),m9e=(e,t)=>{switch(e.type.unit){case on.SECOND:return zte(e,t);case on.MILLISECOND:return Hte(e,t);case on.MICROSECOND:return Wte(e,t);case on.NANOSECOND:return qte(e,t)}},Gte=({values:e},t)=>e[t],Yte=({values:e},t)=>e[t],Kte=({values:e},t)=>e[t],Qte=({values:e},t)=>e[t],g9e=(e,t)=>{switch(e.type.unit){case on.SECOND:return Gte(e,t);case on.MILLISECOND:return Yte(e,t);case on.MICROSECOND:return Kte(e,t);case on.NANOSECOND:return Qte(e,t)}},y9e=({values:e,stride:t},n)=>i3.decimal(e.subarray(t*n,t*(n+1))),_9e=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new vn([u])},v9e=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new sI(o.slice(i,s-i))},b9e=(e,t)=>new C3(e,t),E9e=(e,t)=>e.type.mode===ea.Dense?Xte(e,t):Jte(e,t),Xte=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Gs.visit(r,e.valueOffsets[t])},Jte=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Gs.visit(r,t)},w9e=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},S9e=(e,t)=>e.type.unit===Du.DAY_TIME?Zte(e,t):ene(e,t),Zte=({values:e},t)=>e.subarray(2*t,2*(t+1)),ene=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},T9e=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new vn([s])};Ct.prototype.visitNull=Dt(o9e);Ct.prototype.visitBool=Dt(a9e);Ct.prototype.visitInt=Dt(d9e);Ct.prototype.visitInt8=Dt(Nf);Ct.prototype.visitInt16=Dt(Nf);Ct.prototype.visitInt32=Dt(Nf);Ct.prototype.visitInt64=Dt(Vte);Ct.prototype.visitUint8=Dt(Nf);Ct.prototype.visitUint16=Dt(Nf);Ct.prototype.visitUint32=Dt(Nf);Ct.prototype.visitUint64=Dt(Vte);Ct.prototype.visitFloat=Dt(h9e);Ct.prototype.visitFloat16=Dt(u9e);Ct.prototype.visitFloat32=Dt(Nf);Ct.prototype.visitFloat64=Dt(Nf);Ct.prototype.visitUtf8=Dt(f9e);Ct.prototype.visitBinary=Dt(c9e);Ct.prototype.visitFixedSizeBinary=Dt(l9e);Ct.prototype.visitDate=Dt(p9e);Ct.prototype.visitDateDay=Dt(jte);Ct.prototype.visitDateMillisecond=Dt(Ute);Ct.prototype.visitTimestamp=Dt(m9e);Ct.prototype.visitTimestampSecond=Dt(zte);Ct.prototype.visitTimestampMillisecond=Dt(Hte);Ct.prototype.visitTimestampMicrosecond=Dt(Wte);Ct.prototype.visitTimestampNanosecond=Dt(qte);Ct.prototype.visitTime=Dt(g9e);Ct.prototype.visitTimeSecond=Dt(Gte);Ct.prototype.visitTimeMillisecond=Dt(Yte);Ct.prototype.visitTimeMicrosecond=Dt(Kte);Ct.prototype.visitTimeNanosecond=Dt(Qte);Ct.prototype.visitDecimal=Dt(y9e);Ct.prototype.visitList=Dt(_9e);Ct.prototype.visitStruct=Dt(b9e);Ct.prototype.visitUnion=Dt(E9e);Ct.prototype.visitDenseUnion=Dt(Xte);Ct.prototype.visitSparseUnion=Dt(Jte);Ct.prototype.visitDictionary=Dt(w9e);Ct.prototype.visitInterval=Dt(S9e);Ct.prototype.visitIntervalDayTime=Dt(Zte);Ct.prototype.visitIntervalYearMonth=Dt(ene);Ct.prototype.visitFixedSizeList=Dt(T9e);Ct.prototype.visitMap=Dt(v9e);const Gs=new Ct,Ia=Symbol.for("keys"),Mp=Symbol.for("vals");class sI{constructor(t){return this[Ia]=new vn([t.children[0]]).memoize(),this[Mp]=t.children[1],new Proxy(this,new I9e)}[Symbol.iterator](){return new x9e(this[Ia],this[Mp])}get size(){return this[Ia].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ia],n=this[Mp],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Gs.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Zc(t)}: ${Zc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class x9e{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Gs.visit(this.vals,t)]})}}class I9e{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ia].toArray().map(String)}has(t,n){return t[Ia].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Ia].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Ia].indexOf(n);if(r!==-1){const i=Gs.visit(Reflect.get(t,Mp),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Ia].indexOf(n);return i!==-1?(ta.visit(Reflect.get(t,Mp),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(sI.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ia]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Mp]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let yU;function tne(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(yU=s,s=o,o=yU),o>i&&(o=i),r?r(e,s,o):[s,o]}const _U=e=>e!==e;function Qm(e){if(typeof e!=="object"||e===null)return _U(e)?_U:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?_8e(e,n):!1:e instanceof Map?C9e(e):Array.isArray(e)?A9e(e):e instanceof vn?O9e(e):P9e(e,!0)}function A9e(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Qm(e[n]);return oI(t)}function C9e(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Qm(r);return oI(n)}function O9e(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Qm(e.get(n));return oI(t)}function P9e(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Qm(e[n[i]]);return oI(r,n)}function oI(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return R9e(e,n);case Map:return vU(e,n,n.keys());case sI:case C3:case Object:case void 0:return vU(e,n,t||Object.keys(n))}return n instanceof vn?N9e(e,n):!1}}function R9e(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function N9e(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function vU(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function nne(e,t,n,r){return(n&1<<r)!==0}function k9e(e,t,n,r){return(n&1<<r)>>r}function P3(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):rne(new R3(n,e,t,null,nne)).subarray(0,r)),i}return n}function rne(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class R3{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function ER(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new R3(e,t,n-t,e,k9e))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return ER(e,t,i)+ER(e,r,n)+D9e(e,i>>3,r-i>>3)}function D9e(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=pO(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=pO(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=pO(s.getUint8(i)),i+=1;return r}function pO(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const $9e=-1;class Ln{constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Ln?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Za(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=$9e&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-ER(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:u}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:u,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Ln(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===J.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(P3(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[tl.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[tl.TYPE])&&(o[tl.TYPE]=s.subarray(t,t+n)),(s=o[tl.OFFSET])&&(o[tl.OFFSET]=s.subarray(t,t+n+1))||(s=o[tl.DATA])&&(o[tl.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Ln.prototype.children=Object.freeze([]);class J0 extends an{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Ln(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.data),s=On(t.nullBitmap),o=Yg(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.data),s=On(t.nullBitmap),o=Yg(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=On(t.nullBitmap),o=Yg(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=On(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=On(t.nullBitmap),o=Ii(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;if(Qt.isSparseUnion(n))return new Ln(n,r,a,u,[void 0,void 0,s,o],i);const l=Yg(t.valueOffsets);return new Ln(n,r,a,u,[l,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.indices.ArrayType,t.data),{["dictionary"]:o=new vn([new J0().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=On(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new J0().visit({type:n.valueType})}=t,s=On(t.nullBitmap),{["length"]:o=i.length/Za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Ln(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new J0().visit({type:n.childType})}=t,s=On(t.nullBitmap),o=Yg(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Ln(n,r,a,u,[o,void 0,s],[i])}}function Yi(e){return new J0().visit(e)}class bU{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function ine(e){return e.reduce((t,n)=>t+n.nullCount,0)}function sne(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function one(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function N3(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function k3(e,t){return e.getValid(t)}function Fp(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return N3(r,this._offsets,n,t)}}function ane(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=N3(s,this._offsets,r,n);return t=void 0,o}}function une(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):N3(s,this._offsets,i,n);return t=void 0,o}}class Ot extends an{}function L9e(e,t){return t===null&&e.length>0?0:-1}function M9e(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new R3(n,e.offset+(t||0),e.length,n,nne)){if(!i)return r;++r}return-1}function Vt(e,t,n){if(t===void 0)return-1;if(t===null)return M9e(e,n);const r=Gs.getVisitFn(e),i=Qm(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function lne(e,t,n){const r=Gs.getVisitFn(e),i=Qm(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Ot.prototype.visitNull=L9e;Ot.prototype.visitBool=Vt;Ot.prototype.visitInt=Vt;Ot.prototype.visitInt8=Vt;Ot.prototype.visitInt16=Vt;Ot.prototype.visitInt32=Vt;Ot.prototype.visitInt64=Vt;Ot.prototype.visitUint8=Vt;Ot.prototype.visitUint16=Vt;Ot.prototype.visitUint32=Vt;Ot.prototype.visitUint64=Vt;Ot.prototype.visitFloat=Vt;Ot.prototype.visitFloat16=Vt;Ot.prototype.visitFloat32=Vt;Ot.prototype.visitFloat64=Vt;Ot.prototype.visitUtf8=Vt;Ot.prototype.visitBinary=Vt;Ot.prototype.visitFixedSizeBinary=Vt;Ot.prototype.visitDate=Vt;Ot.prototype.visitDateDay=Vt;Ot.prototype.visitDateMillisecond=Vt;Ot.prototype.visitTimestamp=Vt;Ot.prototype.visitTimestampSecond=Vt;Ot.prototype.visitTimestampMillisecond=Vt;Ot.prototype.visitTimestampMicrosecond=Vt;Ot.prototype.visitTimestampNanosecond=Vt;Ot.prototype.visitTime=Vt;Ot.prototype.visitTimeSecond=Vt;Ot.prototype.visitTimeMillisecond=Vt;Ot.prototype.visitTimeMicrosecond=Vt;Ot.prototype.visitTimeNanosecond=Vt;Ot.prototype.visitDecimal=Vt;Ot.prototype.visitList=Vt;Ot.prototype.visitStruct=Vt;Ot.prototype.visitUnion=Vt;Ot.prototype.visitDenseUnion=lne;Ot.prototype.visitSparseUnion=lne;Ot.prototype.visitDictionary=Vt;Ot.prototype.visitInterval=Vt;Ot.prototype.visitIntervalDayTime=Vt;Ot.prototype.visitIntervalYearMonth=Vt;Ot.prototype.visitFixedSizeList=Vt;Ot.prototype.visitMap=Vt;const zS=new Ot;class Pt extends an{}function $t(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===J.Timestamp||t instanceof gs&&t.bitWidth!==64||t instanceof Ul&&t.bitWidth!==64||t instanceof hf&&t.precision!==ki.HALF))return new bU(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new bU(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new F9e(o)})}class F9e{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Pt.prototype.visitNull=$t;Pt.prototype.visitBool=$t;Pt.prototype.visitInt=$t;Pt.prototype.visitInt8=$t;Pt.prototype.visitInt16=$t;Pt.prototype.visitInt32=$t;Pt.prototype.visitInt64=$t;Pt.prototype.visitUint8=$t;Pt.prototype.visitUint16=$t;Pt.prototype.visitUint32=$t;Pt.prototype.visitUint64=$t;Pt.prototype.visitFloat=$t;Pt.prototype.visitFloat16=$t;Pt.prototype.visitFloat32=$t;Pt.prototype.visitFloat64=$t;Pt.prototype.visitUtf8=$t;Pt.prototype.visitBinary=$t;Pt.prototype.visitFixedSizeBinary=$t;Pt.prototype.visitDate=$t;Pt.prototype.visitDateDay=$t;Pt.prototype.visitDateMillisecond=$t;Pt.prototype.visitTimestamp=$t;Pt.prototype.visitTimestampSecond=$t;Pt.prototype.visitTimestampMillisecond=$t;Pt.prototype.visitTimestampMicrosecond=$t;Pt.prototype.visitTimestampNanosecond=$t;Pt.prototype.visitTime=$t;Pt.prototype.visitTimeSecond=$t;Pt.prototype.visitTimeMillisecond=$t;Pt.prototype.visitTimeMicrosecond=$t;Pt.prototype.visitTimeNanosecond=$t;Pt.prototype.visitDecimal=$t;Pt.prototype.visitList=$t;Pt.prototype.visitStruct=$t;Pt.prototype.visitUnion=$t;Pt.prototype.visitDenseUnion=$t;Pt.prototype.visitSparseUnion=$t;Pt.prototype.visitDictionary=$t;Pt.prototype.visitInterval=$t;Pt.prototype.visitIntervalDayTime=$t;Pt.prototype.visitIntervalYearMonth=$t;Pt.prototype.visitFixedSizeList=$t;Pt.prototype.visitMap=$t;const D3=new Pt,B9e=(e,t)=>e+t;class kf extends an{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===on.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+$u.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+$u.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const j9e=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),U9e=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),V9e=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=$u.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},z9e=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=$u.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},H9e=(e,t)=>e.type.mode===ea.Dense?cne(e,t):fne(e,t),cne=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+$u.visit(t[s],r[i])},fne=({children:e},t)=>4+$u.visitMany(e,e.map(()=>t)).reduce(B9e,0);kf.prototype.visitUtf8=j9e;kf.prototype.visitBinary=U9e;kf.prototype.visitList=V9e;kf.prototype.visitFixedSizeList=z9e;kf.prototype.visitUnion=H9e;kf.prototype.visitDenseUnion=cne;kf.prototype.visitSparseUnion=fne;const $u=new kf;var dne;const hne={},pne={};class vn{constructor(t){var n,r,i;const s=t[0]instanceof vn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Ln)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=hne[o.typeId],f=s[0];this.isValid=d=>k3(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,pne[o.typeId]),this._offsets=sne(s);break}this.data=s,this.type=o,this.stride=Za(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=ine(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${J[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return D3.visit(this)}concat(...t){return new vn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new vn(tne(this,t,n,({data:r,_offsets:i},s,o)=>one(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case J.Int:case J.Float:case J.Decimal:case J.Time:case J.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new vn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Qt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Qt.isDictionary(this.type)){const t=new HS(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new vn(n)}return new HS(this)}unmemoize(){if(Qt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new vn(n)}return this}}dne=Symbol.toStringTag;vn[dne]=(e=>{e.type=Qt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(J).map(n=>J[n]).filter(n=>typeof n=="number"&&n!==J.NONE);for(const n of t){const r=Gs.getVisitFnByTypeId(n),i=ta.getVisitFnByTypeId(n),s=zS.getVisitFnByTypeId(n),o=$u.getVisitFnByTypeId(n);hne[n]={get:r,set:i,indexOf:s,byteLength:o},pne[n]=Object.create(e,{isValid:{value:Fp(k3)},get:{value:Fp(Gs.getVisitFnByTypeId(n))},set:{value:ane(ta.getVisitFnByTypeId(n))},indexOf:{value:une(zS.getVisitFnByTypeId(n))},getByteLength:{value:Fp($u.getVisitFnByTypeId(n))}})}return"Vector"})(vn.prototype);class HS extends vn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new HS(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new vn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function W9e(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${q9e(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function q9e(e){return typeof e!="bigint"?Zc(e):tte?`${Zc(e)}n`:`"${Zc(e)}"`}const mO=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,G9e=(e,t=0)=>e.length>=t?e.subarray(0,t):BS(new e.constructor(t),e,0);class aI{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?mO(r*1,this.BYTES_PER_ELEMENT):mO(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=mO(t*this.stride,this.BYTES_PER_ELEMENT);const n=G9e(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=BS(new this.ArrayType(t),this.buffer)}}aI.prototype.offset=0;class sv extends aI{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class mne extends sv{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class gne extends sv{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Ks=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Za(t),this._nulls=new mne,n&&n.length>0&&(this._isValid=W9e(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new vn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),Yi({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};Ks.prototype.length=1;Ks.prototype.stride=1;Ks.prototype.children=null;Ks.prototype.finished=!1;Ks.prototype.nullValues=null;Ks.prototype._isValid=()=>!0;class Df extends Ks{constructor(t){super(t),this._values=new sv(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class uI extends Ks{constructor(t){super(t),this._pendingLength=0,this._offsets=new gne}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof sI?n[Ia].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class wR{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const gO=2,iu=4,al=4,Vn=4,Ec=new Int32Array(2),EU=new Float32Array(Ec.buffer),wU=new Float64Array(Ec.buffer),N1=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Il=class SR{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?SR.ZERO:new SR(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};Il.ZERO=new Il(0,0);var TR;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(TR||(TR={}));let WS=class yne{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new yne(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Il(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Il(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Ec[0]=this.readInt32(t),EU[0]}readFloat64(t){return Ec[N1?0:1]=this.readInt32(t),Ec[N1?1:0]=this.readInt32(t+4),wU[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){EU[0]=n,this.writeInt32(t,Ec[0])}writeFloat64(t,n){wU[0]=n,this.writeInt32(t,Ec[N1?0:1]),this.writeInt32(t+4,Ec[N1?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+iu+al)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<al;n++)t+=String.fromCharCode(this.readInt8(this.position_+iu+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=iu,n===TR.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const u=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|u&63;else{const l=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(u&63)<<6|l&63;else{const c=this.readUint8(t+s++);o=(a&7)<<18|(u&63)<<12|(l&63)<<6|c&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+iu}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=al)throw new Error("FlatBuffers: file identifier must be length "+al);for(let n=0;n<al;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+iu+n))return!1;return!0}createLong(t,n){return Il.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},_ne=class vne{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=WS.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=vne.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=WS.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(iu,0),this.writeInt32(this.offset()-t+iu)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*gO;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=gO;l<s;l+=gO)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Vn:0;if(n){const s=n;if(this.prep(this.minalign,iu+al+i),s.length!=al)throw new Error("FlatBuffers: file identifier must be length "+al);for(let o=al-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,iu+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(iu,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return Il.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Xr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Xr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Vn),(n||new Xr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Xr.startKeyValue(t),Xr.addKey(t,n),Xr.addValue(t,r),Xr.endKeyValue(t)}}var bm;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(bm||(bm={}));var Em;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Em||(Em={}));var qS;(function(e){e[e.DenseArray=0]="DenseArray"})(qS||(qS={}));class no{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new no).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Vn),(n||new no).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return no.startInt(t),no.addBitWidth(t,n),no.addIsSigned(t,r),no.endInt(t)}}class ul{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new ul).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Vn),(n||new ul).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new no).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):qS.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,qS.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class md{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new md).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Vn),(n||new md).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return md.startBinary(t),md.endBinary(t)}}class gd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new gd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Vn),(n||new gd).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return gd.startBool(t),gd.endBool(t)}}var GS;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(GS||(GS={}));let $b=class Vh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Vh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Vn),(n||new Vh).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):GS.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,GS.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Vh.startDate(t),Vh.addUnit(t,n),Vh.endDate(t)}};class Ns{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Ns).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Vn),(n||new Ns).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Ns.startDecimal(t),Ns.addPrecision(t,n),Ns.addScale(t,r),Ns.addBitWidth(t,i),Ns.endDecimal(t)}}var wm;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(wm||(wm={}));class su{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new su).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Vn),(n||new su).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return su.startFixedSizeBinary(t),su.addByteWidth(t,n),su.endFixedSizeBinary(t)}}class ou{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new ou).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Vn),(n||new ou).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return ou.startFixedSizeList(t),ou.addListSize(t,n),ou.endFixedSizeList(t)}}var YS;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(YS||(YS={}));class au{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new au).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Vn),(n||new au).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):YS.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,YS.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return au.startFloatingPoint(t),au.addPrecision(t,n),au.endFloatingPoint(t)}}var KS;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(KS||(KS={}));class uu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new uu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Vn),(n||new uu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):KS.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,KS.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return uu.startInterval(t),uu.addUnit(t,n),uu.endInterval(t)}}class yd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new yd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Vn),(n||new yd).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return yd.startList(t),yd.endList(t)}}let Lb=class zh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new zh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Vn),(n||new zh).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return zh.startMap(t),zh.addKeysSorted(t,n),zh.endMap(t)}};class _d{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new _d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Vn),(n||new _d).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return _d.startNull(t),_d.endNull(t)}}class vd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new vd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Vn),(n||new vd).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return vd.startStruct_(t),vd.endStruct_(t)}}class jo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new jo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Vn),(n||new jo).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wm.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,wm.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return jo.startTime(t),jo.addUnit(t,n),jo.addBitWidth(t,r),jo.endTime(t)}}let v0=class Kf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Kf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Vn),(n||new Kf).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wm.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,wm.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Kf.startTimestamp(t),Kf.addUnit(t,n),Kf.addTimezone(t,r),Kf.endTimestamp(t)}};var QS;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(QS||(QS={}));class Ds{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Ds).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Vn),(n||new Ds).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):QS.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,QS.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Ds.startUnion(t),Ds.addMode(t,n),Ds.addTypeIds(t,r),Ds.endUnion(t)}}class bd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new bd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Vn),(n||new bd).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return bd.startUtf8(t),bd.endUtf8(t)}}var pr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(pr||(pr={}));let Do=class Mb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Mb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Vn),(n||new Mb).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):pr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new ul).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Mb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Xr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,pr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Ka=class Zu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Zu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Vn),(n||new Zu).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Em.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Do).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Xr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,Em.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Zu.startSchema(t),Zu.addEndianness(t,n),Zu.addFields(t,r),Zu.addCustomMetadata(t,i),Zu.addFeatures(t,s),Zu.endSchema(t)}};class eo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new eo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Vn),(n||new eo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):bm.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ka).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new wR).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new wR).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Xr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,bm.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}let gr=class Qf{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=xR(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Qf(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Qf(n,this.metadata)}assign(...t){const n=t[0]instanceof Qf?t[0]:Array.isArray(t[0])?new Qf(t[0]):new Qf(t),r=[...this.fields],i=k1(k1(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:k1(k1(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=xR(s,new Map);return new Qf([...r,...s],i,new Map([...this.dictionaries,...o]))}};gr.prototype.fields=null;gr.prototype.metadata=null;gr.prototype.dictionaries=null;class In{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new In(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],In.new(n,r,i,s)}}In.prototype.type=null;In.prototype.name=null;In.prototype.nullable=null;In.prototype.metadata=null;function k1(e,t){return new Map([...e||new Map,...t||new Map])}function xR(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Qt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&xR(s.children,t)}return t}var SU=Il,Y9e=_ne,K9e=WS;class IR{constructor(t,n=so.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new K9e(On(t));const n=eo.getRootAsFooter(t),r=gr.decode(n.schema());return new Q9e(r,n)}static encode(t){const n=new Y9e,r=gr.encode(n,t.schema);eo.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())mf.encode(n,o);const i=n.endVector();eo.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())mf.encode(n,o);const s=n.endVector();return eo.startFooter(n),eo.addSchema(n,r),eo.addVersion(n,so.V4),eo.addRecordBatches(n,i),eo.addDictionaries(n,s),eo.finishFooterBuffer(n,eo.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Q9e extends IR{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return mf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return mf.decode(n)}return null}}class mf{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new mf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new SU(n.offset,0),s=new SU(n.bodyLength,0);return wR.createBlock(t,i,r,s)}}const D1=Object.freeze({done:!0,value:void 0});class bne{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class X9e extends bne{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return ol(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(D1);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return mU.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return mU.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return ol(this,void 0,void 0,function*(){return yield this.abort(t),D1})}return(t){return ol(this,void 0,void 0,function*(){return yield this.close(),D1})}read(t){return ol(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return ol(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(D1)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class yO extends X9e{write(t){if((t=On(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?_R(this.toUint8Array(!0)):this.toUint8Array(!1).then(_R)}toUint8Array(t=!1){return t?Nu(this._values)[0]:ol(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=X0(this),a;a=yield o.next(),!a.done;){const u=a.value;i.push(u),s+=u.byteLength}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return Nu(i,s)[0]})}}class Ene extends uI{constructor(t){super(t),this._values=new aI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,On(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class J9e extends Ks{constructor(t){super(t),this._values=new mne}setValue(t,n){this._values.set(t,+n)}}class lI extends Df{}lI.prototype._setValue=Rte;class wne extends lI{}wne.prototype._setValue=g3;class Sne extends lI{}Sne.prototype._setValue=y3;class Tne extends Df{}Tne.prototype._setValue=Dte;class Z9e extends Ks{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new pf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=XS({type:this.type.indices,nullValues:n}),this.dictionary=XS({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class xne extends Df{}xne.prototype._setValue=Pte;class eBe extends Ks{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new vm(this.type.listSize,new In(n,t.type,!0)),r}}class cI extends Df{setValue(t,n){this._values.set(t,n)}}class tBe extends cI{setValue(t,n){super.setValue(t,Ate(n))}}class nBe extends cI{}class rBe extends cI{}class fI extends Df{}fI.prototype._setValue=Mte;class Ine extends fI{}Ine.prototype._setValue=I3;class Ane extends fI{}Ane.prototype._setValue=A3;class ic extends Df{setValue(t,n){this._values.set(t,n)}}class iBe extends ic{}class sBe extends ic{}class oBe extends ic{}class aBe extends ic{}class uBe extends ic{}class lBe extends ic{}class cBe extends ic{}class fBe extends ic{}class dBe extends uI{constructor(t){super(t),this._offsets=new gne}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new _m(new In(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s.length,a=n.set(i,o).buffer[i];for(let u=-1;++u<o;)r.set(a+u,s[u])}}}class hBe extends uI{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Jy(new In(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class pBe extends Ks{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class mBe extends Ks{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Xi([...this.type.children,new In(n,t.type,!0)]),r}}class Xm extends Df{}Xm.prototype._setValue=Nte;class Cne extends Xm{}Cne.prototype._setValue=_3;class One extends Xm{}One.prototype._setValue=v3;class Pne extends Xm{}Pne.prototype._setValue=b3;class Rne extends Xm{}Rne.prototype._setValue=E3;class Jm extends Df{}Jm.prototype._setValue=kte;class Nne extends Jm{}Nne.prototype._setValue=w3;class kne extends Jm{}kne.prototype._setValue=S3;class Dne extends Jm{}Dne.prototype._setValue=T3;class $ne extends Jm{}$ne.prototype._setValue=x3;class $3 extends Ks{constructor(t){super(t),this._typeIds=new sv(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new In(n,t.type)];return this.type=new Xy(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class gBe extends $3{}class yBe extends $3{constructor(t){super(t),this._offsets=new sv(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class Lne extends uI{constructor(t){super(t),this._values=new aI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,e3(n))}_flushPending(t,n){}}Lne.prototype._flushPending=Ene.prototype._flushPending;class _Be extends an{visitNull(){return pBe}visitBool(){return J9e}visitInt(){return ic}visitInt8(){return iBe}visitInt16(){return sBe}visitInt32(){return oBe}visitInt64(){return aBe}visitUint8(){return uBe}visitUint16(){return lBe}visitUint32(){return cBe}visitUint64(){return fBe}visitFloat(){return cI}visitFloat16(){return tBe}visitFloat32(){return nBe}visitFloat64(){return rBe}visitUtf8(){return Lne}visitBinary(){return Ene}visitFixedSizeBinary(){return xne}visitDate(){return lI}visitDateDay(){return wne}visitDateMillisecond(){return Sne}visitTimestamp(){return Xm}visitTimestampSecond(){return Cne}visitTimestampMillisecond(){return One}visitTimestampMicrosecond(){return Pne}visitTimestampNanosecond(){return Rne}visitTime(){return Jm}visitTimeSecond(){return Nne}visitTimeMillisecond(){return kne}visitTimeMicrosecond(){return Dne}visitTimeNanosecond(){return $ne}visitDecimal(){return Tne}visitList(){return dBe}visitStruct(){return mBe}visitUnion(){return $3}visitDenseUnion(){return yBe}visitSparseUnion(){return gBe}visitDictionary(){return Z9e}visitInterval(){return fI}visitIntervalDayTime(){return Ine}visitIntervalYearMonth(){return Ane}visitFixedSizeList(){return eBe}visitMap(){return hBe}}const vBe=new _Be;class Rt extends an{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Qs(e,t){return t instanceof e.constructor}function ov(e,t){return e===t||Qs(e,t)}function sc(e,t){return e===t||Qs(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function dI(e,t){return e===t||Qs(e,t)&&e.precision===t.precision}function bBe(e,t){return e===t||Qs(e,t)&&e.byteWidth===t.byteWidth}function L3(e,t){return e===t||Qs(e,t)&&e.unit===t.unit}function av(e,t){return e===t||Qs(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function uv(e,t){return e===t||Qs(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function EBe(e,t){return e===t||Qs(e,t)&&e.children.length===t.children.length&&gf.compareManyFields(e.children,t.children)}function wBe(e,t){return e===t||Qs(e,t)&&e.children.length===t.children.length&&gf.compareManyFields(e.children,t.children)}function M3(e,t){return e===t||Qs(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&gf.compareManyFields(e.children,t.children)}function SBe(e,t){return e===t||Qs(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&gf.visit(e.indices,t.indices)&&gf.visit(e.dictionary,t.dictionary)}function F3(e,t){return e===t||Qs(e,t)&&e.unit===t.unit}function TBe(e,t){return e===t||Qs(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&gf.compareManyFields(e.children,t.children)}function xBe(e,t){return e===t||Qs(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&gf.compareManyFields(e.children,t.children)}Rt.prototype.visitNull=ov;Rt.prototype.visitBool=ov;Rt.prototype.visitInt=sc;Rt.prototype.visitInt8=sc;Rt.prototype.visitInt16=sc;Rt.prototype.visitInt32=sc;Rt.prototype.visitInt64=sc;Rt.prototype.visitUint8=sc;Rt.prototype.visitUint16=sc;Rt.prototype.visitUint32=sc;Rt.prototype.visitUint64=sc;Rt.prototype.visitFloat=dI;Rt.prototype.visitFloat16=dI;Rt.prototype.visitFloat32=dI;Rt.prototype.visitFloat64=dI;Rt.prototype.visitUtf8=ov;Rt.prototype.visitBinary=ov;Rt.prototype.visitFixedSizeBinary=bBe;Rt.prototype.visitDate=L3;Rt.prototype.visitDateDay=L3;Rt.prototype.visitDateMillisecond=L3;Rt.prototype.visitTimestamp=av;Rt.prototype.visitTimestampSecond=av;Rt.prototype.visitTimestampMillisecond=av;Rt.prototype.visitTimestampMicrosecond=av;Rt.prototype.visitTimestampNanosecond=av;Rt.prototype.visitTime=uv;Rt.prototype.visitTimeSecond=uv;Rt.prototype.visitTimeMillisecond=uv;Rt.prototype.visitTimeMicrosecond=uv;Rt.prototype.visitTimeNanosecond=uv;Rt.prototype.visitDecimal=ov;Rt.prototype.visitList=EBe;Rt.prototype.visitStruct=wBe;Rt.prototype.visitUnion=M3;Rt.prototype.visitDenseUnion=M3;Rt.prototype.visitSparseUnion=M3;Rt.prototype.visitDictionary=SBe;Rt.prototype.visitInterval=F3;Rt.prototype.visitIntervalDayTime=F3;Rt.prototype.visitIntervalYearMonth=F3;Rt.prototype.visitFixedSizeList=TBe;Rt.prototype.visitMap=xBe;const gf=new Rt;function AR(e,t){return gf.compareSchemas(e,t)}function XS(e){const t=e.type,n=new(vBe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(XS(Object.assign(Object.assign({},l),{type:u})))}}return n}function _O(e,t){return IBe(e,t.map(n=>n.data.concat()))}function IBe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=ABe(n,o,c,t,i),o>0&&(r[s++]=Yi({type:new Xi(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new ro(e,f))]}function ABe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Yi({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var Mne;class $s{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new gr([]),this._offsets=[0],this;let i,s;t[0]instanceof gr&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof ro)return[u];if(u instanceof $s)return u.batches;if(u instanceof Ln){if(u.type instanceof Xi)return[new ro(new gr(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new vn([u[h]])),f=new gr(l.map((h,p)=>new In(String(h),c[p].type))),[,d]=_O(f,c);return d.length===0?[new ro(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new gr([]),!(i instanceof gr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof ro))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!AR(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??sne(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=ine(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?D3.visit(new vn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new $s(n,r.map(i=>new ro(n,i)))}slice(t,n){const r=this.schema;[t,n]=tne({length:this.numRows},t,n);const i=one(this.data,this._offsets,t,n);return new $s(r,i.map(s=>new ro(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Yi({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new vn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new vn([Yi({type:new jl,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=_O(r,a)}return new $s(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new $s(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new $s(..._O(s,o))}}Mne=Symbol.toStringTag;$s[Mne]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Fp(k3),e.get=Fp(Gs.getVisitFn(J.Struct)),e.set=ane(ta.getVisitFn(J.Struct)),e.indexOf=une(zS.getVisitFn(J.Struct)),e.getByteLength=Fp($u.getVisitFn(J.Struct)),"Table"))($s.prototype);var Fne;let ro=class b0{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof gr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Yi({nullCount:0,type:new Xi(this.schema.fields),children:this.schema.fields.map(n=>Yi({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Ln))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=TU(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=In.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new gr(r),a=Yi({type:new Xi(r),length:s,children:i,nullCount:0});[this.schema,this.data]=TU(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Bne(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Gs.visit(this.data,t)}set(t,n){return ta.visit(this.data,t,n)}indexOf(t,n){return zS.visit(this.data,t,n)}getByteLength(t){return $u.visit(this.data,t)}[Symbol.iterator](){return D3.visit(new vn([this.data]))}toArray(){return[...this]}concat(...t){return new $s(this.schema,[this,...t])}slice(t,n){const[r]=new vn([this.data]).slice(t,n).data;return new b0(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new vn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new vn([Yi({type:new jl,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new gr(s,new Map(this.schema.metadata)),i=Yi({type:new Xi(s),children:o})}return new b0(r,i)}select(t){const n=this.schema.select(t),r=new Xi(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new b0(n,Yi({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Yi({type:new Xi(n.fields),length:this.numRows,children:r});return new b0(n,i)}};Fne=Symbol.toStringTag;ro[Fne]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(ro.prototype);function TU(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Yi({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Yi({type:new Xi(i),length:n,children:s})]}function Bne(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,a=t[r];if(Qt.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Bne(o.children,a.children,n)}return n}class CBe extends ro{constructor(t){const n=t.fields.map(i=>Yi({type:i.type})),r=Yi({type:new Xi(t.fields),nullCount:0,children:n});super(t,r)}}var JS;(function(e){e[e.BUFFER=0]="BUFFER"})(JS||(JS={}));var ZS;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(ZS||(ZS={}));class wc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new wc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Vn),(n||new wc).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):ZS.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):JS.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,ZS.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,JS.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return wc.startBodyCompression(t),wc.addCodec(t,n),wc.addMethod(t,r),wc.endBodyCompression(t)}}class jne{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let Une=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},nl=class CR{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new CR).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Vn),(n||new CR).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Une).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new jne).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new wc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Hh=class OR{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new OR).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Vn),(n||new OR).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new nl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var eT;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(eT||(eT={}));let dc=class qa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new qa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Vn),(n||new qa).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):bm.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):eT.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Xr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,bm.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,eT.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return qa.startMessage(t),qa.addVersion(t,n),qa.addHeaderType(t,r),qa.addHeader(t,i),qa.addBodyLength(t,s),qa.addCustomMetadata(t,o),qa.endMessage(t)}};var OBe=Il;class PBe extends an{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return _d.startNull(n),_d.endNull(n)}visitInt(t,n){return no.startInt(n),no.addBitWidth(n,t.bitWidth),no.addIsSigned(n,t.isSigned),no.endInt(n)}visitFloat(t,n){return au.startFloatingPoint(n),au.addPrecision(n,t.precision),au.endFloatingPoint(n)}visitBinary(t,n){return md.startBinary(n),md.endBinary(n)}visitBool(t,n){return gd.startBool(n),gd.endBool(n)}visitUtf8(t,n){return bd.startUtf8(n),bd.endUtf8(n)}visitDecimal(t,n){return Ns.startDecimal(n),Ns.addScale(n,t.scale),Ns.addPrecision(n,t.precision),Ns.addBitWidth(n,t.bitWidth),Ns.endDecimal(n)}visitDate(t,n){return $b.startDate(n),$b.addUnit(n,t.unit),$b.endDate(n)}visitTime(t,n){return jo.startTime(n),jo.addUnit(n,t.unit),jo.addBitWidth(n,t.bitWidth),jo.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return v0.startTimestamp(n),v0.addUnit(n,t.unit),r!==void 0&&v0.addTimezone(n,r),v0.endTimestamp(n)}visitInterval(t,n){return uu.startInterval(n),uu.addUnit(n,t.unit),uu.endInterval(n)}visitList(t,n){return yd.startList(n),yd.endList(n)}visitStruct(t,n){return vd.startStruct_(n),vd.endStruct_(n)}visitUnion(t,n){Ds.startTypeIdsVector(n,t.typeIds.length);const r=Ds.createTypeIdsVector(n,t.typeIds);return Ds.startUnion(n),Ds.addMode(n,t.mode),Ds.addTypeIds(n,r),Ds.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return ul.startDictionaryEncoding(n),ul.addId(n,new OBe(t.id,0)),ul.addIsOrdered(n,t.isOrdered),r!==void 0&&ul.addIndexType(n,r),ul.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return su.startFixedSizeBinary(n),su.addByteWidth(n,t.byteWidth),su.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return ou.startFixedSizeList(n),ou.addListSize(n,t.listSize),ou.endFixedSizeList(n)}visitMap(t,n){return Lb.startMap(n),Lb.addKeysSorted(n,t.keysSorted),Lb.endMap(n)}}const vO=new PBe;function RBe(e,t=new Map){return new gr(kBe(e,t),Fb(e.customMetadata),t)}function Vne(e){return new vo(e.count,zne(e.columns),Hne(e.columns))}function NBe(e){return new Lu(Vne(e.data),e.id,e.isDelta)}function kBe(e,t){return(e.fields||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function xU(e,t){return(e.children||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function zne(e){return(e||[]).reduce((t,n)=>[...t,new gh(n.count,DBe(n.VALIDITY)),...zne(n.children)],[])}function Hne(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new hu(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new hu(t.length,i.TYPE.length)),i.OFFSET&&t.push(new hu(t.length,i.OFFSET.length)),i.DATA&&t.push(new hu(t.length,i.DATA.length)),t=Hne(i.children,t)}return t}function DBe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function $Be(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=AU(e,xU(e,t)),i=new In(e.name,o,e.nullable,Fb(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?IU(r):new df,a=new pf(t.get(n),r,n,s.isOrdered),i=new In(e.name,a,e.nullable,Fb(e.customMetadata))):(r=(r=s.indexType)?IU(r):new df,t.set(n,o=AU(e,xU(e,t))),a=new pf(o,r,n,s.isOrdered),i=new In(e.name,a,e.nullable,Fb(e.customMetadata))),i||null}function Fb(e){return new Map(Object.entries(e||{}))}function IU(e){return new gs(e.isSigned,e.bitWidth)}function AU(e,t){const n=e.type.name;switch(n){case"NONE":return new jl;case"null":return new jl;case"binary":return new Ky;case"utf8":return new mm;case"bool":return new Qy;case"list":return new _m((t||[])[0]);case"struct":return new Xi(t||[]);case"struct_":return new Xi(t||[])}switch(n){case"int":{const r=e.type;return new gs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new hf(ki[r.precision])}case"decimal":{const r=e.type;return new jS(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new gm(ku[r.unit])}case"time":{const r=e.type;return new Ul(on[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new US(on[r.unit],r.timezone)}case"interval":{const r=e.type;return new ym(Du[r.unit])}case"union":{const r=e.type;return new Xy(ea[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new VS(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new vm(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new Jy((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Yd=Il,LBe=_ne,MBe=WS;class lu{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new lu(0,so.V4,n);return r._createHeader=FBe(t,n),r}static decode(t){t=new MBe(On(t));const n=dc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new lu(r,i,s);return o._createHeader=BBe(n,s),o}static encode(t){const n=new LBe;let r=-1;return t.isSchema()?r=gr.encode(n,t.header()):t.isRecordBatch()?r=vo.encode(n,t.header()):t.isDictionaryBatch()&&(r=Lu.encode(n,t.header())),dc.startMessage(n),dc.addVersion(n,so.V4),dc.addHeader(n,r),dc.addHeaderType(n,t.headerType),dc.addBodyLength(n,new Yd(t.bodyLength,0)),dc.finishMessageBuffer(n,dc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof gr)return new lu(0,so.V4,di.Schema,t);if(t instanceof vo)return new lu(n,so.V4,di.RecordBatch,t);if(t instanceof Lu)return new lu(n,so.V4,di.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===di.Schema}isRecordBatch(){return this.headerType===di.RecordBatch}isDictionaryBatch(){return this.headerType===di.DictionaryBatch}}class vo{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Lu{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class hu{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class gh{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function FBe(e,t){return()=>{switch(t){case di.Schema:return gr.fromJSON(e);case di.RecordBatch:return vo.fromJSON(e);case di.DictionaryBatch:return Lu.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${di[t]}, type: ${t} }`)}}function BBe(e,t){return()=>{switch(t){case di.Schema:return gr.decode(e.header(new Ka));case di.RecordBatch:return vo.decode(e.header(new nl),e.version());case di.DictionaryBatch:return Lu.decode(e.header(new Hh),e.version())}throw new Error(`Unrecognized Message type: { name: ${di[t]}, type: ${t} }`)}}In.encode=QBe;In.decode=YBe;In.fromJSON=$Be;gr.encode=KBe;gr.decode=jBe;gr.fromJSON=RBe;vo.encode=XBe;vo.decode=UBe;vo.fromJSON=Vne;Lu.encode=JBe;Lu.decode=VBe;Lu.fromJSON=NBe;gh.encode=ZBe;gh.decode=HBe;hu.encode=eje;hu.decode=zBe;function jBe(e,t=new Map){const n=GBe(e,t);return new gr(n,Bb(e),t)}function UBe(e,t=so.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new vo(e.length(),WBe(e),qBe(e,t))}function VBe(e,t=so.V4){return new Lu(vo.decode(e.data(),t),e.id(),e.isDelta())}function zBe(e){return new hu(e.offset(),e.length())}function HBe(e){return new gh(e.length(),e.nullCount())}function WBe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=gh.decode(n));return t}function qBe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<so.V4&&(r.bb_pos+=8*(i+1)),n[++s]=hu.decode(r));return n}function GBe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=In.decode(r,t));return n}function CU(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=In.decode(r,t));return n}function YBe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=PU(e,CU(e,t)),r=new In(e.name(),i,e.nullable(),Bb(e))):t.has(n=a.id().low)?(s=(s=a.indexType())?OU(s):new df,o=new pf(t.get(n),s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),Bb(e))):(s=(s=a.indexType())?OU(s):new df,t.set(n,i=PU(e,CU(e,t))),o=new pf(i,s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),Bb(e))),r||null}function Bb(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function OU(e){return new gs(e.isSigned(),e.bitWidth())}function PU(e,t){const n=e.typeType();switch(n){case pr.NONE:return new jl;case pr.Null:return new jl;case pr.Binary:return new Ky;case pr.Utf8:return new mm;case pr.Bool:return new Qy;case pr.List:return new _m((t||[])[0]);case pr.Struct_:return new Xi(t||[])}switch(n){case pr.Int:{const r=e.type(new no);return new gs(r.isSigned(),r.bitWidth())}case pr.FloatingPoint:{const r=e.type(new au);return new hf(r.precision())}case pr.Decimal:{const r=e.type(new Ns);return new jS(r.scale(),r.precision(),r.bitWidth())}case pr.Date:{const r=e.type(new $b);return new gm(r.unit())}case pr.Time:{const r=e.type(new jo);return new Ul(r.unit(),r.bitWidth())}case pr.Timestamp:{const r=e.type(new v0);return new US(r.unit(),r.timezone())}case pr.Interval:{const r=e.type(new uu);return new ym(r.unit())}case pr.Union:{const r=e.type(new Ds);return new Xy(r.mode(),r.typeIdsArray()||[],t||[])}case pr.FixedSizeBinary:{const r=e.type(new su);return new VS(r.byteWidth())}case pr.FixedSizeList:{const r=e.type(new ou);return new vm(r.listSize(),(t||[])[0])}case pr.Map:{const r=e.type(new Lb);return new Jy((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${pr[n]}" (${n})`)}function KBe(e,t){const n=t.fields.map(s=>In.encode(e,s));Ka.startFieldsVector(e,n.length);const r=Ka.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Ka.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return Xr.startKeyValue(e),Xr.addKey(e,a),Xr.addValue(e,u),Xr.endKeyValue(e)})):-1;return Ka.startSchema(e),Ka.addFields(e,r),Ka.addEndianness(e,tje?Em.Little:Em.Big),i!==-1&&Ka.addCustomMetadata(e,i),Ka.endSchema(e)}function QBe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Qt.isDictionary(s)?(o=s.dictionary.typeId,i=vO.visit(s,e),r=vO.visit(s.dictionary,e)):r=vO.visit(s,e);const a=(s.children||[]).map(c=>In.encode(e,c)),u=Do.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Do.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Xr.startKeyValue(e),Xr.addKey(e,d),Xr.addValue(e,h),Xr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Do.startField(e),Do.addType(e,r),Do.addTypeType(e,o),Do.addChildren(e,u),Do.addNullable(e,!!t.nullable),n!==-1&&Do.addName(e,n),i!==-1&&Do.addDictionary(e,i),l!==-1&&Do.addCustomMetadata(e,l),Do.endField(e)}function XBe(e,t){const n=t.nodes||[],r=t.buffers||[];nl.startNodesVector(e,n.length);for(const o of n.slice().reverse())gh.encode(e,o);const i=e.endVector();nl.startBuffersVector(e,r.length);for(const o of r.slice().reverse())hu.encode(e,o);const s=e.endVector();return nl.startRecordBatch(e),nl.addLength(e,new Yd(t.length,0)),nl.addNodes(e,i),nl.addBuffers(e,s),nl.endRecordBatch(e)}function JBe(e,t){const n=vo.encode(e,t.data);return Hh.startDictionaryBatch(e),Hh.addId(e,new Yd(t.id,0)),Hh.addIsDelta(e,t.isDelta),Hh.addData(e,n),Hh.endDictionaryBatch(e)}function ZBe(e,t){return Une.createFieldNode(e,new Yd(t.length,0),new Yd(t.nullCount,0))}function eje(e,t){return jne.createBuffer(e,new Yd(t.offset,0),new Yd(t.length,0))}const tje=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),PR="ARROW1",B3=new Uint8Array(PR.length);for(let e=0;e<PR.length;e+=1)B3[e]=PR.codePointAt(e);B3.length;class qr extends an{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof ro?s.data.children:s.data),r=new qr;return r.visitMany(n(t)),r}visit(t){if(t instanceof vn)return this.visitMany(t.data),this;const{type:n}=t;if(!Qt.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Qt.isNull(n)||Na.call(this,i<=0?new Uint8Array(0):P3(t.offset,r,t.nullBitmap)),this.nodes.push(new gh(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Na(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new hu(this._byteLength,t)),this._byteLength+=t,this}function nje(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(Na.call(this,r),t.mode===ea.Sparse)return RR.call(this,e);if(t.mode===ea.Dense){if(e.offset<=0)return Na.call(this,i),RR.call(this,e);{const s=r.reduce((c,f)=>Math.max(c,f),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(n),l=r3(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=l[c]),u[d]=l[d]-f,++o[c];Na.call(this,u);for(let c,f=-1,d=t.children.length;++f<d;)if(c=e.children[f]){const h=t.typeIds[f],p=Math.min(n,o[h]);this.visit(c.slice(a[h],p))}}}return this}function rje(e){let t;return e.nullCount>=e.length?Na.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Na.call(this,P3(e.offset,e.length,t)):Na.call(this,rne(e.values))}function $f(e){return Na.call(this,e.values.subarray(0,e.length*e.stride))}function Wne(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return Na.call(this,r3(-r[0],t,r)),Na.call(this,n.subarray(i,i+o)),this}function j3(e){const{length:t,valueOffsets:n}=e;return n&&Na.call(this,r3(n[0],t,n)),this.visit(e.children[0])}function RR(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}qr.prototype.visitBool=rje;qr.prototype.visitInt=$f;qr.prototype.visitFloat=$f;qr.prototype.visitUtf8=Wne;qr.prototype.visitBinary=Wne;qr.prototype.visitFixedSizeBinary=$f;qr.prototype.visitDate=$f;qr.prototype.visitTimestamp=$f;qr.prototype.visitTime=$f;qr.prototype.visitDecimal=$f;qr.prototype.visitList=j3;qr.prototype.visitStruct=RR;qr.prototype.visitUnion=nje;qr.prototype.visitInterval=$f;qr.prototype.visitFixedSizeList=j3;qr.prototype.visitMap=j3;class qne extends bne{constructor(t){super(),this._position=0,this._started=!1,this._sink=new yO,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Rf(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return rI(t)?t.then(n=>this.writeAll(n)):iI(t)?H3(this,t):z3(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof yO?this._sink=t:(this._sink=new yO,t&&f8e(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&d8e(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!AR(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof $s&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof ro&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!AR(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof ro?t instanceof CBe||this._writeRecordBatch(t):t instanceof $s?this.writeAll(t.batches):t3(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=lu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===di.RecordBatch?this._recordBatchBlocks.push(new mf(a,t.bodyLength,this._position)):t.headerType===di.DictionaryBatch&&this._dictionaryBlocks.push(new mf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=On(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(lu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(B3)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=qr.assemble(t),o=new vo(t.numRows,r,i),a=lu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=qr.assemble(new vn([t])),u=new vo(t.length,s,o),l=new Lu(u,n,r),c=lu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class U3 extends qne{static writeAll(t,n){const r=new U3(n);return rI(t)?t.then(i=>r.writeAll(i)):iI(t)?H3(r,t):z3(r,t)}}class V3 extends qne{static writeAll(t){const n=new V3;return rI(t)?t.then(r=>n.writeAll(r)):iI(t)?H3(n,t):z3(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=IR.encode(new IR(t,so.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function z3(e,t){let n=t;t instanceof $s&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function H3(e,t){var n,r,i,s;return ol(this,void 0,void 0,function*(){try{for(n=X0(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function ije(e,t="stream"){return(t==="stream"?U3:V3).writeAll(e).toUint8Array(!0)}function W3(e,t=1){return(e*t+63&-64||64)/t}function yf(e,t,n=e.BYTES_PER_ELEMENT){return new e(W3(t,n))}function q3(e){return e instanceof Ln?e:new Ln(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function sje(e){return new vn([q3(e)])}const G3=new TextEncoder;function oje(e,t,n){const r=G3.encode(n);return e.set(r,t),r.length}function aje(e,t,n){return G3.encodeInto(n,e.subarray(t)).written}const uje=G3.encodeInto?aje:oje;function RU(e,t){const n=yf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function lje(e,t){const n=yf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function cje(e,t){const n=yf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function fje(e,t){const n=yf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function dje(e){const t=XS({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function hje(e,t,n){const r=yf(Int32Array,t+1),i=yf(Uint8Array,3*n);let s=0;return{set(o,a){s+=uje(i,s,o),r[a+1]=s},data:()=>{const o=W3(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function pje(e,t){const n=[],r=yf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:mje(e.dictionary,n,o)})}}function mje(e,t,n){const r=hje(e,t.length,n);return t.forEach(r.set),sje(r.data())}function gje(e,t){const n=yf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function yje(e,t,n=!0){let r;switch(e.typeId){case J.Int:r=e.bitWidth<64?RU:null;break;case J.Float:r=e.precision>0?RU:null;break;case J.Dictionary:r=e.dictionary.typeId===J.Utf8&&e.indices.typeId===J.Int&&e.indices.bitWidth<64?pje:null;break;case J.Bool:r=lje;break;case J.Date:r=e.unit?fje:cje;break}return r==null?dje(e):n?gje(r(e,t),t):r(e,t)}function _je(e,t){const n=e.length,r=W3(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),q3({type:t,length:n,buffers:[null,i]})}function Gne(e,t,n,r,i=!0){const s=yje(r,e,i);return t(n,s.set),q3(s.data())}function Y3(e){if(e instanceof Qt||e==null)return e;switch(e){case J.Binary:return new Ky;case J.Bool:return new Qy;case J.DateDay:return new I8e;case J.DateMillisecond:case J.Date:return new A8e;case J.Dictionary:return new pf(new mm,new df);case J.Float16:return new Tte;case J.Float32:return new d3;case J.Float64:case J.Float:return new h3;case J.Int8:return new s3;case J.Int16:return new o3;case J.Int32:case J.Int:return new df;case J.Int64:return new a3;case J.IntervalDayTime:return new N8e;case J.Interval:case J.IntervalYearMonth:return new k8e;case J.Null:return new jl;case J.TimeMicrosecond:return new P8e;case J.TimeMillisecond:case J.Time:return new O8e;case J.TimeNanosecond:return new R8e;case J.TimeSecond:return new C8e;case J.Uint8:return new u3;case J.Uint16:return new l3;case J.Uint32:return new c3;case J.Uint64:return new f3;case J.Utf8:return new mm;default:jt(`Unsupported type code: ${Ru(e)}. Use a data type constructor instead?`)}}function vje(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Yne(e,t){const n=NR();return e(t,n.add),n}function NR(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Bl(t))++e.dates,vje(t)&&++e.utcdays;else if(hd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=NR());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=NR())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return Y3(bje(e))}};return e}function bje(e){const t=e.count-e.nulls;if(t===0)return J.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?J.Float64:n<128?J.Int8:n<32768?J.Int16:J.Int32:n>=2**32?J.Float64:n<256?J.Uint8:n<65536?J.Uint16:J.Uint32}else{if(e.nums===t)return J.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?J.Int64:jt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?J.Uint64:jt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return J.Bool;if(e.utcdays===t)return J.DateDay;if(e.dates===t)return J.DateMillisecond;if(e.arrays===t){const n=In.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new vm(e.minlen,n):new _m(n)}else if(e.structs===t){const n=e.struct_prof;return new Xi(Object.keys(n).map(r=>In.new(r,n[r].type(),!0)))}else{if(e.strings>0)return J.Dictionary;jt("Type inference failure")}}}}function Eje(e,t,n,r,i,s=!0){if(i=Y3(i),!i){const o=Yne(r,t);s=o.nulls>0,i=o.type()}return Gne(n,r,t,i,s)}function wje(e,t,n,r,i,s=!0){i=Y3(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=Sje(o);if(u&&a&&NU(u.type,i))return u;const l=o.data;if(rv(l)){const c=Tje(l);if(a&&c&&NU(c,i))return _je(l,c);i=i||c,s=!1}if(!i){const c=Yne(r,o);s=c.nulls>0,i=c.type()}return Gne(n,r,o,i,s)}function Sje(e){return e instanceof vn?e:e.vector instanceof vn?e.vector:null}function Tje(e){const n={Float32Array:d3,Float64Array:h3,Int8Array:s3,Int16Array:o3,Int32Array:df,Uint8Array:u3,Uint16Array:l3,Uint32Array:c3,BigInt64Array:a3,BigUint64Array:f3}[e.constructor.name];return n?new n:null}function NU(e,t){return!e||!t?!0:e.compareTo(t)}function xje(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function Ije(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&hd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const Aje=()=>jt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function Cje(){try{return $s}catch{Aje()}}function Kne(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=Oje(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&jt("Column length mismatch"),a[l]=c});const u=Cje();return new u(a)}function Oje(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=Zn(n)?n(e):_n(n)?n:null;if(_n(e))return{dataFrom:Eje,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:xje(e,r,i)};if(Pje(e))return{dataFrom:wje,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:Ije(e,r,i)};jt("Unsupported input data type")}function Pje(e){return e&&Zn(e.reify)}function Rje(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return ije(Kne(e,r),n)}function Nje(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function kje(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&Bl(u))++i,Nje(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function hI(e,t){return Zn(t)?t(e):t||e.columnNames()}function Qne(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=kje(Dje(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function Dje(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function K3(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function $je(e,t={}){const n=hI(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":Bl(l)?tI(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return K3(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function Xne(e,t={}){if(Zn(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Bl(e))return t.utc?tI(e):Oee(e);{const r=JSON.stringify(e,(s,o)=>rv(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function pI(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function Lje(e,t={}){const n=hI(e,t.columns),{align:r,format:i}=Qne(e,n,t),s=Mje(t),o=t.null,a=g=>g==="c"?"center":g==="r"?"right":"left",u=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(g,y)=>u(Xne(g,y)),c=o?(g,y)=>g==null?o(g):l(g,y):l;let f=-1,d=-1;const h=(g,y,m)=>{const _=m?a(r[y]):"",v=s[g]&&s[g](y,d,f)||"",w=(_?`text-align: ${_};`+(v?" ":""):"")+v;return`<${g}${w?` style="${w}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(g=>`${h("th",g,1)}${g}</th>`).join("")+"</tr></thead>"+h("tbody");return K3(e,n,t.limit,t.offset,{row(g){f=g,p+=(++d?"</tr>":"")+h("tr")},cell(g,y){p+=h("td",y,1)+c(g,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function Mje(e){return pI(e.style,t=>Zn(t)?t:()=>t)}function Fje(e,t=!0,n=!1){return e===void 0||e?t:n}const Bje=e=>Bl(e)?tI(e,!0):e;function jje(e,t={}){const n=Fje(t.schema),r=t.format||{},i=hI(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||Bje;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function Uje(e,t={}){const n=hI(e,t.columns),{align:r,format:i}=Qne(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return K3(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(Xne(u,i[l]))+"|"}}),a+`
`}function Jne(e,t){for(const[n,r]of nI(t))e.set(n,r);return e}function Vje(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Vl(e,t,n=new Map){return t=ms(t)?e.columnName(t):t,Mi(t)?n.set(t,t):_n(t)?t.forEach(r=>Vl(e,r,n)):Zn(t)?Vl(e,t(e),n):ts(t)?Jne(n,t):jt(`Invalid column selection: ${Ru(t)}`),n}function mI(e,t){return e.toObject=t,e}function Zne(e){return _n(e)?e.map(Zne):e&&e.toObject?e.toObject():e}function Sm(){return mI(e=>e.columnNames(),()=>({all:[]}))}function ere(...e){return e=e.flat(),mI(t=>{const n=Vl(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:Zne(e)}))}function zje(e,t){return mI(n=>{let r=ms(e)?e:n.columnIndex(e),i=ms(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function Hje(e){return Mi(e)&&(e=RegExp(Vje(e))),mI(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function Wje(e){return rv(e.data)?e.data.constructor:Array}class ll extends cFe{static from(t,n){return new ll(hFe(t,n),n)}static new(t,n){if(t instanceof ll)return t;const r={},i=[];for(const[s,o]of nI(t))r[s]=o,i.push(s);return new ll(r,n||i)}constructor(t,n,r,i,s,o){pI(t,dFe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new ll(t||this._data,n||(t?null:this._names),o,i!==void 0?i:VFe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Co(r).groupby(r.groups());return t.forEach(s=>{s=ll.new(s),s.numRows()!==n&&jt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):jt(`Unrecognized column: ${t}`)}object(t=0){return kU(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=Vl(this,t.columns||Sm()),o=ete(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),HFe(this,u,a,n)}return a}*[Symbol.iterator](){const t=kU(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(Wje(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=zFe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return Kne(this,t)}toArrowBuffer(t){return Rje(this,t)}toCSV(t){return $je(this,t)}toHTML(t){return Lje(this,t)}toJSON(t){return jje(this,t)}toMarkdown(t){return Uje(this,t)}}function kU(e){let t=e._builder;if(!t){const n=ete(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class qje{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function fn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=Gje[e.type];s&&s(e,t,n)}const $1=(e,t,n)=>{fn(e.argument,t,n,e)},bO=(e,t,n)=>{fn(e.left,t,n,e),fn(e.right,t,n,e)},DU=(e,t,n)=>{fn(e.test,t,n,e),fn(e.consequent,t,n,e),e.alternate&&fn(e.alternate,t,n,e)},EO=(e,t,n)=>{Qa(e.params,t,n,e),fn(e.body,t,n,e)},$U=(e,t,n)=>{fn(e.callee,t,n,e),Qa(e.arguments,t,n,e)},Qa=(e,t,n,r)=>{e.forEach(i=>fn(i,t,n,r))},Gje={TemplateLiteral:(e,t,n)=>{Qa(e.expressions,t,n,e),Qa(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{fn(e.object,t,n,e),fn(e.property,t,n,e)},CallExpression:$U,NewExpression:$U,ArrayExpression:(e,t,n)=>{Qa(e.elements,t,n,e)},AssignmentExpression:bO,AwaitExpression:$1,BinaryExpression:bO,LogicalExpression:bO,UnaryExpression:$1,UpdateExpression:$1,ConditionalExpression:DU,ObjectExpression:(e,t,n)=>{Qa(e.properties,t,n,e)},Property:(e,t,n)=>{fn(e.key,t,n,e),fn(e.value,t,n,e)},ArrowFunctionExpression:EO,FunctionExpression:EO,FunctionDeclaration:EO,VariableDeclaration:(e,t,n)=>{Qa(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{fn(e.id,t,n,e),fn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{fn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{Qa(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{fn(e.expression,t,n,e)},IfStatement:DU,ForStatement:(e,t,n)=>{fn(e.init,t,n,e),fn(e.test,t,n,e),fn(e.update,t,n,e),fn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{fn(e.test,t,n,e),fn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{fn(e.body,t,n,e),fn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{fn(e.discriminant,t,n,e),Qa(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&fn(e.test,t,n,e),Qa(e.consequent,t,n,e)},ReturnStatement:$1,Program:(e,t,n)=>{fn(e.body[0],t,n,e)}};function tre(e){delete e.start,delete e.end,delete e.optional}function LU(e){tre(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Yje(e){return fn(e,null,{Column:LU,Constant:LU,Default:tre}),e}function Jr(e,t){return t&&t.type===e}function Kje(e){return Jr(GFe,e)||Jr(qFe,e)}function Qje(e){return Zn(e)?e:()=>e}const Xje="Escaped functions are not valid as rollup or pivot values.";function Jje(e,t,n){e.aggronly&&jt(Xje);const r="(row,data)=>fn("+Zee(e.table.columnNames())+",$)";return{escape:J$.escape(r,Qje(t.expr),n)}}var Zje=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],nre=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],eUe="-----------------------------------------------------------------------------------------------------------------------------------------------------",rre="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",wO={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},SO="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",tUe={5:SO,"5module":SO+" export import",6:SO+" const class extends export import super"},nUe=/^in(stanceof)?$/,rUe=new RegExp("["+rre+"]"),iUe=new RegExp("["+rre+eUe+"]");function kR(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function zl(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&rUe.test(String.fromCharCode(e)):t===!1?!1:kR(e,nre)}function Tm(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&iUe.test(String.fromCharCode(e)):t===!1?!1:kR(e,nre)||kR(e,Zje)}var dn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function No(e,t){return new dn(e,{beforeExpr:!0,binop:t})}var ko={beforeExpr:!0},Ss={startsExpr:!0},Q3={};function nn(e,t){return t===void 0&&(t={}),t.keyword=e,Q3[e]=new dn(e,t)}var k={num:new dn("num",Ss),regexp:new dn("regexp",Ss),string:new dn("string",Ss),name:new dn("name",Ss),privateId:new dn("privateId",Ss),eof:new dn("eof"),bracketL:new dn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new dn("]"),braceL:new dn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new dn("}"),parenL:new dn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new dn(")"),comma:new dn(",",ko),semi:new dn(";",ko),colon:new dn(":",ko),dot:new dn("."),question:new dn("?",ko),questionDot:new dn("?."),arrow:new dn("=>",ko),template:new dn("template"),invalidTemplate:new dn("invalidTemplate"),ellipsis:new dn("...",ko),backQuote:new dn("`",Ss),dollarBraceL:new dn("${",{beforeExpr:!0,startsExpr:!0}),eq:new dn("=",{beforeExpr:!0,isAssign:!0}),assign:new dn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new dn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new dn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:No("||",1),logicalAND:No("&&",2),bitwiseOR:No("|",3),bitwiseXOR:No("^",4),bitwiseAND:No("&",5),equality:No("==/!=/===/!==",6),relational:No("</>/<=/>=",7),bitShift:No("<</>>/>>>",8),plusMin:new dn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:No("%",10),star:No("*",10),slash:No("/",10),starstar:new dn("**",{beforeExpr:!0}),coalesce:No("??",1),_break:nn("break"),_case:nn("case",ko),_catch:nn("catch"),_continue:nn("continue"),_debugger:nn("debugger"),_default:nn("default",ko),_do:nn("do",{isLoop:!0,beforeExpr:!0}),_else:nn("else",ko),_finally:nn("finally"),_for:nn("for",{isLoop:!0}),_function:nn("function",Ss),_if:nn("if"),_return:nn("return",ko),_switch:nn("switch"),_throw:nn("throw",ko),_try:nn("try"),_var:nn("var"),_const:nn("const"),_while:nn("while",{isLoop:!0}),_with:nn("with"),_new:nn("new",{beforeExpr:!0,startsExpr:!0}),_this:nn("this",Ss),_super:nn("super",Ss),_class:nn("class",Ss),_extends:nn("extends",ko),_export:nn("export"),_import:nn("import",Ss),_null:nn("null",Ss),_true:nn("true",Ss),_false:nn("false",Ss),_in:nn("in",{beforeExpr:!0,binop:7}),_instanceof:nn("instanceof",{beforeExpr:!0,binop:7}),_typeof:nn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:nn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:nn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},sa=/\r\n?|\n|\u2028|\u2029/,sUe=new RegExp(sa.source,"g");function Zm(e){return e===10||e===13||e===8232||e===8233}function ire(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Zm(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var sre=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Uo=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ore=Object.prototype,oUe=ore.hasOwnProperty,aUe=ore.toString,lv=Object.hasOwn||function(e,t){return oUe.call(e,t)},MU=Array.isArray||function(e){return aUe.call(e)==="[object Array]"},FU=Object.create(null);function Lc(e){return FU[e]||(FU[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function _f(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var uUe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Zy=function(t,n){this.line=t,this.column=n};Zy.prototype.offset=function(t){return new Zy(this.line,this.column+t)};var gI=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function are(e,t){for(var n=1,r=0;;){var i=ire(e,r,t);if(i<0)return new Zy(n,t-r);++n,r=i}}var DR={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},BU=!1;function lUe(e){var t={};for(var n in DR)t[n]=e&&lv(e,n)?e[n]:DR[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!BU&&typeof console=="object"&&console.warn&&(BU=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),MU(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return MU(t.onComment)&&(t.onComment=cUe(t,t.onComment)),t}function cUe(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new gI(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var e_=1,eg=2,X3=4,ure=8,lre=16,cre=32,J3=64,fre=128,cv=256,Z3=e_|eg|cv;function e6(e,t){return eg|(e?X3:0)|(t?ure:0)}var tT=0,t6=1,oc=2,dre=3,hre=4,pre=5,ii=function(t,n,r){this.options=t=lUe(t),this.sourceFile=t.sourceFile,this.keywords=Lc(tUe[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=wO[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=Lc(i);var s=(i?i+" ":"")+wO.strict;this.reservedWordsStrict=Lc(s),this.reservedWordsStrictBind=Lc(s+" "+wO.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(sa).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=k.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(e_),this.regexpState=null,this.privateNameStack=[]},Wu={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ii.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Wu.inFunction.get=function(){return(this.currentVarScope().flags&eg)>0};Wu.inGenerator.get=function(){return(this.currentVarScope().flags&ure)>0&&!this.currentVarScope().inClassFieldInit};Wu.inAsync.get=function(){return(this.currentVarScope().flags&X3)>0&&!this.currentVarScope().inClassFieldInit};Wu.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&cv)return!1;if(t.flags&eg)return(t.flags&X3)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Wu.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&J3)>0||n||this.options.allowSuperOutsideMethod};Wu.allowDirectSuper.get=function(){return(this.currentThisScope().flags&fre)>0};Wu.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Wu.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(eg|cv))>0||n};Wu.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&cv)>0};ii.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ii.parse=function(t,n){return new this(n,t).parse()};ii.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ii.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ii.prototype,Wu);var vs=ii.prototype,fUe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;vs.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Uo.lastIndex=e,e+=Uo.exec(this.input)[0].length;var t=fUe.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Uo.lastIndex=e+t[0].length;var n=Uo.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||sa.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Uo.lastIndex=e,e+=Uo.exec(this.input)[0].length,this.input[e]===";"&&e++}};vs.eat=function(e){return this.type===e?(this.next(),!0):!1};vs.isContextual=function(e){return this.type===k.name&&this.value===e&&!this.containsEsc};vs.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};vs.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};vs.canInsertSemicolon=function(){return this.type===k.eof||this.type===k.braceR||sa.test(this.input.slice(this.lastTokEnd,this.start))};vs.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};vs.semicolon=function(){!this.eat(k.semi)&&!this.insertSemicolon()&&this.unexpected()};vs.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};vs.expect=function(e){this.eat(e)||this.unexpected()};vs.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var yI=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};vs.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};vs.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};vs.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};vs.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var st=ii.prototype;st.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==k.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var n6={kind:"loop"},dUe={kind:"switch"};st.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Uo.lastIndex=this.pos;var t=Uo.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(zl(r,!0)){for(var i=n+1;Tm(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!nUe.test(s))return!0}return!1};st.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Uo.lastIndex=this.pos;var e=Uo.exec(this.input),t=this.pos+e[0].length,n;return!sa.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Tm(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};st.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=k._var,s="let"),r){case k._break:case k._continue:return this.parseBreakContinueStatement(i,r.keyword);case k._debugger:return this.parseDebuggerStatement(i);case k._do:return this.parseDoStatement(i);case k._for:return this.parseForStatement(i);case k._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case k._class:return e&&this.unexpected(),this.parseClass(i,!0);case k._if:return this.parseIfStatement(i);case k._return:return this.parseReturnStatement(i);case k._switch:return this.parseSwitchStatement(i);case k._throw:return this.parseThrowStatement(i);case k._try:return this.parseTryStatement(i);case k._const:case k._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case k._while:return this.parseWhileStatement(i);case k._with:return this.parseWithStatement(i);case k.braceL:return this.parseBlock(!0,i);case k.semi:return this.parseEmptyStatement(i);case k._export:case k._import:if(this.options.ecmaVersion>10&&r===k._import){Uo.lastIndex=this.pos;var o=Uo.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===k._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===k.name&&c.type==="Identifier"&&this.eat(k.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};st.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(k.semi)||this.insertSemicolon()?e.label=null:this.type!==k.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};st.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};st.parseDoStatement=function(e){return this.next(),this.labels.push(n6),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(k._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(k.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};st.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(n6),this.enterScope(0),this.expect(k.parenL),this.type===k.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===k._var||this.type===k._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===k._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new yI,u=this.parseExpression(t>-1?"await":!0,a);return this.type===k._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===k._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};st.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,Z0|(n?0:$R),!1,t)};st.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(k._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};st.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(k.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};st.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(k.braceL),this.labels.push(dUe),this.enterScope(0);for(var t,n=!1;this.type!==k.braceR;)if(this.type===k._case||this.type===k._default){var r=this.type===k._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(k.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};st.parseThrowStatement=function(e){return this.next(),sa.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var hUe=[];st.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?cre:0),this.checkLValPattern(e,t?hre:oc),this.expect(k.parenR),e};st.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===k._catch){var t=this.startNode();this.next(),this.eat(k.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(k._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};st.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};st.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(n6),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};st.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};st.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};st.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===k._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};st.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};st.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(k.braceL),e&&this.enterScope(0);this.type!==k.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};st.parseFor=function(e,t){return e.init=t,this.expect(k.semi),e.test=this.type===k.semi?null:this.parseExpression(),this.expect(k.semi),e.update=this.type===k.parenR?null:this.parseExpression(),this.expect(k.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};st.parseForIn=function(e,t){var n=this.type===k._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(k.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};st.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(k.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===k._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(k.comma))break}return e};st.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?t6:oc,!1)};var Z0=1,$R=2,mre=4;st.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===k.star&&t&$R&&this.unexpected(),e.generator=this.eat(k.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&Z0&&(e.id=t&mre&&this.type!==k.name?null:this.parseIdent(),e.id&&!(t&$R)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?t6:oc:dre));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(e6(e.async,e.generator)),t&Z0||(e.id=this.type===k.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&Z0?"FunctionDeclaration":"FunctionExpression")};st.parseFunctionParams=function(e){this.expect(k.parenL),e.params=this.parseBindingList(k.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};st.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(k.braceL);this.type!==k.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&pUe(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};st.parseClassElement=function(e){if(this.eat(k.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(k.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===k.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===k.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(k.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===k.parenL||o!=="method"||i||s){var l=!n.static&&nT(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};st.isClassElementNameStart=function(){return this.type===k.name||this.type===k.privateId||this.type===k.num||this.type===k.string||this.type===k.bracketL||this.type.keyword};st.parseClassElementName=function(e){this.type===k.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};st.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&nT(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};st.parseClassField=function(e){if(nT(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&nT(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(k.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};st.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(cv|J3);this.type!==k.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};st.parseClassId=function(e,t){this.type===k.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,oc,!1)):(t===!0&&this.unexpected(),e.id=null)};st.parseClassSuper=function(e){e.superClass=this.eat(k._extends)?this.parseExprSubscripts(null,!1):null};st.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};st.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];lv(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function pUe(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function nT(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}st.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==k.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};st.parseExport=function(e,t){if(this.next(),this.eat(k.star))return this.parseExportAllDeclaration(e,t);if(this.eat(k._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==k.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};st.parseExportDeclaration=function(e){return this.parseStatement(null)};st.parseExportDefaultDeclaration=function(){var e;if(this.type===k._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,Z0|mre,!1,e)}else if(this.type===k._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};st.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),lv(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};st.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};st.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};st.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};st.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};st.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(k.braceL);!this.eat(k.braceR);){if(n)n=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;t.push(this.parseExportSpecifier(e))}return t};st.parseImport=function(e){return this.next(),this.type===k.string?(e.specifiers=hUe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===k.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};st.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,oc),this.finishNode(e,"ImportSpecifier")};st.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,oc),this.finishNode(e,"ImportDefaultSpecifier")};st.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,oc),this.finishNode(e,"ImportNamespaceSpecifier")};st.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===k.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(k.comma)))return e;if(this.type===k.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(k.braceL);!this.eat(k.braceR);){if(t)t=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;e.push(this.parseImportSpecifier())}return e};st.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===k.string){var e=this.parseLiteral(this.value);return uUe.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};st.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};st.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var oa=ii.prototype;oa.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};oa.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};oa.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};oa.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==k.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};oa.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case k.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(k.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case k.braceL:return this.parseObj(!0)}return this.parseIdent()};oa.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(k.comma),t&&this.type===k.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===k.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};oa.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};oa.parseBindingListItem=function(e){return e};oa.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(k.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};oa.checkLValSimple=function(e,t,n){t===void 0&&(t=tT);var r=t!==tT;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===oc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(lv(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==pre&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};oa.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=tT),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};oa.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=tT),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var ma=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},lr={b_stat:new ma("{",!1),b_expr:new ma("{",!0),b_tmpl:new ma("${",!1),p_stat:new ma("(",!1),p_expr:new ma("(",!0),q_tmpl:new ma("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ma("function",!1),f_expr:new ma("function",!0),f_expr_gen:new ma("function",!0,!1,null,!0),f_gen:new ma("function",!1,!1,null,!0)},tg=ii.prototype;tg.initialContext=function(){return[lr.b_stat]};tg.curContext=function(){return this.context[this.context.length-1]};tg.braceIsBlock=function(e){var t=this.curContext();return t===lr.f_expr||t===lr.f_stat?!0:e===k.colon&&(t===lr.b_stat||t===lr.b_expr)?!t.isExpr:e===k._return||e===k.name&&this.exprAllowed?sa.test(this.input.slice(this.lastTokEnd,this.start)):e===k._else||e===k.semi||e===k.eof||e===k.parenR||e===k.arrow?!0:e===k.braceL?t===lr.b_stat:e===k._var||e===k._const||e===k.name?!1:!this.exprAllowed};tg.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};tg.updateContext=function(e){var t,n=this.type;n.keyword&&e===k.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};tg.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};k.parenR.updateContext=k.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===lr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};k.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?lr.b_stat:lr.b_expr),this.exprAllowed=!0};k.dollarBraceL.updateContext=function(){this.context.push(lr.b_tmpl),this.exprAllowed=!0};k.parenL.updateContext=function(e){var t=e===k._if||e===k._for||e===k._with||e===k._while;this.context.push(t?lr.p_stat:lr.p_expr),this.exprAllowed=!0};k.incDec.updateContext=function(){};k._function.updateContext=k._class.updateContext=function(e){e.beforeExpr&&e!==k._else&&!(e===k.semi&&this.curContext()!==lr.p_stat)&&!(e===k._return&&sa.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===k.colon||e===k.braceL)&&this.curContext()===lr.b_stat)?this.context.push(lr.f_expr):this.context.push(lr.f_stat),this.exprAllowed=!1};k.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};k.backQuote.updateContext=function(){this.curContext()===lr.q_tmpl?this.context.pop():this.context.push(lr.q_tmpl),this.exprAllowed=!1};k.star.updateContext=function(e){if(e===k._function){var t=this.context.length-1;this.context[t]===lr.f_expr?this.context[t]=lr.f_expr_gen:this.context[t]=lr.f_gen}this.exprAllowed=!0};k.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==k.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var vt=ii.prototype;vt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};vt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===k.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(k.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};vt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new yI,r=!0);var a=this.start,u=this.startLoc;(this.type===k.parenL||this.type===k.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===k.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===k.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};vt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(k.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(k.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};vt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};vt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==k._in)&&s>r){var o=this.type===k.logicalOR||this.type===k.logicalAND,a=this.type===k.coalesce;a&&(s=k.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===k.coalesce||a&&(this.type===k.logicalOR||this.type===k.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};vt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};vt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===k.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&gre(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===k.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==k._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(k.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function gre(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&gre(e.expression)}vt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};vt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};vt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(k.arrow)};vt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};vt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(k.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(k.bracketL);if(l||u&&this.type!==k.parenL&&this.type!==k.backQuote||this.eat(k.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(k.bracketR)):this.type===k.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(k.parenL)){var f=new yI,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(k.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,g,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=g,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===k.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e};vt.parseExprAtom=function(e,t,n){this.type===k.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case k._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===k.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==k.dot&&this.type!==k.bracketL&&this.type!==k.parenL&&this.unexpected(),this.finishNode(r,"Super");case k._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case k.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(k._function))return this.overrideContext(lr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(k.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===k.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(k.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case k.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case k.num:case k.string:return this.parseLiteral(this.value);case k._null:case k._true:case k._false:return r=this.startNode(),r.value=this.type===k._null?null:this.type===k._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case k.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case k.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(k.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case k.braceL:return this.overrideContext(lr.b_expr),this.parseObj(!1,e);case k._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case k._class:return this.parseClass(this.startNode(),!1);case k._new:return this.parseNew();case k.backQuote:return this.parseTemplate();case k._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};vt.parseExprAtomDefault=function(){this.unexpected()};vt.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===k.parenL&&!e)return this.parseDynamicImport(t);if(this.type===k.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};vt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(k.parenR)){var t=this.start;this.eat(k.comma)&&this.eat(k.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};vt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};vt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};vt.parseParenExpression=function(){this.expect(k.parenL);var e=this.parseExpression();return this.expect(k.parenR),e};vt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};vt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new yI,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==k.parenR;)if(l?l=!1:this.expect(k.comma),s&&this.afterTrailingComma(k.parenR,!0)){c=!0;break}else if(this.type===k.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(k.parenR),e&&this.shouldParseArrow(u)&&this.eat(k.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",g,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=i,this.finishNode(m,"ParenthesizedExpression")}else return i};vt.parseParenItem=function(e){return e};vt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var mUe=[];vt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===k.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(k.parenL)?e.arguments=this.parseExprList(k.parenR,this.options.ecmaVersion>=8,!1):e.arguments=mUe,this.finishNode(e,"NewExpression")};vt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===k.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===k.backQuote,this.finishNode(n,"TemplateElement")};vt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===k.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(k.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(k.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};vt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===k.name||this.type===k.num||this.type===k.string||this.type===k.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===k.star)&&!sa.test(this.input.slice(this.lastTokEnd,this.start))};vt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(k.braceR);){if(r)r=!1;else if(this.expect(k.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(k.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};vt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(k.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===k.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(k.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(k.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};vt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};vt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===k.colon&&this.unexpected(),this.eat(k.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===k.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==k.comma&&this.type!==k.braceR&&this.type!==k.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===k.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};vt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(k.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(k.bracketR),e.key;e.computed=!1}return e.key=this.type===k.num||this.type===k.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};vt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};vt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(e6(t,r.generator)|J3|(n?fre:0)),this.expect(k.parenL),r.params=this.parseBindingList(k.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};vt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(e6(n,!1)|lre),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};vt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==k.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,pre),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};vt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};vt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t6,t?null:n)}};vt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(k.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===k.comma?o=null:this.type===k.ellipsis?(o=this.parseSpread(r),r&&this.type===k.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};vt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};vt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};vt.parseIdentNode=function(){var e=this.startNode();return this.type===k.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=k.name):this.unexpected(),e};vt.parsePrivateIdent=function(){var e=this.startNode();return this.type===k.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};vt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===k.semi||this.canInsertSemicolon()||this.type!==k.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(k.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};vt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var rT=ii.prototype;rT.raise=function(e,t){var n=are(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};rT.raiseRecoverable=rT.raise;rT.curPosition=function(){if(this.options.locations)return new Zy(this.curLine,this.pos-this.lineStart)};var Lf=ii.prototype,gUe=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Lf.enterScope=function(e){this.scopeStack.push(new gUe(e))};Lf.exitScope=function(){this.scopeStack.pop()};Lf.treatFunctionsAsVarInScope=function(e){return e.flags&eg||!this.inModule&&e.flags&e_};Lf.declareName=function(e,t,n){var r=!1;if(t===oc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&e_&&delete this.undefinedExports[e]}else if(t===hre){var s=this.currentScope();s.lexical.push(e)}else if(t===dre){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&cre&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&e_&&delete this.undefinedExports[e],u.flags&Z3)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};Lf.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Lf.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Lf.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Z3)return t}};Lf.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Z3&&!(t.flags&lre))return t}};var _I=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new gI(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},fv=ii.prototype;fv.startNode=function(){return new _I(this,this.start,this.startLoc)};fv.startNodeAt=function(e,t){return new _I(this,e,t)};function yre(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}fv.finishNode=function(e,t){return yre.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};fv.finishNodeAt=function(e,t,n,r){return yre.call(this,e,t,n,r)};fv.copyNode=function(e){var t=new _I(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var _re="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",vre=_re+" Extended_Pictographic",bre=vre,Ere=bre+" EBase EComp EMod EPres ExtPict",wre=Ere,yUe=wre,_Ue={9:_re,10:vre,11:bre,12:Ere,13:wre,14:yUe},vUe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",bUe={9:"",10:"",11:"",12:"",13:"",14:vUe},jU="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Sre="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Tre=Sre+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",xre=Tre+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ire=xre+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Are=Ire+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",EUe=Are+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",wUe={9:Sre,10:Tre,11:xre,12:Ire,13:Are,14:EUe},Cre={};function SUe(e){var t=Cre[e]={binary:Lc(_Ue[e]+" "+jU),binaryOfStrings:Lc(bUe[e]),nonBinary:{General_Category:Lc(jU),Script:Lc(wUe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var TO=0,UU=[9,10,11,12,13,14];TO<UU.length;TO+=1){var TUe=UU[TO];SUe(TUe)}var Je=ii.prototype,qu=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Cre[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};qu.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};qu.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};qu.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};qu.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};qu.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};qu.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};qu.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};qu.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};qu.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Je.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Je.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Je.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Je.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Je.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Je.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Je.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Je.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Je.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Je.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Je.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Je.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Je.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Je.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Je.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Je.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Je.regexp_eatSyntaxCharacter=function(e){var t=e.current();return Ore(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Ore(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Je.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!Ore(n);)e.advance();return e.pos!==t};Je.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Je.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Je.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Je.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=_f(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=_f(e.lastIntValue);return!0}return!1};Je.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),xUe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function xUe(e){return zl(e,!0)||e===36||e===95}Je.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),IUe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function IUe(e){return Tm(e,!0)||e===36||e===95||e===8204||e===8205}Je.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Je.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Je.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Je.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Je.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Je.regexp_eatZero=function(e){return e.current()===48&&!vI(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Je.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Je.regexp_eatControlLetter=function(e){var t=e.current();return Pre(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Pre(e){return e>=65&&e<=90||e>=97&&e<=122}Je.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&AUe(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function AUe(e){return e>=0&&e<=1114111}Je.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Je.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Rre=0,Hl=1,zo=2;Je.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(CUe(t))return e.lastIntValue=-1,e.advance(),Hl;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===zo&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Rre};function CUe(e){return e===100||e===68||e===115||e===83||e===119||e===87}Je.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Hl}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Rre};Je.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){lv(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Je.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Hl;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return zo;e.raise("Invalid property name")};Je.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Nre(t=e.current());)e.lastStringValue+=_f(t),e.advance();return e.lastStringValue!==""};function Nre(e){return Pre(e)||e===95}Je.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";OUe(t=e.current());)e.lastStringValue+=_f(t),e.advance();return e.lastStringValue!==""};function OUe(e){return Nre(e)||vI(e)}Je.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Je.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===zo&&e.raise("Negated character class may contain strings"),!0}return!1};Je.regexp_classContents=function(e){return e.current()===93?Hl:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Hl)};Je.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Je.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||$re(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Je.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Je.regexp_classSetExpression=function(e){var t=Hl,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===zo&&(t=zo);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==zo&&(t=Hl);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===zo&&(t=zo)}};Je.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Je.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Hl:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Je.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===zo&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Je.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Je.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===zo&&(t=zo);return t};Je.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Hl:zo};Je.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&PUe(n)||RUe(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function PUe(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function RUe(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Je.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return NUe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function NUe(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Je.regexp_eatClassControlLetter=function(e){var t=e.current();return vI(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Je.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Je.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;vI(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function vI(e){return e>=48&&e<=57}Je.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;kre(n=e.current());)e.lastIntValue=16*e.lastIntValue+Dre(n),e.advance();return e.pos!==t};function kre(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Dre(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Je.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Je.regexp_eatOctalDigit=function(e){var t=e.current();return $re(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function $re(e){return e>=48&&e<=55}Je.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!kre(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Dre(i),e.advance()}return!0};var r6=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new gI(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Jt=ii.prototype;Jt.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new r6(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Jt.getToken=function(){return this.next(),new r6(this)};typeof Symbol<"u"&&(Jt[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===k.eof,value:t}}}});Jt.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(k.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Jt.readToken=function(e){return zl(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Jt.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Jt.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=ire(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Jt.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Zm(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Jt.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&sre.test(String.fromCharCode(e)))++this.pos;else break e}}};Jt.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Jt.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(k.ellipsis)):(++this.pos,this.finishToken(k.dot))};Jt.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(k.assign,2):this.finishOp(k.slash,1)};Jt.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?k.star:k.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=k.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(k.assign,n+1):this.finishOp(r,n)};Jt.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(k.assign,3)}return this.finishOp(e===124?k.logicalOR:k.logicalAND,2)}return t===61?this.finishOp(k.assign,2):this.finishOp(e===124?k.bitwiseOR:k.bitwiseAND,1)};Jt.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(k.assign,2):this.finishOp(k.bitwiseXOR,1)};Jt.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||sa.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(k.incDec,2):t===61?this.finishOp(k.assign,2):this.finishOp(k.plusMin,1)};Jt.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(k.assign,n+1):this.finishOp(k.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(k.relational,n))};Jt.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(k.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(k.arrow)):this.finishOp(e===61?k.eq:k.prefix,1)};Jt.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(k.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(k.assign,3)}return this.finishOp(k.coalesce,2)}}return this.finishOp(k.question,1)};Jt.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),zl(t,!0)||t===92))return this.finishToken(k.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+_f(t)+"'")};Jt.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(k.parenL);case 41:return++this.pos,this.finishToken(k.parenR);case 59:return++this.pos,this.finishToken(k.semi);case 44:return++this.pos,this.finishToken(k.comma);case 91:return++this.pos,this.finishToken(k.bracketL);case 93:return++this.pos,this.finishToken(k.bracketR);case 123:return++this.pos,this.finishToken(k.braceL);case 125:return++this.pos,this.finishToken(k.braceR);case 58:return++this.pos,this.finishToken(k.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(k.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(k.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+_f(e)+"'")};Jt.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Jt.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(sa.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new qu(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(k.regexp,{pattern:i,flags:o,value:u})};Jt.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function kUe(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Lre(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Jt.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Lre(this.input.slice(t,this.pos)),++this.pos):zl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,n)};Jt.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Lre(this.input.slice(t,this.pos));return++this.pos,zl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),zl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=kUe(this.input.slice(t,this.pos),n);return this.finishToken(k.num,s)};Jt.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Jt.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Zm(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(k.string,t)};var Mre={};Jt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Mre)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Jt.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Mre;this.raise(e,t)};Jt.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===k.template||this.type===k.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(k.dollarBraceL)):(++this.pos,this.finishToken(k.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(k.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Zm(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Jt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(k.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Jt.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return _f(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Zm(t)?"":String.fromCharCode(t)}};Jt.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Jt.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(Tm(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?zl:Tm)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=_f(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Jt.readWord=function(){var e=this.readWord1(),t=k.name;return this.keywords.test(e)&&(t=Q3[e]),this.finishToken(t,e)};var DUe="8.11.2";ii.acorn={Parser:ii,version:DUe,defaultOptions:DR,Position:Zy,SourceLocation:gI,getLineInfo:are,Node:_I,TokenType:dn,tokTypes:k,keywordTypes:Q3,TokContext:ma,tokContexts:lr,isIdentifierChar:Tm,isIdentifierStart:zl,Token:r6,isNewLine:Zm,lineBreak:sa,lineBreakG:sUe,nonASCIIwhitespace:sre};function $Ue(e,t){return ii.parse(e,t)}const i6={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},LUe={ecmaVersion:11},VU="$",MUe="d",FUe="d1",BUe="d2",xi=e=>(t,n)=>n.error(t,e+" not allowed"),jUe=xi("Aggregate function"),UUe=xi("Window function"),VUe="Invalid argument",s6="Invalid column reference",zUe=s6+" (must be input to an aggregate function)",Fre="Invalid function call",HUe="Invalid member expression",WUe="Invalid operator parameter",qUe="Invalid param reference",GUe="Invalid variable reference",YUe="Variable not accessible in operator call",KUe="Unsupported variable declaration",QUe="Unsupported destructuring pattern",Bre="Table expressions do not support closures",jre="Use aq.escape(fn) to use a function as-is (including closures)",XUe="use table.params({ name: value }) to define dynamic parameters",JUe="use aq.addFunction(name, fn) to add new op functions",ZUe=`
Note: ${Bre}. ${jre}, or ${XUe}.`,Ure=`
Note: ${Bre}. ${jre}, or ${JUe}.`,eVe=`The ${Xee} method is not valid in multi-table expressions.`;function tVe(e,t){const n=nVe(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,Kje(r)?(iVe(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=FUe),e.scope.add(e.tuple2=BUe),e.scope.add(e.$param=VU)):(e.scope.add(e.tuple=MUe),e.scope.add(e.$param=VU)),fn(r,e,o6),e.root}function nVe(e){try{const t=e.field?rVe(e):_n(e)?Ru(e):e;return $Ue(`expr=(${t})`,LUe).body[0].expression.right}catch{jt(`Expression parse error: ${e+""}`)}}function rVe(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const o6={FunctionDeclaration:xi("Function definitions"),ForStatement:xi("For loops"),ForOfStatement:xi("For-of loops"),ForInStatement:xi("For-in loops"),WhileStatement:xi("While loops"),DoWhileStatement:xi("Do-while loops"),AwaitExpression:xi("Await expressions"),ArrowFunctionExpression:xi("Function definitions"),AssignmentExpression:xi("Assignments"),FunctionExpression:xi("Function definitions"),NewExpression:xi('Use of "new"'),UpdateExpression:xi("Update expressions"),VariableDeclarator(e,t){FR(e.id,t)},Identifier(e,t,n){Hre(e,t,n)&&!t.scope.has(e.name)&&t.error(e,GUe,ZUe)},CallExpression(e,t){const n=Vre(e.callee),r=Yee(n)||Kee(n);if(r){if((t.join||t.aggregate===!1)&&Q$(n)&&jUe(e,t),(t.join||t.window===!1)&&X$(n)&&UUe(e,t),t.$op=1,t.ast)MR(e,n,t),e.arguments.forEach(i=>fn(i,t,LR));else{const i=t.op(sVe(t,r,n,e.arguments));Object.assign(e,{type:zee,name:i.id})}return t.$op=0,!1}else Gee(n)?MR(e,n,t):t.error(e,Fre,Ure)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Jr(Jc,r))return;const{name:s}=r;if(zre(e)&&Jr(Jc,i)&&La(i6,i.name)){Gre(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return zU(e,o,t,Wre,n);if(s===t.$param)return zU(e,o,t,aVe);t.paramsRef.has(s)?t_(e,t.paramsRef.get(s)):t.columnRef.has(s)?qre(r,s,t,e):La(t.params,s)&&t_(r,s)}};function zU(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(Jr(Km,s))a=s.value;else try{fn(s,n,o6,e),a=n.param(s)}catch{n.error(e,HUe)}return r(e,a,t,n,i),!1}const LR={...o6,VariableDeclarator:xi("Variable declaration in operator call"),Identifier(e,t,n){Hre(e,t,n)&&t.error(e,YUe)},CallExpression(e,t){const n=Vre(e.callee);Gee(n)?MR(e,n,t):t.error(e,Fre,Ure)}};function iVe(e,t){e.generator&&xi("Generator functions")(e,t),e.async&&xi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(Kg(t,n[0],"tuple1",i(1)),r>1&&Kg(t,n[1],"tuple2",i(2)),r>2&&Kg(t,n[2],"$param",s)):(Kg(t,n[0],"tuple",i(0)),r>1&&Kg(t,n[1],"$param",s))),t.root=e.body}function Kg(e,t,n,r){Jr(Jc,t)?(e.scope.add(t.name),e[n]=t.name):Jr(Uee,t)&&t.properties.forEach(i=>{const s=Jr(Jc,i.key)?i.key.name:Jr(Km,i.key)?i.key.value:e.error(i,VUe);Jr(Jc,i.value)||e.error(i.value,QUe),r(i.value.name,s)})}function sVe(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(fn(u,e,LR),i.push(e.field(u))):l<a?(fn(u,e,LR),s.push(e.param(u))):e.error(u,WUe)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function Vre(e){return Jr(Jc,e)?e.name:Jr(jee,e)?zre(e)?oVe(e.property.name):e.property.name:null}function zre(e){return Jr(Jc,e.object)&&e.object.name==="Math"}function oVe(e){return e==="max"?"greatest":e==="min"?"least":e}function Hre(e,t,n){const{name:r}=e;if(!(Jr(jee,n)&&n.property===e)){if(!(Jr(Vee,n)&&n.key===e))if(t.paramsRef.has(r))t_(e,t.paramsRef.get(r));else if(t.columnRef.has(r))qre(e,r,t,n);else if(La(t.params,r))t_(e,r);else if(La(i6,r))Gre(e,r);else return!0}}function Wre(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,s6),r.aggronly&&!r.$op&&r.error(e,zUe),Qee(e,t,n,o,i)}function qre(e,t,n,r){const[i,s]=n.columnRef.get(t);Wre(e,i,s,n,r)}function aVe(e,t,n,r){r.params&&!La(r.params,t)&&r.error(e,qUe),t_(e,t)}function t_(e,t){e.type=JFe,e.name=t}function Gre(e,t){e.type=KFe,e.name=t,e.raw=i6[t]}function MR(e,t,n){if(t===Xee){const r=n.table;r||n.error(e,eVe),Jee(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=ms(s)?r.columnName(s):s;return r.column(o)||n.error(i,s6),o}):r.columnNames())}else e.callee={type:XFe,name:t}}function FR(e,t){Jr(Jc,e)?t.scope.add(e.name):Jr(WFe,e)?e.elements.forEach(n=>FR(n,t)):Jr(Uee,e)?e.properties.forEach(n=>FR(n.value,t)):t.error(e.id,KUe)}const uVe={[iv]:1,[zee]:1};function Ys(e,t={}){const n=t.generate||MS,r=t.compiler||J$,i=cVe(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(g){const y=lVe(g);return o[y]||(g.id=++c,o[y]=g)},field(g){const y=n(g);return s[y]||(s[y]=++l)},param(g){return Jr(Km,g)?g.value:r.param(n(g),i)},value(g,y){a.push(g);const m=y.escape||(t.ast?Yje(y):f(n(y),i));u.push(m),uVe[y.type]&&m!==y&&ts(m)&&(m.field=y.name)},error(g,y,m=""){const _=g.start-6,v=g.end-6,w=String(d.spec).slice(_,v);jt(`${y}: "${w}"${m}`)}};Object.assign(d,t,{params:i});for(const[g,y]of nI(e))d.value(g+"",y.escape?Jje(d,y,i):tVe(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const g in s)h[s[g]]=r.expr(g,i);const p=Object.values(o);return p.forEach(g=>g.fields=g.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function lVe(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function cVe(e){return(e.table?xO(e.table):e.join?{...xO(e.join[1]),...xO(e.join[0])}:{})||{}}function xO(e){return e&&Zn(e.params)?e.params():{}}const Yre="Expr",ga="ExprList",Kre="ExprNumber",E0="ExprObject",hp="JoinKeys",iT="JoinValues",$o="Options",a6="OrderKeys",pc="SelectionList",sd="TableRef",pp="TableRefList",fVe="Descending",dVe="Query",hVe="Selection",pVe="Verb",mVe="Window";function bI(e,t){return e&&e.expr?new HU({...e,...t}):new HU(t,e)}class HU{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Zn(this.expr)?{func:!0}:{}}}}function gVe(e){return bI(e,{desc:!0})}function Kd(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return bI(e,t?{expr:t,...r}:r)}function yVe(e,t,n){return bI(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function _Ve(e){const t=n=>n;return t.toString=()=>e,t}function WU(e,t){return t=t&&Zn(t.query)?t.query():t,t&&Zn(t.evaluate)?t.evaluate(null,e):e(t)}function Qre(e){return ts(e)&&(_n(e.all)||_n(e.matches)||_n(e.not)||_n(e.range))}function n_(e){return e&&Zn(e.toObject)?e.toObject():Zn(e)?{expr:String(e),func:!0}:_n(e)?e.map(n_):ts(e)?pI(e,t=>n_(t)):e}function u6(e){return _n(e)?e.map(u6):ts(e)?_n(e.verbs)?c6.from(e):_n(e.all)?Sm():_n(e.range)?zje(...e.range):_n(e.match)?Hje(RegExp(...e.match)):_n(e.not)?ere(e.not.map(n_)):vVe(e):e}function vVe(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Kd(n):e.func===!0&&(t=n=_Ve(n)),ts(e.window)){const{frame:r,peers:i}=e.window;t=n=yVe(n,r,i)}e.desc===!0&&(t=gVe(n))}return e===t?pI(e,r=>u6(r)):t}function bVe(e){return _n(e)?e.map(EVe):e}function EVe(e){const t=[];return qs(e).forEach(n=>{ms(n)?t.push(n):Mi(n)?t.push(Kd(n,null)):ts(n)&&n.expr||Zn(n)?t.push(n):jt(`Invalid key value: ${n+""}`)}),t}function wVe(e){return _n(e)?e.map(SVe):e}function SVe(e,t){return t<2?qs(e):e}function TVe(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(ts(r)&&!Zn(r))for(const i in r)t.push(r[i]);else n=ms(r)?r:Mi(r)?Kd(n):Zn(r)?n:jt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const xVe={[Yre]:eie,[ga]:xm,[Kre]:RVe,[E0]:vf,[hp]:NVe,[iT]:kVe,[a6]:xm,[pc]:OVe};function IVe(e,t,n){return t===sd?qU(e):t===pp?e.map(qU):Xre(n_(e),t,n)}function Xre(e,t,n){return t===$o?e&&AVe(e,n):xVe[t](e)}function AVe(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?Xre(i,t[r]):i}return n}function CVe(e,t){return Ys({expr:e},{...t,ast:!0}).exprs[0]}function l6(e){return{type:iv,name:e}}function Jre(e){return{type:iv,index:e}}function vf(e,t){if(Mi(e))return CVe(e,t);if(e.expr){let n;if(e.field===!0?n=l6(e.expr):e.func===!0&&(n=vf(e.expr,t)),n)return e.desc&&(n={type:fVe,expr:n}),e.window&&(n={type:mVe,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...vf(e[n],t),as:n}))}function Zre(e){const t=hVe;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:xm(e.not)}:e.range?{type:t,operator:"range",arguments:xm(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:jt("Invalid input")}function OVe(e){return qs(e).map(PVe).flat()}function PVe(e){return Qre(e)?Zre(e):ms(e)?Jre(e):Mi(e)?l6(e):ts(e)?Object.keys(e).map(t=>({type:iv,name:t,as:e[t]})):jt("Invalid input")}function eie(e){return Qre(e)?Zre(e):ms(e)?Jre(e):Mi(e)?l6(e):ts(e)?vf(e):jt("Invalid input")}function xm(e){return qs(e).map(eie).flat()}function RVe(e){return ms(e)?e:vf(e)}function NVe(e){return _n(e)?e.map(xm):vf(e,{join:!0})}function kVe(e){return _n(e)?e.map((t,n)=>n<2?xm(t):vf(t,{join:!0})):vf(e,{join:!0})}function qU(e){return e&&Zn(e.toAST)?e.toAST():e}class tie{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===hp?bVe(a):o===iT?wVe(a):o===a6?TVe(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=BR[t.verb],r=(n.schema||[]).map(({name:i})=>u6(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===sd?WU(n,o):s===pp?o.map(a=>WU(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=n_(this[n])}),t}toAST(){const t={type:pVe,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=IVe(this[n],r,i)}),t}}function $n(e,t){return Object.assign((...n)=>new tie(e,t,n),{schema:t})}const BR={count:$n("count",[{name:"options",type:$o}]),derive:$n("derive",[{name:"values",type:E0},{name:"options",type:$o,props:{before:pc,after:pc}}]),filter:$n("filter",[{name:"criteria",type:E0}]),groupby:$n("groupby",[{name:"keys",type:ga}]),orderby:$n("orderby",[{name:"keys",type:a6}]),relocate:$n("relocate",[{name:"columns",type:pc},{name:"options",type:$o,props:{before:pc,after:pc}}]),rename:$n("rename",[{name:"columns",type:pc}]),rollup:$n("rollup",[{name:"values",type:E0}]),sample:$n("sample",[{name:"size",type:Kre},{name:"options",type:$o,props:{weight:Yre}}]),select:$n("select",[{name:"columns",type:pc}]),ungroup:$n("ungroup"),unorder:$n("unorder"),reify:$n("reify"),dedupe:$n("dedupe",[{name:"keys",type:ga,default:[]}]),impute:$n("impute",[{name:"values",type:E0},{name:"options",type:$o,props:{expand:ga}}]),fold:$n("fold",[{name:"values",type:ga},{name:"options",type:$o}]),pivot:$n("pivot",[{name:"keys",type:ga},{name:"values",type:ga},{name:"options",type:$o}]),spread:$n("spread",[{name:"values",type:ga},{name:"options",type:$o}]),unroll:$n("unroll",[{name:"values",type:ga},{name:"options",type:$o,props:{drop:ga}}]),lookup:$n("lookup",[{name:"table",type:sd},{name:"on",type:hp},{name:"values",type:ga}]),join:$n("join",[{name:"table",type:sd},{name:"on",type:hp},{name:"values",type:iT},{name:"options",type:$o}]),cross:$n("cross",[{name:"table",type:sd},{name:"values",type:iT},{name:"options",type:$o}]),semijoin:$n("semijoin",[{name:"table",type:sd},{name:"on",type:hp}]),antijoin:$n("antijoin",[{name:"table",type:sd},{name:"on",type:hp}]),concat:$n("concat",[{name:"tables",type:pp}]),union:$n("union",[{name:"tables",type:pp}]),intersect:$n("intersect",[{name:"tables",type:pp}]),except:$n("except",[{name:"tables",type:pp}])};let c6=class nie extends Aee{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new nie(t.map(tie.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return GU(this,"toObject")}toJSON(){return this.toObject()}toAST(){return GU(this,"toAST",{type:dVe})}};function GU(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function DVe(e,t){return new c6(e._verbs.concat(t),e._params,e._table)}for(const e in BR){const t=BR[e];c6.prototype["__"+e]=function(n,...r){return DVe(n,t(...r))}}function ng(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function $Ve(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function f6(e,t){const n=Co();return t.forEach((r,i)=>{const s=Mi(r)?r:i;if(s){const o=e.column(i)||jt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function rie(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||jt("relocate requires a before or after option."),i&&s&&jt("relocate accepts only one of the before or after options."),t=Vl(e,t);const o=[...Vl(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),f6(e,u)}function dv(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function d6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function LVe(e,t=0,n=e.length){let r=n?e[t++]:hn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function MVe(e,t=0,n=e.length){let r=n?e[t++]:hn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function L1(e){return Gy(e)?e:+e}function FVe(e,t){const n=e.length;if(!n)return hn;if((t=+t)<=0||n<2)return L1(e[0]);if(t>=1)return L1(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=L1(e[i]);return Gy(s)?s:s+(L1(e[i+1])-s)*(r-i)}class BVe{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:LVe(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:MVe(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(d6)),FVe(this._sorted,t)}}const sT=(e,t,n)=>ng(t,"{"+dv(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function jVe(e,t){const{ops:n,output:r}=UVe(e,t),i=e[0].fields,s=i.length,o=s===0?h6:s===1?VVe:s===2?zVe:jt("Unsupported field count: "+s);return new o(i,n,r,t)}function UVe(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=Yee(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class h6 extends qje{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new BVe),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class VVe extends h6{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=sT(n,s,"add"),this._rem=sT(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Aa(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Aa(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class zVe extends h6{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=sT(n,s,"add"),this._rem=sT(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Aa(i)&&Aa(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Aa(i)&&Aa(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function yh(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=rg(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function rg(e,t,n){if(!t.length)return n;const r=iie(t),i=e.groups(),s=i?i.size:1;return n=n||eI(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=oie(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=sie(e,o);o.write(a,n,0)}),n}function iie(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(jVe(r[i],t));return n}function sie(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function oie(e,t,n){const{keys:r,size:i}=n,s=eI(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function aie(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function uie(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const YU=uie(d6);function HVe(e,t,n,r,i){let s,o,a,u,l;const c=g=>o[g-1]===o[g],f=r.length,d=i.length,h=r.length?ng(["w","r","k"],"{"+dv(r,(g,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(g,y,m,_){p.index=p.i0=p.i1=0,p.size=y.length,s=g,o=y,u=m,l=_,a=i?i.map(v=>v.init()):null;for(let v=0;v<f;++v)r[v].init();return p},value(g,y){return y(s[g],e)},step(g){const[y,m]=t,_=p.size,v=p.i0,w=p.i1;p.i0=y!=null?Math.max(0,g-Math.abs(y)):0,p.i1=m!=null?Math.min(_,g+Math.abs(m)+1):_,p.index=g,n&&(p.i0>0&&c(p.i0)&&(p.i0=YU.left(o,o[p.i0])),p.i1<_&&c(p.i1)&&(p.i1=YU.right(o,o[p.i1-1])));for(let T=0;T<d;++T){const E=i[T],x=a[T];for(let A=v;A<p.i0;++A)E.rem(x,s[A],e);for(let A=w;A<p.i1;++A)E.add(x,s[A],e);E.write(x,u,l)}return h(p,u,l),u}};return p}const WVe=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),qVe=e=>!!e.peers;function GVe(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=Kee(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function YVe(e,t,n,r={},i){const s=e.data(),o=KVe(i,s),a=o.length,u=ng(["r","d","op"],"{"+dv(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=QVe(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let g=0;g<a;++g)o[g].step(p);u(l[p],s,h)}})}function KVe(e,t){const n={};return e.forEach(r=>{const i=WVe(r),s=qVe(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});Q$(r.name)?a.push(r):u.push(GVe(r))}),Object.values(n).map(r=>HVe(t,r.frame,r.peers,r.winOps,iie(r.aggOps,r.frame[0]!=null?-1:1)))}function QVe(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function XVe(e){return X$(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function p6(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Co(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=JVe(r),c=e.isGrouped()?e.groups().size:1,f=rg(e,u,eI(r.length,()=>Array(c)));return l.length?YVe(e,a,n,f,l):ZVe(e,a,n,f),e.create(o)}function JVe(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(XVe(s)?n:t).push(s)}return[t,n]}function ZVe(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function e7e(e,t,n={}){const r=p6(e,Ys(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:rie(r,Object.keys(t).filter(i=>!e.column(i)),n)}function t7e(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const M1=2147483648,n7e=4294967295;class lie{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&M1>>>t}set(t){this._bits[t>>5]|=M1>>>t}clear(t){this._bits[t>>5]&=~(M1>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&n7e>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=M1>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function r7e(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new lie(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function i7e(e,t){const n=Ys({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=p6(e,n,{drop:!0}).column("p");r=s=>i[s]}return r7e(e,r)}function cie(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=yh(e,r,n),l=Co(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(w=>{if(!a.has(w)){const T=l.add(w,[]);c.has(w)||(f.push(e.column(w)),d.push(T))}}),t.forEach(w=>{a.has(w)||(l.has(w)||l.add(w,[]),h.push(l.data[w]))});const p=o?l.add(o,[]):null;let g=0;const y=f.length,m=h.length,_=(w,T)=>{for(let E=0;E<y;++E)d[E].length=g+T,d[E].fill(f[E].get(w),g,g+T)},v=p?(w,T)=>{for(let E=0;E<T;++E)p[w+E]=E}:()=>{};if(m===1){const w=u[0],T=h[0];e.scan((E,x)=>{const A=qs(w(E,x)),M=Math.min(A.length,s);_(E,M);for(let D=0;D<M;++D)T[g+D]=A[D];v(g,M),g+=M})}else e.scan((w,T)=>{let E=0;const x=u.map(A=>{const M=qs(A(w,T));return E=Math.min(Math.max(E,M.length),s),M});_(w,E);for(let A=0;A<m;++A){const M=h[A],D=x[A];for(let $=0;$<E;++$)M[g+$]=D[$]}v(g,E),g+=E});return e.create(l.new())}function s7e(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=yh(e,r,n);return cie(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Ma(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=ms(o)?t.columnName(o):o,Mi(o)?i.set(o,Kd(o)):Zn(o)?Vl(t,o).forEach(s):ts(o)?Jne(i,o):jt(`Invalid ${e} value: ${o+""}`)};return qs(n).forEach(s),r.preparse&&r.preparse(i),Ys(i,{table:t,...r})}function o7e(e,t,n){return s7e(e,Ma("fold",e,t),n)}function KU(e,t,n,r){const i=n&&n.length;return a7e(i?u7e(e,n,r):e,t,i)}function a7e(e,{names:t,exprs:n,ops:r},i){const s=yh(e,r,n),o=i?null:Co(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Aa(p)?p:d(h)})}),i?e:e.create(o)}function u7e(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=FS(o);e.scan((p,g)=>a.add(u(p,g)));const l=e.columnNames(),c=Co(),f=l.map(p=>c.add(p,[]));l.forEach((p,g)=>{const y=i[p],m=f[g];e.scan(_=>m.push(y.get(_)))});const d=FS(o.map((p,g)=>y=>y[g])),h=ng("v","{"+f.map((p,g)=>`_${g}.push(v[$${g}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const g=n.reduce((m,_)=>m*_.length,r.size),y=new Uint32Array(g+(p-a.size));y.set(r.keys),QU(r,n,(m,_)=>{a.has(d(m))||(h(m),y[p++]=_[0])}),c.groupby({...r,keys:y})}else QU(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function QU(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const g=f[p];for(let y=0;y<r;++y)h[y]=c[y](g)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function m6(e,{names:t,exprs:n,ops:r}){const i=Co(),s=e.groups();return s&&aie(i,s),l7e(t,n,s,rg(e,r),i),e.create(i.new())}function l7e(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function c7e(e,t,n={}){if(t=Ys(t,{table:e}),t.names.forEach(r=>e.column(r)?0:jt(`Invalid impute column ${Ru(r)}`)),n.expand){const r={preparse:f7e,aggronly:!0},i=Ma("impute",e,n.expand,r),s=m6(e.ungroup(),i);return KU(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return KU(e,t)}function f7e(e){e.forEach((t,n)=>t.field?e.set(n,Lee(t+"")):0)}function d7e(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function fie(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function h7e(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function p7e(e,t){const n=["i","a","j","b"];return ng(n,"{"+dv(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function m7e(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,g=Co(),y=Array(p),m=Array(p);for(let w=0;w<r.length;++w)y[w]=g.add(r[w],[]),m[w]=i[w];const _=p7e(y,m);if((_n(n)?y7e:g7e)(_,n,o,c,a,f,l,h,u,d),s.left)for(let w=0;w<u;++w)l[w]||_(a[w],o,-1,c);if(s.right)for(let w=0;w<d;++w)h[w]||_(-1,o,f[w],c);return e.create(g.new())}function g7e(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function y7e(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,g,y,m,_,v=e;l>=c?(f=r,d=t,h=a,p=s,g=i,y=n,m=u,_=o):(f=i,d=n,h=u,p=o,g=r,y=t,m=a,_=s,v=(E,x,A,M)=>e(A,M,E,x));const w=h7e(_,g,y),T=p.length;for(let E=0;E<T;++E){const x=p[E],A=w.get(d(x,f));if(A){const M=A.length;for(let D=0;D<M;++D){const $=A[D];v(x,f,_[$],g),m[$]=1}h[E]=1}}}function oT(e,t,n){const r=new Map;qs(n).forEach((s,o)=>{s=ms(s)?t.columnName(s):s,Mi(s)?r.set(o,Kd(s)):Zn(s)||ts(s)&&s.expr?r.set(o,s):jt(`Invalid ${e} key value: ${s+""}`)});const i=Ys(r,{table:t,aggregate:!1,window:!1});return FS(i.exprs,!0)}function _7e(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function g6(e,t,n){if(n)Mi(n)?n=[n,n]:_n(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=_7e(e.columnNames(),t.columnNames());r.length||jt("Natural join requires shared column names."),n=[r,r]}return n}function die(e,t,n,r){return n.length!==r.length&&jt("Mismatched number of join keys"),[oT("join",e,n),oT("join",t,r)]}const v7e={aggregate:!1,window:!1},b7e={...v7e,index:1};function XU(e,t,n,r,i={}){n=g6(e,t,n);const s={join:[e,t]};let o;if(_n(n)){const[a,u]=n.map(qs);o=die(e,t,a,u),r||(r=E7e(e,a,u,i))}else o=Ys({on:n},s).exprs[0],r||(r=[Sm(),Sm()]);return m7e(e,t,o,w7e(e,t,r,s,i&&i.suffix),i)}function E7e(e,t,n,r){const i=[];t.forEach((o,a)=>Mi(o)&&o===n[a]?i.push(o):0);const s=ere(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${Ru(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,Sm()]:[Sm(),s]}function w7e(e,t,n,r,i=[]){if(_n(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Ma("join",e,n[0],r)),u--&&(o=Ma("join",t,n[1],b7e)),u--&&(a=Ys(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(JU(s.names,l,i[0]||"_1"),JU(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Ys(n,r)}function JU(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function S7e(e,t,n,r={}){const i=new lie(e.totalRows());return(_n(n)?T7e:x7e)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function T7e(e,t,n,[r,i]){const s=fie(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function x7e(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function ZU(e,t,n,r){n=g6(e,t,n);const i=_n(n)?die(e,t,...n.map(qs)):Ys({on:n},{join:[e,t]}).exprs[0];return S7e(e,t,i,r)}function I7e(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Co(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(hn)));const l=fie(t,r),c=ng(["lr","rr","data"],"{"+dv(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),yh(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function A7e(e,t,n,r){return n=g6(e,t,n),I7e(e,t,[oT("lookup",e,n[0]),oT("lookup",t,n[1])],Ma("lookup",t,r))}const jR=(e,t)=>e??t;function C7e(e,t,n,r={}){const{keys:i,keyColumn:s}=O7e(e,t,r),o=jR(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>rg(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,g)=>l===s[p]?d(p,g):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(P7e(n,a,e.groups(),u))}function O7e(e,t,n){const r=n.limit>0?+n.limit:1/0,i=jR(n.sort,!0),s=jR(n.keySeparator,"_"),o=yh(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=rg(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function P7e({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Co(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&aie(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let g=0;g<s;++g)p[g]=d(g,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function R7e(e,t,n,r){return C7e(e,Ma("fold",e,t),Ma("fold",e,n,{preparse:N7e,aggronly:!0}),r)}function N7e(e){e.forEach((t,n)=>t.field?e.set(n,kee(t+"")):0)}function k7e(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),f6(e,Vl(e,t,n))}function eV(e,t){return m6(e,Ys(t,{table:e,aggronly:!0,window:!1}))}function D7e(e,t,n,r){return(t?r?L7e:$7e:r?F7e:M7e)(e.length,e,n,r)}function $7e(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*Ym()|0];return t}function L7e(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=uie(d6).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*Ym())];return t}function M7e(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*Ym();s<e&&(t[s|0]=n[i])}return t}function F7e(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(Ym())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function B7e(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=Ym()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function j7e(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):D7e(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&B7e(u),e.reify(u)}function U7e(e,t,n={}){return j7e(e,V7e(e,t),z7e(e,n.weight),n)}const hie=e=>t=>e.get(t)||0;function V7e(e,t){return ms(t)?()=>t:hie(m6(e,Ys({size:t},{table:e,window:!1})).column("size"))}function z7e(e,t){return t==null?null:(t=ms(t)?e.columnName(t):t,hie(Mi(t)?e.column(t):p6(e,Ys({w:t},{table:e}),{drop:!0}).column("w")))}function H7e(e,t){return f6(e,Vl(e,t))}function W7e(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=yh(e,r,n),l=Co(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=q7e(e,u[d],a),g=p.length;for(let y=0;y<g;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function q7e(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=qs(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(hn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function G7e(e,t,n){return W7e(e,Ma("spread",e,t),n)}function Y7e(e,t){return e.concat(t).dedupe()}function K7e(e,t,n){return cie(e,Ma("unroll",e,t),n&&n.drop?{...n,drop:Ma("unroll",e,n.drop).names}:n)}function Q7e(e,t){return e.create({groups:X7e(e,t)})}function X7e(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=yh(e,r,n);const o=FS(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function J7e(e,t){return Q7e(e,Ma("groupby",e,t))}function Z7e(e,t){return e.create({order:t})}const eze=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function tze(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=Ys(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const g=y=>`fn[${i.length}](${y}, data)`;r.push([g("a"),g("b")]),i.push(p.escape)}else r.push([MS(p,{index:"a",op:o}),MS(p,{index:"b",op:a})])},window:!1}),l=rg(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[g,y]=r[h];d+=eze(g,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function nze(e,t){return Z7e(e,rze(e,t))}function rze(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(ts(o)&&!Zn(o))for(const a in o)i(o[a]);else i(ms(o)?Kd(s,e.columnName(o)):Mi(o)?Kd(s):Zn(o)?s:jt(`Invalid orderby field: ${s+""}`))}),tze(e,r)}function ize(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Co();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>hn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function sze(e,t){const n=Co(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?oie(e,t,r):[sie(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const g=n.data[h]=Array(f),y=i[p];for(let m=0,_=0;m<a;++m)g.fill(y(o[m],d),_,_+=u[m+1])})}return e.create(n.new())}function oze(e){return e.isGrouped()?e.create({groups:null}):e}function aze(e){return e.isOrdered()?e.create({order:null}):e}const uze={__antijoin:(e,t,n)=>ZU(e,t,n,{anti:!0}),__count:(e,t={})=>eV(e,{[t.as||"count"]:Dee()}),__cross:(e,t,n,r)=>XU(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:ize,__dedupe:$Ve,__derive:e7e,__except:t7e,__filter:i7e,__fold:o7e,__impute:c7e,__intersect:d7e,__join:XU,__lookup:A7e,__pivot:R7e,__relocate:rie,__rename:k7e,__rollup:eV,__sample:U7e,__select:H7e,__semijoin:ZU,__spread:G7e,__union:Y7e,__unroll:K7e,__groupby:J7e,__orderby:nze,__ungroup:oze,__unorder:aze,__reduce:sze};Object.assign(ll.prototype,uze);function lze(e,t){return ll.from(e,t)}function IO(e){return bI(e,{escape:!0,toString(){jt("Escaped values can not be serialized.")}})}ll.prototype;function cze(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let F1;const fze=new Uint8Array(16);function dze(){if(!F1&&(F1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!F1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return F1(fze)}const Ei=[];for(let e=0;e<256;++e)Ei.push((e+256).toString(16).slice(1));function hze(e,t=0){return(Ei[e[t+0]]+Ei[e[t+1]]+Ei[e[t+2]]+Ei[e[t+3]]+"-"+Ei[e[t+4]]+Ei[e[t+5]]+"-"+Ei[e[t+6]]+Ei[e[t+7]]+"-"+Ei[e[t+8]]+Ei[e[t+9]]+"-"+Ei[e[t+10]]+Ei[e[t+11]]+Ei[e[t+12]]+Ei[e[t+13]]+Ei[e[t+14]]+Ei[e[t+15]]).toLowerCase()}const pze=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tV={randomUUID:pze};function nV(e,t,n){if(tV.randomUUID&&!t&&!e)return tV.randomUUID();e=e||{};const r=e.random||(e.rng||dze)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return hze(r)}let Tu=class{static get(){let t=nV();for(;this.ids.has(t);)t=nV();return this.ids.set(t,!0),t}};Tu.ids=new Map;function xu(e){return"parent"in e}function mze(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:Tu.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:Tu.get(),createdOn:Date.now(),val:r}]:[];return{id:Tu.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function gze({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:Tu.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:Tu.get(),createdOn:Date.now(),val:s}]:[];return{id:Tu.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Ar(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=xze[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Qd(e){return!!e&&!!e[bo]}function bf(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Ize}(e)||Array.isArray(e)||!!e[ey]||!!(!((t=e.constructor)===null||t===void 0)&&t[ey])||EI(e)||wI(e))}function Im(e,t,n){n===void 0&&(n=!1),Ef(e)===0?(n?Object.keys:w6)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Ef(e){var t=e[bo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:EI(e)?2:wI(e)?3:0}function r_(e,t){return Ef(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jb(e,t){return Ef(e)===2?e.get(t):e[t]}function pie(e,t,n){var r=Ef(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function yze(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function EI(e){return Sze&&e instanceof Map}function wI(e){return Tze&&e instanceof Set}function Xf(e){return e.o||e.t}function y6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Aze(e);delete t[bo];for(var n=w6(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function _6(e,t){return t===void 0&&(t=!1),v6(e)||Qd(e)||!bf(e)||(Ef(e)>1&&(e.set=e.add=e.clear=e.delete=_ze),Object.freeze(e),t&&Im(e,function(n,r){return _6(r,!0)},!0)),e}function _ze(){Ar(2)}function v6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Iu(e){var t=HR[e];return t||Ar(18,e),t}function vze(e,t){HR[e]||(HR[e]=t)}function rV(){return{}.NODE_ENV==="production"||Am||Ar(0),Am}function AO(e,t){t&&(Iu("Patches"),e.u=[],e.s=[],e.v=t)}function aT(e){UR(e),e.p.forEach(bze),e.p=null}function UR(e){e===Am&&(Am=e.l)}function iV(e){return Am={p:[],l:Am,h:e,m:!0,_:0}}function bze(e){var t=e[bo];t.i===0||t.i===1?t.j():t.O=!0}function CO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Iu("ES5").S(t,e,r),r?(n[bo].P&&(aT(t),Ar(4)),bf(e)&&(e=uT(t,e),t.l||lT(t,e)),t.u&&Iu("Patches").M(n[bo].t,e,t.u,t.s)):e=uT(t,n,[]),aT(t),t.u&&t.v(t.u,t.s),e!==E6?e:void 0}function uT(e,t,n){if(v6(t))return t;var r=t[bo];if(!r)return Im(t,function(s,o){return sV(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return lT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=y6(r.k):r.o;Im(r.i===3?new Set(i):i,function(s,o){return sV(e,r,i,s,o,n)}),lT(e,i,!1),n&&e.u&&Iu("Patches").R(r,n,e.u,e.s)}return r.o}function sV(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Ar(5),Qd(i)){var o=uT(e,i,s&&t&&t.i!==3&&!r_(t.D,r)?s.concat(r):void 0);if(pie(n,r,o),!Qd(o))return;e.m=!1}if(bf(i)&&!v6(i)){if(!e.h.F&&e._<1)return;uT(e,i),t&&t.A.l||lT(e,i)}}function lT(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&_6(t,n)}function OO(e,t){var n=e[bo];return(n?Xf(n):e)[t]}function oV(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function VR(e){e.P||(e.P=!0,e.l&&VR(e.l))}function PO(e){e.o||(e.o=y6(e.t))}function zR(e,t,n){var r=EI(t)?Iu("MapSet").N(t,n):wI(t)?Iu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:rV(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=WR;o&&(u=[a],l=w0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Iu("ES5").J(t,n);return(n?n.A:rV()).p.push(r),r}function Eze(e){return Qd(e)||Ar(22,e),function t(n){if(!bf(n))return n;var r,i=n[bo],s=Ef(n);if(i){if(!i.P&&(i.i<4||!Iu("ES5").K(i)))return i.t;i.I=!0,r=aV(n,s),i.I=!1}else r=aV(n,s);return Im(r,function(o,a){i&&jb(i.t,o)===a||pie(r,o,t(a))}),s===3?new Set(r):r}(e)}function aV(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return y6(e)}function wze(){function e(r){if(!bf(r))return r;if(Array.isArray(r))return r.map(e);if(EI(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(wI(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return r_(r,ey)&&(i[ey]=r[ey]),i}function t(r){return Qd(r)?e(r):r}var n="add";vze("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=Ef(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Ar(24),typeof u=="function"&&f==="prototype"&&Ar(24),typeof(u=jb(u,f))!="object"&&Ar(15,o.join("/"))}var d=Ef(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Ar(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Ar(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;Im(a.D,function(h,p){var g=jb(f,h),y=jb(d,h),m=p?r_(f,h)?"replace":n:"remove";if(g!==y||m!=="replace"){var _=u.concat(h);l.push(m==="remove"?{op:m,path:_}:{op:m,path:_,value:y}),c.push(m===n?{op:"remove",path:_}:m==="remove"?{op:n,path:_,value:t(g)}:{op:"replace",path:_,value:t(g)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var g=[c,l];l=g[0],c=g[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var m=u.concat([y]);l.push({op:"replace",path:m,value:t(h[y])}),c.push({op:"replace",path:m,value:t(f[y])})}for(var _=f.length;_<h.length;_++){var v=u.concat([_]);l.push({op:n,path:v,value:t(h[_])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var g=u.concat([h]);l.push({op:"remove",path:g,value:p}),c.unshift({op:n,path:g,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var g=u.concat([h]);l.push({op:n,path:g,value:p}),c.unshift({op:"remove",path:g,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===E6?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var uV,Am,b6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Sze=typeof Map<"u",Tze=typeof Set<"u",lV=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",E6=b6?Symbol.for("immer-nothing"):((uV={})["immer-nothing"]=!0,uV),ey=b6?Symbol.for("immer-draftable"):"__$immer_draftable",bo=b6?Symbol.for("immer-state"):"__$immer_state",xze={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Ize=""+Object.prototype.constructor,w6=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Aze=Object.getOwnPropertyDescriptors||function(e){var t={};return w6(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},HR={},WR={get:function(e,t){if(t===bo)return e;var n=Xf(e);if(!r_(n,t))return function(i,s,o){var a,u=oV(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!bf(r)?r:r===OO(e.t,t)?(PO(e),e.o[t]=zR(e.A.h,r,e)):r},has:function(e,t){return t in Xf(e)},ownKeys:function(e){return Reflect.ownKeys(Xf(e))},set:function(e,t,n){var r=oV(Xf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=OO(Xf(e),t),s=i==null?void 0:i[bo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(yze(n,i)&&(n!==void 0||r_(e.t,t)))return!0;PO(e),VR(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return OO(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,PO(e),VR(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Xf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ar(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ar(12)}},w0={};Im(WR,function(e,t){w0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),w0.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Ar(13),w0.set.call(this,e,t,void 0)},w0.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Ar(14),WR.set.call(this,e[0],t,n,e[0])};var Cze=function(){function e(n){var r=this;this.g=lV,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,_=Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];return u.produce(g,function(w){var T;return(T=s).call.apply(T,[y,w].concat(_))})}}var l;if(typeof s!="function"&&Ar(6),o!==void 0&&typeof o!="function"&&Ar(7),bf(i)){var c=iV(r),f=zR(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?aT(c):UR(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return AO(c,o),CO(g,c)},function(g){throw aT(c),g}):(AO(c,o),CO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===E6&&(l=void 0),r.F&&_6(l,!0),o){var h=[],p=[];Iu("Patches").M(i,l,h,p),o(h,p)}return l}Ar(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){bf(n)||Ar(8),Qd(n)&&(n=Eze(n));var r=iV(this),i=zR(this,n,void 0);return i[bo].C=!0,UR(r),i},t.finishDraft=function(n,r){var i=n&&n[bo];({}).NODE_ENV!=="production"&&(i&&i.C||Ar(9),i.I&&Ar(10));var s=i.A;return AO(s,r),CO(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!lV&&Ar(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Iu("Patches").$;return Qd(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Eo=new Cze,Oze=Eo.produce;Eo.produceWithPatches.bind(Eo);Eo.setAutoFreeze.bind(Eo);Eo.setUseProxies.bind(Eo);Eo.applyPatches.bind(Eo);Eo.createDraft.bind(Eo);Eo.finishDraft.bind(Eo);function Pze(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=mze({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return vZ({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:Tu.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:Tu.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function Rze(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=Pze(e),s=EDe();s.startListening({matcher:jB(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=jB(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=yZ({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:Tu.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Nze=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kze=Object.prototype.hasOwnProperty;function qR(e,t){return kze.call(e,t)}function GR(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)qR(e,i)&&r.push(i);return r}function js(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function YR(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Jf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function mie(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function KR(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(KR(e[t]))return!0}else if(typeof e=="object"){for(var r=GR(e),i=r.length,s=0;s<i;s++)if(KR(e[r[s]]))return!0}}return!1}function cV(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var gie=function(e){Nze(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,cV(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=cV(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),Sr=gie,Dze=js,mp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=cT(n,this.path);r&&(r=js(r));var i=Pd(n,{op:"remove",path:this.from}).removed;return Pd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=cT(n,this.from);return Pd(n,{op:"add",path:this.path,value:js(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:i_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},$ze={add:function(e,t,n){return YR(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:mp.move,copy:mp.copy,test:mp.test,_get:mp._get};function cT(e,t){if(t=="")return e;var n={op:"_get",path:t};return Pd(e,n),n.value}function Pd(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):fT(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=cT(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=i_(e,t.value),o.test===!1)throw new Sr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Sr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=js(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=fT;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=mie(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!YR(h))throw new Sr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);YR(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Sr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=$ze[t.op].call(t,l,h,e);if(o.test===!1)throw new Sr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=mp[t.op].call(t,l,h,e);if(o.test===!1)throw new Sr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Sr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function SI(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Sr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=js(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=Pd(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function Lze(e,t,n){var r=Pd(e,t);if(r.test===!1)throw new Sr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function fT(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Sr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(mp[e.op]){if(typeof e.path!="string")throw new Sr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Sr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Sr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Sr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&KR(e.value))throw new Sr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Sr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Sr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=yie([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Sr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Sr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function yie(e,t,n){try{if(!Array.isArray(e))throw new Sr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)SI(js(t),js(e),n||!0);else{n=n||fT;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Sr)return i;throw i}}function i_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!i_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!i_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const Mze=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Sr,_areEquals:i_,applyOperation:Pd,applyPatch:SI,applyReducer:Lze,deepClone:Dze,getValueByPointer:cT,validate:yie,validator:fT},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var S6=new WeakMap,Fze=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Bze=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function jze(e){return S6.get(e)}function Uze(e,t){return e.observers.get(t)}function Vze(e,t){e.observers.delete(t.callback)}function zze(e,t){t.unobserve()}function Hze(e,t){var n=[],r,i=jze(e);if(!i)i=new Fze(e),S6.set(e,i);else{var s=Uze(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=js(e),t){r.callback=t,r.next=null;var o=function(){QR(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){QR(r),clearTimeout(r.next),Vze(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Bze(t,r)),r}function QR(e,t){t===void 0&&(t=!1);var n=S6.get(e.object);T6(n.value,e.object,e.patches,"",t),e.patches.length&&SI(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function T6(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=GR(t),o=GR(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(qR(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?T6(c,f,n,r+"/"+Jf(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Jf(l),value:js(c)}),n.push({op:"replace",path:r+"/"+Jf(l),value:js(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Jf(l),value:js(c)}),n.push({op:"remove",path:r+"/"+Jf(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!qR(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+Jf(l),value:js(t[l])})}}}function _ie(e,t,n){n===void 0&&(n=!1);var r=[];return T6(e,t,r,"",n),r}const Wze=Object.freeze(Object.defineProperty({__proto__:null,compare:_ie,generate:QR,observe:Hze,unobserve:zze},Symbol.toStringTag,{value:"Module"}));Object.assign({},Mze,Wze,{JsonPatchError:gie,deepClone:js,escapePathComponent:Jf,unescapePathComponent:mie});var S0=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(S0||{});function Ub(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=bie(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=Ub(i,t);return SI(a,js(o),!0,!1).newDocument}function qze(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function vie({registry:e,initialState:t}){let n=!1;const r=cze(),i=Rze(t);function s(c){return i.backend.nodes[c]}r.listen(S0.TRAVERSAL_START,()=>{n=!0}),r.listen(S0.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const g=f[p].at(-1);return g&&(h[p]=g),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return Ub(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let g=null,y=null;const m=Ub(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const _=_ie(m,f);if(qze(f,_)==="checkpoint")y={type:"checkpoint",val:f};else{const v=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:_,checkpointRef:v}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(g=gze({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!g)throw new Error("State Node creation failed!");i.update(i.addNode(g))},async apply(c,f){const d=e.get(f.type),h=Ub(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:g}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[g]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(S0.TRAVERSAL_START);const f=bie(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),g=s(f[h+1]);Yze(p,g)?xu(p)&&d.push(...p.sideEffects.undo):xu(g)&&d.push(...g.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(S0.TRAVERSAL_END)},undo(){const{current:c}=i;return xu(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return Eie(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function Gze(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;xu(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)xu(r)&&(r=n[r.parent]),xu(i)&&(i=n[i.parent]);return r.id}function bie(e,t,n){const r=Gze(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),xu(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),xu(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function Yze(e,t){if(xu(e)&&e.parent===t.id)return!0;if(xu(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Eie(e,t){return{...e,children:e.children.map(n=>Eie(t[n],t)),name:`${e.label}`}}wze();function Kze(e){return e.length===2?Oze(e):e}class TI{static create(){return new TI}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:Kze(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),wu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var Qze="Expected a function",fV=NaN,Xze="[object Symbol]",Jze=/^\s+|\s+$/g,Zze=/^[-+]0x[0-9a-f]+$/i,eHe=/^0b[01]+$/i,tHe=/^0o[0-7]+$/i,nHe=parseInt,rHe=typeof oo=="object"&&oo&&oo.Object===Object&&oo,iHe=typeof self=="object"&&self&&self.Object===Object&&self,sHe=rHe||iHe||Function("return this")(),oHe=Object.prototype,aHe=oHe.toString,uHe=Math.max,lHe=Math.min,RO=function(){return sHe.Date.now()};function cHe(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(Qze);t=dV(t)||0,XR(n)&&(c=!!n.leading,f="maxWait"in n,s=f?uHe(dV(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(E){var x=r,A=i;return r=i=void 0,l=E,o=e.apply(A,x),o}function p(E){return l=E,a=setTimeout(m,t),c?h(E):o}function g(E){var x=E-u,A=E-l,M=t-x;return f?lHe(M,s-A):M}function y(E){var x=E-u,A=E-l;return u===void 0||x>=t||x<0||f&&A>=s}function m(){var E=RO();if(y(E))return _(E);a=setTimeout(m,g(E))}function _(E){return a=void 0,d&&r?h(E):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function w(){return a===void 0?o:_(RO())}function T(){var E=RO(),x=y(E);if(r=arguments,i=this,u=E,x){if(a===void 0)return p(u);if(f)return a=setTimeout(m,t),h(u)}return a===void 0&&(a=setTimeout(m,t)),o}return T.cancel=v,T.flush=w,T}function XR(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function fHe(e){return!!e&&typeof e=="object"}function dHe(e){return typeof e=="symbol"||fHe(e)&&aHe.call(e)==Xze}function dV(e){if(typeof e=="number")return e;if(dHe(e))return fV;if(XR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=XR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Jze,"");var n=eHe.test(e);return n||tHe.test(e)?nHe(e.slice(2),n?2:8):Zze.test(e)?fV:+e}var hHe=cHe;const pHe=Ba(hHe);function hV({parameters:e,setAnswer:t}){const[n,r]=S.useState(null),[i,s]=S.useState({hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]}),[o,a]=S.useState(null);S.useEffect(()=>{bMe(`./data/${e.dataset}.csv`).then(y=>{a(y)})},[e]);const u=S.useMemo(()=>o?lze(o):null,[o]),{actions:l,trrack:c}=S.useMemo(()=>{const y=TI.create(),m=y.register("brush",(E,x)=>(E={all:{...x}},E)),_=y.register("brushMove",(E,x)=>(E={all:{...x}},E)),v=y.register("brushResize",(E,x)=>(E={all:{...x}},E)),w=y.register("brushClear",(E,x)=>(E={all:{...x}},E)),T=vie({registry:y,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:m,brushMove:_,brushResize:v,clearBrush:w},trrack:T}},[]),f=S.useCallback((y,m)=>{y==="drag"?c.apply("Move Brush",l.brushMove(m)):y==="handle"&&c.apply("Brush",l.brush(m))},[l,c]),d=S.useMemo(()=>pHe(f,100,{maxWait:100}),[f]),h=S.useCallback((y,m,_,v,w)=>{if(!m||!_)return;const T=m.invert(y[0][0]||i.x1),E=m.invert(y[1][0]||i.x2),x=_.invert(y[1][1]||i.y2),A=_.invert(y[0][1]||i.y1);let M=null;if(v==="clear")M=u;else if(w){const $=new Set(w);M=u.filter(IO(W=>$.has(W[e.ids])))}else e.brushType==="Axis Selection"?M=u.filter(IO($=>new Date($[e.x])>=new Date(T)&&new Date($[e.x])<=new Date(E)&&$[e.y]>=x&&$[e.y]<=A)):M=u.filter(IO($=>$[e.x]>=T&&$[e.x]<=E&&$[e.y]>=x&&$[e.y]<=A));const D={x1:y[0][0]||(i==null?void 0:i.x1)||0,x2:y[1][0]||(i==null?void 0:i.x2)||0,y1:y[0][1]||(i==null?void 0:i.y1)||0,y2:y[1][1]||(i==null?void 0:i.y2)||0,hasBrush:v!=="clear",ids:v!=="clear"?M==null?void 0:M.array("id"):[]};s(D),v==="drag"||v==="handle"?d(v,D):v==="clear"&&c.apply("Clear Brush",l.clearBrush(D)),r(M),t({status:!0,provenanceGraph:c.graph.backend,answers:{}})},[i,u,e,c,t,d,l]),p=S.useMemo(()=>n?n.groupby(e.category).count():u?u.groupby(e.category).count():null,[n,u,e.category]),g=S.useCallback(y=>{r(y)},[]);return o?O.jsxs(Go,{spacing:"xs",children:[O.jsx(yR,{brushedPoints:i==null?void 0:i.ids,data:o,params:e,brushType:e.brushType,setBrushedSpace:h,brushState:i,setFilteredTable:g}),O.jsx(gR,{data:o,parameters:e,barsTable:p})]}):O.jsx(uh,{})}const mHe=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:hV,default:hV},Symbol.toStringTag,{value:"Module"})),ig=e=>{const t=S.useRef(null),n=pV(e),[r,i]=S.useState(0),[s,o]=S.useState(0);S.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}},[s,r]);const a=pV({...n,width:n.width||r,height:n.height||s});return[t,a]},pV=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},gHe=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:ig},Symbol.toStringTag,{value:"Module"})),wie=({data:e,xScale:t,yScale:n,height:r})=>O.jsx("g",{children:e.map((i,s)=>O.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))}),yHe=Object.freeze(Object.defineProperty({__proto__:null,Bars:wie},Symbol.toStringTag,{value:"Module"})),x6=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=S.useMemo(()=>{const o=ff().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsxs("g",{transform:`translate(0,${a})`,children:[O.jsx("line",{x2:`${r}`,stroke:"currentColor"}),O.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})},_He=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:x6},Symbol.toStringTag,{value:"Module"})),Sie=({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=S.useMemo(()=>{const o=tv().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsx("g",{transform:`translate(${a}, 10)`,children:O.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})},vHe=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:Sie},Symbol.toStringTag,{value:"Module"})),bHe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400},EHe=({parameters:e})=>{const[n,r]=ig(bHe),i=tv().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=ff().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return O.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:O.jsx("svg",{width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[O.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:O.jsx(Sie,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),O.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:O.jsx(x6,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),O.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:O.jsx(wie,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})},wHe=Object.freeze(Object.defineProperty({__proto__:null,default:EHe},Symbol.toStringTag,{value:"Module"})),Tie=({data:e})=>O.jsx("g",{children:e.map(({bubble:t},n)=>O.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))}),SHe=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Tie},Symbol.toStringTag,{value:"Module"})),I6=({positions:e})=>O.jsx("g",{children:e.map((t,n)=>O.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))}),THe=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:I6},Symbol.toStringTag,{value:"Module"})),xHe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},IHe=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=d4e().size([t-10,n-10]).padding(1.5),o=U$(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},AHe=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y})),CHe=({parameters:e})=>{const[t,n]=ig(xHe),r=IHe(e,n.width,n.height),i=AHe(r,e.selectedIndices);return O.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:O.jsx("svg",{width:n.width,height:n.height,children:O.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[O.jsx(Tie,{data:r}),O.jsx(I6,{positions:i})]})})})},OHe=Object.freeze(Object.defineProperty({__proto__:null,default:CHe},Symbol.toStringTag,{value:"Module"})),xie=({arcs:e})=>O.jsx("g",{children:e.map((t,n)=>O.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))}),PHe=Object.freeze(Object.defineProperty({__proto__:null,Slices:xie},Symbol.toStringTag,{value:"Module"})),Iie=({positions:e})=>O.jsx("g",{children:e.map((t,n)=>O.jsx("g",{transform:`translate(${t.centroid()})`,children:O.jsx("circle",{r:2,cx:0,cy:0},n)},n))}),RHe=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:Iie},Symbol.toStringTag,{value:"Module"})),NHe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},kHe=Z5e().value(e=>e.value),Qg=150,DHe=({parameters:e})=>{const[t,n]=ig(NHe),r=kHe(e.data),i=r.map(o=>nU().innerRadius(0).outerRadius(Qg).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>nU().outerRadius(Qg+10).innerRadius(Qg+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return O.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:O.jsx("svg",{width:n.width,height:n.height,children:O.jsxs("g",{transform:`translate(${[n.marginLeft+Qg,n.marginTop+Qg].join(",")})`,children:[O.jsx(xie,{arcs:i}),O.jsx(Iie,{positions:s})]})})})},$He=Object.freeze(Object.defineProperty({__proto__:null,default:DHe},Symbol.toStringTag,{value:"Module"})),Aie=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=S.useMemo(()=>{const o=ff().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsxs("g",{transform:`translate(${a}, 0)`,children:[O.jsx("line",{y2:`${r}`,stroke:"currentColor"}),O.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})},LHe=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:Aie},Symbol.toStringTag,{value:"Module"})),Cie=({data:e,barWidth:t,yScale:n})=>O.jsx("g",{children:e.map((r,i)=>O.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))}),MHe=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:Cie},Symbol.toStringTag,{value:"Module"})),FHe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},BHe=({parameters:e})=>{const[n,r]=ig(FHe),i=tv().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=ff().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,g)=>g===0||g===h.length-1),a=h=>h.filter((p,g)=>e.selectedIndices.includes(g)),u=h=>{const p=h.map(v=>+v.value),y=p.reduce((v,w)=>Number(v)+Number(w))/100,m={};for(let v=0;v<p.length;v++)m[String.fromCharCode(v+65)]=p[v]/y;const _=[m];return nFe().keys(e.data.map(v=>v.name))(_)},l=(h,p,g)=>h.filter((m,_)=>p.includes(_)).map(m=>({x:g,y:s(m[0][1])+.5*(s(m[0][0])-s(m[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return O.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:O.jsx("svg",{width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[O.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:O.jsx(Aie,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),O.jsx("g",{transform:"translate(0, 0)",children:O.jsx(x6,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),O.jsxs("g",{transform:"translate(0, 0)",children:[O.jsx(Cie,{data:c,barWidth:f,yScale:s}),O.jsx(I6,{positions:d})]})]})})})},jHe=Object.freeze(Object.defineProperty({__proto__:null,default:BHe},Symbol.toStringTag,{value:"Module"})),UHe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850},VHe=({parameters:e,setAnswer:t})=>{const[n,r]=ig(UHe),[i,s]=S.useState(100),[o,a]=S.useState(100),u=Ao(),[l,c]=S.useState(300),f=e.taskid,{actions:d,trrack:h}=S.useMemo(()=>{const g=TI.create(),y=g.register("click",(_,v)=>(_.clickX=v.clickX,_.clickY=v.clickY,_.distance=v.distance,_)),m=vie({registry:g,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{click:y},trrack:m}},[]),p=S.useCallback(g=>{const y=jr("#movingCircle"),m=jr("#clickAccuracySvg"),_=nR(g,m.node()),v=[+y.attr("cx"),+y.attr("cy")],w=Math.round(Math.sqrt((_[0]-v[0])**2+(_[1]-v[1])**2))+"px";h.apply("Clicked",d.click({distance:+w,clickX:_[0],clickY:_[1]})),t({status:!0,provenanceGraph:h.graph.backend,answers:{[f]:w}})},[d,u,t,f,h]);return S.useEffect(()=>{const g=Math.random()*800,y=Math.random()*600,_=Math.sqrt((g-i)**2+(y-o)**2)/l*1e3;jr(n.current).select("circle").transition().duration(_).ease(WLe).attr("cx",g).attr("cy",y).on("end",()=>{s(g),a(y)})},[n,l,i,o]),O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"Chart__wrapper",ref:n,onClick:p,style:{height:"650px"},children:O.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[O.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),O.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),O.jsxs(ut,{children:["Adjust speed (px/s):",O.jsx(OD,{w:800,min:10,max:1e3,value:l,onChange:c})]})]})},zHe=Object.freeze(Object.defineProperty({__proto__:null,default:VHe},Symbol.toStringTag,{value:"Module"}));var Oie={exports:{}},HHe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WHe=HHe,qHe=WHe;function Pie(){}function Rie(){}Rie.resetWarningCache=Pie;var GHe=function(){function e(r,i,s,o,a,u){if(u!==qHe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Rie,resetWarningCache:Pie};return n.PropTypes=n,n};Oie.exports=GHe();var YHe=Oie.exports;const dt=Ba(YHe);var KHe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},QHe=Object.defineProperty,XHe=Object.defineProperties,JHe=Object.getOwnPropertyDescriptors,dT=Object.getOwnPropertySymbols,Nie=Object.prototype.hasOwnProperty,kie=Object.prototype.propertyIsEnumerable,mV=(e,t,n)=>t in e?QHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gV=(e,t)=>{for(var n in t||(t={}))Nie.call(t,n)&&mV(e,n,t[n]);if(dT)for(var n of dT(t))kie.call(t,n)&&mV(e,n,t[n]);return e},ZHe=(e,t)=>XHe(e,JHe(t)),eWe=(e,t)=>{var n={};for(var r in e)Nie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dT)for(var r of dT(e))t.indexOf(r)<0&&kie.call(e,r)&&(n[r]=e[r]);return n},Gu=(e,t,n)=>{const r=S.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=eWe(o,["color","size","stroke","children"]);return S.createElement("svg",gV(ZHe(gV({ref:s},KHe),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>S.createElement(d,h)),...c||[]])});return r.propTypes={color:dt.string,size:dt.oneOfType([dt.string,dt.number]),stroke:dt.oneOfType([dt.string,dt.number])},r.displayName=`${t}`,r},tWe=Gu("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),nWe=Gu("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),rWe=Gu("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),yV=Gu("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),iWe=Gu("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),sWe=Gu("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),oWe=Gu("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),aWe=Gu("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),_V=Gu("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),Die=Gu("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);const vV=({rankings:e})=>O.jsx("div",{style:{fontFamily:"sans-serif"},children:O.jsx("div",{children:e.map((t,n)=>O.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})}),uWe=({parameters:e,setAnswer:t})=>{const n=Ao(),[r,i]=S.useState(""),{goToNextStep:s,isNextDisabled:o}=RZ(),a=S.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=S.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=S.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a=="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a=="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=S.useCallback(()=>{o||s()},[o,s]);S.useEffect(()=>{const h=Tge([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),O.jsxs("div",{children:[O.jsxs(hl,{children:[O.jsxs(hl.Col,{span:2,children:[O.jsx(vV,{rankings:a==="r1"?e.data.r1:e.data.r2}),O.jsx(Qo,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?O.jsx(yV,{}):"Select this ranking"}),l&&r&&O.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),O.jsxs(hl.Col,{span:2,children:[O.jsx(vV,{rankings:a==="r1"?e.data.r2:e.data.r1}),O.jsx(Qo,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?O.jsx(yV,{}):"Select this ranking"}),l&&r&&O.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&O.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})},lWe=Object.freeze(Object.defineProperty({__proto__:null,default:uWe},Symbol.toStringTag,{value:"Module"})),cWe=Object.assign({"../public/brush-interactions/Bar.tsx":sFe,"../public/brush-interactions/BrushPlot.tsx":mHe,"../public/brush-interactions/Paintbrush.tsx":aFe,"../public/brush-interactions/Scatter.tsx":uFe,"../public/brush-interactions/XAxisBar.tsx":rFe,"../public/brush-interactions/YAxis.tsx":oFe,"../public/brush-interactions/YAxisBar.tsx":iFe,"../public/cleveland/BarChart.tsx":wHe,"../public/cleveland/BubbleChart.tsx":OHe,"../public/cleveland/PieChart.tsx":$He,"../public/cleveland/StackedBarChart.tsx":jHe,"../public/cleveland/chartcomponents/Bars.tsx":yHe,"../public/cleveland/chartcomponents/Bubbles.tsx":SHe,"../public/cleveland/chartcomponents/DotMarks.tsx":THe,"../public/cleveland/chartcomponents/NumericAxisH.tsx":LHe,"../public/cleveland/chartcomponents/NumericAxisV.tsx":_He,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":vHe,"../public/cleveland/chartcomponents/Slices.tsx":PHe,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":RHe,"../public/cleveland/chartcomponents/StackedBars.tsx":MHe,"../public/cleveland/hooks/useChartDimensions.tsx":gHe,"../public/click-accuracy-test/ClickAccuracyTest.tsx":zHe,"../public/fairness-jnd/FairnessJND.tsx":lWe}),fWe=({currentConfig:e})=>{const t=Ao(),n=`../public/${e.path}`,r=cWe[n].default,i=nc(),{updateResponseBlockValidation:s,setIframeAnswers:o}=tc();function a({status:u,provenanceGraph:l,answers:c}){i(s({location:"sidebar",currentStep:t,status:u,values:c,provenanceGraph:l})),i(o(Object.values(c).map(f=>f)))}return O.jsx(S.Suspense,{fallback:O.jsx("div",{children:"Loading..."}),children:O.jsx(r,{parameters:e.parameters,setAnswer:a})})},bV=["http","https","mailto","tel"];function dWe(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<bV.length;){const s=bV[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hWe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const A6=Ba(hWe);function Bp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?EV(e.position):"start"in e||"end"in e?EV(e):"line"in e||"column"in e?JR(e):""}function JR(e){return wV(e&&e.line)+":"+wV(e&&e.column)}function EV(e){return JR(e&&e.start)+"-"+JR(e&&e.end)}function wV(e){return e&&typeof e=="number"?e:1}let aa=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Bp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};aa.prototype.file="";aa.prototype.name="";aa.prototype.reason="";aa.prototype.message="";aa.prototype.stack="";aa.prototype.fatal=null;aa.prototype.column=null;aa.prototype.line=null;aa.prototype.source=null;aa.prototype.ruleId=null;aa.prototype.position=null;const Xa={basename:pWe,dirname:mWe,extname:gWe,join:yWe,sep:"/"};function pWe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');hv(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function mWe(e){if(hv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function gWe(e){hv(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function yWe(...e){let t=-1,n;for(;++t<e.length;)hv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":_We(n)}function _We(e){hv(e);const t=e.charCodeAt(0)===47;let n=vWe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function vWe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function hv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bWe={cwd:EWe};function EWe(){return"/"}function ZR(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function wWe(e){if(typeof e=="string")e=new URL(e);else if(!ZR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return SWe(e)}function SWe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const NO=["history","path","basename","stem","extname","dirname"];let TWe=class{constructor(t){let n;t?typeof t=="string"||A6(t)?n={value:t}:ZR(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=bWe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<NO.length;){const s=NO[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)NO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){ZR(t)&&(t=wWe(t)),DO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Xa.dirname(this.path):void 0}set dirname(t){SV(this.basename,"dirname"),this.path=Xa.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Xa.basename(this.path):void 0}set basename(t){DO(t,"basename"),kO(t,"basename"),this.path=Xa.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Xa.extname(this.path):void 0}set extname(t){if(kO(t,"extname"),SV(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xa.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Xa.basename(this.path,this.extname):void 0}set stem(t){DO(t,"stem"),kO(t,"stem"),this.path=Xa.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new aa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function kO(e,t){if(e&&e.includes(Xa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Xa.sep+"`")}function DO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function SV(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function TV(e){if(e)throw e}var Vb=Object.prototype.hasOwnProperty,$ie=Object.prototype.toString,xV=Object.defineProperty,IV=Object.getOwnPropertyDescriptor,AV=function(t){return typeof Array.isArray=="function"?Array.isArray(t):$ie.call(t)==="[object Array]"},CV=function(t){if(!t||$ie.call(t)!=="[object Object]")return!1;var n=Vb.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Vb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Vb.call(t,i)},OV=function(t,n){xV&&n.name==="__proto__"?xV(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},PV=function(t,n){if(n==="__proto__")if(Vb.call(t,n)){if(IV)return IV(t,n).value}else return;return t[n]},xWe=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=PV(a,n),i=PV(t,n),a!==i&&(c&&i&&(CV(i)||(s=AV(i)))?(s?(s=!1,o=r&&AV(r)?r:[]):o=r&&CV(r)?r:{},OV(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&OV(a,{name:n,newValue:i}));return a};const RV=Ba(xWe);function eN(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function IWe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?AWe(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function AWe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u instanceof Promise?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class ua extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Bp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}ua.prototype.file="";ua.prototype.name="";ua.prototype.reason="";ua.prototype.message="";ua.prototype.stack="";ua.prototype.fatal=null;ua.prototype.column=null;ua.prototype.line=null;ua.prototype.source=null;ua.prototype.ruleId=null;ua.prototype.position=null;const Ja={basename:CWe,dirname:OWe,extname:PWe,join:RWe,sep:"/"};function CWe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');pv(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function OWe(e){if(pv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function PWe(e){pv(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function RWe(...e){let t=-1,n;for(;++t<e.length;)pv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":NWe(n)}function NWe(e){pv(e);const t=e.charCodeAt(0)===47;let n=kWe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function kWe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function pv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const DWe={cwd:$We};function $We(){return"/"}function tN(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function LWe(e){if(typeof e=="string")e=new URL(e);else if(!tN(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return MWe(e)}function MWe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const $O=["history","path","basename","stem","extname","dirname"];class FWe{constructor(t){let n;t?typeof t=="string"||A6(t)?n={value:t}:tN(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=DWe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<$O.length;){const s=$O[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)$O.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){tN(t)&&(t=LWe(t)),MO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Ja.dirname(this.path):void 0}set dirname(t){NV(this.basename,"dirname"),this.path=Ja.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Ja.basename(this.path):void 0}set basename(t){MO(t,"basename"),LO(t,"basename"),this.path=Ja.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Ja.extname(this.path):void 0}set extname(t){if(LO(t,"extname"),NV(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ja.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Ja.basename(this.path,this.extname):void 0}set stem(t){MO(t,"stem"),LO(t,"stem"),this.path=Ja.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new ua(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function LO(e,t){if(e&&e.includes(Ja.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ja.sep+"`")}function MO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function NV(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const BWe=Mie().freeze(),Lie={}.hasOwnProperty;function Mie(){const e=IWe(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const g=Mie();let y=-1;for(;++y<t.length;)g.use(...t[y]);return g.data(RV(!0,{},n)),g}function o(g,y){return typeof g=="string"?arguments.length===2?(jO("data",r),n[g]=y,s):Lie.call(n,g)&&n[g]||null:g?(jO("data",r),n=g,s):n}function a(){if(r)return s;for(;++i<t.length;){const[g,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const m=g.call(s,...y);typeof m=="function"&&e.use(m)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(g,...y){let m;if(jO("use",r),g!=null)if(typeof g=="function")T(g,...y);else if(typeof g=="object")Array.isArray(g)?w(g):v(g);else throw new TypeError("Expected usable value, not `"+g+"`");return m&&(n.settings=Object.assign(n.settings||{},m)),s;function _(E){if(typeof E=="function")T(E);else if(typeof E=="object")if(Array.isArray(E)){const[x,...A]=E;T(x,...A)}else v(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function v(E){w(E.plugins),E.settings&&(m=Object.assign(m||{},E.settings))}function w(E){let x=-1;if(E!=null)if(Array.isArray(E))for(;++x<E.length;){const A=E[x];_(A)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function T(E,x){let A=-1,M;for(;++A<t.length;)if(t[A][0]===E){M=t[A];break}M?(eN(M[1])&&eN(x)&&(x=RV(!0,M[1],x)),M[1]=x):t.push([...arguments])}}function l(g){s.freeze();const y=Xg(g),m=s.Parser;return FO("parse",m),kV(m,"parse")?new m(String(y),y).parse():m(String(y),y)}function c(g,y){s.freeze();const m=Xg(y),_=s.Compiler;return BO("stringify",_),DV(g),kV(_,"compile")?new _(g,m).compile():_(g,m)}function f(g,y,m){if(DV(g),s.freeze(),!m&&typeof y=="function"&&(m=y,y=void 0),!m)return new Promise(_);_(null,m);function _(v,w){e.run(g,Xg(y),T);function T(E,x,A){x=x||g,E?w(E):v?v(x):m(null,x,A)}}}function d(g,y){let m,_;return s.run(g,y,v),$V("runSync","run",_),m;function v(w,T){TV(w),m=T,_=!0}}function h(g,y){if(s.freeze(),FO("process",s.Parser),BO("process",s.Compiler),!y)return new Promise(m);m(null,y);function m(_,v){const w=Xg(g);s.run(s.parse(w),w,(E,x,A)=>{if(E||!x||!A)T(E);else{const M=s.stringify(x,A);M==null||(VWe(M)?A.value=M:A.result=M),T(E,A)}});function T(E,x){E||!x?v(E):_?_(x):y(null,x)}}}function p(g){let y;s.freeze(),FO("processSync",s.Parser),BO("processSync",s.Compiler);const m=Xg(g);return s.process(m,_),$V("processSync","process",y),m;function _(v){y=!0,TV(v)}}}function kV(e,t){return typeof e=="function"&&e.prototype&&(jWe(e.prototype)||t in e.prototype)}function jWe(e){let t;for(t in e)if(Lie.call(e,t))return!0;return!1}function FO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function BO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function jO(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function DV(e){if(!eN(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $V(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Xg(e){return UWe(e)?e:new FWe(e)}function UWe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function VWe(e){return typeof e=="string"||A6(e)}function zWe(e,t){var{includeImageAlt:n=!0}=t||{};return Fie(e,n)}function Fie(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&LV(e.children,t)||Array.isArray(e)&&LV(e,t))||""}function LV(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=Fie(e[r],t);return n.join("")}function Mu(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function Vo(e,t){return e.length>0?(Mu(e,e.length,0,t),e):t}const MV={}.hasOwnProperty;function HWe(e){const t={};let n=-1;for(;++n<e.length;)WWe(t,e[n]);return t}function WWe(e,t){let n;for(n in t){const i=(MV.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;for(o in s){MV.call(i,o)||(i[o]=[]);const a=s[o];qWe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function qWe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Mu(e,0,0,r)}const GWe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,cu=Mf(/[A-Za-z]/),nN=Mf(/\d/),YWe=Mf(/[\dA-Fa-f]/),uo=Mf(/[\dA-Za-z]/),KWe=Mf(/[!-/:-@[-`{-~]/),FV=Mf(/[#-'*+\--9=?A-Z^-~]/);function rN(e){return e!==null&&(e<32||e===127)}function Xo(e){return e!==null&&(e<0||e===32)}function wt(e){return e!==null&&e<-2}function zr(e){return e===-2||e===-1||e===32}const QWe=Mf(/\s/),XWe=Mf(GWe);function Mf(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Un(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return zr(u)?(e.enter(n),a(u)):t(u)}function a(u){return zr(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const JWe={tokenize:ZWe};function ZWe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Un(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return wt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const eqe={tokenize:tqe},BV={tokenize:nqe};function tqe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(v){if(r<n.length){const w=n[r];return t.containerState=w[1],e.attempt(w[0].continuation,u,l)(v)}return l(v)}function u(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const w=t.events.length;let T=w,E;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){E=t.events[T][1].end;break}m(r);let x=w;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},E),x++;return Mu(t.events,T+1,0,t.events.slice(w)),t.events.length=x,l(v)}return a(v)}function l(v){if(r===n.length){if(!i)return d(v);if(i.currentConstruct&&i.currentConstruct.concrete)return p(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(BV,c,f)(v)}function c(v){return i&&_(),m(r),d(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(v)}function d(v){return t.containerState={},e.attempt(BV,h,p)(v)}function h(v){return r++,n.push([t.currentConstruct,t.containerState]),d(v)}function p(v){if(v===null){i&&_(),m(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),g(v)}function g(v){if(v===null){y(e.exit("chunkFlow"),!0),m(0),e.consume(v);return}return wt(v)?(e.consume(v),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(v),g)}function y(v,w){const T=t.sliceStream(v);if(w&&T.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(T),t.parser.lazy[v.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const x=t.events.length;let A=x,M,D;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(M){D=t.events[A][1].end;break}M=!0}for(m(r),E=x;E<t.events.length;)t.events[E][1].end=Object.assign({},D),E++;Mu(t.events,A+1,0,t.events.slice(x)),t.events.length=E}}function m(v){let w=n.length;for(;w-- >v;){const T=n[w];t.containerState=T[1],T[0].exit.call(t,e)}n.length=v}function _(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function nqe(e,t,n){return Un(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jV(e){if(e===null||Xo(e)||QWe(e))return 1;if(XWe(e))return 2}function C6(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const iN={name:"attention",tokenize:iqe,resolveAll:rqe};function rqe(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);UV(f,-u),UV(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Vo(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Vo(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Vo(l,C6(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Vo(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Vo(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Mu(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function iqe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jV(r);let s;return o;function o(u){return e.enter("attentionSequence"),s=u,a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=jV(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function UV(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const sqe={name:"autolink",tokenize:oqe};function oqe(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return cu(p)?(e.consume(p),o):FV(p)?l(p):n(p)}function o(p){return p===43||p===45||p===46||uo(p)?a(p):l(p)}function a(p){return p===58?(e.consume(p),u):(p===43||p===45||p===46||uo(p))&&r++<32?(e.consume(p),a):l(p)}function u(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||rN(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),r=0,c):FV(p)?(e.consume(p),l):n(p)}function c(p){return uo(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||uo(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const xI={tokenize:aqe,partial:!0};function aqe(e,t,n){return Un(e,r,"linePrefix");function r(i){return i===null||wt(i)?t(i):n(i)}}const Bie={name:"blockQuote",tokenize:uqe,continuation:{tokenize:lqe},exit:cqe};function uqe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return zr(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function lqe(e,t,n){return Un(e,e.attempt(Bie,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function cqe(e){e.exit("blockQuote")}const jie={name:"characterEscape",tokenize:fqe};function fqe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return KWe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const VV=document.createElement("i");function O6(e){const t="&"+e+";";VV.innerHTML=t;const n=VV.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const Uie={name:"characterReference",tokenize:dqe};function dqe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=uo,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=YWe,c):(e.enter("characterReferenceValue"),s=7,o=nN,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),o===uo&&!O6(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(f)&&i++<s?(e.consume(f),c):n(f)}}const zV={name:"codeFenced",tokenize:hqe,concrete:!0};function hqe(e,t,n){const r=this,i={tokenize:T,partial:!0},s={tokenize:w,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let u=0,l;return c;function c(E){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=E,f(E)}function f(E){return E===l?(e.consume(E),u++,f):(e.exit("codeFencedFenceSequence"),u<3?n(E):Un(e,d,"whitespace")(E))}function d(E){return E===null||wt(E)?y(E):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||Xo(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Un(e,p,"whitespace")(E)):E===96&&E===l?n(E):(e.consume(E),h)}function p(E){return E===null||wt(E)?y(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===null||wt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(E)):E===96&&E===l?n(E):(e.consume(E),g)}function y(E){return e.exit("codeFencedFence"),r.interrupt?t(E):m(E)}function m(E){return E===null?v(E):wt(E)?e.attempt(s,e.attempt(i,v,a?Un(e,m,"linePrefix",a+1):m),v)(E):(e.enter("codeFlowValue"),_(E))}function _(E){return E===null||wt(E)?(e.exit("codeFlowValue"),m(E)):(e.consume(E),_)}function v(E){return e.exit("codeFenced"),t(E)}function w(E,x,A){const M=this;return D;function D(W){return E.enter("lineEnding"),E.consume(W),E.exit("lineEnding"),$}function $(W){return M.parser.lazy[M.now().line]?A(W):x(W)}}function T(E,x,A){let M=0;return Un(E,D,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function D(q){return E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),$(q)}function $(q){return q===l?(E.consume(q),M++,$):M<u?A(q):(E.exit("codeFencedFenceSequence"),Un(E,W,"whitespace")(q))}function W(q){return q===null||wt(q)?(E.exit("codeFencedFence"),x(q)):A(q)}}}const UO={name:"codeIndented",tokenize:mqe},pqe={tokenize:gqe,partial:!0};function mqe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Un(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):wt(l)?e.attempt(pqe,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||wt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function gqe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):wt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Un(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):wt(o)?i(o):n(o)}}const yqe={name:"codeText",tokenize:bqe,resolve:_qe,previous:vqe};function _qe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function vqe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bqe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):wt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||wt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function Vie(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Eqe(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),Mu(e,i,n-i+1,a))}}return!l}function Eqe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,g=0;const y=[g];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,y.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const m=a.slice(y[d],y[d+1]),_=s.pop();u.unshift([_,_+m.length-1]),Mu(e,_,2,m)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const wqe={tokenize:xqe,resolve:Tqe},Sqe={tokenize:Iqe,partial:!0};function Tqe(e){return Vie(e),e}function xqe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):wt(a)?e.check(Sqe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Iqe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Un(e,s,"linePrefix")}function s(o){if(o===null||wt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function zie(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),d):m===null||m===41||rN(m)?n(m):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||wt(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return m===40?++c>l?n(m):(e.consume(m),g):m===41?c--?(e.consume(m),g):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):m===null||Xo(m)?c?n(m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):rN(m)?n(m):(e.consume(m),m===92?y:g)}function y(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function Hie(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):wt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||wt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u=u||!zr(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function Wie(e,t,n,r,i,s){let o;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):wt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Un(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||wt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function ty(e,t){let n;return r;function r(i){return wt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):zr(i)?Un(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function jp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Aqe={name:"definition",tokenize:Oqe},Cqe={tokenize:Pqe,partial:!0};function Oqe(e,t,n){const r=this;let i;return s;function s(u){return e.enter("definition"),Hie.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return i=jp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),ty(e,zie(e,e.attempt(Cqe,Un(e,a,"whitespace"),Un(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(u)}function a(u){return u===null||wt(u)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(u)):n(u)}}function Pqe(e,t,n){return r;function r(o){return Xo(o)?ty(e,i)(o):n(o)}function i(o){return o===34||o===39||o===40?Wie(e,Un(e,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||wt(o)?t(o):n(o)}}const Rqe={name:"hardBreakEscape",tokenize:Nqe};function Nqe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(s),i}function i(s){return wt(s)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(s)):n(s)}}const kqe={name:"headingAtx",tokenize:$qe,resolve:Dqe};function Dqe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Mu(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function $qe(e,t,n){const r=this;let i=0;return s;function s(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||Xo(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||wt(c)?(e.exit("atxHeading"),t(c)):zr(c)?Un(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||Xo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const Lqe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],HV=["pre","script","style","textarea"],Mqe={name:"htmlFlow",tokenize:jqe,resolveTo:Bqe,concrete:!0},Fqe={tokenize:Uqe,partial:!0};function Bqe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function jqe(e,t,n){const r=this;let i,s,o,a,u;return l;function l(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),p):C===63?(e.consume(C),i=3,r.interrupt?t:ie):cu(C)?(e.consume(C),o=String.fromCharCode(C),s=!0,g):n(C)}function f(C){return C===45?(e.consume(C),i=2,d):C===91?(e.consume(C),i=5,o="CDATA[",a=0,h):cu(C)?(e.consume(C),i=4,r.interrupt?t:ie):n(C)}function d(C){return C===45?(e.consume(C),r.interrupt?t:ie):n(C)}function h(C){return C===o.charCodeAt(a++)?(e.consume(C),a===o.length?r.interrupt?t:$:h):n(C)}function p(C){return cu(C)?(e.consume(C),o=String.fromCharCode(C),g):n(C)}function g(C){return C===null||C===47||C===62||Xo(C)?C!==47&&s&&HV.includes(o.toLowerCase())?(i=1,r.interrupt?t(C):$(C)):Lqe.includes(o.toLowerCase())?(i=6,C===47?(e.consume(C),y):r.interrupt?t(C):$(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?_(C):m(C)):C===45||uo(C)?(e.consume(C),o+=String.fromCharCode(C),g):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:$):n(C)}function m(C){return zr(C)?(e.consume(C),m):M(C)}function _(C){return C===47?(e.consume(C),M):C===58||C===95||cu(C)?(e.consume(C),v):zr(C)?(e.consume(C),_):M(C)}function v(C){return C===45||C===46||C===58||C===95||uo(C)?(e.consume(C),v):w(C)}function w(C){return C===61?(e.consume(C),T):zr(C)?(e.consume(C),w):_(C)}function T(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,E):zr(C)?(e.consume(C),T):(u=null,x(C))}function E(C){return C===null||wt(C)?n(C):C===u?(e.consume(C),A):(e.consume(C),E)}function x(C){return C===null||C===34||C===39||C===60||C===61||C===62||C===96||Xo(C)?w(C):(e.consume(C),x)}function A(C){return C===47||C===62||zr(C)?_(C):n(C)}function M(C){return C===62?(e.consume(C),D):n(C)}function D(C){return zr(C)?(e.consume(C),D):C===null||wt(C)?$(C):n(C)}function $(C){return C===45&&i===2?(e.consume(C),de):C===60&&i===1?(e.consume(C),ae):C===62&&i===4?(e.consume(C),K):C===63&&i===3?(e.consume(C),ie):C===93&&i===5?(e.consume(C),ee):wt(C)&&(i===6||i===7)?e.check(Fqe,K,W)(C):C===null||wt(C)?W(C):(e.consume(C),$)}function W(C){return e.exit("htmlFlowData"),q(C)}function q(C){return C===null?I(C):wt(C)?e.attempt({tokenize:H,partial:!0},q,I)(C):(e.enter("htmlFlowData"),$(C))}function H(C,V,R){return P;function P(se){return C.enter("lineEnding"),C.consume(se),C.exit("lineEnding"),G}function G(se){return r.parser.lazy[r.now().line]?R(se):V(se)}}function de(C){return C===45?(e.consume(C),ie):$(C)}function ae(C){return C===47?(e.consume(C),o="",pe):$(C)}function pe(C){return C===62&&HV.includes(o.toLowerCase())?(e.consume(C),K):cu(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),pe):$(C)}function ee(C){return C===93?(e.consume(C),ie):$(C)}function ie(C){return C===62?(e.consume(C),K):C===45&&i===2?(e.consume(C),ie):$(C)}function K(C){return C===null||wt(C)?(e.exit("htmlFlowData"),I(C)):(e.consume(C),K)}function I(C){return e.exit("htmlFlow"),t(C)}}function Uqe(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(xI,t,n)}}const Vqe={name:"htmlText",tokenize:zqe};function zqe(e,t,n){const r=this;let i,s,o,a;return u;function u(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),l}function l(I){return I===33?(e.consume(I),c):I===47?(e.consume(I),x):I===63?(e.consume(I),T):cu(I)?(e.consume(I),D):n(I)}function c(I){return I===45?(e.consume(I),f):I===91?(e.consume(I),s="CDATA[",o=0,y):cu(I)?(e.consume(I),w):n(I)}function f(I){return I===45?(e.consume(I),d):n(I)}function d(I){return I===null||I===62?n(I):I===45?(e.consume(I),h):p(I)}function h(I){return I===null||I===62?n(I):p(I)}function p(I){return I===null?n(I):I===45?(e.consume(I),g):wt(I)?(a=p,ee(I)):(e.consume(I),p)}function g(I){return I===45?(e.consume(I),K):p(I)}function y(I){return I===s.charCodeAt(o++)?(e.consume(I),o===s.length?m:y):n(I)}function m(I){return I===null?n(I):I===93?(e.consume(I),_):wt(I)?(a=m,ee(I)):(e.consume(I),m)}function _(I){return I===93?(e.consume(I),v):m(I)}function v(I){return I===62?K(I):I===93?(e.consume(I),v):m(I)}function w(I){return I===null||I===62?K(I):wt(I)?(a=w,ee(I)):(e.consume(I),w)}function T(I){return I===null?n(I):I===63?(e.consume(I),E):wt(I)?(a=T,ee(I)):(e.consume(I),T)}function E(I){return I===62?K(I):T(I)}function x(I){return cu(I)?(e.consume(I),A):n(I)}function A(I){return I===45||uo(I)?(e.consume(I),A):M(I)}function M(I){return wt(I)?(a=M,ee(I)):zr(I)?(e.consume(I),M):K(I)}function D(I){return I===45||uo(I)?(e.consume(I),D):I===47||I===62||Xo(I)?$(I):n(I)}function $(I){return I===47?(e.consume(I),K):I===58||I===95||cu(I)?(e.consume(I),W):wt(I)?(a=$,ee(I)):zr(I)?(e.consume(I),$):K(I)}function W(I){return I===45||I===46||I===58||I===95||uo(I)?(e.consume(I),W):q(I)}function q(I){return I===61?(e.consume(I),H):wt(I)?(a=q,ee(I)):zr(I)?(e.consume(I),q):$(I)}function H(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,de):wt(I)?(a=H,ee(I)):zr(I)?(e.consume(I),H):(e.consume(I),i=void 0,pe)}function de(I){return I===i?(e.consume(I),ae):I===null?n(I):wt(I)?(a=de,ee(I)):(e.consume(I),de)}function ae(I){return I===62||I===47||Xo(I)?$(I):n(I)}function pe(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===62||Xo(I)?$(I):(e.consume(I),pe)}function ee(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),Un(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ie(I){return e.enter("htmlTextData"),a(I)}function K(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}}const P6={name:"labelEnd",tokenize:Kqe,resolveTo:Yqe,resolveAll:Gqe},Hqe={tokenize:Qqe},Wqe={tokenize:Xqe},qqe={tokenize:Jqe};function Gqe(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function Yqe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Vo(a,e.slice(s+1,s+r+3)),a=Vo(a,[["enter",c,t]]),a=Vo(a,C6(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Vo(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Vo(a,e.slice(o+1)),a=Vo(a,[["exit",u,t]]),Mu(e,s,e.length,a),e}function Kqe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(c){return s?s._inactive?l(c):(o=r.parser.defined.includes(jp(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),u):n(c)}function u(c){return c===40?e.attempt(Hqe,t,o?t:l)(c):c===91?e.attempt(Wqe,t,o?e.attempt(qqe,t,l):l)(c):o?t(c):l(c)}function l(c){return s._balanced=!0,n(c)}}function Qqe(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),ty(e,i)}function i(u){return u===41?a(u):zie(e,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return Xo(u)?ty(e,o)(u):a(u)}function o(u){return u===34||u===39||u===40?Wie(e,ty(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):a(u)}function a(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function Xqe(e,t,n){const r=this;return i;function i(o){return Hie.call(r,e,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(jp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function Jqe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Zqe={name:"labelStartImage",tokenize:eGe,resolveAll:P6.resolveAll};function eGe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const tGe={name:"labelStartLink",tokenize:nGe,resolveAll:P6.resolveAll};function nGe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const VO={name:"lineEnding",tokenize:rGe};function rGe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Un(e,t,"linePrefix")}}const zb={name:"thematicBreak",tokenize:iGe};function iGe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):zr(u)?Un(e,o,"whitespace")(u):r<3||u!==null&&!wt(u)?n(u):(e.exit("thematicBreak"),t(u))}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),o(u))}}const Is={name:"list",tokenize:aGe,continuation:{tokenize:uGe},exit:cGe},sGe={tokenize:fGe,partial:!0},oGe={tokenize:lGe,partial:!0};function aGe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:nN(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(zb,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return nN(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(xI,r.interrupt?n:c,e.attempt(sGe,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return zr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function uGe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(xI,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Un(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!zr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(oGe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Un(e,e.attempt(Is,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function lGe(e,t,n){const r=this;return Un(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function cGe(e){e.exit(this.containerState.type)}function fGe(e,t,n){const r=this;return Un(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!zr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const WV={name:"setextUnderline",tokenize:hGe,resolveTo:dGe};function dGe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function hGe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),s=c,u(c)):n(c)}function u(c){return c===s?(e.consume(c),u):(e.exit("setextHeadingLineSequence"),Un(e,l,"lineSuffix")(c))}function l(c){return c===null||wt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const pGe={tokenize:mGe};function mGe(e){const t=this,n=e.attempt(xI,r,e.attempt(this.parser.constructs.flowInitial,i,Un(e,e.attempt(this.parser.constructs.flow,i,e.attempt(wqe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const gGe={resolveAll:Gie()},yGe=qie("string"),_Ge=qie("text");function qie(e){return{tokenize:t,resolveAll:Gie(e==="text"?vGe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Gie(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function vGe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function bGe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:_,enter:v,exit:w,attempt:x(T),check:x(E),interrupt:x(E,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:g,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f($){return o=Vo(o,$),y(),o[o.length-1]!==null?[]:(A(t,0),l.events=C6(s,l.events,l),l.events)}function d($,W){return wGe(h($),W)}function h($){return EGe(o,$)}function p(){return Object.assign({},r)}function g($){i[$.line]=$.column,D()}function y(){let $;for(;r._index<o.length;){const W=o[r._index];if(typeof W=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<W.length;)m(W.charCodeAt(r._bufferIndex));else m(W)}}function m($){c=c($)}function _($){wt($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,D()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=$}function v($,W){const q=W||{};return q.type=$,q.start=p(),l.events.push(["enter",q,l]),a.push(q),q}function w($){const W=a.pop();return W.end=p(),l.events.push(["exit",W,l]),W}function T($,W){A($,W.from)}function E($,W){W.restore()}function x($,W){return q;function q(H,de,ae){let pe,ee,ie,K;return Array.isArray(H)?C(H):"tokenize"in H?C([H]):I(H);function I(G){return se;function se(ue){const he=ue!==null&&G[ue],fe=ue!==null&&G.null,Te=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return C(Te)(ue)}}function C(G){return pe=G,ee=0,G.length===0?ae:V(G[ee])}function V(G){return se;function se(ue){return K=M(),ie=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?P():G.tokenize.call(W?Object.assign(Object.create(l),W):l,u,R,P)(ue)}}function R(G){return $(ie,K),de}function P(G){return K.restore(),++ee<pe.length?V(pe[ee]):ae}}}function A($,W){$.resolveAll&&!s.includes($)&&s.push($),$.resolve&&Mu(l.events,W,l.events.length-W,$.resolve(l.events.slice(W),l)),$.resolveTo&&(l.events=$.resolveTo(l.events,l))}function M(){const $=p(),W=l.previous,q=l.currentConstruct,H=l.events.length,de=Array.from(a);return{restore:ae,from:H};function ae(){r=$,l.previous=W,l.currentConstruct=q,l.events.length=H,a=de,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function EGe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;return n===i?o=[e[n].slice(r,s)]:(o=e.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(e[i].slice(0,s))),o}function wGe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const SGe={42:Is,43:Is,45:Is,48:Is,49:Is,50:Is,51:Is,52:Is,53:Is,54:Is,55:Is,56:Is,57:Is,62:Bie},TGe={91:Aqe},xGe={[-2]:UO,[-1]:UO,32:UO},IGe={35:kqe,42:zb,45:[WV,zb],60:Mqe,61:WV,95:zb,96:zV,126:zV},AGe={38:Uie,92:jie},CGe={[-5]:VO,[-4]:VO,[-3]:VO,33:Zqe,38:Uie,42:iN,60:[sqe,Vqe],91:tGe,92:[Rqe,jie],93:P6,95:iN,96:yqe},OGe={null:[iN,gGe]},PGe={null:[42,95]},RGe={null:[]},NGe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:PGe,contentInitial:TGe,disable:RGe,document:SGe,flow:IGe,flowInitial:xGe,insideSpan:OGe,string:AGe,text:CGe},Symbol.toStringTag,{value:"Module"}));function kGe(e={}){const t=HWe([NGe].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(JWe),document:r(eqe),flow:r(pGe),string:r(yGe),text:r(_Ge)};return n;function r(i){return s;function s(o){return bGe(n,i,o)}}}const qV=/[\0\t\n\r]/g;function DGe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(qV.lastIndex=f,l=qV.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function $Ge(e){for(;!Vie(e););return e}function Yie(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const LGe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MGe(e){return e.replace(LGe,FGe)}function FGe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Yie(n.slice(s?2:1),s?16:10)}return O6(n)||e}const sN={}.hasOwnProperty,BGe=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),jGe(n)($Ge(kGe(n).document().write(DGe()(e,t,!0))))};function jGe(e={}){const t=Kie({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ue),autolinkProtocol:W,autolinkEmail:W,atxHeading:u(Ae),blockQuote:u(me),characterEscape:W,characterReference:W,codeFenced:u(Xe),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:u(Xe,l),codeText:u(Ge,l),codeTextData:W,data:W,codeFlowValue:W,definition:u(He),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:u(Le),hardBreakEscape:u(Ve),hardBreakTrailing:u(Ve),htmlFlow:u(Zt,l),htmlFlowData:W,htmlText:u(Zt,l),htmlTextData:W,image:u(Me),label:l,link:u(Ue),listItem:u(ze),listItemValue:g,listOrdered:u(bt,p),listUnordered:u(bt),paragraph:u(gt),reference:G,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:u(Ae),strong:u(Yt),thematicBreak:u(Gn)},exit:{atxHeading:f(),atxHeadingSequence:A,autolink:f(),autolinkEmail:Te,autolinkProtocol:fe,blockQuote:f(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:he,codeFenced:f(v),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:m,codeFlowValue:q,codeIndented:f(w),codeText:f(ee),codeTextData:q,data:q,definition:f(),definitionDestinationString:x,definitionLabelString:T,definitionTitleString:E,emphasis:f(),hardBreakEscape:f(de),hardBreakTrailing:f(de),htmlFlow:f(ae),htmlFlowData:q,htmlText:f(pe),htmlTextData:q,image:f(K),label:C,labelText:I,lineEnding:H,link:f(ie),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:se,resourceDestinationString:V,resourceTitleString:R,resource:P,setextHeading:f($),setextHeadingLineSequence:D,setextHeadingText:M,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(ce){let we={type:"root",children:[]};const Fe=[we],ot=[],$e=[],at={stack:Fe,tokenStack:ot,config:t,enter:c,exit:d,buffer:l,resume:h,setData:s,getData:o};let Be=-1;for(;++Be<ce.length;)if(ce[Be][1].type==="listOrdered"||ce[Be][1].type==="listUnordered")if(ce[Be][0]==="enter")$e.push(Be);else{const nt=$e.pop();Be=i(ce,nt,Be)}for(Be=-1;++Be<ce.length;){const nt=t[ce[Be][0]];sN.call(nt,ce[Be][1].type)&&nt[ce[Be][1].type].call(Object.assign({sliceSerialize:ce[Be][2].sliceSerialize},at),ce[Be][1])}if(ot.length>0){const nt=ot[ot.length-1];(nt[1]||GV).call(at,void 0,nt[0])}for(we.position={start:a(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:a(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)we=t.transforms[Be](we)||we;return we}function i(ce,we,Fe){let ot=we-1,$e=-1,at=!1,Be,nt,En,Wt;for(;++ot<=Fe;){const Tt=ce[ot];if(Tt[1].type==="listUnordered"||Tt[1].type==="listOrdered"||Tt[1].type==="blockQuote"?(Tt[0]==="enter"?$e++:$e--,Wt=void 0):Tt[1].type==="lineEndingBlank"?Tt[0]==="enter"&&(Be&&!Wt&&!$e&&!En&&(En=ot),Wt=void 0):Tt[1].type==="linePrefix"||Tt[1].type==="listItemValue"||Tt[1].type==="listItemMarker"||Tt[1].type==="listItemPrefix"||Tt[1].type==="listItemPrefixWhitespace"||(Wt=void 0),!$e&&Tt[0]==="enter"&&Tt[1].type==="listItemPrefix"||$e===-1&&Tt[0]==="exit"&&(Tt[1].type==="listUnordered"||Tt[1].type==="listOrdered")){if(Be){let Fn=ot;for(nt=void 0;Fn--;){const wn=ce[Fn];if(wn[1].type==="lineEnding"||wn[1].type==="lineEndingBlank"){if(wn[0]==="exit")continue;nt&&(ce[nt][1].type="lineEndingBlank",at=!0),wn[1].type="lineEnding",nt=Fn}else if(!(wn[1].type==="linePrefix"||wn[1].type==="blockQuotePrefix"||wn[1].type==="blockQuotePrefixWhitespace"||wn[1].type==="blockQuoteMarker"||wn[1].type==="listItemIndent"))break}En&&(!nt||En<nt)&&(Be._spread=!0),Be.end=Object.assign({},nt?ce[nt][1].start:Tt[1].end),ce.splice(nt||ot,0,["exit",Be,Tt[2]]),ot++,Fe++}Tt[1].type==="listItemPrefix"&&(Be={type:"listItem",_spread:!1,start:Object.assign({},Tt[1].start)},ce.splice(ot,0,["enter",Be,Tt[2]]),ot++,Fe++,En=void 0,Wt=!0)}}return ce[we][1]._spread=at,Fe}function s(ce,we){n[ce]=we}function o(ce){return n[ce]}function a(ce){return{line:ce.line,column:ce.column,offset:ce.offset}}function u(ce,we){return Fe;function Fe(ot){c.call(this,ce(ot),ot),we&&we.call(this,ot)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ce,we,Fe){return this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([we,Fe]),ce.position={start:a(we.start)},ce}function f(ce){return we;function we(Fe){ce&&ce.call(this,Fe),d.call(this,Fe)}}function d(ce,we){const Fe=this.stack.pop(),ot=this.tokenStack.pop();if(ot)ot[0].type!==ce.type&&(we?we.call(this,ce,ot[0]):(ot[1]||GV).call(this,ce,ot[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Bp({start:ce.start,end:ce.end})+"): its not open");return Fe.position.end=a(ce.end),Fe}function h(){return zWe(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function g(ce){if(o("expectingFirstListItemValue")){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(ce),10),s("expectingFirstListItemValue")}}function y(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.lang=ce}function m(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.meta=ce}function _(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function w(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce.replace(/(\r?\n|\r)$/g,"")}function T(ce){const we=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=we,Fe.identifier=jp(this.sliceSerialize(ce)).toLowerCase()}function E(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.title=ce}function x(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.url=ce}function A(ce){const we=this.stack[this.stack.length-1];if(!we.depth){const Fe=this.sliceSerialize(ce).length;we.depth=Fe}}function M(){s("setextHeadingSlurpLineEnding",!0)}function D(ce){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(ce).charCodeAt(0)===61?1:2}function $(){s("setextHeadingSlurpLineEnding")}function W(ce){const we=this.stack[this.stack.length-1];let Fe=we.children[we.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=un(),Fe.position={start:a(ce.start)},we.children.push(Fe)),this.stack.push(Fe)}function q(ce){const we=this.stack.pop();we.value+=this.sliceSerialize(ce),we.position.end=a(ce.end)}function H(ce){const we=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=we.children[we.children.length-1];Fe.position.end=a(ce.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(we.type)&&(W.call(this,ce),q.call(this,ce))}function de(){s("atHardBreak",!0)}function ae(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function pe(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function ee(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function ie(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function K(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function I(ce){const we=this.stack[this.stack.length-2],Fe=this.sliceSerialize(ce);we.label=MGe(Fe),we.identifier=jp(Fe).toLowerCase()}function C(){const ce=this.stack[this.stack.length-1],we=this.resume(),Fe=this.stack[this.stack.length-1];s("inReference",!0),Fe.type==="link"?Fe.children=ce.children:Fe.alt=we}function V(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.url=ce}function R(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.title=ce}function P(){s("inReference")}function G(){s("referenceType","collapsed")}function se(ce){const we=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=we,Fe.identifier=jp(this.sliceSerialize(ce)).toLowerCase(),s("referenceType","full")}function ue(ce){s("characterReferenceType",ce.type)}function he(ce){const we=this.sliceSerialize(ce),Fe=o("characterReferenceType");let ot;Fe?(ot=Yie(we,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ot=O6(we);const $e=this.stack.pop();$e.value+=ot,$e.position.end=a(ce.end)}function fe(ce){q.call(this,ce);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(ce)}function Te(ce){q.call(this,ce);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(ce)}function me(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function Ge(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function Ae(){return{type:"heading",depth:void 0,children:[]}}function Ve(){return{type:"break"}}function Zt(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function bt(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function ze(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function Yt(){return{type:"strong",children:[]}}function un(){return{type:"text",value:""}}function Gn(){return{type:"thematicBreak"}}}function Kie(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Kie(e,r):UGe(e,r)}return e}function UGe(e,t){let n;for(n in t)if(sN.call(t,n)){const r=n==="canContainEols"||n==="transforms",s=(sN.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),o=t[n];o&&(r?e[n]=[...s,...o]:Object.assign(s,o))}}function GV(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Bp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Bp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bp({start:t.start,end:t.end})+") is still open")}function VGe(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return BGe(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var ti=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const Hb={}.hasOwnProperty;function zGe(e,t){const n=t.data||{};return"value"in t&&!(Hb.call(n,"hName")||Hb.call(n,"hProperties")||Hb.call(n,"hChildren"))?e.augment(t,ti("text",t.value)):e(t,"div",os(e,t))}function Qie(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return Hb.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=HGe:i=e.unknownHandler,(typeof i=="function"?i:zGe)(e,t,n)}function HGe(e,t){return"children"in t?{...t,children:os(e,t)}:t}function os(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=Qie(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}const Xie=function(e){if(e==null)return YGe;if(typeof e=="string")return GGe(e);if(typeof e=="object")return Array.isArray(e)?WGe(e):qGe(e);if(typeof e=="function")return II(e);throw new Error("Expected function, string, or object as test")};function WGe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Xie(e[n]);return II(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function qGe(e){return II(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function GGe(e){return II(t);function t(n){return n&&n.type===e}}function II(e){return t;function t(...n){return!!e.call(this,...n)}}function YGe(){return!0}const KGe=!0,QGe="skip",YV=!1,XGe=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=Xie(t),s=r?-1:1;o(e,null,[])();function o(a,u,l){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,g,y;if((!t||i(a,u,l[l.length-1]||null))&&(h=JGe(n(a,l)),h[0]===YV))return h;if(a.children&&h[0]!==QGe)for(g=(r?a.children.length:-1)+s,y=l.concat(a);g>-1&&g<a.children.length;){if(p=o(a.children[g],g,y)(),p[0]===YV)return p;g=typeof p[1]=="number"?p[1]:g+s}return h}}};function JGe(e){return Array.isArray(e)?e:typeof e=="number"?[KGe,e]:[e]}const R6=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),XGe(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}},Jie=ese("start"),Zie=ese("end");function ese(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function ZGe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const KV={}.hasOwnProperty;function eYe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return R6(e,"definition",r=>{const i=QV(r.identifier);i&&!KV.call(t,i)&&(t[i]=r)}),n;function n(r){const i=QV(r);return i&&KV.call(t,i)?t[i]:null}}function QV(e){return String(e||"").toUpperCase()}function sg(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&uo(e.charCodeAt(n+1))&&uo(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function gl(e,t){const n=[];let r=-1;for(t&&n.push(ti("text",`
`));++r<e.length;)r&&n.push(ti("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(ti("text",`
`)),n}function tYe(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=os(e,r),s=String(r.identifier),o=sg(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:gl(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[ti("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:gl(n,!0)},{type:"text",value:`
`}]}}function nYe(e,t){return e(t,"blockquote",gl(os(e,t),!0))}function rYe(e,t){return[e(t,"br"),ti("text",`
`)]}function iYe(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const s=e(t,"code",i,[ti("text",n)]);return t.meta&&(s.data={meta:t.meta}),e(t.position,"pre",[s])}function sYe(e,t){return e(t,"del",os(e,t))}function oYe(e,t){return e(t,"em",os(e,t))}function tse(e,t){const n=String(t.identifier),r=sg(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[ti("text",String(s))])])}function aYe(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},tse(e,{type:"footnoteReference",identifier:i,position:t.position})}function uYe(e,t){return e(t,"h"+t.depth,os(e,t))}function lYe(e,t){return e.dangerous?e.augment(t,ti("raw",t.value)):null}function nse(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return ti("text","!["+t.alt+r);const i=os(e,t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift(ti("text","["));const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push(ti("text",r)),i}function cYe(e,t){const n=e.definition(t.identifier);if(!n)return nse(e,t);const r={src:sg(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function fYe(e,t){const n={src:sg(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function dYe(e,t){return e(t,"code",[ti("text",t.value.replace(/\r?\n|\r/g," "))])}function hYe(e,t){const n=e.definition(t.identifier);if(!n)return nse(e,t);const r={href:sg(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,os(e,t))}function pYe(e,t){const n={href:sg(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,os(e,t))}function mYe(e,t,n){const r=os(e,t),i=n?gYe(n):rse(t),s={},o=[];if(typeof t.checked=="boolean"){let l;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?l=r[0]:(l=e(null,"p",[]),r.unshift(l)),l.children.length>0&&l.children.unshift(ti("text"," ")),l.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const l=r[a];(i||a!==0||l.type!=="element"||l.tagName!=="p")&&o.push(ti("text",`
`)),l.type==="element"&&l.tagName==="p"&&!i?o.push(...l.children):o.push(l)}const u=r[r.length-1];return u&&(i||!("tagName"in u)||u.tagName!=="p")&&o.push(ti("text",`
`)),e(t,"li",s,o)}function gYe(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=rse(n[r]);return!!t}function rse(e){const t=e.spread;return t??e.children.length>1}function yYe(e,t){const n={},r=t.ordered?"ol":"ul",i=os(e,t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,gl(i,!0))}function _Ye(e,t){return e(t,"p",os(e,t))}function vYe(e,t){return e.augment(t,ti("root",gl(os(e,t))))}function bYe(e,t){return e(t,"strong",os(e,t))}function EYe(e,t){const n=t.children;let r=-1;const i=t.align||[],s=[];for(;++r<n.length;){const o=n[r].children,a=r===0?"th":"td",u=[];let l=-1;const c=t.align?i.length:o.length;for(;++l<c;){const f=o[l];u.push(e(f,a,{align:i[l]},f?os(e,f):[]))}s[r]=e(n[r],"tr",gl(u,!0))}return e(t,"table",gl([e(s[0].position,"thead",gl([s[0]],!0))].concat(s[1]?e({start:Jie(s[1]),end:Zie(s[s.length-1])},"tbody",gl(s.slice(1),!0)):[]),!0))}const XV=9,JV=32;function wYe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(ZV(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(ZV(t.slice(i),i>0,!1)),s.join("")}function ZV(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===XV||s===JV;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===XV||s===JV;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function SYe(e,t){return e.augment(t,ti("text",wYe(String(t.value))))}function TYe(e,t){return e(t,"hr")}const xYe={blockquote:nYe,break:rYe,code:iYe,delete:sYe,emphasis:oYe,footnoteReference:tse,footnote:aYe,heading:uYe,html:lYe,imageReference:cYe,image:fYe,inlineCode:dYe,linkReference:hYe,link:pYe,listItem:mYe,list:yYe,paragraph:_Ye,root:vYe,strong:bYe,table:EYe,text:SYe,thematicBreak:TYe,toml:B1,yaml:B1,definition:B1,footnoteDefinition:B1};function B1(){return null}const IYe={}.hasOwnProperty;function AYe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=eYe(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=s,o.handlers={...xYe,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,R6(e,"footnoteDefinition",a=>{const u=String(a.identifier).toUpperCase();IYe.call(i,u)||(i[u]=a)}),o;function s(a,u){if(a&&"data"in a&&a.data){const l=a.data;l.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=l.hName),u.type==="element"&&l.hProperties&&(u.properties={...u.properties,...l.hProperties}),"children"in u&&u.children&&l.hChildren&&(u.children=l.hChildren)}if(a){const l="type"in a?a:{position:a};ZGe(l)||(u.position={start:Jie(l),end:Zie(l)})}return u}function o(a,u,l,c){return Array.isArray(l)&&(c=l,l={}),s(a,{type:"element",tagName:u,properties:l||{},children:c||[]})}}function ise(e,t){const n=AYe(e,t),r=Qie(n,e,null),i=tYe(n);return i&&r.children.push(ti("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const CYe=function(e,t){return e&&"run"in e?PYe(e,t):RYe(e||t)},OYe=CYe;function PYe(e,t){return(n,r,i)=>{e.run(ise(n,t),r,s=>{i(s)})}}function RYe(e){return t=>ise(t,e)}class mv{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}mv.prototype.property={};mv.prototype.normal={};mv.prototype.space=null;function sse(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new mv(n,r,t)}function s_(e){return e.toLowerCase()}class la{constructor(t,n){this.property=t,this.attribute=n}}la.prototype.space=null;la.prototype.boolean=!1;la.prototype.booleanish=!1;la.prototype.overloadedBoolean=!1;la.prototype.number=!1;la.prototype.commaSeparated=!1;la.prototype.spaceSeparated=!1;la.prototype.commaOrSpaceSeparated=!1;la.prototype.mustUseProperty=!1;la.prototype.defined=!1;let NYe=0;const Ut=_h(),Br=_h(),ose=_h(),ke=_h(),Kn=_h(),Up=_h(),Zs=_h();function _h(){return 2**++NYe}const oN=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:Br,commaOrSpaceSeparated:Zs,commaSeparated:Up,number:ke,overloadedBoolean:ose,spaceSeparated:Kn},Symbol.toStringTag,{value:"Module"})),zO=Object.keys(oN);class N6 extends la{constructor(t,n,r,i){let s=-1;if(super(t,n),e7(this,"space",i),typeof r=="number")for(;++s<zO.length;){const o=zO[s];e7(this,zO[s],(r&oN[o])===oN[o])}}}N6.prototype.defined=!0;function e7(e,t,n){n&&(e[t]=n)}const kYe={}.hasOwnProperty;function og(e){const t={},n={};let r;for(r in e.properties)if(kYe.call(e.properties,r)){const i=e.properties[r],s=new N6(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[s_(r)]=r,n[s_(s.attribute)]=r}return new mv(t,n,e.space)}const ase=og({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),use=og({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function lse(e,t){return t in e?e[t]:t}function cse(e,t){return lse(e,t.toLowerCase())}const fse=og({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:cse,properties:{xmlns:null,xmlnsXLink:null}}),dse=og({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Br,ariaAutoComplete:null,ariaBusy:Br,ariaChecked:Br,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Kn,ariaCurrent:null,ariaDescribedBy:Kn,ariaDetails:null,ariaDisabled:Br,ariaDropEffect:Kn,ariaErrorMessage:null,ariaExpanded:Br,ariaFlowTo:Kn,ariaGrabbed:Br,ariaHasPopup:null,ariaHidden:Br,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kn,ariaLevel:ke,ariaLive:null,ariaModal:Br,ariaMultiLine:Br,ariaMultiSelectable:Br,ariaOrientation:null,ariaOwns:Kn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Br,ariaReadOnly:Br,ariaRelevant:null,ariaRequired:Br,ariaRoleDescription:Kn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Br,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),DYe=og({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:cse,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Up,acceptCharset:Kn,accessKey:Kn,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Kn,autoFocus:Ut,autoPlay:Ut,capture:Ut,charSet:null,checked:Ut,cite:null,className:Kn,cols:ke,colSpan:null,content:null,contentEditable:Br,controls:Ut,controlsList:Kn,coords:ke|Up,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:ose,draggable:Br,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Kn,height:ke,hidden:Ut,high:ke,href:null,hrefLang:null,htmlFor:Kn,httpEquiv:Kn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Kn,itemRef:Kn,itemScope:Ut,itemType:Kn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:ke,pattern:null,ping:Kn,placeholder:null,playsInline:Ut,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Kn,required:Ut,reversed:Ut,rows:ke,rowSpan:ke,sandbox:Kn,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Br,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:Br,width:ke,wrap:null,align:null,aLink:null,archive:Kn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Br,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:ke,security:null,unselectable:null}}),$Ye=og({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:lse,properties:{about:Zs,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Kn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Up,g2:Up,glyphName:Up,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:Zs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zs,rev:Zs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zs,requiredFeatures:Zs,requiredFonts:Zs,requiredFormats:Zs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:Zs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zs,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zs,to:null,transform:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),LYe=/^data[-\w.:]+$/i,t7=/-[a-z]/g,MYe=/[A-Z]/g;function AI(e,t){const n=s_(t);let r=t,i=la;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&LYe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(t7,BYe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!t7.test(s)){let o=s.replace(MYe,FYe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=N6}return new i(r,t)}function FYe(e){return"-"+e.toLowerCase()}function BYe(e){return e.charAt(1).toUpperCase()}const n7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gv=sse([use,ase,fse,dse,DYe],"html"),ag=sse([use,ase,fse,dse,$Ye],"svg");function jYe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{R6(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var hse={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k6=Symbol.for("react.element"),D6=Symbol.for("react.portal"),CI=Symbol.for("react.fragment"),OI=Symbol.for("react.strict_mode"),PI=Symbol.for("react.profiler"),RI=Symbol.for("react.provider"),NI=Symbol.for("react.context"),UYe=Symbol.for("react.server_context"),kI=Symbol.for("react.forward_ref"),DI=Symbol.for("react.suspense"),$I=Symbol.for("react.suspense_list"),LI=Symbol.for("react.memo"),MI=Symbol.for("react.lazy"),VYe=Symbol.for("react.offscreen"),pse;pse=Symbol.for("react.module.reference");function ca(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case k6:switch(e=e.type,e){case CI:case PI:case OI:case DI:case $I:return e;default:switch(e=e&&e.$$typeof,e){case UYe:case NI:case kI:case MI:case LI:case RI:return e;default:return t}}case D6:return t}}}kn.ContextConsumer=NI;kn.ContextProvider=RI;kn.Element=k6;kn.ForwardRef=kI;kn.Fragment=CI;kn.Lazy=MI;kn.Memo=LI;kn.Portal=D6;kn.Profiler=PI;kn.StrictMode=OI;kn.Suspense=DI;kn.SuspenseList=$I;kn.isAsyncMode=function(){return!1};kn.isConcurrentMode=function(){return!1};kn.isContextConsumer=function(e){return ca(e)===NI};kn.isContextProvider=function(e){return ca(e)===RI};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===k6};kn.isForwardRef=function(e){return ca(e)===kI};kn.isFragment=function(e){return ca(e)===CI};kn.isLazy=function(e){return ca(e)===MI};kn.isMemo=function(e){return ca(e)===LI};kn.isPortal=function(e){return ca(e)===D6};kn.isProfiler=function(e){return ca(e)===PI};kn.isStrictMode=function(e){return ca(e)===OI};kn.isSuspense=function(e){return ca(e)===DI};kn.isSuspenseList=function(e){return ca(e)===$I};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===CI||e===PI||e===OI||e===DI||e===$I||e===VYe||typeof e=="object"&&e!==null&&(e.$$typeof===MI||e.$$typeof===LI||e.$$typeof===RI||e.$$typeof===NI||e.$$typeof===kI||e.$$typeof===pse||e.getModuleId!==void 0)};kn.typeOf=ca;hse.exports=kn;var zYe=hse.exports;const HYe=Ba(zYe);function WYe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function r7(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function mse(e){return e.join(" ").trim()}function i7(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function gse(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var $6={exports:{}},s7=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,qYe=/\n/g,GYe=/^\s*/,YYe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,KYe=/^:\s*/,QYe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,XYe=/^[;\s]*/,JYe=/^\s+|\s+$/g,ZYe=`
`,o7="/",a7="*",od="",eKe="comment",tKe="declaration",nKe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(qYe);g&&(n+=g.length);var y=p.lastIndexOf(ZYe);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(g){return g.position=new o(p),l(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function u(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function l(){u(GYe)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=s();if(!(o7!=e.charAt(0)||a7!=e.charAt(1))){for(var g=2;od!=e.charAt(g)&&(a7!=e.charAt(g)||o7!=e.charAt(g+1));)++g;if(g+=2,od===e.charAt(g-1))return a("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:eKe,comment:y})}}function d(){var p=s(),g=u(YYe);if(g){if(f(),!u(KYe))return a("property missing ':'");var y=u(QYe),m=p({type:tKe,property:u7(g[0].replace(s7,od)),value:y?u7(y[0].replace(s7,od)):od});return u(XYe),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return l(),h()};function u7(e){return e?e.replace(JYe,od):od}var rKe=nKe;function yse(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=rKe(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}$6.exports=yse;$6.exports.default=yse;var iKe=$6.exports;const sKe=Ba(iKe),aN={}.hasOwnProperty,oKe=new Set(["table","thead","tbody","tfoot","tr"]);function _se(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(aKe(e,i,r,t)):i.type==="text"?(t.type!=="element"||!oKe.has(t.tagName)||!WYe(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function aKe(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?dWe:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=ag,e.schema=l),t.properties)for(c in t.properties)aN.call(t.properties,c)&&lKe(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=_se(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&aN.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===L.Fragment;if(!HYe.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const g=uKe(t);u.checked=g&&g.properties?!!g.properties.checked:null,u.index=HO(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=dKe(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=HO(r,t),u.siblingCount=HO(r)),p||(u.node=t),f.length>0?L.createElement(h,u,f):L.createElement(h,u)}function uKe(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function HO(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function lKe(e,t,n,r){const i=AI(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?gse(s):mse(s)),i.property==="style"&&typeof s=="string"&&(s=cKe(s)),i.space&&i.property?e[aN.call(n7,i.property)?n7[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function cKe(e){const t={};try{sKe(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,fKe)]=i}}function fKe(e,t){return t.toUpperCase()}function dKe(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const l7={}.hasOwnProperty,hKe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",j1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function vse(e){for(const s in j1)if(l7.call(j1,s)&&l7.call(e,s)){const o=j1[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${hKe}#${o.id}> for more info)`),delete j1[s]}const t=BWe().use(VGe).use(e.remarkPlugins||[]).use(OYe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(jYe,e),n=new TWe;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=L.createElement(L.Fragment,{},_se({options:e,schema:gv,listDepth:0},r));return e.className&&(i=L.createElement("div",{className:e.className},i)),i}vse.propTypes={children:dt.string,className:dt.string,allowElement:dt.func,allowedElements:dt.arrayOf(dt.string),disallowedElements:dt.arrayOf(dt.string),unwrapDisallowed:dt.bool,remarkPlugins:dt.arrayOf(dt.oneOfType([dt.object,dt.func,dt.arrayOf(dt.oneOfType([dt.bool,dt.string,dt.object,dt.func,dt.arrayOf(dt.any)]))])),rehypePlugins:dt.arrayOf(dt.oneOfType([dt.object,dt.func,dt.arrayOf(dt.oneOfType([dt.bool,dt.string,dt.object,dt.func,dt.arrayOf(dt.any)]))])),sourcePos:dt.bool,rawSourcePos:dt.bool,skipHtml:dt.bool,includeElementIndex:dt.bool,transformLinkUri:dt.oneOfType([dt.func,dt.bool]),linkTarget:dt.oneOfType([dt.func,dt.string]),transformImageUri:dt.func,components:dt.object};const bse=-1,FI=0,hT=1,pT=2,L6=3,M6=4,F6=5,B6=6,Ese=7,wse=8,c7=typeof self=="object"?self:globalThis,pKe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case FI:case bse:return n(o,i);case hT:{const a=n([],i);for(const u of o)a.push(r(u));return a}case pT:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case L6:return n(new Date(o),i);case M6:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case F6:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case B6:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case Ese:{const{name:a,message:u}=o;return n(new c7[a](u),i)}case wse:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new c7[s](o),i)};return r},f7=e=>pKe(new Map,e)(0),Mh="",{toString:mKe}={},{keys:gKe}=Object,Jg=e=>{const t=typeof e;if(t!=="object"||!e)return[FI,t];const n=mKe.call(e).slice(8,-1);switch(n){case"Array":return[hT,Mh];case"Object":return[pT,Mh];case"Date":return[L6,Mh];case"RegExp":return[M6,Mh];case"Map":return[F6,Mh];case"Set":return[B6,Mh]}return n.includes("Array")?[hT,n]:n.includes("Error")?[Ese,n]:[pT,n]},U1=([e,t])=>e===FI&&(t==="function"||t==="symbol"),yKe=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=Jg(o);switch(a){case FI:{let c=o;switch(u){case"bigint":a=wse,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([bse],o)}return i([a,c],o)}case hT:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case pT:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of gKe(o))(e||!U1(Jg(o[d])))&&c.push([s(d),s(o[d])]);return f}case L6:return i([a,o.toISOString()],o);case M6:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case F6:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(U1(Jg(d))||U1(Jg(h))))&&c.push([s(d),s(h)]);return f}case B6:{const c=[],f=i([a,c],o);for(const d of o)(e||!U1(Jg(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},d7=(e,{json:t,lossy:n}={})=>{const r=[];return yKe(!(t||n),!!t,new Map,r)(e),r},h7=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?f7(d7(e,t)):structuredClone(e):(e,t)=>f7(d7(e,t));const p7=/[#.]/g;function _Ke(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){p7.lastIndex=i;const a=p7.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const vKe=new Set(["button","menu","reset","submit"]),uN={}.hasOwnProperty;function Sse(e,t,n){const r=n&&SKe(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=_Ke(s,t),l.tagName=l.tagName.toLowerCase(),r&&uN.call(r,l.tagName)&&(l.tagName=r[l.tagName]),bKe(o,l.tagName)){let c;for(c in o)uN.call(o,c)&&EKe(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)lN(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function bKe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?vKe.has(e.type.toLowerCase()):!("value"in e)}function EKe(e,t,n,r){const i=AI(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=r7(r):i.commaSeparated?o=i7(r):i.commaOrSpaceSeparated?o=r7(i7(r).join(" ")):o=m7(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?wKe(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=m7(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function lN(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)lN(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?lN(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function m7(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||s_(n)===s_(t)))return!0}return n}function wKe(e){const t=[];let n;for(n in e)uN.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function SKe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const TKe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],xKe=Sse(gv,"div"),IKe=Sse(ag,"g",TKe),WO=/\r?\n|\r/g;function AKe(e){const t=String(e),n=[];for(WO.lastIndex=0;WO.test(t);)n.push(WO.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Ed={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tse={}.hasOwnProperty,CKe=Object.prototype;function OKe(e,t){const n=t||{};return j6({file:n.file||void 0,location:!1,schema:n.space==="svg"?ag:gv,verbose:n.verbose||!1},e)}function j6(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Wb(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:xse(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=AKe(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Wb(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Wb(e,r,n),n}default:return n=PKe(e,t),n}}function xse(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=j6(e,t[n]);r.push(i)}return r}function PKe(e,t){const n=e.schema;e.schema=t.namespaceURI===Ed.svg?ag:gv;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;Tse.call(CKe,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?IKe:xKe)(t.tagName,i,xse(e,t.childNodes));if(Wb(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&gp(u.startTag),c=u&&u.endTag&&gp(u.endTag),f=j6(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function Wb(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=RKe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function RKe(e,t,n){const r=gp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)Tse.call(n.attrs,o)&&(s[AI(e.schema,o).property]=gp(n.attrs[o]));n.startTag;const a=gp(n.startTag),u=n.endTag?gp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function gp(e){const t=g7({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=g7({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function g7(e){return e.line&&e.column?e:void 0}const y7={}.hasOwnProperty;function Ise(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&y7.call(i,e)){const u=String(i[e]);o=y7.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const NKe={},kKe={}.hasOwnProperty,Ase=Ise("type",{handlers:{root:$Ke,element:jKe,text:FKe,comment:BKe,doctype:MKe}});function DKe(e,t){const r=(t||NKe).space;return Ase(e,r==="svg"?ag:gv)}function $Ke(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=U6(e.children,n,t),ug(e,n),n}function LKe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=U6(e.children,n,t),ug(e,n),n}function MKe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return ug(e,t),t}function FKe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return ug(e,t),t}function BKe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return ug(e,t),t}function jKe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=ag);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&kKe.call(e.properties,s)){const u=UKe(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Ed[o],childNodes:[],parentNode:null};return a.childNodes=U6(e.children,a,r),ug(e,a),e.tagName==="template"&&e.content&&(a.content=LKe(e.content,r)),a}function UKe(e,t,n){const r=AI(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?gse(n):mse(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Ed[r.space]}return i}function U6(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Ase(e[r],n);s.parentNode=t,i.push(s)}return i}function ug(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const VKe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],zKe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),sr="";var F;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(F=F||(F={}));const Ts={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Cse(e){return e>=55296&&e<=57343}function HKe(e){return e>=56320&&e<=57343}function WKe(e,t){return(e-55296)*1024+9216+t}function Ose(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Pse(e){return e>=64976&&e<=65007||zKe.has(e)}var ve;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ve=ve||(ve={}));const qKe=65536;class GKe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=qKe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(HKe(n))return this.pos++,this._addGap(),WKe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,F.EOF;return this._err(ve.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;const r=this.html.charCodeAt(n);return r===F.CARRIAGE_RETURN?F.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;let t=this.html.charCodeAt(this.pos);return t===F.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,F.LINE_FEED):t===F.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Cse(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===F.LINE_FEED||t===F.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Ose(t)?this._err(ve.controlCharacterInInputStream):Pse(t)&&this._err(ve.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ht;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ht=Ht||(Ht={}));function Rse(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const mc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),YKe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var qO;const KKe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),QKe=(qO=String.fromCodePoint)!==null&&qO!==void 0?qO:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function XKe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=KKe.get(e))!==null&&t!==void 0?t:e}var hi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(hi||(hi={}));const JKe=32;var pu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(pu||(pu={}));function cN(e){return e>=hi.ZERO&&e<=hi.NINE}function ZKe(e){return e>=hi.UPPER_A&&e<=hi.UPPER_F||e>=hi.LOWER_A&&e<=hi.LOWER_F}function eQe(e){return e>=hi.UPPER_A&&e<=hi.UPPER_Z||e>=hi.LOWER_A&&e<=hi.LOWER_Z||cN(e)}function tQe(e){return e===hi.EQUALS||eQe(e)}var li;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(li||(li={}));var ad;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ad||(ad={}));class nQe{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=li.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ad.Strict}startEntity(t){this.decodeMode=t,this.state=li.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case li.EntityStart:return t.charCodeAt(n)===hi.NUM?(this.state=li.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=li.NamedEntity,this.stateNamedEntity(t,n));case li.NumericStart:return this.stateNumericStart(t,n);case li.NumericDecimal:return this.stateNumericDecimal(t,n);case li.NumericHex:return this.stateNumericHex(t,n);case li.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|JKe)===hi.LOWER_X?(this.state=li.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=li.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(cN(i)||ZKe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(cN(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===hi.SEMI)this.consumed+=1;else if(this.decodeMode===ad.Strict)return 0;return this.emitCodePoint(XKe(this.result),this.consumed),this.errors&&(t!==hi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&pu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=kse(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===ad.Attribute&&(s===0||tQe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&pu.VALUE_LENGTH)>>14,s!==0){if(o===hi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==ad.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&pu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~pu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case li.NamedEntity:return this.result!==0&&(this.decodeMode!==ad.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case li.NumericDecimal:return this.emitNumericEntity(0,2);case li.NumericHex:return this.emitNumericEntity(0,3);case li.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case li.EntityStart:return 0}}}function Nse(e){let t="";const n=new nQe(e,r=>t+=QKe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function kse(e,t,n,r){const i=(t&pu.BRANCH_LENGTH)>>7,s=t&pu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}Nse(mc);Nse(YKe);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var ef;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(ef=ef||(ef={}));var io;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(io=io||(io={}));var le;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(le=le||(le={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(b=b||(b={}));const rQe=new Map([[le.A,b.A],[le.ADDRESS,b.ADDRESS],[le.ANNOTATION_XML,b.ANNOTATION_XML],[le.APPLET,b.APPLET],[le.AREA,b.AREA],[le.ARTICLE,b.ARTICLE],[le.ASIDE,b.ASIDE],[le.B,b.B],[le.BASE,b.BASE],[le.BASEFONT,b.BASEFONT],[le.BGSOUND,b.BGSOUND],[le.BIG,b.BIG],[le.BLOCKQUOTE,b.BLOCKQUOTE],[le.BODY,b.BODY],[le.BR,b.BR],[le.BUTTON,b.BUTTON],[le.CAPTION,b.CAPTION],[le.CENTER,b.CENTER],[le.CODE,b.CODE],[le.COL,b.COL],[le.COLGROUP,b.COLGROUP],[le.DD,b.DD],[le.DESC,b.DESC],[le.DETAILS,b.DETAILS],[le.DIALOG,b.DIALOG],[le.DIR,b.DIR],[le.DIV,b.DIV],[le.DL,b.DL],[le.DT,b.DT],[le.EM,b.EM],[le.EMBED,b.EMBED],[le.FIELDSET,b.FIELDSET],[le.FIGCAPTION,b.FIGCAPTION],[le.FIGURE,b.FIGURE],[le.FONT,b.FONT],[le.FOOTER,b.FOOTER],[le.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[le.FORM,b.FORM],[le.FRAME,b.FRAME],[le.FRAMESET,b.FRAMESET],[le.H1,b.H1],[le.H2,b.H2],[le.H3,b.H3],[le.H4,b.H4],[le.H5,b.H5],[le.H6,b.H6],[le.HEAD,b.HEAD],[le.HEADER,b.HEADER],[le.HGROUP,b.HGROUP],[le.HR,b.HR],[le.HTML,b.HTML],[le.I,b.I],[le.IMG,b.IMG],[le.IMAGE,b.IMAGE],[le.INPUT,b.INPUT],[le.IFRAME,b.IFRAME],[le.KEYGEN,b.KEYGEN],[le.LABEL,b.LABEL],[le.LI,b.LI],[le.LINK,b.LINK],[le.LISTING,b.LISTING],[le.MAIN,b.MAIN],[le.MALIGNMARK,b.MALIGNMARK],[le.MARQUEE,b.MARQUEE],[le.MATH,b.MATH],[le.MENU,b.MENU],[le.META,b.META],[le.MGLYPH,b.MGLYPH],[le.MI,b.MI],[le.MO,b.MO],[le.MN,b.MN],[le.MS,b.MS],[le.MTEXT,b.MTEXT],[le.NAV,b.NAV],[le.NOBR,b.NOBR],[le.NOFRAMES,b.NOFRAMES],[le.NOEMBED,b.NOEMBED],[le.NOSCRIPT,b.NOSCRIPT],[le.OBJECT,b.OBJECT],[le.OL,b.OL],[le.OPTGROUP,b.OPTGROUP],[le.OPTION,b.OPTION],[le.P,b.P],[le.PARAM,b.PARAM],[le.PLAINTEXT,b.PLAINTEXT],[le.PRE,b.PRE],[le.RB,b.RB],[le.RP,b.RP],[le.RT,b.RT],[le.RTC,b.RTC],[le.RUBY,b.RUBY],[le.S,b.S],[le.SCRIPT,b.SCRIPT],[le.SECTION,b.SECTION],[le.SELECT,b.SELECT],[le.SOURCE,b.SOURCE],[le.SMALL,b.SMALL],[le.SPAN,b.SPAN],[le.STRIKE,b.STRIKE],[le.STRONG,b.STRONG],[le.STYLE,b.STYLE],[le.SUB,b.SUB],[le.SUMMARY,b.SUMMARY],[le.SUP,b.SUP],[le.TABLE,b.TABLE],[le.TBODY,b.TBODY],[le.TEMPLATE,b.TEMPLATE],[le.TEXTAREA,b.TEXTAREA],[le.TFOOT,b.TFOOT],[le.TD,b.TD],[le.TH,b.TH],[le.THEAD,b.THEAD],[le.TITLE,b.TITLE],[le.TR,b.TR],[le.TRACK,b.TRACK],[le.TT,b.TT],[le.U,b.U],[le.UL,b.UL],[le.SVG,b.SVG],[le.VAR,b.VAR],[le.WBR,b.WBR],[le.XMP,b.XMP]]);function lg(e){var t;return(t=rQe.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const Oe=b,iQe={[Ee.HTML]:new Set([Oe.ADDRESS,Oe.APPLET,Oe.AREA,Oe.ARTICLE,Oe.ASIDE,Oe.BASE,Oe.BASEFONT,Oe.BGSOUND,Oe.BLOCKQUOTE,Oe.BODY,Oe.BR,Oe.BUTTON,Oe.CAPTION,Oe.CENTER,Oe.COL,Oe.COLGROUP,Oe.DD,Oe.DETAILS,Oe.DIR,Oe.DIV,Oe.DL,Oe.DT,Oe.EMBED,Oe.FIELDSET,Oe.FIGCAPTION,Oe.FIGURE,Oe.FOOTER,Oe.FORM,Oe.FRAME,Oe.FRAMESET,Oe.H1,Oe.H2,Oe.H3,Oe.H4,Oe.H5,Oe.H6,Oe.HEAD,Oe.HEADER,Oe.HGROUP,Oe.HR,Oe.HTML,Oe.IFRAME,Oe.IMG,Oe.INPUT,Oe.LI,Oe.LINK,Oe.LISTING,Oe.MAIN,Oe.MARQUEE,Oe.MENU,Oe.META,Oe.NAV,Oe.NOEMBED,Oe.NOFRAMES,Oe.NOSCRIPT,Oe.OBJECT,Oe.OL,Oe.P,Oe.PARAM,Oe.PLAINTEXT,Oe.PRE,Oe.SCRIPT,Oe.SECTION,Oe.SELECT,Oe.SOURCE,Oe.STYLE,Oe.SUMMARY,Oe.TABLE,Oe.TBODY,Oe.TD,Oe.TEMPLATE,Oe.TEXTAREA,Oe.TFOOT,Oe.TH,Oe.THEAD,Oe.TITLE,Oe.TR,Oe.TRACK,Oe.UL,Oe.WBR,Oe.XMP]),[Ee.MATHML]:new Set([Oe.MI,Oe.MO,Oe.MN,Oe.MS,Oe.MTEXT,Oe.ANNOTATION_XML]),[Ee.SVG]:new Set([Oe.TITLE,Oe.FOREIGN_OBJECT,Oe.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function Dse(e){return e===Oe.H1||e===Oe.H2||e===Oe.H3||e===Oe.H4||e===Oe.H5||e===Oe.H6}le.STYLE,le.SCRIPT,le.XMP,le.IFRAME,le.NOEMBED,le.NOFRAMES,le.PLAINTEXT;const sQe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var j;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(j||(j={}));const $r={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function ny(e){return e>=F.DIGIT_0&&e<=F.DIGIT_9}function T0(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_Z}function oQe(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_Z}function gc(e){return oQe(e)||T0(e)}function fN(e){return gc(e)||ny(e)}function $se(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_F}function Lse(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_F}function aQe(e){return ny(e)||$se(e)||Lse(e)}function V1(e){return e+32}function Mse(e){return e===F.SPACE||e===F.LINE_FEED||e===F.TABULATION||e===F.FORM_FEED}function uQe(e){return e===F.EQUALS_SIGN||fN(e)}function _7(e){return Mse(e)||e===F.SOLIDUS||e===F.GREATER_THAN_SIGN}class lQe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new GKe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ht.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ht.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ht.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ht.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Rse(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ve.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=lg(t.tagName),t.type===Ht.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ve.endTagWithAttributes),t.selfClosing&&this._err(ve.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ht.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ht.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ht.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ht.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Mse(t)?Ht.WHITESPACE_CHARACTER:t===F.NULL?Ht.NULL_CHARACTER:Ht.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ht.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=mc[0];s>=0&&(s=kse(mc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=mc[s];const a=o&pu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==F.SEMICOLON&&this._isCharacterReferenceInAttribute()&&uQe(this.preprocessor.peek(1))?(n=[F.AMPERSAND],s+=u):(n=u===0?[mc[s]&~pu.VALUE_LENGTH]:u===1?[mc[++s]]:[mc[++s],mc[++s]],r=0,i=t!==F.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(ve.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case j.DATA:{this._stateData(t);break}case j.RCDATA:{this._stateRcdata(t);break}case j.RAWTEXT:{this._stateRawtext(t);break}case j.SCRIPT_DATA:{this._stateScriptData(t);break}case j.PLAINTEXT:{this._statePlaintext(t);break}case j.TAG_OPEN:{this._stateTagOpen(t);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case j.TAG_NAME:{this._stateTagName(t);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case j.BOGUS_COMMENT:{this._stateBogusComment(t);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case j.COMMENT_START:{this._stateCommentStart(t);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case j.COMMENT:{this._stateComment(t);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case j.COMMENT_END:{this._stateCommentEnd(t);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case j.DOCTYPE:{this._stateDoctype(t);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case j.CDATA_SECTION:{this._stateCdataSection(t);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case j.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case j.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case j.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case j.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case j.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case j.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case F.AMPERSAND:{this.returnState=j.DATA,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitCodePoint(t);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case F.AMPERSAND:{this.returnState=j.RCDATA,this.state=j.CHARACTER_REFERENCE;break}case F.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(gc(t))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(t);else switch(t){case F.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case F.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case F.QUESTION_MARK:{this._err(ve.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t);break}case F.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(gc(t))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(t);else switch(t){case F.GREATER_THAN_SIGN:{this._err(ve.missingEndTagName),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.tagName+=sr;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(T0(t)?V1(t):t)}}_stateRcdataLessThanSign(t){t===F.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){gc(t)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case F.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case F.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===F.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){gc(t)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case F.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case F.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){gc(t)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===F.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===F.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(sr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(sr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===F.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:gc(t)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){gc(t)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ts.SCRIPT,!1)&&_7(this.preprocessor.peek(Ts.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ts.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sr);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===F.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ts.SCRIPT,!1)&&_7(this.preprocessor.peek(Ts.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ts.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._err(ve.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:{this._err(ve.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.name+=sr;break}default:this.currentAttr.name+=String.fromCodePoint(T0(t)?V1(t):t)}}_stateAfterAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case F.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case F.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_UNQUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:case F.EQUALS_SIGN:case F.GRAVE_ACCENT:{this._err(ve.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case F.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=sr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ts.DASH_DASH,!0)?(this._createCommentToken(Ts.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(Ts.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ts.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(Ts.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(ve.cdataInHtmlContent),this._createCommentToken(Ts.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ve.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=j.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=j.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case F.LESS_THAN_SIGN:{n.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=sr;break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case F.EXCLAMATION_MARK:{n.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case F.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=j.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===F.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===F.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==F.GREATER_THAN_SIGN&&t!==F.EOF&&this._err(ve.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case F.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case F.HYPHEN_MINUS:{n.data+="-";break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=j.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{n.data+="--!",this.state=j.COMMENT_END_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ve.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=j.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case F.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(T0(t))this._createDoctypeToken(String.fromCharCode(V1(t))),this.state=j.DOCTYPE_NAME;else switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.NULL:{this._err(ve.unexpectedNullCharacter),this._createDoctypeToken(sr),this.state=j.DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.name+=sr;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(T0(t)?V1(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ts.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ts.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ve.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=sr;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=sr;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=sr;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=sr;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.NULL:{this._err(ve.unexpectedNullCharacter);break}case F.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case F.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case F.EOF:{this._err(ve.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===F.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA;break}case F.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===F.NUMBER_SIGN?this.state=j.NUMERIC_CHARACTER_REFERENCE:fN(t)?(this.state=j.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this.state=j.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){fN(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===F.SEMICOLON&&this._err(ve.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===F.LATIN_SMALL_X||t===F.LATIN_CAPITAL_X?this.state=j.HEXADEMICAL_CHARACTER_REFERENCE_START:ny(t)?(this.state=j.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(F.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){aQe(t)?(this.state=j.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(F.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){$se(t)?this.charRefCode=this.charRefCode*16+t-55:Lse(t)?this.charRefCode=this.charRefCode*16+t-87:ny(t)?this.charRefCode=this.charRefCode*16+t-48:t===F.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){ny(t)?this.charRefCode=this.charRefCode*10+t-48:t===F.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===F.NULL)this._err(ve.nullCharacterReference),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ve.characterReferenceOutsideUnicodeRange),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(Cse(this.charRefCode))this._err(ve.surrogateCharacterReference),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(Pse(this.charRefCode))this._err(ve.noncharacterCharacterReference);else if(Ose(this.charRefCode)||this.charRefCode===F.CARRIAGE_RETURN){this._err(ve.controlCharacterReference);const n=sQe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const Fse=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),v7=new Set([...Fse,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),z1=new Map([[b.APPLET,Ee.HTML],[b.CAPTION,Ee.HTML],[b.HTML,Ee.HTML],[b.MARQUEE,Ee.HTML],[b.OBJECT,Ee.HTML],[b.TABLE,Ee.HTML],[b.TD,Ee.HTML],[b.TEMPLATE,Ee.HTML],[b.TH,Ee.HTML],[b.ANNOTATION_XML,Ee.MATHML],[b.MI,Ee.MATHML],[b.MN,Ee.MATHML],[b.MO,Ee.MATHML],[b.MS,Ee.MATHML],[b.MTEXT,Ee.MATHML],[b.DESC,Ee.SVG],[b.FOREIGN_OBJECT,Ee.SVG],[b.TITLE,Ee.SVG]]),cQe=[b.H1,b.H2,b.H3,b.H4,b.H5,b.H6],fQe=[b.TR,b.TEMPLATE,b.HTML],dQe=[b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML],hQe=[b.TABLE,b.TEMPLATE,b.HTML],pQe=[b.TD,b.TH];class mQe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(cQe,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(pQe,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(hQe,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(dQe,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(fQe,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(z1.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(Dse(n)&&r===Ee.HTML)return!0;if(z1.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===b.UL||r===b.OL)&&i===Ee.HTML||z1.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===b.BUTTON&&i===Ee.HTML||z1.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===b.TABLE||r===b.TEMPLATE||r===b.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===b.TBODY||n===b.THEAD||n===b.TFOOT)return!0;if(n===b.TABLE||n===b.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==b.OPTION&&r!==b.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Fse.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;v7.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&v7.has(this.currentTagId);)this.pop()}}const GO=3;var wa;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(wa=wa||(wa={}));const b7={type:wa.Marker};class gQe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===wa.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<GO)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<GO)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=GO&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(b7)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:wa.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:wa.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(b7);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===wa.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===wa.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===wa.Element&&n.element===t)}}function E7(e){return{nodeName:"#text",value:e,parentNode:null}}const Wh={createDocument(){return{nodeName:"#document",mode:io.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Wh.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Wh.isTextNode(n)){n.value+=t;return}}Wh.appendChild(e,E7(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Wh.isTextNode(r)?r.value+=t:Wh.insertBefore(e,E7(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Bse="html",yQe="about:legacy-compat",_Qe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",jse=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],vQe=[...jse,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],bQe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Use=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],EQe=[...Use,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function w7(e,t){return t.some(n=>e.startsWith(n))}function wQe(e){return e.name===Bse&&e.publicId===null&&(e.systemId===null||e.systemId===yQe)}function SQe(e){if(e.name!==Bse)return io.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===_Qe)return io.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),bQe.has(n))return io.QUIRKS;let r=t===null?vQe:jse;if(w7(n,r))return io.QUIRKS;if(r=t===null?Use:EQe,w7(n,r))return io.LIMITED_QUIRKS}return io.NO_QUIRKS}const S7={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},TQe="definitionurl",xQe="definitionURL",IQe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),AQe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),CQe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),OQe=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function PQe(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===ef.COLOR||r===ef.SIZE||r===ef.FACE)||OQe.has(t)}function Vse(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===TQe){e.attrs[t].name=xQe;break}}function zse(e){for(let t=0;t<e.attrs.length;t++){const n=IQe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function V6(e){for(let t=0;t<e.attrs.length;t++){const n=AQe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function RQe(e){const t=CQe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=lg(e.tagName))}function NQe(e,t){return t===Ee.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function kQe(e,t,n){if(t===Ee.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===ef.ENCODING){const i=n[r].value.toLowerCase();return i===S7.TEXT_HTML||i===S7.APPLICATION_XML}}return t===Ee.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function DQe(e,t,n,r){return(!r||r===Ee.HTML)&&kQe(e,t,n)||(!r||r===Ee.MATHML)&&NQe(e,t)}const $Qe="hidden",LQe=8,MQe=3;var Y;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Y||(Y={}));const FQe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Hse=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),T7={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Wh,onParseError:null};class x7{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Y.INITIAL,this.originalInsertionMode=Y.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...T7,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new lQe(this.options,this),this.activeFormattingElements=new gQe(this.treeAdapter),this.fragmentContextID=r?lg(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new mQe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...T7,...n};t??(t=r.treeAdapter.createElement(le.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===b.TEMPLATE&&s.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:FQe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Y.TEXT}switchToPlaintextParsing(){this.insertionMode=Y.TEXT,this.originalInsertionMode=Y.IN_BODY,this.tokenizer.state=$r.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===le.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=$r.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=$r.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=$r.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=$r.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(le.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Ht.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===le.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case Ht.CHARACTER:{this.onCharacter(t);break}case Ht.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ht.COMMENT:{this.onComment(t);break}case Ht.DOCTYPE:{this.onDoctype(t);break}case Ht.START_TAG:{this._processStartTag(t);break}case Ht.END_TAG:{this.onEndTag(t);break}case Ht.EOF:{this.onEof(t);break}case Ht.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return DQe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===wa.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Y.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=Y.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=Y.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=Y.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=Y.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=Y.IN_TABLE;return}case b.BODY:{this.insertionMode=Y.IN_BODY;return}case b.FRAMESET:{this.insertionMode=Y.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?Y.AFTER_HEAD:Y.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=Y.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=Y.IN_HEAD;return}break}}this.insertionMode=Y.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=Y.IN_SELECT_IN_TABLE;return}}this.insertionMode=Y.IN_SELECT}_isElementCausesFosterParenting(t){return Hse.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return iQe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pJe(this,t);return}switch(this.insertionMode){case Y.INITIAL:{Zg(this,t);break}case Y.BEFORE_HTML:{ry(this,t);break}case Y.BEFORE_HEAD:{iy(this,t);break}case Y.IN_HEAD:{sy(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{oy(this,t);break}case Y.AFTER_HEAD:{ay(this,t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:{qse(this,t);break}case Y.TEXT:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{YO(this,t);break}case Y.IN_TABLE_TEXT:{Jse(this,t);break}case Y.IN_COLUMN_GROUP:{mT(this,t);break}case Y.AFTER_BODY:{gT(this,t);break}case Y.AFTER_AFTER_BODY:{qb(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){hJe(this,t);return}switch(this.insertionMode){case Y.INITIAL:{Zg(this,t);break}case Y.BEFORE_HTML:{ry(this,t);break}case Y.BEFORE_HEAD:{iy(this,t);break}case Y.IN_HEAD:{sy(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{oy(this,t);break}case Y.AFTER_HEAD:{ay(this,t);break}case Y.TEXT:{this._insertCharacters(t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{YO(this,t);break}case Y.IN_COLUMN_GROUP:{mT(this,t);break}case Y.AFTER_BODY:{gT(this,t);break}case Y.AFTER_AFTER_BODY:{qb(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){dN(this,t);return}switch(this.insertionMode){case Y.INITIAL:case Y.BEFORE_HTML:case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_TEMPLATE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{dN(this,t);break}case Y.IN_TABLE_TEXT:{e0(this,t);break}case Y.AFTER_BODY:{WQe(this,t);break}case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{qQe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Y.INITIAL:{GQe(this,t);break}case Y.BEFORE_HEAD:case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:{this._err(t,ve.misplacedDoctype);break}case Y.IN_TABLE_TEXT:{e0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ve.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?mJe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{Zg(this,t);break}case Y.BEFORE_HTML:{YQe(this,t);break}case Y.BEFORE_HEAD:{QQe(this,t);break}case Y.IN_HEAD:{Va(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{ZQe(this,t);break}case Y.AFTER_HEAD:{tXe(this,t);break}case Y.IN_BODY:{as(this,t);break}case Y.IN_TABLE:{Cm(this,t);break}case Y.IN_TABLE_TEXT:{e0(this,t);break}case Y.IN_CAPTION:{XXe(this,t);break}case Y.IN_COLUMN_GROUP:{W6(this,t);break}case Y.IN_TABLE_BODY:{UI(this,t);break}case Y.IN_ROW:{VI(this,t);break}case Y.IN_CELL:{eJe(this,t);break}case Y.IN_SELECT:{toe(this,t);break}case Y.IN_SELECT_IN_TABLE:{nJe(this,t);break}case Y.IN_TEMPLATE:{iJe(this,t);break}case Y.AFTER_BODY:{oJe(this,t);break}case Y.IN_FRAMESET:{aJe(this,t);break}case Y.AFTER_FRAMESET:{lJe(this,t);break}case Y.AFTER_AFTER_BODY:{fJe(this,t);break}case Y.AFTER_AFTER_FRAMESET:{dJe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?gJe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Y.INITIAL:{Zg(this,t);break}case Y.BEFORE_HTML:{KQe(this,t);break}case Y.BEFORE_HEAD:{XQe(this,t);break}case Y.IN_HEAD:{JQe(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{eXe(this,t);break}case Y.AFTER_HEAD:{nXe(this,t);break}case Y.IN_BODY:{jI(this,t);break}case Y.TEXT:{UXe(this,t);break}case Y.IN_TABLE:{o_(this,t);break}case Y.IN_TABLE_TEXT:{e0(this,t);break}case Y.IN_CAPTION:{JXe(this,t);break}case Y.IN_COLUMN_GROUP:{ZXe(this,t);break}case Y.IN_TABLE_BODY:{hN(this,t);break}case Y.IN_ROW:{eoe(this,t);break}case Y.IN_CELL:{tJe(this,t);break}case Y.IN_SELECT:{noe(this,t);break}case Y.IN_SELECT_IN_TABLE:{rJe(this,t);break}case Y.IN_TEMPLATE:{sJe(this,t);break}case Y.AFTER_BODY:{ioe(this,t);break}case Y.IN_FRAMESET:{uJe(this,t);break}case Y.AFTER_FRAMESET:{cJe(this,t);break}case Y.AFTER_AFTER_BODY:{qb(this,t);break}}}onEof(t){switch(this.insertionMode){case Y.INITIAL:{Zg(this,t);break}case Y.BEFORE_HTML:{ry(this,t);break}case Y.BEFORE_HEAD:{iy(this,t);break}case Y.IN_HEAD:{sy(this,t);break}case Y.IN_HEAD_NO_SCRIPT:{oy(this,t);break}case Y.AFTER_HEAD:{ay(this,t);break}case Y.IN_BODY:case Y.IN_TABLE:case Y.IN_CAPTION:case Y.IN_COLUMN_GROUP:case Y.IN_TABLE_BODY:case Y.IN_ROW:case Y.IN_CELL:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:{Qse(this,t);break}case Y.TEXT:{VXe(this,t);break}case Y.IN_TABLE_TEXT:{e0(this,t);break}case Y.IN_TEMPLATE:{roe(this,t);break}case Y.AFTER_BODY:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{H6(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===F.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Y.IN_HEAD:case Y.IN_HEAD_NO_SCRIPT:case Y.AFTER_HEAD:case Y.TEXT:case Y.IN_COLUMN_GROUP:case Y.IN_SELECT:case Y.IN_SELECT_IN_TABLE:case Y.IN_FRAMESET:case Y.AFTER_FRAMESET:{this._insertCharacters(t);break}case Y.IN_BODY:case Y.IN_CAPTION:case Y.IN_CELL:case Y.IN_TEMPLATE:case Y.AFTER_BODY:case Y.AFTER_AFTER_BODY:case Y.AFTER_AFTER_FRAMESET:{Wse(this,t);break}case Y.IN_TABLE:case Y.IN_TABLE_BODY:case Y.IN_ROW:{YO(this,t);break}case Y.IN_TABLE_TEXT:{Xse(this,t);break}}}}function BQe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Kse(e,t),n}function jQe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function UQe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=MQe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=VQe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function VQe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function zQe(e,t,n){const r=e.treeAdapter.getTagName(t),i=lg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===b.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function HQe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function z6(e,t){for(let n=0;n<LQe;n++){const r=BQe(e,t);if(!r)break;const i=jQe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=UQe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&zQe(e,o,s),HQe(e,i,r)}}function dN(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function WQe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function qQe(e,t){e._appendCommentNode(t,e.document)}function H6(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function GQe(e,t){e._setDocumentType(t);const n=t.forceQuirks?io.QUIRKS:SQe(t);wQe(t)||e._err(t,ve.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Y.BEFORE_HTML}function Zg(e,t){e._err(t,ve.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,io.QUIRKS),e.insertionMode=Y.BEFORE_HTML,e._processToken(t)}function YQe(e,t){t.tagID===b.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=Y.BEFORE_HEAD):ry(e,t)}function KQe(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&ry(e,t)}function ry(e,t){e._insertFakeRootElement(),e.insertionMode=Y.BEFORE_HEAD,e._processToken(t)}function QQe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD;break}default:iy(e,t)}}function XQe(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?iy(e,t):e._err(t,ve.endTagWithoutMatchingOpenElement)}function iy(e,t){e._insertFakeElement(le.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=Y.IN_HEAD,e._processToken(t)}function Va(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,$r.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,$r.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=Y.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,$r.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,$r.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Y.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Y.IN_TEMPLATE);break}case b.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:sy(e,t)}}function JQe(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{sy(e,t);break}case b.TEMPLATE:{vh(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function vh(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,ve.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ve.endTagWithoutMatchingOpenElement)}function sy(e,t){e.openElements.pop(),e.insertionMode=Y.AFTER_HEAD,e._processToken(t)}function ZQe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{Va(e,t);break}case b.NOSCRIPT:{e._err(t,ve.nestedNoscriptInHead);break}default:oy(e,t)}}function eXe(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Y.IN_HEAD;break}case b.BR:{oy(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function oy(e,t){const n=t.type===Ht.EOF?ve.openElementsLeftAfterEof:ve.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Y.IN_HEAD,e._processToken(t)}function tXe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=Y.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,ve.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),Va(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:ay(e,t)}}function nXe(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{ay(e,t);break}case b.TEMPLATE:{vh(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function ay(e,t){e._insertFakeElement(le.BODY,b.BODY),e.insertionMode=Y.IN_BODY,BI(e,t)}function BI(e,t){switch(t.type){case Ht.CHARACTER:{qse(e,t);break}case Ht.WHITESPACE_CHARACTER:{Wse(e,t);break}case Ht.COMMENT:{dN(e,t);break}case Ht.START_TAG:{as(e,t);break}case Ht.END_TAG:{jI(e,t);break}case Ht.EOF:{Qse(e,t);break}}}function Wse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function qse(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function rXe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function iXe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function sXe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=Y.IN_FRAMESET)}function oXe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function aXe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),Dse(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function uXe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function lXe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function cXe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===b.LI&&i===b.LI||(n===b.DD||n===b.DT)&&(i===b.DD||i===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==b.ADDRESS&&i!==b.DIV&&i!==b.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function fXe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=$r.PLAINTEXT}function dXe(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function hXe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(le.A);n&&(z6(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pXe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function mXe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(z6(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function gXe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function yXe(e,t){e.treeAdapter.getDocumentMode(e.document)!==io.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=Y.IN_TABLE}function Gse(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Yse(e){const t=Rse(e,ef.TYPE);return t!=null&&t.toLowerCase()===$Qe}function _Xe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),Yse(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function vXe(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function bXe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function EXe(e,t){t.tagName=le.IMG,t.tagID=b.IMG,Gse(e,t)}function wXe(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=$r.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Y.TEXT}function SXe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,$r.RAWTEXT)}function TXe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,$r.RAWTEXT)}function I7(e,t){e._switchToTextParsing(t,$r.RAWTEXT)}function xXe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Y.IN_TABLE||e.insertionMode===Y.IN_CAPTION||e.insertionMode===Y.IN_TABLE_BODY||e.insertionMode===Y.IN_ROW||e.insertionMode===Y.IN_CELL?Y.IN_SELECT_IN_TABLE:Y.IN_SELECT}function IXe(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function AXe(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function CXe(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,Ee.HTML)}function OXe(e,t){e._reconstructActiveFormattingElements(),Vse(t),V6(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function PXe(e,t){e._reconstructActiveFormattingElements(),zse(t),V6(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function A7(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function as(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{pXe(e,t);break}case b.A:{hXe(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{aXe(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{oXe(e,t);break}case b.LI:case b.DD:case b.DT:{cXe(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{Gse(e,t);break}case b.HR:{bXe(e,t);break}case b.RB:case b.RTC:{AXe(e,t);break}case b.RT:case b.RP:{CXe(e,t);break}case b.PRE:case b.LISTING:{uXe(e,t);break}case b.XMP:{SXe(e,t);break}case b.SVG:{PXe(e,t);break}case b.HTML:{rXe(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{Va(e,t);break}case b.BODY:{iXe(e,t);break}case b.FORM:{lXe(e,t);break}case b.NOBR:{mXe(e,t);break}case b.MATH:{OXe(e,t);break}case b.TABLE:{yXe(e,t);break}case b.INPUT:{_Xe(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{vXe(e,t);break}case b.IMAGE:{EXe(e,t);break}case b.BUTTON:{dXe(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{gXe(e,t);break}case b.IFRAME:{TXe(e,t);break}case b.SELECT:{xXe(e,t);break}case b.OPTION:case b.OPTGROUP:{IXe(e,t);break}case b.NOEMBED:{I7(e,t);break}case b.FRAMESET:{sXe(e,t);break}case b.TEXTAREA:{wXe(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?I7(e,t):A7(e,t);break}case b.PLAINTEXT:{fXe(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:A7(e,t)}}function RXe(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=Y.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function NXe(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=Y.AFTER_BODY,ioe(e,t))}function kXe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function DXe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function $Xe(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(le.P,b.P),e._closePElement()}function LXe(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function MXe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function FXe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function BXe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function jXe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(le.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function Kse(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function jI(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{z6(e,t);break}case b.P:{$Xe(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{kXe(e,t);break}case b.LI:{LXe(e);break}case b.DD:case b.DT:{MXe(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{FXe(e);break}case b.BR:{jXe(e);break}case b.BODY:{RXe(e,t);break}case b.HTML:{NXe(e,t);break}case b.FORM:{DXe(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{BXe(e,t);break}case b.TEMPLATE:{vh(e,t);break}default:Kse(e,t)}}function Qse(e,t){e.tmplInsertionModeStack.length>0?roe(e,t):H6(e,t)}function UXe(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function VXe(e,t){e._err(t,ve.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function YO(e,t){if(Hse.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Y.IN_TABLE_TEXT,t.type){case Ht.CHARACTER:{Jse(e,t);break}case Ht.WHITESPACE_CHARACTER:{Xse(e,t);break}}else yv(e,t)}function zXe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=Y.IN_CAPTION}function HXe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Y.IN_COLUMN_GROUP}function WXe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(le.COLGROUP,b.COLGROUP),e.insertionMode=Y.IN_COLUMN_GROUP,W6(e,t)}function qXe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Y.IN_TABLE_BODY}function GXe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(le.TBODY,b.TBODY),e.insertionMode=Y.IN_TABLE_BODY,UI(e,t)}function YXe(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function KXe(e,t){Yse(t)?e._appendElement(t,Ee.HTML):yv(e,t),t.ackSelfClosing=!0}function QXe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Cm(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{GXe(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{Va(e,t);break}case b.COL:{WXe(e,t);break}case b.FORM:{QXe(e,t);break}case b.TABLE:{YXe(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{qXe(e,t);break}case b.INPUT:{KXe(e,t);break}case b.CAPTION:{zXe(e,t);break}case b.COLGROUP:{HXe(e,t);break}default:yv(e,t)}}function o_(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{vh(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:yv(e,t)}}function yv(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,BI(e,t),e.fosterParentingEnabled=n}function Xse(e,t){e.pendingCharacterTokens.push(t)}function Jse(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function e0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)yv(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Zse=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function XXe(e,t){const n=t.tagID;Zse.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,Cm(e,t)):as(e,t)}function JXe(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_TABLE,n===b.TABLE&&o_(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:jI(e,t)}}function W6(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{Va(e,t);break}default:mT(e,t)}}function ZXe(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case b.TEMPLATE:{vh(e,t);break}case b.COL:break;default:mT(e,t)}}function mT(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=Y.IN_TABLE,e._processToken(t))}function UI(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Y.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(le.TR,b.TR),e.insertionMode=Y.IN_ROW,VI(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,Cm(e,t));break}default:Cm(e,t)}}function hN(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE,o_(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:o_(e,t)}}function VI(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=Y.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,UI(e,t));break}default:Cm(e,t)}}function eoe(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,hN(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Y.IN_TABLE_BODY,hN(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:o_(e,t)}}function eJe(e,t){const n=t.tagID;Zse.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),VI(e,t)):as(e,t)}function tJe(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Y.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),eoe(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:jI(e,t)}}function toe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{Va(e,t);break}}}function noe(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{vh(e,t);break}}}function nJe(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):toe(e,t)}function rJe(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):noe(e,t)}function iJe(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{Va(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=Y.IN_TABLE,e.insertionMode=Y.IN_TABLE,Cm(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=Y.IN_COLUMN_GROUP,e.insertionMode=Y.IN_COLUMN_GROUP,W6(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=Y.IN_TABLE_BODY,e.insertionMode=Y.IN_TABLE_BODY,UI(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=Y.IN_ROW,e.insertionMode=Y.IN_ROW,VI(e,t);break}default:e.tmplInsertionModeStack[0]=Y.IN_BODY,e.insertionMode=Y.IN_BODY,as(e,t)}}function sJe(e,t){t.tagID===b.TEMPLATE&&vh(e,t)}function roe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):H6(e,t)}function oJe(e,t){t.tagID===b.HTML?as(e,t):gT(e,t)}function ioe(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=Y.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else gT(e,t)}function gT(e,t){e.insertionMode=Y.IN_BODY,BI(e,t)}function aJe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.FRAMESET:{e._insertElement(t,Ee.HTML);break}case b.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{Va(e,t);break}}}function uJe(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=Y.AFTER_FRAMESET))}function lJe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.NOFRAMES:{Va(e,t);break}}}function cJe(e,t){t.tagID===b.HTML&&(e.insertionMode=Y.AFTER_AFTER_FRAMESET)}function fJe(e,t){t.tagID===b.HTML?as(e,t):qb(e,t)}function qb(e,t){e.insertionMode=Y.IN_BODY,BI(e,t)}function dJe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.NOFRAMES:{Va(e,t);break}}}function hJe(e,t){t.chars=sr,e._insertCharacters(t)}function pJe(e,t){e._insertCharacters(t),e.framesetOk=!1}function soe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function mJe(e,t){if(PQe(t))soe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?Vse(t):r===Ee.SVG&&(RQe(t),zse(t)),V6(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function gJe(e,t){if(t.tagID===b.P||t.tagID===b.BR){soe(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}le.AREA,le.BASE,le.BASEFONT,le.BGSOUND,le.BR,le.COL,le.EMBED,le.FRAME,le.HR,le.IMG,le.INPUT,le.KEYGEN,le.LINK,le.META,le.PARAM,le.SOURCE,le.TRACK,le.WBR;const ooe=aoe("end"),bh=aoe("start");function aoe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const uoe=function(e){if(e==null)return bJe;if(typeof e=="function")return zI(e);if(typeof e=="object")return Array.isArray(e)?yJe(e):_Je(e);if(typeof e=="string")return vJe(e);throw new Error("Expected function, string, or object as test")};function yJe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=uoe(e[n]);return zI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function _Je(e){const t=e;return zI(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function vJe(e){return zI(t);function t(n){return n&&n.type===e}}function zI(e){return t;function t(n,r,i){return!!(EJe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function bJe(){return!0}function EJe(e){return e!==null&&typeof e=="object"&&"type"in e}const loe=[],wJe=!0,C7=!1,SJe="skip";function TJe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=uoe(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=loe,p,g,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=xJe(n(u,c)),h[0]===C7))return h;if("children"in u&&u.children){const m=u;if(m.children&&h[0]!==SJe)for(g=(r?m.children.length:-1)+o,y=c.concat(m);g>-1&&g<m.children.length;){const _=m.children[g];if(p=a(_,g,y)(),p[0]===C7)return p;g=typeof p[1]=="number"?p[1]:g+o}}return h}}}function xJe(e){return Array.isArray(e)?e:typeof e=="number"?[wJe,e]:e==null?loe:[e]}function IJe(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),TJe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const AJe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),O7={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function coe(e,t){const n=MJe(e),r=Ise("type",{handlers:{root:CJe,element:OJe,text:PJe,comment:doe,doctype:RJe,raw:kJe},unknown:DJe}),i={parser:n?new x7(O7):x7.getFragmentParser(void 0,O7),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),cg(i,bh());const s=n?i.parser.document:i.parser.getFragment(),o=OKe(s,{file:i.options.file});return i.stitches&&IJe(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function foe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function CJe(e,t){foe(e.children,t)}function OJe(e,t){$Je(e,t),foe(e.children,t),LJe(e,t)}function PJe(e,t){const n={type:Ht.CHARACTER,chars:e.value,location:_v(e)};cg(t,bh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function RJe(e,t){const n={type:Ht.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:_v(e)};cg(t,bh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function NJe(e,t){t.stitches=!0;const n=FJe(e);if("children"in e&&"children"in n){const r=coe({type:"root",children:e.children},t.options);n.children=r.children}doe({type:"comment",value:{stitch:n}},t)}function doe(e,t){const n=e.value,r={type:Ht.COMMENT,data:n,location:_v(e)};cg(t,bh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function kJe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,hoe(t,bh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function DJe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))NJe(n,t);else{let r="";throw AJe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function cg(e,t){hoe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=$r.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function hoe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function $Je(e,t){if(t.parser.tokenizer.state===$r.PLAINTEXT)return;cg(t,bh(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Ed.html;r===Ed.html&&e.tagName==="svg"&&(r=Ed.svg);const i=DKe({...e,children:[]},{space:r===Ed.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Ht.START_TAG,tagName:e.tagName,tagID:lg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:_v(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function LJe(e,t){if(!t.parser.tokenizer.inForeignNode&&VKe.includes(e.tagName)||t.parser.tokenizer.state===$r.PLAINTEXT)return;cg(t,ooe(e));const n={type:Ht.END_TAG,tagName:e.tagName,tagID:lg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:_v(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===$r.RCDATA||t.parser.tokenizer.state===$r.RAWTEXT||t.parser.tokenizer.state===$r.SCRIPT_DATA)&&(t.parser.tokenizer.state=$r.DATA)}function MJe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function _v(e){const t=bh(e)||{line:void 0,column:void 0,offset:void 0},n=ooe(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function FJe(e){return"children"in e?h7({...e,children:[]}):h7(e)}function BJe(e){return function(t,n){return coe(t,{...e,file:n})}}function Om({text:e}){const t={img:({node:n,...r})=>O.jsx(H_,{...r}),p:({node:n,...r})=>O.jsx(At,{...r,pb:8}),h1:({node:n,...r})=>O.jsx(bc,{order:1,...r,pb:12}),h2:({node:n,...r})=>O.jsx(bc,{order:2,...r,pb:12}),h3:({node:n,...r})=>O.jsx(bc,{order:3,...r,pb:12}),h4:({node:n,...r})=>O.jsx(bc,{order:4,...r,pb:12}),h5:({node:n,...r})=>O.jsx(bc,{order:5,...r,pb:12}),h6:({node:n,...r})=>O.jsx(bc,{order:6,...r,pb:12}),a:({node:n,...r})=>O.jsx(eY,{...r}),ul:({node:n,...r})=>O.jsx(im,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>O.jsx(im,{type:"ordered",withPadding:!0,...r,pb:8})};return O.jsx(O.Fragment,{children:O.jsx(vse,{components:t,rehypePlugins:[BJe],children:e})})}function jJe({currentConfig:e}){const[t,n]=S.useState(null);return S.useEffect(()=>{fetch(`${Yu}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:O.jsx(O.Fragment,{children:O.jsx(Om,{text:t})})}function a_(){return zu(e=>e.config)}var yT={exports:{}};yT.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",_="[object Object]",v="[object Proxy]",w="[object RegExp]",T="[object Set]",E="[object String]",x="[object Undefined]",A="[object WeakMap]",M="[object ArrayBuffer]",D="[object DataView]",$="[object Float32Array]",W="[object Float64Array]",q="[object Int8Array]",H="[object Int16Array]",de="[object Int32Array]",ae="[object Uint8Array]",pe="[object Uint8ClampedArray]",ee="[object Uint16Array]",ie="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,I=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,V={};V[$]=V[W]=V[q]=V[H]=V[de]=V[ae]=V[pe]=V[ee]=V[ie]=!0,V[a]=V[u]=V[M]=V[c]=V[D]=V[f]=V[d]=V[h]=V[g]=V[y]=V[_]=V[w]=V[T]=V[E]=V[A]=!1;var R=typeof oo=="object"&&oo&&oo.Object===Object&&oo,P=typeof self=="object"&&self&&self.Object===Object&&self,G=R||P||Function("return this")(),se=t&&!t.nodeType&&t,ue=se&&!0&&e&&!e.nodeType&&e,he=ue&&ue.exports===se,fe=he&&R.process,Te=function(){try{var z=ue&&ue.require&&ue.require("util").types;return z||fe&&fe.binding&&fe.binding("util")}catch{}}(),me=Te&&Te.isTypedArray;function Xe(z,re,_e){switch(_e.length){case 0:return z.call(re);case 1:return z.call(re,_e[0]);case 2:return z.call(re,_e[0],_e[1]);case 3:return z.call(re,_e[0],_e[1],_e[2])}return z.apply(re,_e)}function Ge(z,re){for(var _e=-1,Ke=Array(z);++_e<z;)Ke[_e]=re(_e);return Ke}function He(z){return function(re){return z(re)}}function Le(z,re){return z==null?void 0:z[re]}function Ae(z,re){return function(_e){return z(re(_e))}}var Ve=Array.prototype,Zt=Function.prototype,Me=Object.prototype,Ue=G["__core-js_shared__"],bt=Zt.toString,ze=Me.hasOwnProperty,gt=function(){var z=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""}(),Yt=Me.toString,un=bt.call(Object),Gn=RegExp("^"+bt.call(ze).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=he?G.Buffer:void 0,we=G.Symbol,Fe=G.Uint8Array,ot=ce?ce.allocUnsafe:void 0,$e=Ae(Object.getPrototypeOf,Object),at=Object.create,Be=Me.propertyIsEnumerable,nt=Ve.splice,En=we?we.toStringTag:void 0,Wt=function(){try{var z=Re(Object,"defineProperty");return z({},"",{}),z}catch{}}(),Tt=ce?ce.isBuffer:void 0,Fn=Math.max,wn=Date.now,fa=Re(G,"Map"),fr=Re(Object,"create"),Fi=function(){function z(){}return function(re){if(!Uf(re))return{};if(at)return at(re);z.prototype=re;var _e=new z;return z.prototype=void 0,_e}}();function br(z){var re=-1,_e=z==null?0:z.length;for(this.clear();++re<_e;){var Ke=z[re];this.set(Ke[0],Ke[1])}}function Lr(){this.__data__=fr?fr(null):{},this.size=0}function dr(z){var re=this.has(z)&&delete this.__data__[z];return this.size-=re?1:0,re}function Bn(z){var re=this.__data__;if(fr){var _e=re[z];return _e===r?void 0:_e}return ze.call(re,z)?re[z]:void 0}function en(z){var re=this.__data__;return fr?re[z]!==void 0:ze.call(re,z)}function oi(z,re){var _e=this.__data__;return this.size+=this.has(z)?0:1,_e[z]=fr&&re===void 0?r:re,this}br.prototype.clear=Lr,br.prototype.delete=dr,br.prototype.get=Bn,br.prototype.has=en,br.prototype.set=oi;function Er(z){var re=-1,_e=z==null?0:z.length;for(this.clear();++re<_e;){var Ke=z[re];this.set(Ke[0],Ke[1])}}function Mr(){this.__data__=[],this.size=0}function vi(z){var re=this.__data__,_e=er(re,z);if(_e<0)return!1;var Ke=re.length-1;return _e==Ke?re.pop():nt.call(re,_e,1),--this.size,!0}function bs(z){var re=this.__data__,_e=er(re,z);return _e<0?void 0:re[_e][1]}function X(z){return er(this.__data__,z)>-1}function U(z,re){var _e=this.__data__,Ke=er(_e,z);return Ke<0?(++this.size,_e.push([z,re])):_e[Ke][1]=re,this}Er.prototype.clear=Mr,Er.prototype.delete=vi,Er.prototype.get=bs,Er.prototype.has=X,Er.prototype.set=U;function Z(z){var re=-1,_e=z==null?0:z.length;for(this.clear();++re<_e;){var Ke=z[re];this.set(Ke[0],Ke[1])}}function ye(){this.size=0,this.__data__={hash:new br,map:new(fa||Er),string:new br}}function ge(z){var re=Pe(this,z).delete(z);return this.size-=re?1:0,re}function Ye(z){return Pe(this,z).get(z)}function Se(z){return Pe(this,z).has(z)}function We(z,re){var _e=Pe(this,z),Ke=_e.size;return _e.set(z,re),this.size+=_e.size==Ke?0:1,this}Z.prototype.clear=ye,Z.prototype.delete=ge,Z.prototype.get=Ye,Z.prototype.has=Se,Z.prototype.set=We;function ct(z){var re=this.__data__=new Er(z);this.size=re.size}function tt(){this.__data__=new Er,this.size=0}function mt(z){var re=this.__data__,_e=re.delete(z);return this.size=re.size,_e}function Lt(z){return this.__data__.get(z)}function Dn(z){return this.__data__.has(z)}function pt(z,re){var _e=this.__data__;if(_e instanceof Er){var Ke=_e.__data__;if(!fa||Ke.length<n-1)return Ke.push([z,re]),this.size=++_e.size,this;_e=this.__data__=new Z(Ke)}return _e.set(z,re),this.size=_e.size,this}ct.prototype.clear=tt,ct.prototype.delete=mt,ct.prototype.get=Lt,ct.prototype.has=Dn,ct.prototype.set=pt;function An(z,re){var _e=xA(z),Ke=!_e&&Ih(z),ln=!_e&&!Ke&&cM(z),jn=!_e&&!Ke&&!ln&&dM(z),nr=_e||Ke||ln||jn,tn=nr?Ge(z.length,String):[],rr=tn.length;for(var Oo in z)(re||ze.call(z,Oo))&&!(nr&&(Oo=="length"||ln&&(Oo=="offset"||Oo=="parent")||jn&&(Oo=="buffer"||Oo=="byteLength"||Oo=="byteOffset")||Bt(Oo,rr)))&&tn.push(Oo);return tn}function Et(z,re,_e){(_e!==void 0&&!xh(z[re],_e)||_e===void 0&&!(re in z))&&Gr(z,re,_e)}function gn(z,re,_e){var Ke=z[re];(!(ze.call(z,re)&&xh(Ke,_e))||_e===void 0&&!(re in z))&&Gr(z,re,_e)}function er(z,re){for(var _e=z.length;_e--;)if(xh(z[_e][0],re))return _e;return-1}function Gr(z,re,_e){re=="__proto__"&&Wt?Wt(z,re,{configurable:!0,enumerable:!0,value:_e,writable:!0}):z[re]=_e}var Rr=xe();function us(z){return z==null?z===void 0?x:m:En&&En in Object(z)?De(z):jf(z)}function bi(z){return Sg(z)&&us(z)==a}function hr(z){if(!Uf(z)||wr(z))return!1;var re=AA(z)?Gn:I;return re.test(TA(z))}function Qe(z){return Sg(z)&&fM(z.length)&&!!V[us(z)]}function zt(z){if(!Uf(z))return ws(z);var re=tr(z),_e=[];for(var Ke in z)Ke=="constructor"&&(re||!ze.call(z,Ke))||_e.push(Ke);return _e}function zn(z,re,_e,Ke,ln){z!==re&&Rr(re,function(jn,nr){if(ln||(ln=new ct),Uf(jn))ai(z,re,nr,_e,zn,Ke,ln);else{var tn=Ke?Ke(Eg(z,nr),jn,nr+"",z,re,ln):void 0;tn===void 0&&(tn=jn),Et(z,nr,tn)}},hM)}function ai(z,re,_e,Ke,ln,jn,nr){var tn=Eg(z,_e),rr=Eg(re,_e),Oo=nr.get(rr);if(Oo){Et(z,_e,Oo);return}var Xs=jn?jn(tn,rr,_e+"",z,re,nr):void 0,Tg=Xs===void 0;if(Tg){var CA=xA(rr),OA=!CA&&cM(rr),mM=!CA&&!OA&&dM(rr);Xs=rr,CA||OA||mM?xA(tn)?Xs=tn:nce(tn)?Xs=oe(tn):OA?(Tg=!1,Xs=Q(rr,!0)):mM?(Tg=!1,Xs=ne(rr,!0)):Xs=[]:rce(rr)||Ih(rr)?(Xs=tn,Ih(tn)?Xs=ice(tn):(!Uf(tn)||AA(tn))&&(Xs=Ze(rr))):Tg=!1}Tg&&(nr.set(rr,Xs),ln(Xs,rr,Ke,jn,nr),nr.delete(rr)),Et(z,_e,Xs)}function Es(z,re){return wg(bg(z,re,pM),z+"")}var N=Wt?function(z,re){return Wt(z,"toString",{configurable:!0,enumerable:!1,value:oce(re),writable:!0})}:pM;function Q(z,re){if(re)return z.slice();var _e=z.length,Ke=ot?ot(_e):new z.constructor(_e);return z.copy(Ke),Ke}function B(z){var re=new z.constructor(z.byteLength);return new Fe(re).set(new Fe(z)),re}function ne(z,re){var _e=re?B(z.buffer):z.buffer;return new z.constructor(_e,z.byteOffset,z.length)}function oe(z,re){var _e=-1,Ke=z.length;for(re||(re=Array(Ke));++_e<Ke;)re[_e]=z[_e];return re}function te(z,re,_e,Ke){var ln=!_e;_e||(_e={});for(var jn=-1,nr=re.length;++jn<nr;){var tn=re[jn],rr=Ke?Ke(_e[tn],z[tn],tn,_e,z):void 0;rr===void 0&&(rr=z[tn]),ln?Gr(_e,tn,rr):gn(_e,tn,rr)}return _e}function be(z){return Es(function(re,_e){var Ke=-1,ln=_e.length,jn=ln>1?_e[ln-1]:void 0,nr=ln>2?_e[2]:void 0;for(jn=z.length>3&&typeof jn=="function"?(ln--,jn):void 0,nr&&yn(_e[0],_e[1],nr)&&(jn=ln<3?void 0:jn,ln=1),re=Object(re);++Ke<ln;){var tn=_e[Ke];tn&&z(re,tn,Ke,jn)}return re})}function xe(z){return function(re,_e,Ke){for(var ln=-1,jn=Object(re),nr=Ke(re),tn=nr.length;tn--;){var rr=nr[z?tn:++ln];if(_e(jn[rr],rr,jn)===!1)break}return re}}function Pe(z,re){var _e=z.__data__;return Sn(re)?_e[typeof re=="string"?"string":"hash"]:_e.map}function Re(z,re){var _e=Le(z,re);return hr(_e)?_e:void 0}function De(z){var re=ze.call(z,En),_e=z[En];try{z[En]=void 0;var Ke=!0}catch{}var ln=Yt.call(z);return Ke&&(re?z[En]=_e:delete z[En]),ln}function Ze(z){return typeof z.constructor=="function"&&!tr(z)?Fi($e(z)):{}}function Bt(z,re){var _e=typeof z;return re=re??o,!!re&&(_e=="number"||_e!="symbol"&&C.test(z))&&z>-1&&z%1==0&&z<re}function yn(z,re,_e){if(!Uf(_e))return!1;var Ke=typeof re;return(Ke=="number"?IA(_e)&&Bt(re,_e.length):Ke=="string"&&re in _e)?xh(_e[re],z):!1}function Sn(z){var re=typeof z;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?z!=="__proto__":z===null}function wr(z){return!!gt&&gt in z}function tr(z){var re=z&&z.constructor,_e=typeof re=="function"&&re.prototype||Me;return z===_e}function ws(z){var re=[];if(z!=null)for(var _e in Object(z))re.push(_e);return re}function jf(z){return Yt.call(z)}function bg(z,re,_e){return re=Fn(re===void 0?z.length-1:re,0),function(){for(var Ke=arguments,ln=-1,jn=Fn(Ke.length-re,0),nr=Array(jn);++ln<jn;)nr[ln]=Ke[re+ln];ln=-1;for(var tn=Array(re+1);++ln<re;)tn[ln]=Ke[ln];return tn[re]=_e(nr),Xe(z,this,tn)}}function Eg(z,re){if(!(re==="constructor"&&typeof z[re]=="function")&&re!="__proto__")return z[re]}var wg=lM(N);function lM(z){var re=0,_e=0;return function(){var Ke=wn(),ln=s-(Ke-_e);if(_e=Ke,ln>0){if(++re>=i)return arguments[0]}else re=0;return z.apply(void 0,arguments)}}function TA(z){if(z!=null){try{return bt.call(z)}catch{}try{return z+""}catch{}}return""}function xh(z,re){return z===re||z!==z&&re!==re}var Ih=bi(function(){return arguments}())?bi:function(z){return Sg(z)&&ze.call(z,"callee")&&!Be.call(z,"callee")},xA=Array.isArray;function IA(z){return z!=null&&fM(z.length)&&!AA(z)}function nce(z){return Sg(z)&&IA(z)}var cM=Tt||ace;function AA(z){if(!Uf(z))return!1;var re=us(z);return re==h||re==p||re==l||re==v}function fM(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=o}function Uf(z){var re=typeof z;return z!=null&&(re=="object"||re=="function")}function Sg(z){return z!=null&&typeof z=="object"}function rce(z){if(!Sg(z)||us(z)!=_)return!1;var re=$e(z);if(re===null)return!0;var _e=ze.call(re,"constructor")&&re.constructor;return typeof _e=="function"&&_e instanceof _e&&bt.call(_e)==un}var dM=me?He(me):Qe;function ice(z){return te(z,hM(z))}function hM(z){return IA(z)?An(z,!0):zt(z)}var sce=be(function(z,re,_e){zn(z,re,_e)});function oce(z){return function(){return z}}function pM(z){return z}function ace(){return!1}e.exports=sce})(yT,yT.exports);var UJe=yT.exports;const q6=Ba(UJe);function poe(){const e=Ao(),{setAlertModal:t}=tc(),n=nc();S.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function VJe(){var f;const e=a_(),t=Ao(),n=e.components[t],r=C$(),i=zx(n)&&e.baseComponents?q6({},(f=e.baseComponents)==null?void 0:f[n.baseComponent],n):n,s=i.instruction||"",o=i.instructionLocation,a=e.uiConfig.sidebar&&(o==="sidebar"||o===void 0);poe();const{storageEngine:u}=Of(),l=nc(),{setAlertModal:c}=tc();return S.useEffect(()=>{(u==null?void 0:u.getEngine())!=="firebase"&&l(c({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[c,u,l]),O.jsxs(O.Fragment,{children:[o==="aboveStimulus"&&O.jsx(Om,{text:s}),O.jsx(bS,{status:r,config:i,location:"aboveStimulus"},`${t}-above-response-block`),O.jsxs(S.Suspense,{fallback:O.jsx("div",{children:"Loading..."}),children:[i.type==="markdown"&&O.jsx(jJe,{currentConfig:i}),i.type==="website"&&O.jsx(l$e,{currentConfig:i}),i.type==="image"&&O.jsx(f$e,{currentConfig:i}),i.type==="react-component"&&O.jsx(fWe,{currentConfig:i})]},`${t}-stimulus`),(o==="belowStimulus"||o===void 0&&!a)&&O.jsx(Om,{text:s}),O.jsx(bS,{status:r,config:i,location:"belowStimulus"},`${t}-below-response-block`)]})}function zJe(e){const[t]=$q();return O.jsx(Rhe,{...e,to:{pathname:e.to,search:t.toString()}})}const pN=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],Gb=["participantId","trialId","responseId"];async function HJe(e=[...Gb,...pN],t,n,r){const s=(await n.getAllParticipantsData()).map(l=>WJe(l,r,e)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>e.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[e.join(","),...a].join(`
`);mN(u,t)}function WJe(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=zx(i)&&i.baseComponent&&t.baseComponents?q6({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}function qJe({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=Cge([...Gb,...pN]),o=S.useCallback(l=>{Gb.every(c=>l.includes(c))&&s(l)},[s]),a=S.useMemo(()=>[...Gb,...pN],[]),{storageEngine:u}=Of();return u?O.jsxs(xx,{opened:e,size:"lg",onClose:t,title:O.jsx(At,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[O.jsx(ut,{children:O.jsx(bX,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:O.jsx(At,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),O.jsxs(rm,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[O.jsx(Qo,{leftIcon:O.jsx(Die,{}),onClick:()=>HJe(i,n,u,r),children:"Download"}),O.jsx(Qo,{onClick:t,color:"red",children:"Close"})]})]}):null}function mN(e,t){const n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function GJe({studyConfig:e}){const{storageEngine:t}=Of(),[n,{open:r,close:i}]=Oge(!1),s=e.uiConfig.autoDownloadStudy||!1,o=s&&e.uiConfig.autoDownloadTime||-1,[a,u]=S.useState(Math.floor(o/1e3));S.useEffect(()=>{if(a<=0)return;const p=setInterval(()=>{u(g=>g-1)},1e3);return()=>clearInterval(p)},[a]);const[l,c]=S.useState(),[f,d]=S.useState(""),h=e.studyMetadata.title.replace(" ","_");return S.useEffect(()=>{async function p(){if(t){const g=await t.getCurrentParticipantId(),y=await t.getParticipantData();d(g),c(y)}}p()},[t]),O.jsxs(Go,{children:[O.jsx(Qo,{leftIcon:O.jsx(iWe,{}),mt:"1em",mr:"0.5em",onClick:()=>mN(JSON.stringify(l,null,2),`${h}_${f}.json`),display:"block",children:"Download Current (JSON)"}),O.jsx(Qo,{disabled:!(t!=null&&t.isConnected()),leftIcon:O.jsx(sWe,{}),mt:"1em",mr:"0.5em",onClick:async()=>{if(!t)return;const p=await t.getAllParticipantsData();mN(JSON.stringify(p,null,2),`${h}_all.json`)},display:"block",children:"Download All (JSON)"}),O.jsx(Qo,{disabled:!(t!=null&&t.isConnected()),leftIcon:O.jsx(Die,{}),mt:"1em",mr:"0.5em",onClick:r,display:"block",children:"Download All (Tidy)"}),s&&O.jsxs(At,{size:"lg",children:["Study results will be downloaded in ",a," seconds. If the download does not start automatically, click above to download."]}),O.jsx(qJe,{opened:n,close:i,filename:`${h}_${f}.csv`,studyConfig:e})]})}function moe({order:e}){const{studyId:t=null}=Wk(),n=Ao(),r=oh();return O.jsx(Go,{spacing:"xs",children:e.components.map((i,s)=>typeof i=="string"?O.jsx(yo,{children:O.jsx(lEe,{style:{cursor:"pointer"},color:i===n?"red":"blue",onClick:()=>r(`/${t}/${i}`),size:"xs",children:i},i)},s):O.jsx(Go,{spacing:"xs",children:O.jsxs(yo,{spacing:"xs",style:{width:"100%"},noWrap:!0,align:"center",position:"center",children:[i.order==="random"||i.order==="latinSquare"?O.jsx(rWe,{textAnchor:"middle"}):null,O.jsx(Go,{style:{width:"100%"},children:O.jsx(moe,{order:i})})]})},s))})}function YJe(){const{showAdmin:e,sequence:t}=zu(a=>a),n=oh(),{studyId:r=null}=Wk(),i=Ao(),s=a_(),o=t.map(a=>({...s.components[a],id:a}));return e?O.jsx(ap,{p:"0",width:{base:300},style:{zIndex:0},children:O.jsxs(d0,{p:"0",children:[O.jsx(ap.Section,{grow:!0,component:d0,px:"xs",my:"lg",children:O.jsx(moe,{order:s.sequence})}),O.jsx(ap.Section,{grow:!0,component:d0,px:"xs",my:"lg",children:i==="end"&&O.jsx(GJe,{studyConfig:s})}),O.jsx(ap.Section,{grow:!0,component:d0,px:"xs",my:"lg",children:o.map((a,u)=>O.jsxs(L.Fragment,{children:[O.jsxs(V0,{radius:0,p:0,withBorder:!0,children:[O.jsx(V0,{radius:0,p:"xl",children:O.jsxs(rm,{style:{justifyContent:"space-between"},children:[O.jsxs(At,{c:"gray.9",children:[O.jsxs(At,{span:!0,fw:700,inherit:!0,children:["Task ",u+1,":"]})," ",a.id]}),O.jsx(sm,{}),O.jsx(sD,{bg:"white",onClick:()=>n(`/${r}/${a.id}`),children:O.jsx(nWe,{size:"1.125rem"})})]})}),O.jsxs(V0,{radius:0,p:"xl",children:[a.description&&O.jsxs(At,{fw:900,children:["Description:"," ",O.jsx(At,{fw:400,component:"span",children:a.description})]}),a.meta&&O.jsx(At,{fw:900,children:"Task Meta:"}),a.meta&&Object.keys(a.meta).map(l=>O.jsxs(At,{children:[l,": ",a.meta[l]]},l))]})]}),O.jsx(sm,{h:"md"})]},`admin_${a.id}`))})]})}):null}function KJe(){const{config:e,sequence:t}=zu(v=>v),n=nc(),{toggleShowHelpText:r,toggleShowAdmin:i}=tc(),{storageEngine:s}=Of(),o=Ao(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=S.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=S.useState(new URLSearchParams(window.location.search)),g=p.get("admin")||"f",y=PZ(),m=vhe(`/${y}`);function _(){s==null||s.nextParticipant().then(()=>{window.location.href=m}).catch(v=>{console.error(v)})}return O.jsx(dY,{height:"70",p:"md",children:O.jsxs(hl,{mt:-7,align:"center",children:[O.jsx(hl.Col,{span:4,children:O.jsxs(rm,{align:"center",children:[O.jsx(H_,{maw:40,src:`${Yu}${d}`,alt:"Study Logo"}),O.jsx(sm,{w:"md"}),O.jsx(bc,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),O.jsx(hl.Col,{span:4,children:h&&O.jsx(jX,{radius:"md",size:"lg",value:l})}),O.jsx(hl.Col,{span:4,children:O.jsxs(rm,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&O.jsx(Qo,{variant:"outline",onClick:()=>n(r()),children:"Help"}),O.jsx(sm,{w:"md"}),g==="t"&&O.jsxs(Bo,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[O.jsx(Bo.Target,{children:O.jsx(sD,{size:"lg",children:O.jsx(oWe,{})})}),O.jsxs(Bo.Dropdown,{children:[O.jsx(Bo.Item,{icon:O.jsx(_V,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),O.jsx(Bo.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:O.jsx(aWe,{size:14}),children:"Contact"}),O.jsx(Bo.Item,{icon:O.jsx(_V,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function QJe(){var u,l;const e=(u=a_())==null?void 0:u.uiConfig.sidebar,t=a_(),n=Ao(),r=t.components[n],i=r?zx(r)&&t.baseComponents?q6({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null,s=C$(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?O.jsxs(j0,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&O.jsx(j0.Section,{bg:"gray.3",p:"xl",children:O.jsxs(At,{c:"gray.9",children:[O.jsx(At,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),O.jsx(Om,{text:o})]})}),O.jsx(j0.Section,{p:"xl",children:O.jsx(bS,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):O.jsx(bS,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function XJe(){const{showHelpText:e,config:t}=zu(o=>o),n=nc(),{toggleShowHelpText:r}=tc(),[i,s]=S.useState("");return S.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Yu}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),O.jsx(xx,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:O.jsx(Om,{text:i})})}function JJe(){const{alertModal:e}=zu(o=>o),{setAlertModal:t}=tc(),n=nc(),[r,i]=S.useState(e.show),s=S.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return S.useEffect(()=>i(e.show),[e.show]),O.jsx(xx,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:O.jsxs(GG,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:O.jsx(tWe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[O.jsx(At,{my:"md",children:e.message}),O.jsx(ut,{style:{float:"right"},color:"red",children:O.jsx(Qo,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function ZJe(){return O.jsxs(mY,{navbar:O.jsx(QJe,{}),aside:O.jsx(YJe,{}),header:O.jsx(KJe,{}),children:[O.jsx(XJe,{}),O.jsx(JJe,{}),O.jsx(Nhe,{})]})}function eZe(){const e=a_(),{storageEngine:t}=Of(),{answers:n}=zu(s=>s),[r,i]=S.useState(!1);return S.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),poe(),O.jsx(O.Fragment,{children:O.jsx(Ud,{style:{height:"100%"},children:O.jsx(rm,{direction:"column",children:r?O.jsx(At,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?O.jsx(Om,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):O.jsxs(O.Fragment,{children:[O.jsx(At,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),O.jsx(sm,{h:"lg"}),O.jsx(Ud,{children:O.jsx(uh,{color:"blue"})})]})})})})}function tZe(e,t=!1){return typeof e=="number"?P7(e,t):P7(e.length,t).map(r=>r.map(i=>e[i]))}function P7(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function goe(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=goe(i,t,n+"-"+r))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.flat().slice(0,e.numSamples?e.numSamples:void 0)}function nZe(e,t){const n=A$(e);return goe(n,t,"root"),n.components.flat().slice(0,n.numSamples?n.numSamples:void 0)}function yoe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&yoe(s,t,i,o)})}function rZe(e){const t=[];return yoe(e,t,"",0),t}function R7(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return tZe(i.sort(()=>.5-Math.random()),!0)}function iZe(e,t=1e3){const r=rZe(e.sequence).map(s=>({[s]:R7(e,s)})).reduce((s,o)=>({...s,...o}),{}),i=[];return Array.from({length:t}).forEach(()=>{const s=nZe(e.sequence,r);s.push("end"),i.push(s),Object.entries(r).forEach(([o,a])=>{a.length===0&&(r[o]=R7(e,o))})}),i}async function sZe(e,t){const n=await(await fetch(`${Yu}${e}`)).text();return uZ(n,t)}function oZe({globalConfig:e}){const{studyId:t}=Wk();if(!t||!e.configsList.find(c=>k2(c)))throw new Error("Study id invalid");const[n,r]=S.useState(null);S.useEffect(()=>{const c=e.configsList.find(f=>k2(f)===t);if(c){const f=e.configs[c];sZe(`${f.path}`,c).then(d=>{r(d)})}},[e,t]);const[i,s]=S.useState([]),[o,a]=S.useState(null),{storageEngine:u}=Of();S.useEffect(()=>{async function c(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await iZe(n));const d=await u.initializeParticipantSession(),h=await wDe(t,n,d.sequence,d.answers);a(h),s(aZe(t,n,d.sequence))}c()},[u,n,t]);const l=Dq(i);return!l||!o?O.jsx(ut,{style:{height:"100vh"},children:O.jsx(Ud,{style:{height:"100%"},children:O.jsx(uh,{style:{height:"100%"},size:60})})}):O.jsx(OZ.Provider,{value:o,children:O.jsx(KOe,{store:o.store,children:l})})}function aZe(e,t,n){const r=[];if(e&&t&&n){const i=[];i.push({path:"/",element:O.jsx(zJe,{to:`${n[0]}`,replace:!0})}),n.forEach(o=>{o==="end"?i.push({path:"/end",element:O.jsx(eZe,{})}):i.push({path:`/${o}`,element:O.jsx(VJe,{})})});const s={element:O.jsx(ZJe,{}),children:i};r.push(s)}return r}const Yu="/study/";async function uZe(){const t=await(await fetch(`${Yu}configs/global.hjson`)).text();return vke(t)}async function lZe(e){const t={},n=e.configsList.map(i=>`${Yu}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>uZ(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function cZe(){const[e,t]=S.useState(null),[n,r]=S.useState({});return S.useEffect(()=>{async function i(){e&&r(await lZe(e))}i()},[e]),S.useEffect(()=>{e||uZe().then(i=>{t(i)})},[e]),e?O.jsx(Lhe,{basename:Yu,children:O.jsxs(Dhe,{children:[O.jsx(d2,{path:"/",element:O.jsx(mOe,{globalConfig:e,studyConfigs:n})}),O.jsx(d2,{path:"/:studyId/*",element:O.jsx(oZe,{globalConfig:e})})]})}):null}class _oe{constructor(t){Po(this,"engine");Po(this,"connected",!1);Po(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}function H1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var voe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof H1=="function"&&H1;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var g=r[l][1][p];return o(g||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof H1=="function"&&H1,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,m,_=h.length;_;){for(m=h,h=[],y=-1;++y<_;)m[y]();_=h.length}d=!1}r.exports=g;function g(y){h.push(y)===1&&!d&&a()}}).call(this,typeof oo<"u"?oo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,T!==o&&g(this,T)}f.prototype.catch=function(T){return this.then(null,T)},f.prototype.then=function(T,E){if(typeof T!="function"&&this.state===l||typeof E!="function"&&this.state===u)return this;var x=new this.constructor(o);if(this.state!==c){var A=this.state===l?T:E;h(x,A,this.outcome)}else this.queue.push(new d(x,T,E));return x};function d(T,E,x){this.promise=T,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(T){a.resolve(this.promise,T)},d.prototype.otherCallFulfilled=function(T){h(this.promise,this.onFulfilled,T)},d.prototype.callRejected=function(T){a.reject(this.promise,T)},d.prototype.otherCallRejected=function(T){h(this.promise,this.onRejected,T)};function h(T,E,x){s(function(){var A;try{A=E(x)}catch(M){return a.reject(T,M)}A===T?a.reject(T,new TypeError("Cannot resolve promise with itself")):a.resolve(T,A)})}a.resolve=function(T,E){var x=y(p,E);if(x.status==="error")return a.reject(T,x.value);var A=x.value;if(A)g(T,A);else{T.state=l,T.outcome=E;for(var M=-1,D=T.queue.length;++M<D;)T.queue[M].callFulfilled(E)}return T},a.reject=function(T,E){T.state=u,T.outcome=E;for(var x=-1,A=T.queue.length;++x<A;)T.queue[x].callRejected(E);return T};function p(T){var E=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof E=="function")return function(){E.apply(T,arguments)}}function g(T,E){var x=!1;function A(W){x||(x=!0,a.reject(T,W))}function M(W){x||(x=!0,a.resolve(T,W))}function D(){E(M,A)}var $=y(D);$.status==="error"&&A($.value)}function y(T,E){var x={};try{x.value=T(E),x.status="success"}catch(A){x.status="error",x.value=A}return x}f.resolve=m;function m(T){return T instanceof this?T:a.resolve(new this(o),T)}f.reject=_;function _(T){var E=new this(o);return a.reject(E,T)}f.all=v;function v(T){var E=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=T.length,A=!1;if(!x)return this.resolve([]);for(var M=new Array(x),D=0,$=-1,W=new this(o);++$<x;)q(T[$],$);return W;function q(H,de){E.resolve(H).then(ae,function(pe){A||(A=!0,a.reject(W,pe))});function ae(pe){M[de]=pe,++D===x&&!A&&(A=!0,a.resolve(W,M))}}}f.race=w;function w(T){var E=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=T.length,A=!1;if(!x)return this.resolve([]);for(var M=-1,D=new this(o);++M<x;)$(T[M]);return D;function $(W){E.resolve(W).then(function(q){A||(A=!0,a.resolve(D,q))},function(q){A||(A=!0,a.reject(D,q))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof oo<"u"?oo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};function o(N,Q){if(!(N instanceof Q))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var N=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Q=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!N||Q)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(N,Q){N=N||[],Q=Q||{};try{return new Blob(N,Q)}catch(te){if(te.name!=="TypeError")throw te;for(var B=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new B,oe=0;oe<N.length;oe+=1)ne.append(N[oe]);return ne.getBlob(Q.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(N,Q){Q&&N.then(function(B){Q(null,B)},function(B){Q(B)})}function h(N,Q,B){typeof Q=="function"&&N.then(Q),typeof B=="function"&&N.catch(B)}function p(N){return typeof N!="string"&&(console.warn(N+" used as a key, but it is not a string."),N=String(N)),N}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",m=void 0,_={},v=Object.prototype.toString,w="readonly",T="readwrite";function E(N){for(var Q=N.length,B=new ArrayBuffer(Q),ne=new Uint8Array(B),oe=0;oe<Q;oe++)ne[oe]=N.charCodeAt(oe);return B}function x(N){return new f(function(Q){var B=N.transaction(y,T),ne=c([""]);B.objectStore(y).put(ne,"key"),B.onabort=function(oe){oe.preventDefault(),oe.stopPropagation(),Q(!1)},B.oncomplete=function(){var oe=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Q(te||!oe||parseInt(oe[1],10)>=43)}}).catch(function(){return!1})}function A(N){return typeof m=="boolean"?f.resolve(m):x(N).then(function(Q){return m=Q,m})}function M(N){var Q=_[N.name],B={};B.promise=new f(function(ne,oe){B.resolve=ne,B.reject=oe}),Q.deferredOperations.push(B),Q.dbReady?Q.dbReady=Q.dbReady.then(function(){return B.promise}):Q.dbReady=B.promise}function D(N){var Q=_[N.name],B=Q.deferredOperations.pop();if(B)return B.resolve(),B.promise}function $(N,Q){var B=_[N.name],ne=B.deferredOperations.pop();if(ne)return ne.reject(Q),ne.promise}function W(N,Q){return new f(function(B,ne){if(_[N.name]=_[N.name]||C(),N.db)if(Q)M(N),N.db.close();else return B(N.db);var oe=[N.name];Q&&oe.push(N.version);var te=u.open.apply(u,oe);Q&&(te.onupgradeneeded=function(be){var xe=te.result;try{xe.createObjectStore(N.storeName),be.oldVersion<=1&&xe.createObjectStore(y)}catch(Pe){if(Pe.name==="ConstraintError")console.warn('The database "'+N.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+N.storeName+'" already exists.');else throw Pe}}),te.onerror=function(be){be.preventDefault(),ne(te.error)},te.onsuccess=function(){var be=te.result;be.onversionchange=function(xe){xe.target.close()},B(be),D(N)}})}function q(N){return W(N,!1)}function H(N){return W(N,!0)}function de(N,Q){if(!N.db)return!0;var B=!N.db.objectStoreNames.contains(N.storeName),ne=N.version<N.db.version,oe=N.version>N.db.version;if(ne&&(N.version!==Q&&console.warn('The database "'+N.name+`" can't be downgraded from version `+N.db.version+" to version "+N.version+"."),N.version=N.db.version),oe||B){if(B){var te=N.db.version+1;te>N.version&&(N.version=te)}return!0}return!1}function ae(N){return new f(function(Q,B){var ne=new FileReader;ne.onerror=B,ne.onloadend=function(oe){var te=btoa(oe.target.result||"");Q({__local_forage_encoded_blob:!0,data:te,type:N.type})},ne.readAsBinaryString(N)})}function pe(N){var Q=E(atob(N.data));return c([Q],{type:N.type})}function ee(N){return N&&N.__local_forage_encoded_blob}function ie(N){var Q=this,B=Q._initReady().then(function(){var ne=_[Q._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return h(B,N,N),B}function K(N){M(N);for(var Q=_[N.name],B=Q.forages,ne=0;ne<B.length;ne++){var oe=B[ne];oe._dbInfo.db&&(oe._dbInfo.db.close(),oe._dbInfo.db=null)}return N.db=null,q(N).then(function(te){return N.db=te,de(N)?H(N):te}).then(function(te){N.db=Q.db=te;for(var be=0;be<B.length;be++)B[be]._dbInfo.db=te}).catch(function(te){throw $(N,te),te})}function I(N,Q,B,ne){ne===void 0&&(ne=1);try{var oe=N.db.transaction(N.storeName,Q);B(null,oe)}catch(te){if(ne>0&&(!N.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return f.resolve().then(function(){if(!N.db||te.name==="NotFoundError"&&!N.db.objectStoreNames.contains(N.storeName)&&N.version<=N.db.version)return N.db&&(N.version=N.db.version+1),H(N)}).then(function(){return K(N).then(function(){I(N,Q,B,ne-1)})}).catch(B);B(te)}}function C(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function V(N){var Q=this,B={db:null};if(N)for(var ne in N)B[ne]=N[ne];var oe=_[B.name];oe||(oe=C(),_[B.name]=oe),oe.forages.push(Q),Q._initReady||(Q._initReady=Q.ready,Q.ready=ie);var te=[];function be(){return f.resolve()}for(var xe=0;xe<oe.forages.length;xe++){var Pe=oe.forages[xe];Pe!==Q&&te.push(Pe._initReady().catch(be))}var Re=oe.forages.slice(0);return f.all(te).then(function(){return B.db=oe.db,q(B)}).then(function(De){return B.db=De,de(B,Q._defaultConfig.version)?H(B):De}).then(function(De){B.db=oe.db=De,Q._dbInfo=B;for(var Ze=0;Ze<Re.length;Ze++){var Bt=Re[Ze];Bt!==Q&&(Bt._dbInfo.db=B.db,Bt._dbInfo.version=B.version)}})}function R(N,Q){var B=this;N=p(N);var ne=new f(function(oe,te){B.ready().then(function(){I(B._dbInfo,w,function(be,xe){if(be)return te(be);try{var Pe=xe.objectStore(B._dbInfo.storeName),Re=Pe.get(N);Re.onsuccess=function(){var De=Re.result;De===void 0&&(De=null),ee(De)&&(De=pe(De)),oe(De)},Re.onerror=function(){te(Re.error)}}catch(De){te(De)}})}).catch(te)});return d(ne,Q),ne}function P(N,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){I(B._dbInfo,w,function(be,xe){if(be)return te(be);try{var Pe=xe.objectStore(B._dbInfo.storeName),Re=Pe.openCursor(),De=1;Re.onsuccess=function(){var Ze=Re.result;if(Ze){var Bt=Ze.value;ee(Bt)&&(Bt=pe(Bt));var yn=N(Bt,Ze.key,De++);yn!==void 0?oe(yn):Ze.continue()}else oe()},Re.onerror=function(){te(Re.error)}}catch(Ze){te(Ze)}})}).catch(te)});return d(ne,Q),ne}function G(N,Q,B){var ne=this;N=p(N);var oe=new f(function(te,be){var xe;ne.ready().then(function(){return xe=ne._dbInfo,v.call(Q)==="[object Blob]"?A(xe.db).then(function(Pe){return Pe?Q:ae(Q)}):Q}).then(function(Pe){I(ne._dbInfo,T,function(Re,De){if(Re)return be(Re);try{var Ze=De.objectStore(ne._dbInfo.storeName);Pe===null&&(Pe=void 0);var Bt=Ze.put(Pe,N);De.oncomplete=function(){Pe===void 0&&(Pe=null),te(Pe)},De.onabort=De.onerror=function(){var yn=Bt.error?Bt.error:Bt.transaction.error;be(yn)}}catch(yn){be(yn)}})}).catch(be)});return d(oe,B),oe}function se(N,Q){var B=this;N=p(N);var ne=new f(function(oe,te){B.ready().then(function(){I(B._dbInfo,T,function(be,xe){if(be)return te(be);try{var Pe=xe.objectStore(B._dbInfo.storeName),Re=Pe.delete(N);xe.oncomplete=function(){oe()},xe.onerror=function(){te(Re.error)},xe.onabort=function(){var De=Re.error?Re.error:Re.transaction.error;te(De)}}catch(De){te(De)}})}).catch(te)});return d(ne,Q),ne}function ue(N){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){I(Q._dbInfo,T,function(te,be){if(te)return oe(te);try{var xe=be.objectStore(Q._dbInfo.storeName),Pe=xe.clear();be.oncomplete=function(){ne()},be.onabort=be.onerror=function(){var Re=Pe.error?Pe.error:Pe.transaction.error;oe(Re)}}catch(Re){oe(Re)}})}).catch(oe)});return d(B,N),B}function he(N){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){I(Q._dbInfo,w,function(te,be){if(te)return oe(te);try{var xe=be.objectStore(Q._dbInfo.storeName),Pe=xe.count();Pe.onsuccess=function(){ne(Pe.result)},Pe.onerror=function(){oe(Pe.error)}}catch(Re){oe(Re)}})}).catch(oe)});return d(B,N),B}function fe(N,Q){var B=this,ne=new f(function(oe,te){if(N<0){oe(null);return}B.ready().then(function(){I(B._dbInfo,w,function(be,xe){if(be)return te(be);try{var Pe=xe.objectStore(B._dbInfo.storeName),Re=!1,De=Pe.openKeyCursor();De.onsuccess=function(){var Ze=De.result;if(!Ze){oe(null);return}N===0||Re?oe(Ze.key):(Re=!0,Ze.advance(N))},De.onerror=function(){te(De.error)}}catch(Ze){te(Ze)}})}).catch(te)});return d(ne,Q),ne}function Te(N){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){I(Q._dbInfo,w,function(te,be){if(te)return oe(te);try{var xe=be.objectStore(Q._dbInfo.storeName),Pe=xe.openKeyCursor(),Re=[];Pe.onsuccess=function(){var De=Pe.result;if(!De){ne(Re);return}Re.push(De.key),De.continue()},Pe.onerror=function(){oe(Pe.error)}}catch(De){oe(De)}})}).catch(oe)});return d(B,N),B}function me(N,Q){Q=g.apply(this,arguments);var B=this.config();N=typeof N!="function"&&N||{},N.name||(N.name=N.name||B.name,N.storeName=N.storeName||B.storeName);var ne=this,oe;if(!N.name)oe=f.reject("Invalid arguments");else{var te=N.name===B.name&&ne._dbInfo.db,be=te?f.resolve(ne._dbInfo.db):q(N).then(function(xe){var Pe=_[N.name],Re=Pe.forages;Pe.db=xe;for(var De=0;De<Re.length;De++)Re[De]._dbInfo.db=xe;return xe});N.storeName?oe=be.then(function(xe){if(xe.objectStoreNames.contains(N.storeName)){var Pe=xe.version+1;M(N);var Re=_[N.name],De=Re.forages;xe.close();for(var Ze=0;Ze<De.length;Ze++){var Bt=De[Ze];Bt._dbInfo.db=null,Bt._dbInfo.version=Pe}var yn=new f(function(Sn,wr){var tr=u.open(N.name,Pe);tr.onerror=function(ws){var jf=tr.result;jf.close(),wr(ws)},tr.onupgradeneeded=function(){var ws=tr.result;ws.deleteObjectStore(N.storeName)},tr.onsuccess=function(){var ws=tr.result;ws.close(),Sn(ws)}});return yn.then(function(Sn){Re.db=Sn;for(var wr=0;wr<De.length;wr++){var tr=De[wr];tr._dbInfo.db=Sn,D(tr._dbInfo)}}).catch(function(Sn){throw($(N,Sn)||f.resolve()).catch(function(){}),Sn})}}):oe=be.then(function(xe){M(N);var Pe=_[N.name],Re=Pe.forages;xe.close();for(var De=0;De<Re.length;De++){var Ze=Re[De];Ze._dbInfo.db=null}var Bt=new f(function(yn,Sn){var wr=u.deleteDatabase(N.name);wr.onerror=function(){var tr=wr.result;tr&&tr.close(),Sn(wr.error)},wr.onblocked=function(){console.warn('dropInstance blocked for database "'+N.name+'" until all open connections are closed')},wr.onsuccess=function(){var tr=wr.result;tr&&tr.close(),yn(tr)}});return Bt.then(function(yn){Pe.db=yn;for(var Sn=0;Sn<Re.length;Sn++){var wr=Re[Sn];D(wr._dbInfo)}}).catch(function(yn){throw($(N,yn)||f.resolve()).catch(function(){}),yn})})}return d(oe,Q),oe}var Xe={_driver:"asyncStorage",_initStorage:V,_support:l(),iterate:P,getItem:R,setItem:G,removeItem:se,clear:ue,length:he,key:fe,keys:Te,dropInstance:me};function Ge(){return typeof openDatabase=="function"}var He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,Ve="__lfsc__:",Zt=Ve.length,Me="arbf",Ue="blob",bt="si08",ze="ui08",gt="uic8",Yt="si16",un="si32",Gn="ur16",ce="ui32",we="fl32",Fe="fl64",ot=Zt+Me.length,$e=Object.prototype.toString;function at(N){var Q=N.length*.75,B=N.length,ne,oe=0,te,be,xe,Pe;N[N.length-1]==="="&&(Q--,N[N.length-2]==="="&&Q--);var Re=new ArrayBuffer(Q),De=new Uint8Array(Re);for(ne=0;ne<B;ne+=4)te=He.indexOf(N[ne]),be=He.indexOf(N[ne+1]),xe=He.indexOf(N[ne+2]),Pe=He.indexOf(N[ne+3]),De[oe++]=te<<2|be>>4,De[oe++]=(be&15)<<4|xe>>2,De[oe++]=(xe&3)<<6|Pe&63;return Re}function Be(N){var Q=new Uint8Array(N),B="",ne;for(ne=0;ne<Q.length;ne+=3)B+=He[Q[ne]>>2],B+=He[(Q[ne]&3)<<4|Q[ne+1]>>4],B+=He[(Q[ne+1]&15)<<2|Q[ne+2]>>6],B+=He[Q[ne+2]&63];return Q.length%3===2?B=B.substring(0,B.length-1)+"=":Q.length%3===1&&(B=B.substring(0,B.length-2)+"=="),B}function nt(N,Q){var B="";if(N&&(B=$e.call(N)),N&&(B==="[object ArrayBuffer]"||N.buffer&&$e.call(N.buffer)==="[object ArrayBuffer]")){var ne,oe=Ve;N instanceof ArrayBuffer?(ne=N,oe+=Me):(ne=N.buffer,B==="[object Int8Array]"?oe+=bt:B==="[object Uint8Array]"?oe+=ze:B==="[object Uint8ClampedArray]"?oe+=gt:B==="[object Int16Array]"?oe+=Yt:B==="[object Uint16Array]"?oe+=Gn:B==="[object Int32Array]"?oe+=un:B==="[object Uint32Array]"?oe+=ce:B==="[object Float32Array]"?oe+=we:B==="[object Float64Array]"?oe+=Fe:Q(new Error("Failed to get type for BinaryArray"))),Q(oe+Be(ne))}else if(B==="[object Blob]"){var te=new FileReader;te.onload=function(){var be=Le+N.type+"~"+Be(this.result);Q(Ve+Ue+be)},te.readAsArrayBuffer(N)}else try{Q(JSON.stringify(N))}catch(be){console.error("Couldn't convert value into a JSON string: ",N),Q(null,be)}}function En(N){if(N.substring(0,Zt)!==Ve)return JSON.parse(N);var Q=N.substring(ot),B=N.substring(Zt,ot),ne;if(B===Ue&&Ae.test(Q)){var oe=Q.match(Ae);ne=oe[1],Q=Q.substring(oe[0].length)}var te=at(Q);switch(B){case Me:return te;case Ue:return c([te],{type:ne});case bt:return new Int8Array(te);case ze:return new Uint8Array(te);case gt:return new Uint8ClampedArray(te);case Yt:return new Int16Array(te);case Gn:return new Uint16Array(te);case un:return new Int32Array(te);case ce:return new Uint32Array(te);case we:return new Float32Array(te);case Fe:return new Float64Array(te);default:throw new Error("Unkown type: "+B)}}var Wt={serialize:nt,deserialize:En,stringToBuffer:at,bufferToString:Be};function Tt(N,Q,B,ne){N.executeSql("CREATE TABLE IF NOT EXISTS "+Q.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],B,ne)}function Fn(N){var Q=this,B={db:null};if(N)for(var ne in N)B[ne]=typeof N[ne]!="string"?N[ne].toString():N[ne];var oe=new f(function(te,be){try{B.db=openDatabase(B.name,String(B.version),B.description,B.size)}catch(xe){return be(xe)}B.db.transaction(function(xe){Tt(xe,B,function(){Q._dbInfo=B,te()},function(Pe,Re){be(Re)})},be)});return B.serializer=Wt,oe}function wn(N,Q,B,ne,oe,te){N.executeSql(B,ne,oe,function(be,xe){xe.code===xe.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Q.storeName],function(Pe,Re){Re.rows.length?te(Pe,xe):Tt(Pe,Q,function(){Pe.executeSql(B,ne,oe,te)},te)},te):te(be,xe)},te)}function fa(N,Q){var B=this;N=p(N);var ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(xe){wn(xe,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[N],function(Pe,Re){var De=Re.rows.length?Re.rows.item(0).value:null;De&&(De=be.serializer.deserialize(De)),oe(De)},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function fr(N,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(xe){wn(xe,be,"SELECT * FROM "+be.storeName,[],function(Pe,Re){for(var De=Re.rows,Ze=De.length,Bt=0;Bt<Ze;Bt++){var yn=De.item(Bt),Sn=yn.value;if(Sn&&(Sn=be.serializer.deserialize(Sn)),Sn=N(Sn,yn.key,Bt+1),Sn!==void 0){oe(Sn);return}}oe()},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function Fi(N,Q,B,ne){var oe=this;N=p(N);var te=new f(function(be,xe){oe.ready().then(function(){Q===void 0&&(Q=null);var Pe=Q,Re=oe._dbInfo;Re.serializer.serialize(Q,function(De,Ze){Ze?xe(Ze):Re.db.transaction(function(Bt){wn(Bt,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[N,De],function(){be(Pe)},function(yn,Sn){xe(Sn)})},function(Bt){if(Bt.code===Bt.QUOTA_ERR){if(ne>0){be(Fi.apply(oe,[N,Pe,B,ne-1]));return}xe(Bt)}})})}).catch(xe)});return d(te,B),te}function br(N,Q,B){return Fi.apply(this,[N,Q,B,1])}function Lr(N,Q){var B=this;N=p(N);var ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(xe){wn(xe,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[N],function(){oe()},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function dr(N){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){wn(be,te,"DELETE FROM "+te.storeName,[],function(){ne()},function(xe,Pe){oe(Pe)})})}).catch(oe)});return d(B,N),B}function Bn(N){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){wn(be,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(xe,Pe){var Re=Pe.rows.item(0).c;ne(Re)},function(xe,Pe){oe(Pe)})})}).catch(oe)});return d(B,N),B}function en(N,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(xe){wn(xe,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[N+1],function(Pe,Re){var De=Re.rows.length?Re.rows.item(0).key:null;oe(De)},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function oi(N){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){wn(be,te,"SELECT key FROM "+te.storeName,[],function(xe,Pe){for(var Re=[],De=0;De<Pe.rows.length;De++)Re.push(Pe.rows.item(De).key);ne(Re)},function(xe,Pe){oe(Pe)})})}).catch(oe)});return d(B,N),B}function Er(N){return new f(function(Q,B){N.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(oe,te){for(var be=[],xe=0;xe<te.rows.length;xe++)be.push(te.rows.item(xe).name);Q({db:N,storeNames:be})},function(oe,te){B(te)})},function(ne){B(ne)})})}function Mr(N,Q){Q=g.apply(this,arguments);var B=this.config();N=typeof N!="function"&&N||{},N.name||(N.name=N.name||B.name,N.storeName=N.storeName||B.storeName);var ne=this,oe;return N.name?oe=new f(function(te){var be;N.name===B.name?be=ne._dbInfo.db:be=openDatabase(N.name,"","",0),N.storeName?te({db:be,storeNames:[N.storeName]}):te(Er(be))}).then(function(te){return new f(function(be,xe){te.db.transaction(function(Pe){function Re(yn){return new f(function(Sn,wr){Pe.executeSql("DROP TABLE IF EXISTS "+yn,[],function(){Sn()},function(tr,ws){wr(ws)})})}for(var De=[],Ze=0,Bt=te.storeNames.length;Ze<Bt;Ze++)De.push(Re(te.storeNames[Ze]));f.all(De).then(function(){be()}).catch(function(yn){xe(yn)})},function(Pe){xe(Pe)})})}):oe=f.reject("Invalid arguments"),d(oe,Q),oe}var vi={_driver:"webSQLStorage",_initStorage:Fn,_support:Ge(),iterate:fr,getItem:fa,setItem:br,removeItem:Lr,clear:dr,length:Bn,key:en,keys:oi,dropInstance:Mr};function bs(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function X(N,Q){var B=N.name+"/";return N.storeName!==Q.storeName&&(B+=N.storeName+"/"),B}function U(){var N="_localforage_support_test";try{return localStorage.setItem(N,!0),localStorage.removeItem(N),!1}catch{return!0}}function Z(){return!U()||localStorage.length>0}function ye(N){var Q=this,B={};if(N)for(var ne in N)B[ne]=N[ne];return B.keyPrefix=X(N,Q._defaultConfig),Z()?(Q._dbInfo=B,B.serializer=Wt,f.resolve()):f.reject()}function ge(N){var Q=this,B=Q.ready().then(function(){for(var ne=Q._dbInfo.keyPrefix,oe=localStorage.length-1;oe>=0;oe--){var te=localStorage.key(oe);te.indexOf(ne)===0&&localStorage.removeItem(te)}});return d(B,N),B}function Ye(N,Q){var B=this;N=p(N);var ne=B.ready().then(function(){var oe=B._dbInfo,te=localStorage.getItem(oe.keyPrefix+N);return te&&(te=oe.serializer.deserialize(te)),te});return d(ne,Q),ne}function Se(N,Q){var B=this,ne=B.ready().then(function(){for(var oe=B._dbInfo,te=oe.keyPrefix,be=te.length,xe=localStorage.length,Pe=1,Re=0;Re<xe;Re++){var De=localStorage.key(Re);if(De.indexOf(te)===0){var Ze=localStorage.getItem(De);if(Ze&&(Ze=oe.serializer.deserialize(Ze)),Ze=N(Ze,De.substring(be),Pe++),Ze!==void 0)return Ze}}});return d(ne,Q),ne}function We(N,Q){var B=this,ne=B.ready().then(function(){var oe=B._dbInfo,te;try{te=localStorage.key(N)}catch{te=null}return te&&(te=te.substring(oe.keyPrefix.length)),te});return d(ne,Q),ne}function ct(N){var Q=this,B=Q.ready().then(function(){for(var ne=Q._dbInfo,oe=localStorage.length,te=[],be=0;be<oe;be++){var xe=localStorage.key(be);xe.indexOf(ne.keyPrefix)===0&&te.push(xe.substring(ne.keyPrefix.length))}return te});return d(B,N),B}function tt(N){var Q=this,B=Q.keys().then(function(ne){return ne.length});return d(B,N),B}function mt(N,Q){var B=this;N=p(N);var ne=B.ready().then(function(){var oe=B._dbInfo;localStorage.removeItem(oe.keyPrefix+N)});return d(ne,Q),ne}function Lt(N,Q,B){var ne=this;N=p(N);var oe=ne.ready().then(function(){Q===void 0&&(Q=null);var te=Q;return new f(function(be,xe){var Pe=ne._dbInfo;Pe.serializer.serialize(Q,function(Re,De){if(De)xe(De);else try{localStorage.setItem(Pe.keyPrefix+N,Re),be(te)}catch(Ze){(Ze.name==="QuotaExceededError"||Ze.name==="NS_ERROR_DOM_QUOTA_REACHED")&&xe(Ze),xe(Ze)}})})});return d(oe,B),oe}function Dn(N,Q){if(Q=g.apply(this,arguments),N=typeof N!="function"&&N||{},!N.name){var B=this.config();N.name=N.name||B.name,N.storeName=N.storeName||B.storeName}var ne=this,oe;return N.name?oe=new f(function(te){N.storeName?te(X(N,ne._defaultConfig)):te(N.name+"/")}).then(function(te){for(var be=localStorage.length-1;be>=0;be--){var xe=localStorage.key(be);xe.indexOf(te)===0&&localStorage.removeItem(xe)}}):oe=f.reject("Invalid arguments"),d(oe,Q),oe}var pt={_driver:"localStorageWrapper",_initStorage:ye,_support:bs(),iterate:Se,getItem:Ye,setItem:Lt,removeItem:mt,clear:ge,length:tt,key:We,keys:ct,dropInstance:Dn},An=function(Q,B){return Q===B||typeof Q=="number"&&typeof B=="number"&&isNaN(Q)&&isNaN(B)},Et=function(Q,B){for(var ne=Q.length,oe=0;oe<ne;){if(An(Q[oe],B))return!0;oe++}return!1},gn=Array.isArray||function(N){return Object.prototype.toString.call(N)==="[object Array]"},er={},Gr={},Rr={INDEXEDDB:Xe,WEBSQL:vi,LOCALSTORAGE:pt},us=[Rr.INDEXEDDB._driver,Rr.WEBSQL._driver,Rr.LOCALSTORAGE._driver],bi=["dropInstance"],hr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bi),Qe={description:"",driver:us.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zt(N,Q){N[Q]=function(){var B=arguments;return N.ready().then(function(){return N[Q].apply(N,B)})}}function zn(){for(var N=1;N<arguments.length;N++){var Q=arguments[N];if(Q)for(var B in Q)Q.hasOwnProperty(B)&&(gn(Q[B])?arguments[0][B]=Q[B].slice():arguments[0][B]=Q[B])}return arguments[0]}var ai=function(){function N(Q){o(this,N);for(var B in Rr)if(Rr.hasOwnProperty(B)){var ne=Rr[B],oe=ne._driver;this[B]=oe,er[oe]||this.defineDriver(ne)}this._defaultConfig=zn({},Qe),this._config=zn({},this._defaultConfig,Q),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return N.prototype.config=function(B){if((typeof B>"u"?"undefined":s(B))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in B){if(ne==="storeName"&&(B[ne]=B[ne].replace(/\W/g,"_")),ne==="version"&&typeof B[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=B[ne]}return"driver"in B&&B.driver?this.setDriver(this._config.driver):!0}else return typeof B=="string"?this._config[B]:this._config},N.prototype.defineDriver=function(B,ne,oe){var te=new f(function(be,xe){try{var Pe=B._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!B._driver){xe(Re);return}for(var De=hr.concat("_initStorage"),Ze=0,Bt=De.length;Ze<Bt;Ze++){var yn=De[Ze],Sn=!Et(bi,yn);if((Sn||B[yn])&&typeof B[yn]!="function"){xe(Re);return}}var wr=function(){for(var jf=function(TA){return function(){var xh=new Error("Method "+TA+" is not implemented by the current driver"),Ih=f.reject(xh);return d(Ih,arguments[arguments.length-1]),Ih}},bg=0,Eg=bi.length;bg<Eg;bg++){var wg=bi[bg];B[wg]||(B[wg]=jf(wg))}};wr();var tr=function(jf){er[Pe]&&console.info("Redefining LocalForage driver: "+Pe),er[Pe]=B,Gr[Pe]=jf,be()};"_support"in B?B._support&&typeof B._support=="function"?B._support().then(tr,xe):tr(!!B._support):tr(!0)}catch(ws){xe(ws)}});return h(te,ne,oe),te},N.prototype.driver=function(){return this._driver||null},N.prototype.getDriver=function(B,ne,oe){var te=er[B]?f.resolve(er[B]):f.reject(new Error("Driver not found."));return h(te,ne,oe),te},N.prototype.getSerializer=function(B){var ne=f.resolve(Wt);return h(ne,B),ne},N.prototype.ready=function(B){var ne=this,oe=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return h(oe,B,B),oe},N.prototype.setDriver=function(B,ne,oe){var te=this;gn(B)||(B=[B]);var be=this._getSupportedDrivers(B);function xe(){te._config.driver=te.driver()}function Pe(Ze){return te._extend(Ze),xe(),te._ready=te._initStorage(te._config),te._ready}function Re(Ze){return function(){var Bt=0;function yn(){for(;Bt<Ze.length;){var Sn=Ze[Bt];return Bt++,te._dbInfo=null,te._ready=null,te.getDriver(Sn).then(Pe).catch(yn)}xe();var wr=new Error("No available storage method found.");return te._driverSet=f.reject(wr),te._driverSet}return yn()}}var De=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=De.then(function(){var Ze=be[0];return te._dbInfo=null,te._ready=null,te.getDriver(Ze).then(function(Bt){te._driver=Bt._driver,xe(),te._wrapLibraryMethodsWithReady(),te._initDriver=Re(be)})}).catch(function(){xe();var Ze=new Error("No available storage method found.");return te._driverSet=f.reject(Ze),te._driverSet}),h(this._driverSet,ne,oe),this._driverSet},N.prototype.supports=function(B){return!!Gr[B]},N.prototype._extend=function(B){zn(this,B)},N.prototype._getSupportedDrivers=function(B){for(var ne=[],oe=0,te=B.length;oe<te;oe++){var be=B[oe];this.supports(be)&&ne.push(be)}return ne},N.prototype._wrapLibraryMethodsWithReady=function(){for(var B=0,ne=hr.length;B<ne;B++)zt(this,hr[B])},N.prototype.createInstance=function(B){return new N(B)},N}(),Es=new ai;r.exports=Es},{3:3}]},{},[4])(4)})})(voe);var fZe=voe.exports;const boe=Ba(fZe);let W1;const dZe=new Uint8Array(16);function hZe(){if(!W1&&(W1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!W1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return W1(dZe)}const wi=[];for(let e=0;e<256;++e)wi.push((e+256).toString(16).slice(1));function pZe(e,t=0){return wi[e[t+0]]+wi[e[t+1]]+wi[e[t+2]]+wi[e[t+3]]+"-"+wi[e[t+4]]+wi[e[t+5]]+"-"+wi[e[t+6]]+wi[e[t+7]]+"-"+wi[e[t+8]]+wi[e[t+9]]+"-"+wi[e[t+10]]+wi[e[t+11]]+wi[e[t+12]]+wi[e[t+13]]+wi[e[t+14]]+wi[e[t+15]]}const mZe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),N7={randomUUID:mZe};function k7(e,t,n){if(N7.randomUUID&&!t&&!e)return N7.randomUUID();e=e||{};const r=e.random||(e.rng||hZe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return pZe(r)}class gZe extends _oe{constructor(){super("localStorage");Po(this,"studyDatabase")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await boe.createInstance({name:n}),await this.studyDatabase.setItem("config",r)}async initializeParticipantSession(){var i;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(),!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.studyDatabase.getItem(this.currentParticipantId);if(n)return n;const r={participantId:this.currentParticipantId,sequence:await this.getSequence(),answers:{}};return await((i=this.studyDatabase)==null?void 0:i.setItem(this.currentParticipantId,r)),r}async getCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,n;{const r=k7();return await this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r,r}}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=k7();this.studyDatabase.setItem("currentParticipant",n),this.currentParticipantId=n;let r=await this.studyDatabase.getItem(n);if(!r){const i={participantId:n,sequence:await this.getSequence(),answers:{}};await this.studyDatabase.setItem(n,i),r=i}return r}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var D7={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eoe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},yZe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},G6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Eoe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yZe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new _Ze;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _Ze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vZe=function(e){const t=Eoe(e);return G6.encodeByteArray(t,!0)},_T=function(e){return vZe(e).replace(/\./g,"")},woe=function(e){try{return G6.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Soe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZe=()=>Soe().__FIREBASE_DEFAULTS__,EZe=()=>{if(typeof process>"u"||typeof D7>"u")return;const e=D7.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wZe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&woe(e[1]);return t&&JSON.parse(t)},Y6=()=>{try{return bZe()||EZe()||wZe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Toe=e=>{var t,n;return(n=(t=Y6())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},SZe=e=>{const t=Toe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xoe=()=>{var e;return(e=Y6())===null||e===void 0?void 0:e.config},Ioe=e=>{var t;return(t=Y6())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[_T(JSON.stringify(n)),_T(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xZe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ns())}function IZe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function AZe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CZe(){const e=ns();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function K6(){try{return typeof indexedDB=="object"}catch{return!1}}function OZe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZe="FirebaseError";class Ku extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=PZe,Object.setPrototypeOf(this,Ku.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fg.prototype.create)}}class fg{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?RZe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ku(i,a,r)}}function RZe(e,t){return e.replace(NZe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const NZe=/\{\$([^}]+)}/g;function kZe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function l_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if($7(s)&&$7(o)){if(!l_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $7(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function DZe(e,t){const n=new $Ze(e,t);return n.subscribe.bind(n)}class $Ze{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LZe(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=KO),i.error===void 0&&(i.error=KO),i.complete===void 0&&(i.complete=KO);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LZe(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function KO(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZe=1e3,BZe=2,jZe=4*60*60*1e3,UZe=.5;function VZe(e,t=FZe,n=BZe){const r=t*Math.pow(n,e),i=Math.round(UZe*r*(Math.random()-.5)*2);return Math.min(jZe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return e&&e._delegate?e._delegate:e}class Fu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new u_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WZe(t))try{this.getOrInitializeService({instanceIdentifier:Zf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Zf){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zf){return this.instances.has(t)}getOptions(t=Zf){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HZe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zf){return this.component?this.component.multipleInstances?t:Zf:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HZe(e){return e===Zf?void 0:e}function WZe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zZe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rn||(rn={}));const GZe={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},YZe=rn.INFO,KZe={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},QZe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=KZe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class HI{constructor(t){this.name=t,this._logLevel=YZe,this._logHandler=QZe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GZe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...t),this._logHandler(this,rn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...t),this._logHandler(this,rn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...t),this._logHandler(this,rn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...t),this._logHandler(this,rn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...t),this._logHandler(this,rn.ERROR,...t)}}const XZe=(e,t)=>t.some(n=>e instanceof n);let L7,M7;function JZe(){return L7||(L7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZZe(){return M7||(M7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Aoe=new WeakMap,gN=new WeakMap,Coe=new WeakMap,QO=new WeakMap,Q6=new WeakMap;function eet(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(tf(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Aoe.set(n,e)}).catch(()=>{}),Q6.set(t,e),t}function tet(e){if(gN.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});gN.set(e,t)}let yN={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return gN.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Coe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tf(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function net(e){yN=e(yN)}function ret(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(XO(this),t,...n);return Coe.set(r,t.sort?t.sort():[t]),tf(r)}:ZZe().includes(e)?function(...t){return e.apply(XO(this),t),tf(Aoe.get(this))}:function(...t){return tf(e.apply(XO(this),t))}}function iet(e){return typeof e=="function"?ret(e):(e instanceof IDBTransaction&&tet(e),XZe(e,JZe())?new Proxy(e,yN):e)}function tf(e){if(e instanceof IDBRequest)return eet(e);if(QO.has(e))return QO.get(e);const t=iet(e);return t!==e&&(QO.set(e,t),Q6.set(t,e)),t}const XO=e=>Q6.get(e);function set(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=tf(o);return r&&o.addEventListener("upgradeneeded",u=>{r(tf(o.result),u.oldVersion,u.newVersion,tf(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const oet=["get","getKey","getAll","getAllKeys","count"],aet=["put","add","delete","clear"],JO=new Map;function F7(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(JO.get(t))return JO.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=aet.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oet.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return JO.set(t,s),s}net(e=>({...e,get:(t,n,r)=>F7(t,n)||e.get(t,n,r),has:(t,n)=>!!F7(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uet{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cet(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cet(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _N="@firebase/app",B7="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new HI("@firebase/app"),fet="@firebase/app-compat",det="@firebase/analytics-compat",het="@firebase/analytics",pet="@firebase/app-check-compat",met="@firebase/app-check",get="@firebase/auth",yet="@firebase/auth-compat",_et="@firebase/database",vet="@firebase/database-compat",bet="@firebase/functions",Eet="@firebase/functions-compat",wet="@firebase/installations",Tet="@firebase/installations-compat",xet="@firebase/messaging",Iet="@firebase/messaging-compat",Aet="@firebase/performance",Cet="@firebase/performance-compat",Oet="@firebase/remote-config",Pet="@firebase/remote-config-compat",Ret="@firebase/storage",Net="@firebase/storage-compat",ket="@firebase/firestore",Det="@firebase/firestore-compat",$et="firebase",Let="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="[DEFAULT]",Met={[_N]:"fire-core",[fet]:"fire-core-compat",[het]:"fire-analytics",[det]:"fire-analytics-compat",[met]:"fire-app-check",[pet]:"fire-app-check-compat",[get]:"fire-auth",[yet]:"fire-auth-compat",[_et]:"fire-rtdb",[vet]:"fire-rtdb-compat",[bet]:"fire-fn",[Eet]:"fire-fn-compat",[wet]:"fire-iid",[Tet]:"fire-iid-compat",[xet]:"fire-fcm",[Iet]:"fire-fcm-compat",[Aet]:"fire-perf",[Cet]:"fire-perf-compat",[Oet]:"fire-rc",[Pet]:"fire-rc-compat",[Ret]:"fire-gcs",[Net]:"fire-gcs-compat",[ket]:"fire-fst",[Det]:"fire-fst-compat","fire-js":"fire-js",[$et]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map,bN=new Map;function Fet(e,t){try{e.container.addComponent(t)}catch(n){Xd.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wl(e){const t=e.name;if(bN.has(t))return Xd.debug(`There were multiple attempts to register component ${t}.`),!1;bN.set(t,e);for(const n of vT.values())Fet(n,e);return!0}function dg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bet={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},nf=new fg("app","Firebase",Bet);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jet{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=Let;function Ooe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:vN,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw nf.create("bad-app-name",{appName:String(i)});if(n||(n=xoe()),!n)throw nf.create("no-options");const s=vT.get(i);if(s){if(l_(n,s.options)&&l_(r,s.config))return s;throw nf.create("duplicate-app",{appName:i})}const o=new qZe(i);for(const u of bN.values())o.addComponent(u);const a=new jet(n,r,o);return vT.set(i,a),a}function X6(e=vN){const t=vT.get(e);if(!t&&e===vN&&xoe())return Ooe();if(!t)throw nf.create("no-app",{appName:e});return t}function ka(e,t,n){var r;let i=(r=Met[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xd.warn(a.join(" "));return}Wl(new Fu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uet="firebase-heartbeat-database",Vet=1,c_="firebase-heartbeat-store";let ZO=null;function Poe(){return ZO||(ZO=set(Uet,Vet,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(c_)}}}).catch(e=>{throw nf.create("idb-open",{originalErrorMessage:e.message})})),ZO}async function zet(e){try{return await(await Poe()).transaction(c_).objectStore(c_).get(Roe(e))}catch(t){if(t instanceof Ku)Xd.warn(t.message);else{const n=nf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xd.warn(n.message)}}}async function j7(e,t){try{const r=(await Poe()).transaction(c_,"readwrite");await r.objectStore(c_).put(t,Roe(e)),await r.done}catch(n){if(n instanceof Ku)Xd.warn(n.message);else{const r=nf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xd.warn(r.message)}}}function Roe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Het=1024,Wet=30*24*60*60*1e3;class qet{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yet(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=U7();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Wet}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U7(),{heartbeatsToSend:r,unsentEntries:i}=Get(this._heartbeatsCache.heartbeats),s=_T(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function U7(){return new Date().toISOString().substring(0,10)}function Get(e,t=Het){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),V7(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V7(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Yet{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K6()?OZe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zet(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return j7(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return j7(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function V7(e){return _T(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ket(e){Wl(new Fu("platform-logger",t=>new uet(t),"PRIVATE")),Wl(new Fu("heartbeat",t=>new qet(t),"PRIVATE")),ka(_N,B7,e),ka(_N,B7,"esm2017"),ka("fire-js","")}Ket("");var Qet="firebase",Xet="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ka(Qet,Xet,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Noe="firebasestorage.googleapis.com",koe="storageBucket",Jet=2*60*1e3,Zet=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ku{constructor(t,n,r=0){super(eP(t),`Firebase Storage: ${n} (${eP(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return eP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cr||(Cr={}));function eP(e){return"storage/"+e}function J6(){const e="An unknown error occurred, please check the error payload for server response.";return new Pr(Cr.UNKNOWN,e)}function ett(e){return new Pr(Cr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function ttt(e){return new Pr(Cr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ntt(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pr(Cr.UNAUTHENTICATED,e)}function rtt(){return new Pr(Cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function itt(e){return new Pr(Cr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function stt(){return new Pr(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ott(){return new Pr(Cr.CANCELED,"User canceled the upload/download.")}function att(e){return new Pr(Cr.INVALID_URL,"Invalid URL '"+e+"'.")}function utt(e){return new Pr(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function ltt(){return new Pr(Cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+koe+"' property when initializing the app?")}function ctt(){return new Pr(Cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ftt(){return new Pr(Cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dtt(e){return new Pr(Cr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function EN(e){return new Pr(Cr.INVALID_ARGUMENT,e)}function Doe(){return new Pr(Cr.APP_DELETED,"The Firebase app was deleted.")}function htt(e){return new Pr(Cr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uy(e,t){return new Pr(Cr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function t0(e){throw new Pr(Cr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=lo.makeFromUrl(t,n)}catch{return new lo(t,"")}if(r.path==="")return r;throw utt(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===Noe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${y}`,"i"),v=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<v.length;w++){const T=v[w],E=T.regex.exec(t);if(E){const x=E[T.indices.bucket];let A=E[T.indices.path];A||(A=""),r=new lo(x,A),T.postModify(r);break}}if(r==null)throw att(t);return r}}class ptt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mtt(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...m){if(l){d();return}if(y){d(),c.call(null,y,...m);return}if(u()||o){d(),c.call(null,y,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,f(v)}let p=!1;function g(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function gtt(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ytt(e){return e!==void 0}function _tt(e){return typeof e=="object"&&!Array.isArray(e)}function Z6(e){return typeof e=="string"||e instanceof String}function z7(e){return eL()&&e instanceof Blob}function eL(){return typeof Blob<"u"}function H7(e,t,n,r){if(r<t)throw EN(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw EN(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function $oe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Rd||(Rd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vtt(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class btt{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new q1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Rd.NO_ERROR,u=s.getStatus();if(!a||vtt(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Rd.ABORT;r(!1,new q1(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new q1(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());ytt(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=J6();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Doe():ott();o(u)}else{const u=stt();o(u)}};this.canceled_?n(!1,new q1(!1,null,!0)):this.backoffId_=mtt(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&gtt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class q1{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Ett(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function wtt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Stt(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Ttt(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function xtt(e,t,n,r,i,s,o=!0){const a=$oe(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return Stt(l,t),Ett(l,n),wtt(l,s),Ttt(l,r),new btt(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Itt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Att(...e){const t=Itt();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(eL())return new Blob(e);throw new Pr(Cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ctt(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ott(e){if(typeof atob>"u")throw dtt("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tP{constructor(t,n){this.data=t,this.contentType=n||null}}function Ptt(e,t){switch(e){case mu.RAW:return new tP(Loe(t));case mu.BASE64:case mu.BASE64URL:return new tP(Moe(e,t));case mu.DATA_URL:return new tP(Ntt(t),ktt(t))}throw J6()}function Loe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Rtt(e){let t;try{t=decodeURIComponent(e)}catch{throw uy(mu.DATA_URL,"Malformed data URL.")}return Loe(t)}function Moe(e,t){switch(e){case mu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw uy(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case mu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw uy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ott(t)}catch(i){throw i.message.includes("polyfill")?i:uy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Foe{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw uy(mu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Dtt(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Ntt(e){const t=new Foe(e);return t.base64?Moe(mu.BASE64,t.rest):Rtt(t.rest)}function ktt(e){return new Foe(e).contentType}function Dtt(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,n){let r=0,i="";z7(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(z7(this.data_)){const r=this.data_,i=Ctt(r,t,n);return i===null?null:new Ac(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ac(r,!0)}}static getBlob(...t){if(eL()){const n=t.map(r=>r instanceof Ac?r.data_:r);return new Ac(Att.apply(null,n))}else{const n=t.map(o=>Z6(o)?Ptt(mu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ac(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(e){let t;try{t=JSON.parse(e)}catch{return null}return _tt(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $tt(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Ltt(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function joe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mtt(e,t){return t}class ls{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Mtt}}let G1=null;function Ftt(e){return!Z6(e)||e.length<2?e:joe(e)}function Uoe(){if(G1)return G1;const e=[];e.push(new ls("bucket")),e.push(new ls("generation")),e.push(new ls("metageneration")),e.push(new ls("name","fullPath",!0));function t(s,o){return Ftt(o)}const n=new ls("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ls("size");return i.xform=r,e.push(i),e.push(new ls("timeCreated")),e.push(new ls("updated")),e.push(new ls("md5Hash",null,!0)),e.push(new ls("cacheControl",null,!0)),e.push(new ls("contentDisposition",null,!0)),e.push(new ls("contentEncoding",null,!0)),e.push(new ls("contentLanguage",null,!0)),e.push(new ls("contentType",null,!0)),e.push(new ls("metadata","customMetadata",!0)),G1=e,G1}function Btt(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new lo(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function jtt(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return Btt(r,e),r}function Voe(e,t,n){const r=Boe(t);return r===null?null:jtt(e,r,n)}function Utt(e,t,n,r){const i=Boe(t);if(i===null||!Z6(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=tL(d,n,r),p=$oe({alt:"media",token:l});return h+p})[0]}function Vtt(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class zoe{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(e){if(!e)throw J6()}function ztt(e,t){function n(r,i){const s=Voe(e,i,t);return Hoe(s!==null),s}return n}function Htt(e,t){function n(r,i){const s=Voe(e,i,t);return Hoe(s!==null),Utt(s,i,e.host,e._protocol)}return n}function Woe(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=rtt():i=ntt():n.getStatus()===402?i=ttt(e.bucket):n.getStatus()===403?i=itt(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function Wtt(e){const t=Woe(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=ett(e.path)),s.serverResponse=i.serverResponse,s}return n}function qtt(e,t,n){const r=t.fullServerUrl(),i=tL(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new zoe(i,s,Htt(e,n),o);return a.errorHandler=Wtt(t),a}function Gtt(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Ytt(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Gtt(null,t)),r}function Ktt(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let w=0;w<2;w++)v=v+Math.random().toString().slice(2);return v}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=Ytt(t,r,i),c=Vtt(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=Ac.getBlob(f,r,d);if(h===null)throw ctt();const p={name:l.fullPath},g=tL(s,e.host,e._protocol),y="POST",m=e.maxUploadRetryTime,_=new zoe(g,y,ztt(e,n),m);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=Woe(t),_}class Qtt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw t0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw t0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw t0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw t0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw t0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Xtt extends Qtt{initXhr(){this.xhr_.responseType="text"}}function qoe(){return new Xtt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,n){this._service=t,n instanceof lo?this._location=n:this._location=lo.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Jd(t,n)}get root(){const t=new lo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return joe(this._location.path)}get storage(){return this._service}get parent(){const t=$tt(this._location.path);if(t===null)return null;const n=new lo(this._location.bucket,t);return new Jd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw htt(t)}}function Jtt(e,t,n){e._throwIfRoot("uploadBytes");const r=Ktt(e.storage,e._location,Uoe(),new Ac(t,!0),n);return e.storage.makeRequestWithTokens(r,qoe).then(i=>({metadata:i,ref:e}))}function Ztt(e){e._throwIfRoot("getDownloadURL");const t=qtt(e.storage,e._location,Uoe());return e.storage.makeRequestWithTokens(t,qoe).then(n=>{if(n===null)throw ftt();return n})}function ent(e,t){const n=Ltt(e._location.path,t),r=new lo(e._location.bucket,n);return new Jd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tnt(e){return/^[A-Za-z]+:\/\//.test(e)}function nnt(e,t){return new Jd(e,t)}function Goe(e,t){if(e instanceof nL){const n=e;if(n._bucket==null)throw ltt();const r=new Jd(n,n._bucket);return t!=null?Goe(r,t):r}else return t!==void 0?ent(e,t):e}function rnt(e,t){if(t&&tnt(t)){if(e instanceof nL)return nnt(e,t);throw EN("To use ref(service, url), the first argument must be a Storage instance.")}else return Goe(e,t)}function W7(e,t){const n=t==null?void 0:t[koe];return n==null?null:lo.makeFromBucketSpec(n,e)}function int(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:TZe(i,e.app.options.projectId))}class nL{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Noe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Jet,this._maxUploadRetryTime=Zet,this._requests=new Set,i!=null?this._bucket=lo.makeFromBucketSpec(i,this._host):this._bucket=W7(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=lo.makeFromBucketSpec(this._url,t):this._bucket=W7(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){H7("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){H7("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Jd(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new ptt(Doe());{const o=xtt(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const q7="@firebase/storage",G7="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yoe="storage";function snt(e,t,n){return e=rs(e),Jtt(e,t,n)}function ont(e){return e=rs(e),Ztt(e)}function Y7(e,t){return e=rs(e),rnt(e,t)}function K7(e=X6(),t){e=rs(e);const r=dg(e,Yoe).getImmediate({identifier:t}),i=SZe("storage");return i&&ant(r,...i),r}function ant(e,t,n,r={}){int(e,t,n,r)}function unt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new nL(n,r,i,t,Eh)}function lnt(){Wl(new Fu(Yoe,unt,"PUBLIC").setMultipleInstances(!0)),ka(q7,G7,""),ka(q7,G7,"esm2017")}lnt();var cnt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,rL=rL||{},St=cnt||self;function WI(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function bv(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function fnt(e){return Object.prototype.hasOwnProperty.call(e,nP)&&e[nP]||(e[nP]=++dnt)}var nP="closure_uid_"+(1e9*Math.random()>>>0),dnt=0;function hnt(e,t,n){return e.call.apply(e.bind,arguments)}function pnt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ji(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ji=hnt:Ji=pnt,Ji.apply(null,arguments)}function Y1(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function _i(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Ff(){this.s=this.s,this.o=this.o}var mnt=0;Ff.prototype.s=!1;Ff.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mnt!=0)&&fnt(this)};Ff.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Koe=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function iL(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Q7(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(WI(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Zi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zi.prototype.h=function(){this.defaultPrevented=!0};var gnt=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};St.addEventListener("test",n,t),St.removeEventListener("test",n,t)}catch{}return e}();function f_(e){return/^[\s\xa0]*$/.test(e)}function qI(){var e=St.navigator;return e&&(e=e.userAgent)?e:""}function fu(e){return qI().indexOf(e)!=-1}function sL(e){return sL[" "](e),e}sL[" "]=function(){};function ynt(e,t){var n=lrt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var _nt=fu("Opera"),Pm=fu("Trident")||fu("MSIE"),Qoe=fu("Edge"),wN=Qoe||Pm,Xoe=fu("Gecko")&&!(qI().toLowerCase().indexOf("webkit")!=-1&&!fu("Edge"))&&!(fu("Trident")||fu("MSIE"))&&!fu("Edge"),vnt=qI().toLowerCase().indexOf("webkit")!=-1&&!fu("Edge");function Joe(){var e=St.document;return e?e.documentMode:void 0}var SN;e:{var rP="",iP=function(){var e=qI();if(Xoe)return/rv:([^\);]+)(\)|;)/.exec(e);if(Qoe)return/Edge\/([\d\.]+)/.exec(e);if(Pm)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(vnt)return/WebKit\/(\S+)/.exec(e);if(_nt)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(iP&&(rP=iP?iP[1]:""),Pm){var sP=Joe();if(sP!=null&&sP>parseFloat(rP)){SN=String(sP);break e}}SN=rP}var TN;if(St.document&&Pm){var X7=Joe();TN=X7||parseInt(SN,10)||void 0}else TN=void 0;var bnt=TN;function d_(e,t){if(Zi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xoe){e:{try{sL(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Ent[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&d_.$.h.call(this)}}_i(d_,Zi);var Ent={2:"touch",3:"pen",4:"mouse"};d_.prototype.h=function(){d_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ev="closure_listenable_"+(1e6*Math.random()|0),wnt=0;function Snt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++wnt,this.fa=this.ia=!1}function GI(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function oL(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Tnt(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Zoe(e){const t={};for(const n in e)t[n]=e[n];return t}const J7="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eae(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<J7.length;s++)n=J7[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function YI(e){this.src=e,this.g={},this.h=0}YI.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=IN(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Snt(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function xN(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Koe(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(GI(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function IN(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var aL="closure_lm_"+(1e6*Math.random()|0),oP={};function tae(e,t,n,r,i){if(r&&r.once)return rae(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)tae(e,t[s],n,r,i);return null}return n=cL(n),e&&e[Ev]?e.O(t,n,bv(r)?!!r.capture:!!r,i):nae(e,t,n,!1,r,i)}function nae(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=bv(i)?!!i.capture:!!i,a=lL(e);if(a||(e[aL]=a=new YI(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=xnt(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gnt||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sae(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xnt(){function e(n){return t.call(e.src,e.listener,n)}const t=Int;return e}function rae(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)rae(e,t[s],n,r,i);return null}return n=cL(n),e&&e[Ev]?e.P(t,n,bv(r)?!!r.capture:!!r,i):nae(e,t,n,!0,r,i)}function iae(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)iae(e,t[s],n,r,i);else r=bv(r)?!!r.capture:!!r,n=cL(n),e&&e[Ev]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=IN(s,n,r,i),-1<n&&(GI(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=lL(e))&&(t=e.g[t.toString()],e=-1,t&&(e=IN(t,n,r,i)),(n=-1<e?t[e]:null)&&uL(n))}function uL(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ev])xN(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lL(t))?(xN(n,e),n.h==0&&(n.src=null,t[aL]=null)):GI(e)}}}function sae(e){return e in oP?oP[e]:oP[e]="on"+e}function Int(e,t){if(e.fa)e=!0;else{t=new d_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&uL(e),e=n.call(r,t)}return e}function lL(e){return e=e[aL],e instanceof YI?e:null}var aP="__closure_events_fn_"+(1e9*Math.random()>>>0);function cL(e){return typeof e=="function"?e:(e[aP]||(e[aP]=function(t){return e.handleEvent(t)}),e[aP])}function mi(){Ff.call(this),this.i=new YI(this),this.S=this,this.J=null}_i(mi,Ff);mi.prototype[Ev]=!0;mi.prototype.removeEventListener=function(e,t,n,r){iae(this,e,t,n,r)};function Di(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Zi(t,e);else if(t instanceof Zi)t.target=t.target||e;else{var i=t;t=new Zi(r,e),eae(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=K1(o,r,!0,t)&&i}if(o=t.g=e,i=K1(o,r,!0,t)&&i,i=K1(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=K1(o,r,!1,t)&&i}mi.prototype.N=function(){if(mi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)GI(n[r]);delete e.g[t],e.h--}}this.J=null};mi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};mi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function K1(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&xN(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var fL=St.JSON.stringify;class Ant{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Cnt(){var e=dL;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Ont{constructor(){this.h=this.g=null}add(t,n){const r=oae.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var oae=new Ant(()=>new Pnt,e=>e.reset());class Pnt{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Rnt(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Nnt(e){St.setTimeout(()=>{throw e},0)}let h_,p_=!1,dL=new Ont,aae=()=>{const e=St.Promise.resolve(void 0);h_=()=>{e.then(knt)}};var knt=()=>{for(var e;e=Cnt();){try{e.h.call(e.g)}catch(n){Nnt(n)}var t=oae;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}p_=!1};function KI(e,t){mi.call(this),this.h=e||1,this.g=t||St,this.j=Ji(this.qb,this),this.l=Date.now()}_i(KI,mi);je=KI.prototype;je.ga=!1;je.T=null;je.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Di(this,"tick"),this.ga&&(hL(this),this.start()))}};je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function hL(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}je.N=function(){KI.$.N.call(this),hL(this),delete this.g};function pL(e,t,n){if(typeof e=="function")n&&(e=Ji(e,n));else if(e&&typeof e.handleEvent=="function")e=Ji(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:St.setTimeout(e,t||0)}function uae(e){e.g=pL(()=>{e.g=null,e.i&&(e.i=!1,uae(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Dnt extends Ff{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:uae(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function m_(e){Ff.call(this),this.h=e,this.g={}}_i(m_,Ff);var Z7=[];function lae(e,t,n,r){Array.isArray(n)||(n&&(Z7[0]=n.toString()),n=Z7);for(var i=0;i<n.length;i++){var s=tae(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function cae(e){oL(e.g,function(t,n){this.g.hasOwnProperty(n)&&uL(t)},e),e.g={}}m_.prototype.N=function(){m_.$.N.call(this),cae(this)};m_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function QI(){this.g=!0}QI.prototype.Ea=function(){this.g=!1};function $nt(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function Lnt(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function yp(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Fnt(e,n)+(r?" "+r:"")})}function Mnt(e,t){e.info(function(){return"TIMEOUT: "+t})}QI.prototype.info=function(){};function Fnt(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return fL(n)}catch{return t}}var wh={},ez=null;function XI(){return ez=ez||new mi}wh.Ta="serverreachability";function fae(e){Zi.call(this,wh.Ta,e)}_i(fae,Zi);function g_(e){const t=XI();Di(t,new fae(t))}wh.STAT_EVENT="statevent";function dae(e,t){Zi.call(this,wh.STAT_EVENT,e),this.stat=t}_i(dae,Zi);function ds(e){const t=XI();Di(t,new dae(t,e))}wh.Ua="timingevent";function hae(e,t){Zi.call(this,wh.Ua,e),this.size=t}_i(hae,Zi);function wv(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){e()},t)}var JI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pae={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mL(){}mL.prototype.h=null;function tz(e){return e.h||(e.h=e.i())}function mae(){}var Sv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gL(){Zi.call(this,"d")}_i(gL,Zi);function yL(){Zi.call(this,"c")}_i(yL,Zi);var AN;function ZI(){}_i(ZI,mL);ZI.prototype.g=function(){return new XMLHttpRequest};ZI.prototype.i=function(){return{}};AN=new ZI;function Tv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new m_(this),this.P=Bnt,e=wN?125:void 0,this.V=new KI(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gae}function gae(){this.i=null,this.g="",this.h=!1}var Bnt=45e3,yae={},CN={};je=Tv.prototype;je.setTimeout=function(e){this.P=e};function ON(e,t,n){e.L=1,e.A=tA(ql(t)),e.u=n,e.S=!0,_ae(e,null)}function _ae(e,t){e.G=Date.now(),xv(e),e.B=ql(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Iae(n.i,"t",r),e.o=0,n=e.l.J,e.h=new gae,e.g=Gae(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Dnt(Ji(e.Pa,e,e.g),e.O)),lae(e.U,e.g,"readystatechange",e.nb),t=e.I?Zoe(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),g_(),$nt(e.j,e.v,e.B,e.m,e.W,e.u)}je.nb=function(e){e=e.target;const t=this.M;t&&gu(e)==3?t.l():this.Pa(e)};je.Pa=function(e){try{if(e==this.g)e:{const c=gu(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||wN||this.g&&(this.h.h||this.g.ja()||sz(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?g_(3):g_(2)),eA(this);var n=this.g.da();this.ca=n;t:if(vae(this)){var r=sz(this.g);e="";var i=r.length,s=gu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wd(this),ly(this);var o="";break t}this.h.i=new St.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Lnt(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f_(a)){var l=a;break t}}l=null}if(n=l)yp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,PN(this,n);else{this.i=!1,this.s=3,ds(12),wd(this),ly(this);break e}}this.S?(bae(this,c,o),wN&&this.i&&c==3&&(lae(this.U,this.V,"tick",this.mb),this.V.start())):(yp(this.j,this.m,o,null),PN(this,o)),c==4&&wd(this),this.i&&!this.J&&(c==4?zae(this.l,this):(this.i=!1,xv(this)))}else ort(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ds(12)):(this.s=0,ds(13)),wd(this),ly(this)}}}catch{}finally{}};function vae(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function bae(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=jnt(e,n),i==CN){t==4&&(e.s=4,ds(14),r=!1),yp(e.j,e.m,null,"[Incomplete Response]");break}else if(i==yae){e.s=4,ds(15),yp(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else yp(e.j,e.m,i,null),PN(e,i);vae(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ds(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),SL(t),t.M=!0,ds(11))):(yp(e.j,e.m,n,"[Invalid Chunked Response]"),wd(e),ly(e))}je.mb=function(){if(this.g){var e=gu(this.g),t=this.g.ja();this.o<t.length&&(eA(this),bae(this,e,t),this.i&&e!=4&&xv(this))}};function jnt(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?CN:(n=Number(t.substring(n,r)),isNaN(n)?yae:(r+=1,r+n>t.length?CN:(t=t.slice(r,r+n),e.o=r+n,t)))}je.cancel=function(){this.J=!0,wd(this)};function xv(e){e.Y=Date.now()+e.P,Eae(e,e.P)}function Eae(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=wv(Ji(e.lb,e),t)}function eA(e){e.C&&(St.clearTimeout(e.C),e.C=null)}je.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Mnt(this.j,this.B),this.L!=2&&(g_(),ds(17)),wd(this),this.s=2,ly(this)):Eae(this,this.Y-e)};function ly(e){e.l.H==0||e.J||zae(e.l,e)}function wd(e){eA(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,hL(e.V),cae(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function PN(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||RN(n.i,e))){if(!e.K&&RN(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)wT(n),sA(n);else break e;wL(n),ds(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=wv(Ji(n.ib,n),6e3));if(1>=Oae(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Sd(n,11)}else if((e.K||n.g==e)&&wT(n),!f_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(_L(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Xn(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=qae(r,r.J?r.pa:null,r.Y),o.K){Pae(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(eA(a),xv(a)),r.g=o}else Uae(r);0<n.j.length&&oA(n)}else l[0]!="stop"&&l[0]!="close"||Sd(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Sd(n,7):EL(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}g_(4)}catch{}}function Unt(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(WI(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Vnt(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(WI(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function wae(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(WI(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Vnt(e),r=Unt(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Sae=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function znt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Nd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Nd){this.h=e.h,bT(this,e.j),this.s=e.s,this.g=e.g,ET(this,e.m),this.l=e.l;var t=e.i,n=new y_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),nz(this,n),this.o=e.o}else e&&(t=String(e).match(Sae))?(this.h=!1,bT(this,t[1]||"",!0),this.s=x0(t[2]||""),this.g=x0(t[3]||"",!0),ET(this,t[4]),this.l=x0(t[5]||"",!0),nz(this,t[6]||"",!0),this.o=x0(t[7]||"")):(this.h=!1,this.i=new y_(null,this.h))}Nd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(I0(t,rz,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(I0(t,rz,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(I0(n,n.charAt(0)=="/"?qnt:Wnt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",I0(n,Ynt)),e.join("")};function ql(e){return new Nd(e)}function bT(e,t,n){e.j=n?x0(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ET(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nz(e,t,n){t instanceof y_?(e.i=t,Knt(e.i,e.h)):(n||(t=I0(t,Gnt)),e.i=new y_(t,e.h))}function Xn(e,t,n){e.i.set(t,n)}function tA(e){return Xn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function x0(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function I0(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Hnt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hnt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var rz=/[#\/\?@]/g,Wnt=/[#\?:]/g,qnt=/[#\?]/g,Gnt=/[#\?@]/g,Ynt=/#/g;function y_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bf(e){e.g||(e.g=new Map,e.h=0,e.i&&znt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}je=y_.prototype;je.add=function(e,t){Bf(this),this.i=null,e=hg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Tae(e,t){Bf(e),t=hg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xae(e,t){return Bf(e),t=hg(e,t),e.g.has(t)}je.forEach=function(e,t){Bf(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};je.ta=function(){Bf(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};je.Z=function(e){Bf(this);let t=[];if(typeof e=="string")xae(this,e)&&(t=t.concat(this.g.get(hg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};je.set=function(e,t){return Bf(this),this.i=null,e=hg(this,e),xae(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};je.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Iae(e,t,n){Tae(e,t),0<n.length&&(e.i=null,e.g.set(hg(e,t),iL(n)),e.h+=n.length)}je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function hg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Knt(e,t){t&&!e.j&&(Bf(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Tae(this,r),Iae(this,i,n))},e)),e.j=t}var Qnt=class{constructor(e,t){this.g=e,this.map=t}};function Aae(e){this.l=e||Xnt,St.PerformanceNavigationTiming?(e=St.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xnt=10;function Cae(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Oae(e){return e.h?1:e.g?e.g.size:0}function RN(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function _L(e,t){e.g?e.g.add(t):e.h=t}function Pae(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Aae.prototype.cancel=function(){if(this.i=Rae(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Rae(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return iL(e.i)}var Jnt=class{stringify(e){return St.JSON.stringify(e,void 0)}parse(e){return St.JSON.parse(e,void 0)}};function Znt(){this.g=new Jnt}function ert(e,t,n){const r=n||"";try{wae(e,function(i,s){let o=i;bv(i)&&(o=fL(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function trt(e,t){const n=new QI;if(St.Image){const r=new Image;r.onload=Y1(Q1,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Y1(Q1,n,r,"TestLoadImage: error",!1,t),r.onabort=Y1(Q1,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Y1(Q1,n,r,"TestLoadImage: timeout",!1,t),St.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Q1(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function nA(e){this.l=e.ec||null,this.j=e.ob||!1}_i(nA,mL);nA.prototype.g=function(){return new rA(this.l,this.j)};nA.prototype.i=function(e){return function(){return e}}({});function rA(e,t){mi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=vL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_i(rA,mi);var vL=0;je=rA.prototype;je.open=function(e,t){if(this.readyState!=vL)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,__(this)};je.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||St).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Iv(this)),this.readyState=vL};je.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,__(this)),this.g&&(this.readyState=3,__(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nae(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Nae(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}je.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Iv(this):__(this),this.readyState==3&&Nae(this)}};je.Za=function(e){this.g&&(this.response=this.responseText=e,Iv(this))};je.Ya=function(e){this.g&&(this.response=e,Iv(this))};je.ka=function(){this.g&&Iv(this)};function Iv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,__(e)}je.setRequestHeader=function(e,t){this.v.append(e,t)};je.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};je.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function __(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(rA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var nrt=St.JSON.parse;function Or(e){mi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kae,this.L=this.M=!1}_i(Or,mi);var kae="",rrt=/^https?$/i,irt=["POST","PUT"];je=Or.prototype;je.Oa=function(e){this.M=e};je.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():AN.g(),this.C=this.u?tz(this.u):tz(AN),this.g.onreadystatechange=Ji(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){iz(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=St.FormData&&e instanceof St.FormData,!(0<=Koe(irt,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lae(this),0<this.B&&((this.L=srt(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ji(this.ua,this)):this.A=pL(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){iz(this,s)}};function srt(e){return Pm&&typeof e.timeout=="number"&&e.ontimeout!==void 0}je.ua=function(){typeof rL<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Di(this,"timeout"),this.abort(8))};function iz(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dae(e),iA(e)}function Dae(e){e.F||(e.F=!0,Di(e,"complete"),Di(e,"error"))}je.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Di(this,"complete"),Di(this,"abort"),iA(this))};je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iA(this,!0)),Or.$.N.call(this)};je.La=function(){this.s||(this.G||this.v||this.l?$ae(this):this.kb())};je.kb=function(){$ae(this)};function $ae(e){if(e.h&&typeof rL<"u"&&(!e.C[1]||gu(e)!=4||e.da()!=2)){if(e.v&&gu(e)==4)pL(e.La,0,e);else if(Di(e,"readystatechange"),gu(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(Sae)[1]||null;!i&&St.self&&St.self.location&&(i=St.self.location.protocol.slice(0,-1)),r=!rrt.test(i?i.toLowerCase():"")}n=r}if(n)Di(e,"complete"),Di(e,"success");else{e.m=6;try{var s=2<gu(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Dae(e)}}finally{iA(e)}}}}function iA(e,t){if(e.g){Lae(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Di(e,"ready");try{n.onreadystatechange=r}catch{}}}function Lae(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(St.clearTimeout(e.A),e.A=null)}je.isActive=function(){return!!this.g};function gu(e){return e.g?e.g.readyState:0}je.da=function(){try{return 2<gu(this)?this.g.status:-1}catch{return-1}};je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};je.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),nrt(t)}};function sz(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case kae:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function ort(e){const t={};e=(e.g&&2<=gu(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(f_(e[r]))continue;var n=Rnt(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}Tnt(t,function(r){return r.join(", ")})}je.Ia=function(){return this.m};je.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Mae(e){let t="";return oL(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function bL(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mae(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Xn(e,t,n))}function n0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fae(e){this.Ga=0,this.j=[],this.l=new QI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=n0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=n0("baseRetryDelayMs",5e3,e),this.hb=n0("retryDelaySeedMs",1e4,e),this.eb=n0("forwardChannelMaxRetries",2,e),this.xa=n0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Aae(e&&e.concurrentRequestLimit),this.Ja=new Znt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}je=Fae.prototype;je.ra=8;je.H=1;function EL(e){if(Bae(e),e.H==3){var t=e.W++,n=ql(e.I);if(Xn(n,"SID",e.K),Xn(n,"RID",t),Xn(n,"TYPE","terminate"),Av(e,n),t=new Tv(e,e.l,t),t.L=2,t.A=tA(ql(n)),n=!1,St.navigator&&St.navigator.sendBeacon)try{n=St.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&St.Image&&(new Image().src=t.A,n=!0),n||(t.g=Gae(t.l,null),t.g.ha(t.A)),t.G=Date.now(),xv(t)}Wae(e)}function sA(e){e.g&&(SL(e),e.g.cancel(),e.g=null)}function Bae(e){sA(e),e.u&&(St.clearTimeout(e.u),e.u=null),wT(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&St.clearTimeout(e.m),e.m=null)}function oA(e){if(!Cae(e.i)&&!e.m){e.m=!0;var t=e.Na;h_||aae(),p_||(h_(),p_=!0),dL.add(t,e),e.C=0}}function art(e,t){return Oae(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=wv(Ji(e.Na,e,t),Hae(e,e.C)),e.C++,!0)}je.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Tv(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Zoe(s),eae(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=jae(this,i,t),n=ql(this.I),Xn(n,"RID",e),Xn(n,"CVER",22),this.F&&Xn(n,"X-HTTP-Session-Id",this.F),Av(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Mae(s)))+"&"+t:this.o&&bL(n,this.o,s)),_L(this.i,i),this.bb&&Xn(n,"TYPE","init"),this.P?(Xn(n,"$req",t),Xn(n,"SID","null"),i.aa=!0,ON(i,n,null)):ON(i,n,t),this.H=2}}else this.H==3&&(e?oz(this,e):this.j.length==0||Cae(this.i)||oz(this))};function oz(e,t){var n;t?n=t.m:n=e.W++;const r=ql(e.I);Xn(r,"SID",e.K),Xn(r,"RID",n),Xn(r,"AID",e.V),Av(e,r),e.o&&e.s&&bL(r,e.o,e.s),n=new Tv(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=jae(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),_L(e.i,n),ON(n,r,t)}function Av(e,t){e.na&&oL(e.na,function(n,r){Xn(t,r,n)}),e.h&&wae({},function(n,r){Xn(t,r,n)})}function jae(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ji(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{ert(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Uae(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;h_||aae(),p_||(h_(),p_=!0),dL.add(t,e),e.A=0}}function wL(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=wv(Ji(e.Ma,e),Hae(e,e.A)),e.A++,!0)}je.Ma=function(){if(this.u=null,Vae(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=wv(Ji(this.jb,this),e)}};je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ds(10),sA(this),Vae(this))};function SL(e){e.B!=null&&(St.clearTimeout(e.B),e.B=null)}function Vae(e){e.g=new Tv(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=ql(e.wa);Xn(t,"RID","rpc"),Xn(t,"SID",e.K),Xn(t,"AID",e.V),Xn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Xn(t,"TO",e.qa),Xn(t,"TYPE","xmlhttp"),Av(e,t),e.o&&e.s&&bL(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=tA(ql(t)),n.u=null,n.S=!0,_ae(n,e)}je.ib=function(){this.v!=null&&(this.v=null,sA(this),wL(this),ds(19))};function wT(e){e.v!=null&&(St.clearTimeout(e.v),e.v=null)}function zae(e,t){var n=null;if(e.g==t){wT(e),SL(e),e.g=null;var r=2}else if(RN(e.i,t))n=t.F,Pae(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=XI(),Di(r,new hae(r,n)),oA(e)}else Uae(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&art(e,t)||r==2&&wL(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sd(e,5);break;case 4:Sd(e,10);break;case 3:Sd(e,6);break;default:Sd(e,2)}}}function Hae(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Sd(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ji(e.pb,e);n||(n=new Nd("//www.google.com/images/cleardot.gif"),St.location&&St.location.protocol=="http"||bT(n,"https"),tA(n)),trt(n.toString(),r)}else ds(2);e.H=0,e.h&&e.h.za(t),Wae(e),Bae(e)}je.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ds(2)):(this.l.info("Failed to ping google.com"),ds(1))};function Wae(e){if(e.H=0,e.ma=[],e.h){const t=Rae(e.i);(t.length!=0||e.j.length!=0)&&(Q7(e.ma,t),Q7(e.ma,e.j),e.i.i.length=0,iL(e.j),e.j.length=0),e.h.ya()}}function qae(e,t,n){var r=n instanceof Nd?ql(n):new Nd(n);if(r.g!="")t&&(r.g=t+"."+r.g),ET(r,r.m);else{var i=St.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Nd(null);r&&bT(s,r),t&&(s.g=t),i&&ET(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Xn(r,n,t),Xn(r,"VER",e.ra),Av(e,r),r}function Gae(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Or(new nA({ob:n})):new Or(e.va),t.Oa(e.J),t}je.isActive=function(){return!!this.h&&this.h.isActive(this)};function Yae(){}je=Yae.prototype;je.Ba=function(){};je.Aa=function(){};je.za=function(){};je.ya=function(){};je.isActive=function(){return!0};je.Va=function(){};function ST(){if(Pm&&!(10<=Number(bnt)))throw Error("Environmental error: no available transport.")}ST.prototype.g=function(e,t){return new wo(e,t)};function wo(e,t){mi.call(this),this.g=new Fae(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!f_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new pg(this)}_i(wo,mi);wo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ds(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=qae(e,null,e.Y),oA(e)};wo.prototype.close=function(){EL(this.g)};wo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=fL(e),e=n);t.j.push(new Qnt(t.fb++,e)),t.H==3&&oA(t)};wo.prototype.N=function(){this.g.h=null,delete this.j,EL(this.g),delete this.g,wo.$.N.call(this)};function Kae(e){gL.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}_i(Kae,gL);function Qae(){yL.call(this),this.status=1}_i(Qae,yL);function pg(e){this.g=e}_i(pg,Yae);pg.prototype.Ba=function(){Di(this.g,"a")};pg.prototype.Aa=function(e){Di(this.g,new Kae(e))};pg.prototype.za=function(e){Di(this.g,new Qae)};pg.prototype.ya=function(){Di(this.g,"b")};function urt(){this.blockSize=-1}function Fa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_i(Fa,urt);Fa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function uP(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Fa.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)uP(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){uP(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){uP(this,r),i=0;break}}this.h=i,this.i+=t};Fa.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Rn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var lrt={};function TL(e){return-128<=e&&128>e?ynt(e,function(t){return new Rn([t|0],0>t?-1:0)}):new Rn([e|0],0>e?-1:0)}function yu(e){if(isNaN(e)||!isFinite(e))return Vp;if(0>e)return Pi(yu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=NN;return new Rn(t,0)}function Xae(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Pi(Xae(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=yu(Math.pow(t,8)),r=Vp,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=yu(Math.pow(t,s)),r=r.R(s).add(yu(o))):(r=r.R(n),r=r.add(yu(o)))}return r}var NN=4294967296,Vp=TL(0),kN=TL(1),az=TL(16777216);je=Rn.prototype;je.ea=function(){if(Ho(this))return-Pi(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:NN+r)*t,t*=NN}return e};je.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(yl(this))return"0";if(Ho(this))return"-"+Pi(this).toString(e);for(var t=yu(Math.pow(e,6)),n=this,r="";;){var i=xT(n,t).g;n=TT(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,yl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};je.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function yl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ho(e){return e.h==-1}je.X=function(e){return e=TT(this,e),Ho(e)?-1:yl(e)?0:1};function Pi(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Rn(n,~e.h).add(kN)}je.abs=function(){return Ho(this)?Pi(this):this};je.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Rn(n,n[n.length-1]&-2147483648?-1:0)};function TT(e,t){return e.add(Pi(t))}je.R=function(e){if(yl(this)||yl(e))return Vp;if(Ho(this))return Ho(e)?Pi(this).R(Pi(e)):Pi(Pi(this).R(e));if(Ho(e))return Pi(this.R(Pi(e)));if(0>this.X(az)&&0>e.X(az))return yu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,X1(n,2*r+2*i),n[2*r+2*i+1]+=s*u,X1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,X1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,X1(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Rn(n,0)};function X1(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function r0(e,t){this.g=e,this.h=t}function xT(e,t){if(yl(t))throw Error("division by zero");if(yl(e))return new r0(Vp,Vp);if(Ho(e))return t=xT(Pi(e),t),new r0(Pi(t.g),Pi(t.h));if(Ho(t))return t=xT(e,Pi(t)),new r0(Pi(t.g),t.h);if(30<e.g.length){if(Ho(e)||Ho(t))throw Error("slowDivide_ only works with positive integers.");for(var n=kN,r=t;0>=r.X(e);)n=uz(n),r=uz(r);var i=Fh(n,1),s=Fh(r,1);for(r=Fh(r,2),n=Fh(n,2);!yl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Fh(r,1),n=Fh(n,1)}return t=TT(e,i.R(t)),new r0(i,t)}for(i=Vp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=yu(n),o=s.R(t);Ho(o)||0<o.X(e);)n-=r,s=yu(n),o=s.R(t);yl(s)&&(s=kN),i=i.add(s),e=TT(e,o)}return new r0(i,e)}je.gb=function(e){return xT(this,e).h};je.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Rn(n,this.h&e.h)};je.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Rn(n,this.h|e.h)};je.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Rn(n,this.h^e.h)};function uz(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Rn(n,e.h)}function Fh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Rn(i,e.h)}ST.prototype.createWebChannel=ST.prototype.g;wo.prototype.send=wo.prototype.u;wo.prototype.open=wo.prototype.m;wo.prototype.close=wo.prototype.close;JI.NO_ERROR=0;JI.TIMEOUT=8;JI.HTTP_ERROR=6;pae.COMPLETE="complete";mae.EventType=Sv;Sv.OPEN="a";Sv.CLOSE="b";Sv.ERROR="c";Sv.MESSAGE="d";mi.prototype.listen=mi.prototype.O;Or.prototype.listenOnce=Or.prototype.P;Or.prototype.getLastError=Or.prototype.Sa;Or.prototype.getLastErrorCode=Or.prototype.Ia;Or.prototype.getStatus=Or.prototype.da;Or.prototype.getResponseJson=Or.prototype.Wa;Or.prototype.getResponseText=Or.prototype.ja;Or.prototype.send=Or.prototype.ha;Or.prototype.setWithCredentials=Or.prototype.Oa;Fa.prototype.digest=Fa.prototype.l;Fa.prototype.reset=Fa.prototype.reset;Fa.prototype.update=Fa.prototype.j;Rn.prototype.add=Rn.prototype.add;Rn.prototype.multiply=Rn.prototype.R;Rn.prototype.modulo=Rn.prototype.gb;Rn.prototype.compare=Rn.prototype.X;Rn.prototype.toNumber=Rn.prototype.ea;Rn.prototype.toString=Rn.prototype.toString;Rn.prototype.getBits=Rn.prototype.D;Rn.fromNumber=yu;Rn.fromString=Xae;var crt=function(){return new ST},frt=function(){return XI()},lP=JI,drt=pae,hrt=wh,lz={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},J1=mae,prt=Or,mrt=Fa,zp=Rn;const cz="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Os.UNAUTHENTICATED=new Os(null),Os.GOOGLE_CREDENTIALS=new Os("google-credentials-uid"),Os.FIRST_PARTY=new Os("first-party-uid"),Os.MOCK_USER=new Os("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new HI("@firebase/firestore");function i0(){return Zd.logLevel}function et(e,...t){if(Zd.logLevel<=rn.DEBUG){const n=t.map(xL);Zd.debug(`Firestore (${mg}): ${e}`,...n)}}function Gl(e,...t){if(Zd.logLevel<=rn.ERROR){const n=t.map(xL);Zd.error(`Firestore (${mg}): ${e}`,...n)}}function v_(e,...t){if(Zd.logLevel<=rn.WARN){const n=t.map(xL);Zd.warn(`Firestore (${mg}): ${e}`,...n)}}function xL(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(e="Unexpected state"){const t=`FIRESTORE (${mg}) INTERNAL ASSERTION FAILED: `+e;throw Gl(t),new Error(t)}function qn(e,t){e||_t()}function Nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Ku{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class grt{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yrt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Os.UNAUTHENTICATED))}shutdown(){}}class _rt{constructor(t){this.t=t,this.currentUser=Os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Al;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Al,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Al)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string"),new grt(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return qn(t===null||typeof t=="string"),new Os(t)}}class vrt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Os.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class brt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new vrt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ert{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wrt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qn(typeof n.token=="string"),this.R=n.token,new Ert(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Srt(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Srt(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function xn(e,t){return e<t?-1:e>t?1:0}function Rm(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new it(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ni.fromMillis(Date.now())}static fromDate(t){return ni.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ni(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?xn(this.nanoseconds,t.nanoseconds):xn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xt(t)}static min(){return new xt(new ni(0,0))}static max(){return new xt(new ni(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(),r===void 0?r=t.length-n:r>t.length-n&&_t(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return b_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof b_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ur extends b_{construct(t,n,r){return new ur(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ur(n)}static emptyPath(){return new ur([])}}const Trt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends b_{construct(t,n,r){return new Ri(t,n,r)}static isValidIdentifier(t){return Trt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ri(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new it(Ie.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new it(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new it(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new it(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ri(n)}static emptyPath(){return new Ri([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ur.fromString(t))}static fromName(t){return new ft(ur.fromString(t).popFirst(5))}static empty(){return new ft(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ur.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ur.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ur(t.slice()))}}function xrt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(r===1e9?new ni(n+1,0):new ni(n,r));return new wf(i,ft.empty(),t)}function Irt(e){return new wf(e.readTime,e.key,-1)}class wf{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new wf(xt.min(),ft.empty(),-1)}static max(){return new wf(xt.max(),ft.empty(),-1)}}function Art(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(e.documentKey,t.documentKey),n!==0?n:xn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Crt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ort{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cv(e){if(e.code!==Ie.FAILED_PRECONDITION||e.message!==Crt)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.reject(n)}static resolve(t){return new Ce((n,r)=>{n(t)})}static reject(t){return new Ce((n,r)=>{r(t)})}static waitFor(t){return new Ce((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Ce.resolve(!1);for(const r of t)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Ce((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Ce((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Ov(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}IL._e=-1;function aA(e){return e==null}function IT(e){return e===0&&1/e==-1/0}function Prt(e){return typeof e=="number"&&Number.isInteger(e)&&!IT(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zae(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,n){this.comparator=t,this.root=n||Ai.EMPTY}insert(t,n){return new vr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(t){return new vr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Z1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Z1(this.root,t,this.comparator,!1)}getReverseIterator(){return new Z1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Z1(this.root,t,this.comparator,!0)}}class Z1{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ai{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ai.RED,this.left=i??Ai.EMPTY,this.right=s??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ai(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1;Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ai(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.comparator=t,this.data=new vr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dz(this.data.getIterator())}getIteratorFrom(t){return new dz(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof $i)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new $i(this.comparator);return n.data=t,n}}class dz{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this.fields=t,t.sort(Ri.comparator)}static empty(){return new Ca([])}unionWith(t){let n=new $i(Ri.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ca(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Rm(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eue("Invalid base64 string: "+s):s}}(t);return new is(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new is(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}is.EMPTY_BYTE_STRING=new is("");const Rrt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sf(e){if(qn(!!e),typeof e=="string"){let t=0;const n=Rrt.exec(e);if(qn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ur(e.seconds),nanos:Ur(e.nanos)}}function Ur(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function eh(e){return typeof e=="string"?is.fromBase64String(e):is.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function CL(e){const t=e.mapValue.fields.__previous_value__;return AL(t)?CL(t):t}function E_(e){const t=Sf(e.mapValue.fields.__local_write_time__.timestampValue);return new ni(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nrt{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class w_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new w_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof w_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function th(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?AL(e)?4:krt(e)?9007199254740991:10:_t()}function Bu(e,t){if(e===t)return!0;const n=th(e);if(n!==th(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return E_(e).isEqual(E_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Sf(i.timestampValue),a=Sf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return eh(i.bytesValue).isEqual(eh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Ur(i.geoPointValue.latitude)===Ur(s.geoPointValue.latitude)&&Ur(i.geoPointValue.longitude)===Ur(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ur(i.integerValue)===Ur(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ur(i.doubleValue),a=Ur(s.doubleValue);return o===a?IT(o)===IT(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Rm(e.arrayValue.values||[],t.arrayValue.values||[],Bu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(fz(o)!==fz(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Bu(o[u],a[u])))return!1;return!0}(e,t);default:return _t()}}function S_(e,t){return(e.values||[]).find(n=>Bu(n,t))!==void 0}function Nm(e,t){if(e===t)return 0;const n=th(e),r=th(t);if(n!==r)return xn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Ur(s.integerValue||s.doubleValue),u=Ur(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return hz(e.timestampValue,t.timestampValue);case 4:return hz(E_(e),E_(t));case 5:return xn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=eh(s),u=eh(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=xn(a[l],u[l]);if(c!==0)return c}return xn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=xn(Ur(s.latitude),Ur(o.latitude));return a!==0?a:xn(Ur(s.longitude),Ur(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Nm(a[l],u[l]);if(c)return c}return xn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===eb.mapValue&&o===eb.mapValue)return 0;if(s===eb.mapValue)return 1;if(o===eb.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=xn(u[f],c[f]);if(d!==0)return d;const h=Nm(a[u[f]],l[c[f]]);if(h!==0)return h}return xn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw _t()}}function hz(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xn(e,t);const n=Sf(e),r=Sf(t),i=xn(n.seconds,r.seconds);return i!==0?i:xn(n.nanos,r.nanos)}function km(e){return DN(e)}function DN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Sf(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return eh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ft.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=DN(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${DN(n.fields[o])}`;return i+"}"}(e.mapValue):_t()}function $N(e){return!!e&&"integerValue"in e}function OL(e){return!!e&&"arrayValue"in e}function pz(e){return!!e&&"nullValue"in e}function mz(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yb(e){return!!e&&"mapValue"in e}function cy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gg(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=cy(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function krt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this.value=t}static empty(){return new Wo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Yb(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=cy(n)}setAll(t){let n=Ri.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cy(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Yb(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Bu(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Yb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){gg(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Wo(cy(this.value))}}function tue(e){const t=[];return gg(e.fields,(n,r)=>{const i=new Ri([n]);if(Yb(r)){const s=tue(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Ca(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Qi(t,0,xt.min(),xt.min(),xt.min(),Wo.empty(),0)}static newFoundDocument(t,n,r,i){return new Qi(t,1,n,xt.min(),r,i,0)}static newNoDocument(t,n){return new Qi(t,2,n,xt.min(),xt.min(),Wo.empty(),0)}static newUnknownDocument(t,n){return new Qi(t,3,n,xt.min(),xt.min(),Wo.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n){this.position=t,this.inclusive=n}}function gz(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ft.comparator(ft.fromName(o.referenceValue),n.key):r=Nm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yz(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bu(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,n="asc"){this.field=t,this.dir=n}}function Drt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{}class Zr extends nue{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Lrt(t,n,r):n==="array-contains"?new Brt(t,r):n==="in"?new jrt(t,r):n==="not-in"?new Urt(t,r):n==="array-contains-any"?new Vrt(t,r):new Zr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Mrt(t,r):new Frt(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Nm(n,this.value)):n!==null&&th(this.value)===th(n)&&this.matchesComparison(Nm(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ju extends nue{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ju(t,n)}matches(t){return rue(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function rue(e){return e.op==="and"}function iue(e){return $rt(e)&&rue(e)}function $rt(e){for(const t of e.filters)if(t instanceof ju)return!1;return!0}function LN(e){if(e instanceof Zr)return e.field.canonicalString()+e.op.toString()+km(e.value);if(iue(e))return e.filters.map(t=>LN(t)).join(",");{const t=e.filters.map(n=>LN(n)).join(",");return`${e.op}(${t})`}}function sue(e,t){return e instanceof Zr?function(r,i){return i instanceof Zr&&r.op===i.op&&r.field.isEqual(i.field)&&Bu(r.value,i.value)}(e,t):e instanceof ju?function(r,i){return i instanceof ju&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&sue(o,i.filters[a]),!0):!1}(e,t):void _t()}function oue(e){return e instanceof Zr?function(n){return`${n.field.canonicalString()} ${n.op} ${km(n.value)}`}(e):e instanceof ju?function(n){return n.op.toString()+" {"+n.getFilters().map(oue).join(" ,")+"}"}(e):"Filter"}class Lrt extends Zr{constructor(t,n,r){super(t,n,r),this.key=ft.fromName(r.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class Mrt extends Zr{constructor(t,n){super(t,"in",n),this.keys=aue("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Frt extends Zr{constructor(t,n){super(t,"not-in",n),this.keys=aue("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function aue(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ft.fromName(r.referenceValue))}class Brt extends Zr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return OL(n)&&S_(n.arrayValue,this.value)}}class jrt extends Zr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&S_(this.value.arrayValue,n)}}class Urt extends Zr{constructor(t,n){super(t,"not-in",n)}matches(t){if(S_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!S_(this.value.arrayValue,n)}}class Vrt extends Zr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!OL(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>S_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zrt{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function _z(e,t=null,n=[],r=[],i=null,s=null,o=null){return new zrt(e,t,n,r,i,s,o)}function PL(e){const t=Nt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>LN(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),aA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>km(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>km(r)).join(",")),t.ce=n}return t.ce}function RL(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Drt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sue(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yz(e.startAt,t.startAt)&&yz(e.endAt,t.endAt)}function MN(e){return ft.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Hrt(e,t,n,r,i,s,o,a){return new uA(e,t,n,r,i,s,o,a)}function NL(e){return new uA(e)}function vz(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Wrt(e){return e.collectionGroup!==null}function fy(e){const t=Nt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $i(Ri.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new CT(s,r))}),n.has(Ri.keyField().canonicalString())||t.le.push(new CT(Ri.keyField(),r))}return t.le}function Au(e){const t=Nt(e);return t.he||(t.he=qrt(t,fy(e))),t.he}function qrt(e,t){if(e.limitType==="F")return _z(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new CT(i.field,s)});const n=e.endAt?new AT(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new AT(e.startAt.position,e.startAt.inclusive):null;return _z(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function FN(e,t,n){return new uA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lA(e,t){return RL(Au(e),Au(t))&&e.limitType===t.limitType}function uue(e){return`${PL(Au(e))}|lt:${e.limitType}`}function qh(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oue(i)).join(", ")}]`),aA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>km(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>km(i)).join(",")),`Target(${r})`}(Au(e))}; limitType=${e.limitType})`}function cA(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of fy(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=gz(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,fy(r),i)||r.endAt&&!function(o,a,u){const l=gz(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,fy(r),i))}(e,t)}function Grt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lue(e){return(t,n)=>{let r=!1;for(const i of fy(e)){const s=Yrt(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Yrt(e,t,n){const r=e.field.isKeyField()?ft.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Nm(u,l):_t()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){gg(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Zae(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Krt=new vr(ft.comparator);function Yl(){return Krt}const cue=new vr(ft.comparator);function A0(...e){let t=cue;for(const n of e)t=t.insert(n.key,n);return t}function fue(e){let t=cue;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Td(){return dy()}function due(){return dy()}function dy(){return new yg(e=>e.toString(),(e,t)=>e.isEqual(t))}const Qrt=new vr(ft.comparator),Xrt=new $i(ft.comparator);function Kt(...e){let t=Xrt;for(const n of e)t=t.add(n);return t}const Jrt=new $i(xn);function Zrt(){return Jrt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hue(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:IT(t)?"-0":t}}function pue(e){return{integerValue:""+e}}function eit(e,t){return Prt(t)?pue(t):hue(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this._=void 0}}function tit(e,t,n){return e instanceof OT?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&AL(s)&&(s=CL(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof T_?gue(e,t):e instanceof x_?yue(e,t):function(i,s){const o=mue(i,s),a=bz(o)+bz(i.Ie);return $N(o)&&$N(i.Ie)?pue(a):hue(i.serializer,a)}(e,t)}function nit(e,t,n){return e instanceof T_?gue(e,t):e instanceof x_?yue(e,t):n}function mue(e,t){return e instanceof PT?function(r){return $N(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class OT extends fA{}class T_ extends fA{constructor(t){super(),this.elements=t}}function gue(e,t){const n=_ue(t);for(const r of e.elements)n.some(i=>Bu(i,r))||n.push(r);return{arrayValue:{values:n}}}class x_ extends fA{constructor(t){super(),this.elements=t}}function yue(e,t){let n=_ue(t);for(const r of e.elements)n=n.filter(i=>!Bu(i,r));return{arrayValue:{values:n}}}class PT extends fA{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function bz(e){return Ur(e.integerValue||e.doubleValue)}function _ue(e){return OL(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function rit(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof T_&&i instanceof T_||r instanceof x_&&i instanceof x_?Rm(r.elements,i.elements,Bu):r instanceof PT&&i instanceof PT?Bu(r.Ie,i.Ie):r instanceof OT&&i instanceof OT}(e.transform,t.transform)}class iit{constructor(t,n){this.version=t,this.transformResults=n}}class Cl{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Cl}static exists(t){return new Cl(void 0,t)}static updateTime(t){return new Cl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kb(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class dA{}function vue(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Eue(e.key,Cl.none()):new Pv(e.key,e.data,Cl.none());{const n=e.data,r=Wo.empty();let i=new $i(Ri.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Sh(e.key,r,new Ca(i.toArray()),Cl.none())}}function sit(e,t,n){e instanceof Pv?function(i,s,o){const a=i.value.clone(),u=wz(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Sh?function(i,s,o){if(!Kb(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=wz(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(bue(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function hy(e,t,n,r){return e instanceof Pv?function(s,o,a,u){if(!Kb(s.precondition,o))return a;const l=s.value.clone(),c=Sz(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sh?function(s,o,a,u){if(!Kb(s.precondition,o))return a;const l=Sz(s.fieldTransforms,u,o),c=o.data;return c.setAll(bue(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return Kb(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function oit(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=mue(r.transform,i||null);s!=null&&(n===null&&(n=Wo.empty()),n.set(r.field,s))}return n||null}function Ez(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rm(r,i,(s,o)=>rit(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Pv extends dA{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sh extends dA{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bue(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wz(e,t,n){const r=new Map;qn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,nit(o,a,n[i]))}return r}function Sz(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tit(s,o,t))}return r}class Eue extends dA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ait extends dA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uit{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&sit(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=hy(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=hy(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=due();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=vue(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Kt())}isEqual(t){return this.batchId===t.batchId&&Rm(this.mutations,t.mutations,(n,r)=>Ez(n,r))&&Rm(this.baseMutations,t.baseMutations,(n,r)=>Ez(n,r))}}class kL{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){qn(t.mutations.length===r.length);let i=function(){return Qrt}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kL(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lit{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cit{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr,cn;function fit(e){switch(e){default:return _t();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function wue(e){if(e===void 0)return Gl("GRPC error has no .code"),Ie.UNKNOWN;switch(e){case Fr.OK:return Ie.OK;case Fr.CANCELLED:return Ie.CANCELLED;case Fr.UNKNOWN:return Ie.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return Ie.INTERNAL;case Fr.UNAVAILABLE:return Ie.UNAVAILABLE;case Fr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Fr.NOT_FOUND:return Ie.NOT_FOUND;case Fr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Fr.ABORTED:return Ie.ABORTED;case Fr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Fr.DATA_LOSS:return Ie.DATA_LOSS;default:return _t()}}(cn=Fr||(Fr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dit(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hit=new zp([4294967295,4294967295],0);function Tz(e){const t=dit().encode(e),n=new mrt;return n.update(t),new Uint8Array(n.digest())}function xz(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new zp([n,r],0),new zp([i,s],0)]}class DL{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new C0(`Invalid padding: ${n}`);if(r<0)throw new C0(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new C0(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new C0(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=zp.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(zp.fromNumber(r)));return i.compare(hit)===1&&(i=new zp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Tz(t),[r,i]=xz(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new DL(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Tz(t),[r,i]=xz(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class C0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Rv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new hA(xt.min(),i,new vr(xn),Yl(),Kt())}}class Rv{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Rv(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class Sue{constructor(t,n){this.targetId=t,this.fe=n}}class Tue{constructor(t,n,r=is.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Iz{constructor(){this.ge=0,this.pe=Cz(),this.ye=is.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Kt(),n=Kt(),r=Kt();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new Rv(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=Cz()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,qn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class pit{constructor(t){this.Le=t,this.ke=new Map,this.qe=Yl(),this.Qe=Az(),this.Ke=new vr(xn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(MN(s))if(r===0){const o=new ft(s.path);this.We(n,o,Qi.newNoDocument(o,xt.min()))}else qn(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=eh(r).toUint8Array()}catch(u){if(u instanceof eue)return v_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new DL(o,i,s)}catch(u){return v_(u instanceof C0?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&MN(a.target)){const u=new ft(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,Qi.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Kt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new hA(t,n,this.Ke,this.qe,r);return this.qe=Yl(),this.Qe=Az(),this.Ke=new vr(xn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Iz,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new $i(xn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Iz),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Az(){return new vr(ft.comparator)}function Cz(){return new vr(ft.comparator)}const mit={asc:"ASCENDING",desc:"DESCENDING"},git={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yit={and:"AND",or:"OR"};class _it{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function BN(e,t){return e.useProto3Json||aA(t)?t:{value:t}}function RT(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xue(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vit(e,t){return RT(e,t.toTimestamp())}function Cu(e){return qn(!!e),xt.fromTimestamp(function(n){const r=Sf(n);return new ni(r.seconds,r.nanos)}(e))}function $L(e,t){return function(r){return new ur(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Iue(e){const t=ur.fromString(e);return qn(Pue(t)),t}function jN(e,t){return $L(e.databaseId,t.path)}function cP(e,t){const n=Iue(t);if(n.get(1)!==e.databaseId.projectId)throw new it(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new it(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ft(Aue(n))}function UN(e,t){return $L(e.databaseId,t)}function bit(e){const t=Iue(e);return t.length===4?ur.emptyPath():Aue(t)}function VN(e){return new ur(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Aue(e){return qn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Oz(e,t,n){return{name:jN(e,t),fields:n.value.mapValue.fields}}function Eit(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(qn(c===void 0||typeof c=="string"),is.fromBase64String(c||"")):(qn(c===void 0||c instanceof Uint8Array),is.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Ie.UNKNOWN:wue(l.code);return new it(c,l.message||"")}(o);n=new Tue(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=cP(e,r.document.name),s=Cu(r.document.updateTime),o=r.document.createTime?Cu(r.document.createTime):xt.min(),a=new Wo({mapValue:{fields:r.document.fields}}),u=Qi.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Qb(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=cP(e,r.document),s=r.readTime?Cu(r.readTime):xt.min(),o=Qi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qb([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=cP(e,r.document),s=r.removedTargetIds||[];n=new Qb([],s,i,null)}else{if(!("filter"in t))return _t();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new cit(i,s),a=r.targetId;n=new Sue(a,o)}}return n}function wit(e,t){let n;if(t instanceof Pv)n={update:Oz(e,t.key,t.value)};else if(t instanceof Eue)n={delete:jN(e,t.key)};else if(t instanceof Sh)n={update:Oz(e,t.key,t.data),updateMask:Rit(t.fieldMask)};else{if(!(t instanceof ait))return _t();n={verify:jN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof OT)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof T_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof x_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof PT)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw _t()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vit(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_t()}(e,t.precondition)),n}function Sit(e,t){return e&&e.length>0?(qn(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Cu(i.updateTime):Cu(s);return o.isEqual(xt.min())&&(o=Cu(s)),new iit(o,i.transformResults||[])}(n,t))):[]}function Tit(e,t){return{documents:[UN(e,t.path)]}}function xit(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=UN(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=UN(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return Oue(ju.create(u,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(f){return{field:Gh(f.field),direction:Cit(f.dir)}}(l))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=BN(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function Iit(e){let t=bit(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=Cue(f);return d instanceof ju&&iue(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new CT(Yh(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,aA(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new AT(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new AT(h,d)}(n.endAt)),Hrt(t,i,o,s,a,"F",u,l)}function Ait(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Cue(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yh(n.unaryFilter.field);return Zr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yh(n.unaryFilter.field);return Zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yh(n.unaryFilter.field);return Zr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yh(n.unaryFilter.field);return Zr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(e):e.fieldFilter!==void 0?function(n){return Zr.create(Yh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ju.create(n.compositeFilter.filters.map(r=>Cue(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _t()}}(n.compositeFilter.op))}(e):_t()}function Cit(e){return mit[e]}function Oit(e){return git[e]}function Pit(e){return yit[e]}function Gh(e){return{fieldPath:e.canonicalString()}}function Yh(e){return Ri.fromServerFormat(e.fieldPath)}function Oue(e){return e instanceof Zr?function(n){if(n.op==="=="){if(mz(n.value))return{unaryFilter:{field:Gh(n.field),op:"IS_NAN"}};if(pz(n.value))return{unaryFilter:{field:Gh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mz(n.value))return{unaryFilter:{field:Gh(n.field),op:"IS_NOT_NAN"}};if(pz(n.value))return{unaryFilter:{field:Gh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gh(n.field),op:Oit(n.op),value:n.value}}}(e):e instanceof ju?function(n){const r=n.getFilters().map(i=>Oue(i));return r.length===1?r[0]:{compositeFilter:{op:Pit(n.op),filters:r}}}(e):_t()}function Rit(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Pue(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n,r,i,s=xt.min(),o=xt.min(),a=is.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Mc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nit{constructor(t){this.ut=t}}function kit(e){const t=Iit({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?FN(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dit{constructor(){this.on=new $it}addToCollectionParentIndex(t,n){return this.on.add(n),Ce.resolve()}getCollectionParents(t,n){return Ce.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return Ce.resolve()}deleteFieldIndex(t,n){return Ce.resolve()}deleteAllFieldIndexes(t){return Ce.resolve()}createTargetIndexes(t,n){return Ce.resolve()}getDocumentsMatchingTarget(t,n){return Ce.resolve(null)}getIndexType(t,n){return Ce.resolve(0)}getFieldIndexes(t,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,n){return Ce.resolve(wf.min())}getMinOffsetFromCollectionGroup(t,n){return Ce.resolve(wf.min())}updateCollectionGroup(t,n,r){return Ce.resolve()}updateIndexEntries(t,n){return Ce.resolve()}}class $it{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new $i(ur.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new $i(ur.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Dm(0)}static Nn(){return new Dm(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lit{constructor(){this.changes=new yg(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mit{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fit{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&hy(r.mutation,i,Ca.empty(),ni.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Kt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Kt()){const i=Td();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=A0();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Td();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Kt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Yl();const o=dy(),a=function(){return dy()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Sh)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),hy(c.mutation,l,c.mutation.getFieldMask(),ni.now())):o.set(l.key,Ca.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new Mit(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=dy();let i=new vr((o,a)=>o-a),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Ca.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Kt()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=due();c.forEach(d=>{if(!s.has(d)){const h=vue(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Wrt(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Ce.resolve(Td());let a=-1,u=s;return o.next(l=>Ce.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Kt())).next(c=>({batchId:a,changes:fue(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next(r=>{let i=A0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=A0();return this.indexManager.getCollectionParents(t,s).next(a=>Ce.forEach(a,u=>{const l=function(f,d){return new uA(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Qi.newInvalidDocument(c)))});let a=A0();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&hy(c.mutation,l,Ca.empty(),ni.now()),cA(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bit{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return Ce.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cu(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(t,n){return Ce.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:kit(i.bundledQuery),readTime:Cu(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jit{constructor(){this.overlays=new vr(ft.comparator),this.lr=new Map}getOverlay(t,n){return Ce.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Td();return Ce.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),Ce.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Ce.resolve()}getOverlaysForCollection(t,n,r){const i=Td(),s=n.length+1,o=new ft(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ce.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new vr((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Td(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Td(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Ce.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lit(n,r));let s=this.lr.get(n);s===void 0&&(s=Kt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.hr=new $i(ci.Pr),this.Ir=new $i(ci.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new ci(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new ci(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new ft(new ur([])),r=new ci(n,t),i=new ci(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new ft(new ur([])),r=new ci(n,t),i=new ci(n,t+1);let s=Kt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ci(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ci{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return ft.comparator(t.key,n.key)||xn(t.gr,n.gr)}static Tr(t,n){return xn(t.gr,n.gr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uit{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new $i(ci.Pr)}checkEmpty(t){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uit(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ci(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(t,n){return Ce.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ci(n,0),i=new ci(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new $i(xn);return n.forEach(i=>{const s=new ci(i,0),o=new ci(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Ce.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ft.isDocumentKey(s)||(s=s.child(""));const o=new ci(new ft(s),0);let a=new $i(xn);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),Ce.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){qn(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Ce.forEach(n.mutations,i=>{const s=new ci(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new ci(n,0),i=this.yr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ce.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vit{constructor(t){this.Cr=t,this.docs=function(){return new vr(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():Qi.newInvalidDocument(n))}getEntries(t,n){let r=Yl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qi.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Yl();const o=n.path,a=new ft(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Art(Irt(c),r)<=0||(i.has(c.key)||cA(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(t,n,r,i){_t()}vr(t,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new zit(this)}getSize(t){return Ce.resolve(this.size)}}class zit extends Lit{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),Ce.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hit{constructor(t){this.persistence=t,this.Fr=new yg(n=>PL(n),RL),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new LL,this.targetCount=0,this.Nr=Dm.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Ce.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Dm(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(t,n){return this.kn(n),Ce.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),Ce.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),Ce.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return Ce.resolve(r)}containsKey(t,n){return Ce.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wit{constructor(t,n){this.Br={},this.overlays={},this.Lr=new IL(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Hit(this),this.indexManager=new Dit,this.remoteDocumentCache=function(i){return new Vit(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Nit(n),this.Kr=new Bit(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new jit,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new Uit(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){et("MemoryPersistence","Starting transaction:",t);const i=new qit(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return Ce.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class qit extends Ort{constructor(t){super(),this.currentSequenceNumber=t}}class ML{constructor(t){this.persistence=t,this.Gr=new LL,this.zr=null}static jr(t){return new ML(t)}get Hr(){if(this.zr)return this.zr;throw _t()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Ce.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),Ce.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Hr,r=>{const i=ft.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,xt.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return Ce.or([()=>Ce.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=Kt(),i=Kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new FL(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Git{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yit{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Git;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(i0()<=rn.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",qh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ce.resolve()):(i0()<=rn.DEBUG&&et("QueryEngine","Query:",qh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(i0()<=rn.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",qh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Au(n))):Ce.resolve())}zi(t,n){if(vz(n))return Ce.resolve(null);let r=Au(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=FN(n,null,"F"),r=Au(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Kt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(t,FN(n,null,"F")):this.Xi(t,l,n,u)}))})))}ji(t,n,r,i){return vz(n)||i.isEqual(xt.min())?Ce.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?Ce.resolve(null):(i0()<=rn.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qh(n)),this.Xi(t,o,n,xrt(i,-1)).next(a=>a))})}Yi(t,n){let r=new $i(lue(t));return n.forEach((i,s)=>{cA(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return i0()<=rn.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",qh(n)),this.Gi.getDocumentsMatchingQuery(t,n,wf.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kit{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new vr(xn),this.ns=new yg(s=>PL(s),RL),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fit(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function Qit(e,t,n,r){return new Kit(e,t,n,r)}async function Rue(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Kt();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function Xit(e,t){const n=Nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Ce.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(g=>{const y=l.docVersions.get(p);qn(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Kt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Nue(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function Jit(e,t){const n=Nt(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(is.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(g,y,m){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(s,h))});let u=Yl(),l=Kt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Zit(s,o,t.documentUpdates).next(c=>{u=c.us,l=c.cs})),!r.isEqual(xt.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}function Zit(e,t,n){let r=Kt(),i=Kt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Yl();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(xt.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):et("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function est(e,t){const n=Nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function tst(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,Ce.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Mc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function zN(e,t,n){const r=Nt(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ov(o))throw o;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Pz(e,t,n){const r=Nt(e);let i=xt.min(),s=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Nt(u),d=f.ns.get(c);return d!==void 0?Ce.resolve(f.ts.get(d)):f.qr.getTargetData(l,c)}(r,o,Au(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:xt.min(),n?s:Kt())).next(a=>(nst(r,Grt(t),a),{documents:a,ls:s})))}function nst(e,t,n){let r=e.rs.get(t)||xt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class Rz{constructor(){this.activeTargetIds=Zrt()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rst{constructor(){this.eo=new Rz,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new Rz,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ist{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tb=null;function fP(){return tb===null?tb=function(){return 268435456+Math.round(2147483648*Math.random())}():tb++,"0x"+tb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sst={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ost{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="WebChannelConnection";class ast extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=fP(),u=this.So(n,r);et("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(c=>(et("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw v_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mg}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=sst[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=fP();return new Promise((o,a)=>{const u=new prt;u.setWithCredentials(!0),u.listenOnce(drt.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lP.NO_ERROR:const c=u.getResponseJson();et(Wi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case lP.TIMEOUT:et(Wi,`RPC '${t}' ${s} timed out`),a(new it(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case lP.HTTP_ERROR:const f=u.getStatus();if(et(Wi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(m)>=0?m:Ie.UNKNOWN}(h.status);a(new it(p,h.message))}else a(new it(Ie.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new it(Ie.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{et(Wi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);et(Wi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(t,n,r){const i=fP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=crt(),a=frt(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");et(Wi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new ost({co:y=>{h?et(Wi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(et(Wi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),et(Wi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},lo:()=>f.close()}),g=(y,m,_)=>{y.listen(m,v=>{try{_(v)}catch(w){setTimeout(()=>{throw w},0)}})};return g(f,J1.EventType.OPEN,()=>{h||et(Wi,`RPC '${t}' stream ${i} transport opened.`)}),g(f,J1.EventType.CLOSE,()=>{h||(h=!0,et(Wi,`RPC '${t}' stream ${i} transport closed`),p.Ro())}),g(f,J1.EventType.ERROR,y=>{h||(h=!0,v_(Wi,`RPC '${t}' stream ${i} transport errored:`,y),p.Ro(new it(Ie.UNAVAILABLE,"The operation could not be completed")))}),g(f,J1.EventType.MESSAGE,y=>{var m;if(!h){const _=y.data[0];qn(!!_);const v=_,w=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(w){et(Wi,`RPC '${t}' stream ${i} received error:`,w);const T=w.status;let E=function(M){const D=Fr[M];if(D!==void 0)return wue(D)}(T),x=w.message;E===void 0&&(E=Ie.INTERNAL,x="Unknown error status: "+T+" with message "+w.message),h=!0,p.Ro(new it(E,x)),f.close()}else et(Wi,`RPC '${t}' stream ${i} received:`,_),p.Vo(_)}}),g(a,hrt.STAT_EVENT,y=>{y.stat===lz.PROXY?et(Wi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===lz.NOPROXY&&et(Wi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function dP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(e){return new _it(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kue{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(t,n,r,i,s,o,a,u){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new kue(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Gl(n.toString()),Gl("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new it(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ust extends Due{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=Eit(this.serializer,t),r=function(s){if(!("targetChange"in s))return xt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?Cu(o.readTime):xt.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=VN(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=MN(u)?{documents:Tit(s,u)}:{query:xit(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xue(s,o.resumeToken);const l=BN(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(xt.min())>0){a.readTime=RT(s,o.snapshotVersion.toTimestamp());const l=BN(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Ait(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=VN(this.serializer),n.removeTarget=t,this.e_(n)}}class lst extends Due{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(qn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=Sit(t.writeResults,t.commitTime),r=Cu(t.commitTime);return this.listener.I_(r,n)}return qn(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=VN(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>wit(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cst extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new it(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new it(Ie.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Ie.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class fst{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Gl(n),this.f_=!1):et("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dst{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Th(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Nt(u);l.C_.add(4),await kv(l),l.M_.set("Unknown"),l.C_.delete(4),await Nv(l)}(this))})}),this.M_=new fst(r,i)}}async function Nv(e){if(Th(e))for(const t of e.v_)await t(!0)}async function kv(e){for(const t of e.v_)await t(!1)}function $ue(e,t){const n=Nt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),UL(n)?jL(n):_g(n).Ho()&&BL(n,t))}function Lue(e,t){const n=Nt(e),r=_g(n);n.D_.delete(t),r.Ho()&&Mue(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Th(n)&&n.M_.set("Unknown"))}function BL(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_g(e).u_(t)}function Mue(e,t){e.x_.Oe(t),_g(e).c_(t)}function jL(e){e.x_=new pit({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),_g(e).start(),e.M_.g_()}function UL(e){return Th(e)&&!_g(e).jo()&&e.D_.size>0}function Th(e){return Nt(e).C_.size===0}function Fue(e){e.x_=void 0}async function hst(e){e.D_.forEach((t,n)=>{BL(e,t)})}async function pst(e,t){Fue(e),UL(e)?(e.M_.w_(t),jL(e)):e.M_.set("Unknown")}async function mst(e,t,n){if(e.M_.set("Online"),t instanceof Tue&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await NT(e,r)}else if(t instanceof Qb?e.x_.$e(t):t instanceof Sue?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(xt.min()))try{const r=await Nue(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.D_.get(l);c&&s.D_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.D_.get(u);if(!c)return;s.D_.set(u,c.withResumeToken(is.EMPTY_BYTE_STRING,c.snapshotVersion)),Mue(s,u);const f=new Mc(c.target,u,l,c.sequenceNumber);BL(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){et("RemoteStore","Failed to raise snapshot:",r),await NT(e,r)}}async function NT(e,t,n){if(!Ov(t))throw t;e.C_.add(1),await kv(e),e.M_.set("Offline"),n||(n=()=>Nue(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Nv(e)})}function Bue(e,t){return t().catch(n=>NT(e,n,t))}async function mA(e){const t=Nt(e),n=Tf(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;gst(t);)try{const i=await est(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,yst(t,i)}catch(i){await NT(t,i)}jue(t)&&Uue(t)}function gst(e){return Th(e)&&e.b_.length<10}function yst(e,t){e.b_.push(t);const n=Tf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function jue(e){return Th(e)&&!Tf(e).jo()&&e.b_.length>0}function Uue(e){Tf(e).start()}async function _st(e){Tf(e).E_()}async function vst(e){const t=Tf(e);for(const n of e.b_)t.P_(n.mutations)}async function bst(e,t,n){const r=e.b_.shift(),i=kL.from(r,t,n);await Bue(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await mA(e)}async function Est(e,t){t&&Tf(e).h_&&await async function(r,i){if(function(o){return fit(o)&&o!==Ie.ABORTED}(i.code)){const s=r.b_.shift();Tf(r).Yo(),await Bue(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mA(r)}}(e,t),jue(e)&&Uue(e)}async function kz(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=Th(n);n.C_.add(3),await kv(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Nv(n)}async function wst(e,t){const n=Nt(e);t?(n.C_.delete(2),await Nv(n)):t||(n.C_.add(2),await kv(n),n.M_.set("Unknown"))}function _g(e){return e.O_||(e.O_=function(n,r,i){const s=Nt(n);return s.A_(),new ust(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:hst.bind(null,e),Io:pst.bind(null,e),a_:mst.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),UL(e)?jL(e):e.M_.set("Unknown")):(await e.O_.stop(),Fue(e))})),e.O_}function Tf(e){return e.N_||(e.N_=function(n,r,i){const s=Nt(n);return s.A_(),new lst(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:_st.bind(null,e),Io:Est.bind(null,e),T_:vst.bind(null,e),I_:bst.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await mA(e)):(await e.N_.stop(),e.b_.length>0&&(et("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new VL(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ie.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zL(e,t){if(Gl("AsyncQueue",`${t}: ${e}`),Ov(e))return new it(Ie.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=A0(),this.sortedSet=new vr(this.comparator)}static emptySet(t){return new Hp(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Hp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Hp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.B_=new vr(ft.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):_t():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class $m{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $m(t,n,Hp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lA(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sst{constructor(){this.k_=void 0,this.listeners=[]}}class Tst{constructor(){this.queries=new yg(t=>uue(t),lA),this.onlineState="Unknown",this.q_=new Set}}async function Vue(e,t){const n=Nt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Sst),i)try{s.k_=await n.onListen(r)}catch(o){const a=zL(o,`Initialization of query '${qh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&HL(n)}async function zue(e,t){const n=Nt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xst(e,t){const n=Nt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&HL(n)}function Ist(e,t,n){const r=Nt(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function HL(e){e.q_.forEach(t=>{t.next()})}class Hue{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new $m(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=$m.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wue{constructor(t){this.key=t}}class que{constructor(t){this.key=t}}class Ast{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Kt(),this.mutatedKeys=Kt(),this._a=lue(t),this.aa=new Hp(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new Dz,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=cA(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this._a(h,u)>0||l&&this._a(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(h,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return g(h)-g(p)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,l=u!==this.sa;return this.sa=u,o.length!==0||l?{snapshot:new $m(this.query,t.aa,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Dz,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Kt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new que(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new Wue(r))}),n}da(t){this.ia=t.ls,this.oa=Kt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return $m.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Cst{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Ost{constructor(t){this.key=t,this.Ra=!1}}class Pst{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new yg(a=>uue(a),lA),this.fa=new Map,this.ga=new Set,this.pa=new vr(ft.comparator),this.ya=new Map,this.wa=new LL,this.Sa={},this.ba=new Map,this.Da=Dm.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Rst(e,t){const n=Ust(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await tst(n.localStore,Au(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Nst(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&$ue(n.remoteStore,o)}return i}async function Nst(e,t,n,r,i){e.va=(f,d,h)=>async function(g,y,m,_){let v=y.view.ca(m);v.Zi&&(v=await Pz(g.localStore,y.query,!1).then(({documents:x})=>y.view.ca(x,v)));const w=_&&_.targetChanges.get(y.targetId),T=_&&_.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(v,g.isPrimaryClient,w,T);return Lz(g,y.targetId,E.Ta),E.snapshot}(e,f,d,h);const s=await Pz(e.localStore,t,!0),o=new Ast(t,s.ls),a=o.ca(s.documents),u=Rv.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);Lz(e,n,l.Ta);const c=new Cst(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function kst(e,t){const n=Nt(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!lA(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await zN(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Lue(n.remoteStore,r.targetId),HN(n,r.targetId)}).catch(Cv)):(HN(n,r.targetId),await zN(n.localStore,r.targetId,!0))}async function Dst(e,t,n){const r=Vst(e);try{const i=await function(o,a){const u=Nt(o),l=ni.now(),c=a.reduce((h,p)=>h.add(p.key),Kt());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Yl(),g=Kt();return u.ss.getEntries(h,c).next(y=>{p=y,p.forEach((m,_)=>{_.isValidDocument()||(g=g.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const m=[];for(const _ of a){const v=oit(_,f.get(_.key).overlayedDocument);v!=null&&m.push(new Sh(_.key,v,tue(v.value.mapValue),Cl.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,m,a)}).next(y=>{d=y;const m=y.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(h,y.batchId,m)})}).then(()=>({batchId:d.batchId,changes:fue(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new vr(xn)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await Dv(r,i.changes),await mA(r.remoteStore)}catch(i){const s=zL(i,"Failed to persist write");n.reject(s)}}async function Gue(e,t){const n=Nt(e);try{const r=await Jit(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(qn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?qn(o.Ra):i.removedDocuments.size>0&&(qn(o.Ra),o.Ra=!1))}),await Dv(n,r,t)}catch(r){await Cv(r)}}function $z(e,t,n){const r=Nt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Nt(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(l=!0)}),l&&HL(u)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $st(e,t,n){const r=Nt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new vr(ft.comparator);o=o.insert(s,Qi.newNoDocument(s,xt.min()));const a=Kt().add(s),u=new hA(xt.min(),new Map,new vr(xn),o,a);await Gue(r,u),r.pa=r.pa.remove(s),r.ya.delete(t),WL(r)}else await zN(r.localStore,t,!1).then(()=>HN(r,t,n)).catch(Cv)}async function Lst(e,t){const n=Nt(e),r=t.batch.batchId;try{const i=await Xit(n.localStore,t);Kue(n,r,null),Yue(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dv(n,i)}catch(i){await Cv(i)}}async function Mst(e,t,n){const r=Nt(e);try{const i=await function(o,a){const u=Nt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(qn(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Kue(r,t,n),Yue(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dv(r,i)}catch(i){await Cv(i)}}function Yue(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function Kue(e,t,n){const r=Nt(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function HN(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Que(e,r)})}function Que(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(Lue(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),WL(e))}function Lz(e,t,n){for(const r of n)r instanceof Wue?(e.wa.addReference(r.key,t),Fst(e,r)):r instanceof que?(et("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Que(e,r.key)):_t()}function Fst(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(et("SyncEngine","New document in limbo: "+n),e.ga.add(r),WL(e))}function WL(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new ft(ur.fromString(t)),r=e.Da.next();e.ya.set(r,new Ost(n)),e.pa=e.pa.insert(n,r),$ue(e.remoteStore,new Mc(Au(NL(n.path)),r,"TargetPurposeLimboResolution",IL._e))}}async function Dv(e,t,n){const r=Nt(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=FL.Qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const c=Nt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(l,d=>Ce.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ce.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Ov(f))throw f;et("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,g)}}}(r.localStore,s))}async function Bst(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const r=await Rue(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new it(Ie.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Dv(n,r._s)}}function jst(e,t){const n=Nt(e),r=n.ya.get(t);if(r&&r.Ra)return Kt().add(r.key);{let i=Kt();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function Ust(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gue.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jst.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$st.bind(null,t),t.Va.a_=xst.bind(null,t.eventManager),t.Va.Fa=Ist.bind(null,t.eventManager),t}function Vst(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lst.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mst.bind(null,t),t}class Mz{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=pA(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Qit(this.persistence,new Yit,t.initialUser,this.serializer)}createPersistence(t){return new Wit(ML.jr,this.serializer)}createSharedClientState(t){return new rst}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zst{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$z(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bst.bind(null,this.syncEngine),await wst(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Tst}()}createDatastore(t){const n=pA(t.databaseInfo.databaseId),r=function(s){return new ast(s)}(t.databaseInfo);return function(s,o,a,u){return new cst(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new dst(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>$z(this.syncEngine,n,0),function(){return Nz.D()?new Nz:new ist}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new Pst(i,s,o,a,u,l);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Nt(n);et("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await kv(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Gl("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hst{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Os.UNAUTHENTICATED,this.clientId=Jae.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{et("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(et("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=zL(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function hP(e,t){e.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Rue(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Fz(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jue(e);et("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>kz(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>kz(t.remoteStore,s)),e._onlineComponents=t}function Wst(e){return e.name==="FirebaseError"?e.code===Ie.FAILED_PRECONDITION||e.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Jue(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await hP(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Wst(n))throw n;v_("Error using user provided cache. Falling back to memory cache: "+n),await hP(e,new Mz)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await hP(e,new Mz);return e._offlineComponents}async function qL(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await Fz(e,e._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await Fz(e,new zst))),e._onlineComponents}function qst(e){return Jue(e).then(t=>t.persistence)}function Gst(e){return qL(e).then(t=>t.remoteStore)}function Yst(e){return qL(e).then(t=>t.syncEngine)}async function Zue(e){const t=await qL(e),n=t.eventManager;return n.onListen=Rst.bind(null,t.syncEngine),n.onUnlisten=kst.bind(null,t.syncEngine),n}function Kst(e){return e.asyncQueue.enqueue(async()=>{const t=await qst(e),n=await Gst(e);return t.setNetworkEnabled(!0),function(i){const s=Nt(i);return s.C_.delete(0),Nv(s)}(n)})}function Qst(e,t,n={}){const r=new Al;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Xue({next:d=>{o.enqueueAndForget(()=>zue(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new it(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new it(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Hue(NL(a.path),c,{includeMetadataChanges:!0,J_:!0});return Vue(s,f)}(await Zue(e),e.asyncQueue,t,n,r)),r.promise}function Xst(e,t,n={}){const r=new Al;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Xue({next:d=>{o.enqueueAndForget(()=>zue(s,f)),d.fromCache&&u.source==="server"?l.reject(new it(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Hue(a,c,{includeMetadataChanges:!0,J_:!0});return Vue(s,f)}(await Zue(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tle(e,t,n){if(!n)throw new it(Ie.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Jst(e,t,n,r){if(t===!0&&r===!0)throw new it(Ie.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jz(e){if(!ft.isDocumentKey(e))throw new it(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Uz(e){if(ft.isDocumentKey(e))throw new it(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function GL(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t()}function nh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new it(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=GL(e);throw new it(Ie.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new it(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new it(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jst("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ele((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class YL{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new it(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vz(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yrt;switch(r.type){case"firstParty":return new brt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bz.get(n);r&&(et("ComponentProvider","Removing Datastore"),Bz.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new gA(this.firestore,t,this._query)}}class mo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mo(this.firestore,t,this._key)}}class rf extends gA{constructor(t,n,r){super(t,n,NL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mo(this.firestore,null,new ft(t))}withConverter(t){return new rf(this.firestore,t,this._path)}}function Zst(e,t,...n){if(e=rs(e),tle("collection","path",t),e instanceof YL){const r=ur.fromString(t,...n);return Uz(r),new rf(e,null,r)}{if(!(e instanceof mo||e instanceof rf))throw new it(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ur.fromString(t,...n));return Uz(r),new rf(e.firestore,null,r)}}function Ju(e,t,...n){if(e=rs(e),arguments.length===1&&(t=Jae.newId()),tle("doc","path",t),e instanceof YL){const r=ur.fromString(t,...n);return jz(r),new mo(e,null,new ft(r))}{if(!(e instanceof mo||e instanceof rf))throw new it(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ur.fromString(t,...n));return jz(r),new mo(e.firestore,e instanceof rf?e.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eot{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new kue(this,"async_queue_retry"),this.iu=()=>{const n=dP();n&&et("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=dP();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=dP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Al;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!Ov(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Gl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=VL.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&_t()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class $v extends YL{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new eot}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nle(this),this._firestoreClient.terminate()}}function tot(e,t,n){n||(n="(default)");const r=dg(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(l_(s,t))return i;throw new it(Ie.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new it(Ie.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new it(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function yA(e){return e._firestoreClient||nle(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nle(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new Nrt(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ele(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Hst(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function not(e){return Kst(yA(e=nh(e,$v)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Lm(is.fromBase64String(t))}catch(n){throw new it(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Lm(is.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xn(this._lat,t._lat)||xn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rot=/^__.*__$/;class iot{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Sh(t,this.data,this.fieldMask,n,this.fieldTransforms):new Pv(t,this.data,n,this.fieldTransforms)}}function ile(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class XL{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new XL(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return kT(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(ile(this.Iu)&&rot.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class sot{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||pA(t)}pu(t,n,r,i=!1){return new XL({Iu:t,methodName:n,gu:r,path:Ri.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oot(e){const t=e._freezeSettings(),n=pA(e._databaseId);return new sot(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aot(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);ule("Data must be an object, but it was:",o,r);const a=ole(r,o);let u,l;if(s.merge)u=new Ca(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=uot(t,f,n);if(!o.contains(d))throw new it(Ie.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);cot(c,d)||c.push(d)}u=new Ca(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new iot(new Wo(a),u,l)}function sle(e,t){if(ale(e=rs(e)))return ule("Unsupported field value:",t,e),ole(e,t);if(e instanceof rle)return function(r,i){if(!ile(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=sle(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=rs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eit(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ni.fromDate(r);return{timestampValue:RT(i.serializer,s)}}if(r instanceof ni){const s=new ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:RT(i.serializer,s)}}if(r instanceof QL)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lm)return{bytesValue:xue(i.serializer,r._byteString)};if(r instanceof mo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$L(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${GL(r)}`)}(e,t)}function ole(e,t){const n={};return Zae(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gg(e,(r,i)=>{const s=sle(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ale(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ni||e instanceof QL||e instanceof Lm||e instanceof mo||e instanceof rle)}function ule(e,t,n){if(!ale(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=GL(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function uot(e,t,n){if((t=rs(t))instanceof KL)return t._internalPath;if(typeof t=="string")return lle(e,t);throw kT("Field path arguments must be of type string or ",e,!1,void 0,n)}const lot=new RegExp("[~\\*/\\[\\]]");function lle(e,t,n){if(t.search(lot)>=0)throw kT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new KL(...t.split("."))._internalPath}catch{throw kT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new it(Ie.INVALID_ARGUMENT,a+e+u)}function cot(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new mo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fot(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(fle("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fot extends cle{data(){return super.data()}}function fle(e,t){return typeof t=="string"?lle(e,t):t instanceof KL?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dot(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new it(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hot{convertValue(t,n="none"){switch(th(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ur(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(eh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw _t()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return gg(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new QL(Ur(t.latitude),Ur(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=CL(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(E_(t));default:return null}}convertTimestamp(t){const n=Sf(t);return new ni(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ur.fromString(t);qn(Pue(r));const i=new w_(r.get(1),r.get(3)),s=new ft(r.popFirst(5));return i.isEqual(n)||Gl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pot(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dle extends cle{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(fle("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xb extends dle{data(t={}){return super.data(t)}}class mot{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new O0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Xb(this._firestore,this._userDataWriter,r.key,r,new O0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Xb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new O0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Xb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new O0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:got(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function got(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(e){e=nh(e,mo);const t=nh(e.firestore,$v);return Qst(yA(t),e._key).then(n=>vot(t,e,n))}class hle extends hot{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lm(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mo(this.firestore,null,n)}}function yot(e){e=nh(e,gA);const t=nh(e.firestore,$v),n=yA(t),r=new hle(t);return dot(e._query),Xst(n,e._query).then(i=>new mot(t,r,e,i))}function o0(e,t,n){e=nh(e,mo);const r=nh(e.firestore,$v),i=pot(e.converter,t,n);return _ot(r,[aot(oot(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Cl.none())])}function _ot(e,t){return function(r,i){const s=new Al;return r.asyncQueue.enqueueAndForget(async()=>Dst(await Yst(r),i,s)),s.promise}(yA(e),t)}function vot(e,t,n){const r=n.docs.get(t._key),i=new hle(e);return new dle(e,i,t._key,r,new O0(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){mg=i})(Eh),Wl(new Fu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $v(new _rt(r.getProvider("auth-internal")),new wrt(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new it(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new w_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ka(cz,"4.4.0",t),ka(cz,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Map,ple={activated:!1,tokenObservers:[]},bot={initialized:!1,enabled:!1};function ri(e){return WN.get(e)||Object.assign({},ple)}function Eot(e,t){return WN.set(e,t),WN.get(e)}function _A(){return bot}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mle="https://content-firebaseappcheck.googleapis.com/v1",wot="exchangeRecaptchaV3Token",Sot="exchangeDebugToken",zz={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Tot=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xot{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new u_,await Iot(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new u_,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Iot(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aot={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Us=new fg("appCheck","AppCheck",Aot);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function JL(e){if(!ri(e).activated)throw Us.create("use-before-activation",{appName:e.name})}function gle(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=nb(n)+"d:"),r&&(o+=nb(r)+"h:"),o+=nb(i)+"m:"+nb(s)+"s",o}function nb(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw Us.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw Us.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw Us.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function Cot(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${mle}/projects/${n}/apps/${r}:${wot}?key=${i}`,body:{recaptcha_v3_token:t}}}function yle(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${mle}/projects/${n}/apps/${r}:${Sot}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oot="firebase-app-check-database",Pot=1,I_="firebase-app-check-store",_le="debug-token";let rb=null;function vle(){return rb||(rb=new Promise((e,t)=>{try{const n=indexedDB.open(Oot,Pot);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Us.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(I_,{keyPath:"compositeKey"})}}}catch(n){t(Us.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),rb)}function Rot(e){return Ele(wle(e))}function Not(e,t){return ble(wle(e),t)}function kot(e){return ble(_le,e)}function Dot(){return Ele(_le)}async function ble(e,t){const r=(await vle()).transaction(I_,"readwrite"),s=r.objectStore(I_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Us.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function Ele(e){const n=(await vle()).transaction(I_,"readonly"),i=n.objectStore(I_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(Us.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function wle(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new HI("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ot(e){if(K6()){let t;try{t=await Rot(e)}catch(n){A_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function pP(e,t){return K6()?Not(e,t).catch(n=>{A_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function Lot(){let e;try{e=await Dot()}catch{}if(e)return e;{const t=MZe();return kot(t).catch(n=>A_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){return _A().enabled}async function tM(){const e=_A();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function Mot(){const e=Soe(),t=_A();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new u_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Lot())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fot={error:"UNKNOWN_ERROR"};function Bot(e){return G6.encodeString(JSON.stringify(e),!1)}async function qN(e,t=!1){const n=e.app;JL(n);const r=ri(n);let i=r.token,s;if(i&&!_p(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(_p(u)?i=u:await pP(n,void 0))}if(!t&&i&&_p(i))return{token:i.token};let o=!1;if(eM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ZL(yle(n,await tM()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await pP(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ri(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?A_.warn(u.message):A_.error(u),s=u}let a;return i?s?_p(i)?a={token:i.token,internalError:s}:a=qz(s):(a={token:i.token},r.token=i,await pP(n,i)):a=qz(s),o&&xle(n,a),a}async function jot(e){const t=e.app;JL(t);const{provider:n}=ri(t);if(eM()){const r=await tM(),{token:i}=await ZL(yle(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Sle(e,t,n,r){const{app:i}=e,s=ri(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&_p(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Wz(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Wz(e))}function Tle(e,t){const n=ri(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Wz(e){const{app:t}=e,n=ri(t);let r=n.tokenRefresher;r||(r=Uot(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Uot(e){const{app:t}=e;return new xot(async()=>{const n=ri(t);let r;if(n.token?r=await qN(e,!0):r=await qN(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ri(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},zz.RETRIAL_MIN_WAIT,zz.RETRIAL_MAX_WAIT)}function xle(e,t){const n=ri(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function _p(e){return e.expireTimeMillis-Date.now()>0}function qz(e){return{token:Bot(Fot),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vot{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=ri(this.app);for(const n of t)Tle(this.app,n.next);return Promise.resolve()}}function zot(e,t){return new Vot(e,t)}function Hot(e){return{getToken:t=>qN(e,t),getLimitedUseToken:()=>jot(e),addTokenListener:t=>Sle(e,"INTERNAL",t),removeTokenListener:t=>Tle(e.app,t)}}const Wot="@firebase/app-check",qot="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Got="https://www.google.com/recaptcha/api.js";function Yot(e,t){const n=new u_,r=ri(e);r.reCAPTCHAState={initialized:n};const i=Kot(e),s=Hz(!1);return s?Gz(e,t,s,i,n):Jot(()=>{const o=Hz(!1);if(!o)throw new Error("no recaptcha");Gz(e,t,o,i,n)}),n.promise}function Gz(e,t,n,r,i){n.ready(()=>{Xot(e,t,n,r),i.resolve(n)})}function Kot(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Qot(e){JL(e);const n=await ri(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ri(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function Xot(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{ri(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ri(e).reCAPTCHAState.succeeded=!1}}),s=ri(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Jot(e){const t=document.createElement("script");t.src=Got,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;eat(this._throttleData);const i=await Qot(this._app).catch(o=>{throw Us.create("recaptcha-error")});if(!(!((t=ri(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Us.create("recaptcha-error");let s;try{s=await ZL(Cot(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Zot(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Us.create("throttled",{time:gle(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=dg(t,"heartbeat"),Yot(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof nM?this._siteKey===t._siteKey:!1}}function Zot(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Tot,httpStatus:e};{const n=t?t.backoffCount:0,r=VZe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function eat(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Us.create("throttled",{time:gle(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tat(e=X6(),t){e=rs(e);const n=dg(e,"app-check");if(_A().initialized||Mot(),eM()&&tM().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Us.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return nat(e,t.provider,t.isTokenAutoRefreshEnabled),ri(e).isTokenAutoRefreshEnabled&&Sle(r,"INTERNAL",()=>{}),r}function nat(e,t,n){const r=Eot(e,Object.assign({},ple));r.activated=!0,r.provider=t,r.cachedTokenPromise=$ot(e).then(i=>(i&&_p(i)&&(r.token=i,xle(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const rat="app-check",Yz="app-check-internal";function iat(){Wl(new Fu(rat,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return zot(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Yz).initialize()})),Wl(new Fu(Yz,e=>{const t=e.getProvider("app-check").getImmediate();return Hot(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),ka(Wot,qot)}iat();function Ile(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sat=Ile,Ale=new fg("auth","Firebase",Ile());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new HI("@firebase/auth");function oat(e,...t){DT.logLevel<=rn.WARN&&DT.warn(`Auth (${Eh}): ${e}`,...t)}function Jb(e,...t){DT.logLevel<=rn.ERROR&&DT.error(`Auth (${Eh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(e,...t){throw rM(e,...t)}function Ou(e,...t){return rM(e,...t)}function aat(e,t,n){const r=Object.assign(Object.assign({},sat()),{[t]:n});return new fg("auth","Firebase",r).create(t,{appName:e.name})}function rM(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Ale.create(e,...t)}function It(e,t,...n){if(!e)throw rM(t,...n)}function _l(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jb(t),new Error(t)}function Ql(e,t){e||_l(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function uat(){return Kz()==="http:"||Kz()==="https:"}function Kz(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lat(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uat()||IZe()||"connection"in navigator)?navigator.onLine:!0}function cat(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ql(n>t,"Short delay should be less than long delay!"),this.isMobile=xZe()||AZe()}get(){return lat()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(e,t){Ql(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_l("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_l("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_l("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fat={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dat=new Lv(3e4,6e4);function vA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function vg(e,t,n,r,i={}){return Ole(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=vv(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),Cle.fetch()(Rle(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function Ole(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},fat),t);try{const i=new hat(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ib(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ib(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ib(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw ib(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw aat(e,c,l);Kl(e,c)}}catch(i){if(i instanceof Ku)throw i;Kl(e,"network-request-failed",{message:String(i)})}}async function Ple(e,t,n,r,i={}){const s=await vg(e,t,n,r,i);return"mfaPendingCredential"in s&&Kl(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Rle(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?iM(e.config,i):`${e.config.apiScheme}://${i}`}class hat{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ou(this.auth,"network-request-failed")),dat.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ib(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ou(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pat(e,t){return vg(e,"POST","/v1/accounts:delete",t)}async function mat(e,t){return vg(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gat(e,t=!1){const n=rs(e),r=await n.getIdToken(t),i=sM(r);It(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:py(mP(i.auth_time)),issuedAtTime:py(mP(i.iat)),expirationTime:py(mP(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mP(e){return Number(e)*1e3}function sM(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Jb("JWT malformed, contained fewer than 3 sections"),null;try{const i=woe(n);return i?JSON.parse(i):(Jb("Failed to decode base64 JWT payload"),null)}catch(i){return Jb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yat(e){const t=sM(e);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ku&&_at(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function _at({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vat{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=py(this.lastLoginAt),this.creationTime=py(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(e){var t;const n=e.auth,r=await e.getIdToken(),i=await C_(e,mat(n,{idToken:r}));It(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?wat(s.providerUserInfo):[],a=Eat(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Nle(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function bat(e){const t=rs(e);await $T(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Eat(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function wat(e){return e.map(t=>{var{providerId:n}=t,r=Z$(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sat(e,t){const n=await Ole(e,{},async()=>{const r=vv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Rle(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cle.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tat(e,t){return vg(e,"POST","/v2/accounts:revokeToken",vA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yat(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return It(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Sat(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new O_;return r&&(It(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(It(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(It(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new O_,this.toJSON())}_performRefresh(){return _l("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(e,t){It(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class kd{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=Z$(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vat(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nle(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await C_(this,this.stsTokenManager.getToken(this.auth,t));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return gat(this,t)}reload(){return bat(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new kd(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await $T(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await C_(this,pat(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:w,isAnonymous:T,providerData:E,stsTokenManager:x}=n;It(v&&x,t,"internal-error");const A=O_.fromJSON(this.name,x);It(typeof v=="string",t,"internal-error"),hc(f,t.name),hc(d,t.name),It(typeof w=="boolean",t,"internal-error"),It(typeof T=="boolean",t,"internal-error"),hc(h,t.name),hc(p,t.name),hc(g,t.name),hc(y,t.name),hc(m,t.name),hc(_,t.name);const M=new kd({uid:v,auth:t,email:d,emailVerified:w,displayName:f,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:A,createdAt:m,lastLoginAt:_});return E&&Array.isArray(E)&&(M.providerData=E.map(D=>Object.assign({},D))),y&&(M._redirectEventId=y),M}static async _fromIdTokenResponse(t,n,r=!1){const i=new O_;i.updateFromServerResponse(n);const s=new kd({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await $T(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new Map;function vl(e){Ql(e instanceof Function,"Expected a class definition");let t=Qz.get(e);return t?(Ql(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qz.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}kle.type="NONE";const Xz=kle;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(e,t,n){return`firebase:${e}:${t}:${n}`}class Wp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zb(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zb("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?kd._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Wp(vl(Xz),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||vl(Xz);const o=Zb(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=kd._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Wp(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Wp(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Lle(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Dle(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fle(t))return"Blackberry";if(Ble(t))return"Webos";if(oM(t))return"Safari";if((t.includes("chrome/")||$le(t))&&!t.includes("edge/"))return"Chrome";if(Mle(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Dle(e=ns()){return/firefox\//i.test(e)}function oM(e=ns()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $le(e=ns()){return/crios\//i.test(e)}function Lle(e=ns()){return/iemobile/i.test(e)}function Mle(e=ns()){return/android/i.test(e)}function Fle(e=ns()){return/blackberry/i.test(e)}function Ble(e=ns()){return/webos/i.test(e)}function bA(e=ns()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xat(e=ns()){var t;return bA(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Iat(){return CZe()&&document.documentMode===10}function jle(e=ns()){return bA(e)||Mle(e)||Ble(e)||Fle(e)||/windows phone/i.test(e)||Lle(e)}function Aat(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ule(e,t=[]){let n;switch(e){case"Browser":n=Jz(ns());break;case"Worker":n=`${Jz(ns())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cat{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oat(e,t={}){return vg(e,"GET","/v2/passwordPolicy",vA(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pat=6;class Rat{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Pat,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nat{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zz(this),this.idTokenSubscription=new Zz(this),this.beforeStateQueue=new Cat(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ale,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=vl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wp.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await $T(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cat()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?rs(t):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(vl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Oat(this),n=new Rat(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new fg("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tat(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&vl(t)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await Wp.create(this,[vl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ule(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&oat(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function EA(e){return rs(e)}class Zz{constructor(t){this.auth=t,this.observer=null,this.addObserver=DZe(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kat(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function Dat(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Ou("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kat().appendChild(r)})}function $at(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lat(e,t){const n=dg(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(l_(s,t??{}))return i;Kl(i,"already-initialized")}return n.initialize({options:t})}function Mat(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Fat(e,t,n){const r=EA(e);It(r._canInitEmulator,r,"emulator-config-failed"),It(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Vle(t),{host:o,port:a}=Bat(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||jat()}function Vle(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Bat(e){const t=Vle(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:eH(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:eH(o)}}}function eH(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function jat(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _l("not implemented")}_getIdTokenResponse(t){return _l("not implemented")}_linkToIdToken(t,n){return _l("not implemented")}_getReauthenticationResolver(t){return _l("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(e,t){return Ple(e,"POST","/v1/accounts:signInWithIdp",vA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uat="http://localhost";class rh extends zle{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new rh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Kl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=Z$(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new rh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return qp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,qp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,qp(t,n)}buildRequest(){const t={requestUri:Uat,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=vv(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends Hle{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Mv{constructor(){super("facebook.com")}static credential(t){return rh._fromParams({providerId:Cc.PROVIDER_ID,signInMethod:Cc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cc.credentialFromTaggedObject(t)}static credentialFromError(t){return Cc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cc.credential(t.oauthAccessToken)}catch{return null}}}Cc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Mv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return rh._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Oc.credentialFromTaggedObject(t)}static credentialFromError(t){return Oc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Oc.credential(n,r)}catch{return null}}}Oc.GOOGLE_SIGN_IN_METHOD="google.com";Oc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Mv{constructor(){super("github.com")}static credential(t){return rh._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pc.credentialFromTaggedObject(t)}static credentialFromError(t){return Pc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pc.credential(t.oauthAccessToken)}catch{return null}}}Pc.GITHUB_SIGN_IN_METHOD="github.com";Pc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Mv{constructor(){super("twitter.com")}static credential(t,n){return rh._fromParams({providerId:Rc.PROVIDER_ID,signInMethod:Rc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Rc.credentialFromTaggedObject(t)}static credentialFromError(t){return Rc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Rc.credential(n,r)}catch{return null}}}Rc.TWITTER_SIGN_IN_METHOD="twitter.com";Rc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vat(e,t){return Ple(e,"POST","/v1/accounts:signUp",vA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await kd._fromIdTokenResponse(t,r,i),o=tH(r);return new xf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=tH(r);return new xf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function tH(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zat(e){var t;const n=EA(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new xf({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Vat(n,{returnSecureToken:!0}),i=await xf._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Ku{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,LT.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new LT(t,n,r,i)}}function Wle(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?LT._fromErrorAndOperation(e,s,t,r):s})}async function Hat(e,t,n=!1){const r=await C_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wat(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await C_(e,Wle(r,i,t,e),n);It(s.idToken,r,"internal-error");const o=sM(s.idToken);It(o,r,"internal-error");const{sub:a}=o;return It(e.uid===a,r,"user-mismatch"),xf._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Kl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qat(e,t,n=!1){const r="signIn",i=await Wle(e,r,t),s=await xf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Gat(e,t,n,r){return rs(e).onIdTokenChanged(t,n,r)}function Yat(e,t,n){return rs(e).beforeAuthStateChanged(t,n)}const MT="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(MT,"1"),this.storage.removeItem(MT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kat(){const e=ns();return oM(e)||bA(e)}const Qat=1e3,Xat=10;class Gle extends qle{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Kat()&&Aat(),this.fallbackToPolling=jle(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Iat()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Xat):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Qat)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Gle.type="LOCAL";const Jat=Gle;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yle extends qle{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Yle.type="SESSION";const Kle=Yle;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zat(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new wA(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await Zat(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eut{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=aM("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(){return window}function tut(e){Pu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qle(){return typeof Pu().WorkerGlobalScope<"u"&&typeof Pu().importScripts=="function"}async function nut(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rut(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function iut(){return Qle()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xle="firebaseLocalStorageDb",sut=1,FT="firebaseLocalStorage",Jle="fbase_key";class Fv{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function SA(e,t){return e.transaction([FT],t?"readwrite":"readonly").objectStore(FT)}function out(){const e=indexedDB.deleteDatabase(Xle);return new Fv(e).toPromise()}function YN(){const e=indexedDB.open(Xle,sut);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(FT,{keyPath:Jle})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(FT)?t(r):(r.close(),await out(),t(await YN()))})})}async function nH(e,t,n){const r=SA(e,!0).put({[Jle]:t,value:n});return new Fv(r).toPromise()}async function aut(e,t){const n=SA(e,!1).get(t),r=await new Fv(n).toPromise();return r===void 0?null:r.value}function rH(e,t){const n=SA(e,!0).delete(t);return new Fv(n).toPromise()}const uut=800,lut=3;class Zle{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await YN(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>lut)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qle()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wA._getInstance(iut()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await nut(),!this.activeServiceWorker)return;this.sender=new eut(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rut()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await YN();return await nH(t,MT,"1"),await rH(t,MT),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nH(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>aut(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>rH(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=SA(i,!1).getAll();return new Fv(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uut)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zle.type="LOCAL";const cut=Zle;new Lv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fut(e,t){return t?vl(t):(It(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM extends zle{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return qp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return qp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dut(e){return qat(e.auth,new uM(e),e.bypassAuthState)}function hut(e){const{auth:t,user:n}=e;return It(n,t,"internal-error"),Wat(n,new uM(e),e.bypassAuthState)}async function put(e){const{auth:t,user:n}=e;return It(n,t,"internal-error"),Hat(n,new uM(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ece{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dut;case"linkViaPopup":case"linkViaRedirect":return put;case"reauthViaPopup":case"reauthViaRedirect":return hut;default:Kl(this.auth,"internal-error")}}resolve(t){Ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mut=new Lv(2e3,1e4);class vp extends ece{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vp.currentPopupAction&&vp.currentPopupAction.cancel(),vp.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){Ql(this.filter.length===1,"Popup operations only handle one event");const t=aM();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ou(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ou(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vp.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ou(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mut.get())};t()}}vp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gut="pendingRedirect",eE=new Map;class yut extends ece{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=eE.get(this.auth._key());if(!t){try{const r=await _ut(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}eE.set(this.auth._key(),t)}return this.bypassAuthState||eE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _ut(e,t){const n=Eut(t),r=but(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vut(e,t){eE.set(e._key(),t)}function but(e){return vl(e._redirectPersistence)}function Eut(e){return Zb(gut,e.config.apiKey,e.name)}async function wut(e,t,n=!1){const r=EA(e),i=fut(r,t),o=await new yut(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sut=10*60*1e3;class Tut{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xut(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!tce(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ou(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Sut&&this.cachedEventUids.clear(),this.cachedEventUids.has(iH(t))}saveEventToCache(t){this.cachedEventUids.add(iH(t)),this.lastProcessedEventTime=Date.now()}}function iH(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function tce({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function xut(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tce(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iut(e,t={}){return vg(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aut=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cut=/^https?/;async function Out(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Iut(e);for(const n of t)try{if(Put(n))return}catch{}Kl(e,"unauthorized-domain")}function Put(e){const t=GN(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Cut.test(n))return!1;if(Aut.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rut=new Lv(3e4,6e4);function sH(){const e=Pu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Nut(e){return new Promise((t,n)=>{var r,i,s;function o(){sH(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sH(),n(Ou(e,"network-request-failed"))},timeout:Rut.get()})}if(!((i=(r=Pu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Pu().gapi)===null||s===void 0)&&s.load)o();else{const a=$at("iframefcb");return Pu()[a]=()=>{gapi.load?o():n(Ou(e,"network-request-failed"))},Dat(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw tE=null,t})}let tE=null;function kut(e){return tE=tE||Nut(e),tE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dut=new Lv(5e3,15e3),$ut="__/auth/iframe",Lut="emulator/auth/iframe",Mut={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fut=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function But(e){const t=e.config;It(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?iM(t,Lut):`https://${e.config.authDomain}/${$ut}`,r={apiKey:t.apiKey,appName:e.name,v:Eh},i=Fut.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vv(r).slice(1)}`}async function jut(e){const t=await kut(e),n=Pu().gapi;return It(n,e,"internal-error"),t.open({where:document.body,url:But(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mut,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ou(e,"network-request-failed"),a=Pu().setTimeout(()=>{s(o)},Dut.get());function u(){Pu().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uut={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vut=500,zut=600,Hut="_blank",Wut="http://localhost";class oH{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qut(e,t,n,r=Vut,i=zut){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Uut),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ns().toLowerCase();n&&(a=$le(l)?Hut:n),Dle(l)&&(t=t||Wut,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(xat(l)&&a!=="_self")return Gut(t||"",a),new oH(null);const f=window.open(t||"",a,c);It(f,e,"popup-blocked");try{f.focus()}catch{}return new oH(f)}function Gut(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yut="__/auth/handler",Kut="emulator/auth/handler",Qut=encodeURIComponent("fac");async function aH(e,t,n,r,i,s){It(e.config.authDomain,e,"auth-domain-config-required"),It(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Eh,eventId:i};if(t instanceof Hle){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",kZe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof Mv){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${Qut}=${encodeURIComponent(u)}`:"";return`${Xut(e)}?${vv(a).slice(1)}${l}`}function Xut({config:e}){return e.emulator?iM(e,Kut):`https://${e.authDomain}/${Yut}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="webStorageSupport";class Jut{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kle,this._completeRedirectFn=wut,this._overrideRedirectResult=vut}async _openPopup(t,n,r,i){var s;Ql((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await aH(t,n,r,GN(),i);return qut(t,o,aM())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await aH(t,n,r,GN(),i);return tut(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ql(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await jut(t),r=new Tut(t);return n.register("authEvent",i=>(It(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gP,{type:gP},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[gP];o!==void 0&&n(!!o),Kl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Out(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jle()||oM()||bA()}}const Zut=Jut;var uH="@firebase/auth",lH="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class elt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tlt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function nlt(e){Wl(new Fu("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;It(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ule(e)},l=new Nat(r,i,s,u);return Mat(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Wl(new Fu("auth-internal",t=>{const n=EA(t.getProvider("auth").getImmediate());return(r=>new elt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ka(uH,lH,tlt(e)),ka(uH,lH,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rlt=5*60,ilt=Ioe("authIdTokenMaxAge")||rlt;let cH=null;const slt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ilt)return;const i=n==null?void 0:n.token;cH!==i&&(cH=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function olt(e=X6()){const t=dg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Lat(e,{popupRedirectResolver:Zut,persistence:[cut,Jat,Kle]}),r=Ioe("authTokenSyncURL");if(r){const s=slt(r);Yat(n,s,()=>s(n.currentUser)),Gat(n,o=>s(o))}const i=Toe("auth");return i&&Fat(n,`http://${i}`),n}nlt("Browser");class alt extends _oe{constructor(){super("firebase");Po(this,"RECAPTCHAV3TOKEN","6LdjOd0lAAAAAASvFfDZFWgtbzFSS9Y3so8rHJth");Po(this,"firestore");Po(this,"collectionPrefix","prod-");Po(this,"studyCollection");Po(this,"studyId","");Po(this,"localForage",boe.createInstance({name:"currentParticipantId"}));Po(this,"localProvenanceCopy",{});const n=kD.parse(`
{
  apiKey: "AIzaSyAm9QtUgx1lYPDeE0vKLN-lK17WfUGVkLo",
  authDomain: "revisit-utah.firebaseapp.com",
  projectId: "revisit-utah",
  storageBucket: "revisit-utah.appspot.com",
  messagingSenderId: "811568460432",
  appId: "1:811568460432:web:995f6b4f1fc8042b5dde15"
}
`),r=Ooe(n);this.firestore=tot(r,{});try{tat(r,{provider:new nM(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=olt();if(await zat(n),!n.currentUser)throw new Error("Login failed with firebase");await not(this.firestore);const r=await Ju(this.firestore,".info/connected");await s0(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){this.studyCollection=Zst(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const i=Ju(this.studyCollection,"config");return await o0(i,r)}async initializeParticipantSession(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(),!this.currentParticipantId)throw new Error("Participant not initialized");const n=Ju(this.studyCollection,this.currentParticipantId),r=(await s0(n)).data();if(this.localProvenanceCopy=await this._getFirebaseProvenance(this.currentParticipantId),r)return r;{const i={participantId:this.currentParticipantId,sequence:await this.getSequence(),answers:{}};return await o0(n,i),i}}async getCurrentParticipantId(){const n=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,n;{if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ju(this.studyCollection);return this.currentParticipantId=r.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=Ju(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await o0(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._uploadLocalProvenance())}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=n.map(o=>o.join(",")),i=Ju(this.studyCollection,"sequenceArray");return await o0(i,{sequenceArray:r})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=Ju(this.studyCollection,"sequenceArray"),r=(await s0(n)).data();return r===void 0?null:r.sequenceArray.map(i=>i.split(","))}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.setSequenceArray(n),r}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await yot(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray")return;const o=s.data(),a=await this._getFirebaseProvenance(o.participantId);o.answers=Object.fromEntries(Object.entries(o.answers).map(([u,l])=>{if(l===void 0)return[u,l];const c=a[u];return[u,{...l,provenanceGraph:c}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let n=null;if(this.currentParticipantId!==null){const r=Ju(this.studyCollection,this.currentParticipantId);if(n=(await s0(r)).data(),n!==null){const i=await this._getFirebaseProvenance(this.currentParticipantId);Object.entries(n.answers).forEach(([s,o])=>{o!==void 0&&(o.provenanceGraph=i[s])})}}return n}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=Ju(this.studyCollection),r=n.id;await this.localForage.setItem("currentParticipantId",r),this.currentParticipantId=r;let i=null;if(this.currentParticipantId!==null&&(i=(await s0(n)).data()),!i){const s={participantId:r,sequence:await this.getSequence(),answers:{}};await o0(n,s),i=s}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _uploadLocalProvenance(){if(Object.entries(this.localProvenanceCopy).length>0){const n=K7(),r=Y7(n,`${this.studyId}/${this.currentParticipantId}`),i=new Blob([JSON.stringify(this.localProvenanceCopy)],{type:"application/json"});await snt(r,i)}}async _getFirebaseProvenance(n){const r=K7(),i=Y7(r,`${this.studyId}/${n}`);let s={};try{const o=await ont(i),u=await(await fetch(o)).text();s=JSON.parse(u)}catch{console.warn(`Participant ${n} does not have a provenance graph for ${this.studyId}.`)}return s}}async function ult(){let e,t=!1;{const n=new alt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new gZe;await n.connect(),e=n}return e}function llt(){const{storageEngine:e,setStorageEngine:t}=Of();return S.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await ult();t(r)}n()},[t,e]),O.jsx(cZe,{})}yP.createRoot(document.getElementById("root")).render(O.jsx(L.StrictMode,{children:O.jsx(Lde,{children:O.jsx(llt,{})})}));
