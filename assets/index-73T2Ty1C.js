var efe=Object.defineProperty;var tfe=(e,t,n)=>t in e?efe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var no=(e,t,n)=>(tfe(e,typeof t!="symbol"?t+"":t,n),n);function nfe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rfe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var UH={exports:{}},GS={},VH={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=Symbol.for("react.element"),ife=Symbol.for("react.portal"),sfe=Symbol.for("react.fragment"),ofe=Symbol.for("react.strict_mode"),afe=Symbol.for("react.profiler"),ufe=Symbol.for("react.provider"),lfe=Symbol.for("react.context"),cfe=Symbol.for("react.forward_ref"),ffe=Symbol.for("react.suspense"),dfe=Symbol.for("react.memo"),hfe=Symbol.for("react.lazy"),kM=Symbol.iterator;function pfe(e){return e===null||typeof e!="object"?null:(e=kM&&e[kM]||e["@@iterator"],typeof e=="function"?e:null)}var zH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HH=Object.assign,qH={};function Bm(e,t,n){this.props=e,this.context=t,this.refs=qH,this.updater=n||zH}Bm.prototype.isReactComponent={};Bm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WH(){}WH.prototype=Bm.prototype;function uk(e,t,n){this.props=e,this.context=t,this.refs=qH,this.updater=n||zH}var lk=uk.prototype=new WH;lk.constructor=uk;HH(lk,Bm.prototype);lk.isPureReactComponent=!0;var DM=Array.isArray,YH=Object.prototype.hasOwnProperty,ck={current:null},GH={key:!0,ref:!0,__self:!0,__source:!0};function KH(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)YH.call(t,r)&&!GH.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:D_,type:e,key:s,ref:o,props:i,_owner:ck.current}}function mfe(e,t){return{$$typeof:D_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fk(e){return typeof e=="object"&&e!==null&&e.$$typeof===D_}function gfe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $M=/\/+/g;function UA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gfe(""+e.key):t.toString(36)}function fb(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case D_:case ife:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+UA(o,0):r,DM(i)?(n="",e!=null&&(n=e.replace($M,"$&/")+"/"),fb(i,t,n,"",function(l){return l})):i!=null&&(fk(i)&&(i=mfe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($M,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",DM(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+UA(s,a);o+=fb(s,t,n,u,i)}else if(u=pfe(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+UA(s,a++),o+=fb(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zv(e,t,n){if(e==null)return e;var r=[],i=0;return fb(e,r,"","",function(s){return t.call(n,s,i++)}),r}function yfe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _s={current:null},db={transition:null},_fe={ReactCurrentDispatcher:_s,ReactCurrentBatchConfig:db,ReactCurrentOwner:ck};Xt.Children={map:zv,forEach:function(e,t,n){zv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zv(e,function(){t++}),t},toArray:function(e){return zv(e,function(t){return t})||[]},only:function(e){if(!fk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Bm;Xt.Fragment=sfe;Xt.Profiler=afe;Xt.PureComponent=uk;Xt.StrictMode=ofe;Xt.Suspense=ffe;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_fe;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=HH({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ck.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)YH.call(t,u)&&!GH.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:D_,type:e.type,key:i,ref:s,props:r,_owner:o}};Xt.createContext=function(e){return e={$$typeof:lfe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ufe,_context:e},e.Consumer=e};Xt.createElement=KH;Xt.createFactory=function(e){var t=KH.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:cfe,render:e}};Xt.isValidElement=fk;Xt.lazy=function(e){return{$$typeof:hfe,_payload:{_status:-1,_result:e},_init:yfe}};Xt.memo=function(e,t){return{$$typeof:dfe,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=db.transition;db.transition={};try{e()}finally{db.transition=t}};Xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xt.useCallback=function(e,t){return _s.current.useCallback(e,t)};Xt.useContext=function(e){return _s.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return _s.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return _s.current.useEffect(e,t)};Xt.useId=function(){return _s.current.useId()};Xt.useImperativeHandle=function(e,t,n){return _s.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return _s.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return _s.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return _s.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return _s.current.useReducer(e,t,n)};Xt.useRef=function(e){return _s.current.useRef(e)};Xt.useState=function(e){return _s.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return _s.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return _s.current.useTransition()};Xt.version="18.2.0";VH.exports=Xt;var E=VH.exports;const N=Va(E),Fd=nfe({__proto__:null,default:N},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vfe=E,bfe=Symbol.for("react.element"),wfe=Symbol.for("react.fragment"),Efe=Object.prototype.hasOwnProperty,Tfe=vfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sfe={key:!0,ref:!0,__self:!0,__source:!0};function QH(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Efe.call(t,r)&&!Sfe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:bfe,type:e,key:s,ref:o,props:i,_owner:Tfe.current}}GS.Fragment=wfe;GS.jsx=QH;GS.jsxs=QH;UH.exports=GS;var O=UH.exports,PP={},XH={exports:{}},So={},JH={exports:{}},ZH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ie){var K=ee.length;ee.push(ie);e:for(;0<K;){var I=K-1>>>1,C=ee[I];if(0<i(C,ie))ee[I]=ie,ee[K]=C,K=I;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],K=ee.pop();if(K!==ie){ee[0]=K;e:for(var I=0,C=ee.length,z=C>>>1;I<z;){var R=2*(I+1)-1,P=ee[R],Y=R+1,se=ee[Y];if(0>i(P,K))Y<C&&0>i(se,P)?(ee[I]=se,ee[Y]=K,I=Y):(ee[I]=P,ee[R]=K,I=R);else if(Y<C&&0>i(se,K))ee[I]=se,ee[Y]=K,I=Y;else break e}}return ie}function i(ee,ie){var K=ee.sortIndex-ie.sortIndex;return K!==0?K:ee.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(ee){for(var ie=n(l);ie!==null;){if(ie.callback===null)r(l);else if(ie.startTime<=ee)r(l),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(l)}}function T(ee){if(g=!1,v(ee),!p)if(n(u)!==null)p=!0,ae(S);else{var ie=n(l);ie!==null&&pe(T,ie.startTime-ee)}}function S(ee,ie){p=!1,g&&(g=!1,m(A),A=-1),h=!0;var K=d;try{for(v(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||ee&&!$());){var I=f.callback;if(typeof I=="function"){f.callback=null,d=f.priorityLevel;var C=I(f.expirationTime<=ie);ie=e.unstable_now(),typeof C=="function"?f.callback=C:f===n(u)&&r(u),v(ie)}else r(u);f=n(u)}if(f!==null)var z=!0;else{var R=n(l);R!==null&&pe(T,R.startTime-ie),z=!1}return z}finally{f=null,d=K,h=!1}}var w=!1,x=null,A=-1,M=5,D=-1;function $(){return!(e.unstable_now()-D<M)}function q(){if(x!==null){var ee=e.unstable_now();D=ee;var ie=!0;try{ie=x(!0,ee)}finally{ie?W():(w=!1,x=null)}}else w=!1}var W;if(typeof _=="function")W=function(){_(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,de=V.port2;V.port1.onmessage=q,W=function(){de.postMessage(null)}}else W=function(){y(q,0)};function ae(ee){x=ee,w||(w=!0,W())}function pe(ee,ie){A=y(function(){ee(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ae(S))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ee){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var K=d;d=ie;try{return ee()}finally{d=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var K=d;d=ee;try{return ie()}finally{d=K}},e.unstable_scheduleCallback=function(ee,ie,K){var I=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?I+K:I):K=I,ee){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=K+C,ee={id:c++,callback:ie,priorityLevel:ee,startTime:K,expirationTime:C,sortIndex:-1},K>I?(ee.sortIndex=K,t(l,ee),n(u)===null&&ee===n(l)&&(g?(m(A),A=-1):g=!0,pe(T,K-I))):(ee.sortIndex=C,t(u,ee),p||h||(p=!0,ae(S))),ee},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(ee){var ie=d;return function(){var K=d;d=ie;try{return ee.apply(this,arguments)}finally{d=K}}}})(ZH);JH.exports=ZH;var xfe=JH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eq=E,_o=xfe;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tq=new Set,yy={};function lh(e,t){Jp(e,t),Jp(e+"Capture",t)}function Jp(e,t){for(yy[e]=t,e=0;e<t.length;e++)tq.add(t[e])}var Nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),RP=Object.prototype.hasOwnProperty,Ife=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LM={},MM={};function Afe(e){return RP.call(MM,e)?!0:RP.call(LM,e)?!1:Ife.test(e)?MM[e]=!0:(LM[e]=!0,!1)}function Cfe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ofe(e,t,n,r){if(t===null||typeof t>"u"||Cfe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vs(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Li[e]=new vs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Li[t]=new vs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Li[e]=new vs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Li[e]=new vs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Li[e]=new vs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Li[e]=new vs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Li[e]=new vs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Li[e]=new vs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Li[e]=new vs(e,5,!1,e.toLowerCase(),null,!1,!1)});var dk=/[\-:]([a-z])/g;function hk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dk,hk);Li[t]=new vs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dk,hk);Li[t]=new vs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dk,hk);Li[t]=new vs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Li[e]=new vs(e,1,!1,e.toLowerCase(),null,!1,!1)});Li.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Li[e]=new vs(e,1,!1,e.toLowerCase(),null,!0,!0)});function pk(e,t,n,r){var i=Li.hasOwnProperty(t)?Li[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ofe(t,n,i,r)&&(n=null),r||i===null?Afe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ec=eq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hv=Symbol.for("react.element"),ep=Symbol.for("react.portal"),tp=Symbol.for("react.fragment"),mk=Symbol.for("react.strict_mode"),NP=Symbol.for("react.profiler"),nq=Symbol.for("react.provider"),rq=Symbol.for("react.context"),gk=Symbol.for("react.forward_ref"),kP=Symbol.for("react.suspense"),DP=Symbol.for("react.suspense_list"),yk=Symbol.for("react.memo"),bc=Symbol.for("react.lazy"),iq=Symbol.for("react.offscreen"),FM=Symbol.iterator;function Og(e){return e===null||typeof e!="object"?null:(e=FM&&e[FM]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,VA;function f0(e){if(VA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);VA=t&&t[1]||""}return`
`+VA+e}var zA=!1;function HA(e,t){if(!e||zA)return"";zA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{zA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?f0(e):""}function Pfe(e){switch(e.tag){case 5:return f0(e.type);case 16:return f0("Lazy");case 13:return f0("Suspense");case 19:return f0("SuspenseList");case 0:case 2:case 15:return e=HA(e.type,!1),e;case 11:return e=HA(e.type.render,!1),e;case 1:return e=HA(e.type,!0),e;default:return""}}function $P(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tp:return"Fragment";case ep:return"Portal";case NP:return"Profiler";case mk:return"StrictMode";case kP:return"Suspense";case DP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rq:return(e.displayName||"Context")+".Consumer";case nq:return(e._context.displayName||"Context")+".Provider";case gk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yk:return t=e.displayName||null,t!==null?t:$P(e.type)||"Memo";case bc:t=e._payload,e=e._init;try{return $P(e(t))}catch{}}return null}function Rfe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $P(t);case 8:return t===mk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sq(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nfe(e){var t=sq(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qv(e){e._valueTracker||(e._valueTracker=Nfe(e))}function oq(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sq(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function LP(e,t){var n=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function BM(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=lf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aq(e,t){t=t.checked,t!=null&&pk(e,"checked",t,!1)}function MP(e,t){aq(e,t);var n=lf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?FP(e,t.type,n):t.hasOwnProperty("defaultValue")&&FP(e,t.type,lf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jM(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function FP(e,t,n){(t!=="number"||lw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var d0=Array.isArray;function Sp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lf(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function BP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UM(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(d0(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:lf(n)}}function uq(e,t){var n=lf(t.value),r=lf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function VM(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lq(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lq(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wv,cq=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wv=Wv||document.createElement("div"),Wv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _y(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var k0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kfe=["Webkit","ms","Moz","O"];Object.keys(k0).forEach(function(e){kfe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),k0[t]=k0[e]})});function fq(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||k0.hasOwnProperty(e)&&k0[e]?(""+t).trim():t+"px"}function dq(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fq(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Dfe=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UP(e,t){if(t){if(Dfe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function VP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zP=null;function _k(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var HP=null,xp=null,Ip=null;function zM(e){if(e=M_(e)){if(typeof HP!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=ZS(t),HP(e.stateNode,e.type,t))}}function hq(e){xp?Ip?Ip.push(e):Ip=[e]:xp=e}function pq(){if(xp){var e=xp,t=Ip;if(Ip=xp=null,zM(e),t)for(e=0;e<t.length;e++)zM(t[e])}}function mq(e,t){return e(t)}function gq(){}var qA=!1;function yq(e,t,n){if(qA)return e(t,n);qA=!0;try{return mq(e,t,n)}finally{qA=!1,(xp!==null||Ip!==null)&&(gq(),pq())}}function vy(e,t){var n=e.stateNode;if(n===null)return null;var r=ZS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var qP=!1;if(Nl)try{var Pg={};Object.defineProperty(Pg,"passive",{get:function(){qP=!0}}),window.addEventListener("test",Pg,Pg),window.removeEventListener("test",Pg,Pg)}catch{qP=!1}function $fe(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var D0=!1,cw=null,fw=!1,WP=null,Lfe={onError:function(e){D0=!0,cw=e}};function Mfe(e,t,n,r,i,s,o,a,u){D0=!1,cw=null,$fe.apply(Lfe,arguments)}function Ffe(e,t,n,r,i,s,o,a,u){if(Mfe.apply(this,arguments),D0){if(D0){var l=cw;D0=!1,cw=null}else throw Error(Ne(198));fw||(fw=!0,WP=l)}}function ch(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _q(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HM(e){if(ch(e)!==e)throw Error(Ne(188))}function Bfe(e){var t=e.alternate;if(!t){if(t=ch(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return HM(i),e;if(s===r)return HM(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function vq(e){return e=Bfe(e),e!==null?bq(e):null}function bq(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bq(e);if(t!==null)return t;e=e.sibling}return null}var wq=_o.unstable_scheduleCallback,qM=_o.unstable_cancelCallback,jfe=_o.unstable_shouldYield,Ufe=_o.unstable_requestPaint,Dr=_o.unstable_now,Vfe=_o.unstable_getCurrentPriorityLevel,vk=_o.unstable_ImmediatePriority,Eq=_o.unstable_UserBlockingPriority,dw=_o.unstable_NormalPriority,zfe=_o.unstable_LowPriority,Tq=_o.unstable_IdlePriority,KS=null,Tu=null;function Hfe(e){if(Tu&&typeof Tu.onCommitFiberRoot=="function")try{Tu.onCommitFiberRoot(KS,e,void 0,(e.current.flags&128)===128)}catch{}}var Ra=Math.clz32?Math.clz32:Yfe,qfe=Math.log,Wfe=Math.LN2;function Yfe(e){return e>>>=0,e===0?32:31-(qfe(e)/Wfe|0)|0}var Yv=64,Gv=4194304;function h0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=h0(a):(s&=o,s!==0&&(r=h0(s)))}else o=n&~i,o!==0?r=h0(o):s!==0&&(r=h0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ra(t),i=1<<n,r|=e[n],t&=~i;return r}function Gfe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kfe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ra(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Gfe(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function YP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sq(){var e=Yv;return Yv<<=1,!(Yv&4194240)&&(Yv=64),e}function WA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ra(t),e[t]=n}function Qfe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ra(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function bk(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ra(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rn=0;function xq(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Iq,wk,Aq,Cq,Oq,GP=!1,Kv=[],Vc=null,zc=null,Hc=null,by=new Map,wy=new Map,Ic=[],Xfe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WM(e,t){switch(e){case"focusin":case"focusout":Vc=null;break;case"dragenter":case"dragleave":zc=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":by.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wy.delete(t.pointerId)}}function Rg(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=M_(t),t!==null&&wk(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Jfe(e,t,n,r,i){switch(t){case"focusin":return Vc=Rg(Vc,e,t,n,r,i),!0;case"dragenter":return zc=Rg(zc,e,t,n,r,i),!0;case"mouseover":return Hc=Rg(Hc,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return by.set(s,Rg(by.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wy.set(s,Rg(wy.get(s)||null,e,t,n,r,i)),!0}return!1}function Pq(e){var t=dd(e.target);if(t!==null){var n=ch(t);if(n!==null){if(t=n.tag,t===13){if(t=_q(n),t!==null){e.blockedOn=t,Oq(e.priority,function(){Aq(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=KP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zP=r,n.target.dispatchEvent(r),zP=null}else return t=M_(n),t!==null&&wk(t),e.blockedOn=n,!1;t.shift()}return!0}function YM(e,t,n){hb(e)&&n.delete(t)}function Zfe(){GP=!1,Vc!==null&&hb(Vc)&&(Vc=null),zc!==null&&hb(zc)&&(zc=null),Hc!==null&&hb(Hc)&&(Hc=null),by.forEach(YM),wy.forEach(YM)}function Ng(e,t){e.blockedOn===t&&(e.blockedOn=null,GP||(GP=!0,_o.unstable_scheduleCallback(_o.unstable_NormalPriority,Zfe)))}function Ey(e){function t(i){return Ng(i,e)}if(0<Kv.length){Ng(Kv[0],e);for(var n=1;n<Kv.length;n++){var r=Kv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vc!==null&&Ng(Vc,e),zc!==null&&Ng(zc,e),Hc!==null&&Ng(Hc,e),by.forEach(t),wy.forEach(t),n=0;n<Ic.length;n++)r=Ic[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ic.length&&(n=Ic[0],n.blockedOn===null);)Pq(n),n.blockedOn===null&&Ic.shift()}var Ap=ec.ReactCurrentBatchConfig,pw=!0;function ede(e,t,n,r){var i=Rn,s=Ap.transition;Ap.transition=null;try{Rn=1,Ek(e,t,n,r)}finally{Rn=i,Ap.transition=s}}function tde(e,t,n,r){var i=Rn,s=Ap.transition;Ap.transition=null;try{Rn=4,Ek(e,t,n,r)}finally{Rn=i,Ap.transition=s}}function Ek(e,t,n,r){if(pw){var i=KP(e,t,n,r);if(i===null)nC(e,t,r,mw,n),WM(e,r);else if(Jfe(i,e,t,n,r))r.stopPropagation();else if(WM(e,r),t&4&&-1<Xfe.indexOf(e)){for(;i!==null;){var s=M_(i);if(s!==null&&Iq(s),s=KP(e,t,n,r),s===null&&nC(e,t,r,mw,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nC(e,t,r,null,n)}}var mw=null;function KP(e,t,n,r){if(mw=null,e=_k(r),e=dd(e),e!==null)if(t=ch(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_q(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mw=e,null}function Rq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vfe()){case vk:return 1;case Eq:return 4;case dw:case zfe:return 16;case Tq:return 536870912;default:return 16}default:return 16}}var $c=null,Tk=null,pb=null;function Nq(){if(pb)return pb;var e,t=Tk,n=t.length,r,i="value"in $c?$c.value:$c.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return pb=i.slice(e,1<r?1-r:void 0)}function mb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qv(){return!0}function GM(){return!1}function xo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qv:GM,this.isPropagationStopped=GM,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qv)},persist:function(){},isPersistent:Qv}),t}var jm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sk=xo(jm),L_=_r({},jm,{view:0,detail:0}),nde=xo(L_),YA,GA,kg,QS=_r({},L_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kg&&(kg&&e.type==="mousemove"?(YA=e.screenX-kg.screenX,GA=e.screenY-kg.screenY):GA=YA=0,kg=e),YA)},movementY:function(e){return"movementY"in e?e.movementY:GA}}),KM=xo(QS),rde=_r({},QS,{dataTransfer:0}),ide=xo(rde),sde=_r({},L_,{relatedTarget:0}),KA=xo(sde),ode=_r({},jm,{animationName:0,elapsedTime:0,pseudoElement:0}),ade=xo(ode),ude=_r({},jm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lde=xo(ude),cde=_r({},jm,{data:0}),QM=xo(cde),fde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pde(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hde[e])?!!t[e]:!1}function xk(){return pde}var mde=_r({},L_,{key:function(e){if(e.key){var t=fde[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dde[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xk,charCode:function(e){return e.type==="keypress"?mb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gde=xo(mde),yde=_r({},QS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XM=xo(yde),_de=_r({},L_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xk}),vde=xo(_de),bde=_r({},jm,{propertyName:0,elapsedTime:0,pseudoElement:0}),wde=xo(bde),Ede=_r({},QS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tde=xo(Ede),Sde=[9,13,27,32],Ik=Nl&&"CompositionEvent"in window,$0=null;Nl&&"documentMode"in document&&($0=document.documentMode);var xde=Nl&&"TextEvent"in window&&!$0,kq=Nl&&(!Ik||$0&&8<$0&&11>=$0),JM=" ",ZM=!1;function Dq(e,t){switch(e){case"keyup":return Sde.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $q(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var np=!1;function Ide(e,t){switch(e){case"compositionend":return $q(t);case"keypress":return t.which!==32?null:(ZM=!0,JM);case"textInput":return e=t.data,e===JM&&ZM?null:e;default:return null}}function Ade(e,t){if(np)return e==="compositionend"||!Ik&&Dq(e,t)?(e=Nq(),pb=Tk=$c=null,np=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kq&&t.locale!=="ko"?null:t.data;default:return null}}var Cde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cde[e.type]:t==="textarea"}function Lq(e,t,n,r){hq(r),t=gw(t,"onChange"),0<t.length&&(n=new Sk("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var L0=null,Ty=null;function Ode(e){Yq(e,0)}function XS(e){var t=sp(e);if(oq(t))return e}function Pde(e,t){if(e==="change")return t}var Mq=!1;if(Nl){var QA;if(Nl){var XA="oninput"in document;if(!XA){var t4=document.createElement("div");t4.setAttribute("oninput","return;"),XA=typeof t4.oninput=="function"}QA=XA}else QA=!1;Mq=QA&&(!document.documentMode||9<document.documentMode)}function n4(){L0&&(L0.detachEvent("onpropertychange",Fq),Ty=L0=null)}function Fq(e){if(e.propertyName==="value"&&XS(Ty)){var t=[];Lq(t,Ty,e,_k(e)),yq(Ode,t)}}function Rde(e,t,n){e==="focusin"?(n4(),L0=t,Ty=n,L0.attachEvent("onpropertychange",Fq)):e==="focusout"&&n4()}function Nde(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return XS(Ty)}function kde(e,t){if(e==="click")return XS(t)}function Dde(e,t){if(e==="input"||e==="change")return XS(t)}function $de(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var La=typeof Object.is=="function"?Object.is:$de;function Sy(e,t){if(La(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!RP.call(t,i)||!La(e[i],t[i]))return!1}return!0}function r4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i4(e,t){var n=r4(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r4(n)}}function Bq(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bq(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jq(){for(var e=window,t=lw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lw(e.document)}return t}function Ak(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lde(e){var t=jq(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bq(n.ownerDocument.documentElement,n)){if(r!==null&&Ak(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=i4(n,s);var o=i4(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mde=Nl&&"documentMode"in document&&11>=document.documentMode,rp=null,QP=null,M0=null,XP=!1;function s4(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;XP||rp==null||rp!==lw(r)||(r=rp,"selectionStart"in r&&Ak(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),M0&&Sy(M0,r)||(M0=r,r=gw(QP,"onSelect"),0<r.length&&(t=new Sk("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rp)))}function Xv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ip={animationend:Xv("Animation","AnimationEnd"),animationiteration:Xv("Animation","AnimationIteration"),animationstart:Xv("Animation","AnimationStart"),transitionend:Xv("Transition","TransitionEnd")},JA={},Uq={};Nl&&(Uq=document.createElement("div").style,"AnimationEvent"in window||(delete ip.animationend.animation,delete ip.animationiteration.animation,delete ip.animationstart.animation),"TransitionEvent"in window||delete ip.transitionend.transition);function JS(e){if(JA[e])return JA[e];if(!ip[e])return e;var t=ip[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uq)return JA[e]=t[n];return e}var Vq=JS("animationend"),zq=JS("animationiteration"),Hq=JS("animationstart"),qq=JS("transitionend"),Wq=new Map,o4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pf(e,t){Wq.set(e,t),lh(t,[e])}for(var ZA=0;ZA<o4.length;ZA++){var eC=o4[ZA],Fde=eC.toLowerCase(),Bde=eC[0].toUpperCase()+eC.slice(1);Pf(Fde,"on"+Bde)}Pf(Vq,"onAnimationEnd");Pf(zq,"onAnimationIteration");Pf(Hq,"onAnimationStart");Pf("dblclick","onDoubleClick");Pf("focusin","onFocus");Pf("focusout","onBlur");Pf(qq,"onTransitionEnd");Jp("onMouseEnter",["mouseout","mouseover"]);Jp("onMouseLeave",["mouseout","mouseover"]);Jp("onPointerEnter",["pointerout","pointerover"]);Jp("onPointerLeave",["pointerout","pointerover"]);lh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lh("onBeforeInput",["compositionend","keypress","textInput","paste"]);lh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jde=new Set("cancel close invalid load scroll toggle".split(" ").concat(p0));function a4(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ffe(r,t,void 0,e),e.currentTarget=null}function Yq(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;a4(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;a4(i,a,l),s=u}}}if(fw)throw e=WP,fw=!1,WP=null,e}function Kn(e,t){var n=t[n2];n===void 0&&(n=t[n2]=new Set);var r=e+"__bubble";n.has(r)||(Gq(t,e,2,!1),n.add(r))}function tC(e,t,n){var r=0;t&&(r|=4),Gq(n,e,r,t)}var Jv="_reactListening"+Math.random().toString(36).slice(2);function xy(e){if(!e[Jv]){e[Jv]=!0,tq.forEach(function(n){n!=="selectionchange"&&(jde.has(n)||tC(n,!1,e),tC(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jv]||(t[Jv]=!0,tC("selectionchange",!1,t))}}function Gq(e,t,n,r){switch(Rq(t)){case 1:var i=ede;break;case 4:i=tde;break;default:i=Ek}n=i.bind(null,t,n,e),i=void 0,!qP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nC(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=dd(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yq(function(){var l=s,c=_k(n),f=[];e:{var d=Wq.get(e);if(d!==void 0){var h=Sk,p=e;switch(e){case"keypress":if(mb(n)===0)break e;case"keydown":case"keyup":h=gde;break;case"focusin":p="focus",h=KA;break;case"focusout":p="blur",h=KA;break;case"beforeblur":case"afterblur":h=KA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=KM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ide;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=vde;break;case Vq:case zq:case Hq:h=ade;break;case qq:h=wde;break;case"scroll":h=nde;break;case"wheel":h=Tde;break;case"copy":case"cut":case"paste":h=lde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=XM}var g=(t&4)!==0,y=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var _=l,v;_!==null;){v=_;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,m!==null&&(T=vy(_,m),T!=null&&g.push(Iy(_,T,v)))),y)break;_=_.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==zP&&(p=n.relatedTarget||n.fromElement)&&(dd(p)||p[kl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?dd(p):null,p!==null&&(y=ch(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=KM,T="onMouseLeave",m="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(g=XM,T="onPointerLeave",m="onPointerEnter",_="pointer"),y=h==null?d:sp(h),v=p==null?d:sp(p),d=new g(T,_+"leave",h,n,c),d.target=y,d.relatedTarget=v,T=null,dd(c)===l&&(g=new g(m,_+"enter",p,n,c),g.target=v,g.relatedTarget=y,T=g),y=T,h&&p)t:{for(g=h,m=p,_=0,v=g;v;v=Nh(v))_++;for(v=0,T=m;T;T=Nh(T))v++;for(;0<_-v;)g=Nh(g),_--;for(;0<v-_;)m=Nh(m),v--;for(;_--;){if(g===m||m!==null&&g===m.alternate)break t;g=Nh(g),m=Nh(m)}g=null}else g=null;h!==null&&u4(f,d,h,g,!1),p!==null&&y!==null&&u4(f,y,p,g,!0)}}e:{if(d=l?sp(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=Pde;else if(e4(d))if(Mq)S=Dde;else{S=Nde;var w=Rde}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=kde);if(S&&(S=S(e,l))){Lq(f,S,n,c);break e}w&&w(e,d,l),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&FP(d,"number",d.value)}switch(w=l?sp(l):window,e){case"focusin":(e4(w)||w.contentEditable==="true")&&(rp=w,QP=l,M0=null);break;case"focusout":M0=QP=rp=null;break;case"mousedown":XP=!0;break;case"contextmenu":case"mouseup":case"dragend":XP=!1,s4(f,n,c);break;case"selectionchange":if(Mde)break;case"keydown":case"keyup":s4(f,n,c)}var x;if(Ik)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else np?Dq(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(kq&&n.locale!=="ko"&&(np||A!=="onCompositionStart"?A==="onCompositionEnd"&&np&&(x=Nq()):($c=c,Tk="value"in $c?$c.value:$c.textContent,np=!0)),w=gw(l,A),0<w.length&&(A=new QM(A,e,null,n,c),f.push({event:A,listeners:w}),x?A.data=x:(x=$q(n),x!==null&&(A.data=x)))),(x=xde?Ide(e,n):Ade(e,n))&&(l=gw(l,"onBeforeInput"),0<l.length&&(c=new QM("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=x))}Yq(f,t)})}function Iy(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vy(e,n),s!=null&&r.unshift(Iy(e,s,i)),s=vy(e,t),s!=null&&r.push(Iy(e,s,i))),e=e.return}return r}function Nh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function u4(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=vy(n,s),u!=null&&o.unshift(Iy(n,u,a))):i||(u=vy(n,s),u!=null&&o.push(Iy(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ude=/\r\n?/g,Vde=/\u0000|\uFFFD/g;function l4(e){return(typeof e=="string"?e:""+e).replace(Ude,`
`).replace(Vde,"")}function Zv(e,t,n){if(t=l4(t),l4(e)!==t&&n)throw Error(Ne(425))}function yw(){}var JP=null,ZP=null;function e2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var t2=typeof setTimeout=="function"?setTimeout:void 0,zde=typeof clearTimeout=="function"?clearTimeout:void 0,c4=typeof Promise=="function"?Promise:void 0,Hde=typeof queueMicrotask=="function"?queueMicrotask:typeof c4<"u"?function(e){return c4.resolve(null).then(e).catch(qde)}:t2;function qde(e){setTimeout(function(){throw e})}function rC(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ey(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ey(t)}function qc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function f4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Um=Math.random().toString(36).slice(2),au="__reactFiber$"+Um,Ay="__reactProps$"+Um,kl="__reactContainer$"+Um,n2="__reactEvents$"+Um,Wde="__reactListeners$"+Um,Yde="__reactHandles$"+Um;function dd(e){var t=e[au];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kl]||n[au]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=f4(e);e!==null;){if(n=e[au])return n;e=f4(e)}return t}e=n,n=e.parentNode}return null}function M_(e){return e=e[au]||e[kl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function ZS(e){return e[Ay]||null}var r2=[],op=-1;function Rf(e){return{current:e}}function er(e){0>op||(e.current=r2[op],r2[op]=null,op--)}function Wn(e,t){op++,r2[op]=e.current,e.current=t}var cf={},ns=Rf(cf),zs=Rf(!1),Bd=cf;function Zp(e,t){var n=e.type.contextTypes;if(!n)return cf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Hs(e){return e=e.childContextTypes,e!=null}function _w(){er(zs),er(ns)}function d4(e,t,n){if(ns.current!==cf)throw Error(Ne(168));Wn(ns,t),Wn(zs,n)}function Kq(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,Rfe(e)||"Unknown",i));return _r({},n,r)}function vw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cf,Bd=ns.current,Wn(ns,e),Wn(zs,zs.current),!0}function h4(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=Kq(e,t,Bd),r.__reactInternalMemoizedMergedChildContext=e,er(zs),er(ns),Wn(ns,e)):er(zs),Wn(zs,n)}var ol=null,ex=!1,iC=!1;function Qq(e){ol===null?ol=[e]:ol.push(e)}function Gde(e){ex=!0,Qq(e)}function Nf(){if(!iC&&ol!==null){iC=!0;var e=0,t=Rn;try{var n=ol;for(Rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ol=null,ex=!1}catch(i){throw ol!==null&&(ol=ol.slice(e+1)),wq(vk,Nf),i}finally{Rn=t,iC=!1}}return null}var ap=[],up=0,bw=null,ww=0,Lo=[],Mo=0,jd=null,hl=1,pl="";function Qf(e,t){ap[up++]=ww,ap[up++]=bw,bw=e,ww=t}function Xq(e,t,n){Lo[Mo++]=hl,Lo[Mo++]=pl,Lo[Mo++]=jd,jd=e;var r=hl;e=pl;var i=32-Ra(r)-1;r&=~(1<<i),n+=1;var s=32-Ra(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hl=1<<32-Ra(t)+i|n<<i|r,pl=s+e}else hl=1<<s|n<<i|r,pl=e}function Ck(e){e.return!==null&&(Qf(e,1),Xq(e,1,0))}function Ok(e){for(;e===bw;)bw=ap[--up],ap[up]=null,ww=ap[--up],ap[up]=null;for(;e===jd;)jd=Lo[--Mo],Lo[Mo]=null,pl=Lo[--Mo],Lo[Mo]=null,hl=Lo[--Mo],Lo[Mo]=null}var go=null,ho=null,lr=!1,Ea=null;function Jq(e,t){var n=qo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function p4(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,go=e,ho=qc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,go=e,ho=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jd!==null?{id:hl,overflow:pl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,go=e,ho=null,!0):!1;default:return!1}}function i2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s2(e){if(lr){var t=ho;if(t){var n=t;if(!p4(e,t)){if(i2(e))throw Error(Ne(418));t=qc(n.nextSibling);var r=go;t&&p4(e,t)?Jq(r,n):(e.flags=e.flags&-4097|2,lr=!1,go=e)}}else{if(i2(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,lr=!1,go=e}}}function m4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;go=e}function e1(e){if(e!==go)return!1;if(!lr)return m4(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!e2(e.type,e.memoizedProps)),t&&(t=ho)){if(i2(e))throw Zq(),Error(Ne(418));for(;t;)Jq(e,t),t=qc(t.nextSibling)}if(m4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ho=qc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ho=null}}else ho=go?qc(e.stateNode.nextSibling):null;return!0}function Zq(){for(var e=ho;e;)e=qc(e.nextSibling)}function em(){ho=go=null,lr=!1}function Pk(e){Ea===null?Ea=[e]:Ea.push(e)}var Kde=ec.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ew=Rf(null),Tw=null,lp=null,Rk=null;function Nk(){Rk=lp=Tw=null}function kk(e){var t=Ew.current;er(Ew),e._currentValue=t}function o2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cp(e,t){Tw=e,Rk=lp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bs=!0),e.firstContext=null)}function Xo(e){var t=e._currentValue;if(Rk!==e)if(e={context:e,memoizedValue:t,next:null},lp===null){if(Tw===null)throw Error(Ne(308));lp=e,Tw.dependencies={lanes:0,firstContext:e}}else lp=lp.next=e;return t}var hd=null;function Dk(e){hd===null?hd=[e]:hd.push(e)}function eW(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Dk(t)):(n.next=i.next,i.next=n),t.interleaved=n,Dl(e,r)}function Dl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wc=!1;function $k(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tW(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Dl(e,n)}return i=r.interleaved,i===null?(t.next=t,Dk(r)):(t.next=i.next,i.next=t),r.interleaved=t,Dl(e,n)}function gb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bk(e,n)}}function g4(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sw(e,t,n,r){var i=e.updateQueue;wc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=_r({},f,d);break e;case 2:wc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Vd|=o,e.lanes=o,e.memoizedState=f}}function y4(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var nW=new eq.Component().refs;function a2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_r({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tx={isMounted:function(e){return(e=e._reactInternals)?ch(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=Gc(e),s=Tl(r,i);s.payload=t,n!=null&&(s.callback=n),t=Wc(e,s,i),t!==null&&(Na(t,e,i,r),gb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=Gc(e),s=Tl(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Wc(e,s,i),t!==null&&(Na(t,e,i,r),gb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=Gc(e),i=Tl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Wc(e,i,r),t!==null&&(Na(t,e,r,n),gb(t,e,r))}};function _4(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Sy(n,r)||!Sy(i,s):!0}function rW(e,t,n){var r=!1,i=cf,s=t.contextType;return typeof s=="object"&&s!==null?s=Xo(s):(i=Hs(t)?Bd:ns.current,r=t.contextTypes,s=(r=r!=null)?Zp(e,i):cf),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tx,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function v4(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tx.enqueueReplaceState(t,t.state,null)}function u2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=nW,$k(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Xo(s):(s=Hs(t)?Bd:ns.current,i.context=Zp(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(a2(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&tx.enqueueReplaceState(i,i.state,null),Sw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Dg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===nW&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function t1(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function b4(e){var t=e._init;return t(e._payload)}function iW(e){function t(m,_){if(e){var v=m.deletions;v===null?(m.deletions=[_],m.flags|=16):v.push(_)}}function n(m,_){if(!e)return null;for(;_!==null;)t(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=Kc(m,_),m.index=0,m.sibling=null,m}function s(m,_,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<_?(m.flags|=2,_):v):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,_,v,T){return _===null||_.tag!==6?(_=fC(v,m.mode,T),_.return=m,_):(_=i(_,v),_.return=m,_)}function u(m,_,v,T){var S=v.type;return S===tp?c(m,_,v.props.children,T,v.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bc&&b4(S)===_.type)?(T=i(_,v.props),T.ref=Dg(m,_,v),T.return=m,T):(T=Eb(v.type,v.key,v.props,null,m.mode,T),T.ref=Dg(m,_,v),T.return=m,T)}function l(m,_,v,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=dC(v,m.mode,T),_.return=m,_):(_=i(_,v.children||[]),_.return=m,_)}function c(m,_,v,T,S){return _===null||_.tag!==7?(_=Pd(v,m.mode,T,S),_.return=m,_):(_=i(_,v),_.return=m,_)}function f(m,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=fC(""+_,m.mode,v),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hv:return v=Eb(_.type,_.key,_.props,null,m.mode,v),v.ref=Dg(m,null,_),v.return=m,v;case ep:return _=dC(_,m.mode,v),_.return=m,_;case bc:var T=_._init;return f(m,T(_._payload),v)}if(d0(_)||Og(_))return _=Pd(_,m.mode,v,null),_.return=m,_;t1(m,_)}return null}function d(m,_,v,T){var S=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,_,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hv:return v.key===S?u(m,_,v,T):null;case ep:return v.key===S?l(m,_,v,T):null;case bc:return S=v._init,d(m,_,S(v._payload),T)}if(d0(v)||Og(v))return S!==null?null:c(m,_,v,T,null);t1(m,v)}return null}function h(m,_,v,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(v)||null,a(_,m,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Hv:return m=m.get(T.key===null?v:T.key)||null,u(_,m,T,S);case ep:return m=m.get(T.key===null?v:T.key)||null,l(_,m,T,S);case bc:var w=T._init;return h(m,_,v,w(T._payload),S)}if(d0(T)||Og(T))return m=m.get(v)||null,c(_,m,T,S,null);t1(_,T)}return null}function p(m,_,v,T){for(var S=null,w=null,x=_,A=_=0,M=null;x!==null&&A<v.length;A++){x.index>A?(M=x,x=null):M=x.sibling;var D=d(m,x,v[A],T);if(D===null){x===null&&(x=M);break}e&&x&&D.alternate===null&&t(m,x),_=s(D,_,A),w===null?S=D:w.sibling=D,w=D,x=M}if(A===v.length)return n(m,x),lr&&Qf(m,A),S;if(x===null){for(;A<v.length;A++)x=f(m,v[A],T),x!==null&&(_=s(x,_,A),w===null?S=x:w.sibling=x,w=x);return lr&&Qf(m,A),S}for(x=r(m,x);A<v.length;A++)M=h(x,m,A,v[A],T),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?A:M.key),_=s(M,_,A),w===null?S=M:w.sibling=M,w=M);return e&&x.forEach(function($){return t(m,$)}),lr&&Qf(m,A),S}function g(m,_,v,T){var S=Og(v);if(typeof S!="function")throw Error(Ne(150));if(v=S.call(v),v==null)throw Error(Ne(151));for(var w=S=null,x=_,A=_=0,M=null,D=v.next();x!==null&&!D.done;A++,D=v.next()){x.index>A?(M=x,x=null):M=x.sibling;var $=d(m,x,D.value,T);if($===null){x===null&&(x=M);break}e&&x&&$.alternate===null&&t(m,x),_=s($,_,A),w===null?S=$:w.sibling=$,w=$,x=M}if(D.done)return n(m,x),lr&&Qf(m,A),S;if(x===null){for(;!D.done;A++,D=v.next())D=f(m,D.value,T),D!==null&&(_=s(D,_,A),w===null?S=D:w.sibling=D,w=D);return lr&&Qf(m,A),S}for(x=r(m,x);!D.done;A++,D=v.next())D=h(x,m,A,D.value,T),D!==null&&(e&&D.alternate!==null&&x.delete(D.key===null?A:D.key),_=s(D,_,A),w===null?S=D:w.sibling=D,w=D);return e&&x.forEach(function(q){return t(m,q)}),lr&&Qf(m,A),S}function y(m,_,v,T){if(typeof v=="object"&&v!==null&&v.type===tp&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Hv:e:{for(var S=v.key,w=_;w!==null;){if(w.key===S){if(S=v.type,S===tp){if(w.tag===7){n(m,w.sibling),_=i(w,v.props.children),_.return=m,m=_;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bc&&b4(S)===w.type){n(m,w.sibling),_=i(w,v.props),_.ref=Dg(m,w,v),_.return=m,m=_;break e}n(m,w);break}else t(m,w);w=w.sibling}v.type===tp?(_=Pd(v.props.children,m.mode,T,v.key),_.return=m,m=_):(T=Eb(v.type,v.key,v.props,null,m.mode,T),T.ref=Dg(m,_,v),T.return=m,m=T)}return o(m);case ep:e:{for(w=v.key;_!==null;){if(_.key===w)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(m,_.sibling),_=i(_,v.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else t(m,_);_=_.sibling}_=dC(v,m.mode,T),_.return=m,m=_}return o(m);case bc:return w=v._init,y(m,_,w(v._payload),T)}if(d0(v))return p(m,_,v,T);if(Og(v))return g(m,_,v,T);t1(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(m,_.sibling),_=i(_,v),_.return=m,m=_):(n(m,_),_=fC(v,m.mode,T),_.return=m,m=_),o(m)):n(m,_)}return y}var tm=iW(!0),sW=iW(!1),F_={},Su=Rf(F_),Cy=Rf(F_),Oy=Rf(F_);function pd(e){if(e===F_)throw Error(Ne(174));return e}function Lk(e,t){switch(Wn(Oy,t),Wn(Cy,e),Wn(Su,F_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jP(t,e)}er(Su),Wn(Su,t)}function nm(){er(Su),er(Cy),er(Oy)}function oW(e){pd(Oy.current);var t=pd(Su.current),n=jP(t,e.type);t!==n&&(Wn(Cy,e),Wn(Su,n))}function Mk(e){Cy.current===e&&(er(Su),er(Cy))}var gr=Rf(0);function xw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sC=[];function Fk(){for(var e=0;e<sC.length;e++)sC[e]._workInProgressVersionPrimary=null;sC.length=0}var yb=ec.ReactCurrentDispatcher,oC=ec.ReactCurrentBatchConfig,Ud=0,yr=null,Qr=null,fi=null,Iw=!1,F0=!1,Py=0,Qde=0;function Ui(){throw Error(Ne(321))}function Bk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!La(e[n],t[n]))return!1;return!0}function jk(e,t,n,r,i,s){if(Ud=s,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yb.current=e===null||e.memoizedState===null?ehe:the,e=n(r,i),F0){s=0;do{if(F0=!1,Py=0,25<=s)throw Error(Ne(301));s+=1,fi=Qr=null,t.updateQueue=null,yb.current=nhe,e=n(r,i)}while(F0)}if(yb.current=Aw,t=Qr!==null&&Qr.next!==null,Ud=0,fi=Qr=yr=null,Iw=!1,t)throw Error(Ne(300));return e}function Uk(){var e=Py!==0;return Py=0,e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?yr.memoizedState=fi=e:fi=fi.next=e,fi}function Jo(){if(Qr===null){var e=yr.alternate;e=e!==null?e.memoizedState:null}else e=Qr.next;var t=fi===null?yr.memoizedState:fi.next;if(t!==null)fi=t,Qr=e;else{if(e===null)throw Error(Ne(310));Qr=e,e={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},fi===null?yr.memoizedState=fi=e:fi=fi.next=e}return fi}function Ry(e,t){return typeof t=="function"?t(e):t}function aC(e){var t=Jo(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=Qr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Ud&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,yr.lanes|=c,Vd|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,La(r,t.memoizedState)||(Bs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,yr.lanes|=s,Vd|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uC(e){var t=Jo(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);La(s,t.memoizedState)||(Bs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function aW(){}function uW(e,t){var n=yr,r=Jo(),i=t(),s=!La(r.memoizedState,i);if(s&&(r.memoizedState=i,Bs=!0),r=r.queue,Vk(fW.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||fi!==null&&fi.memoizedState.tag&1){if(n.flags|=2048,Ny(9,cW.bind(null,n,r,i,t),void 0,null),pi===null)throw Error(Ne(349));Ud&30||lW(n,t,i)}return i}function lW(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cW(e,t,n,r){t.value=n,t.getSnapshot=r,dW(t)&&hW(e)}function fW(e,t,n){return n(function(){dW(t)&&hW(e)})}function dW(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!La(e,n)}catch{return!0}}function hW(e){var t=Dl(e,1);t!==null&&Na(t,e,1,-1)}function w4(e){var t=Ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:e},t.queue=e,e=e.dispatch=Zde.bind(null,yr,e),[t.memoizedState,e]}function Ny(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pW(){return Jo().memoizedState}function _b(e,t,n,r){var i=Ja();yr.flags|=e,i.memoizedState=Ny(1|t,n,void 0,r===void 0?null:r)}function nx(e,t,n,r){var i=Jo();r=r===void 0?null:r;var s=void 0;if(Qr!==null){var o=Qr.memoizedState;if(s=o.destroy,r!==null&&Bk(r,o.deps)){i.memoizedState=Ny(t,n,s,r);return}}yr.flags|=e,i.memoizedState=Ny(1|t,n,s,r)}function E4(e,t){return _b(8390656,8,e,t)}function Vk(e,t){return nx(2048,8,e,t)}function mW(e,t){return nx(4,2,e,t)}function gW(e,t){return nx(4,4,e,t)}function yW(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _W(e,t,n){return n=n!=null?n.concat([e]):null,nx(4,4,yW.bind(null,t,e),n)}function zk(){}function vW(e,t){var n=Jo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bW(e,t){var n=Jo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wW(e,t,n){return Ud&21?(La(n,t)||(n=Sq(),yr.lanes|=n,Vd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bs=!0),e.memoizedState=n)}function Xde(e,t){var n=Rn;Rn=n!==0&&4>n?n:4,e(!0);var r=oC.transition;oC.transition={};try{e(!1),t()}finally{Rn=n,oC.transition=r}}function EW(){return Jo().memoizedState}function Jde(e,t,n){var r=Gc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TW(e))SW(t,n);else if(n=eW(e,t,n,r),n!==null){var i=hs();Na(n,e,r,i),xW(n,t,r)}}function Zde(e,t,n){var r=Gc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TW(e))SW(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,La(a,o)){var u=t.interleaved;u===null?(i.next=i,Dk(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=eW(e,t,i,r),n!==null&&(i=hs(),Na(n,e,r,i),xW(n,t,r))}}function TW(e){var t=e.alternate;return e===yr||t!==null&&t===yr}function SW(e,t){F0=Iw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xW(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bk(e,n)}}var Aw={readContext:Xo,useCallback:Ui,useContext:Ui,useEffect:Ui,useImperativeHandle:Ui,useInsertionEffect:Ui,useLayoutEffect:Ui,useMemo:Ui,useReducer:Ui,useRef:Ui,useState:Ui,useDebugValue:Ui,useDeferredValue:Ui,useTransition:Ui,useMutableSource:Ui,useSyncExternalStore:Ui,useId:Ui,unstable_isNewReconciler:!1},ehe={readContext:Xo,useCallback:function(e,t){return Ja().memoizedState=[e,t===void 0?null:t],e},useContext:Xo,useEffect:E4,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_b(4194308,4,yW.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _b(4194308,4,e,t)},useInsertionEffect:function(e,t){return _b(4,2,e,t)},useMemo:function(e,t){var n=Ja();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ja();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jde.bind(null,yr,e),[r.memoizedState,e]},useRef:function(e){var t=Ja();return e={current:e},t.memoizedState=e},useState:w4,useDebugValue:zk,useDeferredValue:function(e){return Ja().memoizedState=e},useTransition:function(){var e=w4(!1),t=e[0];return e=Xde.bind(null,e[1]),Ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=yr,i=Ja();if(lr){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),pi===null)throw Error(Ne(349));Ud&30||lW(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,E4(fW.bind(null,r,s,e),[e]),r.flags|=2048,Ny(9,cW.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ja(),t=pi.identifierPrefix;if(lr){var n=pl,r=hl;n=(r&~(1<<32-Ra(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Py++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qde++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},the={readContext:Xo,useCallback:vW,useContext:Xo,useEffect:Vk,useImperativeHandle:_W,useInsertionEffect:mW,useLayoutEffect:gW,useMemo:bW,useReducer:aC,useRef:pW,useState:function(){return aC(Ry)},useDebugValue:zk,useDeferredValue:function(e){var t=Jo();return wW(t,Qr.memoizedState,e)},useTransition:function(){var e=aC(Ry)[0],t=Jo().memoizedState;return[e,t]},useMutableSource:aW,useSyncExternalStore:uW,useId:EW,unstable_isNewReconciler:!1},nhe={readContext:Xo,useCallback:vW,useContext:Xo,useEffect:Vk,useImperativeHandle:_W,useInsertionEffect:mW,useLayoutEffect:gW,useMemo:bW,useReducer:uC,useRef:pW,useState:function(){return uC(Ry)},useDebugValue:zk,useDeferredValue:function(e){var t=Jo();return Qr===null?t.memoizedState=e:wW(t,Qr.memoizedState,e)},useTransition:function(){var e=uC(Ry)[0],t=Jo().memoizedState;return[e,t]},useMutableSource:aW,useSyncExternalStore:uW,useId:EW,unstable_isNewReconciler:!1};function rm(e,t){try{var n="",r=t;do n+=Pfe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function lC(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function l2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rhe=typeof WeakMap=="function"?WeakMap:Map;function IW(e,t,n){n=Tl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ow||(Ow=!0,v2=r),l2(e,t)},n}function AW(e,t,n){n=Tl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){l2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){l2(e,t),typeof r!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function T4(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rhe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=yhe.bind(null,e,t,n),t.then(e,e))}function S4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function x4(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tl(-1,1),t.tag=2,Wc(n,t,1))),n.lanes|=1),e)}var ihe=ec.ReactCurrentOwner,Bs=!1;function cs(e,t,n,r){t.child=e===null?sW(t,null,n,r):tm(t,e.child,n,r)}function I4(e,t,n,r,i){n=n.render;var s=t.ref;return Cp(t,i),r=jk(e,t,n,r,s,i),n=Uk(),e!==null&&!Bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$l(e,t,i)):(lr&&n&&Ck(t),t.flags|=1,cs(e,t,r,i),t.child)}function A4(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Xk(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,CW(e,t,s,r,i)):(e=Eb(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sy,n(o,r)&&e.ref===t.ref)return $l(e,t,i)}return t.flags|=1,e=Kc(s,r),e.ref=t.ref,e.return=t,t.child=e}function CW(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Sy(s,r)&&e.ref===t.ref)if(Bs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Bs=!0);else return t.lanes=e.lanes,$l(e,t,i)}return c2(e,t,n,r,i)}function OW(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(fp,oo),oo|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wn(fp,oo),oo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Wn(fp,oo),oo|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Wn(fp,oo),oo|=r;return cs(e,t,i,n),t.child}function PW(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function c2(e,t,n,r,i){var s=Hs(n)?Bd:ns.current;return s=Zp(t,s),Cp(t,i),n=jk(e,t,n,r,s,i),r=Uk(),e!==null&&!Bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$l(e,t,i)):(lr&&r&&Ck(t),t.flags|=1,cs(e,t,n,i),t.child)}function C4(e,t,n,r,i){if(Hs(n)){var s=!0;vw(t)}else s=!1;if(Cp(t,i),t.stateNode===null)vb(e,t),rW(t,n,r),u2(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Xo(l):(l=Hs(n)?Bd:ns.current,l=Zp(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&v4(t,o,r,l),wc=!1;var d=t.memoizedState;o.state=d,Sw(t,r,o,i),u=t.memoizedState,a!==r||d!==u||zs.current||wc?(typeof c=="function"&&(a2(t,n,c,r),u=t.memoizedState),(a=wc||_4(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,tW(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:va(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Xo(u):(u=Hs(n)?Bd:ns.current,u=Zp(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&v4(t,o,r,u),wc=!1,d=t.memoizedState,o.state=d,Sw(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||zs.current||wc?(typeof h=="function"&&(a2(t,n,h,r),p=t.memoizedState),(l=wc||_4(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return f2(e,t,n,r,s,i)}function f2(e,t,n,r,i,s){PW(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&h4(t,n,!1),$l(e,t,s);r=t.stateNode,ihe.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=tm(t,e.child,null,s),t.child=tm(t,null,a,s)):cs(e,t,a,s),t.memoizedState=r.state,i&&h4(t,n,!0),t.child}function RW(e){var t=e.stateNode;t.pendingContext?d4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d4(e,t.context,!1),Lk(e,t.containerInfo)}function O4(e,t,n,r,i){return em(),Pk(i),t.flags|=256,cs(e,t,n,r),t.child}var d2={dehydrated:null,treeContext:null,retryLane:0};function h2(e){return{baseLanes:e,cachePool:null,transitions:null}}function NW(e,t,n){var r=t.pendingProps,i=gr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wn(gr,i&1),e===null)return s2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sx(o,r,0,null),e=Pd(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=h2(n),t.memoizedState=d2,e):Hk(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return she(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Kc(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kc(a,s):(s=Pd(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?h2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=d2,r}return s=e.child,e=s.sibling,r=Kc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hk(e,t){return t=sx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function n1(e,t,n,r){return r!==null&&Pk(r),tm(t,e.child,null,n),e=Hk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function she(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=lC(Error(Ne(422))),n1(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=sx({mode:"visible",children:r.children},i,0,null),s=Pd(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&tm(t,e.child,null,o),t.child.memoizedState=h2(o),t.memoizedState=d2,s);if(!(t.mode&1))return n1(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=lC(s,r,void 0),n1(e,t,o,r)}if(a=(o&e.childLanes)!==0,Bs||a){if(r=pi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dl(e,i),Na(r,e,i,-1))}return Qk(),r=lC(Error(Ne(421))),n1(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_he.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ho=qc(i.nextSibling),go=t,lr=!0,Ea=null,e!==null&&(Lo[Mo++]=hl,Lo[Mo++]=pl,Lo[Mo++]=jd,hl=e.id,pl=e.overflow,jd=t),t=Hk(t,r.children),t.flags|=4096,t)}function P4(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),o2(e.return,t,n)}function cC(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kW(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(cs(e,t,r.children,n),r=gr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P4(e,n,t);else if(e.tag===19)P4(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wn(gr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cC(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cC(t,!0,n,null,s);break;case"together":cC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $l(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=Kc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ohe(e,t,n){switch(t.tag){case 3:RW(t),em();break;case 5:oW(t);break;case 1:Hs(t.type)&&vw(t);break;case 4:Lk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wn(Ew,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wn(gr,gr.current&1),t.flags|=128,null):n&t.child.childLanes?NW(e,t,n):(Wn(gr,gr.current&1),e=$l(e,t,n),e!==null?e.sibling:null);Wn(gr,gr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kW(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wn(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,OW(e,t,n)}return $l(e,t,n)}var DW,p2,$W,LW;DW=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};p2=function(){};$W=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,pd(Su.current);var s=null;switch(n){case"input":i=LP(e,i),r=LP(e,r),s=[];break;case"select":i=_r({},i,{value:void 0}),r=_r({},r,{value:void 0}),s=[];break;case"textarea":i=BP(e,i),r=BP(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yw)}UP(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(yy.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(yy.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Kn("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};LW=function(e,t,n,r){n!==r&&(t.flags|=4)};function $g(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ahe(e,t,n){var r=t.pendingProps;switch(Ok(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:return Hs(t.type)&&_w(),Vi(t),null;case 3:return r=t.stateNode,nm(),er(zs),er(ns),Fk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(e1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ea!==null&&(E2(Ea),Ea=null))),p2(e,t),Vi(t),null;case 5:Mk(t);var i=pd(Oy.current);if(n=t.type,e!==null&&t.stateNode!=null)$W(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Vi(t),null}if(e=pd(Su.current),e1(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[au]=t,r[Ay]=s,e=(t.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(i=0;i<p0.length;i++)Kn(p0[i],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":BM(r,s),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kn("invalid",r);break;case"textarea":UM(r,s),Kn("invalid",r)}UP(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zv(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zv(r.textContent,a,e),i=["children",""+a]):yy.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kn("scroll",r)}switch(n){case"input":qv(r),jM(r,s,!0);break;case"textarea":qv(r),VM(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lq(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[au]=t,e[Ay]=r,DW(e,t,!1,!1),t.stateNode=e;e:{switch(o=VP(n,r),n){case"dialog":Kn("cancel",e),Kn("close",e),i=r;break;case"iframe":case"object":case"embed":Kn("load",e),i=r;break;case"video":case"audio":for(i=0;i<p0.length;i++)Kn(p0[i],e);i=r;break;case"source":Kn("error",e),i=r;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),i=r;break;case"details":Kn("toggle",e),i=r;break;case"input":BM(e,r),i=LP(e,r),Kn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_r({},r,{value:void 0}),Kn("invalid",e);break;case"textarea":UM(e,r),i=BP(e,r),Kn("invalid",e);break;default:i=r}UP(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?dq(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cq(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_y(e,u):typeof u=="number"&&_y(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yy.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Kn("scroll",e):u!=null&&pk(e,s,u,o))}switch(n){case"input":qv(e),jM(e,r,!1);break;case"textarea":qv(e),VM(e);break;case"option":r.value!=null&&e.setAttribute("value",""+lf(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Sp(e,!!r.multiple,s,!1):r.defaultValue!=null&&Sp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&t.stateNode!=null)LW(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=pd(Oy.current),pd(Su.current),e1(t)){if(r=t.stateNode,n=t.memoizedProps,r[au]=t,(s=r.nodeValue!==n)&&(e=go,e!==null))switch(e.tag){case 3:Zv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[au]=t,t.stateNode=r}return Vi(t),null;case 13:if(er(gr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&ho!==null&&t.mode&1&&!(t.flags&128))Zq(),em(),t.flags|=98560,s=!1;else if(s=e1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[au]=t}else em(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vi(t),s=!1}else Ea!==null&&(E2(Ea),Ea=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||gr.current&1?ei===0&&(ei=3):Qk())),t.updateQueue!==null&&(t.flags|=4),Vi(t),null);case 4:return nm(),p2(e,t),e===null&&xy(t.stateNode.containerInfo),Vi(t),null;case 10:return kk(t.type._context),Vi(t),null;case 17:return Hs(t.type)&&_w(),Vi(t),null;case 19:if(er(gr),s=t.memoizedState,s===null)return Vi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)$g(s,!1);else{if(ei!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xw(e),o!==null){for(t.flags|=128,$g(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wn(gr,gr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Dr()>im&&(t.flags|=128,r=!0,$g(s,!1),t.lanes=4194304)}else{if(!r)if(e=xw(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$g(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lr)return Vi(t),null}else 2*Dr()-s.renderingStartTime>im&&n!==1073741824&&(t.flags|=128,r=!0,$g(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Dr(),t.sibling=null,n=gr.current,Wn(gr,r?n&1|2:n&1),t):(Vi(t),null);case 22:case 23:return Kk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?oo&1073741824&&(Vi(t),t.subtreeFlags&6&&(t.flags|=8192)):Vi(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function uhe(e,t){switch(Ok(t),t.tag){case 1:return Hs(t.type)&&_w(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nm(),er(zs),er(ns),Fk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mk(t),null;case 13:if(er(gr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));em()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(gr),null;case 4:return nm(),null;case 10:return kk(t.type._context),null;case 22:case 23:return Kk(),null;case 24:return null;default:return null}}var r1=!1,Xi=!1,lhe=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function cp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Sr(e,t,r)}else n.current=null}function m2(e,t,n){try{n()}catch(r){Sr(e,t,r)}}var R4=!1;function che(e,t){if(JP=pw,e=jq(),Ak(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ZP={focusedElem:e,selectionRange:n},pw=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=t.stateNode,_=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:va(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(T){Sr(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return p=R4,R4=!1,p}function B0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&m2(t,n,s)}i=i.next}while(i!==r)}}function rx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function g2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function MW(e){var t=e.alternate;t!==null&&(e.alternate=null,MW(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[au],delete t[Ay],delete t[n2],delete t[Wde],delete t[Yde])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FW(e){return e.tag===5||e.tag===3||e.tag===4}function N4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function y2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yw));else if(r!==4&&(e=e.child,e!==null))for(y2(e,t,n),e=e.sibling;e!==null;)y2(e,t,n),e=e.sibling}function _2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_2(e,t,n),e=e.sibling;e!==null;)_2(e,t,n),e=e.sibling}var Si=null,ba=!1;function cc(e,t,n){for(n=n.child;n!==null;)BW(e,t,n),n=n.sibling}function BW(e,t,n){if(Tu&&typeof Tu.onCommitFiberUnmount=="function")try{Tu.onCommitFiberUnmount(KS,n)}catch{}switch(n.tag){case 5:Xi||cp(n,t);case 6:var r=Si,i=ba;Si=null,cc(e,t,n),Si=r,ba=i,Si!==null&&(ba?(e=Si,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Si.removeChild(n.stateNode));break;case 18:Si!==null&&(ba?(e=Si,n=n.stateNode,e.nodeType===8?rC(e.parentNode,n):e.nodeType===1&&rC(e,n),Ey(e)):rC(Si,n.stateNode));break;case 4:r=Si,i=ba,Si=n.stateNode.containerInfo,ba=!0,cc(e,t,n),Si=r,ba=i;break;case 0:case 11:case 14:case 15:if(!Xi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&m2(n,t,o),i=i.next}while(i!==r)}cc(e,t,n);break;case 1:if(!Xi&&(cp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sr(n,t,a)}cc(e,t,n);break;case 21:cc(e,t,n);break;case 22:n.mode&1?(Xi=(r=Xi)||n.memoizedState!==null,cc(e,t,n),Xi=r):cc(e,t,n);break;default:cc(e,t,n)}}function k4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lhe),t.forEach(function(r){var i=vhe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ha(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Si=a.stateNode,ba=!1;break e;case 3:Si=a.stateNode.containerInfo,ba=!0;break e;case 4:Si=a.stateNode.containerInfo,ba=!0;break e}a=a.return}if(Si===null)throw Error(Ne(160));BW(s,o,i),Si=null,ba=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Sr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jW(t,e),t=t.sibling}function jW(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ha(t,e),Wa(e),r&4){try{B0(3,e,e.return),rx(3,e)}catch(g){Sr(e,e.return,g)}try{B0(5,e,e.return)}catch(g){Sr(e,e.return,g)}}break;case 1:ha(t,e),Wa(e),r&512&&n!==null&&cp(n,n.return);break;case 5:if(ha(t,e),Wa(e),r&512&&n!==null&&cp(n,n.return),e.flags&32){var i=e.stateNode;try{_y(i,"")}catch(g){Sr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&aq(i,s),VP(a,o);var l=VP(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?dq(i,f):c==="dangerouslySetInnerHTML"?cq(i,f):c==="children"?_y(i,f):pk(i,c,f,l)}switch(a){case"input":MP(i,s);break;case"textarea":uq(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Sp(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Sp(i,!!s.multiple,s.defaultValue,!0):Sp(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ay]=s}catch(g){Sr(e,e.return,g)}}break;case 6:if(ha(t,e),Wa(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Sr(e,e.return,g)}}break;case 3:if(ha(t,e),Wa(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ey(t.containerInfo)}catch(g){Sr(e,e.return,g)}break;case 4:ha(t,e),Wa(e);break;case 13:ha(t,e),Wa(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yk=Dr())),r&4&&k4(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Xi=(l=Xi)||c,ha(t,e),Xi=l):ha(t,e),Wa(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ye=e,c=e.child;c!==null;){for(f=Ye=c;Ye!==null;){switch(d=Ye,h=d.child,d.tag){case 0:case 11:case 14:case 15:B0(4,d,d.return);break;case 1:cp(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sr(r,n,g)}}break;case 5:cp(d,d.return);break;case 22:if(d.memoizedState!==null){$4(f);continue}}h!==null?(h.return=d,Ye=h):$4(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=fq("display",o))}catch(g){Sr(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Sr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ha(t,e),Wa(e),r&4&&k4(e);break;case 21:break;default:ha(t,e),Wa(e)}}function Wa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(FW(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_y(i,""),r.flags&=-33);var s=N4(e);_2(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=N4(e);y2(e,a,o);break;default:throw Error(Ne(161))}}catch(u){Sr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fhe(e,t,n){Ye=e,UW(e)}function UW(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||r1;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Xi;a=r1;var l=Xi;if(r1=o,(Xi=u)&&!l)for(Ye=i;Ye!==null;)o=Ye,u=o.child,o.tag===22&&o.memoizedState!==null?L4(i):u!==null?(u.return=o,Ye=u):L4(i);for(;s!==null;)Ye=s,UW(s),s=s.sibling;Ye=i,r1=a,Xi=l}D4(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):D4(e)}}function D4(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xi||rx(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&y4(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}y4(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ey(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Xi||t.flags&512&&g2(t)}catch(d){Sr(t,t.return,d)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function $4(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function L4(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rx(4,t)}catch(u){Sr(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Sr(t,i,u)}}var s=t.return;try{g2(t)}catch(u){Sr(t,s,u)}break;case 5:var o=t.return;try{g2(t)}catch(u){Sr(t,o,u)}}}catch(u){Sr(t,t.return,u)}if(t===e){Ye=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ye=a;break}Ye=t.return}}var dhe=Math.ceil,Cw=ec.ReactCurrentDispatcher,qk=ec.ReactCurrentOwner,Yo=ec.ReactCurrentBatchConfig,pn=0,pi=null,Hr=null,Ni=0,oo=0,fp=Rf(0),ei=0,ky=null,Vd=0,ix=0,Wk=0,j0=null,Ds=null,Yk=0,im=1/0,rl=null,Ow=!1,v2=null,Yc=null,i1=!1,Lc=null,Pw=0,U0=0,b2=null,bb=-1,wb=0;function hs(){return pn&6?Dr():bb!==-1?bb:bb=Dr()}function Gc(e){return e.mode&1?pn&2&&Ni!==0?Ni&-Ni:Kde.transition!==null?(wb===0&&(wb=Sq()),wb):(e=Rn,e!==0||(e=window.event,e=e===void 0?16:Rq(e.type)),e):1}function Na(e,t,n,r){if(50<U0)throw U0=0,b2=null,Error(Ne(185));$_(e,n,r),(!(pn&2)||e!==pi)&&(e===pi&&(!(pn&2)&&(ix|=n),ei===4&&Ac(e,Ni)),qs(e,r),n===1&&pn===0&&!(t.mode&1)&&(im=Dr()+500,ex&&Nf()))}function qs(e,t){var n=e.callbackNode;Kfe(e,t);var r=hw(e,e===pi?Ni:0);if(r===0)n!==null&&qM(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qM(n),t===1)e.tag===0?Gde(M4.bind(null,e)):Qq(M4.bind(null,e)),Hde(function(){!(pn&6)&&Nf()}),n=null;else{switch(xq(r)){case 1:n=vk;break;case 4:n=Eq;break;case 16:n=dw;break;case 536870912:n=Tq;break;default:n=dw}n=KW(n,VW.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function VW(e,t){if(bb=-1,wb=0,pn&6)throw Error(Ne(327));var n=e.callbackNode;if(Op()&&e.callbackNode!==n)return null;var r=hw(e,e===pi?Ni:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rw(e,r);else{t=r;var i=pn;pn|=2;var s=HW();(pi!==e||Ni!==t)&&(rl=null,im=Dr()+500,Od(e,t));do try{mhe();break}catch(a){zW(e,a)}while(!0);Nk(),Cw.current=s,pn=i,Hr!==null?t=0:(pi=null,Ni=0,t=ei)}if(t!==0){if(t===2&&(i=YP(e),i!==0&&(r=i,t=w2(e,i))),t===1)throw n=ky,Od(e,0),Ac(e,r),qs(e,Dr()),n;if(t===6)Ac(e,r);else{if(i=e.current.alternate,!(r&30)&&!hhe(i)&&(t=Rw(e,r),t===2&&(s=YP(e),s!==0&&(r=s,t=w2(e,s))),t===1))throw n=ky,Od(e,0),Ac(e,r),qs(e,Dr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Xf(e,Ds,rl);break;case 3:if(Ac(e,r),(r&130023424)===r&&(t=Yk+500-Dr(),10<t)){if(hw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=t2(Xf.bind(null,e,Ds,rl),t);break}Xf(e,Ds,rl);break;case 4:if(Ac(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ra(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Dr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dhe(r/1960))-r,10<r){e.timeoutHandle=t2(Xf.bind(null,e,Ds,rl),r);break}Xf(e,Ds,rl);break;case 5:Xf(e,Ds,rl);break;default:throw Error(Ne(329))}}}return qs(e,Dr()),e.callbackNode===n?VW.bind(null,e):null}function w2(e,t){var n=j0;return e.current.memoizedState.isDehydrated&&(Od(e,t).flags|=256),e=Rw(e,t),e!==2&&(t=Ds,Ds=n,t!==null&&E2(t)),e}function E2(e){Ds===null?Ds=e:Ds.push.apply(Ds,e)}function hhe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!La(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ac(e,t){for(t&=~Wk,t&=~ix,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ra(t),r=1<<n;e[n]=-1,t&=~r}}function M4(e){if(pn&6)throw Error(Ne(327));Op();var t=hw(e,0);if(!(t&1))return qs(e,Dr()),null;var n=Rw(e,t);if(e.tag!==0&&n===2){var r=YP(e);r!==0&&(t=r,n=w2(e,r))}if(n===1)throw n=ky,Od(e,0),Ac(e,t),qs(e,Dr()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xf(e,Ds,rl),qs(e,Dr()),null}function Gk(e,t){var n=pn;pn|=1;try{return e(t)}finally{pn=n,pn===0&&(im=Dr()+500,ex&&Nf())}}function zd(e){Lc!==null&&Lc.tag===0&&!(pn&6)&&Op();var t=pn;pn|=1;var n=Yo.transition,r=Rn;try{if(Yo.transition=null,Rn=1,e)return e()}finally{Rn=r,Yo.transition=n,pn=t,!(pn&6)&&Nf()}}function Kk(){oo=fp.current,er(fp)}function Od(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zde(n)),Hr!==null)for(n=Hr.return;n!==null;){var r=n;switch(Ok(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_w();break;case 3:nm(),er(zs),er(ns),Fk();break;case 5:Mk(r);break;case 4:nm();break;case 13:er(gr);break;case 19:er(gr);break;case 10:kk(r.type._context);break;case 22:case 23:Kk()}n=n.return}if(pi=e,Hr=e=Kc(e.current,null),Ni=oo=t,ei=0,ky=null,Wk=ix=Vd=0,Ds=j0=null,hd!==null){for(t=0;t<hd.length;t++)if(n=hd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hd=null}return e}function zW(e,t){do{var n=Hr;try{if(Nk(),yb.current=Aw,Iw){for(var r=yr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Iw=!1}if(Ud=0,fi=Qr=yr=null,F0=!1,Py=0,qk.current=null,n===null||n.return===null){ei=1,ky=t,Hr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Ni,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=S4(o);if(h!==null){h.flags&=-257,x4(h,o,a,s,t),h.mode&1&&T4(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}else{if(!(t&1)){T4(s,l,t),Qk();break e}u=Error(Ne(426))}}else if(lr&&a.mode&1){var y=S4(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),x4(y,o,a,s,t),Pk(rm(u,a));break e}}s=u=rm(u,a),ei!==4&&(ei=2),j0===null?j0=[s]:j0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=IW(s,u,t);g4(s,m);break e;case 1:a=u;var _=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yc===null||!Yc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=AW(s,a,t);g4(s,T);break e}}s=s.return}while(s!==null)}WW(n)}catch(S){t=S,Hr===n&&n!==null&&(Hr=n=n.return);continue}break}while(!0)}function HW(){var e=Cw.current;return Cw.current=Aw,e===null?Aw:e}function Qk(){(ei===0||ei===3||ei===2)&&(ei=4),pi===null||!(Vd&268435455)&&!(ix&268435455)||Ac(pi,Ni)}function Rw(e,t){var n=pn;pn|=2;var r=HW();(pi!==e||Ni!==t)&&(rl=null,Od(e,t));do try{phe();break}catch(i){zW(e,i)}while(!0);if(Nk(),pn=n,Cw.current=r,Hr!==null)throw Error(Ne(261));return pi=null,Ni=0,ei}function phe(){for(;Hr!==null;)qW(Hr)}function mhe(){for(;Hr!==null&&!jfe();)qW(Hr)}function qW(e){var t=GW(e.alternate,e,oo);e.memoizedProps=e.pendingProps,t===null?WW(e):Hr=t,qk.current=null}function WW(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uhe(n,t),n!==null){n.flags&=32767,Hr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ei=6,Hr=null;return}}else if(n=ahe(n,t,oo),n!==null){Hr=n;return}if(t=t.sibling,t!==null){Hr=t;return}Hr=t=e}while(t!==null);ei===0&&(ei=5)}function Xf(e,t,n){var r=Rn,i=Yo.transition;try{Yo.transition=null,Rn=1,ghe(e,t,n,r)}finally{Yo.transition=i,Rn=r}return null}function ghe(e,t,n,r){do Op();while(Lc!==null);if(pn&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Qfe(e,s),e===pi&&(Hr=pi=null,Ni=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||i1||(i1=!0,KW(dw,function(){return Op(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yo.transition,Yo.transition=null;var o=Rn;Rn=1;var a=pn;pn|=4,qk.current=null,che(e,n),jW(n,e),Lde(ZP),pw=!!JP,ZP=JP=null,e.current=n,fhe(n),Ufe(),pn=a,Rn=o,Yo.transition=s}else e.current=n;if(i1&&(i1=!1,Lc=e,Pw=i),s=e.pendingLanes,s===0&&(Yc=null),Hfe(n.stateNode),qs(e,Dr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ow)throw Ow=!1,e=v2,v2=null,e;return Pw&1&&e.tag!==0&&Op(),s=e.pendingLanes,s&1?e===b2?U0++:(U0=0,b2=e):U0=0,Nf(),null}function Op(){if(Lc!==null){var e=xq(Pw),t=Yo.transition,n=Rn;try{if(Yo.transition=null,Rn=16>e?16:e,Lc===null)var r=!1;else{if(e=Lc,Lc=null,Pw=0,pn&6)throw Error(Ne(331));var i=pn;for(pn|=4,Ye=e.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ye=l;Ye!==null;){var c=Ye;switch(c.tag){case 0:case 11:case 15:B0(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ye=f;else for(;Ye!==null;){c=Ye;var d=c.sibling,h=c.return;if(MW(c),c===l){Ye=null;break}if(d!==null){d.return=h,Ye=d;break}Ye=h}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:B0(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Ye=m;break e}Ye=s.return}}var _=e.current;for(Ye=_;Ye!==null;){o=Ye;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ye=v;else e:for(o=_;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rx(9,a)}}catch(S){Sr(a,a.return,S)}if(a===o){Ye=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ye=T;break e}Ye=a.return}}if(pn=i,Nf(),Tu&&typeof Tu.onPostCommitFiberRoot=="function")try{Tu.onPostCommitFiberRoot(KS,e)}catch{}r=!0}return r}finally{Rn=n,Yo.transition=t}}return!1}function F4(e,t,n){t=rm(n,t),t=IW(e,t,1),e=Wc(e,t,1),t=hs(),e!==null&&($_(e,1,t),qs(e,t))}function Sr(e,t,n){if(e.tag===3)F4(e,e,n);else for(;t!==null;){if(t.tag===3){F4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yc===null||!Yc.has(r))){e=rm(n,e),e=AW(t,e,1),t=Wc(t,e,1),e=hs(),t!==null&&($_(t,1,e),qs(t,e));break}}t=t.return}}function yhe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,pi===e&&(Ni&n)===n&&(ei===4||ei===3&&(Ni&130023424)===Ni&&500>Dr()-Yk?Od(e,0):Wk|=n),qs(e,t)}function YW(e,t){t===0&&(e.mode&1?(t=Gv,Gv<<=1,!(Gv&130023424)&&(Gv=4194304)):t=1);var n=hs();e=Dl(e,t),e!==null&&($_(e,t,n),qs(e,n))}function _he(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YW(e,n)}function vhe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),YW(e,n)}var GW;GW=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zs.current)Bs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bs=!1,ohe(e,t,n);Bs=!!(e.flags&131072)}else Bs=!1,lr&&t.flags&1048576&&Xq(t,ww,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vb(e,t),e=t.pendingProps;var i=Zp(t,ns.current);Cp(t,n),i=jk(null,t,r,e,i,n);var s=Uk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hs(r)?(s=!0,vw(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$k(t),i.updater=tx,t.stateNode=i,i._reactInternals=t,u2(t,r,e,n),t=f2(null,t,r,!0,s,n)):(t.tag=0,lr&&s&&Ck(t),cs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=whe(r),e=va(r,e),i){case 0:t=c2(null,t,r,e,n);break e;case 1:t=C4(null,t,r,e,n);break e;case 11:t=I4(null,t,r,e,n);break e;case 14:t=A4(null,t,r,va(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),c2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),C4(e,t,r,i,n);case 3:e:{if(RW(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,tW(e,t),Sw(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=rm(Error(Ne(423)),t),t=O4(e,t,r,n,i);break e}else if(r!==i){i=rm(Error(Ne(424)),t),t=O4(e,t,r,n,i);break e}else for(ho=qc(t.stateNode.containerInfo.firstChild),go=t,lr=!0,Ea=null,n=sW(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(em(),r===i){t=$l(e,t,n);break e}cs(e,t,r,n)}t=t.child}return t;case 5:return oW(t),e===null&&s2(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,e2(r,i)?o=null:s!==null&&e2(r,s)&&(t.flags|=32),PW(e,t),cs(e,t,o,n),t.child;case 6:return e===null&&s2(t),null;case 13:return NW(e,t,n);case 4:return Lk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tm(t,null,r,n):cs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),I4(e,t,r,i,n);case 7:return cs(e,t,t.pendingProps,n),t.child;case 8:return cs(e,t,t.pendingProps.children,n),t.child;case 12:return cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Wn(Ew,r._currentValue),r._currentValue=o,s!==null)if(La(s.value,o)){if(s.children===i.children&&!zs.current){t=$l(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Tl(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),o2(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),o2(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}cs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cp(t,n),i=Xo(i),r=r(i),t.flags|=1,cs(e,t,r,n),t.child;case 14:return r=t.type,i=va(r,t.pendingProps),i=va(r.type,i),A4(e,t,r,i,n);case 15:return CW(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),vb(e,t),t.tag=1,Hs(r)?(e=!0,vw(t)):e=!1,Cp(t,n),rW(t,r,i),u2(t,r,i,n),f2(null,t,r,!0,e,n);case 19:return kW(e,t,n);case 22:return OW(e,t,n)}throw Error(Ne(156,t.tag))};function KW(e,t){return wq(e,t)}function bhe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qo(e,t,n,r){return new bhe(e,t,n,r)}function Xk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function whe(e){if(typeof e=="function")return Xk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gk)return 11;if(e===yk)return 14}return 2}function Kc(e,t){var n=e.alternate;return n===null?(n=qo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eb(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Xk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tp:return Pd(n.children,i,s,t);case mk:o=8,i|=8;break;case NP:return e=qo(12,n,t,i|2),e.elementType=NP,e.lanes=s,e;case kP:return e=qo(13,n,t,i),e.elementType=kP,e.lanes=s,e;case DP:return e=qo(19,n,t,i),e.elementType=DP,e.lanes=s,e;case iq:return sx(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nq:o=10;break e;case rq:o=9;break e;case gk:o=11;break e;case yk:o=14;break e;case bc:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=qo(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Pd(e,t,n,r){return e=qo(7,e,r,t),e.lanes=n,e}function sx(e,t,n,r){return e=qo(22,e,r,t),e.elementType=iq,e.lanes=n,e.stateNode={isHidden:!1},e}function fC(e,t,n){return e=qo(6,e,null,t),e.lanes=n,e}function dC(e,t,n){return t=qo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ehe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=WA(0),this.expirationTimes=WA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jk(e,t,n,r,i,s,o,a,u){return e=new Ehe(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$k(s),e}function The(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ep,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QW(e){if(!e)return cf;e=e._reactInternals;e:{if(ch(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(Hs(n))return Kq(e,n,t)}return t}function XW(e,t,n,r,i,s,o,a,u){return e=Jk(n,r,!0,e,i,s,o,a,u),e.context=QW(null),n=e.current,r=hs(),i=Gc(n),s=Tl(r,i),s.callback=t??null,Wc(n,s,i),e.current.lanes=i,$_(e,i,r),qs(e,r),e}function ox(e,t,n,r){var i=t.current,s=hs(),o=Gc(i);return n=QW(n),t.context===null?t.context=n:t.pendingContext=n,t=Tl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wc(i,t,o),e!==null&&(Na(e,i,o,s),gb(e,i,o)),o}function Nw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function B4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zk(e,t){B4(e,t),(e=e.alternate)&&B4(e,t)}function She(){return null}var JW=typeof reportError=="function"?reportError:function(e){console.error(e)};function eD(e){this._internalRoot=e}ax.prototype.render=eD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));ox(e,t,null,null)};ax.prototype.unmount=eD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zd(function(){ox(null,e,null,null)}),t[kl]=null}};function ax(e){this._internalRoot=e}ax.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cq();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ic.length&&t!==0&&t<Ic[n].priority;n++);Ic.splice(n,0,e),n===0&&Pq(e)}};function tD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ux(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function j4(){}function xhe(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Nw(o);s.call(l)}}var o=XW(t,r,e,0,null,!1,!1,"",j4);return e._reactRootContainer=o,e[kl]=o.current,xy(e.nodeType===8?e.parentNode:e),zd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Nw(u);a.call(l)}}var u=Jk(e,0,!1,null,null,!1,!1,"",j4);return e._reactRootContainer=u,e[kl]=u.current,xy(e.nodeType===8?e.parentNode:e),zd(function(){ox(t,u,n,r)}),u}function lx(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Nw(o);a.call(u)}}ox(t,o,e,i)}else o=xhe(n,t,e,i,r);return Nw(o)}Iq=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=h0(t.pendingLanes);n!==0&&(bk(t,n|1),qs(t,Dr()),!(pn&6)&&(im=Dr()+500,Nf()))}break;case 13:zd(function(){var r=Dl(e,1);if(r!==null){var i=hs();Na(r,e,1,i)}}),Zk(e,1)}};wk=function(e){if(e.tag===13){var t=Dl(e,134217728);if(t!==null){var n=hs();Na(t,e,134217728,n)}Zk(e,134217728)}};Aq=function(e){if(e.tag===13){var t=Gc(e),n=Dl(e,t);if(n!==null){var r=hs();Na(n,e,t,r)}Zk(e,t)}};Cq=function(){return Rn};Oq=function(e,t){var n=Rn;try{return Rn=e,t()}finally{Rn=n}};HP=function(e,t,n){switch(t){case"input":if(MP(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ZS(r);if(!i)throw Error(Ne(90));oq(r),MP(r,i)}}}break;case"textarea":uq(e,n);break;case"select":t=n.value,t!=null&&Sp(e,!!n.multiple,t,!1)}};mq=Gk;gq=zd;var Ihe={usingClientEntryPoint:!1,Events:[M_,sp,ZS,hq,pq,Gk]},Lg={findFiberByHostInstance:dd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ahe={bundleType:Lg.bundleType,version:Lg.version,rendererPackageName:Lg.rendererPackageName,rendererConfig:Lg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ec.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vq(e),e===null?null:e.stateNode},findFiberByHostInstance:Lg.findFiberByHostInstance||She,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s1.isDisabled&&s1.supportsFiber)try{KS=s1.inject(Ahe),Tu=s1}catch{}}So.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ihe;So.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tD(t))throw Error(Ne(200));return The(e,t,null,n)};So.createRoot=function(e,t){if(!tD(e))throw Error(Ne(299));var n=!1,r="",i=JW;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Jk(e,1,!1,null,null,n,!1,r,i),e[kl]=t.current,xy(e.nodeType===8?e.parentNode:e),new eD(t)};So.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=vq(t),e=e===null?null:e.stateNode,e};So.flushSync=function(e){return zd(e)};So.hydrate=function(e,t,n){if(!ux(t))throw Error(Ne(200));return lx(null,e,t,!0,n)};So.hydrateRoot=function(e,t,n){if(!tD(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=JW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=XW(t,null,e,1,n??null,i,!1,s,o),e[kl]=t.current,xy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ax(t)};So.render=function(e,t,n){if(!ux(t))throw Error(Ne(200));return lx(null,e,t,!1,n)};So.unmountComponentAtNode=function(e){if(!ux(e))throw Error(Ne(40));return e._reactRootContainer?(zd(function(){lx(null,null,e,!1,function(){e._reactRootContainer=null,e[kl]=null})}),!0):!1};So.unstable_batchedUpdates=Gk;So.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ux(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return lx(e,t,n,!1,r)};So.version="18.2.0-next-9e3b772b8-20220608";function ZW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZW)}catch(e){console.error(e)}}ZW(),XH.exports=So;var fh=XH.exports,U4=fh;PP.createRoot=U4.createRoot,PP.hydrateRoot=U4.hydrateRoot;const eY=E.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),kf=()=>E.useContext(eY);function Che({children:e}){const[t,n]=N.useState(void 0),r=N.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return O.jsx(eY.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(this,arguments)}var Mc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mc||(Mc={}));const V4="popstate";function Ohe(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return T2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tY(i)}return Rhe(t,n,null,e)}function Wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Phe(){return Math.random().toString(36).substr(2,8)}function z4(e,t){return{usr:e.state,key:e.key,idx:t}}function T2(e,t,n,r){return n===void 0&&(n=null),Dy({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vm(t):t,{state:n,key:t&&t.key||r||Phe()})}function tY(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Rhe(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Mc.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Dy({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Mc.Pop;let y=c(),m=y==null?null:y-l;l=y,u&&u({action:a,location:g.location,delta:m})}function d(y,m){a=Mc.Push;let _=T2(g.location,y,m);n&&n(_,y),l=c()+1;let v=z4(_,l),T=g.createHref(_);try{o.pushState(v,"",T)}catch{i.location.assign(T)}s&&u&&u({action:a,location:g.location,delta:1})}function h(y,m){a=Mc.Replace;let _=T2(g.location,y,m);n&&n(_,y),l=c();let v=z4(_,l),T=g.createHref(_);o.replaceState(v,"",T),s&&u&&u({action:a,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:tY(y);return Wr(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let g={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(V4,f),u=y,()=>{i.removeEventListener(V4,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(y){return o.go(y)}};return g}var H4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(H4||(H4={}));function Nhe(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Vm(t):t,i=iY(r.pathname||"/",n);if(i==null)return null;let s=nY(e);khe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Vhe(s[a],qhe(i));return o}function nY(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Wr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Qc([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Wr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),nY(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:jhe(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of rY(s.path))i(s,o,u)}),t}function rY(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rY(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function khe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Uhe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dhe=/^:\w+$/,$he=3,Lhe=2,Mhe=1,Fhe=10,Bhe=-2,q4=e=>e==="*";function jhe(e,t){let n=e.split("/"),r=n.length;return n.some(q4)&&(r+=Bhe),t&&(r+=Lhe),n.filter(i=>!q4(i)).reduce((i,s)=>i+(Dhe.test(s)?$he:s===""?Mhe:Fhe),r)}function Uhe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Vhe(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=zhe({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Qc([i,c.pathname]),pathnameBase:Khe(Qc([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Qc([i,c.pathnameBase]))}return s}function zhe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Hhe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=Whe(a[f]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:e}}function Hhe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function qhe(e){try{return decodeURI(e)}catch(t){return nD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Whe(e,t){try{return decodeURIComponent(e)}catch(n){return nD(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function iY(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Yhe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Vm(e):e;return{pathname:n?n.startsWith("/")?n:Ghe(n,t):t,search:Qhe(r),hash:Xhe(i)}}function Ghe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sY(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oY(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Vm(e):(i=Dy({},e),Wr(!i.pathname||!i.pathname.includes("?"),hC("?","pathname","search",i)),Wr(!i.pathname||!i.pathname.includes("#"),hC("#","pathname","hash",i)),Wr(!i.search||!i.search.includes("#"),hC("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=Yhe(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Qc=e=>e.join("/").replace(/\/\/+/g,"/"),Khe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qhe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xhe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jhe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aY=["post","put","patch","delete"];new Set(aY);const Zhe=["get",...aY];new Set(Zhe);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function epe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const tpe=typeof Object.is=="function"?Object.is:epe,{useState:npe,useEffect:rpe,useLayoutEffect:ipe,useDebugValue:spe}=Fd;function ope(e,t,n){const r=t(),[{inst:i},s]=npe({inst:{value:r,getSnapshot:t}});return ipe(()=>{i.value=r,i.getSnapshot=t,pC(i)&&s({inst:i})},[e,r,t]),rpe(()=>(pC(i)&&s({inst:i}),e(()=>{pC(i)&&s({inst:i})})),[e]),spe(r),r}function pC(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!tpe(n,r)}catch{return!0}}function ape(e,t,n){return t()}const upe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lpe=!upe,cpe=lpe?ape:ope;"useSyncExternalStore"in Fd&&(e=>e.useSyncExternalStore)(Fd);const uY=E.createContext(null),rD=E.createContext(null),cx=E.createContext(null),fx=E.createContext(null),Df=E.createContext({outlet:null,matches:[]}),lY=E.createContext(null);function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S2.apply(this,arguments)}function fpe(e,t){let{relative:n}=t===void 0?{}:t;zm()||Wr(!1);let{basename:r,navigator:i}=E.useContext(cx),{hash:s,pathname:o,search:a}=ppe(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Qc([r,o])),i.createHref({pathname:u,search:a,hash:s})}function zm(){return E.useContext(fx)!=null}function Hm(){return zm()||Wr(!1),E.useContext(fx).location}function qm(){zm()||Wr(!1);let{basename:e,navigator:t}=E.useContext(cx),{matches:n}=E.useContext(Df),{pathname:r}=Hm(),i=JSON.stringify(sY(n).map(a=>a.pathnameBase)),s=E.useRef(!1);return E.useEffect(()=>{s.current=!0}),E.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let l=oY(a,JSON.parse(i),r,u.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:Qc([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,r])}const dpe=E.createContext(null);function hpe(e){let t=E.useContext(Df).outlet;return t&&E.createElement(dpe.Provider,{value:e},t)}function cY(){let{matches:e}=E.useContext(Df),t=e[e.length-1];return t?t.params:{}}function ppe(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=E.useContext(Df),{pathname:i}=Hm(),s=JSON.stringify(sY(r).map(o=>o.pathnameBase));return E.useMemo(()=>oY(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function fY(e,t){zm()||Wr(!1);let{navigator:n}=E.useContext(cx),r=E.useContext(rD),{matches:i}=E.useContext(Df),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Hm(),l;if(t){var c;let g=typeof t=="string"?Vm(t):t;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||Wr(!1),l=g}else l=u;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=Nhe(e,{pathname:d}),p=_pe(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Qc([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Qc([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return t&&p?E.createElement(fx.Provider,{value:{location:S2({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Mc.Pop}},p):p}function mpe(){let e=Epe(),t=Jhe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,s)}class gpe extends E.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement(Df.Provider,{value:this.props.routeContext},E.createElement(lY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ype(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(uY);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Df.Provider,{value:t},r)}function _pe(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Wr(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=null;n&&(o.route.ErrorBoundary?l=E.createElement(o.route.ErrorBoundary,null):o.route.errorElement?l=o.route.errorElement:l=E.createElement(mpe,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=s;return u?d=l:o.route.Component?d=E.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),E.createElement(ype,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?E.createElement(gpe,{location:n.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var W4;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(W4||(W4={}));var kw;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(kw||(kw={}));function vpe(e){let t=E.useContext(rD);return t||Wr(!1),t}function bpe(e){let t=E.useContext(Df);return t||Wr(!1),t}function wpe(e){let t=bpe(),n=t.matches[t.matches.length-1];return n.route.id||Wr(!1),n.route.id}function Epe(){var e;let t=E.useContext(lY),n=vpe(kw.UseRouteError),r=wpe(kw.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Tpe(e){let{to:t,replace:n,state:r,relative:i}=e;zm()||Wr(!1);let s=E.useContext(rD),o=qm();return E.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function Spe(e){return hpe(e.context)}function x2(e){Wr(!1)}function xpe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Mc.Pop,navigator:s,static:o=!1}=e;zm()&&Wr(!1);let a=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Vm(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=E.useMemo(()=>{let g=iY(l,a);return g==null?null:{location:{pathname:g,search:c,hash:f,state:d,key:h},navigationType:i}},[a,l,c,f,d,h,i]);return p==null?null:E.createElement(cx.Provider,{value:u},E.createElement(fx.Provider,{children:n,value:p}))}function Ipe(e){let{children:t,location:n}=e,r=E.useContext(uY),i=r&&!t?r.router.routes:I2(t);return fY(i,n)}var Y4;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Y4||(Y4={}));new Promise(()=>{});function I2(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let s=[...t,i];if(r.type===E.Fragment){n.push.apply(n,I2(r.props.children,s));return}r.type!==x2&&Wr(!1),!r.props.index||!r.props.children||Wr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=I2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Ape(e,t){let n=A2(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function Cpe(e){let{basename:t,children:n,window:r}=e,i=E.useRef();i.current==null&&(i.current=Ohe({window:r,v5Compat:!0}));let s=i.current,[o,a]=E.useState({action:s.action,location:s.location});return E.useLayoutEffect(()=>s.listen(a),[s]),E.createElement(xpe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var G4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(G4||(G4={}));var K4;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(K4||(K4={}));function iD(e){let t=E.useRef(A2(e)),n=E.useRef(!1),r=Hm(),i=E.useMemo(()=>Ape(r.search,n.current?null:t.current),[r.search]),s=qm(),o=E.useCallback((a,u)=>{const l=A2(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function Dw(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Ope(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Ppe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Rpe(e,t,n){return Dw(e,n)===Dw(t,n)}function Npe({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=Dw(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(g=>Rpe(a.currentTarget,g,e)),c=l.findIndex(g=>a.currentTarget===g),f=Ppe(c,l,r),d=Ope(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}function kpe(e,t,n){var r;return n?Array.from(((r=Dw(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function dY(e){const t=E.createContext(null);return[({children:i,value:s})=>N.createElement(t.Provider,{value:s},i),()=>{const i=E.useContext(t);if(i===null)throw new Error(e);return i}]}function Hd(e){return Array.isArray(e)?e:[e]}const Dpe=()=>{};function $pe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Dpe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function ml(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Lpe(){const[e,t]=E.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function hY({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function B_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==N.Fragment:!1}function pY(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=pY(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function mY(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=pY(t))&&(r&&(r+=" "),r+=n);return r}const Mpe={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function Fpe(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var Bpe=Object.defineProperty,Q4=Object.getOwnPropertySymbols,jpe=Object.prototype.hasOwnProperty,Upe=Object.prototype.propertyIsEnumerable,X4=(e,t,n)=>t in e?Bpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J4=(e,t)=>{for(var n in t||(t={}))jpe.call(t,n)&&X4(e,n,t[n]);if(Q4)for(var n of Q4(t))Upe.call(t,n)&&X4(e,n,t[n]);return e};function Vpe(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:J4({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:J4({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function j_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function sD(e){const t=j_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function gY(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function zpe(e,...t){return`linear-gradient(${e}deg, ${gY(t)})`}function Hpe(...e){return`radial-gradient(circle, ${gY(e)})`}function yY(e){const t=sD(e),n=j_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function oD(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function qpe(e){return t=>`@media (min-width: ${oD({size:t,sizes:e.breakpoints})}px)`}function Wpe(e){return t=>`@media (max-width: ${oD({size:t,sizes:e.breakpoints})-1}px)`}function Ype(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Gpe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function Kpe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function aD(e){return Ype(e)?Gpe(e):e.startsWith("rgb")?Kpe(e):{r:0,g:0,b:0,a:1}}function Hh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=aD(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Qpe(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function Xpe(e,t){const{r:n,g:r,b:i,a:s}=aD(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Jpe(e,t){const{r:n,g:r,b:i,a:s}=aD(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function Zpe(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function eme(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function tme(e){const t=sD(e),n=j_(e),r=yY(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=eme(s,e);switch(i){case"light":return{border:"transparent",background:Hh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Hh(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Hh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Hh(t(s,5,a,!1),.05):Hh(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function nme(e){return t=>{const n=j_(e)(t);return e.colors[e.primaryColor][n]}}function rme(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const ui={fontStyles:Fpe,themeColor:sD,focusStyles:Vpe,linearGradient:zpe,radialGradient:Hpe,smallerThan:Wpe,largerThan:qpe,rgba:Hh,size:oD,cover:Qpe,darken:Xpe,lighten:Jpe,radius:Zpe,variant:tme,primaryShade:j_,hover:rme,gradient:yY,primaryColor:nme};var ime=Object.defineProperty,sme=Object.defineProperties,ome=Object.getOwnPropertyDescriptors,Z4=Object.getOwnPropertySymbols,ame=Object.prototype.hasOwnProperty,ume=Object.prototype.propertyIsEnumerable,e5=(e,t,n)=>t in e?ime(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lme=(e,t)=>{for(var n in t||(t={}))ame.call(t,n)&&e5(e,n,t[n]);if(Z4)for(var n of Z4(t))ume.call(t,n)&&e5(e,n,t[n]);return e},cme=(e,t)=>sme(e,ome(t));function fme(e){return cme(lme({},e),{fn:{fontStyles:ui.fontStyles(e),themeColor:ui.themeColor(e),focusStyles:ui.focusStyles(e),largerThan:ui.largerThan(e),smallerThan:ui.smallerThan(e),radialGradient:ui.radialGradient,linearGradient:ui.linearGradient,gradient:ui.gradient(e),rgba:ui.rgba,size:ui.size,cover:ui.cover,lighten:ui.lighten,darken:ui.darken,primaryShade:ui.primaryShade(e),radius:ui.radius(e),variant:ui.variant(e),hover:ui.hover,primaryColor:ui.primaryColor(e)}})}const dme=["xs","sm","md","lg","xl"],hme={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:Mpe,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},_Y=fme(hme);function pme(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mme(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var gme=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mme(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=pme(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Gi="-ms-",$w="-moz-",Sn="-webkit-",vY="comm",uD="rule",lD="decl",yme="@import",bY="@keyframes",_me=Math.abs,dx=String.fromCharCode,vme=Object.assign;function bme(e,t){return Ci(e,0)^45?(((t<<2^Ci(e,0))<<2^Ci(e,1))<<2^Ci(e,2))<<2^Ci(e,3):0}function wY(e){return e.trim()}function wme(e,t){return(e=t.exec(e))?e[0]:e}function Cn(e,t,n){return e.replace(t,n)}function C2(e,t){return e.indexOf(t)}function Ci(e,t){return e.charCodeAt(t)|0}function $y(e,t,n){return e.slice(t,n)}function su(e){return e.length}function cD(e){return e.length}function o1(e,t){return t.push(e),e}function Eme(e,t){return e.map(t).join("")}var hx=1,sm=1,EY=0,Gs=0,Vr=0,Wm="";function px(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:hx,column:sm,length:o,return:""}}function Mg(e,t){return vme(px("",null,null,"",null,null,0),e,{length:-e.length},t)}function Tme(){return Vr}function Sme(){return Vr=Gs>0?Ci(Wm,--Gs):0,sm--,Vr===10&&(sm=1,hx--),Vr}function yo(){return Vr=Gs<EY?Ci(Wm,Gs++):0,sm++,Vr===10&&(sm=1,hx++),Vr}function xu(){return Ci(Wm,Gs)}function Tb(){return Gs}function U_(e,t){return $y(Wm,e,t)}function Ly(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TY(e){return hx=sm=1,EY=su(Wm=e),Gs=0,[]}function SY(e){return Wm="",e}function Sb(e){return wY(U_(Gs-1,O2(e===91?e+2:e===40?e+1:e)))}function xme(e){for(;(Vr=xu())&&Vr<33;)yo();return Ly(e)>2||Ly(Vr)>3?"":" "}function Ime(e,t){for(;--t&&yo()&&!(Vr<48||Vr>102||Vr>57&&Vr<65||Vr>70&&Vr<97););return U_(e,Tb()+(t<6&&xu()==32&&yo()==32))}function O2(e){for(;yo();)switch(Vr){case e:return Gs;case 34:case 39:e!==34&&e!==39&&O2(Vr);break;case 40:e===41&&O2(e);break;case 92:yo();break}return Gs}function Ame(e,t){for(;yo()&&e+Vr!==57;)if(e+Vr===84&&xu()===47)break;return"/*"+U_(t,Gs-1)+"*"+dx(e===47?e:yo())}function Cme(e){for(;!Ly(xu());)yo();return U_(e,Gs)}function Ome(e){return SY(xb("",null,null,null,[""],e=TY(e),0,[0],e))}function xb(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,g=1,y=1,m=1,_=0,v="",T=i,S=s,w=r,x=v;y;)switch(p=_,_=yo()){case 40:if(p!=108&&Ci(x,f-1)==58){C2(x+=Cn(Sb(_),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:x+=Sb(_);break;case 9:case 10:case 13:case 32:x+=xme(p);break;case 92:x+=Ime(Tb()-1,7);continue;case 47:switch(xu()){case 42:case 47:o1(Pme(Ame(yo(),Tb()),t,n),u);break;default:x+="/"}break;case 123*g:a[l++]=su(x)*m;case 125*g:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:h>0&&su(x)-f&&o1(h>32?n5(x+";",r,n,f-1):n5(Cn(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(o1(w=t5(x,t,n,l,c,i,a,v,T=[],S=[],f),s),_===123)if(c===0)xb(x,t,w,w,T,s,f,a,S);else switch(d===99&&Ci(x,3)===110?100:d){case 100:case 109:case 115:xb(e,w,w,r&&o1(t5(e,w,w,0,0,i,a,v,i,T=[],f),S),i,S,f,a,r?T:S);break;default:xb(x,w,w,w,[""],S,0,a,S)}}l=c=h=0,g=m=1,v=x="",f=o;break;case 58:f=1+su(x),h=p;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&Sme()==125)continue}switch(x+=dx(_),_*g){case 38:m=c>0?1:(x+="\f",-1);break;case 44:a[l++]=(su(x)-1)*m,m=1;break;case 64:xu()===45&&(x+=Sb(yo())),d=xu(),c=f=su(v=x+=Cme(Tb())),_++;break;case 45:p===45&&su(x)==2&&(g=0)}}return s}function t5(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=cD(d),p=0,g=0,y=0;p<r;++p)for(var m=0,_=$y(e,f+1,f=_me(g=o[p])),v=e;m<h;++m)(v=wY(g>0?d[m]+" "+_:Cn(_,/&\f/g,d[m])))&&(u[y++]=v);return px(e,t,n,i===0?uD:a,u,l,c)}function Pme(e,t,n){return px(e,t,n,vY,dx(Tme()),$y(e,2,-2),0)}function n5(e,t,n,r){return px(e,t,n,lD,$y(e,0,r),$y(e,r+1,-1),r)}function Pp(e,t){for(var n="",r=cD(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Rme(e,t,n,r){switch(e.type){case yme:case lD:return e.return=e.return||e.value;case vY:return"";case bY:return e.return=e.value+"{"+Pp(e.children,r)+"}";case uD:e.value=e.props.join(",")}return su(n=Pp(e.children,r))?e.return=e.value+"{"+n+"}":""}function Nme(e){var t=cD(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function kme(e){return function(t){t.root||(t=t.return)&&e(t)}}function Dme(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var $me=function(t,n,r){for(var i=0,s=0;i=s,s=xu(),i===38&&s===12&&(n[r]=1),!Ly(s);)yo();return U_(t,Gs)},Lme=function(t,n){var r=-1,i=44;do switch(Ly(i)){case 0:i===38&&xu()===12&&(n[r]=1),t[r]+=$me(Gs-1,n,r);break;case 2:t[r]+=Sb(i);break;case 4:if(i===44){t[++r]=xu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=dx(i)}while(i=yo());return t},Mme=function(t,n){return SY(Lme(TY(t),n))},r5=new WeakMap,Fme=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!r5.get(r))&&!i){r5.set(t,!0);for(var s=[],o=Mme(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},Bme=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function xY(e,t){switch(bme(e,t)){case 5103:return Sn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Sn+e+$w+e+Gi+e+e;case 6828:case 4268:return Sn+e+Gi+e+e;case 6165:return Sn+e+Gi+"flex-"+e+e;case 5187:return Sn+e+Cn(e,/(\w+).+(:[^]+)/,Sn+"box-$1$2"+Gi+"flex-$1$2")+e;case 5443:return Sn+e+Gi+"flex-item-"+Cn(e,/flex-|-self/,"")+e;case 4675:return Sn+e+Gi+"flex-line-pack"+Cn(e,/align-content|flex-|-self/,"")+e;case 5548:return Sn+e+Gi+Cn(e,"shrink","negative")+e;case 5292:return Sn+e+Gi+Cn(e,"basis","preferred-size")+e;case 6060:return Sn+"box-"+Cn(e,"-grow","")+Sn+e+Gi+Cn(e,"grow","positive")+e;case 4554:return Sn+Cn(e,/([^-])(transform)/g,"$1"+Sn+"$2")+e;case 6187:return Cn(Cn(Cn(e,/(zoom-|grab)/,Sn+"$1"),/(image-set)/,Sn+"$1"),e,"")+e;case 5495:case 3959:return Cn(e,/(image-set\([^]*)/,Sn+"$1$`$1");case 4968:return Cn(Cn(e,/(.+:)(flex-)?(.*)/,Sn+"box-pack:$3"+Gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sn+e+e;case 4095:case 3583:case 4068:case 2532:return Cn(e,/(.+)-inline(.+)/,Sn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(su(e)-1-t>6)switch(Ci(e,t+1)){case 109:if(Ci(e,t+4)!==45)break;case 102:return Cn(e,/(.+:)(.+)-([^]+)/,"$1"+Sn+"$2-$3$1"+$w+(Ci(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~C2(e,"stretch")?xY(Cn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ci(e,t+1)!==115)break;case 6444:switch(Ci(e,su(e)-3-(~C2(e,"!important")&&10))){case 107:return Cn(e,":",":"+Sn)+e;case 101:return Cn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sn+(Ci(e,14)===45?"inline-":"")+"box$3$1"+Sn+"$2$3$1"+Gi+"$2box$3")+e}break;case 5936:switch(Ci(e,t+11)){case 114:return Sn+e+Gi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Sn+e+Gi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Sn+e+Gi+Cn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Sn+e+Gi+e+e}return e}var jme=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case lD:t.return=xY(t.value,t.length);break;case bY:return Pp([Mg(t,{value:Cn(t.value,"@","@"+Sn)})],i);case uD:if(t.length)return Eme(t.props,function(s){switch(wme(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pp([Mg(t,{props:[Cn(s,/:(read-\w+)/,":"+$w+"$1")]})],i);case"::placeholder":return Pp([Mg(t,{props:[Cn(s,/:(plac\w+)/,":"+Sn+"input-$1")]}),Mg(t,{props:[Cn(s,/:(plac\w+)/,":"+$w+"$1")]}),Mg(t,{props:[Cn(s,/:(plac\w+)/,Gi+"input-$1")]})],i)}return""})}},Ume=[jme],Vme=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||Ume,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)s[y[m]]=!0;a.push(g)});var u,l=[Fme,Bme];{var c,f=[Rme,kme(function(g){c.insert(g)})],d=Nme(l.concat(i,f)),h=function(y){return Pp(Ome(y),d)};u=function(y,m,_,v){c=_,h(y?y+"{"+m.styles+"}":m.styles),v&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new gme({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};const IY=Vme;function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fr.apply(this,arguments)}var AY={exports:{}},kn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=typeof Symbol=="function"&&Symbol.for,fD=gi?Symbol.for("react.element"):60103,dD=gi?Symbol.for("react.portal"):60106,mx=gi?Symbol.for("react.fragment"):60107,gx=gi?Symbol.for("react.strict_mode"):60108,yx=gi?Symbol.for("react.profiler"):60114,_x=gi?Symbol.for("react.provider"):60109,vx=gi?Symbol.for("react.context"):60110,hD=gi?Symbol.for("react.async_mode"):60111,bx=gi?Symbol.for("react.concurrent_mode"):60111,wx=gi?Symbol.for("react.forward_ref"):60112,Ex=gi?Symbol.for("react.suspense"):60113,zme=gi?Symbol.for("react.suspense_list"):60120,Tx=gi?Symbol.for("react.memo"):60115,Sx=gi?Symbol.for("react.lazy"):60116,Hme=gi?Symbol.for("react.block"):60121,qme=gi?Symbol.for("react.fundamental"):60117,Wme=gi?Symbol.for("react.responder"):60118,Yme=gi?Symbol.for("react.scope"):60119;function Io(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fD:switch(e=e.type,e){case hD:case bx:case mx:case yx:case gx:case Ex:return e;default:switch(e=e&&e.$$typeof,e){case vx:case wx:case Sx:case Tx:case _x:return e;default:return t}}case dD:return t}}}function CY(e){return Io(e)===bx}kn.AsyncMode=hD;kn.ConcurrentMode=bx;kn.ContextConsumer=vx;kn.ContextProvider=_x;kn.Element=fD;kn.ForwardRef=wx;kn.Fragment=mx;kn.Lazy=Sx;kn.Memo=Tx;kn.Portal=dD;kn.Profiler=yx;kn.StrictMode=gx;kn.Suspense=Ex;kn.isAsyncMode=function(e){return CY(e)||Io(e)===hD};kn.isConcurrentMode=CY;kn.isContextConsumer=function(e){return Io(e)===vx};kn.isContextProvider=function(e){return Io(e)===_x};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fD};kn.isForwardRef=function(e){return Io(e)===wx};kn.isFragment=function(e){return Io(e)===mx};kn.isLazy=function(e){return Io(e)===Sx};kn.isMemo=function(e){return Io(e)===Tx};kn.isPortal=function(e){return Io(e)===dD};kn.isProfiler=function(e){return Io(e)===yx};kn.isStrictMode=function(e){return Io(e)===gx};kn.isSuspense=function(e){return Io(e)===Ex};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mx||e===bx||e===yx||e===gx||e===Ex||e===zme||typeof e=="object"&&e!==null&&(e.$$typeof===Sx||e.$$typeof===Tx||e.$$typeof===_x||e.$$typeof===vx||e.$$typeof===wx||e.$$typeof===qme||e.$$typeof===Wme||e.$$typeof===Yme||e.$$typeof===Hme)};kn.typeOf=Io;AY.exports=kn;var Gme=AY.exports,OY=Gme,Kme={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qme={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},PY={};PY[OY.ForwardRef]=Kme;PY[OY.Memo]=Qme;var Xme=!0;function Jme(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Zme=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Xme===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},RY=function(t,n,r){Zme(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function ege(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var tge={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nge=/[A-Z]|^ms/g,rge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NY=function(t){return t.charCodeAt(1)===45},i5=function(t){return t!=null&&typeof t!="boolean"},mC=Dme(function(e){return NY(e)?e:e.replace(nge,"-$&").toLowerCase()}),s5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(rge,function(r,i,s){return ou={name:i,styles:s,next:ou},i})}return tge[t]!==1&&!NY(t)&&typeof n=="number"&&n!==0?n+"px":n};function My(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ou={name:n.name,styles:n.styles,next:ou},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ou={name:r.name,styles:r.styles,next:ou},r=r.next;var i=n.styles+";";return i}return ige(e,t,n)}case"function":{if(e!==void 0){var s=ou,o=n(e);return ou=s,My(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function ige(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=My(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":i5(o)&&(r+=mC(s)+":"+s5(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)i5(o[a])&&(r+=mC(s)+":"+s5(s,o[a])+";");else{var u=My(e,t,o);switch(s){case"animation":case"animationName":{r+=mC(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var o5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ou,pD=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";ou=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=My(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=My(r,n,t[a]),i&&(s+=o[a]);o5.lastIndex=0;for(var u="",l;(l=o5.exec(s))!==null;)u+="-"+l[1];var c=ege(s)+u;return{name:c,styles:s,next:ou}},sge=Fd.useInsertionEffect?Fd.useInsertionEffect:!1,a5=sge||E.useLayoutEffect,kY=E.createContext(typeof HTMLElement<"u"?IY({key:"css"}):null);kY.Provider;var oge=function(t){return E.forwardRef(function(n,r){var i=E.useContext(kY);return t(n,i,r)})},age=E.createContext({}),uge=oge(function(e,t){var n=e.styles,r=pD([n],void 0,E.useContext(age)),i=E.useRef();return a5(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),a5(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&RY(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function DY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pD(t)}var lge=function(){var t=DY.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function $Y(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var cge=Object.defineProperty,u5=Object.getOwnPropertySymbols,fge=Object.prototype.hasOwnProperty,dge=Object.prototype.propertyIsEnumerable,l5=(e,t,n)=>t in e?cge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gC=(e,t)=>{for(var n in t||(t={}))fge.call(t,n)&&l5(e,n,t[n]);if(u5)for(var n of u5(t))dge.call(t,n)&&l5(e,n,t[n]);return e};const LY=E.createContext({theme:_Y});function Fi(){var e;return((e=E.useContext(LY))==null?void 0:e.theme)||_Y}function hge(e){const t=Fi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function MY(){var e;return(e=E.useContext(LY))==null?void 0:e.emotionCache}function ft(e,t,n){var r;const s=(r=Fi().components[e])==null?void 0:r.defaultProps;return gC(gC(gC({},t),s),$Y(n))}const FY=E.createContext({classNames:{},styles:{},unstyled:!1});function BY({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return N.createElement(FY.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i}},e)}function V_(){return E.useContext(FY)}const pge={app:100,modal:200,popover:300,overlay:400,max:9999};function Ao(e){return pge[e]}function mge(e,t){const n=E.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const gge=IY({key:"mantine",prepend:!0});function yge(){return MY()||gge}var _ge=Object.defineProperty,c5=Object.getOwnPropertySymbols,vge=Object.prototype.hasOwnProperty,bge=Object.prototype.propertyIsEnumerable,f5=(e,t,n)=>t in e?_ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wge=(e,t)=>{for(var n in t||(t={}))vge.call(t,n)&&f5(e,n,t[n]);if(c5)for(var n of c5(t))bge.call(t,n)&&f5(e,n,t[n]);return e};const yC="ref";function Ege(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(yC in n))return{args:e,ref:t};t=n[yC];const r=wge({},n);return delete r[yC],{args:[r],ref:t}}const{cssFactory:Tge}=(()=>{function e(n,r,i){const s=[],o=Jme(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=Ege(o),l=pD(u,r.registered);return RY(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,mY(o))}}return{cssFactory:t}})();function jY(){const e=yge();return mge(()=>Tge({cache:e}),[e])}function Sge({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var xge=Object.defineProperty,d5=Object.getOwnPropertySymbols,Ige=Object.prototype.hasOwnProperty,Age=Object.prototype.propertyIsEnumerable,h5=(e,t,n)=>t in e?xge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_C=(e,t)=>{for(var n in t||(t={}))Ige.call(t,n)&&h5(e,n,t[n]);if(d5)for(var n of d5(t))Age.call(t,n)&&h5(e,n,t[n]);return e};function Cge(e){return`__mantine-ref-${e||""}`}function p5(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=_C(_C({},i[o]),s[o]):i[o]=_C({},s[o])}),i),{}):r(e)}function lt(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Fi(),o=hge(i==null?void 0:i.name),a=MY(),{css:u,cx:l}=jY(),c=t(s,r,Cge),f=p5(i==null?void 0:i.styles,s,r),d=p5(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const g=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,g]}));return{classes:Sge({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function UY({styles:e}){const t=Fi();return N.createElement(uge,{styles:DY(typeof e=="function"?e(t):e)})}var Oge=Object.defineProperty,Pge=Object.defineProperties,Rge=Object.getOwnPropertyDescriptors,m5=Object.getOwnPropertySymbols,Nge=Object.prototype.hasOwnProperty,kge=Object.prototype.propertyIsEnumerable,g5=(e,t,n)=>t in e?Oge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fg=(e,t)=>{for(var n in t||(t={}))Nge.call(t,n)&&g5(e,n,t[n]);if(m5)for(var n of m5(t))kge.call(t,n)&&g5(e,n,t[n]);return e},Bg=(e,t)=>Pge(e,Rge(t));const jg={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},a1={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:Bg(Fg({},jg),{common:{transformOrigin:"center center"}}),"pop-bottom-left":Bg(Fg({},jg),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":Bg(Fg({},jg),{common:{transformOrigin:"bottom right"}}),"pop-top-left":Bg(Fg({},jg),{common:{transformOrigin:"top left"}}),"pop-top-right":Bg(Fg({},jg),{common:{transformOrigin:"top right"}})},y5=["mousedown","touchstart"];function Dge(e,t,n){const r=E.useRef();return E.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o);n.every(l=>!!l&&!l.contains(o))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||y5).forEach(s=>document.addEventListener(s,i)),()=>{(t||y5).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function $ge(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Lge(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Mge(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=E.useState(n?!1:Lge(e,t)),s=E.useRef();return E.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),$ge(s.current,o=>i(o.matches))},[e]),r}function Xc(e,t,n){return Math.min(Math.max(e,t),n)}const mD=typeof document<"u"?E.useLayoutEffect:E.useEffect;function ps(e,t){const n=E.useRef(!1);E.useEffect(()=>()=>{n.current=!1},[]),E.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function VY({opened:e,shouldReturnFocus:t=!0}){const n=E.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return ps(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const Fge=/input|select|textarea|button|object/,zY="a, input, select, textarea, button, object, [tabindex]";function Bge(e){return e.style.display==="none"}function jge(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(Bge(n))return!1;n=n.parentNode}return!0}function HY(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function P2(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(HY(e));return(Fge.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&jge(e)}function qY(e){const t=HY(e);return(Number.isNaN(t)||t>=0)&&P2(e)}function Uge(e){return Array.from(e.querySelectorAll(zY)).filter(qY)}function Vge(e,t){const n=Uge(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function zge(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function WY(e=!0){const t=E.useRef(),n=E.useRef(null),r=E.useCallback(i=>{if(e&&i!==null&&(n.current=zge(i),t.current!==i))if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(zY));o=a.find(qY)||a.find(P2)||null,!o&&P2(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&s()}),t.current=i}else t.current=null},[e]);return E.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&Vge(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const Hge=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,qge=N.useId||(()=>{});function Wge(){const[e,t]=E.useState("");return mD(()=>{t(Hge())},[]),e}function Yge(){const e=qge();return e?`mantine-${e.replace(/:/g,"")}`:""}function qu(e){return typeof e=="string"?e:Yge()||Wge()}function R2(e,t,n){E.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function YY(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function GY(...e){return t=>{e.forEach(n=>YY(n,t))}}function na(...e){return E.useCallback(GY(...e),e)}function KY(e,t,n="ltr"){const r=E.useRef(),i=E.useRef(!1),s=E.useRef(!1),o=E.useRef(0),[a,u]=E.useState(!1);return E.useEffect(()=>{i.current=!0},[]),E.useEffect(()=>{const l=({x:_,y:v})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const S=Xc((_-T.left)/T.width,0,1);e({x:n==="ltr"?S:1-S,y:Xc((v-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=_=>{d(),g(_)},g=_=>l({x:_.clientX,y:_.clientY}),y=_=>{_.cancelable&&_.preventDefault(),d(),m(_)},m=_=>{_.cancelable&&_.preventDefault(),l({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function Zo({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=E.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function xx(e,t){return Mge("(prefers-reduced-motion: reduce)",e,t)}const Gge=e=>e<.5?2*e*e:-1+(4-2*e)*e,Kge=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},Qge=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},Xge=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function QY({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=Gge,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=E.useRef(0),u=E.useRef(0),l=E.useRef(!1),c=E.useRef(null),f=E.useRef(null),d=xx(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=E.useCallback(({alignment:y="start"}={})=>{var m;l.current=!1,a.current&&h();const _=(m=Qge({parent:c.current,axis:t}))!=null?m:0,v=Kge({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:_);function T(){u.current===0&&(u.current=performance.now());const w=performance.now()-u.current,x=d||e===0?1:w/e,A=_+v*r(x);Xge({parent:c.current,axis:t,distance:A}),!l.current&&x<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),g=()=>{s&&(l.current=!0)};return R2("wheel",g,{passive:!0}),R2("touchmove",g,{passive:!0}),E.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const Jge={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function V0(){const e=E.useRef(0),t=E.useRef(null),[n,r]=E.useState(Jge),i=E.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return E.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function Zge(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const e0e=({disableBodyPadding:e})=>{const t=e?null:Zge();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function t0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function n0e(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function r0e(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function i0e(e,t={disableBodyPadding:!1}){const[n,r]=E.useState(e||!1),i=E.useRef(0),{disableBodyPadding:s}=t,o=E.useRef(null),a=()=>{i.current=window.scrollY;const l=e0e({disableBodyPadding:s}),c=r0e();t0e(c,l),n0e(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return E.useEffect(()=>(n?a():u(),u),[n]),E.useEffect(()=>{e!==void 0&&r(e)},[e]),E.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var s0e=Object.defineProperty,o0e=Object.defineProperties,a0e=Object.getOwnPropertyDescriptors,_5=Object.getOwnPropertySymbols,u0e=Object.prototype.hasOwnProperty,l0e=Object.prototype.propertyIsEnumerable,v5=(e,t,n)=>t in e?s0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c0e=(e,t)=>{for(var n in t||(t={}))u0e.call(t,n)&&v5(e,n,t[n]);if(_5)for(var n of _5(t))l0e.call(t,n)&&v5(e,n,t[n]);return e},f0e=(e,t)=>o0e(e,a0e(t));function d0e(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return f0e(c0e({},n),{key:i})}function h0e(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function p0e(e){return t=>h0e(d0e(e),t)}function m0e(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i])=>{p0e(r)(n)&&(t.preventDefault(),i(n))})}}function g0e(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function y0e(){return typeof window<"u"?g0e():"undetermined"}function _0e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function v0e(e){const[t,n]=E.useState(e);return[t,_0e(n)]}function XY(e,t){const[n,r]=E.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},s=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:s,toggle:()=>{n?s():i()}}]}function b0e(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var b5=Object.getOwnPropertySymbols,w0e=Object.prototype.hasOwnProperty,E0e=Object.prototype.propertyIsEnumerable,T0e=(e,t)=>{var n={};for(var r in e)w0e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&b5)for(var r of b5(e))t.indexOf(r)<0&&E0e.call(e,r)&&(n[r]=e[r]);return n};function $f(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:_,ff:v,fz:T,fw:S,lts:w,ta:x,lh:A,fs:M,tt:D,td:$,w:q,miw:W,maw:V,h:de,mih:ae,mah:pe,bgsz:ee,bgp:ie,bgr:K,bga:I,pos:C,top:z,left:R,bottom:P,right:Y,inset:se,display:ue}=t,he=T0e(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:$Y({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:_,ff:v,fz:T,fw:S,lts:w,ta:x,lh:A,fs:M,tt:D,td:$,w:q,miw:W,maw:V,h:de,mih:ae,mah:pe,bgsz:ee,bgp:ie,bgr:K,bga:I,pos:C,top:z,left:R,bottom:P,right:Y,inset:se,display:ue}),rest:he}}function S0e(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function x0e({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return S0e(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function I0e(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function A0e(e){return e}function C0e(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const O0e=["-xs","-sm","-md","-lg","-xl"];function P0e(e,t){return O0e.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const R0e={color:I0e,default:A0e,fontSize:C0e,spacing:P0e},N0e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var k0e=Object.defineProperty,w5=Object.getOwnPropertySymbols,D0e=Object.prototype.hasOwnProperty,$0e=Object.prototype.propertyIsEnumerable,E5=(e,t,n)=>t in e?k0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T5=(e,t)=>{for(var n in t||(t={}))D0e.call(t,n)&&E5(e,n,t[n]);if(w5)for(var n of w5(t))$0e.call(t,n)&&E5(e,n,t[n]);return e};function N2(e,t,n=N0e){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(x0e({value:e[s],getValue:R0e[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=T5(T5({},i[o]),s[o]):i[o]=s[o]}),i),{})}function S5(e,t){return typeof e=="function"?e(t):e}function L0e(e,t,n){const r=Fi(),{css:i,cx:s}=jY();return Array.isArray(e)?s(n,i(N2(t,r)),e.map(o=>i(S5(o,r)))):s(n,i(S5(e,r)),i(N2(t,r)))}var M0e=Object.defineProperty,Lw=Object.getOwnPropertySymbols,JY=Object.prototype.hasOwnProperty,ZY=Object.prototype.propertyIsEnumerable,x5=(e,t,n)=>t in e?M0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F0e=(e,t)=>{for(var n in t||(t={}))JY.call(t,n)&&x5(e,n,t[n]);if(Lw)for(var n of Lw(t))ZY.call(t,n)&&x5(e,n,t[n]);return e},B0e=(e,t)=>{var n={};for(var r in e)JY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lw)for(var r of Lw(e))t.indexOf(r)<0&&ZY.call(e,r)&&(n[r]=e[r]);return n};const eG=E.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=B0e(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=$f(a),c=i||"div";return N.createElement(c,F0e({ref:t,className:L0e(o,u,r),style:s},l))});eG.displayName="@mantine/core/Box";const ut=eG;var j0e=Object.defineProperty,U0e=Object.defineProperties,V0e=Object.getOwnPropertyDescriptors,I5=Object.getOwnPropertySymbols,z0e=Object.prototype.hasOwnProperty,H0e=Object.prototype.propertyIsEnumerable,A5=(e,t,n)=>t in e?j0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C5=(e,t)=>{for(var n in t||(t={}))z0e.call(t,n)&&A5(e,n,t[n]);if(I5)for(var n of I5(t))H0e.call(t,n)&&A5(e,n,t[n]);return e},q0e=(e,t)=>U0e(e,V0e(t)),W0e=lt(e=>({root:q0e(C5(C5({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const Y0e=W0e;var G0e=Object.defineProperty,Mw=Object.getOwnPropertySymbols,tG=Object.prototype.hasOwnProperty,nG=Object.prototype.propertyIsEnumerable,O5=(e,t,n)=>t in e?G0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K0e=(e,t)=>{for(var n in t||(t={}))tG.call(t,n)&&O5(e,n,t[n]);if(Mw)for(var n of Mw(t))nG.call(t,n)&&O5(e,n,t[n]);return e},Q0e=(e,t)=>{var n={};for(var r in e)tG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Mw)for(var r of Mw(e))t.indexOf(r)<0&&nG.call(e,r)&&(n[r]=e[r]);return n};const rG=E.forwardRef((e,t)=>{const n=ft("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=Q0e(n,["className","component","unstyled"]),{classes:a,cx:u}=Y0e(null,{name:"UnstyledButton",unstyled:s});return N.createElement(ut,K0e({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});rG.displayName="@mantine/core/UnstyledButton";const Ix=rG;var X0e=Object.defineProperty,J0e=Object.defineProperties,Z0e=Object.getOwnPropertyDescriptors,Fw=Object.getOwnPropertySymbols,iG=Object.prototype.hasOwnProperty,sG=Object.prototype.propertyIsEnumerable,P5=(e,t,n)=>t in e?X0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pa=(e,t)=>{for(var n in t||(t={}))iG.call(t,n)&&P5(e,n,t[n]);if(Fw)for(var n of Fw(t))sG.call(t,n)&&P5(e,n,t[n]);return e},Ug=(e,t)=>J0e(e,Z0e(t)),eye=(e,t)=>{var n={};for(var r in e)iG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fw)for(var r of Fw(e))t.indexOf(r)<0&&sG.call(e,r)&&(n[r]=e[r]);return n};function tye(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function vC(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}function nye(e){return e!=null&&e.current?e.current.scrollWidth:"auto"}const Zu=typeof window<"u"&&window.requestAnimationFrame;function rye({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r,axis:i}){const s=E.useRef(null),o="0px",[a,u]=E.useState({}),l=y=>{fh.flushSync(()=>u(y))},c=y=>{l(m=>pa(pa({},m),y))};function f(y){const m=e||tye(y);return{transitionProperty:`${i==="x"?"width":"height"}`,transitionDuration:`${m}ms`,transitionTimingFunction:`${t}`}}const d=()=>{const y=a;l({});const m={width:nye(s),height:vC(s)};return l(y),m},h=()=>{const{height:y}=d();return{x:{height:y,width:"0px",overflow:"hidden"},y:{display:"none",height:"0px",overflow:"hidden"}}};E.useEffect(()=>{Zu(()=>{const{x:y,y:m}=h();i==="x"&&!r?l(pa({},y)):i==="y"&&!r&&l(pa({},m))})},[]),ps(()=>{i!=="x"&&Zu(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),Zu(()=>{const y=vC(s);c(Ug(pa({},f(y)),{height:y}))})}:()=>{const y=vC(s);c(Ug(pa({},f(y)),{willChange:"height",height:y})),Zu(()=>c({height:o,overflow:"hidden"}))})},[r]),ps(()=>{i!=="y"&&Zu(r?()=>{const{width:y}=d();c({display:"block",overflow:"hidden",willChange:"width",flexShrink:0}),Zu(()=>{c(Ug(pa({},f(y)),{width:y}))})}:()=>{const{width:y,height:m}=d();c(Ug(pa({},f(y)),{flexShrink:0,willChange:"width",width:y,height:m})),Zu(()=>c({width:"0px",overflow:"hidden"}))})},[r]);const p=y=>{if(!(y.target!==s.current||!(y.propertyName==="width"||!0)))if(n(),r)l({});else{const{x:m,y:_}=h();l(i==="x"?m:_)}};function g(y={}){var m=y,{style:_={},refKey:v="ref"}=m,T=eye(m,["style","refKey"]);const S=T[v];return Ug(pa({"aria-hidden":!r},T),{[v]:GY(s,S),onTransitionEnd:p,style:pa(pa({boxSizing:"border-box"},_),a)})}return g}var iye=Object.defineProperty,Bw=Object.getOwnPropertySymbols,oG=Object.prototype.hasOwnProperty,aG=Object.prototype.propertyIsEnumerable,R5=(e,t,n)=>t in e?iye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u1=(e,t)=>{for(var n in t||(t={}))oG.call(t,n)&&R5(e,n,t[n]);if(Bw)for(var n of Bw(t))aG.call(t,n)&&R5(e,n,t[n]);return e},sye=(e,t)=>{var n={};for(var r in e)oG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bw)for(var r of Bw(e))t.indexOf(r)<0&&aG.call(e,r)&&(n[r]=e[r]);return n};const oye={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0,axis:"y"},uG=E.forwardRef((e,t)=>{const n=ft("Collapse",oye,e),{children:r,in:i,transitionDuration:s,transitionTimingFunction:o,style:a,onTransitionEnd:u,animateOpacity:l,axis:c}=n,f=sye(n,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity","axis"]),d=Fi(),h=xx(),g=(d.respectReducedMotion?h:!1)?0:s,{systemStyles:y,rest:m}=$f(f),_=rye({opened:i,transitionDuration:g,transitionTimingFunction:o,onTransitionEnd:u,axis:c});return g===0?i?N.createElement(ut,u1({},m),r):null:N.createElement(ut,u1({},_(u1(u1({style:a,ref:t},m),y))),N.createElement("div",{style:{opacity:i||!l?1:0,transition:l?`opacity ${g}ms ${o}`:"none"}},r))});uG.displayName="@mantine/core/Collapse";var aye=Object.defineProperty,N5=Object.getOwnPropertySymbols,uye=Object.prototype.hasOwnProperty,lye=Object.prototype.propertyIsEnumerable,k5=(e,t,n)=>t in e?aye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cye=(e,t)=>{for(var n in t||(t={}))uye.call(t,n)&&k5(e,n,t[n]);if(N5)for(var n of N5(t))lye.call(t,n)&&k5(e,n,t[n]);return e};function fye(e){return N.createElement("svg",cye({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),N.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var dye=Object.defineProperty,hye=Object.defineProperties,pye=Object.getOwnPropertyDescriptors,D5=Object.getOwnPropertySymbols,mye=Object.prototype.hasOwnProperty,gye=Object.prototype.propertyIsEnumerable,$5=(e,t,n)=>t in e?dye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lG=(e,t)=>{for(var n in t||(t={}))mye.call(t,n)&&$5(e,n,t[n]);if(D5)for(var n of D5(t))gye.call(t,n)&&$5(e,n,t[n]);return e},yye=(e,t)=>hye(e,pye(t));const m0={xs:18,sm:22,md:28,lg:34,xl:44};function _ye({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:lG({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var vye=lt((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:yye(lG({},_ye({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:m0}),minHeight:e.fn.size({size:n,sizes:m0}),width:e.fn.size({size:n,sizes:m0}),minWidth:e.fn.size({size:n,sizes:m0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const bye=vye;var wye=Object.defineProperty,jw=Object.getOwnPropertySymbols,cG=Object.prototype.hasOwnProperty,fG=Object.prototype.propertyIsEnumerable,L5=(e,t,n)=>t in e?wye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eye=(e,t)=>{for(var n in t||(t={}))cG.call(t,n)&&L5(e,n,t[n]);if(jw)for(var n of jw(t))fG.call(t,n)&&L5(e,n,t[n]);return e},Tye=(e,t)=>{var n={};for(var r in e)cG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jw)for(var r of jw(e))t.indexOf(r)<0&&fG.call(e,r)&&(n[r]=e[r]);return n};function Sye(e){var t=e,{size:n,color:r}=t,i=Tye(t,["size","color"]);return N.createElement("svg",Eye({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),N.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var xye=Object.defineProperty,Uw=Object.getOwnPropertySymbols,dG=Object.prototype.hasOwnProperty,hG=Object.prototype.propertyIsEnumerable,M5=(e,t,n)=>t in e?xye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iye=(e,t)=>{for(var n in t||(t={}))dG.call(t,n)&&M5(e,n,t[n]);if(Uw)for(var n of Uw(t))hG.call(t,n)&&M5(e,n,t[n]);return e},Aye=(e,t)=>{var n={};for(var r in e)dG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Uw)for(var r of Uw(e))t.indexOf(r)<0&&hG.call(e,r)&&(n[r]=e[r]);return n};function Cye(e){var t=e,{size:n,color:r}=t,i=Aye(t,["size","color"]);return N.createElement("svg",Iye({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),N.createElement("g",{fill:"none",fillRule:"evenodd"},N.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},N.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),N.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},N.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var Oye=Object.defineProperty,Vw=Object.getOwnPropertySymbols,pG=Object.prototype.hasOwnProperty,mG=Object.prototype.propertyIsEnumerable,F5=(e,t,n)=>t in e?Oye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pye=(e,t)=>{for(var n in t||(t={}))pG.call(t,n)&&F5(e,n,t[n]);if(Vw)for(var n of Vw(t))mG.call(t,n)&&F5(e,n,t[n]);return e},Rye=(e,t)=>{var n={};for(var r in e)pG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vw)for(var r of Vw(e))t.indexOf(r)<0&&mG.call(e,r)&&(n[r]=e[r]);return n};function Nye(e){var t=e,{size:n,color:r}=t,i=Rye(t,["size","color"]);return N.createElement("svg",Pye({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),N.createElement("circle",{cx:"15",cy:"15",r:"15"},N.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},N.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("circle",{cx:"105",cy:"15",r:"15"},N.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var kye=Object.defineProperty,zw=Object.getOwnPropertySymbols,gG=Object.prototype.hasOwnProperty,yG=Object.prototype.propertyIsEnumerable,B5=(e,t,n)=>t in e?kye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dye=(e,t)=>{for(var n in t||(t={}))gG.call(t,n)&&B5(e,n,t[n]);if(zw)for(var n of zw(t))yG.call(t,n)&&B5(e,n,t[n]);return e},$ye=(e,t)=>{var n={};for(var r in e)gG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zw)for(var r of zw(e))t.indexOf(r)<0&&yG.call(e,r)&&(n[r]=e[r]);return n};const bC={bars:Sye,oval:Cye,dots:Nye},Lye={xs:18,sm:22,md:36,lg:44,xl:58},Mye={size:"md"};function dh(e){const t=ft("Loader",Mye,e),{size:n,color:r,variant:i}=t,s=$ye(t,["size","color","variant"]),o=Fi(),a=i in bC?i:o.loader;return N.createElement(ut,Dye({role:"presentation",component:bC[a]||bC.bars,size:o.fn.size({size:n,sizes:Lye}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}dh.displayName="@mantine/core/Loader";var Fye=Object.defineProperty,Hw=Object.getOwnPropertySymbols,_G=Object.prototype.hasOwnProperty,vG=Object.prototype.propertyIsEnumerable,j5=(e,t,n)=>t in e?Fye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U5=(e,t)=>{for(var n in t||(t={}))_G.call(t,n)&&j5(e,n,t[n]);if(Hw)for(var n of Hw(t))vG.call(t,n)&&j5(e,n,t[n]);return e},Bye=(e,t)=>{var n={};for(var r in e)_G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hw)for(var r of Hw(e))t.indexOf(r)<0&&vG.call(e,r)&&(n[r]=e[r]);return n};const jye={color:"gray",size:"md",variant:"subtle",loading:!1},bG=E.forwardRef((e,t)=>{const n=ft("ActionIcon",jye,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=Bye(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:y,theme:m}=bye({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),_=m.fn.variant({color:i,variant:u}),v=N.createElement(dh,U5({color:_.color,size:m.fn.size({size:a,sizes:m0})-12},f));return N.createElement(Ix,U5({className:y(g.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?v:s)});bG.displayName="@mantine/core/ActionIcon";const wG=bG;function EG(e){const{children:t,target:n,className:r}=ft("Portal",{},e),i=Fi(),[s,o]=E.useState(!1),a=E.useRef();return mD(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?fh.createPortal(N.createElement("div",{className:r,dir:i.dir},t),a.current):null}EG.displayName="@mantine/core/Portal";var Uye=Object.defineProperty,qw=Object.getOwnPropertySymbols,TG=Object.prototype.hasOwnProperty,SG=Object.prototype.propertyIsEnumerable,V5=(e,t,n)=>t in e?Uye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vye=(e,t)=>{for(var n in t||(t={}))TG.call(t,n)&&V5(e,n,t[n]);if(qw)for(var n of qw(t))SG.call(t,n)&&V5(e,n,t[n]);return e},zye=(e,t)=>{var n={};for(var r in e)TG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qw)for(var r of qw(e))t.indexOf(r)<0&&SG.call(e,r)&&(n[r]=e[r]);return n};function z_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=zye(t,["withinPortal","children"]);return n?N.createElement(EG,Vye({},i),r):N.createElement(N.Fragment,null,r)}z_.displayName="@mantine/core/OptionalPortal";var Hye=Object.defineProperty,qye=Object.defineProperties,Wye=Object.getOwnPropertyDescriptors,z5=Object.getOwnPropertySymbols,Yye=Object.prototype.hasOwnProperty,Gye=Object.prototype.propertyIsEnumerable,H5=(e,t,n)=>t in e?Hye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wC=(e,t)=>{for(var n in t||(t={}))Yye.call(t,n)&&H5(e,n,t[n]);if(z5)for(var n of z5(t))Gye.call(t,n)&&H5(e,n,t[n]);return e},q5=(e,t)=>qye(e,Wye(t));function Kye({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var Qye=lt((e,{color:t,radius:n,variant:r})=>({root:wC(q5(wC({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),Kye({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:q5(wC({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}}));const Xye=Qye;var Jye=Object.defineProperty,W5=Object.getOwnPropertySymbols,Zye=Object.prototype.hasOwnProperty,e_e=Object.prototype.propertyIsEnumerable,Y5=(e,t,n)=>t in e?Jye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t_e=(e,t)=>{for(var n in t||(t={}))Zye.call(t,n)&&Y5(e,n,t[n]);if(W5)for(var n of W5(t))e_e.call(t,n)&&Y5(e,n,t[n]);return e};function xG(e){return N.createElement("svg",t_e({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}xG.displayName="@mantine/core/CloseIcon";var n_e=Object.defineProperty,Ww=Object.getOwnPropertySymbols,IG=Object.prototype.hasOwnProperty,AG=Object.prototype.propertyIsEnumerable,G5=(e,t,n)=>t in e?n_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r_e=(e,t)=>{for(var n in t||(t={}))IG.call(t,n)&&G5(e,n,t[n]);if(Ww)for(var n of Ww(t))AG.call(t,n)&&G5(e,n,t[n]);return e},i_e=(e,t)=>{var n={};for(var r in e)IG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ww)for(var r of Ww(e))t.indexOf(r)<0&&AG.call(e,r)&&(n[r]=e[r]);return n};const s_e={xs:12,sm:14,md:16,lg:20,xl:24},o_e={size:"md"},CG=E.forwardRef((e,t)=>{const n=ft("CloseButton",o_e,e),{iconSize:r,size:i="md"}=n,s=i_e(n,["iconSize","size"]),o=Fi(),a=r||o.fn.size({size:i,sizes:s_e});return N.createElement(wG,r_e({size:i,ref:t},s),N.createElement(xG,{width:a,height:a}))});CG.displayName="@mantine/core/CloseButton";const Ax=CG;var a_e=Object.defineProperty,Yw=Object.getOwnPropertySymbols,OG=Object.prototype.hasOwnProperty,PG=Object.prototype.propertyIsEnumerable,K5=(e,t,n)=>t in e?a_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u_e=(e,t)=>{for(var n in t||(t={}))OG.call(t,n)&&K5(e,n,t[n]);if(Yw)for(var n of Yw(t))PG.call(t,n)&&K5(e,n,t[n]);return e},l_e=(e,t)=>{var n={};for(var r in e)OG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yw)for(var r of Yw(e))t.indexOf(r)<0&&PG.call(e,r)&&(n[r]=e[r]);return n};const c_e={variant:"light"},RG=E.forwardRef((e,t)=>{const n=ft("Alert",c_e,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:g,unstyled:y}=n,m=l_e(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:_,cx:v}=Xye({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=qu(r),S=s&&`${T}-title`,w=`${T}-body`;return N.createElement(ut,u_e({id:T,role:"alert","aria-labelledby":S,"aria-describedby":w,className:v(_.root,_[o],i),ref:t},m),N.createElement("div",{className:_.wrapper},c&&N.createElement("div",{className:_.icon},c),N.createElement("div",{className:_.body},s&&N.createElement("div",{className:_.title,"data-with-close-button":p||void 0},N.createElement("span",{id:S,className:_.label},s)),p&&N.createElement(Ax,{className:_.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":g}),N.createElement("div",{id:w,className:_.message},a))))});RG.displayName="@mantine/core/Alert";var f_e=Object.defineProperty,d_e=Object.defineProperties,h_e=Object.getOwnPropertyDescriptors,Q5=Object.getOwnPropertySymbols,p_e=Object.prototype.hasOwnProperty,m_e=Object.prototype.propertyIsEnumerable,X5=(e,t,n)=>t in e?f_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l1=(e,t)=>{for(var n in t||(t={}))p_e.call(t,n)&&X5(e,n,t[n]);if(Q5)for(var n of Q5(t))m_e.call(t,n)&&X5(e,n,t[n]);return e},g_e=(e,t)=>d_e(e,h_e(t));function y_e({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function __e({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function v_e(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var b_e=lt((e,{color:t,variant:n,size:r,lineClamp:i,inline:s,inherit:o,underline:a,gradient:u,weight:l,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:u});return{root:l1(g_e(l1(l1(l1({},e.fn.fontStyles()),e.fn.focusStyles()),v_e(i)),{color:__e({color:t,theme:e,variant:n}),fontFamily:o?"inherit":e.fontFamily,fontSize:o||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:o?"inherit":s?1:e.lineHeight,textDecoration:y_e({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const w_e=b_e;var E_e=Object.defineProperty,Gw=Object.getOwnPropertySymbols,NG=Object.prototype.hasOwnProperty,kG=Object.prototype.propertyIsEnumerable,J5=(e,t,n)=>t in e?E_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T_e=(e,t)=>{for(var n in t||(t={}))NG.call(t,n)&&J5(e,n,t[n]);if(Gw)for(var n of Gw(t))kG.call(t,n)&&J5(e,n,t[n]);return e},S_e=(e,t)=>{var n={};for(var r in e)NG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gw)for(var r of Gw(e))t.indexOf(r)<0&&kG.call(e,r)&&(n[r]=e[r]);return n};const x_e={variant:"text"},DG=E.forwardRef((e,t)=>{const n=ft("Text",x_e,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:g,italic:y,classNames:m,styles:_,unstyled:v,span:T}=n,S=S_e(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:w,cx:x}=w_e({variant:l,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:g,italic:y,weight:s,transform:o,align:u,gradient:f},{unstyled:v,name:"Text"});return N.createElement(ut,T_e({ref:t,className:x(w.root,{[w.gradient]:l==="gradient"},r),component:T?"span":"div"},S))});DG.displayName="@mantine/core/Text";const _t=DG;var I_e=lt(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const A_e=I_e;var C_e=Object.defineProperty,Kw=Object.getOwnPropertySymbols,$G=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,Z5=(e,t,n)=>t in e?C_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eF=(e,t)=>{for(var n in t||(t={}))$G.call(t,n)&&Z5(e,n,t[n]);if(Kw)for(var n of Kw(t))LG.call(t,n)&&Z5(e,n,t[n]);return e},O_e=(e,t)=>{var n={};for(var r in e)$G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Kw)for(var r of Kw(e))t.indexOf(r)<0&&LG.call(e,r)&&(n[r]=e[r]);return n};const P_e={},MG=E.forwardRef((e,t)=>{const n=ft("Anchor",P_e,e),{component:r,className:i,unstyled:s}=n,o=O_e(n,["component","className","unstyled"]),{classes:a,cx:u}=A_e(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return N.createElement(_t,eF(eF({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});MG.displayName="@mantine/core/Anchor";const FG=MG,BG=E.createContext({}),R_e=BG.Provider;function jG(){return E.useContext(BG)}function Cx(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var N_e=Object.defineProperty,k_e=Object.defineProperties,D_e=Object.getOwnPropertyDescriptors,tF=Object.getOwnPropertySymbols,$_e=Object.prototype.hasOwnProperty,L_e=Object.prototype.propertyIsEnumerable,nF=(e,t,n)=>t in e?N_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c1=(e,t)=>{for(var n in t||(t={}))$_e.call(t,n)&&nF(e,n,t[n]);if(tF)for(var n of tF(t))L_e.call(t,n)&&nF(e,n,t[n]);return e},rF=(e,t)=>k_e(e,D_e(t)),M_e=lt((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u})=>{const l=typeof n=="object"&&n!==null?Cx(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:rF(c1(c1(rF(c1(c1({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),l),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const F_e=M_e;var B_e=Object.defineProperty,Qw=Object.getOwnPropertySymbols,UG=Object.prototype.hasOwnProperty,VG=Object.prototype.propertyIsEnumerable,iF=(e,t,n)=>t in e?B_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sF=(e,t)=>{for(var n in t||(t={}))UG.call(t,n)&&iF(e,n,t[n]);if(Qw)for(var n of Qw(t))VG.call(t,n)&&iF(e,n,t[n]);return e},j_e=(e,t)=>{var n={};for(var r in e)UG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qw)for(var r of Qw(e))t.indexOf(r)<0&&VG.call(e,r)&&(n[r]=e[r]);return n};const gD=E.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a=Ao("app"),hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:g,__staticSelector:y,unstyled:m}=n,_=j_e(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const v=jG(),{classes:T,cx:S,theme:w}=F_e({width:r,height:i,fixed:v.fixed||s,position:o,hiddenBreakpoint:u,zIndex:v.zIndex||a,section:g,withBorder:c},{classNames:d,styles:h,name:y,unstyled:m}),x=Cx(r,w).reduce((A,[M,D])=>(A[`@media (min-width: ${M}px)`]={[`--mantine-${g}-width`]:`${D}px`},A),{});return N.createElement(ut,sF({component:g==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:S(T.root,f)},_),p,N.createElement(UY,{styles:()=>({":root":sF({[`--mantine-${g}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},x)})}))});gD.displayName="@mantine/core/HorizontalSection";var U_e=Object.defineProperty,Xw=Object.getOwnPropertySymbols,zG=Object.prototype.hasOwnProperty,HG=Object.prototype.propertyIsEnumerable,oF=(e,t,n)=>t in e?U_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V_e=(e,t)=>{for(var n in t||(t={}))zG.call(t,n)&&oF(e,n,t[n]);if(Xw)for(var n of Xw(t))HG.call(t,n)&&oF(e,n,t[n]);return e},z_e=(e,t)=>{var n={};for(var r in e)zG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xw)for(var r of Xw(e))t.indexOf(r)<0&&HG.call(e,r)&&(n[r]=e[r]);return n};const qG=E.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=z_e(n,["children","grow","sx"]);return N.createElement(ut,V_e({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Hd(s)]},o),r)});qG.displayName="@mantine/core/Section";const WG=qG;var H_e=Object.defineProperty,aF=Object.getOwnPropertySymbols,q_e=Object.prototype.hasOwnProperty,W_e=Object.prototype.propertyIsEnumerable,uF=(e,t,n)=>t in e?H_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y_e=(e,t)=>{for(var n in t||(t={}))q_e.call(t,n)&&uF(e,n,t[n]);if(aF)for(var n of aF(t))W_e.call(t,n)&&uF(e,n,t[n]);return e};const G_e={fixed:!1,position:{top:0,left:0},zIndex:Ao("app"),hiddenBreakpoint:"md",hidden:!1},z0=E.forwardRef((e,t)=>{const n=ft("Navbar",G_e,e);return N.createElement(gD,Y_e({section:"navbar",__staticSelector:"Navbar",ref:t},n))});z0.Section=WG;z0.displayName="@mantine/core/Navbar";var K_e=Object.defineProperty,Q_e=Object.defineProperties,X_e=Object.getOwnPropertyDescriptors,lF=Object.getOwnPropertySymbols,J_e=Object.prototype.hasOwnProperty,Z_e=Object.prototype.propertyIsEnumerable,cF=(e,t,n)=>t in e?K_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EC=(e,t)=>{for(var n in t||(t={}))J_e.call(t,n)&&cF(e,n,t[n]);if(lF)for(var n of lF(t))Z_e.call(t,n)&&cF(e,n,t[n]);return e},fF=(e,t)=>Q_e(e,X_e(t)),eve=lt((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s})=>{const o=typeof t=="object"&&t!==null?Cx(t,e).reduce((a,[u,l])=>(a[`@media (min-width: ${u}px)`]={height:l,minHeight:l},a),{}):null;return{root:fF(EC(fF(EC(EC({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),o),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const tve=eve;var nve=Object.defineProperty,Jw=Object.getOwnPropertySymbols,YG=Object.prototype.hasOwnProperty,GG=Object.prototype.propertyIsEnumerable,dF=(e,t,n)=>t in e?nve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hF=(e,t)=>{for(var n in t||(t={}))YG.call(t,n)&&dF(e,n,t[n]);if(Jw)for(var n of Jw(t))GG.call(t,n)&&dF(e,n,t[n]);return e},rve=(e,t)=>{var n={};for(var r in e)YG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jw)for(var r of Jw(e))t.indexOf(r)<0&&GG.call(e,r)&&(n[r]=e[r]);return n};const KG=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f=Ao("app"),section:d,unstyled:h,__staticSelector:p}=n,g=rve(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=jG(),{classes:m,cx:_,theme:v}=tve({height:a,fixed:y.fixed||u,position:c,zIndex:y.zIndex||f,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),T=typeof a=="object"&&a!==null?Cx(a,v).reduce((S,[w,x])=>(S[`@media (min-width: ${w}px)`]={[`--mantine-${d}-height`]:`${x}px`},S),{}):null;return N.createElement(ut,hF({component:d==="header"?"header":"footer",className:_(m.root,i),ref:t},g),r,N.createElement(UY,{styles:()=>({":root":hF({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},T)})}))});KG.displayName="@mantine/core/VerticalSection";var ive=Object.defineProperty,sve=Object.defineProperties,ove=Object.getOwnPropertyDescriptors,pF=Object.getOwnPropertySymbols,ave=Object.prototype.hasOwnProperty,uve=Object.prototype.propertyIsEnumerable,mF=(e,t,n)=>t in e?ive(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lve=(e,t)=>{for(var n in t||(t={}))ave.call(t,n)&&mF(e,n,t[n]);if(pF)for(var n of pF(t))uve.call(t,n)&&mF(e,n,t[n]);return e},cve=(e,t)=>sve(e,ove(t));const fve={fixed:!1,position:{top:0,left:0,right:0},zIndex:Ao("app")},QG=E.forwardRef((e,t)=>{const n=ft("Header",fve,e);return N.createElement(KG,cve(lve({section:"header",__staticSelector:"Header"},n),{ref:t}))});QG.displayName="@mantine/core/Header";var dve=Object.defineProperty,gF=Object.getOwnPropertySymbols,hve=Object.prototype.hasOwnProperty,pve=Object.prototype.propertyIsEnumerable,yF=(e,t,n)=>t in e?dve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mve=(e,t)=>{for(var n in t||(t={}))hve.call(t,n)&&yF(e,n,t[n]);if(gF)for(var n of gF(t))pve.call(t,n)&&yF(e,n,t[n]);return e};const gve={fixed:!1,position:{top:0,right:0},zIndex:Ao("app"),hiddenBreakpoint:"md",hidden:!1},yD=E.forwardRef((e,t)=>{const n=ft("Aside",gve,e);return N.createElement(gD,mve({section:"aside",__staticSelector:"Aside",ref:t},n))});yD.Section=WG;yD.displayName="@mantine/core/Aside";var yve=Object.defineProperty,_F=Object.getOwnPropertySymbols,_ve=Object.prototype.hasOwnProperty,vve=Object.prototype.propertyIsEnumerable,vF=(e,t,n)=>t in e?yve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bve=(e,t)=>{for(var n in t||(t={}))_ve.call(t,n)&&vF(e,n,t[n]);if(_F)for(var n of _F(t))vve.call(t,n)&&vF(e,n,t[n]);return e};function wve(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var Eve=lt((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:bve({flex:1,width:"100vw",boxSizing:"border-box"},wve(t,e))}));const Tve=Eve;var Sve=Object.defineProperty,Zw=Object.getOwnPropertySymbols,XG=Object.prototype.hasOwnProperty,JG=Object.prototype.propertyIsEnumerable,bF=(e,t,n)=>t in e?Sve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xve=(e,t)=>{for(var n in t||(t={}))XG.call(t,n)&&bF(e,n,t[n]);if(Zw)for(var n of Zw(t))JG.call(t,n)&&bF(e,n,t[n]);return e},Ive=(e,t)=>{var n={};for(var r in e)XG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zw)for(var r of Zw(e))t.indexOf(r)<0&&JG.call(e,r)&&(n[r]=e[r]);return n};const Ave={fixed:!0,zIndex:Ao("app"),padding:"md"},ZG=E.forwardRef((e,t)=>{const n=ft("AppShell",Ave,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:g,unstyled:y,hidden:m}=n,_=Ive(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:v,cx:T}=Tve({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:g,unstyled:y,name:"AppShell"});return m?N.createElement(N.Fragment,null,r):N.createElement(R_e,{value:{fixed:u,zIndex:l}},N.createElement(ut,xve({className:T(v.root,h),ref:t},_),s,N.createElement("div",{className:v.body},i,N.createElement("main",{className:v.main},r),a),o))});ZG.displayName="@mantine/core/AppShell";const f1={xs:1,sm:2,md:3,lg:4,xl:5};function d1(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var Cve=lt((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:f1})}px ${n} ${d1(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:f1})}px ${n} ${d1(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:f1}),borderTopColor:d1(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:f1}),borderLeftColor:d1(e,r),borderLeftStyle:n}}));const Ove=Cve;var Pve=Object.defineProperty,Rve=Object.defineProperties,Nve=Object.getOwnPropertyDescriptors,eE=Object.getOwnPropertySymbols,eK=Object.prototype.hasOwnProperty,tK=Object.prototype.propertyIsEnumerable,wF=(e,t,n)=>t in e?Pve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EF=(e,t)=>{for(var n in t||(t={}))eK.call(t,n)&&wF(e,n,t[n]);if(eE)for(var n of eE(t))tK.call(t,n)&&wF(e,n,t[n]);return e},kve=(e,t)=>Rve(e,Nve(t)),Dve=(e,t)=>{var n={};for(var r in e)eK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eE)for(var r of eE(e))t.indexOf(r)<0&&tK.call(e,r)&&(n[r]=e[r]);return n};const $ve={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},k2=E.forwardRef((e,t)=>{const n=ft("Divider",$ve,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=Dve(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:y}=Ove({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),m=s==="vertical",_=s==="horizontal",v=!!a&&_,T=!(l!=null&&l.color);return N.createElement(ut,EF({ref:t,className:y(g.root,{[g.vertical]:m,[g.horizontal]:_,[g.withLabel]:v},r),role:"separator"},p),v&&N.createElement(_t,kve(EF({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(g.label,g[u],{[g.labelDefaultStyles]:T})}),a))});k2.displayName="@mantine/core/Divider";var Lve=Object.defineProperty,Mve=Object.defineProperties,Fve=Object.getOwnPropertyDescriptors,TF=Object.getOwnPropertySymbols,Bve=Object.prototype.hasOwnProperty,jve=Object.prototype.propertyIsEnumerable,SF=(e,t,n)=>t in e?Lve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xF=(e,t)=>{for(var n in t||(t={}))Bve.call(t,n)&&SF(e,n,t[n]);if(TF)for(var n of TF(t))jve.call(t,n)&&SF(e,n,t[n]);return e},Uve=(e,t)=>Mve(e,Fve(t)),Vve=lt((e,{size:t})=>({item:Uve(xF({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":xF({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const zve=Vve;var Hve=Object.defineProperty,IF=Object.getOwnPropertySymbols,qve=Object.prototype.hasOwnProperty,Wve=Object.prototype.propertyIsEnumerable,AF=(e,t,n)=>t in e?Hve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yve=(e,t)=>{for(var n in t||(t={}))qve.call(t,n)&&AF(e,n,t[n]);if(IF)for(var n of IF(t))Wve.call(t,n)&&AF(e,n,t[n]);return e};function _D({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:g}){const{classes:y}=zve({size:f},{classNames:n,styles:r,unstyled:g,name:o}),m=[],_=[];let v=null;const T=(w,x)=>{const A=typeof i=="function"?i(w.value):!1;return N.createElement(c,Yve({key:w.value,className:y.item,"data-disabled":w.disabled||void 0,"data-hovered":!w.disabled&&t===x||void 0,"data-selected":!w.disabled&&A||void 0,onMouseEnter:()=>a(x),id:`${s}-${x}`,role:"option",tabIndex:-1,"aria-selected":t===x,ref:M=>{l&&l.current&&(l.current[w.value]=M)},onMouseDown:w.disabled?null:M=>{M.preventDefault(),u(w)},disabled:w.disabled},w))};let S=null;if(e.forEach((w,x)=>{w.creatable?v=x:w.group?(S!==w.group&&(S=w.group,_.push(N.createElement("div",{className:y.separator,key:`__mantine-divider-${x}`},N.createElement(k2,{classNames:{label:y.separatorLabel},label:w.group})))),_.push(T(w,x))):m.push(T(w,x))}),h){const w=e[v];m.push(N.createElement("div",{key:b0e(),className:y.item,"data-hovered":t===v||void 0,onMouseEnter:()=>a(v),onMouseDown:x=>{x.preventDefault(),u(w)},tabIndex:-1,ref:x=>{l&&l.current&&(l.current[w.value]=x)}},p))}return _.length>0&&m.length>0&&m.unshift(N.createElement("div",{className:y.separator,key:"empty-group-separator"},N.createElement(k2,null))),_.length>0||m.length>0?N.createElement(N.Fragment,null,_,m):N.createElement(_t,{size:f,unstyled:g,className:y.nothingFound},d)}_D.displayName="@mantine/core/SelectItems";var Gve=Object.defineProperty,tE=Object.getOwnPropertySymbols,nK=Object.prototype.hasOwnProperty,rK=Object.prototype.propertyIsEnumerable,CF=(e,t,n)=>t in e?Gve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kve=(e,t)=>{for(var n in t||(t={}))nK.call(t,n)&&CF(e,n,t[n]);if(tE)for(var n of tE(t))rK.call(t,n)&&CF(e,n,t[n]);return e},Qve=(e,t)=>{var n={};for(var r in e)nK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tE)for(var r of tE(e))t.indexOf(r)<0&&rK.call(e,r)&&(n[r]=e[r]);return n};const vD=E.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=Qve(n,["label","value"]);return N.createElement("div",Kve({ref:t},s),r||i)});vD.displayName="@mantine/core/DefaultItem";function Xve(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function iK(...e){return t=>e.forEach(n=>Xve(n,t))}function hh(...e){return E.useCallback(iK(...e),e)}const sK=E.forwardRef((e,t)=>{const{children:n,...r}=e,i=E.Children.toArray(n),s=i.find(Zve);if(s){const o=s.props.children,a=i.map(u=>u===s?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return E.createElement(D2,fr({},r,{ref:t}),E.isValidElement(o)?E.cloneElement(o,void 0,a):null)}return E.createElement(D2,fr({},r,{ref:t}),n)});sK.displayName="Slot";const D2=E.forwardRef((e,t)=>{const{children:n,...r}=e;return E.isValidElement(n)?E.cloneElement(n,{...e1e(r,n.props),ref:iK(t,n.ref)}):E.Children.count(n)>1?E.Children.only(null):null});D2.displayName="SlotClone";const Jve=({children:e})=>E.createElement(E.Fragment,null,e);function Zve(e){return E.isValidElement(e)&&e.type===Jve}function e1e(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{s==null||s(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const t1e=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],H_=t1e.reduce((e,t)=>{const n=E.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?sK:t;return E.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),E.createElement(a,fr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),$2=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{};function n1e(e,t){return E.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const q_=e=>{const{present:t,children:n}=e,r=r1e(t),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=hh(r.ref,i.ref);return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};q_.displayName="Presence";function r1e(e){const[t,n]=E.useState(),r=E.useRef({}),i=E.useRef(e),s=E.useRef("none"),o=e?"mounted":"unmounted",[a,u]=n1e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=h1(r.current);s.current=a==="mounted"?l:"none"},[a]),$2(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=h1(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),$2(()=>{if(t){const l=f=>{const h=h1(r.current).includes(f.animationName);f.target===t&&h&&fh.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=h1(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function h1(e){return(e==null?void 0:e.animationName)||"none"}function i1e(e,t=[]){let n=[];function r(s,o){const a=E.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][u])||a,y=E.useMemo(()=>p,Object.values(p));return E.createElement(g.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=E.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return E.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,s1e(i,...t)]}function s1e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function id(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const o1e=E.createContext(void 0);function a1e(e){const t=E.useContext(o1e);return e||t||"ltr"}function u1e(e,[t,n]){return Math.min(n,Math.max(t,e))}function Rd(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function l1e(e,t){return E.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const oK="ScrollArea",[aK,Rct]=i1e(oK),[c1e,ra]=aK(oK),f1e=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=E.useState(null),[l,c]=E.useState(null),[f,d]=E.useState(null),[h,p]=E.useState(null),[g,y]=E.useState(null),[m,_]=E.useState(0),[v,T]=E.useState(0),[S,w]=E.useState(!1),[x,A]=E.useState(!1),M=hh(t,$=>u($)),D=a1e(i);return E.createElement(c1e,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:S,onScrollbarXEnabledChange:w,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:x,onScrollbarYEnabledChange:A,onCornerWidthChange:_,onCornerHeightChange:T},E.createElement(H_.div,fr({dir:D},o,{ref:M,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})))}),d1e="ScrollAreaViewport",h1e=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ra(d1e,n),o=E.useRef(null),a=hh(t,o,s.onViewportChange);return E.createElement(E.Fragment,null,E.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),E.createElement(H_.div,fr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),E.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),tc="ScrollAreaScrollbar",p1e=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ra(tc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return E.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?E.createElement(m1e,fr({},r,{ref:t,forceMount:n})):i.type==="scroll"?E.createElement(g1e,fr({},r,{ref:t,forceMount:n})):i.type==="auto"?E.createElement(uK,fr({},r,{ref:t,forceMount:n})):i.type==="always"?E.createElement(bD,fr({},r,{ref:t})):null}),m1e=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ra(tc,e.__scopeScrollArea),[s,o]=E.useState(!1);return E.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),E.createElement(q_,{present:n||s},E.createElement(uK,fr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),g1e=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ra(tc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=Px(()=>u("SCROLL_END"),100),[a,u]=l1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),E.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),E.createElement(q_,{present:n||a!=="hidden"},E.createElement(bD,fr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Rd(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Rd(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),uK=E.forwardRef((e,t)=>{const n=ra(tc,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=E.useState(!1),a=e.orientation==="horizontal",u=Px(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return om(n.viewport,u),om(n.content,u),E.createElement(q_,{present:r||s},E.createElement(bD,fr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),bD=E.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ra(tc,e.__scopeScrollArea),s=E.useRef(null),o=E.useRef(0),[a,u]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=dK(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return S1e(d,o.current,a,h)}return n==="horizontal"?E.createElement(y1e,fr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=OF(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?E.createElement(_1e,fr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=OF(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),y1e=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ra(tc,e.__scopeScrollArea),[o,a]=E.useState(),u=E.useRef(null),l=hh(t,u,s.onScrollbarXChange);return E.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),E.createElement(cK,fr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ox(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),pK(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:nE(o.paddingLeft),paddingEnd:nE(o.paddingRight)}})}}))}),_1e=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ra(tc,e.__scopeScrollArea),[o,a]=E.useState(),u=E.useRef(null),l=hh(t,u,s.onScrollbarYChange);return E.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),E.createElement(cK,fr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ox(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),pK(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:nE(o.paddingTop),paddingEnd:nE(o.paddingBottom)}})}}))}),[v1e,lK]=aK(tc),cK=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=ra(tc,n),[p,g]=E.useState(null),y=hh(t,M=>g(M)),m=E.useRef(null),_=E.useRef(""),v=h.viewport,T=r.content-r.viewport,S=id(c),w=id(u),x=Px(f,10);function A(M){if(m.current){const D=M.clientX-m.current.left,$=M.clientY-m.current.top;l({x:D,y:$})}}return E.useEffect(()=>{const M=D=>{const $=D.target;(p==null?void 0:p.contains($))&&S(D,T)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[v,p,T,S]),E.useEffect(w,[r,w]),om(p,x),om(h.content,x),E.createElement(v1e,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:id(s),onThumbPointerUp:id(o),onThumbPositionChange:w,onThumbPointerDown:id(a)},E.createElement(H_.div,fr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:Rd(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),m.current=p.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(M))}),onPointerMove:Rd(e.onPointerMove,A),onPointerUp:Rd(e.onPointerUp,M=>{M.target.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=_.current,m.current=null})})))}),L2="ScrollAreaThumb",b1e=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=lK(L2,e.__scopeScrollArea);return E.createElement(q_,{present:n||i.hasThumb},E.createElement(w1e,fr({ref:t},r)))}),w1e=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ra(L2,n),o=lK(L2,n),{onThumbPositionChange:a}=o,u=hh(t,f=>o.onThumbChange(f)),l=E.useRef(),c=Px(()=>{l.current&&(l.current(),l.current=void 0)},100);return E.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=x1e(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),E.createElement(H_.div,fr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Rd(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:Rd(e.onPointerUp,o.onThumbPointerUp)}))}),fK="ScrollAreaCorner",E1e=E.forwardRef((e,t)=>{const n=ra(fK,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.createElement(T1e,fr({},e,{ref:t})):null}),T1e=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ra(fK,n),[s,o]=E.useState(0),[a,u]=E.useState(0),l=!!(s&&a);return om(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),om(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?E.createElement(H_.div,fr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function nE(e){return e?parseInt(e,10):0}function dK(e,t){const n=e/t;return isNaN(n)?0:n}function Ox(e){const t=dK(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function S1e(e,t,n,r="ltr"){const i=Ox(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return hK([u,l],f)(e)}function OF(e,t,n="ltr"){const r=Ox(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=u1e(e,u);return hK([0,o],[0,a])(l)}function hK(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function pK(e,t){return e>0&&e<t}const x1e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Px(e,t){const n=id(e),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function om(e,t){const n=id(t);$2(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const I1e=f1e,A1e=h1e,PF=p1e,RF=b1e,C1e=E1e;var O1e=lt((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const P1e=O1e;var R1e=Object.defineProperty,N1e=Object.defineProperties,k1e=Object.getOwnPropertyDescriptors,rE=Object.getOwnPropertySymbols,mK=Object.prototype.hasOwnProperty,gK=Object.prototype.propertyIsEnumerable,NF=(e,t,n)=>t in e?R1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yK=(e,t)=>{for(var n in t||(t={}))mK.call(t,n)&&NF(e,n,t[n]);if(rE)for(var n of rE(t))gK.call(t,n)&&NF(e,n,t[n]);return e},D1e=(e,t)=>N1e(e,k1e(t)),_K=(e,t)=>{var n={};for(var r in e)mK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rE)for(var r of rE(e))t.indexOf(r)<0&&gK.call(e,r)&&(n[r]=e[r]);return n};const vK={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},Rx=E.forwardRef((e,t)=>{const n=ft("ScrollArea",vK,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,g=_K(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[y,m]=E.useState(!1),_=Fi(),{classes:v,cx:T}=P1e({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:y,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return N.createElement(I1e,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},N.createElement(ut,yK({className:T(v.root,i)},g),N.createElement(A1e,{className:v.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:S})=>h({x:S.scrollLeft,y:S.scrollTop}):void 0},r),N.createElement(PF,{orientation:"horizontal",className:v.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},N.createElement(RF,{className:v.thumb})),N.createElement(PF,{orientation:"vertical",className:v.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},N.createElement(RF,{className:v.thumb})),N.createElement(C1e,{className:v.corner})))}),bK=E.forwardRef((e,t)=>{const n=ft("ScrollAreaAutosize",vK,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:g}=n,y=_K(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return N.createElement(ut,D1e(yK({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Hd(g)]}),N.createElement(ut,{sx:{display:"flex",flexDirection:"column",flex:1}},N.createElement(Rx,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});bK.displayName="@mantine/core/ScrollAreaAutosize";Rx.displayName="@mantine/core/ScrollArea";Rx.Autosize=bK;const wK=Rx;var $1e=Object.defineProperty,L1e=Object.defineProperties,M1e=Object.getOwnPropertyDescriptors,iE=Object.getOwnPropertySymbols,EK=Object.prototype.hasOwnProperty,TK=Object.prototype.propertyIsEnumerable,kF=(e,t,n)=>t in e?$1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DF=(e,t)=>{for(var n in t||(t={}))EK.call(t,n)&&kF(e,n,t[n]);if(iE)for(var n of iE(t))TK.call(t,n)&&kF(e,n,t[n]);return e},F1e=(e,t)=>L1e(e,M1e(t)),B1e=(e,t)=>{var n={};for(var r in e)EK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iE)for(var r of iE(e))t.indexOf(r)<0&&TK.call(e,r)&&(n[r]=e[r]);return n};const Nx=E.forwardRef((e,t)=>{var n=e,{style:r}=n,i=B1e(n,["style"]);return N.createElement(wK,F1e(DF({},i),{style:DF({width:"100%"},r),viewportRef:t}),i.children)});Nx.displayName="@mantine/core/SelectScrollArea";var j1e=lt(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const U1e=j1e;function Ll(e){return e.split("-")[0]}function W_(e){return e.split("-")[1]}function ph(e){return["top","bottom"].includes(Ll(e))?"x":"y"}function wD(e){return e==="y"?"height":"width"}function $F(e,t,n){let{reference:r,floating:i}=e;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=ph(t),u=wD(a),l=r[u]/2-i[u]/2,c=a==="x";let f;switch(Ll(t)){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(W_(t)){case"start":f[a]-=l*(n&&c?-1:1);break;case"end":f[a]+=l*(n&&c?-1:1)}return f}const V1e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=$F(l,r,u),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:m}=a[g],{x:_,y:v,data:T,reset:S}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=_??c,f=v??f,h={...h,[y]:{...h[y],...T}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:f}=$F(l,d,u)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function ED(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Fy(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function TD(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=ED(h),g=a[d?f==="floating"?"reference":"floating":f],y=Fy(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),m=Fy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:u}):o[f]);return{top:y.top-m.top+p.top,bottom:m.bottom-y.bottom+p.bottom,left:y.left-m.left+p.left,right:m.right-y.right+p.right}}const SK=Math.min,Ec=Math.max;function M2(e,t,n){return Ec(e,SK(t,n))}const LF=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:s,placement:o,rects:a,platform:u}=t;if(n==null)return{};const l=ED(r),c={x:i,y:s},f=ph(o),d=W_(o),h=wD(f),p=await u.getDimensions(n),g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=a.reference[h]+a.reference[f]-c[f]-a.floating[h],_=c[f]-a.reference[f],v=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n));let T=v?f==="y"?v.clientHeight||0:v.clientWidth||0:0;T===0&&(T=a.floating[h]);const S=m/2-_/2,w=l[g],x=T-p[h]-l[y],A=T/2-p[h]/2+S,M=M2(w,A,x),D=(d==="start"?l[g]:l[y])>0&&A!==M&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(D?A<w?w-A:x-A:0),data:{[f]:M,centerOffset:A-M}}}}),z1e={left:"right",right:"left",bottom:"top",top:"bottom"};function sE(e){return e.replace(/left|right|bottom|top/g,t=>z1e[t])}function H1e(e,t,n){n===void 0&&(n=!1);const r=W_(e),i=ph(e),s=wD(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=sE(o)),{main:o,cross:sE(o)}}const q1e={start:"end",end:"start"};function MF(e){return e.replace(/start|end/g,t=>q1e[t])}const W1e=["top","right","bottom","left"];W1e.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const xK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,g=Ll(r),y=f||(g===o||!h?[sE(o)]:function(A){const M=sE(A);return[MF(A),M,MF(M)]}(o)),m=[o,...y],_=await TD(t,p),v=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&v.push(_[g]),c){const{main:A,cross:M}=H1e(r,s,await(a.isRTL==null?void 0:a.isRTL(u.floating)));v.push(_[A],_[M])}if(T=[...T,{placement:r,overflows:v}],!v.every(A=>A<=0)){var S,w;const A=((S=(w=i.flip)==null?void 0:w.index)!=null?S:0)+1,M=m[A];if(M)return{data:{index:A,overflows:T},reset:{placement:M}};let D="bottom";switch(d){case"bestFit":{var x;const $=(x=T.map(q=>[q,q.overflows.filter(W=>W>0).reduce((W,V)=>W+V,0)]).sort((q,W)=>q[1]-W[1])[0])==null?void 0:x[0].placement;$&&(D=$);break}case"initialPlacement":D=o}if(r!==D)return{reset:{placement:D}}}return{}}}},IK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(s,o){const{placement:a,platform:u,elements:l}=s,c=await(u.isRTL==null?void 0:u.isRTL(l.floating)),f=Ll(a),d=W_(a),h=ph(a)==="x",p=["left","top"].includes(f)?-1:1,g=c&&h?-1:1,y=typeof o=="function"?o(s):o;let{mainAxis:m,crossAxis:_,alignmentAxis:v}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof v=="number"&&(_=d==="end"?-1*v:v),h?{x:_*g,y:m*p}:{x:m*p,y:_*g}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function AK(e){return e==="x"?"y":"x"}const SD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:m,y:_}=y;return{x:m,y:_}}},...u}=e,l={x:n,y:r},c=await TD(t,u),f=ph(Ll(i)),d=AK(f);let h=l[f],p=l[d];if(s){const y=f==="y"?"bottom":"right";h=M2(h+c[f==="y"?"top":"left"],h,h-c[y])}if(o){const y=d==="y"?"bottom":"right";p=M2(p+c[d==="y"?"top":"left"],p,p-c[y])}const g=a.fn({...t,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},Y1e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=e,c={x:n,y:r},f=ph(i),d=AK(f);let h=c[f],p=c[d];const g=typeof a=="function"?a(t):a,y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const S=f==="y"?"height":"width",w=s.reference[f]-s.floating[S]+y.mainAxis,x=s.reference[f]+s.reference[S]-y.mainAxis;h<w?h=w:h>x&&(h=x)}if(l){var m,_,v,T;const S=f==="y"?"width":"height",w=["top","left"].includes(Ll(i)),x=s.reference[d]-s.floating[S]+(w&&(m=(_=o.offset)==null?void 0:_[d])!=null?m:0)+(w?0:y.crossAxis),A=s.reference[d]+s.reference[S]+(w?0:(v=(T=o.offset)==null?void 0:T[d])!=null?v:0)-(w?y.crossAxis:0);p<x?p=x:p>A&&(p=A)}return{[f]:h,[d]:p}}}},G1e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=e,u=await TD(t,a),l=Ll(n),c=W_(n);let f,d;l==="top"||l==="bottom"?(f=l,d=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(d=l,f=c==="end"?"top":"bottom");const h=Ec(u.left,0),p=Ec(u.right,0),g=Ec(u.top,0),y=Ec(u.bottom,0),m={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(g!==0||y!==0?g+y:Ec(u.top,u.bottom)):u[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:Ec(u.left,u.right)):u[d])};await o({...t,...m});const _=await i.getDimensions(s.floating);return r.floating.width!==_.width||r.floating.height!==_.height?{reset:{rects:!0}}:{}}}},CK=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=t,{padding:u=2,x:l,y:c}=e,f=Fy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),d=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],h=ED(u),p=await o.getElementRects({reference:{getBoundingClientRect:function(){var g;if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return(g=d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom))!=null?g:f;if(d.length>=2){if(ph(r)==="x"){const w=d[0],x=d[d.length-1],A=Ll(r)==="top",M=w.top,D=x.bottom,$=A?w.left:x.left,q=A?w.right:x.right;return{top:M,bottom:D,left:$,right:q,width:q-$,height:D-M,x:$,y:M}}const y=Ll(r)==="left",m=Ec(...d.map(w=>w.right)),_=SK(...d.map(w=>w.left)),v=d.filter(w=>y?w.left===_:w.right===m),T=v[0].top,S=v[v.length-1].bottom;return{top:T,bottom:S,left:_,right:m,width:m-_,height:S-T,x:_,y:T}}return f}},floating:i.floating,strategy:a});return s.reference.x!==p.reference.x||s.reference.y!==p.reference.y||s.reference.width!==p.reference.width||s.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function OK(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function nc(e){if(e==null)return window;if(!OK(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function ff(e){return nc(e).getComputedStyle(e)}function df(e){return OK(e)?"":e?(e.nodeName||"").toLowerCase():""}function PK(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Ml(e){return e instanceof nc(e).HTMLElement}function Sl(e){return e instanceof nc(e).Element}function FF(e){return typeof ShadowRoot>"u"?!1:e instanceof nc(e).ShadowRoot||e instanceof ShadowRoot}function kx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ff(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function K1e(e){return["table","td","th"].includes(df(e))}function F2(e){const t=/firefox/i.test(PK()),n=ff(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null&&s.includes(i)})}function RK(){return!/^((?!chrome|android).)*safari/i.test(PK())}function xD(e){return["html","body","#document"].includes(df(e))}const BF=Math.min,H0=Math.max,oE=Math.round;function xl(e,t,n){var r,i,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&Ml(e)&&(u=e.offsetWidth>0&&oE(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&oE(a.height)/e.offsetHeight||1);const c=Sl(e)?nc(e):window,f=!RK()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,h=(a.top+(f&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/l,p=a.width/u,g=a.height/l;return{width:p,height:g,top:h,right:d+p,bottom:h+g,left:d,x:d,y:h}}function Jc(e){return(t=e,(t instanceof nc(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Dx(e){return Sl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function NK(e){return xl(Jc(e)).left+Dx(e).scrollLeft}function Q1e(e,t,n){const r=Ml(t),i=Jc(t),s=xl(e,r&&function(u){const l=xl(u);return oE(l.width)!==u.offsetWidth||oE(l.height)!==u.offsetHeight}(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((df(t)!=="body"||kx(i))&&(o=Dx(t)),Ml(t)){const u=xl(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=NK(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function aE(e){if(df(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(FF(e)?e.host:null)||Jc(e);return FF(t)?t.host:t}function jF(e){return Ml(e)&&ff(e).position!=="fixed"?e.offsetParent:null}function UF(e){const t=nc(e);let n=jF(e);for(;n&&K1e(n)&&ff(n).position==="static";)n=jF(n);return n&&(df(n)==="html"||df(n)==="body"&&ff(n).position==="static"&&!F2(n))?t:n||function(r){let i=aE(r);for(;Ml(i)&&!xD(i);){if(F2(i))return i;i=aE(i)}return null}(e)||t}function VF(e){if(Ml(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=xl(e);return{width:t.width,height:t.height}}function kK(e){const t=aE(e);return xD(t)?e.ownerDocument.body:Ml(t)&&kx(t)?t:kK(t)}function Il(e,t){var n;t===void 0&&(t=[]);const r=kK(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=nc(r),o=i?[s].concat(s.visualViewport||[],kx(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Il(o))}function zF(e,t,n){return t==="viewport"?Fy(function(r,i){const s=nc(r),o=Jc(r),a=s.visualViewport;let u=o.clientWidth,l=o.clientHeight,c=0,f=0;if(a){u=a.width,l=a.height;const d=RK();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:u,height:l,x:c,y:f}}(e,n)):Sl(t)?function(r,i){const s=xl(r,!1,i==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft;return{top:o,left:a,x:a,y:o,right:a+r.clientWidth,bottom:o+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):Fy(function(r){var i;const s=Jc(r),o=Dx(r),a=(i=r.ownerDocument)==null?void 0:i.body,u=H0(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=H0(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+NK(r);const f=-o.scrollTop;return ff(a||s).direction==="rtl"&&(c+=H0(s.clientWidth,a?a.clientWidth:0)-u),{width:u,height:l,x:c,y:f}}(Jc(e)))}const X1e={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=n==="clippingAncestors"?function(l){let c=Il(l).filter(h=>Sl(h)&&df(h)!=="body"),f=l,d=null;for(;Sl(f)&&!xD(f);){const h=ff(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!F2(f)?c=c.filter(p=>p!==f):d=h,f=aE(f)}return c}(t):[].concat(n),o=[...s,r],a=o[0],u=o.reduce((l,c)=>{const f=zF(t,c,i);return l.top=H0(f.top,l.top),l.right=BF(f.right,l.right),l.bottom=BF(f.bottom,l.bottom),l.left=H0(f.left,l.left),l},zF(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Ml(n),s=Jc(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((df(n)!=="body"||kx(s))&&(o=Dx(n)),Ml(n))){const u=xl(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}},isElement:Sl,getDimensions:VF,getOffsetParent:UF,getDocumentElement:Jc,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:Q1e(t,UF(n),r),floating:{...VF(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ff(e).direction==="rtl"};function J1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,u=i&&!a,l=u||s?[...Sl(e)?Il(e):e.contextElement?Il(e.contextElement):[],...Il(t)]:[];l.forEach(h=>{u&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});let c,f=null;if(o){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),Sl(e)&&!a&&f.observe(e),Sl(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?xl(e):null;return a&&function h(){const p=xl(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;l.forEach(p=>{u&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const Z1e=(e,t,n)=>V1e(e,t,{platform:X1e,...n});var B2=typeof document<"u"?E.useLayoutEffect:E.useEffect;function uE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!uE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!uE(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function ebe(e){const t=E.useRef(e);return B2(()=>{t.current=e}),t}function tbe(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[s,o]=E.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,u]=E.useState(t);uE(a,t)||u(t);const l=E.useRef(null),c=E.useRef(null),f=E.useRef(null),d=E.useRef(s),h=ebe(i),p=E.useCallback(()=>{!l.current||!c.current||Z1e(l.current,c.current,{middleware:a,placement:n,strategy:r}).then(T=>{g.current&&!uE(d.current,T)&&(d.current=T,fh.flushSync(()=>{o(T)}))})},[a,n,r]);B2(()=>{g.current&&p()},[p]);const g=E.useRef(!1);B2(()=>(g.current=!0,()=>{g.current=!1}),[]);const y=E.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),l.current&&c.current)if(h.current){const T=h.current(l.current,c.current,p);f.current=T}else p()},[p,h]),m=E.useCallback(T=>{l.current=T,y()},[y]),_=E.useCallback(T=>{c.current=T,y()},[y]),v=E.useMemo(()=>({reference:l,floating:c}),[]);return E.useMemo(()=>({...s,update:p,refs:v,reference:m,floating:_}),[s,p,v,m,_])}const DK=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?LF({element:t.current,padding:n}).fn(i):{}:t?LF({element:t,padding:n}).fn(i):{}}}};var am=typeof document<"u"?E.useLayoutEffect:E.useEffect;function nbe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let TC=!1,rbe=0;const HF=()=>"floating-ui-"+rbe++;function ibe(){const[e,t]=E.useState(()=>TC?HF():void 0);return am(()=>{e==null&&t(HF())},[]),E.useEffect(()=>{TC||(TC=!0)},[]),e}const qF=Fd.useId,WF=qF??ibe,sbe=E.createContext(null),obe=E.createContext(null),$K=()=>{var e,t;return(e=(t=E.useContext(sbe))==null?void 0:t.id)!=null?e:null},ID=()=>E.useContext(obe);function Cc(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function LK(e){var t;return(t=Cc(e).defaultView)!=null?t:window}function md(e){return e?e instanceof LK(e).Element:!1}function abe(e){return e?e instanceof LK(e).HTMLElement:!1}const YF=Fd.useInsertionEffect;function ube(e){const t=E.useRef(()=>{});return YF?YF(()=>{t.current=e}):t.current=e,E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function AD(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:s,strategy:o,nodeId:a}=e===void 0?{}:e;const[u,l]=E.useState(null),c=ID(),f=E.useRef(null),d=E.useRef({}),h=E.useState(()=>nbe())[0],p=tbe({placement:i,middleware:s,strategy:o,whileElementsMounted:r}),g=ube(n),y=E.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),m=E.useMemo(()=>({...p,refs:y,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:g,_:{domReference:u}}),[p,a,h,t,g,y,u]);am(()=>{const T=c==null?void 0:c.nodesRef.current.find(S=>S.id===a);T&&(T.context=m)});const{reference:_}=p,v=E.useCallback(T=>{(md(T)||T===null)&&(m.refs.domReference.current=T,l(T)),_(T)},[_,m.refs]);return E.useMemo(()=>({...p,context:m,refs:y,reference:v}),[p,y,m,v])}function SC(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const lbe=function(e){e===void 0&&(e=[]);const t=e,n=E.useCallback(s=>SC(s,e,"reference"),t),r=E.useCallback(s=>SC(s,e,"floating"),t),i=E.useCallback(s=>SC(s,e,"item"),t);return E.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function xC(e,t){var n;let r=(n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var s;i=(s=e.filter(o=>{var a;return(a=i)==null?void 0:a.some(u=>{var l;return o.parentId===u.id&&((l=o.context)==null?void 0:l.open)})}))!=null?s:[],r=r.concat(i)}return r}function cbe(e){return"composedPath"in e?e.composedPath()[0]:e.target}function GF(e){const t=E.useRef(e);return am(()=>{t.current=e}),t}function fbe(e){const t=E.useRef();return am(()=>{t.current=e},[e]),t.current}function Ib(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const dbe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,refs:d,_:h}=e,p=ID(),g=$K(),y=GF(i),m=GF(r),_=fbe(u),v=E.useRef(),T=E.useRef(),S=E.useRef(),w=E.useRef(),x=E.useRef(!0),A=E.useRef(!1),M=E.useCallback(()=>{var W;const V=(W=c.current.openEvent)==null?void 0:W.type;return(V==null?void 0:V.includes("mouse"))&&V!=="mousedown"},[c]);E.useEffect(()=>{if(!n)return;function W(){clearTimeout(T.current),clearTimeout(w.current),x.current=!0}return f.on("dismiss",W),()=>{f.off("dismiss",W)}},[n,f,d]),E.useEffect(()=>{if(!n||!y.current)return;function W(){M()&&l(!1)}const V=Cc(d.floating.current).documentElement;return V.addEventListener("mouseleave",W),()=>{V.removeEventListener("mouseleave",W)}},[d,l,n,y,c,M]);const D=E.useCallback(function(W){W===void 0&&(W=!0);const V=Ib(m.current,"close",v.current);V&&!S.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),V)):W&&(clearTimeout(T.current),l(!1))},[m,l]),$=E.useCallback(()=>{S.current&&(Cc(d.floating.current).removeEventListener("pointermove",S.current),S.current=void 0)},[d]),q=E.useCallback(()=>{Cc(d.floating.current).body.style.pointerEvents="",A.current=!1},[d]);return E.useEffect(()=>{if(!n)return;function W(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function V(ie){if(clearTimeout(T.current),x.current=!1,s&&v.current!=="mouse"||o>0&&Ib(m.current,"open")===0)return;c.current.openEvent=ie;const K=Ib(m.current,"open",v.current);K?T.current=setTimeout(()=>{l(!0)},K):l(!0)}function de(ie){if(W())return;const K=Cc(d.floating.current);if(clearTimeout(w.current),y.current){clearTimeout(T.current),S.current&&K.removeEventListener("pointermove",S.current),S.current=y.current({...e,tree:p,x:ie.clientX,y:ie.clientY,onClose(){q(),$(),D()}}),K.addEventListener("pointermove",S.current);return}D()}function ae(ie){W()||y.current==null||y.current({...e,tree:p,x:ie.clientX,y:ie.clientY,leave:!0,onClose(){q(),$(),D()}})(ie)}const pe=d.floating.current,ee=d.domReference.current;if(md(ee))return u&&ee.addEventListener("mouseleave",ae),pe==null||pe.addEventListener("mouseleave",ae),a&&ee.addEventListener("mousemove",V,{once:!0}),ee.addEventListener("mouseenter",V),ee.addEventListener("mouseleave",de),()=>{u&&ee.removeEventListener("mouseleave",ae),pe==null||pe.removeEventListener("mouseleave",ae),a&&ee.removeEventListener("mousemove",V),ee.removeEventListener("mouseenter",V),ee.removeEventListener("mouseleave",de)}},[h.domReference,n,e,s,o,a,D,$,q,l,u,p,d,m,y,c]),am(()=>{if(n&&u&&y.current&&y.current.__options.blockPointerEvents&&M()){Cc(d.floating.current).body.style.pointerEvents="none",A.current=!0;const de=d.domReference.current,ae=d.floating.current;if(md(de)&&ae){var W,V;const pe=p==null||(W=p.nodesRef.current.find(ee=>ee.id===g))==null||(V=W.context)==null?void 0:V.refs.floating.current;return pe&&(pe.style.pointerEvents=""),de.style.pointerEvents="auto",ae.style.pointerEvents="auto",()=>{de.style.pointerEvents="",ae.style.pointerEvents=""}}}},[n,u,g,d,p,y,c,M]),am(()=>{_&&!u&&(v.current=void 0,$(),q())}),E.useEffect(()=>()=>{$(),clearTimeout(T.current),clearTimeout(w.current),A.current&&q()},[n,$,q]),E.useMemo(()=>{if(!n)return{};function W(V){v.current=V.pointerType}return{reference:{onPointerDown:W,onPointerEnter:W,onMouseMove(){u||o===0||(clearTimeout(w.current),w.current=setTimeout(()=>{x.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){D(!1)}}}},[n,o,u,l,D])},MK=E.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),FK=()=>E.useContext(MK),hbe=e=>{let{children:t,delay:n}=e;const[r,i]=E.useState({delay:n,initialDelay:n,currentId:null}),s=E.useCallback(o=>{i(a=>({...a,currentId:o}))},[]);return E.createElement(MK.Provider,{value:E.useMemo(()=>({...r,setState:i,setCurrentId:s}),[r,i,s])},t)},pbe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,initialDelay:o,setState:a}=FK();E.useEffect(()=>{s&&(a(u=>({...u,delay:{open:1,close:Ib(o,"close")}})),s!==i&&r(!1))},[i,r,a,s,o]),E.useEffect(()=>{!n&&s===i&&(r(!1),a(u=>({...u,delay:o,currentId:null})))},[n,a,s,i,r,o])},mbe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=WF(),o=WF();return E.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function IC(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const gbe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ybe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},_be=function(e,t){let{open:n,onOpenChange:r,refs:i,events:s,nodeId:o}=e,{enabled:a=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const g=ID(),y=$K()!=null,m=E.useRef(!1);return E.useEffect(()=>{if(!n||!a)return;function _(x){if(x.key==="Escape"){if(!p&&g&&xC(g.nodesRef.current,o).length>0)return;s.emit("dismiss",{preventScroll:!1}),r(!1)}}function v(x){const A=m.current;if(m.current=!1,A)return;const M=cbe(x);if(md(M)&&i.floating.current){var D;const q=(D=i.floating.current.ownerDocument.defaultView)!=null?D:window,W=M.scrollWidth>M.clientWidth,V=M.scrollHeight>M.clientHeight;let de=V&&x.offsetX>M.clientWidth;if(V&&q.getComputedStyle(M).direction==="rtl"&&(de=x.offsetX<=M.offsetWidth-M.clientWidth),de||W&&x.offsetY>M.clientHeight)return}const $=g&&xC(g.nodesRef.current,o).some(q=>{var W;return IC(x,(W=q.context)==null?void 0:W.refs.floating.current)});IC(x,i.floating.current)||IC(x,i.domReference.current)||$||!p&&g&&xC(g.nodesRef.current,o).length>0||(s.emit("dismiss",y?{preventScroll:!0}:!1),r(!1))}function T(){r(!1)}const S=Cc(i.floating.current);u&&S.addEventListener("keydown",_),l&&S.addEventListener(c,v);let w=[];return h&&(md(i.domReference.current)&&(w=Il(i.domReference.current)),md(i.floating.current)&&(w=w.concat(Il(i.floating.current))),!md(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(w=w.concat(Il(i.reference.current.contextElement)))),w=w.filter(x=>{var A;return x!==((A=S.defaultView)==null?void 0:A.visualViewport)}),w.forEach(x=>{x.addEventListener("scroll",T,{passive:!0})}),()=>{u&&S.removeEventListener("keydown",_),l&&S.removeEventListener(c,v),w.forEach(x=>{x.removeEventListener("scroll",T)})}},[u,l,c,s,g,o,n,r,h,a,p,i,y]),E.useEffect(()=>{m.current=!1},[l,c]),E.useMemo(()=>a?{reference:{[gbe[d]]:()=>{f&&(s.emit("dismiss"),r(!1))}},floating:{[ybe[c]]:()=>{m.current=!0}}}:{},[a,s,f,c,d,r])},vbe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:s,events:o}=e,{enabled:a=!0,keyboardOnly:u=!0}=t===void 0?{}:t;const l=E.useRef(""),c=E.useRef(!1),f=E.useRef();return E.useEffect(()=>{var d;if(!a)return;const p=(d=Cc(s.floating.current).defaultView)!=null?d:window;function g(){!n&&abe(s.domReference.current)&&s.domReference.current.blur()}return p.addEventListener("blur",g),()=>{p.removeEventListener("blur",g)}},[s,n,a]),E.useEffect(()=>{if(!a)return;function d(){c.current=!0}return o.on("dismiss",d),()=>{o.off("dismiss",d)}},[o,a]),E.useEffect(()=>()=>{clearTimeout(f.current)},[]),E.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;l.current=h,c.current=!!(h&&u)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,g;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=s.domReference.current)!=null&&p.contains((g=i.current.openEvent)==null?void 0:g.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,g;(p=s.floating.current)!=null&&p.contains(h)||(g=s.domReference.current)!=null&&g.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,u,s,i,r])};function BK({opened:e,floating:t,positionDependencies:n}){const[r,i]=E.useState(0);E.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return J1e(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),ps(()=>{t.update()},n),ps(()=>{i(s=>s+1)},[e])}function bbe(e){const t=[IK(e.offset)];return e.middlewares.shift&&t.push(SD({limiter:Y1e()})),e.middlewares.flip&&t.push(xK()),e.middlewares.inline&&t.push(CK()),t.push(DK({element:e.arrowRef})),t}function wbe(e){const[t,n]=Zo({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=AD({placement:e.position,middleware:[...bbe(e),...e.width==="target"?[G1e({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return BK({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),ps(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const jK={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[Ebe,UK]=dY(jK.context);var Tbe=Object.defineProperty,Sbe=Object.defineProperties,xbe=Object.getOwnPropertyDescriptors,lE=Object.getOwnPropertySymbols,VK=Object.prototype.hasOwnProperty,zK=Object.prototype.propertyIsEnumerable,KF=(e,t,n)=>t in e?Tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p1=(e,t)=>{for(var n in t||(t={}))VK.call(t,n)&&KF(e,n,t[n]);if(lE)for(var n of lE(t))zK.call(t,n)&&KF(e,n,t[n]);return e},Ibe=(e,t)=>Sbe(e,xbe(t)),Abe=(e,t)=>{var n={};for(var r in e)VK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lE)for(var r of lE(e))t.indexOf(r)<0&&zK.call(e,r)&&(n[r]=e[r]);return n};const HK=E.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:s="dialog"}=n,o=Abe(n,["children","refProp","popupType"]);if(!B_(r))throw new Error(jK.children);const a=o,u=UK(),l=na(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return E.cloneElement(r,p1(Ibe(p1(p1(p1({},a),c),u.targetProps),{className:mY(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});HK.displayName="@mantine/core/PopoverTarget";var Cbe=lt((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const Obe=Cbe;var Pbe=Object.defineProperty,QF=Object.getOwnPropertySymbols,Rbe=Object.prototype.hasOwnProperty,Nbe=Object.prototype.propertyIsEnumerable,XF=(e,t,n)=>t in e?Pbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kh=(e,t)=>{for(var n in t||(t={}))Rbe.call(t,n)&&XF(e,n,t[n]);if(QF)for(var n of QF(t))Nbe.call(t,n)&&XF(e,n,t[n]);return e};const JF={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function qK({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in a1?kh(kh(kh({transitionProperty:a1[e].transitionProperty},i),a1[e].common),a1[e][JF[t]]):null:kh(kh(kh({transitionProperty:e.transitionProperty},i),e.common),e[JF[t]])}function WK({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Fi(),l=xx(),c=u.respectReducedMotion?l:!1,[f,d]=E.useState(r?"entered":"exited");let h=c?0:e;const p=E.useRef(-1),g=y=>{const m=y?i:s,_=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof m=="function"&&m(),typeof _=="function"&&_(),d(y?"entered":"exited");else{const v=window.setTimeout(()=>{typeof m=="function"&&m(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(v),typeof _=="function"&&_(),d(y?"entered":"exited")},h)}};return ps(()=>{g(r)},[r]),E.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function $x({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=WK({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?N.createElement(N.Fragment,null,i({})):null:f==="exited"?null:N.createElement(N.Fragment,null,i(qK({transition:e,duration:c,state:f,timingFunction:d})))}$x.displayName="@mantine/core/Transition";function YK({children:e,active:t=!0,refProp:n="ref"}){const r=WY(t),i=na(r,e==null?void 0:e.ref);return B_(e)?E.cloneElement(e,{[n]:i}):e}YK.displayName="@mantine/core/FocusTrap";var kbe=Object.defineProperty,Dbe=Object.defineProperties,$be=Object.getOwnPropertyDescriptors,ZF=Object.getOwnPropertySymbols,Lbe=Object.prototype.hasOwnProperty,Mbe=Object.prototype.propertyIsEnumerable,e8=(e,t,n)=>t in e?kbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fc=(e,t)=>{for(var n in t||(t={}))Lbe.call(t,n)&&e8(e,n,t[n]);if(ZF)for(var n of ZF(t))Mbe.call(t,n)&&e8(e,n,t[n]);return e},m1=(e,t)=>Dbe(e,$be(t));function t8(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function n8(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const Fbe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Bbe({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[Fbe[u]]:i},f=t?-n/2-1:-n/2;return u==="left"?m1(fc(fc({},c),t8(l,o,r)),{right:f,borderLeft:0,borderBottom:0}):u==="right"?m1(fc(fc({},c),t8(l,o,r)),{left:f,borderRight:0,borderTop:0}):u==="top"?m1(fc(fc({},c),n8(l,s,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):u==="bottom"?m1(fc(fc({},c),n8(l,s,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var jbe=Object.defineProperty,Ube=Object.defineProperties,Vbe=Object.getOwnPropertyDescriptors,cE=Object.getOwnPropertySymbols,GK=Object.prototype.hasOwnProperty,KK=Object.prototype.propertyIsEnumerable,r8=(e,t,n)=>t in e?jbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zbe=(e,t)=>{for(var n in t||(t={}))GK.call(t,n)&&r8(e,n,t[n]);if(cE)for(var n of cE(t))KK.call(t,n)&&r8(e,n,t[n]);return e},Hbe=(e,t)=>Ube(e,Vbe(t)),qbe=(e,t)=>{var n={};for(var r in e)GK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cE)for(var r of cE(e))t.indexOf(r)<0&&KK.call(e,r)&&(n[r]=e[r]);return n};const CD=E.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,visible:u,arrowX:l,arrowY:c}=n,f=qbe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=Fi();return u?N.createElement("div",Hbe(zbe({},f),{ref:t,style:Bbe({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,dir:d.dir,arrowX:l,arrowY:c})})):null});CD.displayName="@mantine/core/FloatingArrow";var Wbe=Object.defineProperty,Ybe=Object.defineProperties,Gbe=Object.getOwnPropertyDescriptors,fE=Object.getOwnPropertySymbols,QK=Object.prototype.hasOwnProperty,XK=Object.prototype.propertyIsEnumerable,i8=(e,t,n)=>t in e?Wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g1=(e,t)=>{for(var n in t||(t={}))QK.call(t,n)&&i8(e,n,t[n]);if(fE)for(var n of fE(t))XK.call(t,n)&&i8(e,n,t[n]);return e},s8=(e,t)=>Ybe(e,Gbe(t)),Kbe=(e,t)=>{var n={};for(var r in e)QK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fE)for(var r of fE(e))t.indexOf(r)<0&&XK.call(e,r)&&(n[r]=e[r]);return n};function JK(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=Kbe(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:u,unstyled:l,staticSelector:c}=V_(),f=UK(),{classes:d,cx:h}=Obe({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:u,unstyled:l}),p=VY({opened:f.opened,shouldReturnFocus:f.returnFocus}),g=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:N.createElement(z_,{withinPortal:f.withinPortal},N.createElement($x,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration},y=>{var m,_;return N.createElement(YK,{active:f.trapFocus},N.createElement(ut,g1(s8(g1({},g),{tabIndex:-1,ref:f.floating,style:s8(g1(g1({},n),y),{zIndex:f.zIndex,top:(m=f.y)!=null?m:0,left:(_=f.x)!=null?_:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:$pe(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:s}),"data-position":f.placement}),o),i,N.createElement(CD,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})))}))}JK.displayName="@mantine/core/PopoverDropdown";function ZK(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var o8=Object.getOwnPropertySymbols,Qbe=Object.prototype.hasOwnProperty,Xbe=Object.prototype.propertyIsEnumerable,Jbe=(e,t)=>{var n={};for(var r in e)Qbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&o8)for(var r of o8(e))t.indexOf(r)<0&&Xbe.call(e,r)&&(n[r]=e[r]);return n};const Zbe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ao("popover"),__staticSelector:"Popover",width:"max-content"};function Go(e){var t,n,r,i,s,o;const a=E.useRef(null),u=ft("Popover",Zbe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:g,transitionDuration:y,width:m,middlewares:_,withArrow:v,arrowSize:T,arrowOffset:S,arrowRadius:w,unstyled:x,classNames:A,styles:M,closeOnClickOutside:D,withinPortal:$,closeOnEscape:q,clickOutsideEvents:W,trapFocus:V,onClose:de,onOpen:ae,onChange:pe,zIndex:ee,radius:ie,shadow:K,id:I,defaultOpened:C,exitTransitionDuration:z,__staticSelector:R,withRoles:P,disabled:Y,returnFocus:se}=u,ue=Jbe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[he,fe]=E.useState(null),[Se,me]=E.useState(null),Je=qu(I),Ge=Fi(),qe=wbe({middlewares:_,width:m,position:ZK(Ge.dir,c),offset:f+(v?T/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:C,onChange:pe,onOpen:ae,onClose:de});Dge(()=>D&&qe.onClose(),W,[he,Se]);const Le=E.useCallback(Ve=>{fe(Ve),qe.floating.reference(Ve)},[qe.floating.reference]),Ae=E.useCallback(Ve=>{me(Ve),qe.floating.floating(Ve)},[qe.floating.floating]);return N.createElement(BY,{classNames:A,styles:M,unstyled:x,staticSelector:R},N.createElement(Ebe,{value:{returnFocus:se,disabled:Y,controlled:qe.controlled,reference:Le,floating:Ae,x:qe.floating.x,y:qe.floating.y,arrowX:(r=(n=(t=qe.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=qe.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:qe.opened,arrowRef:a,transition:g,transitionDuration:y,exitTransitionDuration:z,width:m,withArrow:v,arrowSize:T,arrowOffset:S,arrowRadius:w,placement:qe.floating.placement,trapFocus:V,withinPortal:$,zIndex:ee,radius:ie,shadow:K,closeOnEscape:q,onClose:qe.onClose,onToggle:qe.onToggle,getTargetId:()=>`${Je}-target`,getDropdownId:()=>`${Je}-dropdown`,withRoles:P,targetProps:ue}},l))}Go.Target=HK;Go.Dropdown=JK;Go.displayName="@mantine/core/Popover";var ewe=Object.defineProperty,dE=Object.getOwnPropertySymbols,eQ=Object.prototype.hasOwnProperty,tQ=Object.prototype.propertyIsEnumerable,a8=(e,t,n)=>t in e?ewe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,twe=(e,t)=>{for(var n in t||(t={}))eQ.call(t,n)&&a8(e,n,t[n]);if(dE)for(var n of dE(t))tQ.call(t,n)&&a8(e,n,t[n]);return e},nwe=(e,t)=>{var n={};for(var r in e)eQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dE)for(var r of dE(e))t.indexOf(r)<0&&tQ.call(e,r)&&(n[r]=e[r]);return n};function rwe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=nwe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=U1e(null,{name:u,styles:l,classNames:c,unstyled:f});return N.createElement(Go.Dropdown,twe({p:0,onMouseDown:p=>p.preventDefault()},d),N.createElement("div",{style:{maxHeight:i,display:"flex"}},N.createElement(ut,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==Nx?"auto":void 0},"data-combobox-popover":!0,ref:a},N.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Zc({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:g}){return N.createElement(Go,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:g,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Zc.Target=Go.Target;Zc.Dropdown=rwe;var iwe=Object.defineProperty,swe=Object.defineProperties,owe=Object.getOwnPropertyDescriptors,hE=Object.getOwnPropertySymbols,nQ=Object.prototype.hasOwnProperty,rQ=Object.prototype.propertyIsEnumerable,u8=(e,t,n)=>t in e?iwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AC=(e,t)=>{for(var n in t||(t={}))nQ.call(t,n)&&u8(e,n,t[n]);if(hE)for(var n of hE(t))rQ.call(t,n)&&u8(e,n,t[n]);return e},awe=(e,t)=>swe(e,owe(t)),uwe=(e,t)=>{var n={};for(var r in e)nQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hE)for(var r of hE(e))t.indexOf(r)<0&&rQ.call(e,r)&&(n[r]=e[r]);return n};function iQ(e,t,n){const r=ft(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,wrapperProps:m,id:_,size:v,style:T,inputContainer:S,inputWrapperOrder:w,withAsterisk:x}=r,A=uwe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),M=qu(_),{systemStyles:D,rest:$}=$f(A);return awe(AC({},$),{classNames:u,styles:l,unstyled:f,wrapperProps:AC(AC({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,unstyled:f,styles:l,id:M,size:v,style:T,inputContainer:S,inputWrapperOrder:w,withAsterisk:x},m),D),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:M,size:v,__staticSelector:d,invalid:!!o}})}var lwe=lt((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const cwe=lwe;var fwe=Object.defineProperty,pE=Object.getOwnPropertySymbols,sQ=Object.prototype.hasOwnProperty,oQ=Object.prototype.propertyIsEnumerable,l8=(e,t,n)=>t in e?fwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dwe=(e,t)=>{for(var n in t||(t={}))sQ.call(t,n)&&l8(e,n,t[n]);if(pE)for(var n of pE(t))oQ.call(t,n)&&l8(e,n,t[n]);return e},hwe=(e,t)=>{var n={};for(var r in e)sQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pE)for(var r of pE(e))t.indexOf(r)<0&&oQ.call(e,r)&&(n[r]=e[r]);return n};const OD=E.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:s,size:o="sm",classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=hwe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:g}=cwe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return N.createElement(ut,dwe({component:r,ref:t,className:g(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&N.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});OD.displayName="@mantine/core/InputLabel";var pwe=lt((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const mwe=pwe;var gwe=Object.defineProperty,mE=Object.getOwnPropertySymbols,aQ=Object.prototype.hasOwnProperty,uQ=Object.prototype.propertyIsEnumerable,c8=(e,t,n)=>t in e?gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ywe=(e,t)=>{for(var n in t||(t={}))aQ.call(t,n)&&c8(e,n,t[n]);if(mE)for(var n of mE(t))uQ.call(t,n)&&c8(e,n,t[n]);return e},_we=(e,t)=>{var n={};for(var r in e)aQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mE)for(var r of mE(e))t.indexOf(r)<0&&uQ.call(e,r)&&(n[r]=e[r]);return n};const PD=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=_we(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=mwe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return N.createElement(_t,ywe({className:d(f.error,i),ref:t,role:"alert"},c),r)});PD.displayName="@mantine/core/InputError";var vwe=lt((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const bwe=vwe;var wwe=Object.defineProperty,gE=Object.getOwnPropertySymbols,lQ=Object.prototype.hasOwnProperty,cQ=Object.prototype.propertyIsEnumerable,f8=(e,t,n)=>t in e?wwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ewe=(e,t)=>{for(var n in t||(t={}))lQ.call(t,n)&&f8(e,n,t[n]);if(gE)for(var n of gE(t))cQ.call(t,n)&&f8(e,n,t[n]);return e},Twe=(e,t)=>{var n={};for(var r in e)lQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gE)for(var r of gE(e))t.indexOf(r)<0&&cQ.call(e,r)&&(n[r]=e[r]);return n};const RD=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=Twe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=bwe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return N.createElement(_t,Ewe({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});RD.displayName="@mantine/core/InputDescription";const fQ=E.createContext({offsetBottom:!1,offsetTop:!1}),Swe=fQ.Provider,xwe=()=>E.useContext(fQ);function Iwe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var Awe=Object.defineProperty,Cwe=Object.defineProperties,Owe=Object.getOwnPropertyDescriptors,d8=Object.getOwnPropertySymbols,Pwe=Object.prototype.hasOwnProperty,Rwe=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?Awe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nwe=(e,t)=>{for(var n in t||(t={}))Pwe.call(t,n)&&h8(e,n,t[n]);if(d8)for(var n of d8(t))Rwe.call(t,n)&&h8(e,n,t[n]);return e},kwe=(e,t)=>Cwe(e,Owe(t)),Dwe=lt(e=>({root:kwe(Nwe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const $we=Dwe;var Lwe=Object.defineProperty,Mwe=Object.defineProperties,Fwe=Object.getOwnPropertyDescriptors,yE=Object.getOwnPropertySymbols,dQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,p8=(e,t,n)=>t in e?Lwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yf=(e,t)=>{for(var n in t||(t={}))dQ.call(t,n)&&p8(e,n,t[n]);if(yE)for(var n of yE(t))hQ.call(t,n)&&p8(e,n,t[n]);return e},m8=(e,t)=>Mwe(e,Fwe(t)),Bwe=(e,t)=>{var n={};for(var r in e)dQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yE)for(var r of yE(e))t.indexOf(r)<0&&hQ.call(e,r)&&(n[r]=e[r]);return n};const jwe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},pQ=E.forwardRef((e,t)=>{const n=ft("InputWrapper",jwe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:g,size:y,inputContainer:m,__staticSelector:_,unstyled:v,inputWrapperOrder:T,withAsterisk:S}=n,w=Bwe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:x,cx:A}=$we(null,{classNames:p,styles:g,name:["InputWrapper",_],unstyled:v}),M={classNames:p,styles:g,unstyled:v,size:y,__staticSelector:_},D=typeof S=="boolean"?S:o,$=i&&N.createElement(OD,Yf(Yf({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:D},M),f),i),q=l&&N.createElement(RD,m8(Yf(Yf({key:"description"},d),M),{size:(d==null?void 0:d.size)||M.size}),l),W=N.createElement(E.Fragment,{key:"input"},m(s)),V=typeof u!="boolean"&&u&&N.createElement(PD,m8(Yf(Yf({},h),M),{size:(h==null?void 0:h.size)||M.size,key:"error"}),u),de=T.map(ae=>{switch(ae){case"label":return $;case"input":return W;case"description":return q;case"error":return V;default:return null}});return N.createElement(Swe,{value:Iwe(T,{hasDescription:!!q,hasError:!!V})},N.createElement(ut,Yf({className:A(x.root,r),ref:t},w),de))});pQ.displayName="@mantine/core/InputWrapper";var Uwe=Object.defineProperty,Vwe=Object.defineProperties,zwe=Object.getOwnPropertyDescriptors,g8=Object.getOwnPropertySymbols,Hwe=Object.prototype.hasOwnProperty,qwe=Object.prototype.propertyIsEnumerable,y8=(e,t,n)=>t in e?Uwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CC=(e,t)=>{for(var n in t||(t={}))Hwe.call(t,n)&&y8(e,n,t[n]);if(g8)for(var n of g8(t))qwe.call(t,n)&&y8(e,n,t[n]);return e},_8=(e,t)=>Vwe(e,zwe(t));const Rs={xs:30,sm:36,md:42,lg:50,xl:60};function Wwe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var Ywe=lt((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Rs}),paddingLeft:e.fn.size({size:t,sizes:Rs})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Rs})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:CC(_8(CC(_8(CC({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Rs}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Rs})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),Wwe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Rs})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Rs}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}});const Gwe=Ywe;var Kwe=Object.defineProperty,Qwe=Object.defineProperties,Xwe=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,mQ=Object.prototype.hasOwnProperty,gQ=Object.prototype.propertyIsEnumerable,v8=(e,t,n)=>t in e?Kwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y1=(e,t)=>{for(var n in t||(t={}))mQ.call(t,n)&&v8(e,n,t[n]);if(_E)for(var n of _E(t))gQ.call(t,n)&&v8(e,n,t[n]);return e},b8=(e,t)=>Qwe(e,Xwe(t)),Jwe=(e,t)=>{var n={};for(var r in e)mQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_E)for(var r of _E(e))t.indexOf(r)<0&&gQ.call(e,r)&&(n[r]=e[r]);return n};const Zwe={rightSectionWidth:36,size:"sm",variant:"default"},Ym=E.forwardRef((e,t)=>{const n=ft("Input",Zwe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:g,wrapperProps:y,classNames:m,styles:_,__staticSelector:v,multiline:T,sx:S,unstyled:w,pointer:x}=n,A=Jwe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:M,offsetTop:D}=xwe(),{classes:$,cx:q}=Gwe({radius:p,size:g,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:M,offsetTop:D,pointer:x},{classNames:m,styles:_,name:["Input",v],unstyled:w}),{systemStyles:W,rest:V}=$f(A);return N.createElement(ut,y1(y1({className:q($.wrapper,r),sx:S,style:l},W),y),u&&N.createElement("div",{className:$.icon},u),N.createElement(ut,b8(y1({component:"input"},V),{ref:t,required:s,"aria-invalid":i,disabled:o,className:q($[`${a}Variant`],$.input,{[$.withIcon]:u,[$.invalid]:i,[$.disabled]:o})})),d&&N.createElement("div",b8(y1({},h),{className:$.rightSection}),d))});Ym.displayName="@mantine/core/Input";Ym.Wrapper=pQ;Ym.Label=OD;Ym.Description=RD;Ym.Error=PD;const Ws=Ym;var eEe=Object.defineProperty,tEe=Object.defineProperties,nEe=Object.getOwnPropertyDescriptors,w8=Object.getOwnPropertySymbols,rEe=Object.prototype.hasOwnProperty,iEe=Object.prototype.propertyIsEnumerable,E8=(e,t,n)=>t in e?eEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OC=(e,t)=>{for(var n in t||(t={}))rEe.call(t,n)&&E8(e,n,t[n]);if(w8)for(var n of w8(t))iEe.call(t,n)&&E8(e,n,t[n]);return e},sEe=(e,t)=>tEe(e,nEe(t));const PC={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},oEe={xs:4,sm:4,md:6,lg:8,xl:10};function aEe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:oEe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var uEe=lt((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in PC?PC[n]:PC.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:OC(sEe(OC(OC({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),aEe({theme:e,variant:o,color:t,size:n,gradient:i}))}});const lEe=uEe;var cEe=Object.defineProperty,vE=Object.getOwnPropertySymbols,yQ=Object.prototype.hasOwnProperty,_Q=Object.prototype.propertyIsEnumerable,T8=(e,t,n)=>t in e?cEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fEe=(e,t)=>{for(var n in t||(t={}))yQ.call(t,n)&&T8(e,n,t[n]);if(vE)for(var n of vE(t))_Q.call(t,n)&&T8(e,n,t[n]);return e},dEe=(e,t)=>{var n={};for(var r in e)yQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vE)for(var r of vE(e))t.indexOf(r)<0&&_Q.call(e,r)&&(n[r]=e[r]);return n};const hEe={variant:"light",size:"md",radius:"xl"},vQ=E.forwardRef((e,t)=>{const n=ft("Badge",hEe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:g}=n,y=dEe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:_}=lEe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:g});return N.createElement(ut,fEe({className:_(m.root,r),ref:t},y),l&&N.createElement("span",{className:m.leftSection},l),N.createElement("span",{className:m.inner},a),c&&N.createElement("span",{className:m.rightSection},c))});vQ.displayName="@mantine/core/Badge";const pEe=vQ;var mEe=lt((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const gEe=mEe;var yEe=Object.defineProperty,bE=Object.getOwnPropertySymbols,bQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,S8=(e,t,n)=>t in e?yEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Ee=(e,t)=>{for(var n in t||(t={}))bQ.call(t,n)&&S8(e,n,t[n]);if(bE)for(var n of bE(t))wQ.call(t,n)&&S8(e,n,t[n]);return e},vEe=(e,t)=>{var n={};for(var r in e)bQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bE)for(var r of bE(e))t.indexOf(r)<0&&wQ.call(e,r)&&(n[r]=e[r]);return n};const bEe={orientation:"horizontal",buttonBorderWidth:1},EQ=E.forwardRef((e,t)=>{const n=ft("ButtonGroup",bEe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=vEe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=gEe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return N.createElement(ut,_Ee({className:l(u.root,r),ref:t},a))});EQ.displayName="@mantine/core/ButtonGroup";var wEe=Object.defineProperty,EEe=Object.defineProperties,TEe=Object.getOwnPropertyDescriptors,x8=Object.getOwnPropertySymbols,SEe=Object.prototype.hasOwnProperty,xEe=Object.prototype.propertyIsEnumerable,I8=(e,t,n)=>t in e?wEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sd=(e,t)=>{for(var n in t||(t={}))SEe.call(t,n)&&I8(e,n,t[n]);if(x8)for(var n of x8(t))xEe.call(t,n)&&I8(e,n,t[n]);return e},j2=(e,t)=>EEe(e,TEe(t));const U2={xs:{height:Rs.xs,paddingLeft:14,paddingRight:14},sm:{height:Rs.sm,paddingLeft:18,paddingRight:18},md:{height:Rs.md,paddingLeft:22,paddingRight:22},lg:{height:Rs.lg,paddingLeft:26,paddingRight:26},xl:{height:Rs.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function IEe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return U2[`compact-${t}`];const i=U2[t];return j2(sd({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const AEe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function CEe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:sd({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var OEe=lt((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:j2(sd(j2(sd(sd(sd(sd({},IEe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),AEe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),CEe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const PEe=OEe;var REe=Object.defineProperty,wE=Object.getOwnPropertySymbols,TQ=Object.prototype.hasOwnProperty,SQ=Object.prototype.propertyIsEnumerable,A8=(e,t,n)=>t in e?REe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C8=(e,t)=>{for(var n in t||(t={}))TQ.call(t,n)&&A8(e,n,t[n]);if(wE)for(var n of wE(t))SQ.call(t,n)&&A8(e,n,t[n]);return e},NEe=(e,t)=>{var n={};for(var r in e)TQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wE)for(var r of wE(e))t.indexOf(r)<0&&SQ.call(e,r)&&(n[r]=e[r]);return n};const kEe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},ND=E.forwardRef((e,t)=>{const n=ft("Button",kEe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:g,loading:y,loaderPosition:m,loaderProps:_,gradient:v,classNames:T,styles:S,unstyled:w}=n,x=NEe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:A,cx:M,theme:D}=PEe({radius:h,color:s,size:i,fullWidth:f,compact:g,gradient:v,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:w,classNames:T,styles:S}),$=D.fn.variant({color:s,variant:d}),q=N.createElement(dh,C8({color:$.color,size:D.fn.size({size:i,sizes:U2}).height/2},_));return N.createElement(Ix,C8({className:M(A.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:w},x),N.createElement("div",{className:A.inner},(l||y&&m==="left")&&N.createElement("span",{className:M(A.icon,A.leftIcon)},y&&m==="left"?q:l),y&&m==="center"&&N.createElement("span",{className:A.centerLoader},q),N.createElement("span",{className:A.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&m==="right")&&N.createElement("span",{className:M(A.icon,A.rightIcon)},y&&m==="right"?q:c)))});ND.displayName="@mantine/core/Button";ND.Group=EQ;const Ko=ND;var DEe=lt((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const $Ee=DEe;var LEe=Object.defineProperty,EE=Object.getOwnPropertySymbols,xQ=Object.prototype.hasOwnProperty,IQ=Object.prototype.propertyIsEnumerable,O8=(e,t,n)=>t in e?LEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MEe=(e,t)=>{for(var n in t||(t={}))xQ.call(t,n)&&O8(e,n,t[n]);if(EE)for(var n of EE(t))IQ.call(t,n)&&O8(e,n,t[n]);return e},FEe=(e,t)=>{var n={};for(var r in e)xQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&EE)for(var r of EE(e))t.indexOf(r)<0&&IQ.call(e,r)&&(n[r]=e[r]);return n};const BEe={},AQ=E.forwardRef((e,t)=>{const n=ft("Paper",BEe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=FEe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=$Ee({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return N.createElement(ut,MEe({className:f(c.root,r),ref:t},l),i)});AQ.displayName="@mantine/core/Paper";const CQ=AQ,OQ=E.createContext({padding:0}),jEe=OQ.Provider,UEe=()=>E.useContext(OQ).padding;var VEe=lt((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const zEe=VEe;var HEe=Object.defineProperty,TE=Object.getOwnPropertySymbols,PQ=Object.prototype.hasOwnProperty,RQ=Object.prototype.propertyIsEnumerable,P8=(e,t,n)=>t in e?HEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qEe=(e,t)=>{for(var n in t||(t={}))PQ.call(t,n)&&P8(e,n,t[n]);if(TE)for(var n of TE(t))RQ.call(t,n)&&P8(e,n,t[n]);return e},WEe=(e,t)=>{var n={};for(var r in e)PQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TE)for(var r of TE(e))t.indexOf(r)<0&&RQ.call(e,r)&&(n[r]=e[r]);return n};const NQ=E.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:s=!1,unstyled:o}=n,a=WEe(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:u,cx:l}=zEe({padding:UEe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return N.createElement(ut,qEe({className:l(u.cardSection,r),ref:t},a))});NQ.displayName="@mantine/core/CardSection";const kQ=NQ;var YEe=lt(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const GEe=YEe;var KEe=Object.defineProperty,SE=Object.getOwnPropertySymbols,DQ=Object.prototype.hasOwnProperty,$Q=Object.prototype.propertyIsEnumerable,R8=(e,t,n)=>t in e?KEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QEe=(e,t)=>{for(var n in t||(t={}))DQ.call(t,n)&&R8(e,n,t[n]);if(SE)for(var n of SE(t))$Q.call(t,n)&&R8(e,n,t[n]);return e},XEe=(e,t)=>{var n={};for(var r in e)DQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SE)for(var r of SE(e))t.indexOf(r)<0&&$Q.call(e,r)&&(n[r]=e[r]);return n};const JEe={p:"md"},kD=E.forwardRef((e,t)=>{const n=ft("Card",JEe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=XEe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=GEe(null,{name:"Card",unstyled:a}),f=E.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===kQ?E.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return N.createElement(jEe,{value:{padding:i}},N.createElement(CQ,QEe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});kD.Section=kQ;kD.displayName="@mantine/core/Card";const ZEe=kD;var eTe=Object.defineProperty,xE=Object.getOwnPropertySymbols,LQ=Object.prototype.hasOwnProperty,MQ=Object.prototype.propertyIsEnumerable,N8=(e,t,n)=>t in e?eTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tTe=(e,t)=>{for(var n in t||(t={}))LQ.call(t,n)&&N8(e,n,t[n]);if(xE)for(var n of xE(t))MQ.call(t,n)&&N8(e,n,t[n]);return e},nTe=(e,t)=>{var n={};for(var r in e)LQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xE)for(var r of xE(e))t.indexOf(r)<0&&MQ.call(e,r)&&(n[r]=e[r]);return n};const FQ=E.forwardRef((e,t)=>{const n=ft("Center",{},e),{inline:r,sx:i}=n,s=nTe(n,["inline","sx"]);return N.createElement(ut,tTe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Hd(i)]},s))});FQ.displayName="@mantine/core/Center";const qd=FQ,BQ=E.createContext(null),rTe=BQ.Provider,iTe=()=>E.useContext(BQ);function sTe(e){return E.Children.toArray(e).filter(Boolean)}const oTe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var aTe=lt((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:oTe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const uTe=aTe;var lTe=Object.defineProperty,IE=Object.getOwnPropertySymbols,jQ=Object.prototype.hasOwnProperty,UQ=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?lTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cTe=(e,t)=>{for(var n in t||(t={}))jQ.call(t,n)&&k8(e,n,t[n]);if(IE)for(var n of IE(t))UQ.call(t,n)&&k8(e,n,t[n]);return e},fTe=(e,t)=>{var n={};for(var r in e)jQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IE)for(var r of IE(e))t.indexOf(r)<0&&UQ.call(e,r)&&(n[r]=e[r]);return n};const dTe={position:"left",spacing:"md"},Ma=E.forwardRef((e,t)=>{const n=ft("Group",dTe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=fTe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=sTe(o),{classes:h,cx:p}=uTe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return N.createElement(ut,cTe({className:p(h.root,r),ref:t},f),d)});Ma.displayName="@mantine/core/Group";var hTe=lt((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const pTe=hTe;var mTe=Object.defineProperty,AE=Object.getOwnPropertySymbols,VQ=Object.prototype.hasOwnProperty,zQ=Object.prototype.propertyIsEnumerable,D8=(e,t,n)=>t in e?mTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gTe=(e,t)=>{for(var n in t||(t={}))VQ.call(t,n)&&D8(e,n,t[n]);if(AE)for(var n of AE(t))zQ.call(t,n)&&D8(e,n,t[n]);return e},yTe=(e,t)=>{var n={};for(var r in e)VQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AE)for(var r of AE(e))t.indexOf(r)<0&&zQ.call(e,r)&&(n[r]=e[r]);return n};const _Te={spacing:"md",align:"stretch",justify:"top"},Fc=E.forwardRef((e,t)=>{const n=ft("Stack",_Te,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=yTe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=pTe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return N.createElement(ut,gTe({className:c(l.root,i),ref:t},u))});Fc.displayName="@mantine/core/Stack";function HQ({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?N.createElement(Ma,{pt:t,spacing:e,role:i,unstyled:s},r):N.createElement(Fc,{pt:t,spacing:e,role:i,unstyled:s},r)}var vTe=Object.defineProperty,CE=Object.getOwnPropertySymbols,qQ=Object.prototype.hasOwnProperty,WQ=Object.prototype.propertyIsEnumerable,$8=(e,t,n)=>t in e?vTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L8=(e,t)=>{for(var n in t||(t={}))qQ.call(t,n)&&$8(e,n,t[n]);if(CE)for(var n of CE(t))WQ.call(t,n)&&$8(e,n,t[n]);return e},bTe=(e,t)=>{var n={};for(var r in e)qQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CE)for(var r of CE(e))t.indexOf(r)<0&&WQ.call(e,r)&&(n[r]=e[r]);return n};const wTe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},YQ=E.forwardRef((e,t)=>{const n=ft("CheckboxGroup",wTe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=bTe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=Zo({value:i,defaultValue:s,finalValue:[],onChange:o}),g=y=>{const m=y.currentTarget.value;p(h.includes(m)?h.filter(_=>_!==m):[...h,m])};return N.createElement(rTe,{value:{value:h,onChange:g,size:l}},N.createElement(Ws.Wrapper,L8(L8({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),N.createElement(HQ,{spacing:u,orientation:a,offset:f},r)))});YQ.displayName="@mantine/core/CheckboxGroup";var ETe=Object.defineProperty,OE=Object.getOwnPropertySymbols,GQ=Object.prototype.hasOwnProperty,KQ=Object.prototype.propertyIsEnumerable,M8=(e,t,n)=>t in e?ETe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V2=(e,t)=>{for(var n in t||(t={}))GQ.call(t,n)&&M8(e,n,t[n]);if(OE)for(var n of OE(t))KQ.call(t,n)&&M8(e,n,t[n]);return e},TTe=(e,t)=>{var n={};for(var r in e)GQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OE)for(var r of OE(e))t.indexOf(r)<0&&KQ.call(e,r)&&(n[r]=e[r]);return n};function STe(e){return N.createElement("svg",V2({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function xTe(e){var t=e,{indeterminate:n}=t,r=TTe(t,["indeterminate"]);return n?N.createElement("svg",V2({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),N.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):N.createElement(STe,V2({},r))}var ITe=Object.defineProperty,ATe=Object.defineProperties,CTe=Object.getOwnPropertyDescriptors,F8=Object.getOwnPropertySymbols,OTe=Object.prototype.hasOwnProperty,PTe=Object.prototype.propertyIsEnumerable,B8=(e,t,n)=>t in e?ITe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RTe=(e,t)=>{for(var n in t||(t={}))OTe.call(t,n)&&B8(e,n,t[n]);if(F8)for(var n of F8(t))PTe.call(t,n)&&B8(e,n,t[n]);return e},NTe=(e,t)=>ATe(e,CTe(t));const kTe={xs:16,sm:20,md:24,lg:30,xl:36},DTe={xs:8,sm:10,md:14,lg:16,xl:20};var $Te=lt((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:kTe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:DTe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:NTe(RTe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const LTe=$Te;var MTe=Object.defineProperty,FTe=Object.defineProperties,BTe=Object.getOwnPropertyDescriptors,j8=Object.getOwnPropertySymbols,jTe=Object.prototype.hasOwnProperty,UTe=Object.prototype.propertyIsEnumerable,U8=(e,t,n)=>t in e?MTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VTe=(e,t)=>{for(var n in t||(t={}))jTe.call(t,n)&&U8(e,n,t[n]);if(j8)for(var n of j8(t))UTe.call(t,n)&&U8(e,n,t[n]);return e},zTe=(e,t)=>FTe(e,BTe(t));const HTe={xs:16,sm:20,md:24,lg:30,xl:36};var qTe=lt((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:zTe(VTe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:HTe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const WTe=qTe;var YTe=Object.defineProperty,PE=Object.getOwnPropertySymbols,QQ=Object.prototype.hasOwnProperty,XQ=Object.prototype.propertyIsEnumerable,V8=(e,t,n)=>t in e?YTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GTe=(e,t)=>{for(var n in t||(t={}))QQ.call(t,n)&&V8(e,n,t[n]);if(PE)for(var n of PE(t))XQ.call(t,n)&&V8(e,n,t[n]);return e},KTe=(e,t)=>{var n={};for(var r in e)QQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PE)for(var r of PE(e))t.indexOf(r)<0&&XQ.call(e,r)&&(n[r]=e[r]);return n};function DD(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,g=KTe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:m}=WTe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return N.createElement(ut,GTe({className:m(y.root,r)},g),N.createElement("div",{className:m(y.body)},a,N.createElement("div",{className:y.labelWrapper},u&&N.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&N.createElement(Ws.Description,{className:y.description},l),d&&d!=="boolean"&&N.createElement(Ws.Error,{className:y.error},d))))}DD.displayName="@mantine/core/InlineInput";var QTe=Object.defineProperty,RE=Object.getOwnPropertySymbols,JQ=Object.prototype.hasOwnProperty,ZQ=Object.prototype.propertyIsEnumerable,z8=(e,t,n)=>t in e?QTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_1=(e,t)=>{for(var n in t||(t={}))JQ.call(t,n)&&z8(e,n,t[n]);if(RE)for(var n of RE(t))ZQ.call(t,n)&&z8(e,n,t[n]);return e},XTe=(e,t)=>{var n={};for(var r in e)JQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RE)for(var r of RE(e))t.indexOf(r)<0&&ZQ.call(e,r)&&(n[r]=e[r]);return n};const JTe={size:"sm",transitionDuration:100,icon:xTe,labelPosition:"right"},NE=E.forwardRef((e,t)=>{const n=ft("Checkbox",JTe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:g,classNames:y,styles:m,transitionDuration:_,icon:v,unstyled:T,labelPosition:S,description:w,error:x}=n,A=XTe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),M=iTe(),D=qu(f),{systemStyles:$,rest:q}=$f(A),{classes:W}=LTe({size:(M==null?void 0:M.size)||d,radius:h,color:u,transitionDuration:_,labelPosition:S,error:!!x,indeterminate:c},{name:"Checkbox",classNames:y,styles:m,unstyled:T}),V=M?{checked:M.value.includes(q.value),onChange:M.onChange}:{};return N.createElement(DD,_1(_1({className:r,sx:s,style:i,id:D,size:(M==null?void 0:M.size)||d,labelPosition:S,label:l,description:w,error:x,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:m,unstyled:T,"data-checked":V.checked||void 0},$),p),N.createElement("div",{className:W.inner},N.createElement("input",_1(_1({id:D,ref:t,type:"checkbox",className:W.input,checked:o,disabled:a},q),V)),N.createElement(v,{indeterminate:c,className:W.icon})))});NE.displayName="@mantine/core/Checkbox";NE.Group=YQ;var ZTe=lt((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const eSe=ZTe;var tSe=Object.defineProperty,kE=Object.getOwnPropertySymbols,eX=Object.prototype.hasOwnProperty,tX=Object.prototype.propertyIsEnumerable,H8=(e,t,n)=>t in e?tSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nSe=(e,t)=>{for(var n in t||(t={}))eX.call(t,n)&&H8(e,n,t[n]);if(kE)for(var n of kE(t))tX.call(t,n)&&H8(e,n,t[n]);return e},rSe=(e,t)=>{var n={};for(var r in e)eX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kE)for(var r of kE(e))t.indexOf(r)<0&&tX.call(e,r)&&(n[r]=e[r]);return n};const iSe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},nX=E.forwardRef((e,t)=>{const n=ft("Container",iSe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=rSe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=eSe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return N.createElement(ut,nSe({className:c(l.root,r),ref:t},u))});nX.displayName="@mantine/core/Container";function rX({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=WK({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?N.createElement(N.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,g)=>(p[g]=qK({duration:e[g].duration,transition:e[g].transition,timingFunction:e[g].timingFunction||d,state:f}),p),{});return N.createElement(N.Fragment,null,i(h))}rX.displayName="@mantine/core/GroupedTransition";var sSe=lt((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const oSe=sSe;var aSe=Object.defineProperty,uSe=Object.defineProperties,lSe=Object.getOwnPropertyDescriptors,DE=Object.getOwnPropertySymbols,iX=Object.prototype.hasOwnProperty,sX=Object.prototype.propertyIsEnumerable,q8=(e,t,n)=>t in e?aSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RC=(e,t)=>{for(var n in t||(t={}))iX.call(t,n)&&q8(e,n,t[n]);if(DE)for(var n of DE(t))sX.call(t,n)&&q8(e,n,t[n]);return e},cSe=(e,t)=>uSe(e,lSe(t)),fSe=(e,t)=>{var n={};for(var r in e)iX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DE)for(var r of DE(e))t.indexOf(r)<0&&sX.call(e,r)&&(n[r]=e[r]);return n};const dSe={opacity:.6,color:"#fff",zIndex:Ao("modal"),radius:0,blur:0},oX=E.forwardRef((e,t)=>{const n=ft("Overlay",dSe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=fSe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=oSe({zIndex:a},{name:"Overlay",unstyled:c}),g=o?{backgroundImage:o}:{backgroundColor:s},y=m=>N.createElement(ut,RC({ref:t,className:p(h.root,f),sx:[_=>cSe(RC({},g),{opacity:r,borderRadius:_.fn.size({size:u,sizes:_.radius})}),...Hd(l)]},m));return i?N.createElement(ut,RC({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Hd(l)]},d),y()):y(d)});oX.displayName="@mantine/core/Overlay";const hSe=oX,pSe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var mSe=Object.defineProperty,gSe=Object.defineProperties,ySe=Object.getOwnPropertyDescriptors,$E=Object.getOwnPropertySymbols,aX=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,W8=(e,t,n)=>t in e?mSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Se=(e,t)=>{for(var n in t||(t={}))aX.call(t,n)&&W8(e,n,t[n]);if($E)for(var n of $E(t))uX.call(t,n)&&W8(e,n,t[n]);return e},vSe=(e,t)=>gSe(e,ySe(t)),bSe=(e,t)=>{var n={};for(var r in e)aX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$E)for(var r of $E(e))t.indexOf(r)<0&&uX.call(e,r)&&(n[r]=e[r]);return n};const wSe={},By=E.forwardRef((e,t)=>{const n=ft("Flex",wSe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=bSe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return N.createElement(ut,vSe(_Se({},f),{sx:[{display:"flex"},d=>N2({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,pSe),...Hd(c)],ref:t}))});By.displayName="@mantine/core/Flex";const lX=E.createContext(null),ESe=lX.Provider,TSe=()=>E.useContext(lX);var SSe=Object.defineProperty,Y8=Object.getOwnPropertySymbols,xSe=Object.prototype.hasOwnProperty,ISe=Object.prototype.propertyIsEnumerable,G8=(e,t,n)=>t in e?SSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ASe=(e,t)=>{for(var n in t||(t={}))xSe.call(t,n)&&G8(e,n,t[n]);if(Y8)for(var n of Y8(t))ISe.call(t,n)&&G8(e,n,t[n]);return e};const $D=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,cX=(e,t,n)=>n||e==="auto"||e==="content"?"unset":$D(e,t),fX=(e,t)=>{if(e)return e==="auto"||t?1:0},dX=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function CSe({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:s}){return dme.reduce((o,a)=>(o[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:$D(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:cX(e[a],i,s),marginLeft:dX(t[a],i),flexGrow:fX(e[a],s)},o),{})}var OSe=lt((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:s,offsetMd:o,offsetLg:a,offsetXl:u,columns:l,span:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:T,orderXl:S})=>({root:ASe({boxSizing:"border-box",flexGrow:fX(c,n),order:y,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:dX(r,l),flexBasis:$D(c,l),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:cX(c,l,n)},CSe({sizes:{xs:f,sm:d,md:h,lg:p,xl:g},offsets:{xs:i,sm:s,md:o,lg:a,xl:u},orders:{xs:m,sm:_,md:v,lg:T,xl:S},theme:e,columns:l,grow:n}))}));const PSe=OSe;var RSe=Object.defineProperty,LE=Object.getOwnPropertySymbols,hX=Object.prototype.hasOwnProperty,pX=Object.prototype.propertyIsEnumerable,K8=(e,t,n)=>t in e?RSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NSe=(e,t)=>{for(var n in t||(t={}))hX.call(t,n)&&K8(e,n,t[n]);if(LE)for(var n of LE(t))pX.call(t,n)&&K8(e,n,t[n]);return e},kSe=(e,t)=>{var n={};for(var r in e)hX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&pX.call(e,r)&&(n[r]=e[r]);return n};const DSe={};function $Se(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const mX=E.forwardRef((e,t)=>{const n=ft("Grid.Col",DSe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:T,orderXl:S,className:w,id:x,unstyled:A}=n,M=kSe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),D=TSe();if(!D)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const $=i||D.columns,{classes:q,cx:W}=PSe({gutter:D.gutter,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:T,orderXl:S,grow:D.grow,columns:D.columns,span:$},{unstyled:A,name:"Col"});return!$Se($)||$>D.columns?null:N.createElement(ut,NSe({className:W(q.root,w),ref:t},M),r)});mX.displayName="@mantine/core/Col";var LSe=lt((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const MSe=LSe;var FSe=Object.defineProperty,ME=Object.getOwnPropertySymbols,gX=Object.prototype.hasOwnProperty,yX=Object.prototype.propertyIsEnumerable,Q8=(e,t,n)=>t in e?FSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BSe=(e,t)=>{for(var n in t||(t={}))gX.call(t,n)&&Q8(e,n,t[n]);if(ME)for(var n of ME(t))yX.call(t,n)&&Q8(e,n,t[n]);return e},jSe=(e,t)=>{var n={};for(var r in e)gX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&yX.call(e,r)&&(n[r]=e[r]);return n};const USe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},gl=E.forwardRef((e,t)=>{const n=ft("Grid",USe,e),{gutter:r,children:i,grow:s,justify:o,align:a,columns:u,className:l,id:c,unstyled:f}=n,d=jSe(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=MSe({gutter:r,justify:o,align:a},{unstyled:f,name:"Grid"});return N.createElement(ESe,{value:{gutter:r,grow:s,columns:u}},N.createElement(ut,BSe({className:p(h.root,l),ref:t},d),i))});gl.Col=mX;gl.displayName="@mantine/core/Grid";function VSe({open:e,close:t,openDelay:n,closeDelay:r}){const i=E.useRef(-1),s=E.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return E.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var zSe=Object.defineProperty,X8=Object.getOwnPropertySymbols,HSe=Object.prototype.hasOwnProperty,qSe=Object.prototype.propertyIsEnumerable,J8=(e,t,n)=>t in e?zSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WSe=(e,t)=>{for(var n in t||(t={}))HSe.call(t,n)&&J8(e,n,t[n]);if(X8)for(var n of X8(t))qSe.call(t,n)&&J8(e,n,t[n]);return e};function YSe(e){return N.createElement("svg",WSe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var GSe=Object.defineProperty,KSe=Object.defineProperties,QSe=Object.getOwnPropertyDescriptors,Z8=Object.getOwnPropertySymbols,XSe=Object.prototype.hasOwnProperty,JSe=Object.prototype.propertyIsEnumerable,e9=(e,t,n)=>t in e?GSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t9=(e,t)=>{for(var n in t||(t={}))XSe.call(t,n)&&e9(e,n,t[n]);if(Z8)for(var n of Z8(t))JSe.call(t,n)&&e9(e,n,t[n]);return e},n9=(e,t)=>KSe(e,QSe(t)),ZSe=lt((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:n9(t9({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:n9(t9({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const exe=ZSe;var txe=Object.defineProperty,FE=Object.getOwnPropertySymbols,_X=Object.prototype.hasOwnProperty,vX=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?txe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NC=(e,t)=>{for(var n in t||(t={}))_X.call(t,n)&&r9(e,n,t[n]);if(FE)for(var n of FE(t))vX.call(t,n)&&r9(e,n,t[n]);return e},nxe=(e,t)=>{var n={};for(var r in e)_X.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&vX.call(e,r)&&(n[r]=e[r]);return n};const rxe={fit:"cover",width:"100%",height:"auto",radius:0},Y_=E.forwardRef((e,t)=>{const n=ft("Image",rxe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:g,caption:y,unstyled:m,style:_}=n,v=nxe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:S}=exe({radius:l},{classNames:p,styles:g,unstyled:m,name:"Image"}),[w,x]=E.useState(!s),A=f&&w;return ps(()=>{x(!1)},[s]),N.createElement(ut,NC({className:S(T.root,r),ref:t,style:NC({width:a},_)},v),N.createElement("figure",{className:T.figure},N.createElement("div",{className:T.imageWrapper},N.createElement("img",NC({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:M=>{x(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(M)}},c)),A&&N.createElement("div",{className:T.placeholder,title:i},d||N.createElement("div",null,N.createElement(YSe,{style:{width:40,height:40}})))),!!y&&N.createElement(_t,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});Y_.displayName="@mantine/core/Image";function ixe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var sxe=E.useLayoutEffect,oxe=function(t){var n=E.useRef(t);return sxe(function(){n.current=t}),n},i9=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},axe=function(t,n){var r=E.useRef();return E.useCallback(function(i){t.current=i,r.current&&i9(r.current,null),r.current=n,n&&i9(n,i)},[n])},s9={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},o9=function(t){Object.keys(s9).forEach(function(n){t.style.setProperty(n,s9[n],"important")})},ro=null,uxe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function lxe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ro||(ro=document.createElement("textarea"),ro.setAttribute("tabindex","-1"),ro.setAttribute("aria-hidden","true"),o9(ro)),ro.parentNode===null&&document.body.appendChild(ro);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;ro.style[h]=o[h]}),o9(ro),ro.value=t;var u=uxe(ro,e);ro.value="x";var l=ro.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var a9=function(){},cxe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},fxe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],dxe=!!document.documentElement.currentStyle,hxe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=cxe(fxe,n),i=r.boxSizing;if(i==="")return null;dxe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},pxe=function(t){var n=oxe(t);E.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},mxe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?a9:o,u=t.onHeightChange,l=u===void 0?a9:u,c=ixe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=E.useRef(null),h=axe(d,n),p=E.useRef(0),g=E.useRef(),y=function(){var v=d.current,T=r&&g.current?g.current:hxe(v);if(T){g.current=T;var S=lxe(T,v.value||v.placeholder||"x",s,i),w=S[0],x=S[1];p.current!==w&&(p.current=w,v.style.setProperty("height",w+"px","important"),l(w,{rowHeight:x}))}},m=function(v){f||y(),a(v)};return E.useLayoutEffect(y),pxe(y),E.createElement("textarea",fr({},c,{onChange:m,ref:h}))},gxe=E.forwardRef(mxe);const yxe=gxe;var _xe=lt(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const vxe=_xe;var bxe=Object.defineProperty,wxe=Object.defineProperties,Exe=Object.getOwnPropertyDescriptors,BE=Object.getOwnPropertySymbols,bX=Object.prototype.hasOwnProperty,wX=Object.prototype.propertyIsEnumerable,u9=(e,t,n)=>t in e?bxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dh=(e,t)=>{for(var n in t||(t={}))bX.call(t,n)&&u9(e,n,t[n]);if(BE)for(var n of BE(t))wX.call(t,n)&&u9(e,n,t[n]);return e},kC=(e,t)=>wxe(e,Exe(t)),Txe=(e,t)=>{var n={};for(var r in e)bX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&wX.call(e,r)&&(n[r]=e[r]);return n};const Sxe={autosize:!1,size:"sm",__staticSelector:"Textarea"},EX=E.forwardRef((e,t)=>{const n=ft("Textarea",Sxe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:g,size:y,__staticSelector:m,sx:_,errorProps:v,descriptionProps:T,labelProps:S,inputWrapperOrder:w,inputContainer:x,unstyled:A,withAsterisk:M}=n,D=Txe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),$=qu(l),{classes:q,cx:W}=vxe(),{systemStyles:V,rest:de}=$f(D),ae=Dh({required:f,ref:t,invalid:!!a,id:$,classNames:kC(Dh({},p),{input:W(q.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:y,multiline:!0,unstyled:A},de);return N.createElement(Ws.Wrapper,Dh(Dh({label:o,error:a,id:$,description:u,required:f,style:d,className:c,classNames:p,styles:g,size:y,__staticSelector:m,sx:_,errorProps:v,labelProps:S,descriptionProps:T,inputContainer:x,inputWrapperOrder:w,unstyled:A,withAsterisk:M},V),h),r?N.createElement(Ws,kC(Dh({},ae),{component:yxe,maxRows:i,minRows:s})):N.createElement(Ws,kC(Dh({},ae),{component:"textarea",rows:s})))});EX.displayName="@mantine/core/Textarea";const TX=E.createContext(null);function xxe(){return E.useContext(TX)||{}}var Ixe=lt((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const Axe=Ixe;var Cxe=Object.defineProperty,jE=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,xX=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?Cxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oxe=(e,t)=>{for(var n in t||(t={}))SX.call(t,n)&&l9(e,n,t[n]);if(jE)for(var n of jE(t))xX.call(t,n)&&l9(e,n,t[n]);return e},Pxe=(e,t)=>{var n={};for(var r in e)SX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&xX.call(e,r)&&(n[r]=e[r]);return n};function IX(e){var t=e,{className:n,children:r,icon:i}=t,s=Pxe(t,["className","children","icon"]);const{icon:o,spacing:a,center:u,listStyleType:l,size:c,withPadding:f}=xxe(),{classNames:d,styles:h,unstyled:p}=V_(),g=i||o,{classes:y,cx:m}=Axe({withPadding:f,size:c,listStyleType:l,center:u,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return N.createElement(ut,Oxe({component:"li",className:m(y.item,{[y.withIcon]:g},n)},s),N.createElement("div",{className:y.itemWrapper},g&&N.createElement("span",{className:y.itemIcon},g),N.createElement("span",null,r)))}IX.displayName="@mantine/core/ListItem";var Rxe=Object.defineProperty,Nxe=Object.defineProperties,kxe=Object.getOwnPropertyDescriptors,c9=Object.getOwnPropertySymbols,Dxe=Object.prototype.hasOwnProperty,$xe=Object.prototype.propertyIsEnumerable,f9=(e,t,n)=>t in e?Rxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lxe=(e,t)=>{for(var n in t||(t={}))Dxe.call(t,n)&&f9(e,n,t[n]);if(c9)for(var n of c9(t))$xe.call(t,n)&&f9(e,n,t[n]);return e},Mxe=(e,t)=>Nxe(e,kxe(t)),Fxe=lt((e,{withPadding:t,size:n,listStyleType:r})=>({root:Mxe(Lxe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const Bxe=Fxe;var jxe=Object.defineProperty,UE=Object.getOwnPropertySymbols,AX=Object.prototype.hasOwnProperty,CX=Object.prototype.propertyIsEnumerable,d9=(e,t,n)=>t in e?jxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uxe=(e,t)=>{for(var n in t||(t={}))AX.call(t,n)&&d9(e,n,t[n]);if(UE)for(var n of UE(t))CX.call(t,n)&&d9(e,n,t[n]);return e},Vxe=(e,t)=>{var n={};for(var r in e)AX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&CX.call(e,r)&&(n[r]=e[r]);return n};const zxe={type:"unordered",size:"md",spacing:0},um=E.forwardRef((e,t)=>{const n=ft("List",zxe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,g=Vxe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:m}=Bxe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return N.createElement(BY,{classNames:h,styles:d,unstyled:p},N.createElement(TX.Provider,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a}},N.createElement(ut,Uxe({component:i==="unordered"?"ul":"ol",className:m(y.root,f),ref:t},g),r)))});um.Item=IX;um.displayName="@mantine/core/List";var Hxe=lt(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const qxe=Hxe;var Wxe=Object.defineProperty,VE=Object.getOwnPropertySymbols,OX=Object.prototype.hasOwnProperty,PX=Object.prototype.propertyIsEnumerable,h9=(e,t,n)=>t in e?Wxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yxe=(e,t)=>{for(var n in t||(t={}))OX.call(t,n)&&h9(e,n,t[n]);if(VE)for(var n of VE(t))PX.call(t,n)&&h9(e,n,t[n]);return e},Gxe=(e,t)=>{var n={};for(var r in e)OX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&PX.call(e,r)&&(n[r]=e[r]);return n};function RX(e){var t=e,{children:n,className:r}=t,i=Gxe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=V_(),{classes:u,cx:l}=qxe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return N.createElement(ut,Yxe({className:l(u.divider,r)},i))}RX.displayName="@mantine/core/MenuDivider";const NX={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[Kxe,LD]=dY(NX.context);var Qxe=Object.defineProperty,zE=Object.getOwnPropertySymbols,kX=Object.prototype.hasOwnProperty,DX=Object.prototype.propertyIsEnumerable,p9=(e,t,n)=>t in e?Qxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xxe=(e,t)=>{for(var n in t||(t={}))kX.call(t,n)&&p9(e,n,t[n]);if(zE)for(var n of zE(t))DX.call(t,n)&&p9(e,n,t[n]);return e},Jxe=(e,t)=>{var n={};for(var r in e)kX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&DX.call(e,r)&&(n[r]=e[r]);return n};function $X(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=Jxe(t,["children","onMouseEnter","onMouseLeave"]);const o=E.useRef(),a=LD(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=ml(r,()=>a.trigger==="hover"&&a.openDropdown()),c=ml(i,()=>a.trigger==="hover"&&a.closeDropdown());return N.createElement(Go.Dropdown,Xxe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),N.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}$X.displayName="@mantine/core/MenuDropdown";var Zxe=Object.defineProperty,eIe=Object.defineProperties,tIe=Object.getOwnPropertyDescriptors,m9=Object.getOwnPropertySymbols,nIe=Object.prototype.hasOwnProperty,rIe=Object.prototype.propertyIsEnumerable,g9=(e,t,n)=>t in e?Zxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iIe=(e,t)=>{for(var n in t||(t={}))nIe.call(t,n)&&g9(e,n,t[n]);if(m9)for(var n of m9(t))rIe.call(t,n)&&g9(e,n,t[n]);return e},sIe=(e,t)=>eIe(e,tIe(t)),oIe=lt((e,{color:t,radius:n})=>({item:sIe(iIe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const aIe=oIe;var uIe=Object.defineProperty,lIe=Object.defineProperties,cIe=Object.getOwnPropertyDescriptors,HE=Object.getOwnPropertySymbols,LX=Object.prototype.hasOwnProperty,MX=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?uIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fIe=(e,t)=>{for(var n in t||(t={}))LX.call(t,n)&&y9(e,n,t[n]);if(HE)for(var n of HE(t))MX.call(t,n)&&y9(e,n,t[n]);return e},dIe=(e,t)=>lIe(e,cIe(t)),hIe=(e,t)=>{var n={};for(var r in e)LX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&MX.call(e,r)&&(n[r]=e[r]);return n};const FX=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=hIe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=LD(),{classNames:f,styles:d,unstyled:h}=V_(),{classes:p,cx:g,theme:y}=aIe({radius:c.radius,color:s},{name:"Menu",classNames:f,styles:d,unstyled:h}),m=E.useRef(),_=c.getItemIndex(m.current),v=l,T=ml(v.onMouseLeave,()=>c.setHovered(-1)),S=ml(v.onMouseEnter,()=>c.setHovered(c.getItemIndex(m.current))),w=ml(v.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),x=ml(v.onFocus,()=>c.setHovered(c.getItemIndex(m.current)));return N.createElement(ut,dIe(fIe({component:"button",type:"button"},l),{tabIndex:-1,onFocus:x,className:g(p.item,i),ref:na(m,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===_?!0:void 0,onMouseEnter:S,onMouseLeave:T,onClick:w,onKeyDown:Npe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y.dir,orientation:"vertical",onKeyDown:v.onKeydown})}),a&&N.createElement("div",{className:p.itemIcon},a),r&&N.createElement("div",{className:p.itemLabel},r),u&&N.createElement("div",{className:p.itemRightSection},u))});FX.displayName="@mantine/core/MenuItem";const pIe=FX;var mIe=lt(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const gIe=mIe;var yIe=Object.defineProperty,qE=Object.getOwnPropertySymbols,BX=Object.prototype.hasOwnProperty,jX=Object.prototype.propertyIsEnumerable,_9=(e,t,n)=>t in e?yIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Ie=(e,t)=>{for(var n in t||(t={}))BX.call(t,n)&&_9(e,n,t[n]);if(qE)for(var n of qE(t))jX.call(t,n)&&_9(e,n,t[n]);return e},vIe=(e,t)=>{var n={};for(var r in e)BX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&jX.call(e,r)&&(n[r]=e[r]);return n};function UX(e){var t=e,{children:n,className:r}=t,i=vIe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=V_(),{classes:u,cx:l}=gIe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return N.createElement(_t,_Ie({className:l(u.label,r)},i),n)}UX.displayName="@mantine/core/MenuLabel";var bIe=Object.defineProperty,WE=Object.getOwnPropertySymbols,VX=Object.prototype.hasOwnProperty,zX=Object.prototype.propertyIsEnumerable,v9=(e,t,n)=>t in e?bIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wIe=(e,t)=>{for(var n in t||(t={}))VX.call(t,n)&&v9(e,n,t[n]);if(WE)for(var n of WE(t))zX.call(t,n)&&v9(e,n,t[n]);return e},EIe=(e,t)=>{var n={};for(var r in e)VX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&zX.call(e,r)&&(n[r]=e[r]);return n};const HX=E.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,s=EIe(n,["children","refProp"]);if(!B_(r))throw new Error(NX.children);const o=LD(),a=ml(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=ml(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=ml(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return N.createElement(Go.Target,wIe({refProp:i,popupType:"menu",ref:t},s),E.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});HX.displayName="@mantine/core/MenuTarget";var TIe=lt({dropdown:{padding:4}});const SIe=TIe;var xIe=Object.defineProperty,IIe=Object.defineProperties,AIe=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,WX=Object.prototype.propertyIsEnumerable,b9=(e,t,n)=>t in e?xIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w9=(e,t)=>{for(var n in t||(t={}))qX.call(t,n)&&b9(e,n,t[n]);if(YE)for(var n of YE(t))WX.call(t,n)&&b9(e,n,t[n]);return e},E9=(e,t)=>IIe(e,AIe(t)),CIe=(e,t)=>{var n={};for(var r in e)qX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&WX.call(e,r)&&(n[r]=e[r]);return n};const OIe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Fo(e){const t=ft("Menu",OIe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:g,unstyled:y,radius:m}=t,_=CIe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:v,cx:T}=SIe(),[S,{setHovered:w,resetHovered:x}]=Lpe(),[A,M]=Zo({value:s,defaultValue:o,finalValue:!1,onChange:a}),D=()=>{M(!1),A&&(i==null||i())},$=()=>{M(!0),!A&&(r==null||r())},q=()=>A?D():$(),{openDropdown:W,closeDropdown:V}=VSe({open:$,close:D,closeDelay:h,openDelay:d}),de=ae=>kpe("[data-menu-item]","[data-menu-dropdown]",ae);return ps(()=>{x()},[A]),N.createElement(Kxe,{value:{opened:A,toggleDropdown:q,getItemIndex:de,hovered:S,setHovered:w,closeOnItemClick:u,closeDropdown:f==="click"?D:V,openDropdown:f==="click"?$:W,closeDropdownImmediately:D,loop:l,trigger:f,radius:m}},N.createElement(Go,E9(w9({},_),{radius:m,opened:A,onChange:M,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:E9(w9({},p),{dropdown:T(v.dropdown,p==null?void 0:p.dropdown)}),styles:g,unstyled:y,onClose:D,onOpen:$}),n))}Fo.displayName="@mantine/core/Menu";Fo.Item=pIe;Fo.Label=UX;Fo.Dropdown=$X;Fo.Target=HX;Fo.Divider=RX;var PIe=Object.defineProperty,T9=Object.getOwnPropertySymbols,RIe=Object.prototype.hasOwnProperty,NIe=Object.prototype.propertyIsEnumerable,S9=(e,t,n)=>t in e?PIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kIe=(e,t)=>{for(var n in t||(t={}))RIe.call(t,n)&&S9(e,n,t[n]);if(T9)for(var n of T9(t))NIe.call(t,n)&&S9(e,n,t[n]);return e};const DIe={xs:320,sm:380,md:440,lg:620,xl:780};function $Ie(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var LIe=lt((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:kIe({position:"relative",width:s?"100vw":e.fn.size({sizes:DIe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},$Ie(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const MIe=LIe;var FIe=Object.defineProperty,GE=Object.getOwnPropertySymbols,YX=Object.prototype.hasOwnProperty,GX=Object.prototype.propertyIsEnumerable,x9=(e,t,n)=>t in e?FIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BIe=(e,t)=>{for(var n in t||(t={}))YX.call(t,n)&&x9(e,n,t[n]);if(GE)for(var n of GE(t))GX.call(t,n)&&x9(e,n,t[n]);return e},jIe=(e,t)=>{var n={};for(var r in e)YX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&GX.call(e,r)&&(n[r]=e[r]);return n};const UIe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Ao("modal"),exitTransitionDuration:0};function Lx(e){const t=ft("Modal",UIe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:g,padding:y,shadow:m,radius:_,id:v,classNames:T,styles:S,closeOnClickOutside:w,trapFocus:x,closeOnEscape:A,centered:M,target:D,withinPortal:$,zIndex:q,overlayBlur:W,transitionTimingFunction:V,fullScreen:de,unstyled:ae,lockScroll:pe,withFocusReturn:ee}=t,ie=jIe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),K=qu(v),I=`${K}-title`,C=`${K}-body`,{classes:z,cx:R,theme:P}=MIe({size:l,overflow:p,centered:M,zIndex:q,fullScreen:de},{unstyled:ae,classNames:T,styles:S,name:"Modal"}),Y=WY(x&&r),se=E.useRef(null),ue=na(Y,se),he=typeof u=="number"?u:P.colorScheme==="dark"?.85:.75;i0e(pe&&r);const fe=Je=>{!x&&Je.key==="Escape"&&A&&s()};E.useEffect(()=>{if(!x)return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[x]),VY({opened:r,shouldReturnFocus:x&&ee});const Se=E.useRef(null);R2("mousedown",Je=>{Se.current=Je.target});const me=()=>{Se.current===se.current&&w&&s()};return N.createElement(z_,{withinPortal:$,target:D},N.createElement(rX,{mounted:r,duration:c,exitDuration:f,timingFunction:V,transitions:{modal:{duration:c,transition:g||(de?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},Je=>N.createElement(N.Fragment,null,N.createElement(ut,BIe({id:K,className:R(z.root,n)},ie),N.createElement("div",{style:Je.overlay},N.createElement(hSe,{className:z.overlay,sx:{position:"fixed"},zIndex:0,blur:W,color:h||(P.colorScheme==="dark"?P.colors.dark[9]:P.black),opacity:he,unstyled:ae})),N.createElement("div",{role:"presentation",className:z.inner,onClick:me,onKeyDown:Ge=>{var qe;((qe=Ge.target)==null?void 0:qe.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ge.key==="Escape"&&A&&s()},ref:ue},N.createElement(CQ,{className:z.modal,shadow:m,p:y,radius:_,role:"dialog","aria-labelledby":I,"aria-describedby":C,"aria-modal":!0,tabIndex:-1,style:Je.modal,unstyled:ae,onClick:Ge=>Ge.stopPropagation()},(i||a)&&N.createElement("div",{className:z.header},N.createElement(_t,{id:I,className:z.title},i),a&&N.createElement(Ax,{iconSize:16,onClick:s,"aria-label":d,className:z.close})),N.createElement("div",{id:C,className:z.body},o)))))))}Lx.displayName="@mantine/core/Modal";const VIe={xs:16,sm:22,md:26,lg:30,xl:36},zIe={xs:10,sm:12,md:14,lg:16,xl:18};var HIe=lt((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:VIe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:zIe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const qIe=HIe;var WIe=Object.defineProperty,KE=Object.getOwnPropertySymbols,KX=Object.prototype.hasOwnProperty,QX=Object.prototype.propertyIsEnumerable,I9=(e,t,n)=>t in e?WIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YIe=(e,t)=>{for(var n in t||(t={}))KX.call(t,n)&&I9(e,n,t[n]);if(KE)for(var n of KE(t))QX.call(t,n)&&I9(e,n,t[n]);return e},GIe=(e,t)=>{var n={};for(var r in e)KX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&QX.call(e,r)&&(n[r]=e[r]);return n};const A9={xs:16,sm:22,md:24,lg:26,xl:30};function XX(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=GIe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=qIe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return N.createElement("div",YIe({className:p(h.defaultValue,s)},d),N.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&N.createElement(Ax,{"aria-hidden":!0,onMouseDown:o,size:A9[l],radius:2,color:"blue",variant:"transparent",iconSize:A9[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}XX.displayName="@mantine/core/MultiSelect/DefaultValue";function KIe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s}){if(!t&&s.length===0)return e;if(!t){const a=[];for(let u=0;u<e.length;u+=1)s.some(l=>l===e[u].value&&!e[u].disabled)||a.push(e[u]);return a}const o=[];for(let a=0;a<e.length&&(i(r,s.some(u=>u===e[a].value&&!e[a].disabled),e[a])&&o.push(e[a]),!(o.length>=n));a+=1);return o}var QIe=Object.defineProperty,QE=Object.getOwnPropertySymbols,JX=Object.prototype.hasOwnProperty,ZX=Object.prototype.propertyIsEnumerable,C9=(e,t,n)=>t in e?QIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O9=(e,t)=>{for(var n in t||(t={}))JX.call(t,n)&&C9(e,n,t[n]);if(QE)for(var n of QE(t))ZX.call(t,n)&&C9(e,n,t[n]);return e},XIe=(e,t)=>{var n={};for(var r in e)JX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&ZX.call(e,r)&&(n[r]=e[r]);return n};const JIe={xs:14,sm:18,md:20,lg:24,xl:28};function ZIe(e){var t=e,{size:n,error:r,style:i}=t,s=XIe(t,["size","error","style"]);const o=Fi(),a=o.fn.size({size:n,sizes:JIe});return N.createElement("svg",O9({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:O9({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),N.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function eJ({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?N.createElement(Ax,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):N.createElement(ZIe,{error:i,size:r})}eJ.displayName="@mantine/core/SelectRightSection";var eAe=Object.defineProperty,tAe=Object.defineProperties,nAe=Object.getOwnPropertyDescriptors,XE=Object.getOwnPropertySymbols,tJ=Object.prototype.hasOwnProperty,nJ=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?eAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DC=(e,t)=>{for(var n in t||(t={}))tJ.call(t,n)&&P9(e,n,t[n]);if(XE)for(var n of XE(t))nJ.call(t,n)&&P9(e,n,t[n]);return e},R9=(e,t)=>tAe(e,nAe(t)),rAe=(e,t)=>{var n={};for(var r in e)tJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XE)for(var r of XE(e))t.indexOf(r)<0&&nJ.call(e,r)&&(n[r]=e[r]);return n};const iAe={xs:24,sm:30,md:34,lg:44,xl:54};function rJ(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=rAe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:iAe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&N.createElement(eJ,DC({},o)),styles:R9(DC({},a),{rightSection:R9(DC({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var sAe=Object.defineProperty,oAe=Object.defineProperties,aAe=Object.getOwnPropertyDescriptors,N9=Object.getOwnPropertySymbols,uAe=Object.prototype.hasOwnProperty,lAe=Object.prototype.propertyIsEnumerable,k9=(e,t,n)=>t in e?sAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cAe=(e,t)=>{for(var n in t||(t={}))uAe.call(t,n)&&k9(e,n,t[n]);if(N9)for(var n of N9(t))lAe.call(t,n)&&k9(e,n,t[n]);return e},fAe=(e,t)=>oAe(e,aAe(t)),dAe=lt((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Rs})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:fAe(cAe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Rs})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const hAe=dAe;var pAe=Object.defineProperty,mAe=Object.defineProperties,gAe=Object.getOwnPropertyDescriptors,JE=Object.getOwnPropertySymbols,iJ=Object.prototype.hasOwnProperty,sJ=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?pAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$h=(e,t)=>{for(var n in t||(t={}))iJ.call(t,n)&&D9(e,n,t[n]);if(JE)for(var n of JE(t))sJ.call(t,n)&&D9(e,n,t[n]);return e},$9=(e,t)=>mAe(e,gAe(t)),yAe=(e,t)=>{var n={};for(var r in e)iJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&sJ.call(e,r)&&(n[r]=e[r]);return n};function _Ae(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function vAe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function L9(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const bAe={size:"sm",valueComponent:XX,itemComponent:vD,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:_Ae,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:vAe,switchDirectionOnFlip:!1,zIndex:Ao("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},oJ=E.forwardRef((e,t)=>{const n=ft("MultiSelect",bAe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:g,onChange:y,valueComponent:m,itemComponent:_,id:v,transition:T,transitionDuration:S,transitionTimingFunction:w,maxDropdownHeight:x,shadow:A,nothingFound:M,onFocus:D,onBlur:$,searchable:q,placeholder:W,filter:V,limit:de,clearSearchOnChange:ae,clearable:pe,clearSearchOnBlur:ee,clearButtonLabel:ie,variant:K,onSearchChange:I,searchValue:C,disabled:z,initiallyOpened:R,radius:P,icon:Y,rightSection:se,rightSectionWidth:ue,creatable:he,getCreateLabel:fe,shouldCreate:Se,onCreate:me,sx:Je,dropdownComponent:Ge,onDropdownClose:qe,onDropdownOpen:Le,maxSelectedValues:Ae,withinPortal:Ve,switchDirectionOnFlip:Zt,zIndex:Me,selectOnBlur:Ue,name:wt,dropdownPosition:ze,errorProps:gt,labelProps:Gt,descriptionProps:un,clearButtonTabIndex:Gn,form:ce,positionDependencies:Ee,onKeyDown:Fe,unstyled:ot,inputContainer:$e,inputWrapperOrder:at,readOnly:Be,withAsterisk:rt}=n,wn=yAe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:qt,cx:xt,theme:Bn}=hAe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:ot,name:"MultiSelect"}),{systemStyles:En,rest:da}=$f(wn),dr=E.useRef(),ji=E.useRef(),br=E.useRef({}),Lr=qu(v),[hr,jn]=E.useState(R),[en,oi]=E.useState(-1),[wr,Mr]=E.useState("column"),[vi,ws]=Zo({value:C,defaultValue:"",finalValue:void 0,onChange:I}),[X,U]=E.useState(!1),{scrollIntoView:Z,targetRef:ye,scrollableRef:ge}=QY({duration:0,offset:5,cancelable:!1,isList:!0}),Ke=he&&typeof fe=="function";let Te=null;const We=g.map(Xe=>typeof Xe=="string"?{label:Xe,value:Xe}:Xe),dt=hY({data:We}),[nt,mt]=Zo({value:L9(h,g),defaultValue:L9(p,g),finalValue:[],onChange:y}),Lt=E.useRef(!!Ae&&Ae<nt.length),$n=Xe=>{if(!Be){const zt=nt.filter(Hn=>Hn!==Xe);mt(zt),Ae&&zt.length<Ae&&(Lt.current=!1)}},pt=Xe=>{ws(Xe.currentTarget.value),!z&&!Lt.current&&q&&jn(!0)},An=Xe=>{typeof D=="function"&&D(Xe),!z&&!Lt.current&&q&&jn(!0)},Et=KIe({data:dt,searchable:q,searchValue:vi,limit:de,filter:V,value:nt}),gn=(Xe,zt,Hn)=>{let ai=Xe;for(;Hn(ai);)if(ai=zt(ai),!Et[ai].disabled)return ai;return Xe};ps(()=>{oi(-1)},[vi]),ps(()=>{!z&&nt.length>g.length&&jn(!1),Ae&&nt.length<Ae&&(Lt.current=!1),Ae&&nt.length>=Ae&&(Lt.current=!0,jn(!1))},[nt]);const nr=Xe=>{if(!Be)if(ae&&ws(""),nt.includes(Xe.value))$n(Xe.value);else{if(Xe.creatable&&typeof me=="function"){const zt=me(Xe.value);typeof zt<"u"&&zt!==null&&mt(typeof zt=="string"?[...nt,zt]:[...nt,zt.value])}else mt([...nt,Xe.value]);nt.length===Ae-1&&(Lt.current=!0,jn(!1)),en===Et.length-1&&oi(Et.length-2),Et.length===1&&jn(!1)}},Gr=Xe=>{typeof $=="function"&&$(Xe),Ue&&Et[en]&&hr&&nr(Et[en]),ee&&ws(""),jn(!1)},Rr=Xe=>{if(X||(Fe==null||Fe(Xe),Be)||Xe.key!=="Backspace"&&Ae&&Lt.current)return;const zt=wr==="column",Hn=()=>{oi(Es=>{var k;const Q=gn(Es,B=>B+1,B=>B<Et.length-1);return hr&&(ye.current=br.current[(k=Et[Q])==null?void 0:k.value],Z({alignment:zt?"end":"start"})),Q})},ai=()=>{oi(Es=>{var k;const Q=gn(Es,B=>B-1,B=>B>0);return hr&&(ye.current=br.current[(k=Et[Q])==null?void 0:k.value],Z({alignment:zt?"start":"end"})),Q})};switch(Xe.key){case"ArrowUp":{Xe.preventDefault(),jn(!0),zt?ai():Hn();break}case"ArrowDown":{Xe.preventDefault(),jn(!0),zt?Hn():ai();break}case"Enter":{Xe.preventDefault(),Et[en]&&hr?nr(Et[en]):jn(!0);break}case" ":{q||(Xe.preventDefault(),Et[en]&&hr?nr(Et[en]):jn(!0));break}case"Backspace":{nt.length>0&&vi.length===0&&(mt(nt.slice(0,-1)),jn(!0),Ae&&(Lt.current=!1));break}case"Home":{if(!q){Xe.preventDefault(),hr||jn(!0);const Es=Et.findIndex(k=>!k.disabled);oi(Es),Z({alignment:zt?"end":"start"})}break}case"End":{if(!q){Xe.preventDefault(),hr||jn(!0);const Es=Et.map(k=>!!k.disabled).lastIndexOf(!1);oi(Es),Z({alignment:zt?"end":"start"})}break}case"Escape":jn(!1)}},us=nt.map(Xe=>{let zt=dt.find(Hn=>Hn.value===Xe&&!Hn.disabled);return!zt&&Ke&&(zt={value:Xe,label:Xe}),zt}).filter(Xe=>!!Xe).map(Xe=>N.createElement(m,$9($h({},Xe),{variant:K,disabled:z,className:qt.value,readOnly:Be,onRemove:zt=>{zt.preventDefault(),zt.stopPropagation(),$n(Xe.value)},key:Xe.value,size:u,styles:f,classNames:c,radius:P}))),bi=()=>{var Xe;ws(""),mt([]),(Xe=dr.current)==null||Xe.focus(),Ae&&(Lt.current=!1)};Ke&&Se(vi,dt)&&(Te=fe(vi),Et.push({label:vi,value:vi,creatable:!0}));const pr=!Be&&(Et.length>0?hr:hr&&!!M);return ps(()=>{const Xe=pr?Le:qe;typeof Xe=="function"&&Xe()},[pr]),N.createElement(Ws.Wrapper,$h($h({required:s,id:Lr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:Je,errorProps:gt,descriptionProps:un,labelProps:Gt,inputContainer:$e,inputWrapperOrder:at,unstyled:ot,withAsterisk:rt},En),d),N.createElement(Zc,{opened:pr,transition:T,transitionDuration:S,shadow:"sm",withinPortal:Ve,__staticSelector:"MultiSelect",onDirectionChange:Mr,switchDirectionOnFlip:Zt,zIndex:Me,dropdownPosition:ze,positionDependencies:Ee,classNames:c,styles:f,unstyled:ot},N.createElement(Zc.Target,null,N.createElement("div",{className:qt.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":hr&&pr?`${Lr}-items`:null,"aria-controls":Lr,"aria-expanded":hr,onMouseLeave:()=>oi(-1),tabIndex:-1,ref:ji},N.createElement("input",{type:"hidden",name:wt,value:nt.join(","),form:ce,disabled:z}),N.createElement(Ws,$h({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:K,disabled:z,invalid:!!l,required:s,radius:P,icon:Y,unstyled:ot,onMouseDown:Xe=>{var zt;Xe.preventDefault(),!z&&!Lt.current&&jn(!hr),(zt=dr.current)==null||zt.focus()},classNames:$9($h({},c),{input:xt({[qt.input]:!q},c==null?void 0:c.input)})},rJ({theme:Bn,rightSection:se,rightSectionWidth:ue,styles:f,size:u,shouldClear:pe&&nt.length>0,clearButtonLabel:ie,onClear:bi,error:l,disabled:z,clearButtonTabIndex:Gn,readOnly:Be})),N.createElement("div",{className:qt.values},us,N.createElement("input",$h({ref:na(t,dr),type:"search",id:Lr,className:xt(qt.searchInput,{[qt.searchInputPointer]:!q,[qt.searchInputInputHidden]:!hr&&nt.length>0||!q&&nt.length>0,[qt.searchInputEmpty]:nt.length===0}),onKeyDown:Rr,value:vi,onChange:pt,onFocus:An,onBlur:Gr,readOnly:!q||Lt.current||Be,placeholder:nt.length===0?W:void 0,disabled:z,"data-mantine-stop-propagation":hr,autoComplete:"off",onCompositionStart:()=>U(!0),onCompositionEnd:()=>U(!1)},da)))))),N.createElement(Zc.Dropdown,{component:Ge||Nx,maxHeight:x,direction:wr,id:Lr,innerRef:ge,__staticSelector:"MultiSelect",classNames:c,styles:f},N.createElement(_D,{data:Et,hovered:en,classNames:c,styles:f,uuid:Lr,__staticSelector:"MultiSelect",onItemHover:oi,onItemSelect:nr,itemsRefs:br,itemComponent:_,size:u,nothingFound:M,creatable:he&&!!Te,createLabel:Te,unstyled:ot}))))});oJ.displayName="@mantine/core/MultiSelect";var wAe=Object.defineProperty,EAe=Object.defineProperties,TAe=Object.getOwnPropertyDescriptors,M9=Object.getOwnPropertySymbols,SAe=Object.prototype.hasOwnProperty,xAe=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?wAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B9=(e,t)=>{for(var n in t||(t={}))SAe.call(t,n)&&F9(e,n,t[n]);if(M9)for(var n of M9(t))xAe.call(t,n)&&F9(e,n,t[n]);return e},IAe=(e,t)=>EAe(e,TAe(t)),AAe=lt((e,{color:t,variant:n,noWrap:r,childrenOffset:i,alignIcon:s})=>{const o=e.fn.variant({variant:n,color:t});return{root:IAe(B9({display:"flex",alignItems:"center",width:"100%",padding:`8px ${e.spacing.sm}px`,userSelect:"none"},e.fn.hover({backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":B9({backgroundColor:o.background,color:o.color},e.fn.hover({backgroundColor:o.hover})),"&[data-disabled]":{opacity:.4,pointerEvents:"none"}}),icon:{marginRight:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",alignSelf:s==="center"?"center":"flex-start",paddingTop:s==="center"?void 0:4},rightSection:{marginLeft:e.spacing.sm,display:"flex",justifyContent:"center",alignItems:"center",transition:`transform 150ms ${e.transitionTimingFunction}`,"&[data-rotate]":{transform:"rotate(90deg)"}},body:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:r?"nowrap":void 0},label:{},description:{display:"block","&[data-active]":{color:"inherit"}},children:{paddingLeft:e.fn.size({size:i,sizes:e.spacing})}}});const CAe=AAe;var OAe=Object.defineProperty,ZE=Object.getOwnPropertySymbols,aJ=Object.prototype.hasOwnProperty,uJ=Object.prototype.propertyIsEnumerable,j9=(e,t,n)=>t in e?OAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PAe=(e,t)=>{for(var n in t||(t={}))aJ.call(t,n)&&j9(e,n,t[n]);if(ZE)for(var n of ZE(t))uJ.call(t,n)&&j9(e,n,t[n]);return e},RAe=(e,t)=>{var n={};for(var r in e)aJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&uJ.call(e,r)&&(n[r]=e[r]);return n};const NAe={variant:"light",childrenOffset:"lg"},lJ=E.forwardRef((e,t)=>{const n=ft("NavLink",NAe,e),{label:r,description:i,icon:s,rightSection:o,className:a,classNames:u,styles:l,unstyled:c,active:f,color:d,variant:h,noWrap:p,children:g,opened:y,defaultOpened:m,onChange:_,disableRightSectionRotation:v,childrenOffset:T,disabled:S,onClick:w}=n,x=RAe(n,["label","description","icon","rightSection","className","classNames","styles","unstyled","active","color","variant","noWrap","children","opened","defaultOpened","onChange","disableRightSectionRotation","childrenOffset","disabled","onClick"]),{classes:A,cx:M}=CAe({color:d,variant:h,noWrap:p,childrenOffset:T,alignIcon:i?"top":"center"},{name:"NavLink",classNames:u,styles:l,unstyled:c}),[D,$]=Zo({value:y,defaultValue:m,finalValue:!1,onChange:_}),q=!!g,W=V=>{q?(V.preventDefault(),w==null||w(V),$(!D)):w==null||w(V)};return N.createElement(N.Fragment,null,N.createElement(Ix,PAe({ref:t,className:M(A.root,a),"data-active":f||void 0,onClick:W,unstyled:c,"data-expanded":D||void 0,"data-disabled":S||void 0,disabled:S},x),s&&N.createElement("span",{className:A.icon},s),N.createElement("span",{className:A.body},N.createElement(_t,{component:"span",size:"sm",className:A.label},r),N.createElement(_t,{component:"span",color:"dimmed",size:"xs","data-active":f||void 0,className:A.description},i)),(q||o)&&N.createElement("span",{className:A.rightSection,"data-rotate":D&&!v||void 0},q?o||N.createElement(fye,{width:14,height:14,style:{transform:"rotate(-90deg)"}}):o)),N.createElement(uG,{in:D},N.createElement("div",{className:A.children},g)))});lJ.displayName="@mantine/core/NavLink";const cJ=lJ,kAe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function U9({direction:e,size:t}){return N.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const fJ={xs:20,sm:24,md:30,lg:34,xl:36};var DAe=lt((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:fJ}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const $Ae=DAe;var LAe=Object.defineProperty,MAe=Object.defineProperties,FAe=Object.getOwnPropertyDescriptors,eT=Object.getOwnPropertySymbols,dJ=Object.prototype.hasOwnProperty,hJ=Object.prototype.propertyIsEnumerable,V9=(e,t,n)=>t in e?LAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$C=(e,t)=>{for(var n in t||(t={}))dJ.call(t,n)&&V9(e,n,t[n]);if(eT)for(var n of eT(t))hJ.call(t,n)&&V9(e,n,t[n]);return e},BAe=(e,t)=>MAe(e,FAe(t)),jAe=(e,t)=>{var n={};for(var r in e)dJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eT)for(var r of eT(e))t.indexOf(r)<0&&hJ.call(e,r)&&(n[r]=e[r]);return n};const UAe={type:"text",size:"sm",__staticSelector:"TextInput"},MD=E.forwardRef((e,t)=>{const n=iQ("TextInput",UAe,e),{inputProps:r,wrapperProps:i}=n,s=jAe(n,["inputProps","wrapperProps"]);return N.createElement(Ws.Wrapper,$C({},i),N.createElement(Ws,BAe($C($C({},r),s),{ref:t})))});MD.displayName="@mantine/core/TextInput";var VAe=Object.defineProperty,zAe=Object.defineProperties,HAe=Object.getOwnPropertyDescriptors,tT=Object.getOwnPropertySymbols,pJ=Object.prototype.hasOwnProperty,mJ=Object.prototype.propertyIsEnumerable,z9=(e,t,n)=>t in e?VAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qAe=(e,t)=>{for(var n in t||(t={}))pJ.call(t,n)&&z9(e,n,t[n]);if(tT)for(var n of tT(t))mJ.call(t,n)&&z9(e,n,t[n]);return e},WAe=(e,t)=>zAe(e,HAe(t)),YAe=(e,t)=>{var n={};for(var r in e)pJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tT)for(var r of tT(e))t.indexOf(r)<0&&mJ.call(e,r)&&(n[r]=e[r]);return n};const GAe=e=>e||"",KAe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},H9={xs:10,sm:14,md:16,lg:18,xl:20},QAe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:GAe,parser:KAe,type:"text"},gJ=E.forwardRef((e,t)=>{const n=ft("NumberInput",QAe,e),{disabled:r,value:i,onChange:s,decimalSeparator:o,min:a,max:u,startValue:l,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:g,onKeyUp:y,hideControls:m,radius:_,variant:v,precision:T,removeTrailingZeros:S,defaultValue:w,noClampOnBlur:x,handlersRef:A,classNames:M,styles:D,size:$,rightSection:q,rightSectionWidth:W,formatter:V,parser:de,inputMode:ae,unstyled:pe,type:ee}=n,ie=YAe(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:K,cx:I,theme:C}=$Ae({radius:_,size:$},{classNames:M,styles:D,unstyled:pe,name:"NumberInput"}),z=$e=>{if($e===void 0)return;let at=$e.toFixed(T);return S&&T>0&&(at=at.replace(new RegExp(`[0]{0,${T}}$`),""),(at.endsWith(".")||at.endsWith(o))&&(at=at.slice(0,-1))),at},[R,P]=E.useState(!1),[Y,se]=E.useState(typeof i=="number"?i:typeof w=="number"?w:void 0),ue=typeof i=="number"?i:Y,[he,fe]=E.useState(typeof ue=="number"?z(ue):""),Se=E.useRef(),me=$e=>{$e!==Y&&!Number.isNaN($e)&&(typeof s=="function"&&s($e),se($e))},Je=($e="")=>{let at=typeof $e=="number"?String($e):$e;return o&&(at=at.replace(/\./g,o)),V(at)},Ge=$e=>{let at=$e;return o&&(at=at.replace(new RegExp(`\\${o}`,"g"),".")),de(at)},qe=typeof a=="number"?a:-1/0,Le=typeof u=="number"?u:1/0,Ae=E.useRef();Ae.current=()=>{var $e,at,Be;if(Y===void 0)me(($e=l??a)!=null?$e:0),fe((Be=(at=z(l))!=null?at:z(a))!=null?Be:"0");else{const rt=z(Xc(Y+c,qe,Le));me(parseFloat(rt)),fe(rt)}};const Ve=E.useRef();Ve.current=()=>{var $e,at,Be;if(Y===void 0)me(($e=l??a)!=null?$e:0),fe((Be=(at=z(l))!=null?at:z(a))!=null?Be:"0");else{const rt=z(Xc(Y-c,qe,Le));me(parseFloat(rt)),fe(rt)}},YY(A,{increment:Ae.current,decrement:Ve.current}),E.useEffect(()=>{typeof i=="number"&&!R&&(se(i),fe(z(i))),w===void 0&&i===void 0&&!R&&(se(i),fe(""))},[i]);const Zt=d!==void 0&&f!==void 0,Me=E.useRef(null),Ue=E.useRef(0),wt=()=>{Me.current&&window.clearTimeout(Me.current),Me.current=null,Ue.current=0},ze=$e=>{$e?Ae.current():Ve.current(),Ue.current+=1},gt=$e=>{if(ze($e),Zt){const at=typeof f=="number"?f:f(Ue.current);Me.current=window.setTimeout(()=>gt($e),at)}},Gt=($e,at)=>{$e.preventDefault(),Se.current.focus(),ze(at),Zt&&(Me.current=window.setTimeout(()=>gt(at),d))};E.useEffect(()=>(wt(),wt),[]);const un=N.createElement("div",{className:K.rightSection},N.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ue>=u,className:I(K.control,K.controlUp),onPointerDown:$e=>{Gt($e,!0)},onPointerUp:wt,onPointerLeave:wt},N.createElement(U9,{size:C.fn.size({size:$,sizes:H9}),direction:"up"})),N.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:ue<=a,className:I(K.control,K.controlDown),onPointerDown:$e=>{Gt($e,!1)},onPointerUp:wt,onPointerLeave:wt},N.createElement(U9,{size:C.fn.size({size:$,sizes:H9}),direction:"down"}))),Gn=$e=>{if($e.nativeEvent.isComposing)return;const Be=$e.target.value,rt=Ge(Be);fe(rt),Be===""||Be==="-"?me(void 0):Be.trim()!==""&&!Number.isNaN(rt)&&me(parseFloat(rt))},ce=$e=>{var at;if($e.target.value==="")fe(""),me(void 0);else{let Be=$e.target.value;(Be[0]===`${o}`||Be[0]===".")&&(Be=`0${Be}`);const rt=Ge(Be),wn=Xc(parseFloat(rt),qe,Le);Number.isNaN(wn)?fe((at=z(ue))!=null?at:""):x||(fe(z(wn)),me(parseFloat(z(wn))))}P(!1),typeof h=="function"&&h($e)},Ee=$e=>{P(!0),typeof p=="function"&&p($e)},Fe=$e=>{if(typeof g=="function"&&g($e),$e.repeat&&Zt&&($e.key==="ArrowUp"||$e.key==="ArrowDown")){$e.preventDefault();return}$e.key==="ArrowUp"?Gt($e,!0):$e.key==="ArrowDown"&&Gt($e,!1)},ot=$e=>{typeof y=="function"&&y($e),($e.key==="ArrowUp"||$e.key==="ArrowDown")&&wt()};return N.createElement(MD,WAe(qAe({},ie),{type:ee,variant:v,value:Je(he),disabled:r,ref:na(Se,t),onChange:Gn,onBlur:ce,onFocus:Ee,onKeyDown:Fe,onKeyUp:ot,rightSection:q||(r||m||v==="unstyled"?null:un),rightSectionWidth:W||C.fn.size({size:$,sizes:fJ})+1,radius:_,max:u,min:a,step:c,size:$,styles:D,classNames:M,inputMode:ae||kAe(c,T,y0e()),__staticSelector:"NumberInput",unstyled:pe}))});gJ.displayName="@mantine/core/NumberInput";const q9={xs:3,sm:5,md:8,lg:12,xl:16},XAe=lge({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var JAe=lt((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:q9}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${XAe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:q9})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const ZAe=JAe,yJ=E.createContext(!1),eCe=yJ.Provider,tCe=()=>E.useContext(yJ);function _J({children:e,openDelay:t=0,closeDelay:n=0}){return N.createElement(eCe,{value:!0},N.createElement(hbe,{delay:{open:t,close:n}},e))}_J.displayName="@mantine/core/TooltipGroup";var nCe=Object.defineProperty,rCe=Object.defineProperties,iCe=Object.getOwnPropertyDescriptors,W9=Object.getOwnPropertySymbols,sCe=Object.prototype.hasOwnProperty,oCe=Object.prototype.propertyIsEnumerable,Y9=(e,t,n)=>t in e?nCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G9=(e,t)=>{for(var n in t||(t={}))sCe.call(t,n)&&Y9(e,n,t[n]);if(W9)for(var n of W9(t))oCe.call(t,n)&&Y9(e,n,t[n]);return e},aCe=(e,t)=>rCe(e,iCe(t));function uCe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var lCe=lt((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:aCe(G9(G9({},e.fn.fontStyles()),uCe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const vJ=lCe,bJ={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function cCe({offset:e,position:t}){const[n,r]=E.useState(!1),i=E.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=AD({placement:t,middleware:[SD({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=E.useCallback(({clientX:g,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+d,top:y+h,right:g,bottom:y}}})},[a]);return E.useEffect(()=>{if(l.floating.current){const g=i.current;g.addEventListener("mousemove",p);const y=Il(l.floating.current);return y.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),y.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,l.floating,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var fCe=Object.defineProperty,dCe=Object.defineProperties,hCe=Object.getOwnPropertyDescriptors,nT=Object.getOwnPropertySymbols,wJ=Object.prototype.hasOwnProperty,EJ=Object.prototype.propertyIsEnumerable,K9=(e,t,n)=>t in e?fCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LC=(e,t)=>{for(var n in t||(t={}))wJ.call(t,n)&&K9(e,n,t[n]);if(nT)for(var n of nT(t))EJ.call(t,n)&&K9(e,n,t[n]);return e},MC=(e,t)=>dCe(e,hCe(t)),pCe=(e,t)=>{var n={};for(var r in e)wJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nT)for(var r of nT(e))t.indexOf(r)<0&&EJ.call(e,r)&&(n[r]=e[r]);return n};const mCe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Ao("popover")};function TJ(e){var t;const n=ft("TooltipFloating",mCe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:g,multiline:y,width:m,zIndex:_,disabled:v}=n,T=pCe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:S,x:w,y:x,opened:A,boundaryRef:M,floating:D,setOpened:$}=cCe({offset:p,position:g}),{classes:q,cx:W}=vJ({radius:f,color:d,multiline:y,width:m},{name:"Tooltip",classNames:u,styles:l,unstyled:c});if(!B_(r))throw new Error(bJ.children);const V=na(M,r.ref),de=pe=>{var ee,ie;(ie=(ee=r.props).onMouseEnter)==null||ie.call(ee,pe),S(pe),$(!0)},ae=pe=>{var ee,ie;(ie=(ee=r.props).onMouseLeave)==null||ie.call(ee,pe),$(!1)};return v?N.createElement(N.Fragment,null,r):N.createElement(N.Fragment,null,N.createElement(z_,{withinPortal:s},N.createElement(ut,MC(LC({},T),{ref:D,className:W(q.tooltip,a),style:MC(LC({},o),{zIndex:_,display:A?"block":"none",top:x??"",left:(t=Math.round(w))!=null?t:""})}),h)),E.cloneElement(r,MC(LC({},r.props),{[i]:V,onMouseEnter:de,onMouseLeave:ae})))}TJ.displayName="@mantine/core/TooltipFloating";function gCe(e){const[t,n]=E.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=tCe(),o=qu(),{delay:a,currentId:u,setCurrentId:l}=FK(),c=E.useCallback(A=>{n(A),A&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:g,refs:y,update:m,placement:_,middlewareData:{arrow:{x:v,y:T}={}}}=AD({placement:e.position,open:i,onOpenChange:c,middleware:[IK(e.offset),SD({padding:8}),xK(),DK({element:e.arrowRef}),...e.inline?[CK()]:[]]}),{getReferenceProps:S,getFloatingProps:w}=lbe([dbe(g,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),vbe(g,{enabled:e.events.focus,keyboardOnly:!0}),mbe(g,{role:"tooltip"}),_be(g,{enabled:typeof e.opened===void 0}),pbe(g,{id:o})]);return BK({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:m}}),ps(()=>{var A;(A=e.onPositionChange)==null||A.call(e,_)},[_]),{x:f,y:d,arrowX:v,arrowY:T,reference:h,floating:p,getFloatingProps:w,getReferenceProps:S,isGroupPhase:i&&u&&u!==o,opened:i,placement:_}}var yCe=Object.defineProperty,_Ce=Object.defineProperties,vCe=Object.getOwnPropertyDescriptors,rT=Object.getOwnPropertySymbols,SJ=Object.prototype.hasOwnProperty,xJ=Object.prototype.propertyIsEnumerable,Q9=(e,t,n)=>t in e?yCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vg=(e,t)=>{for(var n in t||(t={}))SJ.call(t,n)&&Q9(e,n,t[n]);if(rT)for(var n of rT(t))xJ.call(t,n)&&Q9(e,n,t[n]);return e},bCe=(e,t)=>_Ce(e,vCe(t)),wCe=(e,t)=>{var n={};for(var r in e)SJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rT)for(var r of rT(e))t.indexOf(r)<0&&xJ.call(e,r)&&(n[r]=e[r]);return n};const ECe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Ao("popover"),positionDependencies:[]},Mx=E.forwardRef((e,t)=>{const n=E.useRef(null),r=ft("Tooltip",ECe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:g,styles:y,unstyled:m,style:_,className:v,withArrow:T,arrowSize:S,arrowOffset:w,arrowRadius:x,offset:A,transition:M,transitionDuration:D,multiline:$,width:q,events:W,zIndex:V,disabled:de,positionDependencies:ae,onClick:pe,onMouseEnter:ee,onMouseLeave:ie,inline:K}=r,I=wCe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:C,cx:z,theme:R}=vJ({radius:h,color:p,width:q,multiline:$},{name:"Tooltip",classNames:g,styles:y,unstyled:m}),P=gCe({position:ZK(R.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:W,arrowRef:n,offset:A+(T?S/2:0),positionDependencies:[...ae,i],inline:K});if(!B_(i))throw new Error(bJ.children);const Y=na(P.reference,i.ref,t);return N.createElement(N.Fragment,null,N.createElement(z_,{withinPortal:d},N.createElement($x,{mounted:!de&&P.opened,transition:M,duration:P.isGroupPhase?10:D},se=>{var ue,he;return N.createElement(ut,Vg(Vg({},I),P.getFloatingProps({ref:P.floating,className:C.tooltip,style:bCe(Vg(Vg({},_),se),{zIndex:V,top:(ue=P.y)!=null?ue:0,left:(he=P.x)!=null?he:0})})),a,N.createElement(CD,{ref:n,arrowX:P.arrowX,arrowY:P.arrowY,visible:T,withBorder:!1,position:P.placement,arrowSize:S,arrowOffset:w,arrowRadius:x,className:C.arrow}))})),E.cloneElement(i,P.getReferenceProps(Vg({onClick:pe,onMouseEnter:ee,onMouseLeave:ie,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:Y,className:z(v,i.props.className)},i.props))))});Mx.Group=_J;Mx.Floating=TJ;Mx.displayName="@mantine/core/Tooltip";const IJ=Mx;var TCe=Object.defineProperty,SCe=Object.defineProperties,xCe=Object.getOwnPropertyDescriptors,iT=Object.getOwnPropertySymbols,AJ=Object.prototype.hasOwnProperty,CJ=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?TCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z2=(e,t)=>{for(var n in t||(t={}))AJ.call(t,n)&&X9(e,n,t[n]);if(iT)for(var n of iT(t))CJ.call(t,n)&&X9(e,n,t[n]);return e},OJ=(e,t)=>SCe(e,xCe(t)),J9=(e,t)=>{var n={};for(var r in e)AJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iT)for(var r of iT(e))t.indexOf(r)<0&&CJ.call(e,r)&&(n[r]=e[r]);return n};function ICe(e){return e.reduce((t,n)=>(t.sections.push(OJ(z2({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const ACe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},PJ=E.forwardRef((e,t)=>{const n=ft("Progress",ACe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:g}=n,y=J9(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:m,cx:_,theme:v}=ZAe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:g,name:"Progress"}),T=Array.isArray(p)?ICe(p).map((S,w)=>{var x=S,{tooltip:A,accumulated:M,value:D,label:$,color:q}=x,W=J9(x,["tooltip","accumulated","value","label","color"]);return N.createElement(IJ.Floating,{label:A,disabled:!A,key:w},N.createElement(ut,OJ(z2({},W),{className:_(m.bar,W.className),sx:{width:`${D}%`,left:`${M}%`,backgroundColor:v.fn.variant({variant:"filled",primaryFallback:!1,color:q||v.primaryColor}).background}}),$&&N.createElement(_t,{className:m.label},$)))}):null;return N.createElement(ut,z2({className:_(m.root,r),ref:t},y),T||N.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:m.bar,style:{width:`${i}%`}},c?N.createElement(_t,{className:m.label},c):""))});PJ.displayName="@mantine/core/Progress";var CCe=Object.defineProperty,Z9=Object.getOwnPropertySymbols,OCe=Object.prototype.hasOwnProperty,PCe=Object.prototype.propertyIsEnumerable,eB=(e,t,n)=>t in e?CCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RCe=(e,t)=>{for(var n in t||(t={}))OCe.call(t,n)&&eB(e,n,t[n]);if(Z9)for(var n of Z9(t))PCe.call(t,n)&&eB(e,n,t[n]);return e};function NCe(e){return N.createElement("svg",RCe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),N.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const RJ=E.createContext(null),kCe=RJ.Provider,DCe=()=>E.useContext(RJ);var $Ce=Object.defineProperty,sT=Object.getOwnPropertySymbols,NJ=Object.prototype.hasOwnProperty,kJ=Object.prototype.propertyIsEnumerable,tB=(e,t,n)=>t in e?$Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nB=(e,t)=>{for(var n in t||(t={}))NJ.call(t,n)&&tB(e,n,t[n]);if(sT)for(var n of sT(t))kJ.call(t,n)&&tB(e,n,t[n]);return e},LCe=(e,t)=>{var n={};for(var r in e)NJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sT)for(var r of sT(e))t.indexOf(r)<0&&kJ.call(e,r)&&(n[r]=e[r]);return n};const MCe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},DJ=E.forwardRef((e,t)=>{const n=ft("RadioGroup",MCe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=LCe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[g,y]=Zo({value:i,defaultValue:s,finalValue:"",onChange:o}),m=_=>y(_.currentTarget.value);return N.createElement(kCe,{value:{value:g,onChange:m,size:l,name:h}},N.createElement(Ws.Wrapper,nB(nB({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),N.createElement(HQ,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});DJ.displayName="@mantine/core/RadioGroup";var FCe=Object.defineProperty,BCe=Object.defineProperties,jCe=Object.getOwnPropertyDescriptors,rB=Object.getOwnPropertySymbols,UCe=Object.prototype.hasOwnProperty,VCe=Object.prototype.propertyIsEnumerable,iB=(e,t,n)=>t in e?FCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zCe=(e,t)=>{for(var n in t||(t={}))UCe.call(t,n)&&iB(e,n,t[n]);if(rB)for(var n of rB(t))VCe.call(t,n)&&iB(e,n,t[n]);return e},HCe=(e,t)=>BCe(e,jCe(t));const FC={xs:16,sm:20,md:24,lg:30,xl:36},v1={xs:6,sm:8,md:10,lg:14,xl:16};var qCe=lt((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:v1,size:t}),height:e.fn.size({sizes:v1,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:v1,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:v1,size:t})/2}px)`},radio:HCe(zCe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:FC,size:t}),height:e.fn.size({sizes:FC,size:t}),borderRadius:e.fn.size({sizes:FC,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const WCe=qCe;var YCe=Object.defineProperty,oT=Object.getOwnPropertySymbols,$J=Object.prototype.hasOwnProperty,LJ=Object.prototype.propertyIsEnumerable,sB=(e,t,n)=>t in e?YCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b1=(e,t)=>{for(var n in t||(t={}))$J.call(t,n)&&sB(e,n,t[n]);if(oT)for(var n of oT(t))LJ.call(t,n)&&sB(e,n,t[n]);return e},GCe=(e,t)=>{var n={};for(var r in e)$J.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oT)for(var r of oT(e))t.indexOf(r)<0&&LJ.call(e,r)&&(n[r]=e[r]);return n};const KCe={icon:NCe,transitionDuration:100,size:"sm",labelPosition:"right"},aT=E.forwardRef((e,t)=>{var n,r;const i=ft("Radio",KCe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:g,icon:y,transitionDuration:m,wrapperProps:_,unstyled:v,labelPosition:T,description:S,error:w}=i,x=GCe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),A=DCe(),M=(n=A==null?void 0:A.size)!=null?n:l,D=e.size?l:M,{classes:$}=WCe({color:d,size:D,transitionDuration:m,labelPosition:T,error:!!w},{classNames:h,styles:p,unstyled:v,name:"Radio"}),{systemStyles:q,rest:W}=$f(x),V=qu(a),de=A?{checked:A.value===W.value,name:(r=W.name)!=null?r:A.name,onChange:A.onChange}:{};return N.createElement(DD,b1(b1({className:s,sx:g,style:o,id:V,size:D,labelPosition:T,label:u,description:S,error:w,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:v,"data-checked":de.checked||void 0},q),_),N.createElement("div",{className:$.inner},N.createElement("input",b1(b1({ref:t,className:$.radio,type:"radio",id:V,disabled:f},W),de)),N.createElement(y,{className:$.icon,"aria-hidden":!0})))});aT.displayName="@mantine/core/Radio";aT.Group=DJ;var QCe=Object.defineProperty,XCe=Object.defineProperties,JCe=Object.getOwnPropertyDescriptors,oB=Object.getOwnPropertySymbols,ZCe=Object.prototype.hasOwnProperty,eOe=Object.prototype.propertyIsEnumerable,aB=(e,t,n)=>t in e?QCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w1=(e,t)=>{for(var n in t||(t={}))ZCe.call(t,n)&&aB(e,n,t[n]);if(oB)for(var n of oB(t))eOe.call(t,n)&&aB(e,n,t[n]);return e},tOe=(e,t)=>XCe(e,JCe(t));const Ab=4,uB={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var nOe=lt((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:tOe(w1(w1({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:uB[a in uB?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:w1({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:w1({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:Ab},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const rOe=nOe;var iOe=Object.defineProperty,uT=Object.getOwnPropertySymbols,MJ=Object.prototype.hasOwnProperty,FJ=Object.prototype.propertyIsEnumerable,lB=(e,t,n)=>t in e?iOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sOe=(e,t)=>{for(var n in t||(t={}))MJ.call(t,n)&&lB(e,n,t[n]);if(uT)for(var n of uT(t))FJ.call(t,n)&&lB(e,n,t[n]);return e},oOe=(e,t)=>{var n={};for(var r in e)MJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uT)for(var r of uT(e))t.indexOf(r)<0&&FJ.call(e,r)&&(n[r]=e[r]);return n};const aOe={disabled:!1,size:"sm",transitionDuration:200},BJ=E.forwardRef((e,t)=>{var n,r,i,s;const o=ft("SegmentedControl",aOe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:g,size:y,transitionDuration:m,transitionTimingFunction:_,classNames:v,styles:T,defaultValue:S,orientation:w,unstyled:x}=o,A=oOe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),M=Fi(),D=xx(),$=M.respectReducedMotion?D:!1,q=l.map(ue=>typeof ue=="string"?{label:ue,value:ue}:ue),W=E.useRef(),[V,de]=E.useState(!1),[ae,pe]=Zo({value:f,defaultValue:S,finalValue:Array.isArray(q)&&(s=(i=(n=q.find(ue=>!ue.disabled))==null?void 0:n.value)!=null?i:(r=q[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:ee,cx:ie}=rOe({size:y,fullWidth:p,color:h,radius:g,shouldAnimate:$||!V,transitionDuration:m,transitionTimingFunction:_,orientation:w},{classNames:v,styles:T,unstyled:x,name:"SegmentedControl"}),[K,I]=E.useState({width:0,height:0,translate:[0,0]}),C=qu(c),z=E.useRef({}),[R,P]=V0();mD(()=>{W.current?de(!0):(W.current=!0,de(!1))}),E.useEffect(()=>{if(ae in z.current&&R.current){const ue=z.current[ae],he=ue.getBoundingClientRect(),fe=ue.offsetWidth/he.width,Se=he.width*fe||0,me=he.height*fe||0,Je=P.width-ue.parentElement.offsetLeft+Ab-Se,Ge=ue.parentElement.offsetLeft-Ab;I({width:Se,height:me,translate:[M.dir==="rtl"?Je:Ge,ue.parentElement.offsetTop-Ab]})}},[ae,P]);const Y=q.map(ue=>N.createElement("div",{className:ie(ee.control,{[ee.controlActive]:ae===ue.value}),key:ue.value},N.createElement("input",{className:ee.input,disabled:u||ue.disabled,type:"radio",name:C,value:ue.value,id:`${C}-${ue.value}`,checked:ae===ue.value,onChange:()=>pe(ue.value)}),N.createElement("label",{className:ie(ee.label,{[ee.labelActive]:ae===ue.value,[ee.disabled]:u||ue.disabled}),htmlFor:`${C}-${ue.value}`,ref:he=>{z.current[ue.value]=he}},ue.label))),se=na(R,t);return q.length===0?null:N.createElement(ut,sOe({className:ie(ee.root,a),ref:se},A),typeof ae=="string"&&V&&N.createElement(ut,{component:"span",className:ee.active,sx:{width:K.width,height:K.height,transform:`translate(${K.translate[0]}px, ${K.translate[1]}px )`}}),Y)});BJ.displayName="@mantine/core/SegmentedControl";function uOe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r)return e;const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var lOe=lt(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const cOe=lOe;var fOe=Object.defineProperty,dOe=Object.defineProperties,hOe=Object.getOwnPropertyDescriptors,lT=Object.getOwnPropertySymbols,jJ=Object.prototype.hasOwnProperty,UJ=Object.prototype.propertyIsEnumerable,cB=(e,t,n)=>t in e?fOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zg=(e,t)=>{for(var n in t||(t={}))jJ.call(t,n)&&cB(e,n,t[n]);if(lT)for(var n of lT(t))UJ.call(t,n)&&cB(e,n,t[n]);return e},BC=(e,t)=>dOe(e,hOe(t)),pOe=(e,t)=>{var n={};for(var r in e)jJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lT)for(var r of lT(e))t.indexOf(r)<0&&UJ.call(e,r)&&(n[r]=e[r]);return n};function mOe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function gOe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const yOe={required:!1,size:"sm",shadow:"sm",itemComponent:vD,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:mOe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:gOe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Ao("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},VJ=E.forwardRef((e,t)=>{const n=iQ("Select",yOe,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:g,initiallyOpened:y,transitionTimingFunction:m,unstyled:_,classNames:v,styles:T,filter:S,maxDropdownHeight:w,searchable:x,clearable:A,nothingFound:M,clearButtonLabel:D,limit:$,disabled:q,onSearchChange:W,searchValue:V,rightSection:de,rightSectionWidth:ae,creatable:pe,getCreateLabel:ee,shouldCreate:ie,selectOnBlur:K,onCreate:I,dropdownComponent:C,onDropdownClose:z,onDropdownOpen:R,withinPortal:P,switchDirectionOnFlip:Y,zIndex:se,name:ue,dropdownPosition:he,allowDeselect:fe,placeholder:Se,filterDataOnExactSearchMatch:me,clearButtonTabIndex:Je,form:Ge,positionDependencies:qe,readOnly:Le}=n,Ae=pOe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:Ve,cx:Zt,theme:Me}=cOe(),[Ue,wt]=E.useState(y),[ze,gt]=E.useState(-1),Gt=E.useRef(),un=E.useRef({}),[Gn,ce]=E.useState("column"),Ee=Gn==="column",{scrollIntoView:Fe,targetRef:ot,scrollableRef:$e}=QY({duration:0,offset:5,cancelable:!1,isList:!0}),at=fe===void 0?A:fe,Be=Te=>{if(Ue!==Te){wt(Te);const We=Te?R:z;typeof We=="function"&&We()}},rt=pe&&typeof ee=="function";let wn=null;const qt=o.map(Te=>typeof Te=="string"?{label:Te,value:Te}:Te),xt=hY({data:qt}),[Bn,En,da]=Zo({value:a,defaultValue:u,finalValue:null,onChange:l}),dr=xt.find(Te=>Te.value===Bn),[ji,br]=Zo({value:V,defaultValue:(dr==null?void 0:dr.label)||"",finalValue:void 0,onChange:W}),Lr=Te=>{br(Te),x&&typeof W=="function"&&W(Te)},hr=()=>{var Te;Le||(En(null),da||Lr(""),(Te=Gt.current)==null||Te.focus())};E.useEffect(()=>{const Te=xt.find(We=>We.value===Bn);Te?Lr(Te.label):(!rt||!Bn)&&Lr("")},[Bn]),E.useEffect(()=>{dr&&(!x||!Ue)&&Lr(dr.label)},[dr==null?void 0:dr.label]);const jn=Te=>{if(!Le)if(at&&(dr==null?void 0:dr.value)===Te.value)En(null),Be(!1);else{if(Te.creatable&&typeof I=="function"){const We=I(Te.value);typeof We<"u"&&We!==null&&En(typeof We=="string"?We:We.value)}else En(Te.value);da||Lr(Te.label),gt(-1),Be(!1),Gt.current.focus()}},en=uOe({data:xt,searchable:x,limit:$,searchValue:ji,filter:S,filterDataOnExactSearchMatch:me,value:Bn});rt&&ie(ji,en)&&(wn=ee(ji),en.push({label:ji,value:ji,creatable:!0}));const oi=(Te,We,dt)=>{let nt=Te;for(;dt(nt);)if(nt=We(nt),!en[nt].disabled)return nt;return Te};ps(()=>{gt(-1)},[ji]);const wr=Bn?en.findIndex(Te=>Te.value===Bn):0,Mr=!Le&&(en.length>0?Ue:Ue&&!!M),vi=()=>{gt(Te=>{var We;const dt=oi(Te,nt=>nt-1,nt=>nt>0);return ot.current=un.current[(We=en[dt])==null?void 0:We.value],Mr&&Fe({alignment:Ee?"start":"end"}),dt})},ws=()=>{gt(Te=>{var We;const dt=oi(Te,nt=>nt+1,nt=>nt<en.length-1);return ot.current=un.current[(We=en[dt])==null?void 0:We.value],Mr&&Fe({alignment:Ee?"end":"start"}),dt})},X=()=>window.setTimeout(()=>{var Te;ot.current=un.current[(Te=en[wr])==null?void 0:Te.value],Fe({alignment:Ee?"end":"start"})},0);ps(()=>{Mr&&X()},[Mr]);const U=Te=>{switch(typeof f=="function"&&f(Te),Te.key){case"ArrowUp":{Te.preventDefault(),Ue?Ee?vi():ws():(gt(wr),Be(!0),X());break}case"ArrowDown":{Te.preventDefault(),Ue?Ee?ws():vi():(gt(wr),Be(!0),X());break}case"Home":{if(!x){Te.preventDefault(),Ue||Be(!0);const We=en.findIndex(dt=>!dt.disabled);gt(We),Mr&&Fe({alignment:Ee?"end":"start"})}break}case"End":{if(!x){Te.preventDefault(),Ue||Be(!0);const We=en.map(dt=>!!dt.disabled).lastIndexOf(!1);gt(We),Mr&&Fe({alignment:Ee?"end":"start"})}break}case"Escape":{Te.preventDefault(),Be(!1),gt(-1);break}case" ":{x||(Te.preventDefault(),en[ze]&&Ue?jn(en[ze]):(Be(!0),gt(wr),X()));break}case"Enter":x||Te.preventDefault(),en[ze]&&Ue&&(Te.preventDefault(),jn(en[ze]))}},Z=Te=>{typeof d=="function"&&d(Te);const We=xt.find(dt=>dt.value===Bn);K&&en[ze]&&Ue&&jn(en[ze]),Lr((We==null?void 0:We.label)||""),Be(!1)},ye=Te=>{typeof h=="function"&&h(Te),x&&Be(!0)},ge=Te=>{Le||(Lr(Te.currentTarget.value),A&&Te.currentTarget.value===""&&En(null),gt(-1),Be(!0))},Ke=()=>{Le||(Be(!Ue),Bn&&!Ue&&gt(wr))};return N.createElement(Ws.Wrapper,BC(zg({},i),{__staticSelector:"Select"}),N.createElement(Zc,{opened:Mr,transition:p,transitionDuration:g,shadow:"sm",withinPortal:P,__staticSelector:"Select",onDirectionChange:ce,switchDirectionOnFlip:Y,zIndex:se,dropdownPosition:he,positionDependencies:qe,classNames:v,styles:T,unstyled:_},N.createElement(Zc.Target,null,N.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Mr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Mr,onMouseLeave:()=>gt(-1),tabIndex:-1},N.createElement("input",{type:"hidden",name:ue,value:Bn||"",form:Ge,disabled:q}),N.createElement(Ws,zg(BC(zg(zg({autoComplete:"off",type:"search"},r),Ae),{ref:na(t,Gt),onKeyDown:U,__staticSelector:"Select",value:ji,placeholder:Se,onChange:ge,"aria-autocomplete":"list","aria-controls":Mr?`${r.id}-items`:null,"aria-activedescendant":ze>=0?`${r.id}-${ze}`:null,onMouseDown:Ke,onBlur:Z,onFocus:ye,readOnly:!x||Le,disabled:q,"data-mantine-stop-propagation":Mr,name:null,classNames:BC(zg({},v),{input:Zt({[Ve.input]:!x},v==null?void 0:v.input)})}),rJ({theme:Me,rightSection:de,rightSectionWidth:ae,styles:T,size:r.size,shouldClear:A&&!!dr,clearButtonLabel:D,onClear:hr,error:i.error,clearButtonTabIndex:Je,disabled:q,readOnly:Le}))))),N.createElement(Zc.Dropdown,{component:C||Nx,maxHeight:w,direction:Gn,id:r.id,innerRef:$e,__staticSelector:"Select",classNames:v,styles:T},N.createElement(_D,{data:en,hovered:ze,classNames:v,styles:T,isItemSelected:Te=>Te===Bn,uuid:r.id,__staticSelector:"Select",onItemHover:gt,onItemSelect:jn,itemsRefs:un,itemComponent:c,size:r.size,nothingFound:M,creatable:rt&&!!wn,createLabel:wn,"aria-label":i.label,unstyled:_}))))});VJ.displayName="@mantine/core/Select";function cT({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function H2({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var _Oe=Object.defineProperty,vOe=Object.defineProperties,bOe=Object.getOwnPropertyDescriptors,fB=Object.getOwnPropertySymbols,wOe=Object.prototype.hasOwnProperty,EOe=Object.prototype.propertyIsEnumerable,dB=(e,t,n)=>t in e?_Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TOe=(e,t)=>{for(var n in t||(t={}))wOe.call(t,n)&&dB(e,n,t[n]);if(fB)for(var n of fB(t))EOe.call(t,n)&&dB(e,n,t[n]);return e},SOe=(e,t)=>vOe(e,bOe(t));const Ms={xs:4,sm:6,md:8,lg:10,xl:12};var xOe=lt((e,{size:t,disabled:n})=>({root:SOe(TOe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Ms,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const IOe=xOe;var AOe=Object.defineProperty,COe=Object.defineProperties,OOe=Object.getOwnPropertyDescriptors,hB=Object.getOwnPropertySymbols,POe=Object.prototype.hasOwnProperty,ROe=Object.prototype.propertyIsEnumerable,pB=(e,t,n)=>t in e?AOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NOe=(e,t)=>{for(var n in t||(t={}))POe.call(t,n)&&pB(e,n,t[n]);if(hB)for(var n of hB(t))ROe.call(t,n)&&pB(e,n,t[n]);return e},kOe=(e,t)=>COe(e,OOe(t)),DOe=lt((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:kOe(NOe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Ms,size:n})*2,width:i||e.fn.size({sizes:Ms,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const $Oe=DOe,fT=E.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:g,onFocus:y,onBlur:m,showLabelOnHover:_,children:v=null,disabled:T,unstyled:S,thumbSize:w},x)=>{const{classes:A,cx:M,theme:D}=$Oe({color:a,size:c,disabled:T,thumbSize:w},{classNames:u,styles:l,unstyled:S,name:"Slider"}),[$,q]=E.useState(!1),W=p||s||$||_;return N.createElement(ut,{tabIndex:0,role:"slider","aria-label":g,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:x,className:M(A.thumb,{[A.dragging]:s}),onFocus:()=>{q(!0),typeof y=="function"&&y()},onBlur:()=>{q(!1),typeof m=="function"&&m()},onTouchStart:o,onMouseDown:o,onClick:V=>V.stopPropagation(),style:{[D.dir==="rtl"?"right":"left"]:`${r}%`}},v,N.createElement($x,{mounted:i!=null&&W,duration:d,transition:f,timingFunction:h||D.transitionTimingFunction},V=>N.createElement("div",{style:V,className:A.label},i)))});fT.displayName="@mantine/core/SliderThumb";function LOe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var MOe=lt((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Ms})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ms,size:t}),width:e.fn.size({sizes:Ms,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ms,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const FOe=MOe;function zJ({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=FOe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),g=e.map((y,m)=>N.createElement(ut,{className:h.markWrapper,sx:{left:`${cT({value:y.value,min:r,max:i})}%`},key:m},N.createElement("div",{className:p(h.mark,{[h.markFilled]:LOe({mark:y,value:s,offset:u,inverted:d})})}),y.label&&N.createElement("div",{className:h.markLabel,onMouseDown:_=>{_.stopPropagation(),l(y.value)},onTouchStart:_=>{_.stopPropagation(),l(y.value)}},y.label)));return N.createElement("div",null,g)}zJ.displayName="@mantine/core/SliderMarks";var BOe=lt((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Ms,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Ms}),marginLeft:e.fn.size({size:n,sizes:Ms}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Ms}),left:-e.fn.size({size:n,sizes:Ms}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const jOe=BOe;var UOe=Object.defineProperty,VOe=Object.defineProperties,zOe=Object.getOwnPropertyDescriptors,dT=Object.getOwnPropertySymbols,HJ=Object.prototype.hasOwnProperty,qJ=Object.prototype.propertyIsEnumerable,mB=(e,t,n)=>t in e?UOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HOe=(e,t)=>{for(var n in t||(t={}))HJ.call(t,n)&&mB(e,n,t[n]);if(dT)for(var n of dT(t))qJ.call(t,n)&&mB(e,n,t[n]);return e},qOe=(e,t)=>VOe(e,zOe(t)),WOe=(e,t)=>{var n={};for(var r in e)HJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dT)for(var r of dT(e))t.indexOf(r)<0&&qJ.call(e,r)&&(n[r]=e[r]);return n};function FD(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:g}=t,y=WOe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:m}=jOe({color:i,size:r,radius:a,disabled:d,inverted:g},{classNames:s,styles:o,unstyled:p,name:"Slider"});return N.createElement("div",{className:m.track,onMouseLeave:c,onMouseEnter:f},N.createElement(ut,{className:m.bar,sx:_=>({left:`calc(${l}% - ${_.fn.size({size:r,sizes:Ms})}px)`,width:`calc(${n}% + ${_.fn.size({size:r,sizes:Ms})}px)`})}),u,N.createElement(zJ,qOe(HOe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:g})))}FD.displayName="@mantine/core/SliderTrack";var YOe=Object.defineProperty,GOe=Object.defineProperties,KOe=Object.getOwnPropertyDescriptors,hT=Object.getOwnPropertySymbols,WJ=Object.prototype.hasOwnProperty,YJ=Object.prototype.propertyIsEnumerable,gB=(e,t,n)=>t in e?YOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QOe=(e,t)=>{for(var n in t||(t={}))WJ.call(t,n)&&gB(e,n,t[n]);if(hT)for(var n of hT(t))YJ.call(t,n)&&gB(e,n,t[n]);return e},XOe=(e,t)=>GOe(e,KOe(t)),JOe=(e,t)=>{var n={};for(var r in e)WJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hT)for(var r of hT(e))t.indexOf(r)<0&&YJ.call(e,r)&&(n[r]=e[r]);return n};const BD=E.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=JOe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=IOe({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return N.createElement(ut,XOe(QOe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});BD.displayName="@mantine/core/SliderRoot";var ZOe=Object.defineProperty,ePe=Object.defineProperties,tPe=Object.getOwnPropertyDescriptors,pT=Object.getOwnPropertySymbols,GJ=Object.prototype.hasOwnProperty,KJ=Object.prototype.propertyIsEnumerable,yB=(e,t,n)=>t in e?ZOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nPe=(e,t)=>{for(var n in t||(t={}))GJ.call(t,n)&&yB(e,n,t[n]);if(pT)for(var n of pT(t))KJ.call(t,n)&&yB(e,n,t[n]);return e},rPe=(e,t)=>ePe(e,tPe(t)),iPe=(e,t)=>{var n={};for(var r in e)GJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pT)for(var r of pT(e))t.indexOf(r)<0&&KJ.call(e,r)&&(n[r]=e[r]);return n};const sPe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},jD=E.forwardRef((e,t)=>{const n=ft("Slider",sPe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:g,name:y,marks:m,label:_,labelTransition:v,labelTransitionDuration:T,labelTransitionTimingFunction:S,labelAlwaysOn:w,thumbLabel:x,showLabelOnHover:A,thumbChildren:M,disabled:D,unstyled:$,thumbSize:q,scale:W,inverted:V}=n,de=iPe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ae=Fi(),[pe,ee]=E.useState(!1),[ie,K]=Zo({value:typeof o=="number"?Xc(o,f,d):o,defaultValue:typeof g=="number"?Xc(g,f,d):g,finalValue:Xc(0,f,d),onChange:a}),I=E.useRef(ie),C=E.useRef(),z=cT({value:ie,min:f,max:d}),R=W(ie),P=typeof _=="function"?_(R):_,Y=E.useCallback(({x:Se})=>{if(!D){const me=H2({value:Se,min:f,max:d,step:h,precision:p});K(me),I.current=me}},[D,f,d,h,p]),{ref:se,active:ue}=KY(Y,{onScrubEnd:()=>u==null?void 0:u(I.current)},ae.dir),he=Se=>{Se.stopPropagation()},fe=Se=>{if(!D)switch(Se.key){case"ArrowUp":{Se.preventDefault(),C.current.focus();const me=Math.min(Math.max(ie+h,f),d);u==null||u(me),K(me);break}case"ArrowRight":{Se.preventDefault(),C.current.focus();const me=Math.min(Math.max(ae.dir==="rtl"?ie-h:ie+h,f),d);u==null||u(me),K(me);break}case"ArrowDown":{Se.preventDefault(),C.current.focus();const me=Math.min(Math.max(ie-h,f),d);u==null||u(me),K(me);break}case"ArrowLeft":{Se.preventDefault(),C.current.focus();const me=Math.min(Math.max(ae.dir==="rtl"?ie+h:ie-h,f),d);u==null||u(me),K(me);break}case"Home":{Se.preventDefault(),C.current.focus(),u==null||u(f),K(f);break}case"End":{Se.preventDefault(),C.current.focus(),u==null||u(d),K(d);break}}};return N.createElement(BD,rPe(nPe({},de),{size:l,ref:na(se,t),onKeyDownCapture:fe,onMouseDownCapture:()=>{var Se;return(Se=se.current)==null?void 0:Se.focus()},classNames:r,styles:i,disabled:D,unstyled:$}),N.createElement(FD,{inverted:V,offset:0,filled:z,marks:m,size:l,radius:c,color:s,min:f,max:d,value:R,onChange:K,onMouseEnter:A?()=>ee(!0):void 0,onMouseLeave:A?()=>ee(!1):void 0,classNames:r,styles:i,disabled:D,unstyled:$},N.createElement(fT,{max:d,min:f,value:R,position:z,dragging:ue,color:s,size:l,label:P,ref:C,onMouseDown:he,labelTransition:v,labelTransitionDuration:T,labelTransitionTimingFunction:S,labelAlwaysOn:w,classNames:r,styles:i,thumbLabel:x,showLabelOnHover:A&&pe,disabled:D,unstyled:$,thumbSize:q},M)),N.createElement("input",{type:"hidden",name:y,value:R}))});jD.displayName="@mantine/core/Slider";function oPe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var aPe=Object.defineProperty,uPe=Object.defineProperties,lPe=Object.getOwnPropertyDescriptors,mT=Object.getOwnPropertySymbols,QJ=Object.prototype.hasOwnProperty,XJ=Object.prototype.propertyIsEnumerable,_B=(e,t,n)=>t in e?aPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jC=(e,t)=>{for(var n in t||(t={}))QJ.call(t,n)&&_B(e,n,t[n]);if(mT)for(var n of mT(t))XJ.call(t,n)&&_B(e,n,t[n]);return e},UC=(e,t)=>uPe(e,lPe(t)),cPe=(e,t)=>{var n={};for(var r in e)QJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mT)for(var r of mT(e))t.indexOf(r)<0&&XJ.call(e,r)&&(n[r]=e[r]);return n};const fPe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},q2=E.forwardRef((e,t)=>{const n=ft("RangeSlider",fPe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,step:p,precision:g,defaultValue:y,name:m,marks:_,label:v,labelTransition:T,labelTransitionDuration:S,labelTransitionTimingFunction:w,labelAlwaysOn:x,thumbFromLabel:A,thumbToLabel:M,showLabelOnHover:D,thumbChildren:$,disabled:q,unstyled:W,thumbSize:V,scale:de,inverted:ae}=n,pe=cPe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ee=Fi(),[ie,K]=E.useState(-1),[I,C]=E.useState(!1),[z,R]=Zo({value:o,defaultValue:y,finalValue:[f,d],onChange:a}),P=E.useRef(z),Y=E.useRef([]),se=E.useRef(void 0),ue=[cT({value:z[0],min:f,max:d}),cT({value:z[1],min:f,max:d})],he=Me=>{R(Me),P.current=Me};E.useEffect(()=>{Array.isArray(o)&&(P.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const fe=(Me,Ue,wt)=>{const ze=[...P.current];ze[Ue]=Me,Ue===0&&(Me>ze[1]-(h-1e-9)&&(ze[1]=Math.min(Me+h,d)),Me>(d-(h-1e-9)||f)&&(ze[Ue]=P.current[Ue])),Ue===1&&(Me<ze[0]+h&&(ze[0]=Math.max(Me-h,f)),Me<ze[0]+h&&(ze[Ue]=P.current[Ue])),he(ze),wt&&(u==null||u(P.current))},Se=Me=>{if(!q){const Ue=H2({value:Me,min:f,max:d,step:p,precision:g});fe(Ue,se.current,!1)}},{ref:me,active:Je}=KY(({x:Me})=>Se(Me),{onScrubEnd:()=>u==null?void 0:u(P.current)},ee.dir);function Ge(Me,Ue){Me.stopPropagation(),se.current=Ue}const qe=Me=>{me.current.focus();const Ue=me.current.getBoundingClientRect(),wt=oPe(Me.nativeEvent),ze=H2({value:wt-Ue.left,max:d,min:f,step:p,containerWidth:Ue.width}),gt=Math.abs(z[0]-ze)>Math.abs(z[1]-ze)?1:0,Gt=ee.dir==="ltr"?gt:gt===1?0:1;se.current=Gt},Le=()=>ie!==1&&ie!==0?(K(0),0):ie,Ae=Me=>{if(!q)switch(Me.key){case"ArrowUp":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),fe(Math.min(Math.max(P.current[Ue]+p,f),d),Ue,!0);break}case"ArrowRight":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),fe(Math.min(Math.max(ee.dir==="rtl"?P.current[Ue]-p:P.current[Ue]+p,f),d),Ue,!0);break}case"ArrowDown":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),fe(Math.min(Math.max(P.current[Ue]-p,f),d),Ue,!0);break}case"ArrowLeft":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),fe(Math.min(Math.max(ee.dir==="rtl"?P.current[Ue]+p:P.current[Ue]-p,f),d),Ue,!0);break}}},Ve={max:d,min:f,color:s,size:l,labelTransition:T,labelTransitionDuration:S,labelTransitionTimingFunction:w,labelAlwaysOn:x,onBlur:()=>K(-1),classNames:r,styles:i},Zt=Array.isArray($);return N.createElement(BD,UC(jC({},pe),{size:l,ref:na(me,t),onTouchStartCapture:qe,onTouchEndCapture:()=>{se.current=-1},onMouseDownCapture:qe,onMouseUpCapture:()=>{se.current=-1},onKeyDownCapture:Ae,styles:i,classNames:r,disabled:q,unstyled:W}),N.createElement(FD,{offset:ue[0],marksOffset:z[0],filled:ue[1]-ue[0],marks:_,inverted:ae,size:l,radius:c,color:s,min:f,max:d,value:z[1],styles:i,classNames:r,onMouseEnter:D?()=>C(!0):void 0,onMouseLeave:D?()=>C(!1):void 0,onChange:Me=>{const Ue=Math.abs(z[0]-Me)>Math.abs(z[1]-Me)?1:0,wt=[...z];wt[Ue]=Me,he(wt)},disabled:q,unstyled:W},N.createElement(fT,UC(jC({},Ve),{value:de(z[0]),position:ue[0],dragging:Je,label:typeof v=="function"?v(de(z[0])):v,ref:Me=>{Y.current[0]=Me},thumbLabel:A,onMouseDown:Me=>Ge(Me,0),onFocus:()=>K(0),showLabelOnHover:D&&I,disabled:q,unstyled:W,thumbSize:V}),Zt?$[0]:$),N.createElement(fT,UC(jC({},Ve),{thumbLabel:M,value:de(z[1]),position:ue[1],dragging:Je,label:typeof v=="function"?v(de(z[1])):v,ref:Me=>{Y.current[1]=Me},onMouseDown:Me=>Ge(Me,1),onFocus:()=>K(1),showLabelOnHover:D&&I,disabled:q,unstyled:W,thumbSize:V}),Zt?$[1]:$)),N.createElement("input",{type:"hidden",name:`${m}_from`,value:z[0]}),N.createElement("input",{type:"hidden",name:`${m}_to`,value:z[1]}))});q2.displayName="@mantine/core/RangeSlider";var dPe=Object.defineProperty,gT=Object.getOwnPropertySymbols,JJ=Object.prototype.hasOwnProperty,ZJ=Object.prototype.propertyIsEnumerable,vB=(e,t,n)=>t in e?dPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hPe=(e,t)=>{for(var n in t||(t={}))JJ.call(t,n)&&vB(e,n,t[n]);if(gT)for(var n of gT(t))ZJ.call(t,n)&&vB(e,n,t[n]);return e},pPe=(e,t)=>{var n={};for(var r in e)JJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gT)for(var r of gT(e))t.indexOf(r)<0&&ZJ.call(e,r)&&(n[r]=e[r]);return n};const mPe={w:0,h:0},yT=E.forwardRef((e,t)=>{const n=ft("Space",mPe,e),{w:r,h:i,sx:s}=n,o=pPe(n,["w","h","sx"]);return N.createElement(ut,hPe({ref:t,sx:[a=>{const u=a.fn.size({size:r,sizes:a.spacing}),l=a.fn.size({size:i,sizes:a.spacing});return{width:u,height:l,minWidth:u,minHeight:l}},...Hd(s)]},o))});yT.displayName="@mantine/core/Space";var gPe=Object.defineProperty,yPe=Object.defineProperties,_Pe=Object.getOwnPropertyDescriptors,bB=Object.getOwnPropertySymbols,vPe=Object.prototype.hasOwnProperty,bPe=Object.prototype.propertyIsEnumerable,wB=(e,t,n)=>t in e?gPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wPe=(e,t)=>{for(var n in t||(t={}))vPe.call(t,n)&&wB(e,n,t[n]);if(bB)for(var n of bB(t))bPe.call(t,n)&&wB(e,n,t[n]);return e},EPe=(e,t)=>yPe(e,_Pe(t));function TPe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function SPe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var xPe=lt((e,{element:t,weight:n,size:r,inline:i})=>({root:EPe(wPe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:TPe(r,t,e),lineHeight:i?1:SPe(r,t,e),margin:0})}));const IPe=xPe;var APe=Object.defineProperty,_T=Object.getOwnPropertySymbols,eZ=Object.prototype.hasOwnProperty,tZ=Object.prototype.propertyIsEnumerable,EB=(e,t,n)=>t in e?APe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CPe=(e,t)=>{for(var n in t||(t={}))eZ.call(t,n)&&EB(e,n,t[n]);if(_T)for(var n of _T(t))tZ.call(t,n)&&EB(e,n,t[n]);return e},OPe=(e,t)=>{var n={};for(var r in e)eZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_T)for(var r of _T(e))t.indexOf(r)<0&&tZ.call(e,r)&&(n[r]=e[r]);return n};const PPe={order:1},Tc=E.forwardRef((e,t)=>{const n=ft("Title",PPe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=OPe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=IPe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?N.createElement(_t,CPe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});Tc.displayName="@mantine/core/Title";function W2(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Wu="/study/",RPe="https://github.com/revisit-studies/study/tree/main/public/";function NPe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=qm();return O.jsxs(nX,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[O.jsx(Y_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Wu}assets/revisitLogoSquare.svg`,alt:"reVISit"}),O.jsx(_t,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=W2(i);return O.jsx(Ix,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:O.jsxs(ZEe,{shadow:"sm",radius:"md",withBorder:!0,children:[O.jsx(_t,{fw:"bold",children:s.studyMetadata.title}),O.jsxs(_t,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),O.jsx(_t,{c:"dimmed",children:s.studyMetadata.description}),O.jsx(_t,{c:"dimmed",ta:"right",style:{paddingRight:5},children:O.jsxs(FG,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${RPe}${o}`,children:["View source:"," ",o]})})]})},i)})]})}var nZ={exports:{}},rZ={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=E;function kPe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DPe=typeof Object.is=="function"?Object.is:kPe,$Pe=lm.useState,LPe=lm.useEffect,MPe=lm.useLayoutEffect,FPe=lm.useDebugValue;function BPe(e,t){var n=t(),r=$Pe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return MPe(function(){i.value=n,i.getSnapshot=t,VC(i)&&s({inst:i})},[e,n,t]),LPe(function(){return VC(i)&&s({inst:i}),e(function(){VC(i)&&s({inst:i})})},[e]),FPe(n),n}function VC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!DPe(e,n)}catch{return!0}}function jPe(e,t){return t()}var UPe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jPe:BPe;rZ.useSyncExternalStore=lm.useSyncExternalStore!==void 0?lm.useSyncExternalStore:UPe;nZ.exports=rZ;var VPe=nZ.exports,iZ={exports:{}},sZ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=E,zPe=VPe;function HPe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qPe=typeof Object.is=="function"?Object.is:HPe,WPe=zPe.useSyncExternalStore,YPe=Fx.useRef,GPe=Fx.useEffect,KPe=Fx.useMemo,QPe=Fx.useDebugValue;sZ.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=YPe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=KPe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,qPe(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=WPe(e,s[0],s[1]);return GPe(function(){o.hasValue=!0,o.value=a},[a]),QPe(a),a};iZ.exports=sZ;var XPe=iZ.exports;function JPe(e){e()}let oZ=JPe;const ZPe=e=>oZ=e,e2e=()=>oZ,hf=E.createContext(null);function aZ(){return E.useContext(hf)}const t2e=()=>{throw new Error("uSES not initialized!")};let uZ=t2e;const n2e=e=>{uZ=e},r2e=(e,t)=>e===t;function i2e(e=hf){const t=e===hf?aZ:()=>E.useContext(e);return function(r,i=r2e){const{store:s,subscription:o,getServerState:a}=t(),u=uZ(o.addNestedSub,s.getState,a||s.getState,r,i);return E.useDebugValue(u),u}}const s2e=i2e();var Fn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD=Symbol.for("react.element"),VD=Symbol.for("react.portal"),Bx=Symbol.for("react.fragment"),jx=Symbol.for("react.strict_mode"),Ux=Symbol.for("react.profiler"),Vx=Symbol.for("react.provider"),zx=Symbol.for("react.context"),o2e=Symbol.for("react.server_context"),Hx=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Wx=Symbol.for("react.suspense_list"),Yx=Symbol.for("react.memo"),Gx=Symbol.for("react.lazy"),a2e=Symbol.for("react.offscreen"),lZ;lZ=Symbol.for("react.module.reference");function ia(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case UD:switch(e=e.type,e){case Bx:case Ux:case jx:case qx:case Wx:return e;default:switch(e=e&&e.$$typeof,e){case o2e:case zx:case Hx:case Gx:case Yx:case Vx:return e;default:return t}}case VD:return t}}}Fn.ContextConsumer=zx;Fn.ContextProvider=Vx;Fn.Element=UD;Fn.ForwardRef=Hx;Fn.Fragment=Bx;Fn.Lazy=Gx;Fn.Memo=Yx;Fn.Portal=VD;Fn.Profiler=Ux;Fn.StrictMode=jx;Fn.Suspense=qx;Fn.SuspenseList=Wx;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return ia(e)===zx};Fn.isContextProvider=function(e){return ia(e)===Vx};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===UD};Fn.isForwardRef=function(e){return ia(e)===Hx};Fn.isFragment=function(e){return ia(e)===Bx};Fn.isLazy=function(e){return ia(e)===Gx};Fn.isMemo=function(e){return ia(e)===Yx};Fn.isPortal=function(e){return ia(e)===VD};Fn.isProfiler=function(e){return ia(e)===Ux};Fn.isStrictMode=function(e){return ia(e)===jx};Fn.isSuspense=function(e){return ia(e)===qx};Fn.isSuspenseList=function(e){return ia(e)===Wx};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bx||e===Ux||e===jx||e===qx||e===Wx||e===a2e||typeof e=="object"&&e!==null&&(e.$$typeof===Gx||e.$$typeof===Yx||e.$$typeof===Vx||e.$$typeof===zx||e.$$typeof===Hx||e.$$typeof===lZ||e.getModuleId!==void 0)};Fn.typeOf=ia;function u2e(){const e=e2e();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const TB={notify(){},get:()=>[]};function l2e(e,t){let n,r=TB;function i(f){return u(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=u2e())}function l(){n&&(n(),n=void 0,r.clear(),r=TB)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const c2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f2e=c2e?E.useLayoutEffect:E.useEffect;function d2e({store:e,context:t,children:n,serverState:r}){const i=E.useMemo(()=>{const a=l2e(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),s=E.useMemo(()=>e.getState(),[e]);f2e(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=t||hf;return N.createElement(o.Provider,{value:i},n)}function cZ(e=hf){const t=e===hf?aZ:()=>E.useContext(e);return function(){const{store:r}=t();return r}}const h2e=cZ();function p2e(e=hf){const t=e===hf?h2e:cZ(e);return function(){return t().dispatch}}const fZ=p2e();n2e(XPe.useSyncExternalStoreWithSelector);ZPe(fh.unstable_batchedUpdates);const m2e={},g2e=Object.freeze(Object.defineProperty({__proto__:null,default:m2e},Symbol.toStringTag,{value:"Module"})),y2e=rfe(g2e);var _2e=y2e;function v2e(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function b2e(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function w2e(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function E2e(e){return e.__COMMENTS__}function T2e(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var Kx={EOL:_2e.EOL||`
`,tryParseNumber:v2e,createComment:b2e,removeComment:w2e,getComment:E2e,forceComment:T2e},S2e="3.2.1";function x2e(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return SB}else if(e.length===0)return SB;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return A2e(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),I2e.bind(null,n)}function I2e(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function SB(){}function A2e(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function dZ(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}dZ.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function hZ(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}hZ.description="parse hexadecimal numbers prefixed with 0x";function pZ(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}pZ.description="support ISO dates";var zD={loadDsf:x2e,std:{math:dZ,hex:hZ,date:pZ}},C2e=function(e,t){var n=Kx,r=zD,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(V){return V==="{"||V==="}"||V==="["||V==="]"||V===","||V===":"}function d(V){var de,ae=0,pe=1;for(de=s-1;de>0&&i[de]!==`
`;de--,ae++);for(;de>0;de--)i[de]===`
`&&pe++;throw new Error(V+" at line "+pe+","+ae+" >>>"+i.substr(s-ae,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(V){return i.charAt(s+V)}function g(V){for(var de="",ae=o;h();){if(o===ae)return h(),V&&ae==="'"&&o==="'"&&de.length===0?(h(),y()):de;if(o==="\\")if(h(),o==="u"){for(var pe=0,ee=0;ee<4;ee++){h();var ie=o.charCodeAt(0),K;o>="0"&&o<="9"?K=ie-48:o>="a"&&o<="f"?K=ie-97+10:o>="A"&&o<="F"?K=ie-65+10:d("Bad \\u char "+o),pe=pe*16+K}de+=String.fromCharCode(pe)}else if(typeof a[o]=="string")de+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):de+=o}d("Bad string")}function y(){for(var V="",de=0,ae=0;;){var pe=p(-ae-5);if(!pe||pe===`
`)break;ae++}function ee(){for(var ie=ae;o&&o<=" "&&o!==`
`&&ie-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),ee());;){if(!o)d("Bad multiline string");else if(o==="'"){if(de++,h(),de===3)return V.slice(-1)===`
`&&(V=V.slice(0,-1)),V;continue}else for(;de>0;)V+="'",de--;o===`
`?(V+=`
`,h(),ee()):(o!=="\r"&&(V+=o),h())}}function m(){if(o==='"'||o==="'")return g(!1);for(var V="",de=s,ae=-1;;){if(o===":")return V?ae>=0&&ae!==V.length&&(s=de+ae,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),V;o<=" "?o?ae<0&&(ae=V.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):V+=o,h()}}function _(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function v(){var V=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var de=o==="\r"||o===`
`||o==="";if(de||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var ae=V[0];switch(ae){case"f":if(V.trim()==="false")return!1;break;case"n":if(V.trim()==="null")return null;break;case"t":if(V.trim()==="true")return!0;break;default:if(ae==="-"||ae>="0"&&ae<="9"){var pe=n.tryParseNumber(V);if(pe!==void 0)return pe}}if(de){V=V.trim();var ee=l(V);return ee!==void 0?ee:V}}V+=o}}function T(V,de){var ae;for(V--,ae=s-2;ae>V&&i[ae]<=" "&&i[ae]!==`
`;ae--);i[ae]===`
`&&ae--,i[ae]==="\r"&&ae--;var pe=i.substr(V,ae-V+1);for(ae=0;ae<pe.length;ae++)if(pe[ae]>" "){var ee=pe.indexOf(`
`);if(ee>=0){var ie=[pe.substr(0,ee),pe.substr(ee+1)];return de&&ie[0].trim().length===0&&ie.shift(),ie}else return[pe]}return[]}function S(V){function de(pe,ee){var ie,K,I,C;switch(typeof pe){case"string":pe.indexOf(ee)>=0&&(C=pe);break;case"object":if(Object.prototype.toString.apply(pe)==="[object Array]")for(ie=0,I=pe.length;ie<I;ie++)C=de(pe[ie],ee)||C;else for(K in pe)Object.prototype.hasOwnProperty.call(pe,K)&&(C=de(pe[K],ee)||C)}return C}function ae(pe){var ee=de(V,pe);return ee?"found '"+pe+`' in a string value, your mistake could be with:
  > `+ee+`
  (unquoted strings contain everything up to the next line!)`:""}return ae("}")||ae("]")}function w(){var V=[],de,ae,pe;try{if(u&&(de=n.createComment(V,{a:[]})),h(),ae=s,_(),de&&(pe=T(ae,!0).join(`
`)),o==="]")return h(),de&&(de.e=[pe]),V;for(;o;){if(V.push(A()),ae=s,_(),o===","&&(h(),ae=s,_()),de){var ee=T(ae);de.a.push([pe||"",ee[0]||""]),pe=ee[1]}if(o==="]")return h(),de&&(de.a[de.a.length-1][1]+=pe||""),V;_()}d("End of input while parsing an array (missing ']')")}catch(ie){throw ie.hint=ie.hint||S(V),ie}}function x(V){var de="",ae={},pe,ee,ie;try{if(u&&(pe=n.createComment(ae,{c:{},o:[]})),V?ee=1:(h(),ee=s),_(),pe&&(ie=T(ee,!0).join(`
`)),o==="}"&&!V)return pe&&(pe.e=[ie]),h(),ae;for(;o;){if(de=m(),_(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),ae[de]=A(),ee=s,_(),o===","&&(h(),ee=s,_()),pe){var K=T(ee);pe.c[de]=[ie||"",K[0]||""],ie=K[1],pe.o.push(de)}if(o==="}"&&!V)return h(),pe&&(pe.c[de][1]+=ie||""),ae;_()}if(V)return ae;d("End of input while parsing an object (missing '}')")}catch(I){throw I.hint=I.hint||S(ae),I}}function A(){switch(_(),o){case"{":return x();case"[":return w();case"'":case'"':return g(!0);default:return v()}}function M(V,de){var ae=s;if(_(),o&&d("Syntax error, found trailing characters"),u){var pe=de.join(`
`),ee=T(ae).join(`
`);if(ee||pe){var ie=n.createComment(V,n.getComment(V));ie.r=[pe,ee]}}return V}function D(){_();var V=u?T(1):null;switch(o){case"{":return M(x(),V);case"[":return M(w(),V);default:return M(A(),V)}}function $(){_();var V=u?T(1):null;switch(o){case"{":return M(x(),V);case"[":return M(w(),V)}try{return M(x(!0),V)}catch(de){c();try{return M(A(),V)}catch{throw de}}}if(typeof e!="string")throw new Error("source is not a string");var q=null,W=!0;return t&&typeof t=="object"&&(u=t.keepWsc,q=t.dsf,W=t.legacyRoot!==!1),l=r.loadDsf(q,"parse"),i=e,c(),W?$():D()},O2e=function(e,t){var n=Kx,r=zD,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,g=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,g=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var m,_=Object.keys(i);for(m=_.length-1;m>=0;m--){var v=_[m];y[v].push(i[v][0].length,i[v][1].length)}}var T,S="---\u2028--\uFEFF-",w=new RegExp('[\\\\\\"\0-'+S+"]","g"),x=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+S+"]","g"),A=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+S+"]","g"),M=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),D={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},$=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,q="",W=0;function V(C,z){return W+=C[0].length+C[1].length-C[2]-C[3],C[0]+z+C[1]}function de(C){return C.replace(w,function(z){var R=D[z];return typeof R=="string"?V(y.esc,R):V(y.uni,("0000"+z.charCodeAt(0).toString(16)).slice(-4))})}function ae(C,z,R,P){return C?(x.lastIndex=0,M.lastIndex=0,c||R||x.test(C)||n.tryParseNumber(C,!0)!==void 0||M.test(C)?(w.lastIndex=0,A.lastIndex=0,w.test(C)?!A.test(C)&&!P&&d?pe(C,z):V(y.qstr,de(C)):V(y.qstr,C)):V(y.str,C)):V(y.qstr,"")}function pe(C,z){var R,P=C.replace(/\r/g,"").split(`
`);if(z+=o,P.length===1)return V(y.mstr,P[0]);var Y=s+z+y.mstr[0];for(R=0;R<P.length;R++)Y+=s,P[R]&&(Y+=z+P[R]);return Y+s+z+y.mstr[1]}function ee(C){return C?l||$.test(C)?(w.lastIndex=0,V(y.qkey,w.test(C)?de(C):C)):V(y.key,C):'""'}function ie(C,z,R,P){function Y(rt){return rt&&rt[rt[0]==="\r"?1:0]===`
`}function se(rt){return rt&&!Y(rt)}function ue(rt,wn,qt){if(!rt)return"";rt=n.forceComment(rt);var xt,Bn=rt.length;for(xt=0;xt<Bn&&rt[xt]<=" ";xt++);return qt&&xt>0&&(rt=rt.substr(xt)),xt<Bn?wn+V(y.rem,rt):rt}var he=T(C);if(he!==void 0)return V(y.dsf,he);switch(typeof C){case"string":return ae(C,q,z,P);case"number":return isFinite(C)?V(y.num,String(C)):V(y.lit,"null");case"boolean":return V(y.lit,String(C));case"object":if(!C)return V(y.lit,"null");var fe;a&&(fe=n.getComment(C));var Se=Object.prototype.toString.apply(C)==="[object Array]",me=q;q+=o;var Je=s+me,Ge=s+q,qe=R||u?"":Je,Le=[],Ae,Ve=f?[]:null,Zt=c,Me=d,Ue=h?"":y.com[0],wt=0,ze,gt,Gt,un,Gn,ce,Ee,Fe,ot;if(Se){for(ze=0,gt=C.length;ze<gt;ze++){if(Ae=ze<gt-1,fe?(ce=fe.a[ze]||[],Ee=se(ce[1]),Le.push(ue(ce[0],`
`)+Ge),Ve&&(ce[0]||ce[1]||Ee)&&(Ve=null)):Le.push(Ge),W=0,un=C[ze],Le.push(ie(un,fe?Ee:!1,!0)+(Ae?h:"")),Ve){switch(typeof un){case"string":W=0,c=!0,d=0,Ve.push(ie(un,!1,!0)+(Ae?y.com[0]:"")),c=Zt,d=Me;break;case"object":if(un){Ve=null;break}default:Ve.push(Le[Le.length-1]+(Ae?Ue:""));break}Ae&&(W+=y.com[0].length-y.com[2]),wt+=W}fe&&ce[1]&&Le.push(ue(ce[1],Ee?" ":`
`,Ee))}gt===0?fe&&fe.e&&Le.push(ue(fe.e[0],`
`)+Je):Le.push(Je),Le.length===0?Fe=V(y.arr,""):(Fe=qe+V(y.arr,Le.join("")),Ve&&(ot=Ve.join(" "),ot.length-wt<=f&&(Fe=V(y.arr,ot))))}else{var $e=fe?fe.o.slice():[],at=[];for(Gt in C)Object.prototype.hasOwnProperty.call(C,Gt)&&$e.indexOf(Gt)<0&&at.push(Gt);g&&at.sort();var Be=$e.concat(at);for(ze=0,gt=Be.length;ze<gt;ze++)if(Ae=ze<gt-1,Gt=Be[ze],fe?(ce=fe.c[Gt]||[],Ee=se(ce[1]),Le.push(ue(ce[0],`
`)+Ge),Ve&&(ce[0]||ce[1]||Ee)&&(Ve=null)):Le.push(Ge),W=0,un=C[Gt],Gn=ie(un,fe&&Ee),Le.push(ee(Gt)+y.col[0]+(Y(Gn)?"":" ")+Gn+(Ae?h:"")),fe&&ce[1]&&Le.push(ue(ce[1],Ee?" ":`
`,Ee)),Ve){switch(typeof un){case"string":W=0,c=!0,d=0,Gn=ie(un,!1),c=Zt,d=Me,Ve.push(ee(Gt)+y.col[0]+" "+Gn+(Ae?y.com[0]:""));break;case"object":if(un){Ve=null;break}default:Ve.push(Le[Le.length-1]+(Ae?Ue:""));break}W+=y.col[0].length-y.col[2],Ae&&(W+=y.com[0].length-y.com[2]),wt+=W}gt===0?fe&&fe.e&&Le.push(ue(fe.e[0],`
`)+Je):Le.push(Je),Le.length===0?Fe=V(y.obj,""):(Fe=qe+V(y.obj,Le.join("")),Ve&&(ot=Ve.join(" "),ot.length-wt<=f&&(Fe=V(y.obj,ot))))}return q=me,Fe}}T=r.loadDsf(p,"stringify");var K="",I=a?I=(n.getComment(e)||{}).r:null;return I&&I[0]&&(K=I[0]+`
`),K+=ie(e,null,!0,!0),I&&(K+=I[1]||""),K},Rp=Kx;function q0(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function Y2(e,t){if(!(e===null||typeof e!="object")){var n=Rp.getComment(e);n&&Rp.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)xB(o.a,r,n.a[r],Y2(e[r]))&&(s=!0);!s&&n.e&&(o.e=q0(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];xB(o.s,l,n.c[l],Y2(e[l]))&&(s=!0)}!s&&n.e&&(o.e=q0(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=q0(n.r[0],n.r[1])),s?o:void 0}}function P2e(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function R2e(e,t){var n=[];if(G2(e,t,n,[]),n.length>0){var r=vT(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+P2e(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),vT(t,r,1)}}function xB(e,t,n,r){var i=q0(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function W0(e,t){var n=q0(t.b,t.a);return n.path=e,n}function Y0(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(W0(s,o)),Y0(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(W0(u,l)),Y0(l.x,t,u))});e.e&&t.push(W0(n,e.e))}}function G2(e,t,n,r){if(e){if(t===null||typeof t!="object"){Y0(e,n,r);return}var i,s=Rp.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],G2(u.x,t[i],n,l)):(n.push(W0(l,u)),Y0(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],G2(d.x,t[c],n,f))):d&&(n.push(W0(f,d)),Y0(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function vT(e,t,n){var r=Rp.createComment(e,Rp.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=Rp.forceComment(t)),r.r[n]||""}var N2e={extract:function(e){return Y2(e,!0)},merge:R2e,header:function(e,t){return vT(e,t,0)},footer:function(e,t){return vT(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var IB=Kx,k2e=S2e,AB=C2e,CB=O2e,D2e=N2e,$2e=zD,HD={parse:AB,stringify:CB,endOfLine:function(){return IB.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(IB.EOL=e)},version:k2e,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,AB(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,CB(e,t)}},comments:D2e,dsf:$2e.std},K2={exports:{}},mZ={},ka={},cm={},G_={},Yt={},jy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((v,T)=>`${v}${T}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((v,T)=>(T instanceof n&&(v[T.str]=(v[T.str]||0)+1),v),{})}}e._Code=r,e.nil=new r("");function i(m,..._){const v=[m[0]];let T=0;for(;T<_.length;)a(v,_[T]),v.push(m[++T]);return new r(v)}e._=i;const s=new r("+");function o(m,..._){const v=[h(m[0])];let T=0;for(;T<_.length;)v.push(s),a(v,_[T]),v.push(s,h(m[++T]));return u(v),new r(v)}e.str=o;function a(m,_){_ instanceof r?m.push(..._._items):_ instanceof n?m.push(_):m.push(f(_))}e.addCodeArg=a;function u(m){let _=1;for(;_<m.length-1;){if(m[_]===s){const v=l(m[_-1],m[_+1]);if(v!==void 0){m.splice(_-1,3,v);continue}m[_++]="+"}_++}}function l(m,_){if(_==='""')return m;if(m==='""')return _;if(typeof m=="string")return _ instanceof n||m[m.length-1]!=='"'?void 0:typeof _!="string"?`${m.slice(0,-1)}${_}"`:_[0]==='"'?m.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(m instanceof n))return`"${m}${_.slice(1)}`}function c(m,_){return _.emptyStr()?m:m.emptyStr()?_:o`${m}${_}`}e.strConcat=c;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function d(m){return new r(h(m))}e.stringify=d;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}e.getProperty=p;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(m){return new r(m.toString())}e.regexpCode=y})(jy);var Q2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=jy;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let g=this._values[h];if(g){const _=g.get(p);if(_)return _}else g=this._values[h]=new Map;g.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),m=y.length;return y[m]=c.ref,d.setValue(c,{property:h,itemIndex:m}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const g=l[p];if(!g)continue;const y=f[p]=f[p]||new Map;g.forEach(m=>{if(y.has(m))return;y.set(m,r.Started);let _=c(m);if(_){const v=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${v} ${m} = ${_};${this.opts._n}`}else if(_=d==null?void 0:d(m))h=(0,t._)`${h}${_}${this.opts._n}`;else throw new n(m);y.set(m,r.Completed)})}return h}}e.ValueScope=a})(Q2);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=jy,n=Q2;var r=jy;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Q2;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(R,P){return this}}class o extends s{constructor(R,P,Y){super(),this.varKind=R,this.name=P,this.rhs=Y}render({es5:R,_n:P}){const Y=R?n.varKinds.var:this.varKind,se=this.rhs===void 0?"":` = ${this.rhs}`;return`${Y} ${this.name}${se};`+P}optimizeNames(R,P){if(R[this.name.str])return this.rhs&&(this.rhs=V(this.rhs,R,P)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(R,P,Y){super(),this.lhs=R,this.rhs=P,this.sideEffects=Y}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,P){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=V(this.rhs,R,P),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(R,this.rhs)}}class u extends a{constructor(R,P,Y,se){super(R,Y,se),this.op=P}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}}class l extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}}class c extends s{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}}class f extends s{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}}class d extends s{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,P){return this.code=V(this.code,R,P),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((P,Y)=>P+Y.render(R),"")}optimizeNodes(){const{nodes:R}=this;let P=R.length;for(;P--;){const Y=R[P].optimizeNodes();Array.isArray(Y)?R.splice(P,1,...Y):Y?R[P]=Y:R.splice(P,1)}return R.length>0?this:void 0}optimizeNames(R,P){const{nodes:Y}=this;let se=Y.length;for(;se--;){const ue=Y[se];ue.optimizeNames(R,P)||(de(R,ue.names),Y.splice(se,1))}return Y.length>0?this:void 0}get names(){return this.nodes.reduce((R,P)=>q(R,P.names),{})}}class p extends h{render(R){return"{"+R._n+super.render(R)+"}"+R._n}}class g extends h{}class y extends p{}y.kind="else";class m extends p{constructor(R,P){super(P),this.condition=R}render(R){let P=`if(${this.condition})`+super.render(R);return this.else&&(P+="else "+this.else.render(R)),P}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let P=this.else;if(P){const Y=P.optimizeNodes();P=this.else=Array.isArray(Y)?new y(Y):Y}if(P)return R===!1?P instanceof m?P:P.nodes:this.nodes.length?this:new m(ae(R),P instanceof m?[P]:P.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,P){var Y;if(this.else=(Y=this.else)===null||Y===void 0?void 0:Y.optimizeNames(R,P),!!(super.optimizeNames(R,P)||this.else))return this.condition=V(this.condition,R,P),this}get names(){const R=super.names;return W(R,this.condition),this.else&&q(R,this.else.names),R}}m.kind="if";class _ extends p{}_.kind="for";class v extends _{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,P){if(super.optimizeNames(R,P))return this.iteration=V(this.iteration,R,P),this}get names(){return q(super.names,this.iteration.names)}}class T extends _{constructor(R,P,Y,se){super(),this.varKind=R,this.name=P,this.from=Y,this.to=se}render(R){const P=R.es5?n.varKinds.var:this.varKind,{name:Y,from:se,to:ue}=this;return`for(${P} ${Y}=${se}; ${Y}<${ue}; ${Y}++)`+super.render(R)}get names(){const R=W(super.names,this.from);return W(R,this.to)}}class S extends _{constructor(R,P,Y,se){super(),this.loop=R,this.varKind=P,this.name=Y,this.iterable=se}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,P){if(super.optimizeNames(R,P))return this.iterable=V(this.iterable,R,P),this}get names(){return q(super.names,this.iterable.names)}}class w extends p{constructor(R,P,Y){super(),this.name=R,this.args=P,this.async=Y}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}}w.kind="func";class x extends h{render(R){return"return "+super.render(R)}}x.kind="return";class A extends p{render(R){let P="try"+super.render(R);return this.catch&&(P+=this.catch.render(R)),this.finally&&(P+=this.finally.render(R)),P}optimizeNodes(){var R,P;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(R,P){var Y,se;return super.optimizeNames(R,P),(Y=this.catch)===null||Y===void 0||Y.optimizeNames(R,P),(se=this.finally)===null||se===void 0||se.optimizeNames(R,P),this}get names(){const R=super.names;return this.catch&&q(R,this.catch.names),this.finally&&q(R,this.finally.names),R}}class M extends p{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}}M.kind="catch";class D extends p{render(R){return"finally"+super.render(R)}}D.kind="finally";class ${constructor(R,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=R,this._scope=new n.Scope({parent:R}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,P){const Y=this._extScope.value(R,P);return(this._values[Y.prefix]||(this._values[Y.prefix]=new Set)).add(Y),Y}getScopeValue(R,P){return this._extScope.getValue(R,P)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,P,Y,se){const ue=this._scope.toName(P);return Y!==void 0&&se&&(this._constants[ue.str]=Y),this._leafNode(new o(R,ue,Y)),ue}const(R,P,Y){return this._def(n.varKinds.const,R,P,Y)}let(R,P,Y){return this._def(n.varKinds.let,R,P,Y)}var(R,P,Y){return this._def(n.varKinds.var,R,P,Y)}assign(R,P,Y){return this._leafNode(new a(R,P,Y))}add(R,P){return this._leafNode(new u(R,e.operators.ADD,P))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new d(R)),this}object(...R){const P=["{"];for(const[Y,se]of R)P.length>1&&P.push(","),P.push(Y),(Y!==se||this.opts.es5)&&(P.push(":"),(0,t.addCodeArg)(P,se));return P.push("}"),new t._Code(P)}if(R,P,Y){if(this._blockNode(new m(R)),P&&Y)this.code(P).else().code(Y).endIf();else if(P)this.code(P).endIf();else if(Y)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new m(R))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(R,P){return this._blockNode(R),P&&this.code(P).endFor(),this}for(R,P){return this._for(new v(R),P)}forRange(R,P,Y,se,ue=this.opts.es5?n.varKinds.var:n.varKinds.let){const he=this._scope.toName(R);return this._for(new T(ue,he,P,Y),()=>se(he))}forOf(R,P,Y,se=n.varKinds.const){const ue=this._scope.toName(R);if(this.opts.es5){const he=P instanceof t.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,t._)`${he}.length`,fe=>{this.var(ue,(0,t._)`${he}[${fe}]`),Y(ue)})}return this._for(new S("of",se,ue,P),()=>Y(ue))}forIn(R,P,Y,se=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${P})`,Y);const ue=this._scope.toName(R);return this._for(new S("in",se,ue,P),()=>Y(ue))}endFor(){return this._endBlockNode(_)}label(R){return this._leafNode(new l(R))}break(R){return this._leafNode(new c(R))}return(R){const P=new x;if(this._blockNode(P),this.code(R),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(R,P,Y){if(!P&&!Y)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new A;if(this._blockNode(se),this.code(R),P){const ue=this.name("e");this._currNode=se.catch=new M(ue),P(ue)}return Y&&(this._currNode=se.finally=new D,this.code(Y)),this._endBlockNode(M,D)}throw(R){return this._leafNode(new f(R))}block(R,P){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(P),this}endBlock(R){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const Y=this._nodes.length-P;if(Y<0||R!==void 0&&Y!==R)throw new Error(`CodeGen: wrong number of nodes: ${Y} vs ${R} expected`);return this._nodes.length=P,this}func(R,P=t.nil,Y,se){return this._blockNode(new w(R,P,Y)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,P){const Y=this._currNode;if(Y instanceof R||P&&Y instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${R.kind}/${P.kind}`:R.kind}"`)}_elseNode(R){const P=this._currNode;if(!(P instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const P=this._nodes;P[P.length-1]=R}}e.CodeGen=$;function q(z,R){for(const P in R)z[P]=(z[P]||0)+(R[P]||0);return z}function W(z,R){return R instanceof t._CodeOrName?q(z,R.names):z}function V(z,R,P){if(z instanceof t.Name)return Y(z);if(!se(z))return z;return new t._Code(z._items.reduce((ue,he)=>(he instanceof t.Name&&(he=Y(he)),he instanceof t._Code?ue.push(...he._items):ue.push(he),ue),[]));function Y(ue){const he=P[ue.str];return he===void 0||R[ue.str]!==1?ue:(delete R[ue.str],he)}function se(ue){return ue instanceof t._Code&&ue._items.some(he=>he instanceof t.Name&&R[he.str]===1&&P[he.str]!==void 0)}}function de(z,R){for(const P in R)z[P]=(z[P]||0)-(R[P]||0)}function ae(z){return typeof z=="boolean"||typeof z=="number"||z===null?!z:(0,t._)`!${C(z)}`}e.not=ae;const pe=I(e.operators.AND);function ee(...z){return z.reduce(pe)}e.and=ee;const ie=I(e.operators.OR);function K(...z){return z.reduce(ie)}e.or=K;function I(z){return(R,P)=>R===t.nil?P:P===t.nil?R:(0,t._)`${C(R)} ${z} ${C(P)}`}function C(z){return z instanceof t.Name?z:(0,t._)`(${z})`}})(Yt);var mn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Yt,n=jy;function r(w){const x={};for(const A of w)x[A]=!0;return x}e.toHash=r;function i(w,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(w,x),!o(x,w.self.RULES.all))}e.alwaysValidSchema=i;function s(w,x=w.schema){const{opts:A,self:M}=w;if(!A.strictSchema||typeof x=="boolean")return;const D=M.RULES.keywords;for(const $ in x)D[$]||S(w,`unknown keyword: "${$}"`)}e.checkUnknownRules=s;function o(w,x){if(typeof w=="boolean")return!w;for(const A in w)if(x[A])return!0;return!1}e.schemaHasRules=o;function a(w,x){if(typeof w=="boolean")return!w;for(const A in w)if(A!=="$ref"&&x.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:w,schemaPath:x},A,M,D){if(!D){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${w}${x}${(0,t.getProperty)(M)}`}e.schemaRefOrVal=u;function l(w){return d(decodeURIComponent(w))}e.unescapeFragment=l;function c(w){return encodeURIComponent(f(w))}e.escapeFragment=c;function f(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(w,x){if(Array.isArray(w))for(const A of w)x(A);else x(w)}e.eachItem=h;function p({mergeNames:w,mergeToName:x,mergeValues:A,resultToName:M}){return(D,$,q,W)=>{const V=q===void 0?$:q instanceof t.Name?($ instanceof t.Name?w(D,$,q):x(D,$,q),q):$ instanceof t.Name?(x(D,q,$),$):A($,q);return W===t.Name&&!(V instanceof t.Name)?M(D,V):V}}e.mergeEvaluated={props:p({mergeNames:(w,x,A)=>w.if((0,t._)`${A} !== true && ${x} !== undefined`,()=>{w.if((0,t._)`${x} === true`,()=>w.assign(A,!0),()=>w.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${x})`))}),mergeToName:(w,x,A)=>w.if((0,t._)`${A} !== true`,()=>{x===!0?w.assign(A,!0):(w.assign(A,(0,t._)`${A} || {}`),y(w,A,x))}),mergeValues:(w,x)=>w===!0?!0:{...w,...x},resultToName:g}),items:p({mergeNames:(w,x,A)=>w.if((0,t._)`${A} !== true && ${x} !== undefined`,()=>w.assign(A,(0,t._)`${x} === true ? true : ${A} > ${x} ? ${A} : ${x}`)),mergeToName:(w,x,A)=>w.if((0,t._)`${A} !== true`,()=>w.assign(A,x===!0?!0:(0,t._)`${A} > ${x} ? ${A} : ${x}`)),mergeValues:(w,x)=>w===!0?!0:Math.max(w,x),resultToName:(w,x)=>w.var("items",x)})};function g(w,x){if(x===!0)return w.var("props",!0);const A=w.var("props",(0,t._)`{}`);return x!==void 0&&y(w,A,x),A}e.evaluatedPropsToName=g;function y(w,x,A){Object.keys(A).forEach(M=>w.assign((0,t._)`${x}${(0,t.getProperty)(M)}`,!0))}e.setEvaluated=y;const m={};function _(w,x){return w.scopeValue("func",{ref:x,code:m[x.code]||(m[x.code]=new n._Code(x.code))})}e.useFunc=_;var v;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(v=e.Type||(e.Type={}));function T(w,x,A){if(w instanceof t.Name){const M=x===v.Num;return A?M?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:M?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(w).toString():"/"+f(w)}e.getErrorPath=T;function S(w,x,A=w.opts.strictSchema){if(A){if(x=`strict mode: ${x}`,A===!0)throw new Error(x);w.self.logger.warn(x)}}e.checkStrictMode=S})(mn);var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});const zi=Yt,L2e={data:new zi.Name("data"),valCxt:new zi.Name("valCxt"),instancePath:new zi.Name("instancePath"),parentData:new zi.Name("parentData"),parentDataProperty:new zi.Name("parentDataProperty"),rootData:new zi.Name("rootData"),dynamicAnchors:new zi.Name("dynamicAnchors"),vErrors:new zi.Name("vErrors"),errors:new zi.Name("errors"),this:new zi.Name("this"),self:new zi.Name("self"),scope:new zi.Name("scope"),json:new zi.Name("json"),jsonPos:new zi.Name("jsonPos"),jsonLen:new zi.Name("jsonLen"),jsonPart:new zi.Name("jsonPart")};Yu.default=L2e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Yt,n=mn,r=Yu;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,m=e.keywordError,_,v){const{it:T}=y,{gen:S,compositeRule:w,allErrors:x}=T,A=f(y,m,_);v??(w||x)?u(S,A):l(T,(0,t._)`[${A}]`)}e.reportError=i;function s(y,m=e.keywordError,_){const{it:v}=y,{gen:T,compositeRule:S,allErrors:w}=v,x=f(y,m,_);u(T,x),S||w||l(v,r.default.vErrors)}e.reportExtraError=s;function o(y,m){y.assign(r.default.errors,m),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${r.default.vErrors}.length`,m),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:m,schemaValue:_,data:v,errsCount:T,it:S}){if(T===void 0)throw new Error("ajv implementation error");const w=y.name("err");y.forRange("i",T,r.default.errors,x=>{y.const(w,(0,t._)`${r.default.vErrors}[${x}]`),y.if((0,t._)`${w}.instancePath === undefined`,()=>y.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(r.default.instancePath,S.errorPath))),y.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${S.errSchemaPath}/${m}`),S.opts.verbose&&(y.assign((0,t._)`${w}.schema`,_),y.assign((0,t._)`${w}.data`,v))})}e.extendErrors=a;function u(y,m){const _=y.const("err",m);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${r.default.vErrors}.push(${_})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,m){const{gen:_,validateName:v,schemaEnv:T}=y;T.$async?_.throw((0,t._)`new ${y.ValidationError}(${m})`):(_.assign((0,t._)`${v}.errors`,m),_.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,m,_){const{createErrors:v}=y.it;return v===!1?(0,t._)`{}`:d(y,m,_)}function d(y,m,_={}){const{gen:v,it:T}=y,S=[h(T,_),p(y,_)];return g(y,m,S),v.object(...S)}function h({errorPath:y},{instancePath:m}){const _=m?(0,t.str)`${y}${(0,n.getErrorPath)(m,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,_)]}function p({keyword:y,it:{errSchemaPath:m}},{schemaPath:_,parentSchema:v}){let T=v?m:(0,t.str)`${m}/${y}`;return _&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(_,n.Type.Str)}`),[c.schemaPath,T]}function g(y,{params:m,message:_},v){const{keyword:T,data:S,schemaValue:w,it:x}=y,{opts:A,propertyName:M,topSchemaRef:D,schemaPath:$}=x;v.push([c.keyword,T],[c.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),A.messages&&v.push([c.message,typeof _=="function"?_(y):_]),A.verbose&&v.push([c.schema,w],[c.parentSchema,(0,t._)`${D}${$}`],[r.default.data,S]),M&&v.push([c.propertyName,M])}})(G_);Object.defineProperty(cm,"__esModule",{value:!0});cm.boolOrEmptySchema=cm.topBoolOrEmptySchema=void 0;const M2e=G_,F2e=Yt,B2e=Yu,j2e={message:"boolean schema is false"};function U2e(e){const{gen:t,schema:n,validateName:r}=e;n===!1?gZ(e,!1):typeof n=="object"&&n.$async===!0?t.return(B2e.default.data):(t.assign((0,F2e._)`${r}.errors`,null),t.return(!0))}cm.topBoolOrEmptySchema=U2e;function V2e(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),gZ(e)):n.var(t,!0)}cm.boolOrEmptySchema=V2e;function gZ(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,M2e.reportError)(i,j2e,void 0,t)}var K_={},Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.getRules=Wd.isJSONType=void 0;const z2e=["string","number","integer","boolean","null","object","array"],H2e=new Set(z2e);function q2e(e){return typeof e=="string"&&H2e.has(e)}Wd.isJSONType=q2e;function W2e(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Wd.getRules=W2e;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.shouldUseRule=Al.shouldUseGroup=Al.schemaHasRulesForType=void 0;function Y2e({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&yZ(e,r)}Al.schemaHasRulesForType=Y2e;function yZ(e,t){return t.rules.some(n=>_Z(e,n))}Al.shouldUseGroup=yZ;function _Z(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Al.shouldUseRule=_Z;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Wd,n=Al,r=G_,i=Yt,s=mn;var o;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(v){const T=u(v.type);if(T.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(v){const T=Array.isArray(v)?v:v?[v]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(v,T){const{gen:S,data:w,opts:x}=v,A=f(T,x.coerceTypes),M=T.length>0&&!(A.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(v,T[0]));if(M){const D=g(T,w,x.strictNumbers,o.Wrong);S.if(D,()=>{A.length?d(v,T,A):m(v)})}return M}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(v,T){return T?v.filter(S=>c.has(S)||T==="array"&&S==="array"):[]}function d(v,T,S){const{gen:w,data:x,opts:A}=v,M=w.let("dataType",(0,i._)`typeof ${x}`),D=w.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&w.if((0,i._)`${M} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>w.assign(x,(0,i._)`${x}[0]`).assign(M,(0,i._)`typeof ${x}`).if(g(T,x,A.strictNumbers),()=>w.assign(D,x))),w.if((0,i._)`${D} !== undefined`);for(const q of S)(c.has(q)||q==="array"&&A.coerceTypes==="array")&&$(q);w.else(),m(v),w.endIf(),w.if((0,i._)`${D} !== undefined`,()=>{w.assign(x,D),h(v,D)});function $(q){switch(q){case"string":w.elseIf((0,i._)`${M} == "number" || ${M} == "boolean"`).assign(D,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(D,(0,i._)`""`);return;case"number":w.elseIf((0,i._)`${M} == "boolean" || ${x} === null
              || (${M} == "string" && ${x} && ${x} == +${x})`).assign(D,(0,i._)`+${x}`);return;case"integer":w.elseIf((0,i._)`${M} === "boolean" || ${x} === null
              || (${M} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(D,(0,i._)`+${x}`);return;case"boolean":w.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(D,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(D,!0);return;case"null":w.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),w.assign(D,null);return;case"array":w.elseIf((0,i._)`${M} === "string" || ${M} === "number"
              || ${M} === "boolean" || ${x} === null`).assign(D,(0,i._)`[${x}]`)}}}function h({gen:v,parentData:T,parentDataProperty:S},w){v.if((0,i._)`${T} !== undefined`,()=>v.assign((0,i._)`${T}[${S}]`,w))}function p(v,T,S,w=o.Correct){const x=w===o.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(v){case"null":return(0,i._)`${T} ${x} null`;case"array":A=(0,i._)`Array.isArray(${T})`;break;case"object":A=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":A=M((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":A=M();break;default:return(0,i._)`typeof ${T} ${x} ${v}`}return w===o.Correct?A:(0,i.not)(A);function M(D=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,D,S?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function g(v,T,S,w){if(v.length===1)return p(v[0],T,S,w);let x;const A=(0,s.toHash)(v);if(A.array&&A.object){const M=(0,i._)`typeof ${T} != "object"`;x=A.null?M:(0,i._)`!${T} || ${M}`,delete A.null,delete A.array,delete A.object}else x=i.nil;A.number&&delete A.integer;for(const M in A)x=(0,i.and)(x,p(M,T,S,w));return x}e.checkDataTypes=g;const y={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:T})=>typeof v=="string"?(0,i._)`{type: ${v}}`:(0,i._)`{type: ${T}}`};function m(v){const T=_(v);(0,r.reportError)(T,y)}e.reportTypeError=m;function _(v){const{gen:T,data:S,schema:w}=v,x=(0,s.schemaRefOrVal)(v,w,"type");return{gen:T,keyword:"type",data:S,schema:w.type,schemaCode:x,schemaValue:x,parentSchema:w,params:{},it:v}}})(K_);var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});Qx.assignDefaults=void 0;const Lh=Yt,G2e=mn;function K2e(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)OB(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>OB(e,s,i.default))}Qx.assignDefaults=K2e;function OB(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,Lh._)`${s}${(0,Lh.getProperty)(t)}`;if(i){(0,G2e.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,Lh._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,Lh._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,Lh._)`${a} = ${(0,Lh.stringify)(n)}`)}var yu={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.validateUnion=Wt.validateArray=Wt.usePattern=Wt.callValidateCode=Wt.schemaProperties=Wt.allSchemaProperties=Wt.noPropertyInData=Wt.propertyInData=Wt.isOwnProperty=Wt.hasPropFunc=Wt.reportMissingProp=Wt.checkMissingProp=Wt.checkReportMissingProp=void 0;const Xn=Yt,qD=mn,dc=Yu,Q2e=mn;function X2e(e,t){const{gen:n,data:r,it:i}=e;n.if(YD(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Xn._)`${t}`},!0),e.error()})}Wt.checkReportMissingProp=X2e;function J2e({gen:e,data:t,it:{opts:n}},r,i){return(0,Xn.or)(...r.map(s=>(0,Xn.and)(YD(e,t,s,n.ownProperties),(0,Xn._)`${i} = ${s}`)))}Wt.checkMissingProp=J2e;function Z2e(e,t){e.setParams({missingProperty:t},!0),e.error()}Wt.reportMissingProp=Z2e;function vZ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Xn._)`Object.prototype.hasOwnProperty`})}Wt.hasPropFunc=vZ;function WD(e,t,n){return(0,Xn._)`${vZ(e)}.call(${t}, ${n})`}Wt.isOwnProperty=WD;function eRe(e,t,n,r){const i=(0,Xn._)`${t}${(0,Xn.getProperty)(n)} !== undefined`;return r?(0,Xn._)`${i} && ${WD(e,t,n)}`:i}Wt.propertyInData=eRe;function YD(e,t,n,r){const i=(0,Xn._)`${t}${(0,Xn.getProperty)(n)} === undefined`;return r?(0,Xn.or)(i,(0,Xn.not)(WD(e,t,n))):i}Wt.noPropertyInData=YD;function bZ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Wt.allSchemaProperties=bZ;function tRe(e,t){return bZ(t).filter(n=>!(0,qD.alwaysValidSchema)(e,t[n]))}Wt.schemaProperties=tRe;function nRe({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,Xn._)`${e}, ${t}, ${r}${i}`:t,f=[[dc.default.instancePath,(0,Xn.strConcat)(dc.default.instancePath,s)],[dc.default.parentData,o.parentData],[dc.default.parentDataProperty,o.parentDataProperty],[dc.default.rootData,dc.default.rootData]];o.opts.dynamicRef&&f.push([dc.default.dynamicAnchors,dc.default.dynamicAnchors]);const d=(0,Xn._)`${c}, ${n.object(...f)}`;return u!==Xn.nil?(0,Xn._)`${a}.call(${u}, ${d})`:(0,Xn._)`${a}(${d})`}Wt.callValidateCode=nRe;const rRe=(0,Xn._)`new RegExp`;function iRe({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Xn._)`${i.code==="new RegExp"?rRe:(0,Q2e.useFunc)(e,i)}(${n}, ${r})`})}Wt.usePattern=iRe;function sRe(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,Xn._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:qD.Type.Num},s),t.if((0,Xn.not)(s),a)})}}Wt.validateArray=sRe;function oRe(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,qD.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Xn._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Xn.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Wt.validateUnion=oRe;Object.defineProperty(yu,"__esModule",{value:!0});yu.validateKeywordUsage=yu.validSchemaType=yu.funcKeywordCode=yu.macroKeywordCode=void 0;const fs=Yt,od=Yu,aRe=Wt,uRe=G_;function lRe(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=wZ(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:fs.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}yu.macroKeywordCode=lRe;function cRe(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;dRe(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=wZ(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)g(),t.modifying&&PB(e),y(()=>e.error());else{const m=t.async?h():p();t.modifying&&PB(e),y(()=>fRe(e,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,fs._)`await `),_=>r.assign(f,!1).if((0,fs._)`${_} instanceof ${u.ValidationError}`,()=>r.assign(m,(0,fs._)`${_}.errors`),()=>r.throw(_))),m}function p(){const m=(0,fs._)`${c}.errors`;return r.assign(m,null),g(fs.nil),m}function g(m=t.async?(0,fs._)`await `:fs.nil){const _=u.opts.passContext?od.default.this:od.default.self,v=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,fs._)`${m}${(0,aRe.callValidateCode)(e,c,_,v)}`,t.modifying)}function y(m){var _;r.if((0,fs.not)((_=t.valid)!==null&&_!==void 0?_:f),m)}}yu.funcKeywordCode=cRe;function PB(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,fs._)`${r.parentData}[${r.parentDataProperty}]`))}function fRe(e,t){const{gen:n}=e;n.if((0,fs._)`Array.isArray(${t})`,()=>{n.assign(od.default.vErrors,(0,fs._)`${od.default.vErrors} === null ? ${t} : ${od.default.vErrors}.concat(${t})`).assign(od.default.errors,(0,fs._)`${od.default.vErrors}.length`),(0,uRe.extendErrors)(e)},()=>e.error())}function dRe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function wZ(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,fs.stringify)(n)})}function hRe(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}yu.validSchemaType=hRe;function pRe({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}yu.validateKeywordUsage=pRe;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.extendSubschemaMode=ef.extendSubschemaData=ef.getSubschema=void 0;const uu=Yt,EZ=mn;function mRe(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,uu._)`${e.schemaPath}${(0,uu.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,uu._)`${e.schemaPath}${(0,uu.getProperty)(t)}${(0,uu.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,EZ.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}ef.getSubschema=mRe;function gRe(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,uu._)`${t.data}${(0,uu.getProperty)(n)}`,!0);u(d),e.errorPath=(0,uu.str)`${l}${(0,EZ.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,uu._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof uu.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}ef.extendSubschemaData=gRe;function yRe(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}ef.extendSubschemaMode=yRe;var Oi={},GD=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const RB=Va(GD);var TZ={exports:{}},Bc=TZ.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};Cb(t,r,i,e,"",e)};Bc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Bc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Bc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Bc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Cb(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Bc.arrayKeywords)for(var d=0;d<f.length;d++)Cb(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in Bc.propsKeywords){if(f&&typeof f=="object")for(var h in f)Cb(e,t,n,f[h],i+"/"+c+"/"+_Re(h),s,i,c,r,h)}else(c in Bc.keywords||e.allKeys&&!(c in Bc.skipKeywords))&&Cb(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function _Re(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var vRe=TZ.exports;Object.defineProperty(Oi,"__esModule",{value:!0});Oi.getSchemaRefs=Oi.resolveUrl=Oi.normalizeId=Oi._getFullPath=Oi.getFullPath=Oi.inlineRef=void 0;const bRe=mn,wRe=GD,ERe=vRe,TRe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function SRe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!X2(e):t?SZ(e)<=t:!1}Oi.inlineRef=SRe;const xRe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function X2(e){for(const t in e){if(xRe.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(X2)||typeof n=="object"&&X2(n))return!0}return!1}function SZ(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!TRe.has(n)&&(typeof e[n]=="object"&&(0,bRe.eachItem)(e[n],r=>t+=SZ(r)),t===1/0))return 1/0}return t}function xZ(e,t="",n){n!==!1&&(t=Np(t));const r=e.parse(t);return IZ(e,r)}Oi.getFullPath=xZ;function IZ(e,t){return e.serialize(t).split("#")[0]+"#"}Oi._getFullPath=IZ;const IRe=/#\/?$/;function Np(e){return e?e.replace(IRe,""):""}Oi.normalizeId=Np;function ARe(e,t,n){return n=Np(n),e.resolve(t,n)}Oi.resolveUrl=ARe;const CRe=/^[a-z_][-a-z0-9._]*$/i;function ORe(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=Np(e[n]||t),s={"":i},o=xZ(r,i,!1),a={},u=new Set;return ERe(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const g=o+d;let y=s[p];typeof f[n]=="string"&&(y=m.call(this,f[n])),_.call(this,f.$anchor),_.call(this,f.$dynamicAnchor),s[d]=y;function m(v){const T=this.opts.uriResolver.resolve;if(v=Np(y?T(y,v):v),u.has(v))throw c(v);u.add(v);let S=this.refs[v];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?l(f,S.schema,v):v!==Np(g)&&(v[0]==="#"?(l(f,a[v],v),a[v]=f):this.refs[v]=g),v}function _(v){if(typeof v=="string"){if(!CRe.test(v))throw new Error(`invalid anchor "${v}"`);m.call(this,`#${v}`)}}}),a;function l(f,d,h){if(d!==void 0&&!wRe(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Oi.getSchemaRefs=ORe;Object.defineProperty(ka,"__esModule",{value:!0});ka.getData=ka.KeywordCxt=ka.validateFunctionCode=void 0;const AZ=cm,NB=K_,KD=Al,bT=K_,PRe=Qx,G0=yu,zC=ef,it=Yt,yt=Yu,RRe=Oi,Cl=mn,Hg=G_;function NRe(e){if(PZ(e)&&(RZ(e),OZ(e))){$Re(e);return}CZ(e,()=>(0,AZ.topBoolOrEmptySchema)(e))}ka.validateFunctionCode=NRe;function CZ({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,it._)`${yt.default.data}, ${yt.default.valCxt}`,r.$async,()=>{e.code((0,it._)`"use strict"; ${kB(n,i)}`),DRe(e,i),e.code(s)}):e.func(t,(0,it._)`${yt.default.data}, ${kRe(i)}`,r.$async,()=>e.code(kB(n,i)).code(s))}function kRe(e){return(0,it._)`{${yt.default.instancePath}="", ${yt.default.parentData}, ${yt.default.parentDataProperty}, ${yt.default.rootData}=${yt.default.data}${e.dynamicRef?(0,it._)`, ${yt.default.dynamicAnchors}={}`:it.nil}}={}`}function DRe(e,t){e.if(yt.default.valCxt,()=>{e.var(yt.default.instancePath,(0,it._)`${yt.default.valCxt}.${yt.default.instancePath}`),e.var(yt.default.parentData,(0,it._)`${yt.default.valCxt}.${yt.default.parentData}`),e.var(yt.default.parentDataProperty,(0,it._)`${yt.default.valCxt}.${yt.default.parentDataProperty}`),e.var(yt.default.rootData,(0,it._)`${yt.default.valCxt}.${yt.default.rootData}`),t.dynamicRef&&e.var(yt.default.dynamicAnchors,(0,it._)`${yt.default.valCxt}.${yt.default.dynamicAnchors}`)},()=>{e.var(yt.default.instancePath,(0,it._)`""`),e.var(yt.default.parentData,(0,it._)`undefined`),e.var(yt.default.parentDataProperty,(0,it._)`undefined`),e.var(yt.default.rootData,yt.default.data),t.dynamicRef&&e.var(yt.default.dynamicAnchors,(0,it._)`{}`)})}function $Re(e){const{schema:t,opts:n,gen:r}=e;CZ(e,()=>{n.$comment&&t.$comment&&kZ(e),jRe(e),r.let(yt.default.vErrors,null),r.let(yt.default.errors,0),n.unevaluated&&LRe(e),NZ(e),zRe(e)})}function LRe(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,it._)`${n}.evaluated`),t.if((0,it._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,it._)`${e.evaluated}.props`,(0,it._)`undefined`)),t.if((0,it._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,it._)`${e.evaluated}.items`,(0,it._)`undefined`))}function kB(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,it._)`/*# sourceURL=${n} */`:it.nil}function MRe(e,t){if(PZ(e)&&(RZ(e),OZ(e))){FRe(e,t);return}(0,AZ.boolOrEmptySchema)(e,t)}function OZ({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function PZ(e){return typeof e.schema!="boolean"}function FRe(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&kZ(e),URe(e),VRe(e);const s=r.const("_errs",yt.default.errors);NZ(e,s),r.var(t,(0,it._)`${s} === ${yt.default.errors}`)}function RZ(e){(0,Cl.checkUnknownRules)(e),BRe(e)}function NZ(e,t){if(e.opts.jtd)return DB(e,[],!1,t);const n=(0,NB.getSchemaTypes)(e.schema),r=(0,NB.coerceAndCheckDataType)(e,n);DB(e,n,!r,t)}function BRe(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Cl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function jRe(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Cl.checkStrictMode)(e,"default is ignored in the schema root")}function URe(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,RRe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function VRe(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function kZ({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,it._)`${yt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,it.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,it._)`${yt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function zRe(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,it._)`${yt.default.errors} === 0`,()=>t.return(yt.default.data),()=>t.throw((0,it._)`new ${i}(${yt.default.vErrors})`)):(t.assign((0,it._)`${r}.errors`,yt.default.vErrors),s.unevaluated&&HRe(e),t.return((0,it._)`${yt.default.errors} === 0`))}function HRe({gen:e,evaluated:t,props:n,items:r}){n instanceof it.Name&&e.assign((0,it._)`${t}.props`,n),r instanceof it.Name&&e.assign((0,it._)`${t}.items`,r)}function DB(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Cl.schemaHasRulesButRef)(s,c))){i.block(()=>LZ(e,"$ref",c.all.$ref.definition));return}u.jtd||qRe(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,KD.shouldUseGroup)(s,d)&&(d.type?(i.if((0,bT.checkDataType)(d.type,o,u.strictNumbers)),$B(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,bT.reportTypeError)(e)),i.endIf()):$B(e,d),a||i.if((0,it._)`${yt.default.errors} === ${r||0}`))}}function $B(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,PRe.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,KD.shouldUseRule)(r,s)&&LZ(e,s.keyword,s.definition,t.type)})}function qRe(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(WRe(e,t),e.opts.allowUnionTypes||YRe(e,t),GRe(e,e.dataTypes))}function WRe(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{DZ(e.dataTypes,n)||QD(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),QRe(e,t)}}function YRe(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&QD(e,"use allowUnionTypes to allow union type keyword")}function GRe(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,KD.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>KRe(t,o))&&QD(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function KRe(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function DZ(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function QRe(e,t){const n=[];for(const r of e.dataTypes)DZ(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function QD(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Cl.checkStrictMode)(e,t,e.opts.strictTypes)}class $Z{constructor(t,n,r){if((0,G0.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Cl.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",MZ(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,G0.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",yt.default.errors))}result(t,n,r){this.failResult((0,it.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,it.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,it._)`${n} !== undefined && (${(0,it.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?Hg.reportExtraError:Hg.reportError)(this,this.def.error,n)}$dataError(){(0,Hg.reportError)(this,this.def.$dataError||Hg.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Hg.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=it.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=it.nil,n=it.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,it.or)((0,it._)`${i} === undefined`,n)),t!==it.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==it.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,it.or)(o(),a());function o(){if(r.length){if(!(n instanceof it.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,it._)`${(0,bT.checkDataTypes)(u,n,s.opts.strictNumbers,bT.DataType.Wrong)}`}return it.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,it._)`!${u}(${n})`}return it.nil}}subschema(t,n){const r=(0,zC.getSubschema)(this.it,t);(0,zC.extendSubschemaData)(r,this.it,t),(0,zC.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return MRe(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Cl.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Cl.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,it.Name)),!0}}ka.KeywordCxt=$Z;function LZ(e,t,n,r){const i=new $Z(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,G0.funcKeywordCode)(i,n):"macro"in n?(0,G0.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,G0.funcKeywordCode)(i,n)}const XRe=/^\/(?:[^~]|~0|~1)*$/,JRe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function MZ(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return yt.default.rootData;if(e[0]==="/"){if(!XRe.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=yt.default.rootData}else{const l=JRe.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,it._)`${s}${(0,it.getProperty)((0,Cl.unescapeJsonPointer)(l))}`,o=(0,it._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}ka.getData=MZ;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});class ZRe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Q_.default=ZRe;var X_={};Object.defineProperty(X_,"__esModule",{value:!0});const HC=Oi;class eNe extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,HC.resolveUrl)(t,n,r),this.missingSchema=(0,HC.normalizeId)((0,HC.getFullPath)(t,this.missingRef))}}X_.default=eNe;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.resolveSchema=Fs.getCompilingSchema=Fs.resolveRef=Fs.compileSchema=Fs.SchemaEnv=void 0;const ma=Yt,tNe=Q_,Gf=Yu,xa=Oi,LB=mn,nNe=ka;class Xx{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,xa.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Fs.SchemaEnv=Xx;function XD(e){const t=FZ.call(this,e);if(t)return t;const n=(0,xa.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new ma.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:tNe.default,code:(0,ma._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Gf.default.data,parentData:Gf.default.parentData,parentDataProperty:Gf.default.parentDataProperty,dataNames:[Gf.default.data],dataPathArr:[ma.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ma.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:ma.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ma._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,nNe.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Gf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Gf.default.self}`,`${Gf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:g}=l;h.evaluated={props:p instanceof ma.Name?void 0:p,items:g instanceof ma.Name?void 0:g,dynamicProps:p instanceof ma.Name,dynamicItems:g instanceof ma.Name},h.source&&(h.source.evaluated=(0,ma.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Fs.compileSchema=XD;function rNe(e,t,n){var r;n=(0,xa.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=oNe.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new Xx({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=iNe.call(this,s)}Fs.resolveRef=rNe;function iNe(e){return(0,xa.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:XD.call(this,e)}function FZ(e){for(const t of this._compilations)if(sNe(t,e))return t}Fs.getCompilingSchema=FZ;function sNe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function oNe(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||Jx.call(this,e,t)}function Jx(e,t){const n=this.opts.uriResolver.parse(t),r=(0,xa._getFullPath)(this.opts.uriResolver,n);let i=(0,xa.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return qC.call(this,n,e);const s=(0,xa.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=Jx.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:qC.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||XD.call(this,o),s===(0,xa.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,xa.resolveUrl)(this.opts.uriResolver,i,l)),new Xx({schema:a,schemaId:u,root:e,baseId:i})}return qC.call(this,n,o)}}Fs.resolveSchema=Jx;const aNe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function qC(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,LB.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!aNe.has(a)&&l&&(t=(0,xa.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,LB.schemaHasRulesButRef)(n,this.RULES)){const a=(0,xa.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=Jx.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new Xx({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const uNe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",lNe="Meta-schema for $data reference (JSON AnySchema extension proposal)",cNe="object",fNe=["$data"],dNe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},hNe=!1,pNe={$id:uNe,description:lNe,type:cNe,required:fNe,properties:dNe,additionalProperties:hNe};var JD={},J2={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(fo,function(n){function r(){for(var X=arguments.length,U=Array(X),Z=0;Z<X;Z++)U[Z]=arguments[Z];if(U.length>1){U[0]=U[0].slice(0,-1);for(var ye=U.length-1,ge=1;ge<ye;++ge)U[ge]=U[ge].slice(1,-1);return U[ye]=U[ye].slice(1),U.join("")}else return U[0]}function i(X){return"(?:"+X+")"}function s(X){return X===void 0?"undefined":X===null?"null":Object.prototype.toString.call(X).split(" ").pop().split("]").shift().toLowerCase()}function o(X){return X.toUpperCase()}function a(X){return X!=null?X instanceof Array?X:typeof X.length!="number"||X.split||X.setInterval||X.call?[X]:Array.prototype.slice.call(X):[]}function u(X,U){var Z=X;if(U)for(var ye in U)Z[ye]=U[ye];return Z}function l(X){var U="[A-Za-z]",Z="[0-9]",ye=r(Z,"[A-Fa-f]"),ge=i(i("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+i("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+i("%"+ye+ye)),Ke="[\\:\\/\\?\\#\\[\\]\\@]",Te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",We=r(Ke,Te),dt=X?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",nt=X?"[\\uE000-\\uF8FF]":"[]",mt=r(U,Z,"[\\-\\.\\_\\~]",dt);i(U+r(U,Z,"[\\+\\-\\.]")+"*"),i(i(ge+"|"+r(mt,Te,"[\\:]"))+"*");var Lt=i(i("25[0-5]")+"|"+i("2[0-4]"+Z)+"|"+i("1"+Z+Z)+"|"+i("0?[1-9]"+Z)+"|0?0?"+Z),$n=i(Lt+"\\."+Lt+"\\."+Lt+"\\."+Lt),pt=i(ye+"{1,4}"),An=i(i(pt+"\\:"+pt)+"|"+$n),Et=i(i(pt+"\\:")+"{6}"+An),gn=i("\\:\\:"+i(pt+"\\:")+"{5}"+An),nr=i(i(pt)+"?\\:\\:"+i(pt+"\\:")+"{4}"+An),Gr=i(i(i(pt+"\\:")+"{0,1}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{3}"+An),Rr=i(i(i(pt+"\\:")+"{0,2}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{2}"+An),us=i(i(i(pt+"\\:")+"{0,3}"+pt)+"?\\:\\:"+pt+"\\:"+An),bi=i(i(i(pt+"\\:")+"{0,4}"+pt)+"?\\:\\:"+An),pr=i(i(i(pt+"\\:")+"{0,5}"+pt)+"?\\:\\:"+pt),Xe=i(i(i(pt+"\\:")+"{0,6}"+pt)+"?\\:\\:"),zt=i([Et,gn,nr,Gr,Rr,us,bi,pr,Xe].join("|")),Hn=i(i(mt+"|"+ge)+"+");i("[vV]"+ye+"+\\."+r(mt,Te,"[\\:]")+"+"),i(i(ge+"|"+r(mt,Te))+"*");var ai=i(ge+"|"+r(mt,Te,"[\\:\\@]"));return i(i(ge+"|"+r(mt,Te,"[\\@]"))+"+"),i(i(ai+"|"+r("[\\/\\?]",nt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",U,Z,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",mt,Te),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",mt,Te),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",mt,Te),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",mt,Te),"g"),NOT_QUERY:new RegExp(r("[^\\%]",mt,Te,"[\\:\\@\\/\\?]",nt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",mt,Te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",mt,Te),"g"),UNRESERVED:new RegExp(mt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",mt,We),"g"),PCT_ENCODED:new RegExp(ge,"g"),IPV4ADDRESS:new RegExp("^("+$n+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+i(i("\\%25|\\%(?!"+ye+"{2})")+"("+Hn+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function X(U,Z){var ye=[],ge=!0,Ke=!1,Te=void 0;try{for(var We=U[Symbol.iterator](),dt;!(ge=(dt=We.next()).done)&&(ye.push(dt.value),!(Z&&ye.length===Z));ge=!0);}catch(nt){Ke=!0,Te=nt}finally{try{!ge&&We.return&&We.return()}finally{if(Ke)throw Te}}return ye}return function(U,Z){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return X(U,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(X){if(Array.isArray(X)){for(var U=0,Z=Array(X.length);U<X.length;U++)Z[U]=X[U];return Z}else return Array.from(X)},p=2147483647,g=36,y=1,m=26,_=38,v=700,T=72,S=128,w="-",x=/^xn--/,A=/[^\0-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=g-y,q=Math.floor,W=String.fromCharCode;function V(X){throw new RangeError(D[X])}function de(X,U){for(var Z=[],ye=X.length;ye--;)Z[ye]=U(X[ye]);return Z}function ae(X,U){var Z=X.split("@"),ye="";Z.length>1&&(ye=Z[0]+"@",X=Z[1]),X=X.replace(M,".");var ge=X.split("."),Ke=de(ge,U).join(".");return ye+Ke}function pe(X){for(var U=[],Z=0,ye=X.length;Z<ye;){var ge=X.charCodeAt(Z++);if(ge>=55296&&ge<=56319&&Z<ye){var Ke=X.charCodeAt(Z++);(Ke&64512)==56320?U.push(((ge&1023)<<10)+(Ke&1023)+65536):(U.push(ge),Z--)}else U.push(ge)}return U}var ee=function(U){return String.fromCodePoint.apply(String,h(U))},ie=function(U){return U-48<10?U-22:U-65<26?U-65:U-97<26?U-97:g},K=function(U,Z){return U+22+75*(U<26)-((Z!=0)<<5)},I=function(U,Z,ye){var ge=0;for(U=ye?q(U/v):U>>1,U+=q(U/Z);U>$*m>>1;ge+=g)U=q(U/$);return q(ge+($+1)*U/(U+_))},C=function(U){var Z=[],ye=U.length,ge=0,Ke=S,Te=T,We=U.lastIndexOf(w);We<0&&(We=0);for(var dt=0;dt<We;++dt)U.charCodeAt(dt)>=128&&V("not-basic"),Z.push(U.charCodeAt(dt));for(var nt=We>0?We+1:0;nt<ye;){for(var mt=ge,Lt=1,$n=g;;$n+=g){nt>=ye&&V("invalid-input");var pt=ie(U.charCodeAt(nt++));(pt>=g||pt>q((p-ge)/Lt))&&V("overflow"),ge+=pt*Lt;var An=$n<=Te?y:$n>=Te+m?m:$n-Te;if(pt<An)break;var Et=g-An;Lt>q(p/Et)&&V("overflow"),Lt*=Et}var gn=Z.length+1;Te=I(ge-mt,gn,mt==0),q(ge/gn)>p-Ke&&V("overflow"),Ke+=q(ge/gn),ge%=gn,Z.splice(ge++,0,Ke)}return String.fromCodePoint.apply(String,Z)},z=function(U){var Z=[];U=pe(U);var ye=U.length,ge=S,Ke=0,Te=T,We=!0,dt=!1,nt=void 0;try{for(var mt=U[Symbol.iterator](),Lt;!(We=(Lt=mt.next()).done);We=!0){var $n=Lt.value;$n<128&&Z.push(W($n))}}catch(be){dt=!0,nt=be}finally{try{!We&&mt.return&&mt.return()}finally{if(dt)throw nt}}var pt=Z.length,An=pt;for(pt&&Z.push(w);An<ye;){var Et=p,gn=!0,nr=!1,Gr=void 0;try{for(var Rr=U[Symbol.iterator](),us;!(gn=(us=Rr.next()).done);gn=!0){var bi=us.value;bi>=ge&&bi<Et&&(Et=bi)}}catch(be){nr=!0,Gr=be}finally{try{!gn&&Rr.return&&Rr.return()}finally{if(nr)throw Gr}}var pr=An+1;Et-ge>q((p-Ke)/pr)&&V("overflow"),Ke+=(Et-ge)*pr,ge=Et;var Xe=!0,zt=!1,Hn=void 0;try{for(var ai=U[Symbol.iterator](),Es;!(Xe=(Es=ai.next()).done);Xe=!0){var k=Es.value;if(k<ge&&++Ke>p&&V("overflow"),k==ge){for(var Q=Ke,B=g;;B+=g){var ne=B<=Te?y:B>=Te+m?m:B-Te;if(Q<ne)break;var oe=Q-ne,te=g-ne;Z.push(W(K(ne+oe%te,0))),Q=q(oe/te)}Z.push(W(K(Q,0))),Te=I(Ke,pr,An==pt),Ke=0,++An}}}catch(be){zt=!0,Hn=be}finally{try{!Xe&&ai.return&&ai.return()}finally{if(zt)throw Hn}}++Ke,++ge}return Z.join("")},R=function(U){return ae(U,function(Z){return x.test(Z)?C(Z.slice(4).toLowerCase()):Z})},P=function(U){return ae(U,function(Z){return A.test(Z)?"xn--"+z(Z):Z})},Y={version:"2.1.0",ucs2:{decode:pe,encode:ee},decode:C,encode:z,toASCII:P,toUnicode:R},se={};function ue(X){var U=X.charCodeAt(0),Z=void 0;return U<16?Z="%0"+U.toString(16).toUpperCase():U<128?Z="%"+U.toString(16).toUpperCase():U<2048?Z="%"+(U>>6|192).toString(16).toUpperCase()+"%"+(U&63|128).toString(16).toUpperCase():Z="%"+(U>>12|224).toString(16).toUpperCase()+"%"+(U>>6&63|128).toString(16).toUpperCase()+"%"+(U&63|128).toString(16).toUpperCase(),Z}function he(X){for(var U="",Z=0,ye=X.length;Z<ye;){var ge=parseInt(X.substr(Z+1,2),16);if(ge<128)U+=String.fromCharCode(ge),Z+=3;else if(ge>=194&&ge<224){if(ye-Z>=6){var Ke=parseInt(X.substr(Z+4,2),16);U+=String.fromCharCode((ge&31)<<6|Ke&63)}else U+=X.substr(Z,6);Z+=6}else if(ge>=224){if(ye-Z>=9){var Te=parseInt(X.substr(Z+4,2),16),We=parseInt(X.substr(Z+7,2),16);U+=String.fromCharCode((ge&15)<<12|(Te&63)<<6|We&63)}else U+=X.substr(Z,9);Z+=9}else U+=X.substr(Z,3),Z+=3}return U}function fe(X,U){function Z(ye){var ge=he(ye);return ge.match(U.UNRESERVED)?ge:ye}return X.scheme&&(X.scheme=String(X.scheme).replace(U.PCT_ENCODED,Z).toLowerCase().replace(U.NOT_SCHEME,"")),X.userinfo!==void 0&&(X.userinfo=String(X.userinfo).replace(U.PCT_ENCODED,Z).replace(U.NOT_USERINFO,ue).replace(U.PCT_ENCODED,o)),X.host!==void 0&&(X.host=String(X.host).replace(U.PCT_ENCODED,Z).toLowerCase().replace(U.NOT_HOST,ue).replace(U.PCT_ENCODED,o)),X.path!==void 0&&(X.path=String(X.path).replace(U.PCT_ENCODED,Z).replace(X.scheme?U.NOT_PATH:U.NOT_PATH_NOSCHEME,ue).replace(U.PCT_ENCODED,o)),X.query!==void 0&&(X.query=String(X.query).replace(U.PCT_ENCODED,Z).replace(U.NOT_QUERY,ue).replace(U.PCT_ENCODED,o)),X.fragment!==void 0&&(X.fragment=String(X.fragment).replace(U.PCT_ENCODED,Z).replace(U.NOT_FRAGMENT,ue).replace(U.PCT_ENCODED,o)),X}function Se(X){return X.replace(/^0*(.*)/,"$1")||"0"}function me(X,U){var Z=X.match(U.IPV4ADDRESS)||[],ye=d(Z,2),ge=ye[1];return ge?ge.split(".").map(Se).join("."):X}function Je(X,U){var Z=X.match(U.IPV6ADDRESS)||[],ye=d(Z,3),ge=ye[1],Ke=ye[2];if(ge){for(var Te=ge.toLowerCase().split("::").reverse(),We=d(Te,2),dt=We[0],nt=We[1],mt=nt?nt.split(":").map(Se):[],Lt=dt.split(":").map(Se),$n=U.IPV4ADDRESS.test(Lt[Lt.length-1]),pt=$n?7:8,An=Lt.length-pt,Et=Array(pt),gn=0;gn<pt;++gn)Et[gn]=mt[gn]||Lt[An+gn]||"";$n&&(Et[pt-1]=me(Et[pt-1],U));var nr=Et.reduce(function(pr,Xe,zt){if(!Xe||Xe==="0"){var Hn=pr[pr.length-1];Hn&&Hn.index+Hn.length===zt?Hn.length++:pr.push({index:zt,length:1})}return pr},[]),Gr=nr.sort(function(pr,Xe){return Xe.length-pr.length})[0],Rr=void 0;if(Gr&&Gr.length>1){var us=Et.slice(0,Gr.index),bi=Et.slice(Gr.index+Gr.length);Rr=us.join(":")+"::"+bi.join(":")}else Rr=Et.join(":");return Ke&&(Rr+="%"+Ke),Rr}else return X}var Ge=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,qe="".match(/(){0}/)[1]===void 0;function Le(X){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z={},ye=U.iri!==!1?f:c;U.reference==="suffix"&&(X=(U.scheme?U.scheme+":":"")+"//"+X);var ge=X.match(Ge);if(ge){qe?(Z.scheme=ge[1],Z.userinfo=ge[3],Z.host=ge[4],Z.port=parseInt(ge[5],10),Z.path=ge[6]||"",Z.query=ge[7],Z.fragment=ge[8],isNaN(Z.port)&&(Z.port=ge[5])):(Z.scheme=ge[1]||void 0,Z.userinfo=X.indexOf("@")!==-1?ge[3]:void 0,Z.host=X.indexOf("//")!==-1?ge[4]:void 0,Z.port=parseInt(ge[5],10),Z.path=ge[6]||"",Z.query=X.indexOf("?")!==-1?ge[7]:void 0,Z.fragment=X.indexOf("#")!==-1?ge[8]:void 0,isNaN(Z.port)&&(Z.port=X.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ge[4]:void 0)),Z.host&&(Z.host=Je(me(Z.host,ye),ye)),Z.scheme===void 0&&Z.userinfo===void 0&&Z.host===void 0&&Z.port===void 0&&!Z.path&&Z.query===void 0?Z.reference="same-document":Z.scheme===void 0?Z.reference="relative":Z.fragment===void 0?Z.reference="absolute":Z.reference="uri",U.reference&&U.reference!=="suffix"&&U.reference!==Z.reference&&(Z.error=Z.error||"URI is not a "+U.reference+" reference.");var Ke=se[(U.scheme||Z.scheme||"").toLowerCase()];if(!U.unicodeSupport&&(!Ke||!Ke.unicodeSupport)){if(Z.host&&(U.domainHost||Ke&&Ke.domainHost))try{Z.host=Y.toASCII(Z.host.replace(ye.PCT_ENCODED,he).toLowerCase())}catch(Te){Z.error=Z.error||"Host's domain name can not be converted to ASCII via punycode: "+Te}fe(Z,c)}else fe(Z,ye);Ke&&Ke.parse&&Ke.parse(Z,U)}else Z.error=Z.error||"URI can not be parsed.";return Z}function Ae(X,U){var Z=U.iri!==!1?f:c,ye=[];return X.userinfo!==void 0&&(ye.push(X.userinfo),ye.push("@")),X.host!==void 0&&ye.push(Je(me(String(X.host),Z),Z).replace(Z.IPV6ADDRESS,function(ge,Ke,Te){return"["+Ke+(Te?"%25"+Te:"")+"]"})),(typeof X.port=="number"||typeof X.port=="string")&&(ye.push(":"),ye.push(String(X.port))),ye.length?ye.join(""):void 0}var Ve=/^\.\.?\//,Zt=/^\/\.(\/|$)/,Me=/^\/\.\.(\/|$)/,Ue=/^\/?(?:.|\n)*?(?=\/|$)/;function wt(X){for(var U=[];X.length;)if(X.match(Ve))X=X.replace(Ve,"");else if(X.match(Zt))X=X.replace(Zt,"/");else if(X.match(Me))X=X.replace(Me,"/"),U.pop();else if(X==="."||X==="..")X="";else{var Z=X.match(Ue);if(Z){var ye=Z[0];X=X.slice(ye.length),U.push(ye)}else throw new Error("Unexpected dot segment condition")}return U.join("")}function ze(X){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=U.iri?f:c,ye=[],ge=se[(U.scheme||X.scheme||"").toLowerCase()];if(ge&&ge.serialize&&ge.serialize(X,U),X.host&&!Z.IPV6ADDRESS.test(X.host)){if(U.domainHost||ge&&ge.domainHost)try{X.host=U.iri?Y.toUnicode(X.host):Y.toASCII(X.host.replace(Z.PCT_ENCODED,he).toLowerCase())}catch(We){X.error=X.error||"Host's domain name can not be converted to "+(U.iri?"Unicode":"ASCII")+" via punycode: "+We}}fe(X,Z),U.reference!=="suffix"&&X.scheme&&(ye.push(X.scheme),ye.push(":"));var Ke=Ae(X,U);if(Ke!==void 0&&(U.reference!=="suffix"&&ye.push("//"),ye.push(Ke),X.path&&X.path.charAt(0)!=="/"&&ye.push("/")),X.path!==void 0){var Te=X.path;!U.absolutePath&&(!ge||!ge.absolutePath)&&(Te=wt(Te)),Ke===void 0&&(Te=Te.replace(/^\/\//,"/%2F")),ye.push(Te)}return X.query!==void 0&&(ye.push("?"),ye.push(X.query)),X.fragment!==void 0&&(ye.push("#"),ye.push(X.fragment)),ye.join("")}function gt(X,U){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=arguments[3],ge={};return ye||(X=Le(ze(X,Z),Z),U=Le(ze(U,Z),Z)),Z=Z||{},!Z.tolerant&&U.scheme?(ge.scheme=U.scheme,ge.userinfo=U.userinfo,ge.host=U.host,ge.port=U.port,ge.path=wt(U.path||""),ge.query=U.query):(U.userinfo!==void 0||U.host!==void 0||U.port!==void 0?(ge.userinfo=U.userinfo,ge.host=U.host,ge.port=U.port,ge.path=wt(U.path||""),ge.query=U.query):(U.path?(U.path.charAt(0)==="/"?ge.path=wt(U.path):((X.userinfo!==void 0||X.host!==void 0||X.port!==void 0)&&!X.path?ge.path="/"+U.path:X.path?ge.path=X.path.slice(0,X.path.lastIndexOf("/")+1)+U.path:ge.path=U.path,ge.path=wt(ge.path)),ge.query=U.query):(ge.path=X.path,U.query!==void 0?ge.query=U.query:ge.query=X.query),ge.userinfo=X.userinfo,ge.host=X.host,ge.port=X.port),ge.scheme=X.scheme),ge.fragment=U.fragment,ge}function Gt(X,U,Z){var ye=u({scheme:"null"},Z);return ze(gt(Le(X,ye),Le(U,ye),ye,!0),ye)}function un(X,U){return typeof X=="string"?X=ze(Le(X,U),U):s(X)==="object"&&(X=Le(ze(X,U),U)),X}function Gn(X,U,Z){return typeof X=="string"?X=ze(Le(X,Z),Z):s(X)==="object"&&(X=ze(X,Z)),typeof U=="string"?U=ze(Le(U,Z),Z):s(U)==="object"&&(U=ze(U,Z)),X===U}function ce(X,U){return X&&X.toString().replace(!U||!U.iri?c.ESCAPE:f.ESCAPE,ue)}function Ee(X,U){return X&&X.toString().replace(!U||!U.iri?c.PCT_ENCODED:f.PCT_ENCODED,he)}var Fe={scheme:"http",domainHost:!0,parse:function(U,Z){return U.host||(U.error=U.error||"HTTP URIs must have a host."),U},serialize:function(U,Z){var ye=String(U.scheme).toLowerCase()==="https";return(U.port===(ye?443:80)||U.port==="")&&(U.port=void 0),U.path||(U.path="/"),U}},ot={scheme:"https",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize};function $e(X){return typeof X.secure=="boolean"?X.secure:String(X.scheme).toLowerCase()==="wss"}var at={scheme:"ws",domainHost:!0,parse:function(U,Z){var ye=U;return ye.secure=$e(ye),ye.resourceName=(ye.path||"/")+(ye.query?"?"+ye.query:""),ye.path=void 0,ye.query=void 0,ye},serialize:function(U,Z){if((U.port===($e(U)?443:80)||U.port==="")&&(U.port=void 0),typeof U.secure=="boolean"&&(U.scheme=U.secure?"wss":"ws",U.secure=void 0),U.resourceName){var ye=U.resourceName.split("?"),ge=d(ye,2),Ke=ge[0],Te=ge[1];U.path=Ke&&Ke!=="/"?Ke:void 0,U.query=Te,U.resourceName=void 0}return U.fragment=void 0,U}},Be={scheme:"wss",domainHost:at.domainHost,parse:at.parse,serialize:at.serialize},rt={},wn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",qt="[0-9A-Fa-f]",xt=i(i("%[EFef]"+qt+"%"+qt+qt+"%"+qt+qt)+"|"+i("%[89A-Fa-f]"+qt+"%"+qt+qt)+"|"+i("%"+qt+qt)),Bn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",En="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",da=r(En,'[\\"\\\\]'),dr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ji=new RegExp(wn,"g"),br=new RegExp(xt,"g"),Lr=new RegExp(r("[^]",Bn,"[\\.]",'[\\"]',da),"g"),hr=new RegExp(r("[^]",wn,dr),"g"),jn=hr;function en(X){var U=he(X);return U.match(ji)?U:X}var oi={scheme:"mailto",parse:function(U,Z){var ye=U,ge=ye.to=ye.path?ye.path.split(","):[];if(ye.path=void 0,ye.query){for(var Ke=!1,Te={},We=ye.query.split("&"),dt=0,nt=We.length;dt<nt;++dt){var mt=We[dt].split("=");switch(mt[0]){case"to":for(var Lt=mt[1].split(","),$n=0,pt=Lt.length;$n<pt;++$n)ge.push(Lt[$n]);break;case"subject":ye.subject=Ee(mt[1],Z);break;case"body":ye.body=Ee(mt[1],Z);break;default:Ke=!0,Te[Ee(mt[0],Z)]=Ee(mt[1],Z);break}}Ke&&(ye.headers=Te)}ye.query=void 0;for(var An=0,Et=ge.length;An<Et;++An){var gn=ge[An].split("@");if(gn[0]=Ee(gn[0]),Z.unicodeSupport)gn[1]=Ee(gn[1],Z).toLowerCase();else try{gn[1]=Y.toASCII(Ee(gn[1],Z).toLowerCase())}catch(nr){ye.error=ye.error||"Email address's domain name can not be converted to ASCII via punycode: "+nr}ge[An]=gn.join("@")}return ye},serialize:function(U,Z){var ye=U,ge=a(U.to);if(ge){for(var Ke=0,Te=ge.length;Ke<Te;++Ke){var We=String(ge[Ke]),dt=We.lastIndexOf("@"),nt=We.slice(0,dt).replace(br,en).replace(br,o).replace(Lr,ue),mt=We.slice(dt+1);try{mt=Z.iri?Y.toUnicode(mt):Y.toASCII(Ee(mt,Z).toLowerCase())}catch(An){ye.error=ye.error||"Email address's domain name can not be converted to "+(Z.iri?"Unicode":"ASCII")+" via punycode: "+An}ge[Ke]=nt+"@"+mt}ye.path=ge.join(",")}var Lt=U.headers=U.headers||{};U.subject&&(Lt.subject=U.subject),U.body&&(Lt.body=U.body);var $n=[];for(var pt in Lt)Lt[pt]!==rt[pt]&&$n.push(pt.replace(br,en).replace(br,o).replace(hr,ue)+"="+Lt[pt].replace(br,en).replace(br,o).replace(jn,ue));return $n.length&&(ye.query=$n.join("&")),ye}},wr=/^([^\:]+)\:(.*)/,Mr={scheme:"urn",parse:function(U,Z){var ye=U.path&&U.path.match(wr),ge=U;if(ye){var Ke=Z.scheme||ge.scheme||"urn",Te=ye[1].toLowerCase(),We=ye[2],dt=Ke+":"+(Z.nid||Te),nt=se[dt];ge.nid=Te,ge.nss=We,ge.path=void 0,nt&&(ge=nt.parse(ge,Z))}else ge.error=ge.error||"URN can not be parsed.";return ge},serialize:function(U,Z){var ye=Z.scheme||U.scheme||"urn",ge=U.nid,Ke=ye+":"+(Z.nid||ge),Te=se[Ke];Te&&(U=Te.serialize(U,Z));var We=U,dt=U.nss;return We.path=(ge||Z.nid)+":"+dt,We}},vi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ws={scheme:"urn:uuid",parse:function(U,Z){var ye=U;return ye.uuid=ye.nss,ye.nss=void 0,!Z.tolerant&&(!ye.uuid||!ye.uuid.match(vi))&&(ye.error=ye.error||"UUID is not valid."),ye},serialize:function(U,Z){var ye=U;return ye.nss=(U.uuid||"").toLowerCase(),ye}};se[Fe.scheme]=Fe,se[ot.scheme]=ot,se[at.scheme]=at,se[Be.scheme]=Be,se[oi.scheme]=oi,se[Mr.scheme]=Mr,se[ws.scheme]=ws,n.SCHEMES=se,n.pctEncChar=ue,n.pctDecChars=he,n.parse=Le,n.removeDotSegments=wt,n.serialize=ze,n.resolveComponents=gt,n.resolve=Gt,n.normalize=un,n.equal=Gn,n.escapeComponent=ce,n.unescapeComponent=Ee,Object.defineProperty(n,"__esModule",{value:!0})})})(J2,J2.exports);var mNe=J2.exports;Object.defineProperty(JD,"__esModule",{value:!0});const BZ=mNe;BZ.code='require("ajv/dist/runtime/uri").default';JD.default=BZ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ka;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Yt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Q_,i=X_,s=Wd,o=Fs,a=Yt,u=Oi,l=K_,c=mn,f=pNe,d=JD,h=(K,I)=>new RegExp(K,I);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function v(K){var I,C,z,R,P,Y,se,ue,he,fe,Se,me,Je,Ge,qe,Le,Ae,Ve,Zt,Me,Ue,wt,ze,gt,Gt;const un=K.strict,Gn=(I=K.code)===null||I===void 0?void 0:I.optimize,ce=Gn===!0||Gn===void 0?1:Gn||0,Ee=(z=(C=K.code)===null||C===void 0?void 0:C.regExp)!==null&&z!==void 0?z:h,Fe=(R=K.uriResolver)!==null&&R!==void 0?R:d.default;return{strictSchema:(Y=(P=K.strictSchema)!==null&&P!==void 0?P:un)!==null&&Y!==void 0?Y:!0,strictNumbers:(ue=(se=K.strictNumbers)!==null&&se!==void 0?se:un)!==null&&ue!==void 0?ue:!0,strictTypes:(fe=(he=K.strictTypes)!==null&&he!==void 0?he:un)!==null&&fe!==void 0?fe:"log",strictTuples:(me=(Se=K.strictTuples)!==null&&Se!==void 0?Se:un)!==null&&me!==void 0?me:"log",strictRequired:(Ge=(Je=K.strictRequired)!==null&&Je!==void 0?Je:un)!==null&&Ge!==void 0?Ge:!1,code:K.code?{...K.code,optimize:ce,regExp:Ee}:{optimize:ce,regExp:Ee},loopRequired:(qe=K.loopRequired)!==null&&qe!==void 0?qe:_,loopEnum:(Le=K.loopEnum)!==null&&Le!==void 0?Le:_,meta:(Ae=K.meta)!==null&&Ae!==void 0?Ae:!0,messages:(Ve=K.messages)!==null&&Ve!==void 0?Ve:!0,inlineRefs:(Zt=K.inlineRefs)!==null&&Zt!==void 0?Zt:!0,schemaId:(Me=K.schemaId)!==null&&Me!==void 0?Me:"$id",addUsedSchema:(Ue=K.addUsedSchema)!==null&&Ue!==void 0?Ue:!0,validateSchema:(wt=K.validateSchema)!==null&&wt!==void 0?wt:!0,validateFormats:(ze=K.validateFormats)!==null&&ze!==void 0?ze:!0,unicodeRegExp:(gt=K.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:(Gt=K.int32range)!==null&&Gt!==void 0?Gt:!0,uriResolver:Fe}}class T{constructor(I={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,I=this.opts={...I,...v(I)};const{es5:C,lines:z}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:C,lines:z}),this.logger=q(I.logger);const R=I.validateFormats;I.validateFormats=!1,this.RULES=(0,s.getRules)(),S.call(this,y,I,"NOT SUPPORTED"),S.call(this,m,I,"DEPRECATED","warn"),this._metaOpts=D.call(this),I.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),I.keywords&&M.call(this,I.keywords),typeof I.meta=="object"&&this.addMetaSchema(I.meta),x.call(this),I.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:I,meta:C,schemaId:z}=this.opts;let R=f;z==="id"&&(R={...f},R.id=R.$id,delete R.$id),C&&I&&this.addMetaSchema(R,R[z],!1)}defaultMeta(){const{meta:I,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof I=="object"?I[C]||I:void 0}validate(I,C){let z;if(typeof I=="string"){if(z=this.getSchema(I),!z)throw new Error(`no schema with key or ref "${I}"`)}else z=this.compile(I);const R=z(C);return"$async"in z||(this.errors=z.errors),R}compile(I,C){const z=this._addSchema(I,C);return z.validate||this._compileSchemaEnv(z)}compileAsync(I,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:z}=this.opts;return R.call(this,I,C);async function R(fe,Se){await P.call(this,fe.$schema);const me=this._addSchema(fe,Se);return me.validate||Y.call(this,me)}async function P(fe){fe&&!this.getSchema(fe)&&await R.call(this,{$ref:fe},!0)}async function Y(fe){try{return this._compileSchemaEnv(fe)}catch(Se){if(!(Se instanceof i.default))throw Se;return se.call(this,Se),await ue.call(this,Se.missingSchema),Y.call(this,fe)}}function se({missingSchema:fe,missingRef:Se}){if(this.refs[fe])throw new Error(`AnySchema ${fe} is loaded but ${Se} cannot be resolved`)}async function ue(fe){const Se=await he.call(this,fe);this.refs[fe]||await P.call(this,Se.$schema),this.refs[fe]||this.addSchema(Se,fe,C)}async function he(fe){const Se=this._loading[fe];if(Se)return Se;try{return await(this._loading[fe]=z(fe))}finally{delete this._loading[fe]}}}addSchema(I,C,z,R=this.opts.validateSchema){if(Array.isArray(I)){for(const Y of I)this.addSchema(Y,void 0,z,R);return this}let P;if(typeof I=="object"){const{schemaId:Y}=this.opts;if(P=I[Y],P!==void 0&&typeof P!="string")throw new Error(`schema ${Y} must be string`)}return C=(0,u.normalizeId)(C||P),this._checkUnique(C),this.schemas[C]=this._addSchema(I,z,C,R,!0),this}addMetaSchema(I,C,z=this.opts.validateSchema){return this.addSchema(I,C,!0,z),this}validateSchema(I,C){if(typeof I=="boolean")return!0;let z;if(z=I.$schema,z!==void 0&&typeof z!="string")throw new Error("$schema must be a string");if(z=z||this.opts.defaultMeta||this.defaultMeta(),!z)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(z,I);if(!R&&C){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return R}getSchema(I){let C;for(;typeof(C=w.call(this,I))=="string";)I=C;if(C===void 0){const{schemaId:z}=this.opts,R=new o.SchemaEnv({schema:{},schemaId:z});if(C=o.resolveSchema.call(this,R,I),!C)return;this.refs[I]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(I){if(I instanceof RegExp)return this._removeAllSchemas(this.schemas,I),this._removeAllSchemas(this.refs,I),this;switch(typeof I){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=w.call(this,I);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[I],delete this.refs[I],this}case"object":{const C=I;this._cache.delete(C);let z=I[this.opts.schemaId];return z&&(z=(0,u.normalizeId)(z),delete this.schemas[z],delete this.refs[z]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(I){for(const C of I)this.addKeyword(C);return this}addKeyword(I,C){let z;if(typeof I=="string")z=I,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=z);else if(typeof I=="object"&&C===void 0){if(C=I,z=C.keyword,Array.isArray(z)&&!z.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(V.call(this,z,C),!C)return(0,c.eachItem)(z,P=>de.call(this,P)),this;pe.call(this,C);const R={...C,type:(0,l.getJSONTypes)(C.type),schemaType:(0,l.getJSONTypes)(C.schemaType)};return(0,c.eachItem)(z,R.type.length===0?P=>de.call(this,P,R):P=>R.type.forEach(Y=>de.call(this,P,R,Y))),this}getKeyword(I){const C=this.RULES.all[I];return typeof C=="object"?C.definition:!!C}removeKeyword(I){const{RULES:C}=this;delete C.keywords[I],delete C.all[I];for(const z of C.rules){const R=z.rules.findIndex(P=>P.keyword===I);R>=0&&z.rules.splice(R,1)}return this}addFormat(I,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[I]=C,this}errorsText(I=this.errors,{separator:C=", ",dataVar:z="data"}={}){return!I||I.length===0?"No errors":I.map(R=>`${z}${R.instancePath} ${R.message}`).reduce((R,P)=>R+C+P)}$dataMetaSchema(I,C){const z=this.RULES.all;I=JSON.parse(JSON.stringify(I));for(const R of C){const P=R.split("/").slice(1);let Y=I;for(const se of P)Y=Y[se];for(const se in z){const ue=z[se];if(typeof ue!="object")continue;const{$data:he}=ue.definition,fe=Y[se];he&&fe&&(Y[se]=ie(fe))}}return I}_removeAllSchemas(I,C){for(const z in I){const R=I[z];(!C||C.test(z))&&(typeof R=="string"?delete I[z]:R&&!R.meta&&(this._cache.delete(R.schema),delete I[z]))}}_addSchema(I,C,z,R=this.opts.validateSchema,P=this.opts.addUsedSchema){let Y;const{schemaId:se}=this.opts;if(typeof I=="object")Y=I[se];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof I!="boolean")throw new Error("schema must be object or boolean")}let ue=this._cache.get(I);if(ue!==void 0)return ue;z=(0,u.normalizeId)(Y||z);const he=u.getSchemaRefs.call(this,I,z);return ue=new o.SchemaEnv({schema:I,schemaId:se,meta:C,baseId:z,localRefs:he}),this._cache.set(ue.schema,ue),P&&!z.startsWith("#")&&(z&&this._checkUnique(z),this.refs[z]=ue),R&&this.validateSchema(I,!0),ue}_checkUnique(I){if(this.schemas[I]||this.refs[I])throw new Error(`schema with key or id "${I}" already exists`)}_compileSchemaEnv(I){if(I.meta?this._compileMetaSchema(I):o.compileSchema.call(this,I),!I.validate)throw new Error("ajv implementation error");return I.validate}_compileMetaSchema(I){const C=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,I)}finally{this.opts=C}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function S(K,I,C,z="error"){for(const R in K){const P=R;P in I&&this.logger[z](`${C}: option ${R}. ${K[P]}`)}}function w(K){return K=(0,u.normalizeId)(K),this.schemas[K]||this.refs[K]}function x(){const K=this.opts.schemas;if(K)if(Array.isArray(K))this.addSchema(K);else for(const I in K)this.addSchema(K[I],I)}function A(){for(const K in this.opts.formats){const I=this.opts.formats[K];I&&this.addFormat(K,I)}}function M(K){if(Array.isArray(K)){this.addVocabulary(K);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const I in K){const C=K[I];C.keyword||(C.keyword=I),this.addKeyword(C)}}function D(){const K={...this.opts};for(const I of p)delete K[I];return K}const $={log(){},warn(){},error(){}};function q(K){if(K===!1)return $;if(K===void 0)return console;if(K.log&&K.warn&&K.error)return K;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function V(K,I){const{RULES:C}=this;if((0,c.eachItem)(K,z=>{if(C.keywords[z])throw new Error(`Keyword ${z} is already defined`);if(!W.test(z))throw new Error(`Keyword ${z} has invalid name`)}),!!I&&I.$data&&!("code"in I||"validate"in I))throw new Error('$data keyword must have "code" or "validate" function')}function de(K,I,C){var z;const R=I==null?void 0:I.post;if(C&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let Y=R?P.post:P.rules.find(({type:ue})=>ue===C);if(Y||(Y={type:C,rules:[]},P.rules.push(Y)),P.keywords[K]=!0,!I)return;const se={keyword:K,definition:{...I,type:(0,l.getJSONTypes)(I.type),schemaType:(0,l.getJSONTypes)(I.schemaType)}};I.before?ae.call(this,Y,se,I.before):Y.rules.push(se),P.all[K]=se,(z=I.implements)===null||z===void 0||z.forEach(ue=>this.addKeyword(ue))}function ae(K,I,C){const z=K.rules.findIndex(R=>R.keyword===C);z>=0?K.rules.splice(z,0,I):(K.rules.push(I),this.logger.warn(`rule ${C} is not defined`))}function pe(K){let{metaSchema:I}=K;I!==void 0&&(K.$data&&this.opts.$data&&(I=ie(I)),K.validateSchema=this.compile(I,!0))}const ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(K){return{anyOf:[K,ee]}}})(mZ);var ZD={},e$={},t$={};Object.defineProperty(t$,"__esModule",{value:!0});const gNe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t$.default=gNe;var Yd={};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.callRef=Yd.getValidate=void 0;const yNe=X_,MB=Wt,Os=Yt,Mh=Yu,FB=Fs,E1=mn,_Ne={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=FB.resolveRef.call(u,l,i,n);if(c===void 0)throw new yNe.default(r.opts.uriResolver,i,n);if(c instanceof FB.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return Ob(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return Ob(e,(0,Os._)`${p}.validate`,l,l.$async)}function d(p){const g=jZ(e,p);Ob(e,g,p,p.$async)}function h(p){const g=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Os.stringify)(p)}:{ref:p}),y=t.name("valid"),m=e.subschema({schema:p,dataTypes:[],schemaPath:Os.nil,topSchemaRef:g,errSchemaPath:n},y);e.mergeEvaluated(m),e.ok(y)}}};function jZ(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Os._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Yd.getValidate=jZ;function Ob(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?Mh.default.this:Os.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Os._)`await ${(0,MB.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},g=>{i.if((0,Os._)`!(${g} instanceof ${s.ValidationError})`,()=>i.throw(g)),d(g),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,MB.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const g=(0,Os._)`${p}.errors`;i.assign(Mh.default.vErrors,(0,Os._)`${Mh.default.vErrors} === null ? ${g} : ${Mh.default.vErrors}.concat(${g})`),i.assign(Mh.default.errors,(0,Os._)`${Mh.default.vErrors}.length`)}function h(p){var g;if(!s.opts.unevaluated)return;const y=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=E1.mergeEvaluated.props(i,y.props,s.props));else{const m=i.var("props",(0,Os._)`${p}.evaluated.props`);s.props=E1.mergeEvaluated.props(i,m,s.props,Os.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=E1.mergeEvaluated.items(i,y.items,s.items));else{const m=i.var("items",(0,Os._)`${p}.evaluated.items`);s.items=E1.mergeEvaluated.items(i,m,s.items,Os.Name)}}}Yd.callRef=Ob;Yd.default=_Ne;Object.defineProperty(e$,"__esModule",{value:!0});const vNe=t$,bNe=Yd,wNe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",vNe.default,bNe.default];e$.default=wNe;var n$={},r$={};Object.defineProperty(r$,"__esModule",{value:!0});const wT=Yt,hc=wT.operators,ET={maximum:{okStr:"<=",ok:hc.LTE,fail:hc.GT},minimum:{okStr:">=",ok:hc.GTE,fail:hc.LT},exclusiveMaximum:{okStr:"<",ok:hc.LT,fail:hc.GTE},exclusiveMinimum:{okStr:">",ok:hc.GT,fail:hc.LTE}},ENe={message:({keyword:e,schemaCode:t})=>(0,wT.str)`must be ${ET[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,wT._)`{comparison: ${ET[e].okStr}, limit: ${t}}`},TNe={keyword:Object.keys(ET),type:"number",schemaType:"number",$data:!0,error:ENe,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,wT._)`${n} ${ET[t].fail} ${r} || isNaN(${n})`)}};r$.default=TNe;var i$={};Object.defineProperty(i$,"__esModule",{value:!0});const K0=Yt,SNe={message:({schemaCode:e})=>(0,K0.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,K0._)`{multipleOf: ${e}}`},xNe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:SNe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,K0._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,K0._)`${o} !== parseInt(${o})`;e.fail$data((0,K0._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};i$.default=xNe;var s$={},o$={};Object.defineProperty(o$,"__esModule",{value:!0});function UZ(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}o$.default=UZ;UZ.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(s$,"__esModule",{value:!0});const ad=Yt,INe=mn,ANe=o$,CNe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,ad.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,ad._)`{limit: ${e}}`},ONe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:CNe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?ad.operators.GT:ad.operators.LT,o=i.opts.unicode===!1?(0,ad._)`${n}.length`:(0,ad._)`${(0,INe.useFunc)(e.gen,ANe.default)}(${n})`;e.fail$data((0,ad._)`${o} ${s} ${r}`)}};s$.default=ONe;var a$={};Object.defineProperty(a$,"__esModule",{value:!0});const PNe=Wt,TT=Yt,RNe={message:({schemaCode:e})=>(0,TT.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,TT._)`{pattern: ${e}}`},NNe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:RNe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,TT._)`(new RegExp(${i}, ${o}))`:(0,PNe.usePattern)(e,r);e.fail$data((0,TT._)`!${a}.test(${t})`)}};a$.default=NNe;var u$={};Object.defineProperty(u$,"__esModule",{value:!0});const Q0=Yt,kNe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Q0.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Q0._)`{limit: ${e}}`},DNe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:kNe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Q0.operators.GT:Q0.operators.LT;e.fail$data((0,Q0._)`Object.keys(${n}).length ${i} ${r}`)}};u$.default=DNe;var l$={};Object.defineProperty(l$,"__esModule",{value:!0});const qg=Wt,X0=Yt,$Ne=mn,LNe={message:({params:{missingProperty:e}})=>(0,X0.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,X0._)`{missingProperty: ${e}}`},MNe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:LNe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const y=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,$Ne.checkStrictMode)(o,m,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(X0.nil,f);else for(const h of n)(0,qg.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,qg.checkMissingProp)(e,n,h)),(0,qg.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,qg.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,qg.propertyInData)(t,i,h,a.ownProperties)),t.if((0,X0.not)(p),()=>{e.error(),t.break()})},X0.nil)}}};l$.default=MNe;var c$={};Object.defineProperty(c$,"__esModule",{value:!0});const J0=Yt,FNe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,J0.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,J0._)`{limit: ${e}}`},BNe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:FNe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?J0.operators.GT:J0.operators.LT;e.fail$data((0,J0._)`${n}.length ${i} ${r}`)}};c$.default=BNe;var f$={},J_={};Object.defineProperty(J_,"__esModule",{value:!0});const VZ=GD;VZ.code='require("ajv/dist/runtime/equal").default';J_.default=VZ;Object.defineProperty(f$,"__esModule",{value:!0});const WC=K_,Ti=Yt,jNe=mn,UNe=J_,VNe={message:({params:{i:e,j:t}})=>(0,Ti.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ti._)`{i: ${e}, j: ${t}}`},zNe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:VNe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,WC.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Ti._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Ti._)`${n}.length`),g=t.let("j");e.setParams({i:p,j:g}),t.assign(u,!0),t.if((0,Ti._)`${p} > 1`,()=>(f()?d:h)(p,g))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,g){const y=t.name("item"),m=(0,WC.checkDataTypes)(l,y,a.opts.strictNumbers,WC.DataType.Wrong),_=t.const("indices",(0,Ti._)`{}`);t.for((0,Ti._)`;${p}--;`,()=>{t.let(y,(0,Ti._)`${n}[${p}]`),t.if(m,(0,Ti._)`continue`),l.length>1&&t.if((0,Ti._)`typeof ${y} == "string"`,(0,Ti._)`${y} += "_"`),t.if((0,Ti._)`typeof ${_}[${y}] == "number"`,()=>{t.assign(g,(0,Ti._)`${_}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Ti._)`${_}[${y}] = ${p}`)})}function h(p,g){const y=(0,jNe.useFunc)(t,UNe.default),m=t.name("outer");t.label(m).for((0,Ti._)`;${p}--;`,()=>t.for((0,Ti._)`${g} = ${p}; ${g}--;`,()=>t.if((0,Ti._)`${y}(${n}[${p}], ${n}[${g}])`,()=>{e.error(),t.assign(u,!1).break(m)})))}}};f$.default=zNe;var d$={};Object.defineProperty(d$,"__esModule",{value:!0});const Z2=Yt,HNe=mn,qNe=J_,WNe={message:"must be equal to constant",params:({schemaCode:e})=>(0,Z2._)`{allowedValue: ${e}}`},YNe={keyword:"const",$data:!0,error:WNe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,Z2._)`!${(0,HNe.useFunc)(t,qNe.default)}(${n}, ${i})`):e.fail((0,Z2._)`${s} !== ${n}`)}};d$.default=YNe;var h$={};Object.defineProperty(h$,"__esModule",{value:!0});const g0=Yt,GNe=mn,KNe=J_,QNe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,g0._)`{allowedValues: ${e}}`},XNe={keyword:"enum",schemaType:"array",$data:!0,error:QNe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,GNe.useFunc)(t,KNe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,g0.or)(...i.map((p,g)=>d(h,g)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,g0._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,g0._)`${l()}(${n}, ${h}[${p}])`:(0,g0._)`${n} === ${g}`}}};h$.default=XNe;Object.defineProperty(n$,"__esModule",{value:!0});const JNe=r$,ZNe=i$,eke=s$,tke=a$,nke=u$,rke=l$,ike=c$,ske=f$,oke=d$,ake=h$,uke=[JNe.default,ZNe.default,eke.default,tke.default,nke.default,rke.default,ike.default,ske.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},oke.default,ake.default];n$.default=uke;var p$={},Gm={};Object.defineProperty(Gm,"__esModule",{value:!0});Gm.validateAdditionalItems=void 0;const ud=Yt,eR=mn,lke={message:({params:{len:e}})=>(0,ud.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ud._)`{limit: ${e}}`},cke={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:lke,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,eR.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}zZ(e,r)}};function zZ(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,ud._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,ud._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,eR.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,ud._)`${a} <= ${t.length}`);n.if((0,ud.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:eR.Type.Num},l),o.allErrors||n.if((0,ud.not)(l),()=>n.break())})}}Gm.validateAdditionalItems=zZ;Gm.default=cke;var m$={},Km={};Object.defineProperty(Km,"__esModule",{value:!0});Km.validateTuple=void 0;const BB=Yt,Pb=mn,fke=Wt,dke={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return HZ(e,"additionalItems",t);n.items=!0,!(0,Pb.alwaysValidSchema)(n,t)&&e.ok((0,fke.validateArray)(e))}};function HZ(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=Pb.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,BB._)`${s}.length`);n.forEach((f,d)=>{(0,Pb.alwaysValidSchema)(a,f)||(r.if((0,BB._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,g=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!g){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Pb.checkStrictMode)(a,y,d.strictTuples)}}}Km.validateTuple=HZ;Km.default=dke;Object.defineProperty(m$,"__esModule",{value:!0});const hke=Km,pke={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,hke.validateTuple)(e,"items")};m$.default=pke;var g$={};Object.defineProperty(g$,"__esModule",{value:!0});const jB=Yt,mke=mn,gke=Wt,yke=Gm,_ke={message:({params:{len:e}})=>(0,jB.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,jB._)`{limit: ${e}}`},vke={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:_ke,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,mke.alwaysValidSchema)(r,t)&&(i?(0,yke.validateAdditionalItems)(e,i):e.ok((0,gke.validateArray)(e)))}};g$.default=vke;var y$={};Object.defineProperty(y$,"__esModule",{value:!0});const $o=Yt,T1=mn,bke={message:({params:{min:e,max:t}})=>t===void 0?(0,$o.str)`must contain at least ${e} valid item(s)`:(0,$o.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,$o._)`{minContains: ${e}}`:(0,$o._)`{minContains: ${e}, maxContains: ${t}}`},wke={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:bke,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,$o._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,T1.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,T1.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,T1.alwaysValidSchema)(s,n)){let g=(0,$o._)`${c} >= ${o}`;a!==void 0&&(g=(0,$o._)`${g} && ${c} <= ${a}`),e.pass(g);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,$o._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const g=t.name("_valid"),y=t.let("count",0);h(g,()=>t.if(g,()=>p(y)))}function h(g,y){t.forRange("i",0,c,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:T1.Type.Num,compositeRule:!0},g),y()})}function p(g){t.code((0,$o._)`${g}++`),a===void 0?t.if((0,$o._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,$o._)`${g} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,$o._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};y$.default=wke;var qZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Yt,n=mn,r=Wt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const g=l[p];if(g.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),d.allErrors?c.if(y,()=>{for(const m of g)(0,r.checkReportMissingProp)(u,m)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,g,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const g in l)(0,n.alwaysValidSchema)(h,l[g])||(c.if((0,r.propertyInData)(c,f,g,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:g},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(qZ);var _$={};Object.defineProperty(_$,"__esModule",{value:!0});const WZ=Yt,Eke=mn,Tke={message:"property name must be valid",params:({params:e})=>(0,WZ._)`{propertyName: ${e.propertyName}}`},Ske={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Tke,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,Eke.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,WZ.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};_$.default=Ske;var Zx={};Object.defineProperty(Zx,"__esModule",{value:!0});const S1=Wt,ga=Yt,xke=Yu,x1=mn,Ike={message:"must NOT have additional properties",params:({params:e})=>(0,ga._)`{additionalProperty: ${e.additionalProperty}}`},Ake={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Ike,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,x1.alwaysValidSchema)(o,n))return;const l=(0,S1.allSchemaProperties)(r.properties),c=(0,S1.allSchemaProperties)(r.patternProperties);f(),e.ok((0,ga._)`${s} === ${xke.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let m;if(l.length>8){const _=(0,x1.schemaRefOrVal)(o,r.properties,"properties");m=(0,S1.isOwnProperty)(t,_,y)}else l.length?m=(0,ga.or)(...l.map(_=>(0,ga._)`${y} === ${_}`)):m=ga.nil;return c.length&&(m=(0,ga.or)(m,...c.map(_=>(0,ga._)`${(0,S1.usePattern)(e,_)}.test(${y})`))),(0,ga.not)(m)}function h(y){t.code((0,ga._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,x1.alwaysValidSchema)(o,n)){const m=t.name("valid");u.removeAdditional==="failing"?(g(y,m,!1),t.if((0,ga.not)(m),()=>{e.reset(),h(y)})):(g(y,m),a||t.if((0,ga.not)(m),()=>t.break()))}}function g(y,m,_){const v={keyword:"additionalProperties",dataProp:y,dataPropType:x1.Type.Str};_===!1&&Object.assign(v,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(v,m)}}};Zx.default=Ake;var v$={};Object.defineProperty(v$,"__esModule",{value:!0});const Cke=ka,UB=Wt,YC=mn,VB=Zx,Oke={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&VB.default.code(new Cke.KeywordCxt(s,VB.default,"additionalProperties"));const o=(0,UB.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=YC.mergeEvaluated.props(t,(0,YC.toHash)(o),s.props));const a=o.filter(f=>!(0,YC.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,UB.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};v$.default=Oke;var b$={};Object.defineProperty(b$,"__esModule",{value:!0});const zB=Wt,I1=Yt,HB=mn,qB=mn,Pke={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,zB.allSchemaProperties)(n),u=a.filter(g=>(0,HB.alwaysValidSchema)(s,n[g]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof I1.Name)&&(s.props=(0,qB.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const g of a)l&&h(g),s.allErrors?p(g):(t.var(c,!0),p(g),t.if(c))}function h(g){for(const y in l)new RegExp(g).test(y)&&(0,HB.checkStrictMode)(s,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){t.forIn("key",r,y=>{t.if((0,I1._)`${(0,zB.usePattern)(e,g)}.test(${y})`,()=>{const m=u.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:qB.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,I1._)`${f}[${y}]`,!0):!m&&!s.allErrors&&t.if((0,I1.not)(c),()=>t.break())})})}}};b$.default=Pke;var w$={};Object.defineProperty(w$,"__esModule",{value:!0});const Rke=mn,Nke={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,Rke.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};w$.default=Nke;var E$={};Object.defineProperty(E$,"__esModule",{value:!0});const kke=Wt,Dke={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:kke.validateUnion,error:{message:"must match a schema in anyOf"}};E$.default=Dke;var T$={};Object.defineProperty(T$,"__esModule",{value:!0});const Rb=Yt,$ke=mn,Lke={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Rb._)`{passingSchemas: ${e.passing}}`},Mke={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Lke,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,$ke.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,Rb._)`${u} && ${o}`).assign(o,!1).assign(a,(0,Rb._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,Rb.Name)})})}}};T$.default=Mke;var S$={};Object.defineProperty(S$,"__esModule",{value:!0});const Fke=mn,Bke={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,Fke.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};S$.default=Bke;var x$={};Object.defineProperty(x$,"__esModule",{value:!0});const ST=Yt,YZ=mn,jke={message:({params:e})=>(0,ST.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ST._)`{failingKeyword: ${e.ifClause}}`},Uke={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:jke,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,YZ.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=WB(r,"then"),s=WB(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,ST.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,ST._)`${c}`):e.setParams({ifClause:c})}}}};function WB(e,t){const n=e.schema[t];return n!==void 0&&!(0,YZ.alwaysValidSchema)(e,n)}x$.default=Uke;var I$={};Object.defineProperty(I$,"__esModule",{value:!0});const Vke=mn,zke={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,Vke.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};I$.default=zke;Object.defineProperty(p$,"__esModule",{value:!0});const Hke=Gm,qke=m$,Wke=Km,Yke=g$,Gke=y$,Kke=qZ,Qke=_$,Xke=Zx,Jke=v$,Zke=b$,eDe=w$,tDe=E$,nDe=T$,rDe=S$,iDe=x$,sDe=I$;function oDe(e=!1){const t=[eDe.default,tDe.default,nDe.default,rDe.default,iDe.default,sDe.default,Qke.default,Xke.default,Kke.default,Jke.default,Zke.default];return e?t.push(qke.default,Yke.default):t.push(Hke.default,Wke.default),t.push(Gke.default),t}p$.default=oDe;var A$={},C$={};Object.defineProperty(C$,"__esModule",{value:!0});const kr=Yt,aDe={message:({schemaCode:e})=>(0,kr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,kr._)`{format: ${e}}`},uDe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:aDe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=n.const("fDef",(0,kr._)`${p}[${o}]`),y=n.let("fType"),m=n.let("format");n.if((0,kr._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(y,(0,kr._)`${g}.type || "string"`).assign(m,(0,kr._)`${g}.validate`),()=>n.assign(y,(0,kr._)`"string"`).assign(m,g)),e.fail$data((0,kr.or)(_(),v()));function _(){return u.strictSchema===!1?kr.nil:(0,kr._)`${o} && !${m}`}function v(){const T=c.$async?(0,kr._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,kr._)`${m}(${r})`,S=(0,kr._)`(typeof ${m} == "function" ? ${T} : ${m}.test(${r}))`;return(0,kr._)`${m} && ${m} !== true && ${y} === ${t} && !${S}`}}function h(){const p=f.formats[s];if(!p){_();return}if(p===!0)return;const[g,y,m]=v(p);g===t&&e.pass(T());function _(){if(u.strictSchema===!1){f.logger.warn(S());return}throw new Error(S());function S(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function v(S){const w=S instanceof RegExp?(0,kr.regexpCode)(S):u.code.formats?(0,kr._)`${u.code.formats}${(0,kr.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:S,code:w});return typeof S=="object"&&!(S instanceof RegExp)?[S.type||"string",S.validate,(0,kr._)`${x}.validate`]:["string",S,x]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,kr._)`await ${m}(${r})`}return typeof y=="function"?(0,kr._)`${m}(${r})`:(0,kr._)`${m}.test(${r})`}}}};C$.default=uDe;Object.defineProperty(A$,"__esModule",{value:!0});const lDe=C$,cDe=[lDe.default];A$.default=cDe;var fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.contentVocabulary=fm.metadataVocabulary=void 0;fm.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];fm.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ZD,"__esModule",{value:!0});const fDe=e$,dDe=n$,hDe=p$,pDe=A$,YB=fm,mDe=[fDe.default,dDe.default,(0,hDe.default)(),pDe.default,YB.metadataVocabulary,YB.contentVocabulary];ZD.default=mDe;var O$={},GZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(GZ);Object.defineProperty(O$,"__esModule",{value:!0});const qh=Yt,tR=GZ,GB=Fs,gDe=mn,yDe={message:({params:{discrError:e,tagName:t}})=>e===tR.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,qh._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},_De={keyword:"discriminator",type:"object",schemaType:"object",error:yDe,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,qh._)`${n}${(0,qh.getProperty)(a)}`);t.if((0,qh._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:tR.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,qh._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:tR.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(g,qh.Name),p}function d(){var h;const p={},g=m(i);let y=!0;for(let T=0;T<o.length;T++){let S=o[T];S!=null&&S.$ref&&!(0,gDe.schemaHasRulesButRef)(S,s.self.RULES)&&(S=GB.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,S==null?void 0:S.$ref),S instanceof GB.SchemaEnv&&(S=S.schema));const w=(h=S==null?void 0:S.properties)===null||h===void 0?void 0:h[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||m(S)),_(w,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:T}){return Array.isArray(T)&&T.includes(a)}function _(T,S){if(T.const)v(T.const,S);else if(T.enum)for(const w of T.enum)v(w,S);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function v(T,S){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=S}}}};O$.default=_De;const vDe="http://json-schema.org/draft-07/schema#",bDe="http://json-schema.org/draft-07/schema#",wDe="Core schema meta-schema",EDe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},TDe=["object","boolean"],SDe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},xDe={$schema:vDe,$id:bDe,title:wDe,definitions:EDe,type:TDe,properties:SDe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=mZ,r=ZD,i=O$,s=xDe,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=ka;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Yt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=Q_;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=X_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(K2,K2.exports);var IDe=K2.exports;const KZ=Va(IDe),ADe="#/definitions/StudyConfig",CDe="http://json-schema.org/draft-07/schema#",ODe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},PDe={$ref:ADe,$schema:CDe,definitions:ODe},RDe="#/definitions/GlobalConfig",NDe="http://json-schema.org/draft-07/schema#",kDe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},DDe={$ref:RDe,$schema:NDe,definitions:kDe},QZ=new KZ;QZ.addSchema(DDe);const KB=QZ.getSchema("#/definitions/GlobalConfig"),XZ=new KZ;XZ.addSchema(PDe);const QB=XZ.getSchema("#/definitions/StudyConfig");function $De(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function eI(e){return e.baseComponent!==void 0}function LDe(e){const t=HD.parse(e),n=KB(t),r=$De(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...KB.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function MDe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return eI(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function JZ(e,t){const n=HD.parse(e),r=QB(n),i=MDe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...QB.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function Ia(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pf(e){return!!e&&!!e[ur]}function Fl(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===WDe}(e)||Array.isArray(e)||!!e[rj]||!!(!((t=e.constructor)===null||t===void 0)&&t[rj])||P$(e)||R$(e))}function Gd(e,t,n){n===void 0&&(n=!1),Qm(e)===0?(n?Object.keys:Dp)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Qm(e){var t=e[ur];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:P$(e)?2:R$(e)?3:0}function kp(e,t){return Qm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function FDe(e,t){return Qm(e)===2?e.get(t):e[t]}function ZZ(e,t,n){var r=Qm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function eee(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function P$(e){return HDe&&e instanceof Map}function R$(e){return qDe&&e instanceof Set}function Jf(e){return e.o||e.t}function N$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=nee(e);delete t[ur];for(var n=Dp(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function k$(e,t){return t===void 0&&(t=!1),D$(e)||pf(e)||!Fl(e)||(Qm(e)>1&&(e.set=e.add=e.clear=e.delete=BDe),Object.freeze(e),t&&Gd(e,function(n,r){return k$(r,!0)},!0)),e}function BDe(){Ia(2)}function D$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Iu(e){var t=sR[e];return t||Ia(18,e),t}function jDe(e,t){sR[e]||(sR[e]=t)}function nR(){return Uy}function GC(e,t){t&&(Iu("Patches"),e.u=[],e.s=[],e.v=t)}function xT(e){rR(e),e.p.forEach(UDe),e.p=null}function rR(e){e===Uy&&(Uy=e.l)}function XB(e){return Uy={p:[],l:Uy,h:e,m:!0,_:0}}function UDe(e){var t=e[ur];t.i===0||t.i===1?t.j():t.O=!0}function KC(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Iu("ES5").S(t,e,r),r?(n[ur].P&&(xT(t),Ia(4)),Fl(e)&&(e=IT(t,e),t.l||AT(t,e)),t.u&&Iu("Patches").M(n[ur].t,e,t.u,t.s)):e=IT(t,n,[]),xT(t),t.u&&t.v(t.u,t.s),e!==tee?e:void 0}function IT(e,t,n){if(D$(t))return t;var r=t[ur];if(!r)return Gd(t,function(a,u){return JB(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return AT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=N$(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Gd(s,function(a,u){return JB(e,r,i,a,u,n,o)}),AT(e,i,!1),n&&e.u&&Iu("Patches").N(r,n,e.u,e.s)}return r.o}function JB(e,t,n,r,i,s,o){if(pf(i)){var a=IT(e,i,s&&t&&t.i!==3&&!kp(t.R,r)?s.concat(r):void 0);if(ZZ(n,r,a),!pf(a))return;e.m=!1}else o&&n.add(i);if(Fl(i)&&!D$(i)){if(!e.h.D&&e._<1)return;IT(e,i),t&&t.A.l||AT(e,i)}}function AT(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&k$(t,n)}function QC(e,t){var n=e[ur];return(n?Jf(n):e)[t]}function ZB(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Oc(e){e.P||(e.P=!0,e.l&&Oc(e.l))}function XC(e){e.o||(e.o=N$(e.t))}function iR(e,t,n){var r=P$(t)?Iu("MapSet").F(t,n):R$(t)?Iu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:nR(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Vy;o&&(u=[a],l=y0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Iu("ES5").J(t,n);return(n?n.A:nR()).p.push(r),r}function VDe(e){return pf(e)||Ia(22,e),function t(n){if(!Fl(n))return n;var r,i=n[ur],s=Qm(n);if(i){if(!i.P&&(i.i<4||!Iu("ES5").K(i)))return i.t;i.I=!0,r=ej(n,s),i.I=!1}else r=ej(n,s);return Gd(r,function(o,a){i&&FDe(i.t,o)===a||ZZ(r,o,t(a))}),s===3?new Set(r):r}(e)}function ej(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return N$(e)}function zDe(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[ur];return Vy.get(u,s)},set:function(u){var l=this[ur];Vy.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][ur];if(!a.P)switch(a.i){case 5:r(a)&&Oc(a);break;case 4:n(a)&&Oc(a)}}}function n(s){for(var o=s.t,a=s.k,u=Dp(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==ur){var f=o[c];if(f===void 0&&!kp(o,c))return!0;var d=a[c],h=d&&d[ur];if(h?h.t!==f:!eee(d,f))return!0}}var p=!!o[ur];return u.length!==Dp(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};jDe("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=nee(f);delete p[ur];for(var g=Dp(p),y=0;y<g.length;y++){var m=g[y];p[m]=e(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:nR(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,ur,{value:l,writable:!0}),u},S:function(s,o,a){a?pf(o)&&o[ur].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[ur];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Gd(d,function(v){v!==ur&&(f[v]!==void 0||kp(f,v)?h[v]||u(d[v]):(h[v]=!0,Oc(c)))}),Gd(f,function(v){d[v]!==void 0||kp(d,v)||(h[v]=!1,Oc(c))});else if(p===5){if(r(c)&&(Oc(c),h.length=!0),d.length<f.length)for(var g=d.length;g<f.length;g++)h[g]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var m=Math.min(d.length,f.length),_=0;_<m;_++)d.hasOwnProperty(_)||(h[_]=!0),h[_]===void 0&&u(d[_])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var tj,Uy,$$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",HDe=typeof Map<"u",qDe=typeof Set<"u",nj=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",tee=$$?Symbol.for("immer-nothing"):((tj={})["immer-nothing"]=!0,tj),rj=$$?Symbol.for("immer-draftable"):"__$immer_draftable",ur=$$?Symbol.for("immer-state"):"__$immer_state",WDe=""+Object.prototype.constructor,Dp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,nee=Object.getOwnPropertyDescriptors||function(e){var t={};return Dp(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},sR={},Vy={get:function(e,t){if(t===ur)return e;var n=Jf(e);if(!kp(n,t))return function(i,s,o){var a,u=ZB(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Fl(r)?r:r===QC(e.t,t)?(XC(e),e.o[t]=iR(e.A.h,r,e)):r},has:function(e,t){return t in Jf(e)},ownKeys:function(e){return Reflect.ownKeys(Jf(e))},set:function(e,t,n){var r=ZB(Jf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=QC(Jf(e),t),s=i==null?void 0:i[ur];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(eee(n,i)&&(n!==void 0||kp(e.t,t)))return!0;XC(e),Oc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return QC(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,XC(e),Oc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Jf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ia(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ia(12)}},y0={};Gd(Vy,function(e,t){y0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),y0.deleteProperty=function(e,t){return y0.set.call(this,e,t,void 0)},y0.set=function(e,t,n){return Vy.set.call(this,e[0],t,n,e[0])};var YDe=function(){function e(n){var r=this;this.g=nj,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,_=Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];return u.produce(g,function(T){var S;return(S=s).call.apply(S,[y,T].concat(_))})}}var l;if(typeof s!="function"&&Ia(6),o!==void 0&&typeof o!="function"&&Ia(7),Fl(i)){var c=XB(r),f=iR(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?xT(c):rR(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return GC(c,o),KC(g,c)},function(g){throw xT(c),g}):(GC(c,o),KC(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===tee&&(l=void 0),r.D&&k$(l,!0),o){var h=[],p=[];Iu("Patches").M(i,l,h,p),o(h,p)}return l}Ia(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Fl(n)||Ia(8),pf(n)&&(n=VDe(n));var r=XB(this),i=iR(this,n,void 0);return i[ur].C=!0,rR(r),i},t.finishDraft=function(n,r){var i=n&&n[ur],s=i.A;return GC(s,r),KC(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!nj&&Ia(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Iu("Patches").$;return pf(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),vo=new YDe,ree=vo.produce;vo.produceWithPatches.bind(vo);vo.setAutoFreeze.bind(vo);vo.setUseProxies.bind(vo);vo.applyPatches.bind(vo);vo.createDraft.bind(vo);vo.finishDraft.bind(vo);function zy(e){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(e)}function GDe(e,t){if(zy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KDe(e){var t=GDe(e,"string");return zy(t)=="symbol"?t:String(t)}function QDe(e,t,n){return t=KDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(n),!0).forEach(function(r){QDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ki(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var oj=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),JC=function(){return Math.random().toString(36).substring(7).split("").join(".")},CT={INIT:"@@redux/INIT"+JC(),REPLACE:"@@redux/REPLACE"+JC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+JC()}};function XDe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function iee(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ki(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ki(1));return n(iee)(e,t)}if(typeof e!="function")throw new Error(Ki(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Ki(3));return s}function f(g){if(typeof g!="function")throw new Error(Ki(4));if(u)throw new Error(Ki(5));var y=!0;return l(),a.push(g),function(){if(y){if(u)throw new Error(Ki(6));y=!1,l();var _=a.indexOf(g);a.splice(_,1),o=null}}}function d(g){if(!XDe(g))throw new Error(Ki(7));if(typeof g.type>"u")throw new Error(Ki(8));if(u)throw new Error(Ki(9));try{u=!0,s=i(s,g)}finally{u=!1}for(var y=o=a,m=0;m<y.length;m++){var _=y[m];_()}return g}function h(g){if(typeof g!="function")throw new Error(Ki(10));i=g,d({type:CT.REPLACE})}function p(){var g,y=f;return g={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Ki(11));function v(){_.next&&_.next(c())}v();var T=y(v);return{unsubscribe:T}}},g[oj]=function(){return this},g}return d({type:CT.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[oj]=p,r}function JDe(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:CT.INIT});if(typeof r>"u")throw new Error(Ki(12));if(typeof n(void 0,{type:CT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ki(13))})}function ZDe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{JDe(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],g=u[h],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(Ki(14));f[h]=y,c=c||y!==g}return c=c||s.length!==Object.keys(u).length,c?f:u}}function OT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function e$e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ki(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=OT.apply(void 0,a)(i.dispatch),sj(sj({},i),{},{dispatch:s})}}}function see(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var oee=see();oee.withExtraArgument=see;const aj=oee;var t$e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z_=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Hy=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},n$e=Object.defineProperty,r$e=Object.defineProperties,i$e=Object.getOwnPropertyDescriptors,uj=Object.getOwnPropertySymbols,s$e=Object.prototype.hasOwnProperty,o$e=Object.prototype.propertyIsEnumerable,lj=function(e,t,n){return t in e?n$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},tf=function(e,t){for(var n in t||(t={}))s$e.call(t,n)&&lj(e,n,t[n]);if(uj)for(var r=0,i=uj(t);r<i.length;r++){var n=i[r];o$e.call(t,n)&&lj(e,n,t[n])}return e},ZC=function(e,t){return r$e(e,i$e(t))},ev=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},a$e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?OT:OT.apply(null,arguments)};function u$e(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var l$e=function(e){t$e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Hy([void 0],n[0].concat(this)))):new(t.bind.apply(t,Hy([void 0],n.concat(this))))},t}(Array);function oR(e){return Fl(e)?ree(e,function(){}):e}function c$e(e){return typeof e=="boolean"}function f$e(){return function(t){return d$e(t)}}function d$e(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new l$e;return n&&(c$e(n)?r.push(aj):r.push(aj.withExtraArgument(n.extraArgument))),r}var h$e=!0;function aee(e){var t=f$e(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(u$e(i))h=ZDe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var g=e$e.apply(void 0,p),y=OT;u&&(y=a$e(tf({trace:!h$e},typeof u=="object"&&u)));var m=[g];Array.isArray(d)?m=Hy([g],d):typeof d=="function"&&(m=d(m));var _=y.apply(void 0,m);return iee(h,c,_)}function Au(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return tf(tf({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function uee(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function p$e(e){return typeof e=="function"}function m$e(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?uee(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(p$e(e))u=function(){return oR(e())};else{var l=oR(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Hy([s[d.type]],o.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,g){if(g)if(pf(p)){var y=p,m=g(y,d);return m===void 0?p:m}else{if(Fl(p))return ree(p,function(_){return g(_,d)});var m=g(p,d);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=u,c}function g$e(e,t){return e+"/"+t}function lee(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:oR(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=g$e(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Au(d,p):Au(d)});function u(){var c=typeof e.extraReducers=="function"?uee(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,g=c[2],y=g===void 0?void 0:g,m=tf(tf({},d),o);return m$e(n,function(_){for(var v in m)_.addCase(v,m[v]);for(var T=0,S=p;T<S.length;T++){var w=S[T];_.addMatcher(w.matcher,w.reducer)}y&&_.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var y$e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cee=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=y$e[Math.random()*64|0];return t},_$e=["name","message","stack","code"],eO=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),cj=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),v$e=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=_$e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Au(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:ZC(tf({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Au(t+"/pending",function(l,c,f){return{payload:void 0,meta:ZC(tf({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Au(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||v$e)(l||"Rejected"),meta:ZC(tf({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):cee(),p=new a,g;function y(_){g=_,p.abort()}var m=function(){return ev(this,null,function(){var _,v,T,S,w,x,A;return Z_(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),S=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:f,extra:d}),w$e(S)?[4,S]:[3,2];case 1:S=M.sent(),M.label=2;case 2:if(S===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(D,$){return p.signal.addEventListener("abort",function(){return $({name:"AbortError",message:g||"Aborted"})})}),c(s(h,l,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([w,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(D,$){return new eO(D,$)},fulfillWithValue:function(D,$){return new cj(D,$)}})).then(function(D){if(D instanceof eO)throw D;return D instanceof cj?i(D.payload,h,l,D.meta):i(D,h,l)})])];case 3:return T=M.sent(),[3,5];case 4:return x=M.sent(),T=x instanceof eO?o(null,h,l,x.payload,x.meta):o(x,h,l),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,A||c(T),[2,T]}})})}();return Object.assign(m,{abort:y,requestId:h,arg:l,unwrap:function(){return m.then(b$e)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function b$e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function w$e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var E$e=function(e){return e&&typeof e.match=="function"},T$e=function(e,t){return E$e(e)?e.match(t):e(t)};function fj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return T$e(r,n)})}}var L$=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},aR=function(){},fee=function(e,t){return t===void 0&&(t=aR),e.catch(t),e},dee=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},$p=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},S$e="task",hee="listener",pee="completed",M$="cancelled",x$e="task-"+M$,I$e="task-"+pee,mee=hee+"-"+M$,A$e=hee+"-"+pee,tI=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=S$e+" "+M$+" (reason: "+t+")"}return e}(),Lp=function(e){if(e.aborted)throw new tI(e.reason)};function gee(e,t){var n=aR;return new Promise(function(r,i){var s=function(){return i(new tI(e.reason))};if(e.aborted){s();return}n=dee(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=aR})}var C$e=function(e,t){return ev(void 0,null,function(){var n,r;return Z_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof tI?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},PT=function(e){return function(t){return fee(gee(e,t).then(function(n){return Lp(e),n}))}},yee=function(e){var t=PT(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},O$e=Object.assign,dj={},tv="listenerMiddleware",P$e=function(e){var t=function(n){return dee(e,function(){return $p(n,e.reason)})};return function(n){L$(n,"taskExecutor");var r=new AbortController;t(r);var i=C$e(function(){return ev(void 0,null,function(){var s;return Z_(this,function(o){switch(o.label){case 0:return Lp(e),Lp(r.signal),[4,n({pause:PT(r.signal),delay:yee(r.signal),signal:r.signal})];case 1:return s=o.sent(),Lp(r.signal),[2,s]}})})},function(){return $p(r,I$e)});return{result:PT(e)(i),cancel:function(){$p(r,x$e)}}}},R$e=function(e,t){var n=function(r,i){return ev(void 0,null,function(){var s,o,a,u;return Z_(this,function(l){switch(l.label){case 0:Lp(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,gee(t,Promise.race(a))];case 2:return u=l.sent(),Lp(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return fee(n(r,i))}},_ee=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Au(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return L$(s,"options.listener"),{predicate:i,type:t,effect:s}},N$e=function(e){var t=_ee(e),n=t.type,r=t.predicate,i=t.effect,s=cee(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},uR=function(e){e.pending.forEach(function(t){$p(t,mee)})},k$e=function(e){return function(){e.forEach(uR),e.clear()}},hj=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},D$e=Au(tv+"/add"),$$e=Au(tv+"/removeAll"),L$e=Au(tv+"/remove"),M$e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Hy([tv+"/error"],e))};function F$e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?M$e:i;L$(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&uR(h)}},a=function(h){for(var p=0,g=Array.from(n.values());p<g.length;p++){var y=g[p];if(h(y))return y}},u=function(h){var p=a(function(g){return g.effect===h.effect});return p||(p=N$e(h)),o(p)},l=function(h){var p=_ee(h),g=p.type,y=p.effect,m=p.predicate,_=a(function(v){var T=typeof g=="string"?v.type===g:v.predicate===m;return T&&v.effect===y});return _&&(_.unsubscribe(),h.cancelActive&&uR(_)),!!_},c=function(h,p,g,y){return ev(t,null,function(){var m,_,v;return Z_(this,function(T){switch(T.label){case 0:m=new AbortController,_=R$e(u,m.signal),T.label=1;case 1:return T.trys.push([1,3,4,5]),h.pending.add(m),[4,Promise.resolve(h.effect(p,O$e({},g,{getOriginalState:y,condition:function(S,w){return _(S,w).then(Boolean)},take:_,delay:yee(m.signal),pause:PT(m.signal),extra:r,signal:m.signal,fork:P$e(m.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,w,x){S!==m&&($p(S,mee),x.delete(S))})}})))];case 2:return T.sent(),[3,5];case 3:return v=T.sent(),v instanceof tI||hj(s,v,{raisedBy:"effect"}),[3,5];case 4:return $p(m,A$e),h.pending.delete(m),[7];case 5:return[2]}})})},f=k$e(n),d=function(h){return function(p){return function(g){if(D$e.match(g))return u(g.payload);if($$e.match(g)){f();return}if(L$e.match(g))return l(g.payload);var y=h.getState(),m=function(){if(y===dj)throw new Error(tv+": getOriginalState can only be called synchronously");return y},_;try{if(_=p(g),n.size>0)for(var v=h.getState(),T=Array.from(n.values()),S=0,w=T;S<w.length;S++){var x=w[S],A=!1;try{A=x.predicate(g,v,y)}catch(M){A=!1,hj(s,M,{raisedBy:"predicate"})}A&&c(x,g,h,m)}}finally{y=dj}return _}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var pj;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);zDe();async function B$e(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=lee({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}=f;c.answers[d]={answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}}}});return{store:aee({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const vee=E.createContext(null);function rc(){return E.useContext(vee).actions}const ic=fZ,Gu=s2e;function j$e(e){return Gu(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var RT={exports:{}};RT.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",_="[object Object]",v="[object Proxy]",T="[object RegExp]",S="[object Set]",w="[object String]",x="[object Undefined]",A="[object WeakMap]",M="[object ArrayBuffer]",D="[object DataView]",$="[object Float32Array]",q="[object Float64Array]",W="[object Int8Array]",V="[object Int16Array]",de="[object Int32Array]",ae="[object Uint8Array]",pe="[object Uint8ClampedArray]",ee="[object Uint16Array]",ie="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,I=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,z={};z[$]=z[q]=z[W]=z[V]=z[de]=z[ae]=z[pe]=z[ee]=z[ie]=!0,z[a]=z[u]=z[M]=z[c]=z[D]=z[f]=z[d]=z[h]=z[g]=z[y]=z[_]=z[T]=z[S]=z[w]=z[A]=!1;var R=typeof fo=="object"&&fo&&fo.Object===Object&&fo,P=typeof self=="object"&&self&&self.Object===Object&&self,Y=R||P||Function("return this")(),se=t&&!t.nodeType&&t,ue=se&&!0&&e&&!e.nodeType&&e,he=ue&&ue.exports===se,fe=he&&R.process,Se=function(){try{var H=ue&&ue.require&&ue.require("util").types;return H||fe&&fe.binding&&fe.binding("util")}catch{}}(),me=Se&&Se.isTypedArray;function Je(H,re,_e){switch(_e.length){case 0:return H.call(re);case 1:return H.call(re,_e[0]);case 2:return H.call(re,_e[0],_e[1]);case 3:return H.call(re,_e[0],_e[1],_e[2])}return H.apply(re,_e)}function Ge(H,re){for(var _e=-1,Qe=Array(H);++_e<H;)Qe[_e]=re(_e);return Qe}function qe(H){return function(re){return H(re)}}function Le(H,re){return H==null?void 0:H[re]}function Ae(H,re){return function(_e){return H(re(_e))}}var Ve=Array.prototype,Zt=Function.prototype,Me=Object.prototype,Ue=Y["__core-js_shared__"],wt=Zt.toString,ze=Me.hasOwnProperty,gt=function(){var H=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Gt=Me.toString,un=wt.call(Object),Gn=RegExp("^"+wt.call(ze).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=he?Y.Buffer:void 0,Ee=Y.Symbol,Fe=Y.Uint8Array,ot=ce?ce.allocUnsafe:void 0,$e=Ae(Object.getPrototypeOf,Object),at=Object.create,Be=Me.propertyIsEnumerable,rt=Ve.splice,wn=Ee?Ee.toStringTag:void 0,qt=function(){try{var H=Re(Object,"defineProperty");return H({},"",{}),H}catch{}}(),xt=ce?ce.isBuffer:void 0,Bn=Math.max,En=Date.now,da=Re(Y,"Map"),dr=Re(Object,"create"),ji=function(){function H(){}return function(re){if(!Wf(re))return{};if(at)return at(re);H.prototype=re;var _e=new H;return H.prototype=void 0,_e}}();function br(H){var re=-1,_e=H==null?0:H.length;for(this.clear();++re<_e;){var Qe=H[re];this.set(Qe[0],Qe[1])}}function Lr(){this.__data__=dr?dr(null):{},this.size=0}function hr(H){var re=this.has(H)&&delete this.__data__[H];return this.size-=re?1:0,re}function jn(H){var re=this.__data__;if(dr){var _e=re[H];return _e===r?void 0:_e}return ze.call(re,H)?re[H]:void 0}function en(H){var re=this.__data__;return dr?re[H]!==void 0:ze.call(re,H)}function oi(H,re){var _e=this.__data__;return this.size+=this.has(H)?0:1,_e[H]=dr&&re===void 0?r:re,this}br.prototype.clear=Lr,br.prototype.delete=hr,br.prototype.get=jn,br.prototype.has=en,br.prototype.set=oi;function wr(H){var re=-1,_e=H==null?0:H.length;for(this.clear();++re<_e;){var Qe=H[re];this.set(Qe[0],Qe[1])}}function Mr(){this.__data__=[],this.size=0}function vi(H){var re=this.__data__,_e=nr(re,H);if(_e<0)return!1;var Qe=re.length-1;return _e==Qe?re.pop():rt.call(re,_e,1),--this.size,!0}function ws(H){var re=this.__data__,_e=nr(re,H);return _e<0?void 0:re[_e][1]}function X(H){return nr(this.__data__,H)>-1}function U(H,re){var _e=this.__data__,Qe=nr(_e,H);return Qe<0?(++this.size,_e.push([H,re])):_e[Qe][1]=re,this}wr.prototype.clear=Mr,wr.prototype.delete=vi,wr.prototype.get=ws,wr.prototype.has=X,wr.prototype.set=U;function Z(H){var re=-1,_e=H==null?0:H.length;for(this.clear();++re<_e;){var Qe=H[re];this.set(Qe[0],Qe[1])}}function ye(){this.size=0,this.__data__={hash:new br,map:new(da||wr),string:new br}}function ge(H){var re=Pe(this,H).delete(H);return this.size-=re?1:0,re}function Ke(H){return Pe(this,H).get(H)}function Te(H){return Pe(this,H).has(H)}function We(H,re){var _e=Pe(this,H),Qe=_e.size;return _e.set(H,re),this.size+=_e.size==Qe?0:1,this}Z.prototype.clear=ye,Z.prototype.delete=ge,Z.prototype.get=Ke,Z.prototype.has=Te,Z.prototype.set=We;function dt(H){var re=this.__data__=new wr(H);this.size=re.size}function nt(){this.__data__=new wr,this.size=0}function mt(H){var re=this.__data__,_e=re.delete(H);return this.size=re.size,_e}function Lt(H){return this.__data__.get(H)}function $n(H){return this.__data__.has(H)}function pt(H,re){var _e=this.__data__;if(_e instanceof wr){var Qe=_e.__data__;if(!da||Qe.length<n-1)return Qe.push([H,re]),this.size=++_e.size,this;_e=this.__data__=new Z(Qe)}return _e.set(H,re),this.size=_e.size,this}dt.prototype.clear=nt,dt.prototype.delete=mt,dt.prototype.get=Lt,dt.prototype.has=$n,dt.prototype.set=pt;function An(H,re){var _e=LA(H),Qe=!_e&&Rh(H),ln=!_e&&!Qe&&AM(H),Un=!_e&&!Qe&&!ln&&OM(H),ir=_e||Qe||ln||Un,tn=ir?Ge(H.length,String):[],sr=tn.length;for(var Oo in H)(re||ze.call(H,Oo))&&!(ir&&(Oo=="length"||ln&&(Oo=="offset"||Oo=="parent")||Un&&(Oo=="buffer"||Oo=="byteLength"||Oo=="byteOffset")||Bt(Oo,sr)))&&tn.push(Oo);return tn}function Et(H,re,_e){(_e!==void 0&&!Ph(H[re],_e)||_e===void 0&&!(re in H))&&Gr(H,re,_e)}function gn(H,re,_e){var Qe=H[re];(!(ze.call(H,re)&&Ph(Qe,_e))||_e===void 0&&!(re in H))&&Gr(H,re,_e)}function nr(H,re){for(var _e=H.length;_e--;)if(Ph(H[_e][0],re))return _e;return-1}function Gr(H,re,_e){re=="__proto__"&&qt?qt(H,re,{configurable:!0,enumerable:!0,value:_e,writable:!0}):H[re]=_e}var Rr=Ie();function us(H){return H==null?H===void 0?x:m:wn&&wn in Object(H)?De(H):qf(H)}function bi(H){return Ag(H)&&us(H)==a}function pr(H){if(!Wf(H)||Er(H))return!1;var re=FA(H)?Gn:I;return re.test($A(H))}function Xe(H){return Ag(H)&&CM(H.length)&&!!z[us(H)]}function zt(H){if(!Wf(H))return Ts(H);var re=rr(H),_e=[];for(var Qe in H)Qe=="constructor"&&(re||!ze.call(H,Qe))||_e.push(Qe);return _e}function Hn(H,re,_e,Qe,ln){H!==re&&Rr(re,function(Un,ir){if(ln||(ln=new dt),Wf(Un))ai(H,re,ir,_e,Hn,Qe,ln);else{var tn=Qe?Qe(xg(H,ir),Un,ir+"",H,re,ln):void 0;tn===void 0&&(tn=Un),Et(H,ir,tn)}},PM)}function ai(H,re,_e,Qe,ln,Un,ir){var tn=xg(H,_e),sr=xg(re,_e),Oo=ir.get(sr);if(Oo){Et(H,_e,Oo);return}var to=Un?Un(tn,sr,_e+"",H,re,ir):void 0,Cg=to===void 0;if(Cg){var BA=LA(sr),jA=!BA&&AM(sr),NM=!BA&&!jA&&OM(sr);to=sr,BA||jA||NM?LA(tn)?to=tn:Gce(tn)?to=oe(tn):jA?(Cg=!1,to=Q(sr,!0)):NM?(Cg=!1,to=ne(sr,!0)):to=[]:Kce(sr)||Rh(sr)?(to=tn,Rh(tn)?to=Qce(tn):(!Wf(tn)||FA(tn))&&(to=et(sr))):Cg=!1}Cg&&(ir.set(sr,to),ln(to,sr,Qe,Un,ir),ir.delete(sr)),Et(H,_e,to)}function Es(H,re){return Ig(Sg(H,re,RM),H+"")}var k=qt?function(H,re){return qt(H,"toString",{configurable:!0,enumerable:!1,value:Jce(re),writable:!0})}:RM;function Q(H,re){if(re)return H.slice();var _e=H.length,Qe=ot?ot(_e):new H.constructor(_e);return H.copy(Qe),Qe}function B(H){var re=new H.constructor(H.byteLength);return new Fe(re).set(new Fe(H)),re}function ne(H,re){var _e=re?B(H.buffer):H.buffer;return new H.constructor(_e,H.byteOffset,H.length)}function oe(H,re){var _e=-1,Qe=H.length;for(re||(re=Array(Qe));++_e<Qe;)re[_e]=H[_e];return re}function te(H,re,_e,Qe){var ln=!_e;_e||(_e={});for(var Un=-1,ir=re.length;++Un<ir;){var tn=re[Un],sr=Qe?Qe(_e[tn],H[tn],tn,_e,H):void 0;sr===void 0&&(sr=H[tn]),ln?Gr(_e,tn,sr):gn(_e,tn,sr)}return _e}function be(H){return Es(function(re,_e){var Qe=-1,ln=_e.length,Un=ln>1?_e[ln-1]:void 0,ir=ln>2?_e[2]:void 0;for(Un=H.length>3&&typeof Un=="function"?(ln--,Un):void 0,ir&&yn(_e[0],_e[1],ir)&&(Un=ln<3?void 0:Un,ln=1),re=Object(re);++Qe<ln;){var tn=_e[Qe];tn&&H(re,tn,Qe,Un)}return re})}function Ie(H){return function(re,_e,Qe){for(var ln=-1,Un=Object(re),ir=Qe(re),tn=ir.length;tn--;){var sr=ir[H?tn:++ln];if(_e(Un[sr],sr,Un)===!1)break}return re}}function Pe(H,re){var _e=H.__data__;return Tn(re)?_e[typeof re=="string"?"string":"hash"]:_e.map}function Re(H,re){var _e=Le(H,re);return pr(_e)?_e:void 0}function De(H){var re=ze.call(H,wn),_e=H[wn];try{H[wn]=void 0;var Qe=!0}catch{}var ln=Gt.call(H);return Qe&&(re?H[wn]=_e:delete H[wn]),ln}function et(H){return typeof H.constructor=="function"&&!rr(H)?ji($e(H)):{}}function Bt(H,re){var _e=typeof H;return re=re??o,!!re&&(_e=="number"||_e!="symbol"&&C.test(H))&&H>-1&&H%1==0&&H<re}function yn(H,re,_e){if(!Wf(_e))return!1;var Qe=typeof re;return(Qe=="number"?MA(_e)&&Bt(re,_e.length):Qe=="string"&&re in _e)?Ph(_e[re],H):!1}function Tn(H){var re=typeof H;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?H!=="__proto__":H===null}function Er(H){return!!gt&&gt in H}function rr(H){var re=H&&H.constructor,_e=typeof re=="function"&&re.prototype||Me;return H===_e}function Ts(H){var re=[];if(H!=null)for(var _e in Object(H))re.push(_e);return re}function qf(H){return Gt.call(H)}function Sg(H,re,_e){return re=Bn(re===void 0?H.length-1:re,0),function(){for(var Qe=arguments,ln=-1,Un=Bn(Qe.length-re,0),ir=Array(Un);++ln<Un;)ir[ln]=Qe[re+ln];ln=-1;for(var tn=Array(re+1);++ln<re;)tn[ln]=Qe[ln];return tn[re]=_e(ir),Je(H,this,tn)}}function xg(H,re){if(!(re==="constructor"&&typeof H[re]=="function")&&re!="__proto__")return H[re]}var Ig=IM(k);function IM(H){var re=0,_e=0;return function(){var Qe=En(),ln=s-(Qe-_e);if(_e=Qe,ln>0){if(++re>=i)return arguments[0]}else re=0;return H.apply(void 0,arguments)}}function $A(H){if(H!=null){try{return wt.call(H)}catch{}try{return H+""}catch{}}return""}function Ph(H,re){return H===re||H!==H&&re!==re}var Rh=bi(function(){return arguments}())?bi:function(H){return Ag(H)&&ze.call(H,"callee")&&!Be.call(H,"callee")},LA=Array.isArray;function MA(H){return H!=null&&CM(H.length)&&!FA(H)}function Gce(H){return Ag(H)&&MA(H)}var AM=xt||Zce;function FA(H){if(!Wf(H))return!1;var re=us(H);return re==h||re==p||re==l||re==v}function CM(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=o}function Wf(H){var re=typeof H;return H!=null&&(re=="object"||re=="function")}function Ag(H){return H!=null&&typeof H=="object"}function Kce(H){if(!Ag(H)||us(H)!=_)return!1;var re=$e(H);if(re===null)return!0;var _e=ze.call(re,"constructor")&&re.constructor;return typeof _e=="function"&&_e instanceof _e&&wt.call(_e)==un}var OM=me?qe(me):Xe;function Qce(H){return te(H,PM(H))}function PM(H){return MA(H)?An(H,!0):zt(H)}var Xce=be(function(H,re,_e){Hn(H,re,_e)});function Jce(H){return function(){return H}}function RM(H){return H}function Zce(){return!1}e.exports=Xce})(RT,RT.exports);var U$e=RT.exports;const F$=Va(U$e);function bee(){return Hm().pathname.split("/")[1]}function sa(){return Hm().pathname.split("/")[2]}function nv(e){return structuredClone(e)}function B$(){const{answers:e}=Gu(n=>n),t=sa();return e[t]}const wee=E.createContext(null);function V$e(){const e=E.useContext(wee);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Eee(){const e=sa(),{sequence:t,trialValidation:n}=Gu(m=>m),r=B$(),i=ic(),{saveTrialAnswer:s,setIframeAnswers:o}=rc(),{storageEngine:a}=kf(),l=!j$e(e),c=r==null?void 0:r.answer,f=qm(),d=E.useMemo(()=>{const m=t.indexOf(e);return t[m+1]||"end"},[e,t]),h=`/${bee()}/${d}`,p=E.useMemo(()=>Date.now(),[]),g=V$e(),y=E.useCallback(()=>{const m=nv(n[e]),_=Object.values(m).reduce((w,x)=>Object.hasOwn(x,"values")?{...w,...x.values}:w,{}),{provenanceGraph:v}=m,T=Date.now(),S=g&&"current"in g&&g.current?g.current.splice(0,g.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:_,startTime:p,endTime:T,provenanceGraph:v,windowEvents:S})),a&&a.saveAnswer(e,{answer:_,startTime:p,endTime:T,provenanceGraph:v,windowEvents:S}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,g]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function z$e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:s}=Eee(),o=E.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return O.jsx(Ko,{type:"submit",disabled:t||i,onClick:o,children:e})}function lR(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var H$e=Object.defineProperty,mj=Object.getOwnPropertySymbols,q$e=Object.prototype.hasOwnProperty,W$e=Object.prototype.propertyIsEnumerable,gj=(e,t,n)=>t in e?H$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y$e=(e,t)=>{for(var n in t||(t={}))q$e.call(t,n)&&gj(e,n,t[n]);if(mj)for(var n of mj(t))W$e.call(t,n)&&gj(e,n,t[n]);return e};function Tee(e,t){if(t===null||typeof t!="object")return{};const n=Y$e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const G$e="__MANTINE_FORM_INDEX__";function yj(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${G$e}`)):!1:!1}function _j(e,t,n){typeof n.value=="object"&&(n.value=dp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function dp(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(dp(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(dp(a),dp(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(dp(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)_j(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||_j(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function See(e){return typeof e!="string"?[]:e.split(".")}function nI(e,t,n){const r=See(e);if(r.length===0)return n;const i=dp(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function ul(e,t){const n=See(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function vj(e){const t=lR(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function cR(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=ul(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>cR(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||cR(o,t,a,i)),i},r)}function fR(e,t){return vj(typeof e=="function"?e(t):cR(e,t))}function A1(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=fR(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function K$e(e,{from:t,to:n},r){const i=ul(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),nI(e,s,r)}var Q$e=Object.defineProperty,bj=Object.getOwnPropertySymbols,X$e=Object.prototype.hasOwnProperty,J$e=Object.prototype.propertyIsEnumerable,wj=(e,t,n)=>t in e?Q$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z$e=(e,t)=>{for(var n in t||(t={}))X$e.call(t,n)&&wj(e,n,t[n]);if(bj)for(var n of bj(t))J$e.call(t,n)&&wj(e,n,t[n]);return e};function e3e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=Z$e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function t3e(e,t,n){const r=ul(e,n);return Array.isArray(r)?nI(e,r.filter((i,s)=>s!==t),n):n}var n3e=Object.defineProperty,Ej=Object.getOwnPropertySymbols,r3e=Object.prototype.hasOwnProperty,i3e=Object.prototype.propertyIsEnumerable,Tj=(e,t,n)=>t in e?n3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s3e=(e,t)=>{for(var n in t||(t={}))r3e.call(t,n)&&Tj(e,n,t[n]);if(Ej)for(var n of Ej(t))i3e.call(t,n)&&Tj(e,n,t[n]);return e};function Sj(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function xj(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=Tee(`${i}.${t}`,s));const o=s3e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=Sj(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=Sj(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function o3e(e,t,n,r){const i=ul(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),nI(e,s,r)}function Ij(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function a3e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var u3e=Object.defineProperty,l3e=Object.defineProperties,c3e=Object.getOwnPropertyDescriptors,Aj=Object.getOwnPropertySymbols,f3e=Object.prototype.hasOwnProperty,d3e=Object.prototype.propertyIsEnumerable,Cj=(e,t,n)=>t in e?u3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pc=(e,t)=>{for(var n in t||(t={}))f3e.call(t,n)&&Cj(e,n,t[n]);if(Aj)for(var n of Aj(t))d3e.call(t,n)&&Cj(e,n,t[n]);return e},tO=(e,t)=>l3e(e,c3e(t));function h3e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=E.useState(r),[f,d]=E.useState(n),[h,p]=E.useState(e),[g,y]=E.useState(lR(t)),m=E.useRef(e),_=P=>{m.current=P},v=E.useCallback(()=>c({}),[]),T=P=>{const Y=P?pc(pc({},h),P):h;_(Y),d({})},S=E.useCallback(P=>y(Y=>lR(typeof P=="function"?P(Y):P)),[]),w=E.useCallback(()=>y({}),[]),x=E.useCallback(()=>{p(e),w(),_(e),d({}),v()},[]),A=E.useCallback((P,Y)=>S(se=>tO(pc({},se),{[P]:Y})),[]),M=E.useCallback(P=>S(Y=>{if(typeof P!="string")return Y;const se=pc({},Y);return delete se[P],se}),[]),D=E.useCallback(P=>d(Y=>{if(typeof P!="string")return Y;const se=Tee(P,Y);return delete se[P],se}),[]),$=E.useCallback((P,Y)=>{const se=yj(P,s);D(P),c(ue=>tO(pc({},ue),{[P]:!0})),p(ue=>{const he=nI(P,Y,ue);if(se){const fe=A1(P,u,he);fe.hasError?A(P,fe.error):M(P)}return he}),!se&&i&&A(P,null)},[]),q=E.useCallback(P=>{p(Y=>{const se=typeof P=="function"?P(Y):P;return pc(pc({},Y),se)}),i&&w()},[]),W=E.useCallback((P,Y)=>{D(P),p(se=>K$e(P,Y,se)),y(se=>e3e(P,Y,se))},[]),V=E.useCallback((P,Y)=>{D(P),p(se=>t3e(P,Y,se)),y(se=>xj(P,Y,se,-1))},[]),de=E.useCallback((P,Y,se)=>{D(P),p(ue=>o3e(P,Y,se,ue)),y(ue=>xj(P,se,ue,1))},[]),ae=E.useCallback(()=>{const P=fR(u,h);return y(P.errors),P},[h,u]),pe=E.useCallback(P=>{const Y=A1(P,u,h);return Y.hasError?A(P,Y.error):M(P),Y},[h,u]),ee=(P,{type:Y="input",withError:se=!0,withFocus:ue=!0}={})=>{const fe={onChange:a3e(Se=>$(P,Se))};return se&&(fe.error=g[P]),Y==="checkbox"?fe.checked=ul(P,h):fe.value=ul(P,h),ue&&(fe.onFocus=()=>c(Se=>tO(pc({},Se),{[P]:!0})),fe.onBlur=()=>{if(yj(P,o)){const Se=A1(P,u,h);Se.hasError?A(P,Se.error):M(P)}}),fe},ie=(P,Y)=>se=>{se==null||se.preventDefault();const ue=ae();ue.hasErrors?Y==null||Y(ue.errors,h,se):P==null||P(a(h),se)},K=P=>a(P||h),I=E.useCallback(P=>{P.preventDefault(),x()},[]),C=P=>{if(P){const se=ul(P,f);if(typeof se=="boolean")return se;const ue=ul(P,h),he=ul(P,m.current);return!RB(ue,he)}return Object.keys(f).length>0?Ij(f):!RB(h,m.current)},z=E.useCallback(P=>Ij(l,P),[l]),R=E.useCallback(P=>P?!A1(P,u,h).hasError:!fR(u,h).hasErrors,[h,u]);return{values:h,errors:g,setValues:q,setErrors:S,setFieldValue:$,setFieldError:A,clearFieldError:M,clearErrors:w,reset:x,validate:ae,validateField:pe,reorderListItem:W,removeListItem:V,insertListItem:de,getInputProps:ee,onSubmit:ie,onReset:I,isDirty:C,isTouched:z,setTouched:c,setDirty:d,resetTouched:v,resetDirty:T,isValid:R,getTransformedValues:K}}const p3e=new URLSearchParams(window.location.search),m3e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?p3e.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},g3e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function y3e(e,t,n){const[r,i]=E.useState(null),s=h3e({initialValues:m3e(e,n),validate:g3e(e)});return E.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function mh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const Oj=["http","https","mailto","tel"];function _3e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<Oj.length;){const s=Oj[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var v3e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const j$=Va(v3e);function Mp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Pj(e.position):"start"in e||"end"in e?Pj(e):"line"in e||"column"in e?dR(e):""}function dR(e){return Rj(e&&e.line)+":"+Rj(e&&e.column)}function Pj(e){return dR(e&&e.start)+"-"+dR(e&&e.end)}function Rj(e){return e&&typeof e=="number"?e:1}let oa=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Mp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};oa.prototype.file="";oa.prototype.name="";oa.prototype.reason="";oa.prototype.message="";oa.prototype.stack="";oa.prototype.fatal=null;oa.prototype.column=null;oa.prototype.line=null;oa.prototype.source=null;oa.prototype.ruleId=null;oa.prototype.position=null;const Za={basename:b3e,dirname:w3e,extname:E3e,join:T3e,sep:"/"};function b3e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');rv(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function w3e(e){if(rv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function E3e(e){rv(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function T3e(...e){let t=-1,n;for(;++t<e.length;)rv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":S3e(n)}function S3e(e){rv(e);const t=e.charCodeAt(0)===47;let n=x3e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function x3e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function rv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const I3e={cwd:A3e};function A3e(){return"/"}function hR(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function C3e(e){if(typeof e=="string")e=new URL(e);else if(!hR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return O3e(e)}function O3e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const nO=["history","path","basename","stem","extname","dirname"];let P3e=class{constructor(t){let n;t?typeof t=="string"||j$(t)?n={value:t}:hR(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=I3e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<nO.length;){const s=nO[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)nO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){hR(t)&&(t=C3e(t)),iO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Za.dirname(this.path):void 0}set dirname(t){Nj(this.basename,"dirname"),this.path=Za.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Za.basename(this.path):void 0}set basename(t){iO(t,"basename"),rO(t,"basename"),this.path=Za.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Za.extname(this.path):void 0}set extname(t){if(rO(t,"extname"),Nj(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Za.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Za.basename(this.path,this.extname):void 0}set stem(t){iO(t,"stem"),rO(t,"stem"),this.path=Za.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new oa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function rO(e,t){if(e&&e.includes(Za.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Za.sep+"`")}function iO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Nj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function kj(e){if(e)throw e}var Nb=Object.prototype.hasOwnProperty,xee=Object.prototype.toString,Dj=Object.defineProperty,$j=Object.getOwnPropertyDescriptor,Lj=function(t){return typeof Array.isArray=="function"?Array.isArray(t):xee.call(t)==="[object Array]"},Mj=function(t){if(!t||xee.call(t)!=="[object Object]")return!1;var n=Nb.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Nb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Nb.call(t,i)},Fj=function(t,n){Dj&&n.name==="__proto__"?Dj(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Bj=function(t,n){if(n==="__proto__")if(Nb.call(t,n)){if($j)return $j(t,n).value}else return;return t[n]},R3e=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=Bj(a,n),i=Bj(t,n),a!==i&&(c&&i&&(Mj(i)||(s=Lj(i)))?(s?(s=!1,o=r&&Lj(r)?r:[]):o=r&&Mj(r)?r:{},Fj(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&Fj(a,{name:n,newValue:i}));return a};const jj=Va(R3e);function pR(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function N3e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?k3e(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function k3e(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u instanceof Promise?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class aa extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Mp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}aa.prototype.file="";aa.prototype.name="";aa.prototype.reason="";aa.prototype.message="";aa.prototype.stack="";aa.prototype.fatal=null;aa.prototype.column=null;aa.prototype.line=null;aa.prototype.source=null;aa.prototype.ruleId=null;aa.prototype.position=null;const eu={basename:D3e,dirname:$3e,extname:L3e,join:M3e,sep:"/"};function D3e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');iv(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function $3e(e){if(iv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function L3e(e){iv(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function M3e(...e){let t=-1,n;for(;++t<e.length;)iv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":F3e(n)}function F3e(e){iv(e);const t=e.charCodeAt(0)===47;let n=B3e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function B3e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function iv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const j3e={cwd:U3e};function U3e(){return"/"}function mR(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function V3e(e){if(typeof e=="string")e=new URL(e);else if(!mR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return z3e(e)}function z3e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const sO=["history","path","basename","stem","extname","dirname"];class H3e{constructor(t){let n;t?typeof t=="string"||j$(t)?n={value:t}:mR(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=j3e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<sO.length;){const s=sO[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)sO.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){mR(t)&&(t=V3e(t)),aO(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?eu.dirname(this.path):void 0}set dirname(t){Uj(this.basename,"dirname"),this.path=eu.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?eu.basename(this.path):void 0}set basename(t){aO(t,"basename"),oO(t,"basename"),this.path=eu.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?eu.extname(this.path):void 0}set extname(t){if(oO(t,"extname"),Uj(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=eu.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?eu.basename(this.path,this.extname):void 0}set stem(t){aO(t,"stem"),oO(t,"stem"),this.path=eu.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new aa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function oO(e,t){if(e&&e.includes(eu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+eu.sep+"`")}function aO(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Uj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const q3e=Aee().freeze(),Iee={}.hasOwnProperty;function Aee(){const e=N3e(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const g=Aee();let y=-1;for(;++y<t.length;)g.use(...t[y]);return g.data(jj(!0,{},n)),g}function o(g,y){return typeof g=="string"?arguments.length===2?(cO("data",r),n[g]=y,s):Iee.call(n,g)&&n[g]||null:g?(cO("data",r),n=g,s):n}function a(){if(r)return s;for(;++i<t.length;){const[g,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const m=g.call(s,...y);typeof m=="function"&&e.use(m)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(g,...y){let m;if(cO("use",r),g!=null)if(typeof g=="function")S(g,...y);else if(typeof g=="object")Array.isArray(g)?T(g):v(g);else throw new TypeError("Expected usable value, not `"+g+"`");return m&&(n.settings=Object.assign(n.settings||{},m)),s;function _(w){if(typeof w=="function")S(w);else if(typeof w=="object")if(Array.isArray(w)){const[x,...A]=w;S(x,...A)}else v(w);else throw new TypeError("Expected usable value, not `"+w+"`")}function v(w){T(w.plugins),w.settings&&(m=Object.assign(m||{},w.settings))}function T(w){let x=-1;if(w!=null)if(Array.isArray(w))for(;++x<w.length;){const A=w[x];_(A)}else throw new TypeError("Expected a list of plugins, not `"+w+"`")}function S(w,x){let A=-1,M;for(;++A<t.length;)if(t[A][0]===w){M=t[A];break}M?(pR(M[1])&&pR(x)&&(x=jj(!0,M[1],x)),M[1]=x):t.push([...arguments])}}function l(g){s.freeze();const y=Wg(g),m=s.Parser;return uO("parse",m),Vj(m,"parse")?new m(String(y),y).parse():m(String(y),y)}function c(g,y){s.freeze();const m=Wg(y),_=s.Compiler;return lO("stringify",_),zj(g),Vj(_,"compile")?new _(g,m).compile():_(g,m)}function f(g,y,m){if(zj(g),s.freeze(),!m&&typeof y=="function"&&(m=y,y=void 0),!m)return new Promise(_);_(null,m);function _(v,T){e.run(g,Wg(y),S);function S(w,x,A){x=x||g,w?T(w):v?v(x):m(null,x,A)}}}function d(g,y){let m,_;return s.run(g,y,v),Hj("runSync","run",_),m;function v(T,S){kj(T),m=S,_=!0}}function h(g,y){if(s.freeze(),uO("process",s.Parser),lO("process",s.Compiler),!y)return new Promise(m);m(null,y);function m(_,v){const T=Wg(g);s.run(s.parse(T),T,(w,x,A)=>{if(w||!x||!A)S(w);else{const M=s.stringify(x,A);M==null||(G3e(M)?A.value=M:A.result=M),S(w,A)}});function S(w,x){w||!x?v(w):_?_(x):y(null,x)}}}function p(g){let y;s.freeze(),uO("processSync",s.Parser),lO("processSync",s.Compiler);const m=Wg(g);return s.process(m,_),Hj("processSync","process",y),m;function _(v){y=!0,kj(v)}}}function Vj(e,t){return typeof e=="function"&&e.prototype&&(W3e(e.prototype)||t in e.prototype)}function W3e(e){let t;for(t in e)if(Iee.call(e,t))return!0;return!1}function uO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function lO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function cO(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zj(e){if(!pR(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Hj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Wg(e){return Y3e(e)?e:new H3e(e)}function Y3e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function G3e(e){return typeof e=="string"||j$(e)}function K3e(e,t){var{includeImageAlt:n=!0}=t||{};return Cee(e,n)}function Cee(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&qj(e.children,t)||Array.isArray(e)&&qj(e,t))||""}function qj(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=Cee(e[r],t);return n.join("")}function Lu(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function Bo(e,t){return e.length>0?(Lu(e,e.length,0,t),e):t}const Wj={}.hasOwnProperty;function Q3e(e){const t={};let n=-1;for(;++n<e.length;)X3e(t,e[n]);return t}function X3e(e,t){let n;for(n in t){const i=(Wj.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;for(o in s){Wj.call(i,o)||(i[o]=[]);const a=s[o];J3e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function J3e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Lu(e,0,0,r)}const Z3e=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,lu=Lf(/[A-Za-z]/),gR=Lf(/\d/),e6e=Lf(/[\dA-Fa-f]/),po=Lf(/[\dA-Za-z]/),t6e=Lf(/[!-/:-@[-`{-~]/),Yj=Lf(/[#-'*+\--9=?A-Z^-~]/);function yR(e){return e!==null&&(e<32||e===127)}function Qo(e){return e!==null&&(e<0||e===32)}function Tt(e){return e!==null&&e<-2}function zr(e){return e===-2||e===-1||e===32}const n6e=Lf(/\s/),r6e=Lf(Z3e);function Lf(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Vn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return zr(u)?(e.enter(n),a(u)):t(u)}function a(u){return zr(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const i6e={tokenize:s6e};function s6e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Vn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Tt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const o6e={tokenize:a6e},Gj={tokenize:u6e};function a6e(e){const t=this,n=[];let r=0,i,s,o;return a;function a(v){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(v)}return l(v)}function u(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const T=t.events.length;let S=T,w;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){w=t.events[S][1].end;break}m(r);let x=T;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},w),x++;return Lu(t.events,S+1,0,t.events.slice(T)),t.events.length=x,l(v)}return a(v)}function l(v){if(r===n.length){if(!i)return d(v);if(i.currentConstruct&&i.currentConstruct.concrete)return p(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Gj,c,f)(v)}function c(v){return i&&_(),m(r),d(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(v)}function d(v){return t.containerState={},e.attempt(Gj,h,p)(v)}function h(v){return r++,n.push([t.currentConstruct,t.containerState]),d(v)}function p(v){if(v===null){i&&_(),m(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),g(v)}function g(v){if(v===null){y(e.exit("chunkFlow"),!0),m(0),e.consume(v);return}return Tt(v)?(e.consume(v),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(v),g)}function y(v,T){const S=t.sliceStream(v);if(T&&S.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(S),t.parser.lazy[v.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const x=t.events.length;let A=x,M,D;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(M){D=t.events[A][1].end;break}M=!0}for(m(r),w=x;w<t.events.length;)t.events[w][1].end=Object.assign({},D),w++;Lu(t.events,A+1,0,t.events.slice(x)),t.events.length=w}}function m(v){let T=n.length;for(;T-- >v;){const S=n[T];t.containerState=S[1],S[0].exit.call(t,e)}n.length=v}function _(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function u6e(e,t,n){return Vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Kj(e){if(e===null||Qo(e)||n6e(e))return 1;if(r6e(e))return 2}function U$(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const _R={name:"attention",tokenize:c6e,resolveAll:l6e};function l6e(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);Qj(f,-u),Qj(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Bo(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Bo(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Bo(l,U$(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Bo(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Bo(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Lu(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function c6e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Kj(r);let s;return o;function o(u){return e.enter("attentionSequence"),s=u,a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=Kj(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function Qj(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const f6e={name:"autolink",tokenize:d6e};function d6e(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return lu(p)?(e.consume(p),o):Yj(p)?l(p):n(p)}function o(p){return p===43||p===45||p===46||po(p)?a(p):l(p)}function a(p){return p===58?(e.consume(p),u):(p===43||p===45||p===46||po(p))&&r++<32?(e.consume(p),a):l(p)}function u(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||yR(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),r=0,c):Yj(p)?(e.consume(p),l):n(p)}function c(p){return po(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||po(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const rI={tokenize:h6e,partial:!0};function h6e(e,t,n){return Vn(e,r,"linePrefix");function r(i){return i===null||Tt(i)?t(i):n(i)}}const Oee={name:"blockQuote",tokenize:p6e,continuation:{tokenize:m6e},exit:g6e};function p6e(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return zr(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function m6e(e,t,n){return Vn(e,e.attempt(Oee,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function g6e(e){e.exit("blockQuote")}const Pee={name:"characterEscape",tokenize:y6e};function y6e(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return t6e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Xj=document.createElement("i");function V$(e){const t="&"+e+";";Xj.innerHTML=t;const n=Xj.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const Ree={name:"characterReference",tokenize:_6e};function _6e(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=po,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=e6e,c):(e.enter("characterReferenceValue"),s=7,o=gR,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),o===po&&!V$(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(f)&&i++<s?(e.consume(f),c):n(f)}}const Jj={name:"codeFenced",tokenize:v6e,concrete:!0};function v6e(e,t,n){const r=this,i={tokenize:S,partial:!0},s={tokenize:T,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let u=0,l;return c;function c(w){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=w,f(w)}function f(w){return w===l?(e.consume(w),u++,f):(e.exit("codeFencedFenceSequence"),u<3?n(w):Vn(e,d,"whitespace")(w))}function d(w){return w===null||Tt(w)?y(w):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||Qo(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Vn(e,p,"whitespace")(w)):w===96&&w===l?n(w):(e.consume(w),h)}function p(w){return w===null||Tt(w)?y(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||Tt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(w)):w===96&&w===l?n(w):(e.consume(w),g)}function y(w){return e.exit("codeFencedFence"),r.interrupt?t(w):m(w)}function m(w){return w===null?v(w):Tt(w)?e.attempt(s,e.attempt(i,v,a?Vn(e,m,"linePrefix",a+1):m),v)(w):(e.enter("codeFlowValue"),_(w))}function _(w){return w===null||Tt(w)?(e.exit("codeFlowValue"),m(w)):(e.consume(w),_)}function v(w){return e.exit("codeFenced"),t(w)}function T(w,x,A){const M=this;return D;function D(q){return w.enter("lineEnding"),w.consume(q),w.exit("lineEnding"),$}function $(q){return M.parser.lazy[M.now().line]?A(q):x(q)}}function S(w,x,A){let M=0;return Vn(w,D,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function D(W){return w.enter("codeFencedFence"),w.enter("codeFencedFenceSequence"),$(W)}function $(W){return W===l?(w.consume(W),M++,$):M<u?A(W):(w.exit("codeFencedFenceSequence"),Vn(w,q,"whitespace")(W))}function q(W){return W===null||Tt(W)?(w.exit("codeFencedFence"),x(W)):A(W)}}}const fO={name:"codeIndented",tokenize:w6e},b6e={tokenize:E6e,partial:!0};function w6e(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Vn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):Tt(l)?e.attempt(b6e,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Tt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function E6e(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Tt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Vn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Tt(o)?i(o):n(o)}}const T6e={name:"codeText",tokenize:I6e,resolve:S6e,previous:x6e};function S6e(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function x6e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function I6e(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):Tt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||Tt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function Nee(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,A6e(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),Lu(e,i,n-i+1,a))}}return!l}function A6e(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,g=0;const y=[g];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,y.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const m=a.slice(y[d],y[d+1]),_=s.pop();u.unshift([_,_+m.length-1]),Lu(e,_,2,m)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const C6e={tokenize:R6e,resolve:P6e},O6e={tokenize:N6e,partial:!0};function P6e(e){return Nee(e),e}function R6e(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Tt(a)?e.check(O6e,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function N6e(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Vn(e,s,"linePrefix")}function s(o){if(o===null||Tt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function kee(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),d):m===null||m===41||yR(m)?n(m):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||Tt(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return m===40?++c>l?n(m):(e.consume(m),g):m===41?c--?(e.consume(m),g):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):m===null||Qo(m)?c?n(m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):yR(m)?n(m):(e.consume(m),m===92?y:g)}function y(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function Dee(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Tt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Tt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u=u||!zr(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function $ee(e,t,n,r,i,s){let o;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):Tt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Vn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Tt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function Z0(e,t){let n;return r;function r(i){return Tt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):zr(i)?Vn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Fp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const k6e={name:"definition",tokenize:$6e},D6e={tokenize:L6e,partial:!0};function $6e(e,t,n){const r=this;let i;return s;function s(u){return e.enter("definition"),Dee.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return i=Fp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),Z0(e,kee(e,e.attempt(D6e,Vn(e,a,"whitespace"),Vn(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(u)}function a(u){return u===null||Tt(u)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(u)):n(u)}}function L6e(e,t,n){return r;function r(o){return Qo(o)?Z0(e,i)(o):n(o)}function i(o){return o===34||o===39||o===40?$ee(e,Vn(e,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||Tt(o)?t(o):n(o)}}const M6e={name:"hardBreakEscape",tokenize:F6e};function F6e(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(s),i}function i(s){return Tt(s)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(s)):n(s)}}const B6e={name:"headingAtx",tokenize:U6e,resolve:j6e};function j6e(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Lu(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function U6e(e,t,n){const r=this;let i=0;return s;function s(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||Qo(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Tt(c)?(e.exit("atxHeading"),t(c)):zr(c)?Vn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||Qo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const V6e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zj=["pre","script","style","textarea"],z6e={name:"htmlFlow",tokenize:W6e,resolveTo:q6e,concrete:!0},H6e={tokenize:Y6e,partial:!0};function q6e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function W6e(e,t,n){const r=this;let i,s,o,a,u;return l;function l(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),p):C===63?(e.consume(C),i=3,r.interrupt?t:ie):lu(C)?(e.consume(C),o=String.fromCharCode(C),s=!0,g):n(C)}function f(C){return C===45?(e.consume(C),i=2,d):C===91?(e.consume(C),i=5,o="CDATA[",a=0,h):lu(C)?(e.consume(C),i=4,r.interrupt?t:ie):n(C)}function d(C){return C===45?(e.consume(C),r.interrupt?t:ie):n(C)}function h(C){return C===o.charCodeAt(a++)?(e.consume(C),a===o.length?r.interrupt?t:$:h):n(C)}function p(C){return lu(C)?(e.consume(C),o=String.fromCharCode(C),g):n(C)}function g(C){return C===null||C===47||C===62||Qo(C)?C!==47&&s&&Zj.includes(o.toLowerCase())?(i=1,r.interrupt?t(C):$(C)):V6e.includes(o.toLowerCase())?(i=6,C===47?(e.consume(C),y):r.interrupt?t(C):$(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?_(C):m(C)):C===45||po(C)?(e.consume(C),o+=String.fromCharCode(C),g):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:$):n(C)}function m(C){return zr(C)?(e.consume(C),m):M(C)}function _(C){return C===47?(e.consume(C),M):C===58||C===95||lu(C)?(e.consume(C),v):zr(C)?(e.consume(C),_):M(C)}function v(C){return C===45||C===46||C===58||C===95||po(C)?(e.consume(C),v):T(C)}function T(C){return C===61?(e.consume(C),S):zr(C)?(e.consume(C),T):_(C)}function S(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,w):zr(C)?(e.consume(C),S):(u=null,x(C))}function w(C){return C===null||Tt(C)?n(C):C===u?(e.consume(C),A):(e.consume(C),w)}function x(C){return C===null||C===34||C===39||C===60||C===61||C===62||C===96||Qo(C)?T(C):(e.consume(C),x)}function A(C){return C===47||C===62||zr(C)?_(C):n(C)}function M(C){return C===62?(e.consume(C),D):n(C)}function D(C){return zr(C)?(e.consume(C),D):C===null||Tt(C)?$(C):n(C)}function $(C){return C===45&&i===2?(e.consume(C),de):C===60&&i===1?(e.consume(C),ae):C===62&&i===4?(e.consume(C),K):C===63&&i===3?(e.consume(C),ie):C===93&&i===5?(e.consume(C),ee):Tt(C)&&(i===6||i===7)?e.check(H6e,K,q)(C):C===null||Tt(C)?q(C):(e.consume(C),$)}function q(C){return e.exit("htmlFlowData"),W(C)}function W(C){return C===null?I(C):Tt(C)?e.attempt({tokenize:V,partial:!0},W,I)(C):(e.enter("htmlFlowData"),$(C))}function V(C,z,R){return P;function P(se){return C.enter("lineEnding"),C.consume(se),C.exit("lineEnding"),Y}function Y(se){return r.parser.lazy[r.now().line]?R(se):z(se)}}function de(C){return C===45?(e.consume(C),ie):$(C)}function ae(C){return C===47?(e.consume(C),o="",pe):$(C)}function pe(C){return C===62&&Zj.includes(o.toLowerCase())?(e.consume(C),K):lu(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),pe):$(C)}function ee(C){return C===93?(e.consume(C),ie):$(C)}function ie(C){return C===62?(e.consume(C),K):C===45&&i===2?(e.consume(C),ie):$(C)}function K(C){return C===null||Tt(C)?(e.exit("htmlFlowData"),I(C)):(e.consume(C),K)}function I(C){return e.exit("htmlFlow"),t(C)}}function Y6e(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(rI,t,n)}}const G6e={name:"htmlText",tokenize:K6e};function K6e(e,t,n){const r=this;let i,s,o,a;return u;function u(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),l}function l(I){return I===33?(e.consume(I),c):I===47?(e.consume(I),x):I===63?(e.consume(I),S):lu(I)?(e.consume(I),D):n(I)}function c(I){return I===45?(e.consume(I),f):I===91?(e.consume(I),s="CDATA[",o=0,y):lu(I)?(e.consume(I),T):n(I)}function f(I){return I===45?(e.consume(I),d):n(I)}function d(I){return I===null||I===62?n(I):I===45?(e.consume(I),h):p(I)}function h(I){return I===null||I===62?n(I):p(I)}function p(I){return I===null?n(I):I===45?(e.consume(I),g):Tt(I)?(a=p,ee(I)):(e.consume(I),p)}function g(I){return I===45?(e.consume(I),K):p(I)}function y(I){return I===s.charCodeAt(o++)?(e.consume(I),o===s.length?m:y):n(I)}function m(I){return I===null?n(I):I===93?(e.consume(I),_):Tt(I)?(a=m,ee(I)):(e.consume(I),m)}function _(I){return I===93?(e.consume(I),v):m(I)}function v(I){return I===62?K(I):I===93?(e.consume(I),v):m(I)}function T(I){return I===null||I===62?K(I):Tt(I)?(a=T,ee(I)):(e.consume(I),T)}function S(I){return I===null?n(I):I===63?(e.consume(I),w):Tt(I)?(a=S,ee(I)):(e.consume(I),S)}function w(I){return I===62?K(I):S(I)}function x(I){return lu(I)?(e.consume(I),A):n(I)}function A(I){return I===45||po(I)?(e.consume(I),A):M(I)}function M(I){return Tt(I)?(a=M,ee(I)):zr(I)?(e.consume(I),M):K(I)}function D(I){return I===45||po(I)?(e.consume(I),D):I===47||I===62||Qo(I)?$(I):n(I)}function $(I){return I===47?(e.consume(I),K):I===58||I===95||lu(I)?(e.consume(I),q):Tt(I)?(a=$,ee(I)):zr(I)?(e.consume(I),$):K(I)}function q(I){return I===45||I===46||I===58||I===95||po(I)?(e.consume(I),q):W(I)}function W(I){return I===61?(e.consume(I),V):Tt(I)?(a=W,ee(I)):zr(I)?(e.consume(I),W):$(I)}function V(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,de):Tt(I)?(a=V,ee(I)):zr(I)?(e.consume(I),V):(e.consume(I),i=void 0,pe)}function de(I){return I===i?(e.consume(I),ae):I===null?n(I):Tt(I)?(a=de,ee(I)):(e.consume(I),de)}function ae(I){return I===62||I===47||Qo(I)?$(I):n(I)}function pe(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===62||Qo(I)?$(I):(e.consume(I),pe)}function ee(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),Vn(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ie(I){return e.enter("htmlTextData"),a(I)}function K(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}}const z$={name:"labelEnd",tokenize:tLe,resolveTo:eLe,resolveAll:Z6e},Q6e={tokenize:nLe},X6e={tokenize:rLe},J6e={tokenize:iLe};function Z6e(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function eLe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Bo(a,e.slice(s+1,s+r+3)),a=Bo(a,[["enter",c,t]]),a=Bo(a,U$(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Bo(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Bo(a,e.slice(o+1)),a=Bo(a,[["exit",u,t]]),Lu(e,s,e.length,a),e}function tLe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(c){return s?s._inactive?l(c):(o=r.parser.defined.includes(Fp(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),u):n(c)}function u(c){return c===40?e.attempt(Q6e,t,o?t:l)(c):c===91?e.attempt(X6e,t,o?e.attempt(J6e,t,l):l)(c):o?t(c):l(c)}function l(c){return s._balanced=!0,n(c)}}function nLe(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),Z0(e,i)}function i(u){return u===41?a(u):kee(e,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return Qo(u)?Z0(e,o)(u):a(u)}function o(u){return u===34||u===39||u===40?$ee(e,Z0(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):a(u)}function a(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function rLe(e,t,n){const r=this;return i;function i(o){return Dee.call(r,e,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Fp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function iLe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const sLe={name:"labelStartImage",tokenize:oLe,resolveAll:z$.resolveAll};function oLe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const aLe={name:"labelStartLink",tokenize:uLe,resolveAll:z$.resolveAll};function uLe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const dO={name:"lineEnding",tokenize:lLe};function lLe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Vn(e,t,"linePrefix")}}const kb={name:"thematicBreak",tokenize:cLe};function cLe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):zr(u)?Vn(e,o,"whitespace")(u):r<3||u!==null&&!Tt(u)?n(u):(e.exit("thematicBreak"),t(u))}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),o(u))}}const Is={name:"list",tokenize:hLe,continuation:{tokenize:pLe},exit:gLe},fLe={tokenize:yLe,partial:!0},dLe={tokenize:mLe,partial:!0};function hLe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:gR(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(kb,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return gR(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(rI,r.interrupt?n:c,e.attempt(fLe,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return zr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function pLe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(rI,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Vn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!zr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(dLe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Vn(e,e.attempt(Is,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function mLe(e,t,n){const r=this;return Vn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function gLe(e){e.exit(this.containerState.type)}function yLe(e,t,n){const r=this;return Vn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!zr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const eU={name:"setextUnderline",tokenize:vLe,resolveTo:_Le};function _Le(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function vLe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),s=c,u(c)):n(c)}function u(c){return c===s?(e.consume(c),u):(e.exit("setextHeadingLineSequence"),Vn(e,l,"lineSuffix")(c))}function l(c){return c===null||Tt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const bLe={tokenize:wLe};function wLe(e){const t=this,n=e.attempt(rI,r,e.attempt(this.parser.constructs.flowInitial,i,Vn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(C6e,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const ELe={resolveAll:Mee()},TLe=Lee("string"),SLe=Lee("text");function Lee(e){return{tokenize:t,resolveAll:Mee(e==="text"?xLe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Mee(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function xLe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function ILe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:_,enter:v,exit:T,attempt:x(S),check:x(w),interrupt:x(w,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:g,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f($){return o=Bo(o,$),y(),o[o.length-1]!==null?[]:(A(t,0),l.events=U$(s,l.events,l),l.events)}function d($,q){return CLe(h($),q)}function h($){return ALe(o,$)}function p(){return Object.assign({},r)}function g($){i[$.line]=$.column,D()}function y(){let $;for(;r._index<o.length;){const q=o[r._index];if(typeof q=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<q.length;)m(q.charCodeAt(r._bufferIndex));else m(q)}}function m($){c=c($)}function _($){Tt($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,D()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=$}function v($,q){const W=q||{};return W.type=$,W.start=p(),l.events.push(["enter",W,l]),a.push(W),W}function T($){const q=a.pop();return q.end=p(),l.events.push(["exit",q,l]),q}function S($,q){A($,q.from)}function w($,q){q.restore()}function x($,q){return W;function W(V,de,ae){let pe,ee,ie,K;return Array.isArray(V)?C(V):"tokenize"in V?C([V]):I(V);function I(Y){return se;function se(ue){const he=ue!==null&&Y[ue],fe=ue!==null&&Y.null,Se=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return C(Se)(ue)}}function C(Y){return pe=Y,ee=0,Y.length===0?ae:z(Y[ee])}function z(Y){return se;function se(ue){return K=M(),ie=Y,Y.partial||(l.currentConstruct=Y),Y.name&&l.parser.constructs.disable.null.includes(Y.name)?P():Y.tokenize.call(q?Object.assign(Object.create(l),q):l,u,R,P)(ue)}}function R(Y){return $(ie,K),de}function P(Y){return K.restore(),++ee<pe.length?z(pe[ee]):ae}}}function A($,q){$.resolveAll&&!s.includes($)&&s.push($),$.resolve&&Lu(l.events,q,l.events.length-q,$.resolve(l.events.slice(q),l)),$.resolveTo&&(l.events=$.resolveTo(l.events,l))}function M(){const $=p(),q=l.previous,W=l.currentConstruct,V=l.events.length,de=Array.from(a);return{restore:ae,from:V};function ae(){r=$,l.previous=q,l.currentConstruct=W,l.events.length=V,a=de,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ALe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;return n===i?o=[e[n].slice(r,s)]:(o=e.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(e[i].slice(0,s))),o}function CLe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const OLe={42:Is,43:Is,45:Is,48:Is,49:Is,50:Is,51:Is,52:Is,53:Is,54:Is,55:Is,56:Is,57:Is,62:Oee},PLe={91:k6e},RLe={[-2]:fO,[-1]:fO,32:fO},NLe={35:B6e,42:kb,45:[eU,kb],60:z6e,61:eU,95:kb,96:Jj,126:Jj},kLe={38:Ree,92:Pee},DLe={[-5]:dO,[-4]:dO,[-3]:dO,33:sLe,38:Ree,42:_R,60:[f6e,G6e],91:aLe,92:[M6e,Pee],93:z$,95:_R,96:T6e},$Le={null:[_R,ELe]},LLe={null:[42,95]},MLe={null:[]},FLe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:LLe,contentInitial:PLe,disable:MLe,document:OLe,flow:NLe,flowInitial:RLe,insideSpan:$Le,string:kLe,text:DLe},Symbol.toStringTag,{value:"Module"}));function BLe(e={}){const t=Q3e([FLe].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(i6e),document:r(o6e),flow:r(bLe),string:r(TLe),text:r(SLe)};return n;function r(i){return s;function s(o){return ILe(n,i,o)}}}const tU=/[\0\t\n\r]/g;function jLe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(tU.lastIndex=f,l=tU.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function ULe(e){for(;!Nee(e););return e}function Fee(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const VLe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function zLe(e){return e.replace(VLe,HLe)}function HLe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Fee(n.slice(s?2:1),s?16:10)}return V$(n)||e}const vR={}.hasOwnProperty,qLe=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),WLe(n)(ULe(BLe(n).document().write(jLe()(e,t,!0))))};function WLe(e={}){const t=Bee({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ue),autolinkProtocol:q,autolinkEmail:q,atxHeading:u(Ae),blockQuote:u(me),characterEscape:q,characterReference:q,codeFenced:u(Je),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:u(Je,l),codeText:u(Ge,l),codeTextData:q,data:q,codeFlowValue:q,definition:u(qe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:u(Le),hardBreakEscape:u(Ve),hardBreakTrailing:u(Ve),htmlFlow:u(Zt,l),htmlFlowData:q,htmlText:u(Zt,l),htmlTextData:q,image:u(Me),label:l,link:u(Ue),listItem:u(ze),listItemValue:g,listOrdered:u(wt,p),listUnordered:u(wt),paragraph:u(gt),reference:Y,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:u(Ae),strong:u(Gt),thematicBreak:u(Gn)},exit:{atxHeading:f(),atxHeadingSequence:A,autolink:f(),autolinkEmail:Se,autolinkProtocol:fe,blockQuote:f(),characterEscapeValue:W,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:he,codeFenced:f(v),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:m,codeFlowValue:W,codeIndented:f(T),codeText:f(ee),codeTextData:W,data:W,definition:f(),definitionDestinationString:x,definitionLabelString:S,definitionTitleString:w,emphasis:f(),hardBreakEscape:f(de),hardBreakTrailing:f(de),htmlFlow:f(ae),htmlFlowData:W,htmlText:f(pe),htmlTextData:W,image:f(K),label:C,labelText:I,lineEnding:V,link:f(ie),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:se,resourceDestinationString:z,resourceTitleString:R,resource:P,setextHeading:f($),setextHeadingLineSequence:D,setextHeadingText:M,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(ce){let Ee={type:"root",children:[]};const Fe=[Ee],ot=[],$e=[],at={stack:Fe,tokenStack:ot,config:t,enter:c,exit:d,buffer:l,resume:h,setData:s,getData:o};let Be=-1;for(;++Be<ce.length;)if(ce[Be][1].type==="listOrdered"||ce[Be][1].type==="listUnordered")if(ce[Be][0]==="enter")$e.push(Be);else{const rt=$e.pop();Be=i(ce,rt,Be)}for(Be=-1;++Be<ce.length;){const rt=t[ce[Be][0]];vR.call(rt,ce[Be][1].type)&&rt[ce[Be][1].type].call(Object.assign({sliceSerialize:ce[Be][2].sliceSerialize},at),ce[Be][1])}if(ot.length>0){const rt=ot[ot.length-1];(rt[1]||nU).call(at,void 0,rt[0])}for(Ee.position={start:a(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:a(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)Ee=t.transforms[Be](Ee)||Ee;return Ee}function i(ce,Ee,Fe){let ot=Ee-1,$e=-1,at=!1,Be,rt,wn,qt;for(;++ot<=Fe;){const xt=ce[ot];if(xt[1].type==="listUnordered"||xt[1].type==="listOrdered"||xt[1].type==="blockQuote"?(xt[0]==="enter"?$e++:$e--,qt=void 0):xt[1].type==="lineEndingBlank"?xt[0]==="enter"&&(Be&&!qt&&!$e&&!wn&&(wn=ot),qt=void 0):xt[1].type==="linePrefix"||xt[1].type==="listItemValue"||xt[1].type==="listItemMarker"||xt[1].type==="listItemPrefix"||xt[1].type==="listItemPrefixWhitespace"||(qt=void 0),!$e&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||$e===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(Be){let Bn=ot;for(rt=void 0;Bn--;){const En=ce[Bn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;rt&&(ce[rt][1].type="lineEndingBlank",at=!0),En[1].type="lineEnding",rt=Bn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}wn&&(!rt||wn<rt)&&(Be._spread=!0),Be.end=Object.assign({},rt?ce[rt][1].start:xt[1].end),ce.splice(rt||ot,0,["exit",Be,xt[2]]),ot++,Fe++}xt[1].type==="listItemPrefix"&&(Be={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start)},ce.splice(ot,0,["enter",Be,xt[2]]),ot++,Fe++,wn=void 0,qt=!0)}}return ce[Ee][1]._spread=at,Fe}function s(ce,Ee){n[ce]=Ee}function o(ce){return n[ce]}function a(ce){return{line:ce.line,column:ce.column,offset:ce.offset}}function u(ce,Ee){return Fe;function Fe(ot){c.call(this,ce(ot),ot),Ee&&Ee.call(this,ot)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ce,Ee,Fe){return this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([Ee,Fe]),ce.position={start:a(Ee.start)},ce}function f(ce){return Ee;function Ee(Fe){ce&&ce.call(this,Fe),d.call(this,Fe)}}function d(ce,Ee){const Fe=this.stack.pop(),ot=this.tokenStack.pop();if(ot)ot[0].type!==ce.type&&(Ee?Ee.call(this,ce,ot[0]):(ot[1]||nU).call(this,ce,ot[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Mp({start:ce.start,end:ce.end})+"): its not open");return Fe.position.end=a(ce.end),Fe}function h(){return K3e(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function g(ce){if(o("expectingFirstListItemValue")){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(ce),10),s("expectingFirstListItemValue")}}function y(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=ce}function m(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=ce}function _(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function T(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce.replace(/(\r?\n|\r)$/g,"")}function S(ce){const Ee=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ee,Fe.identifier=Fp(this.sliceSerialize(ce)).toLowerCase()}function w(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ce}function x(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ce}function A(ce){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const Fe=this.sliceSerialize(ce).length;Ee.depth=Fe}}function M(){s("setextHeadingSlurpLineEnding",!0)}function D(ce){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(ce).charCodeAt(0)===61?1:2}function $(){s("setextHeadingSlurpLineEnding")}function q(ce){const Ee=this.stack[this.stack.length-1];let Fe=Ee.children[Ee.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=un(),Fe.position={start:a(ce.start)},Ee.children.push(Fe)),this.stack.push(Fe)}function W(ce){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(ce),Ee.position.end=a(ce.end)}function V(ce){const Ee=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=Ee.children[Ee.children.length-1];Fe.position.end=a(ce.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Ee.type)&&(q.call(this,ce),W.call(this,ce))}function de(){s("atHardBreak",!0)}function ae(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function pe(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function ee(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function ie(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function K(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function I(ce){const Ee=this.stack[this.stack.length-2],Fe=this.sliceSerialize(ce);Ee.label=zLe(Fe),Ee.identifier=Fp(Fe).toLowerCase()}function C(){const ce=this.stack[this.stack.length-1],Ee=this.resume(),Fe=this.stack[this.stack.length-1];s("inReference",!0),Fe.type==="link"?Fe.children=ce.children:Fe.alt=Ee}function z(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ce}function R(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ce}function P(){s("inReference")}function Y(){s("referenceType","collapsed")}function se(ce){const Ee=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ee,Fe.identifier=Fp(this.sliceSerialize(ce)).toLowerCase(),s("referenceType","full")}function ue(ce){s("characterReferenceType",ce.type)}function he(ce){const Ee=this.sliceSerialize(ce),Fe=o("characterReferenceType");let ot;Fe?(ot=Fee(Ee,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ot=V$(Ee);const $e=this.stack.pop();$e.value+=ot,$e.position.end=a(ce.end)}function fe(ce){W.call(this,ce);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(ce)}function Se(ce){W.call(this,ce);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(ce)}function me(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function Ge(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function Ae(){return{type:"heading",depth:void 0,children:[]}}function Ve(){return{type:"break"}}function Zt(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function wt(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function ze(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function un(){return{type:"text",value:""}}function Gn(){return{type:"thematicBreak"}}}function Bee(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Bee(e,r):YLe(e,r)}return e}function YLe(e,t){let n;for(n in t)if(vR.call(t,n)){const r=n==="canContainEols"||n==="transforms",s=(vR.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),o=t[n];o&&(r?e[n]=[...s,...o]:Object.assign(s,o))}}function nU(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Mp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Mp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Mp({start:t.start,end:t.end})+") is still open")}function GLe(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return qLe(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var ti=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const Db={}.hasOwnProperty;function KLe(e,t){const n=t.data||{};return"value"in t&&!(Db.call(n,"hName")||Db.call(n,"hProperties")||Db.call(n,"hChildren"))?e.augment(t,ti("text",t.value)):e(t,"div",os(e,t))}function jee(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return Db.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=QLe:i=e.unknownHandler,(typeof i=="function"?i:KLe)(e,t,n)}function QLe(e,t){return"children"in t?{...t,children:os(e,t)}:t}function os(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=jee(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}const Uee=function(e){if(e==null)return eMe;if(typeof e=="string")return ZLe(e);if(typeof e=="object")return Array.isArray(e)?XLe(e):JLe(e);if(typeof e=="function")return iI(e);throw new Error("Expected function, string, or object as test")};function XLe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Uee(e[n]);return iI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function JLe(e){return iI(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function ZLe(e){return iI(t);function t(n){return n&&n.type===e}}function iI(e){return t;function t(...n){return!!e.call(this,...n)}}function eMe(){return!0}const tMe=!0,nMe="skip",rU=!1,rMe=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=Uee(t),s=r?-1:1;o(e,null,[])();function o(a,u,l){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,g,y;if((!t||i(a,u,l[l.length-1]||null))&&(h=iMe(n(a,l)),h[0]===rU))return h;if(a.children&&h[0]!==nMe)for(g=(r?a.children.length:-1)+s,y=l.concat(a);g>-1&&g<a.children.length;){if(p=o(a.children[g],g,y)(),p[0]===rU)return p;g=typeof p[1]=="number"?p[1]:g+s}return h}}};function iMe(e){return Array.isArray(e)?e:typeof e=="number"?[tMe,e]:[e]}const H$=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),rMe(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}},Vee=Hee("start"),zee=Hee("end");function Hee(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function sMe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const iU={}.hasOwnProperty;function oMe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return H$(e,"definition",r=>{const i=sU(r.identifier);i&&!iU.call(t,i)&&(t[i]=r)}),n;function n(r){const i=sU(r);return i&&iU.call(t,i)?t[i]:null}}function sU(e){return String(e||"").toUpperCase()}function Xm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&po(e.charCodeAt(n+1))&&po(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function yl(e,t){const n=[];let r=-1;for(t&&n.push(ti("text",`
`));++r<e.length;)r&&n.push(ti("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(ti("text",`
`)),n}function aMe(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=os(e,r),s=String(r.identifier),o=Xm(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:yl(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[ti("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:yl(n,!0)},{type:"text",value:`
`}]}}function uMe(e,t){return e(t,"blockquote",yl(os(e,t),!0))}function lMe(e,t){return[e(t,"br"),ti("text",`
`)]}function cMe(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const s=e(t,"code",i,[ti("text",n)]);return t.meta&&(s.data={meta:t.meta}),e(t.position,"pre",[s])}function fMe(e,t){return e(t,"del",os(e,t))}function dMe(e,t){return e(t,"em",os(e,t))}function qee(e,t){const n=String(t.identifier),r=Xm(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[ti("text",String(s))])])}function hMe(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},qee(e,{type:"footnoteReference",identifier:i,position:t.position})}function pMe(e,t){return e(t,"h"+t.depth,os(e,t))}function mMe(e,t){return e.dangerous?e.augment(t,ti("raw",t.value)):null}function Wee(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return ti("text","!["+t.alt+r);const i=os(e,t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift(ti("text","["));const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push(ti("text",r)),i}function gMe(e,t){const n=e.definition(t.identifier);if(!n)return Wee(e,t);const r={src:Xm(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function yMe(e,t){const n={src:Xm(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function _Me(e,t){return e(t,"code",[ti("text",t.value.replace(/\r?\n|\r/g," "))])}function vMe(e,t){const n=e.definition(t.identifier);if(!n)return Wee(e,t);const r={href:Xm(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,os(e,t))}function bMe(e,t){const n={href:Xm(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,os(e,t))}function wMe(e,t,n){const r=os(e,t),i=n?EMe(n):Yee(t),s={},o=[];if(typeof t.checked=="boolean"){let l;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?l=r[0]:(l=e(null,"p",[]),r.unshift(l)),l.children.length>0&&l.children.unshift(ti("text"," ")),l.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const l=r[a];(i||a!==0||l.type!=="element"||l.tagName!=="p")&&o.push(ti("text",`
`)),l.type==="element"&&l.tagName==="p"&&!i?o.push(...l.children):o.push(l)}const u=r[r.length-1];return u&&(i||!("tagName"in u)||u.tagName!=="p")&&o.push(ti("text",`
`)),e(t,"li",s,o)}function EMe(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Yee(n[r]);return!!t}function Yee(e){const t=e.spread;return t??e.children.length>1}function TMe(e,t){const n={},r=t.ordered?"ol":"ul",i=os(e,t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,yl(i,!0))}function SMe(e,t){return e(t,"p",os(e,t))}function xMe(e,t){return e.augment(t,ti("root",yl(os(e,t))))}function IMe(e,t){return e(t,"strong",os(e,t))}function AMe(e,t){const n=t.children;let r=-1;const i=t.align||[],s=[];for(;++r<n.length;){const o=n[r].children,a=r===0?"th":"td",u=[];let l=-1;const c=t.align?i.length:o.length;for(;++l<c;){const f=o[l];u.push(e(f,a,{align:i[l]},f?os(e,f):[]))}s[r]=e(n[r],"tr",yl(u,!0))}return e(t,"table",yl([e(s[0].position,"thead",yl([s[0]],!0))].concat(s[1]?e({start:Vee(s[1]),end:zee(s[s.length-1])},"tbody",yl(s.slice(1),!0)):[]),!0))}const oU=9,aU=32;function CMe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(uU(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(uU(t.slice(i),i>0,!1)),s.join("")}function uU(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===oU||s===aU;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===oU||s===aU;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function OMe(e,t){return e.augment(t,ti("text",CMe(String(t.value))))}function PMe(e,t){return e(t,"hr")}const RMe={blockquote:uMe,break:lMe,code:cMe,delete:fMe,emphasis:dMe,footnoteReference:qee,footnote:hMe,heading:pMe,html:mMe,imageReference:gMe,image:yMe,inlineCode:_Me,linkReference:vMe,link:bMe,listItem:wMe,list:TMe,paragraph:SMe,root:xMe,strong:IMe,table:AMe,text:OMe,thematicBreak:PMe,toml:C1,yaml:C1,definition:C1,footnoteDefinition:C1};function C1(){return null}const NMe={}.hasOwnProperty;function kMe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=oMe(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=s,o.handlers={...RMe,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,H$(e,"footnoteDefinition",a=>{const u=String(a.identifier).toUpperCase();NMe.call(i,u)||(i[u]=a)}),o;function s(a,u){if(a&&"data"in a&&a.data){const l=a.data;l.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=l.hName),u.type==="element"&&l.hProperties&&(u.properties={...u.properties,...l.hProperties}),"children"in u&&u.children&&l.hChildren&&(u.children=l.hChildren)}if(a){const l="type"in a?a:{position:a};sMe(l)||(u.position={start:Vee(l),end:zee(l)})}return u}function o(a,u,l,c){return Array.isArray(l)&&(c=l,l={}),s(a,{type:"element",tagName:u,properties:l||{},children:c||[]})}}function Gee(e,t){const n=kMe(e,t),r=jee(n,e,null),i=aMe(n);return i&&r.children.push(ti("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const DMe=function(e,t){return e&&"run"in e?LMe(e,t):MMe(e||t)},$Me=DMe;function LMe(e,t){return(n,r,i)=>{e.run(Gee(n,t),r,s=>{i(s)})}}function MMe(e){return t=>Gee(t,e)}var Kee={exports:{}},FMe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BMe=FMe,jMe=BMe;function Qee(){}function Xee(){}Xee.resetWarningCache=Qee;var UMe=function(){function e(r,i,s,o,a,u){if(u!==jMe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Xee,resetWarningCache:Qee};return n.PropTypes=n,n};Kee.exports=UMe();var VMe=Kee.exports;const ht=Va(VMe);let sv=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};sv.prototype.property={};sv.prototype.normal={};sv.prototype.space=null;function Jee(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new sv(n,r,t)}function qy(e){return e.toLowerCase()}class ua{constructor(t,n){this.property=t,this.attribute=n}}ua.prototype.space=null;ua.prototype.boolean=!1;ua.prototype.booleanish=!1;ua.prototype.overloadedBoolean=!1;ua.prototype.number=!1;ua.prototype.commaSeparated=!1;ua.prototype.spaceSeparated=!1;ua.prototype.commaOrSpaceSeparated=!1;ua.prototype.mustUseProperty=!1;ua.prototype.defined=!1;let zMe=0;const Ut=gh(),Br=gh(),Zee=gh(),ke=gh(),Qn=gh(),Bp=gh(),io=gh();function gh(){return 2**++zMe}const bR=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:Br,commaOrSpaceSeparated:io,commaSeparated:Bp,number:ke,overloadedBoolean:Zee,spaceSeparated:Qn},Symbol.toStringTag,{value:"Module"})),hO=Object.keys(bR);class q$ extends ua{constructor(t,n,r,i){let s=-1;if(super(t,n),lU(this,"space",i),typeof r=="number")for(;++s<hO.length;){const o=hO[s];lU(this,hO[s],(r&bR[o])===bR[o])}}}q$.prototype.defined=!0;function lU(e,t,n){n&&(e[t]=n)}const HMe={}.hasOwnProperty;function Jm(e){const t={},n={};let r;for(r in e.properties)if(HMe.call(e.properties,r)){const i=e.properties[r],s=new q$(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[qy(r)]=r,n[qy(s.attribute)]=r}return new sv(t,n,e.space)}const ete=Jm({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),tte=Jm({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function nte(e,t){return t in e?e[t]:t}function rte(e,t){return nte(e,t.toLowerCase())}const ite=Jm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:rte,properties:{xmlns:null,xmlnsXLink:null}}),ste=Jm({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Br,ariaAutoComplete:null,ariaBusy:Br,ariaChecked:Br,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Qn,ariaCurrent:null,ariaDescribedBy:Qn,ariaDetails:null,ariaDisabled:Br,ariaDropEffect:Qn,ariaErrorMessage:null,ariaExpanded:Br,ariaFlowTo:Qn,ariaGrabbed:Br,ariaHasPopup:null,ariaHidden:Br,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qn,ariaLevel:ke,ariaLive:null,ariaModal:Br,ariaMultiLine:Br,ariaMultiSelectable:Br,ariaOrientation:null,ariaOwns:Qn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Br,ariaReadOnly:Br,ariaRelevant:null,ariaRequired:Br,ariaRoleDescription:Qn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Br,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),qMe=Jm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:rte,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bp,acceptCharset:Qn,accessKey:Qn,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Qn,autoFocus:Ut,autoPlay:Ut,capture:Ut,charSet:null,checked:Ut,cite:null,className:Qn,cols:ke,colSpan:null,content:null,contentEditable:Br,controls:Ut,controlsList:Qn,coords:ke|Bp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:Zee,draggable:Br,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Qn,height:ke,hidden:Ut,high:ke,href:null,hrefLang:null,htmlFor:Qn,httpEquiv:Qn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Qn,itemRef:Qn,itemScope:Ut,itemType:Qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:ke,pattern:null,ping:Qn,placeholder:null,playsInline:Ut,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Qn,required:Ut,reversed:Ut,rows:ke,rowSpan:ke,sandbox:Qn,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Br,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:Br,width:ke,wrap:null,align:null,aLink:null,archive:Qn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Br,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:ke,security:null,unselectable:null}}),WMe=Jm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:nte,properties:{about:io,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bp,g2:Bp,glyphName:Bp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:io,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:io,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:io,rev:io,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:io,requiredFeatures:io,requiredFonts:io,requiredFormats:io,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:io,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:io,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:io,to:null,transform:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),YMe=/^data[-\w.:]+$/i,cU=/-[a-z]/g,GMe=/[A-Z]/g;function sI(e,t){const n=qy(t);let r=t,i=ua;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&YMe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(cU,QMe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!cU.test(s)){let o=s.replace(GMe,KMe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=q$}return new i(r,t)}function KMe(e){return"-"+e.toLowerCase()}function QMe(e){return e.charAt(1).toUpperCase()}const fU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ov=Jee([tte,ete,ite,ste,qMe],"html"),Zm=Jee([tte,ete,ite,ste,WMe],"svg");function XMe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{H$(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var ote={exports:{}},Dn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W$=Symbol.for("react.element"),Y$=Symbol.for("react.portal"),oI=Symbol.for("react.fragment"),aI=Symbol.for("react.strict_mode"),uI=Symbol.for("react.profiler"),lI=Symbol.for("react.provider"),cI=Symbol.for("react.context"),JMe=Symbol.for("react.server_context"),fI=Symbol.for("react.forward_ref"),dI=Symbol.for("react.suspense"),hI=Symbol.for("react.suspense_list"),pI=Symbol.for("react.memo"),mI=Symbol.for("react.lazy"),ZMe=Symbol.for("react.offscreen"),ate;ate=Symbol.for("react.module.reference");function la(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case W$:switch(e=e.type,e){case oI:case uI:case aI:case dI:case hI:return e;default:switch(e=e&&e.$$typeof,e){case JMe:case cI:case fI:case mI:case pI:case lI:return e;default:return t}}case Y$:return t}}}Dn.ContextConsumer=cI;Dn.ContextProvider=lI;Dn.Element=W$;Dn.ForwardRef=fI;Dn.Fragment=oI;Dn.Lazy=mI;Dn.Memo=pI;Dn.Portal=Y$;Dn.Profiler=uI;Dn.StrictMode=aI;Dn.Suspense=dI;Dn.SuspenseList=hI;Dn.isAsyncMode=function(){return!1};Dn.isConcurrentMode=function(){return!1};Dn.isContextConsumer=function(e){return la(e)===cI};Dn.isContextProvider=function(e){return la(e)===lI};Dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===W$};Dn.isForwardRef=function(e){return la(e)===fI};Dn.isFragment=function(e){return la(e)===oI};Dn.isLazy=function(e){return la(e)===mI};Dn.isMemo=function(e){return la(e)===pI};Dn.isPortal=function(e){return la(e)===Y$};Dn.isProfiler=function(e){return la(e)===uI};Dn.isStrictMode=function(e){return la(e)===aI};Dn.isSuspense=function(e){return la(e)===dI};Dn.isSuspenseList=function(e){return la(e)===hI};Dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===oI||e===uI||e===aI||e===dI||e===hI||e===ZMe||typeof e=="object"&&e!==null&&(e.$$typeof===mI||e.$$typeof===pI||e.$$typeof===lI||e.$$typeof===cI||e.$$typeof===fI||e.$$typeof===ate||e.getModuleId!==void 0)};Dn.typeOf=la;ote.exports=Dn;var e4e=ote.exports;const t4e=Va(e4e);function n4e(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function dU(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function ute(e){return e.join(" ").trim()}function hU(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function lte(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var G$={exports:{}},pU=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r4e=/\n/g,i4e=/^\s*/,s4e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o4e=/^:\s*/,a4e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u4e=/^[;\s]*/,l4e=/^\s+|\s+$/g,c4e=`
`,mU="/",gU="*",ld="",f4e="comment",d4e="declaration",h4e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(r4e);g&&(n+=g.length);var y=p.lastIndexOf(c4e);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(g){return g.position=new o(p),l(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function u(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function l(){u(i4e)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=s();if(!(mU!=e.charAt(0)||gU!=e.charAt(1))){for(var g=2;ld!=e.charAt(g)&&(gU!=e.charAt(g)||mU!=e.charAt(g+1));)++g;if(g+=2,ld===e.charAt(g-1))return a("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:f4e,comment:y})}}function d(){var p=s(),g=u(s4e);if(g){if(f(),!u(o4e))return a("property missing ':'");var y=u(a4e),m=p({type:d4e,property:yU(g[0].replace(pU,ld)),value:y?yU(y[0].replace(pU,ld)):ld});return u(u4e),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return l(),h()};function yU(e){return e?e.replace(l4e,ld):ld}var p4e=h4e;function cte(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=p4e(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}G$.exports=cte;G$.exports.default=cte;var m4e=G$.exports;const g4e=Va(m4e),wR={}.hasOwnProperty,y4e=new Set(["table","thead","tbody","tfoot","tr"]);function fte(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(_4e(e,i,r,t)):i.type==="text"?(t.type!=="element"||!y4e.has(t.tagName)||!n4e(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function _4e(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?_3e:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=Zm,e.schema=l),t.properties)for(c in t.properties)wR.call(t.properties,c)&&b4e(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=fte(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&wR.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===N.Fragment;if(!t4e.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const g=v4e(t);u.checked=g&&g.properties?!!g.properties.checked:null,u.index=pO(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=T4e(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=pO(r,t),u.siblingCount=pO(r)),p||(u.node=t),f.length>0?N.createElement(h,u,f):N.createElement(h,u)}function v4e(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function pO(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function b4e(e,t,n,r){const i=sI(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?lte(s):ute(s)),i.property==="style"&&typeof s=="string"&&(s=w4e(s)),i.space&&i.property?e[wR.call(fU,i.property)?fU[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function w4e(e){const t={};try{g4e(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,E4e)]=i}}function E4e(e,t){return t.toUpperCase()}function T4e(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const _U={}.hasOwnProperty,S4e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",O1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function dte(e){for(const s in O1)if(_U.call(O1,s)&&_U.call(e,s)){const o=O1[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${S4e}#${o.id}> for more info)`),delete O1[s]}const t=q3e().use(GLe).use(e.remarkPlugins||[]).use($Me,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(XMe,e),n=new P3e;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=N.createElement(N.Fragment,{},fte({options:e,schema:ov,listDepth:0},r));return e.className&&(i=N.createElement("div",{className:e.className},i)),i}dte.propTypes={children:ht.string,className:ht.string,allowElement:ht.func,allowedElements:ht.arrayOf(ht.string),disallowedElements:ht.arrayOf(ht.string),unwrapDisallowed:ht.bool,remarkPlugins:ht.arrayOf(ht.oneOfType([ht.object,ht.func,ht.arrayOf(ht.oneOfType([ht.bool,ht.string,ht.object,ht.func,ht.arrayOf(ht.any)]))])),rehypePlugins:ht.arrayOf(ht.oneOfType([ht.object,ht.func,ht.arrayOf(ht.oneOfType([ht.bool,ht.string,ht.object,ht.func,ht.arrayOf(ht.any)]))])),sourcePos:ht.bool,rawSourcePos:ht.bool,skipHtml:ht.bool,includeElementIndex:ht.bool,transformLinkUri:ht.oneOfType([ht.func,ht.bool]),linkTarget:ht.oneOfType([ht.func,ht.string]),transformImageUri:ht.func,components:ht.object};const hte=-1,gI=0,NT=1,kT=2,K$=3,Q$=4,X$=5,J$=6,pte=7,mte=8,vU=typeof self=="object"?self:globalThis,x4e=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case gI:case hte:return n(o,i);case NT:{const a=n([],i);for(const u of o)a.push(r(u));return a}case kT:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case K$:return n(new Date(o),i);case Q$:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case X$:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case J$:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case pte:{const{name:a,message:u}=o;return n(new vU[a](u),i)}case mte:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new vU[s](o),i)};return r},bU=e=>x4e(new Map,e)(0),Fh="",{toString:I4e}={},{keys:A4e}=Object,Yg=e=>{const t=typeof e;if(t!=="object"||!e)return[gI,t];const n=I4e.call(e).slice(8,-1);switch(n){case"Array":return[NT,Fh];case"Object":return[kT,Fh];case"Date":return[K$,Fh];case"RegExp":return[Q$,Fh];case"Map":return[X$,Fh];case"Set":return[J$,Fh]}return n.includes("Array")?[NT,n]:n.includes("Error")?[pte,n]:[kT,n]},P1=([e,t])=>e===gI&&(t==="function"||t==="symbol"),C4e=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=Yg(o);switch(a){case gI:{let c=o;switch(u){case"bigint":a=mte,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([hte],o)}return i([a,c],o)}case NT:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case kT:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of A4e(o))(e||!P1(Yg(o[d])))&&c.push([s(d),s(o[d])]);return f}case K$:return i([a,o.toISOString()],o);case Q$:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case X$:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(P1(Yg(d))||P1(Yg(h))))&&c.push([s(d),s(h)]);return f}case J$:{const c=[],f=i([a,c],o);for(const d of o)(e||!P1(Yg(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},wU=(e,{json:t,lossy:n}={})=>{const r=[];return C4e(!(t||n),!!t,new Map,r)(e),r},EU=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?bU(wU(e,t)):structuredClone(e):(e,t)=>bU(wU(e,t));const TU=/[#.]/g;function O4e(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){TU.lastIndex=i;const a=TU.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const P4e=new Set(["button","menu","reset","submit"]),ER={}.hasOwnProperty;function gte(e,t,n){const r=n&&D4e(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=O4e(s,t),l.tagName=l.tagName.toLowerCase(),r&&ER.call(r,l.tagName)&&(l.tagName=r[l.tagName]),R4e(o,l.tagName)){let c;for(c in o)ER.call(o,c)&&N4e(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)TR(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function R4e(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?P4e.has(e.type.toLowerCase()):!("value"in e)}function N4e(e,t,n,r){const i=sI(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=dU(r):i.commaSeparated?o=hU(r):i.commaOrSpaceSeparated?o=dU(hU(r).join(" ")):o=SU(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?k4e(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=SU(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function TR(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)TR(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?TR(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function SU(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||qy(n)===qy(t)))return!0}return n}function k4e(e){const t=[];let n;for(n in e)ER.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function D4e(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const $4e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],L4e=gte(ov,"div"),M4e=gte(Zm,"g",$4e),mO=/\r?\n|\r/g;function F4e(e){const t=String(e),n=[];for(mO.lastIndex=0;mO.test(t);)n.push(mO.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const gd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yte={}.hasOwnProperty,B4e=Object.prototype;function j4e(e,t){const n=t||{};return Z$({file:n.file||void 0,location:!1,schema:n.space==="svg"?Zm:ov,verbose:n.verbose||!1},e)}function Z$(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},$b(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:_te(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=F4e(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},$b(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},$b(e,r,n),n}default:return n=U4e(e,t),n}}function _te(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=Z$(e,t[n]);r.push(i)}return r}function U4e(e,t){const n=e.schema;e.schema=t.namespaceURI===gd.svg?Zm:ov;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;yte.call(B4e,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?M4e:L4e)(t.tagName,i,_te(e,t.childNodes));if($b(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&hp(u.startTag),c=u&&u.endTag&&hp(u.endTag),f=Z$(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function $b(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=V4e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function V4e(e,t,n){const r=hp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)yte.call(n.attrs,o)&&(s[sI(e.schema,o).property]=hp(n.attrs[o]));n.startTag;const a=hp(n.startTag),u=n.endTag?hp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function hp(e){const t=xU({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=xU({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function xU(e){return e.line&&e.column?e:void 0}const IU={}.hasOwnProperty;function vte(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&IU.call(i,e)){const u=String(i[e]);o=IU.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const z4e={},H4e={}.hasOwnProperty,bte=vte("type",{handlers:{root:W4e,element:X4e,text:K4e,comment:Q4e,doctype:G4e}});function q4e(e,t){const r=(t||z4e).space;return bte(e,r==="svg"?Zm:ov)}function W4e(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=e3(e.children,n,t),eg(e,n),n}function Y4e(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=e3(e.children,n,t),eg(e,n),n}function G4e(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return eg(e,t),t}function K4e(e){const t={nodeName:"#text",value:e.value,parentNode:null};return eg(e,t),t}function Q4e(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return eg(e,t),t}function X4e(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Zm);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&H4e.call(e.properties,s)){const u=J4e(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:gd[o],childNodes:[],parentNode:null};return a.childNodes=e3(e.children,a,r),eg(e,a),e.tagName==="template"&&e.content&&(a.content=Y4e(e.content,r)),a}function J4e(e,t,n){const r=sI(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?lte(n):ute(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=gd[r.space]}return i}function e3(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=bte(e[r],n);s.parentNode=t,i.push(s)}return i}function eg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Z4e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],e5e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),ar="";var F;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(F=F||(F={}));const Ss={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function wte(e){return e>=55296&&e<=57343}function t5e(e){return e>=56320&&e<=57343}function n5e(e,t){return(e-55296)*1024+9216+t}function Ete(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Tte(e){return e>=64976&&e<=65007||e5e.has(e)}var ve;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ve=ve||(ve={}));const r5e=65536;class i5e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=r5e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(t5e(n))return this.pos++,this._addGap(),n5e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,F.EOF;return this._err(ve.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;const r=this.html.charCodeAt(n);return r===F.CARRIAGE_RETURN?F.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;let t=this.html.charCodeAt(this.pos);return t===F.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,F.LINE_FEED):t===F.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,wte(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===F.LINE_FEED||t===F.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Ete(t)?this._err(ve.controlCharacterInInputStream):Tte(t)&&this._err(ve.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ht;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ht=Ht||(Ht={}));function Ste(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const yc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),s5e=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var gO;const o5e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),a5e=(gO=String.fromCodePoint)!==null&&gO!==void 0?gO:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function u5e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=o5e.get(e))!==null&&t!==void 0?t:e}var hi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(hi||(hi={}));const l5e=32;var _u;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(_u||(_u={}));function SR(e){return e>=hi.ZERO&&e<=hi.NINE}function c5e(e){return e>=hi.UPPER_A&&e<=hi.UPPER_F||e>=hi.LOWER_A&&e<=hi.LOWER_F}function f5e(e){return e>=hi.UPPER_A&&e<=hi.UPPER_Z||e>=hi.LOWER_A&&e<=hi.LOWER_Z||SR(e)}function d5e(e){return e===hi.EQUALS||f5e(e)}var li;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(li||(li={}));var cd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(cd||(cd={}));class h5e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=li.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=cd.Strict}startEntity(t){this.decodeMode=t,this.state=li.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case li.EntityStart:return t.charCodeAt(n)===hi.NUM?(this.state=li.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=li.NamedEntity,this.stateNamedEntity(t,n));case li.NumericStart:return this.stateNumericStart(t,n);case li.NumericDecimal:return this.stateNumericDecimal(t,n);case li.NumericHex:return this.stateNumericHex(t,n);case li.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|l5e)===hi.LOWER_X?(this.state=li.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=li.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(SR(i)||c5e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(SR(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===hi.SEMI)this.consumed+=1;else if(this.decodeMode===cd.Strict)return 0;return this.emitCodePoint(u5e(this.result),this.consumed),this.errors&&(t!==hi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&_u.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=Ite(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===cd.Attribute&&(s===0||d5e(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&_u.VALUE_LENGTH)>>14,s!==0){if(o===hi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==cd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&_u.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~_u.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case li.NamedEntity:return this.result!==0&&(this.decodeMode!==cd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case li.NumericDecimal:return this.emitNumericEntity(0,2);case li.NumericHex:return this.emitNumericEntity(0,3);case li.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case li.EntityStart:return 0}}}function xte(e){let t="";const n=new h5e(e,r=>t+=a5e(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function Ite(e,t,n,r){const i=(t&_u.BRANCH_LENGTH)>>7,s=t&_u.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}xte(yc);xte(s5e);var we;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(we=we||(we={}));var nf;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(nf=nf||(nf={}));var ao;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ao=ao||(ao={}));var le;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(le=le||(le={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(b=b||(b={}));const p5e=new Map([[le.A,b.A],[le.ADDRESS,b.ADDRESS],[le.ANNOTATION_XML,b.ANNOTATION_XML],[le.APPLET,b.APPLET],[le.AREA,b.AREA],[le.ARTICLE,b.ARTICLE],[le.ASIDE,b.ASIDE],[le.B,b.B],[le.BASE,b.BASE],[le.BASEFONT,b.BASEFONT],[le.BGSOUND,b.BGSOUND],[le.BIG,b.BIG],[le.BLOCKQUOTE,b.BLOCKQUOTE],[le.BODY,b.BODY],[le.BR,b.BR],[le.BUTTON,b.BUTTON],[le.CAPTION,b.CAPTION],[le.CENTER,b.CENTER],[le.CODE,b.CODE],[le.COL,b.COL],[le.COLGROUP,b.COLGROUP],[le.DD,b.DD],[le.DESC,b.DESC],[le.DETAILS,b.DETAILS],[le.DIALOG,b.DIALOG],[le.DIR,b.DIR],[le.DIV,b.DIV],[le.DL,b.DL],[le.DT,b.DT],[le.EM,b.EM],[le.EMBED,b.EMBED],[le.FIELDSET,b.FIELDSET],[le.FIGCAPTION,b.FIGCAPTION],[le.FIGURE,b.FIGURE],[le.FONT,b.FONT],[le.FOOTER,b.FOOTER],[le.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[le.FORM,b.FORM],[le.FRAME,b.FRAME],[le.FRAMESET,b.FRAMESET],[le.H1,b.H1],[le.H2,b.H2],[le.H3,b.H3],[le.H4,b.H4],[le.H5,b.H5],[le.H6,b.H6],[le.HEAD,b.HEAD],[le.HEADER,b.HEADER],[le.HGROUP,b.HGROUP],[le.HR,b.HR],[le.HTML,b.HTML],[le.I,b.I],[le.IMG,b.IMG],[le.IMAGE,b.IMAGE],[le.INPUT,b.INPUT],[le.IFRAME,b.IFRAME],[le.KEYGEN,b.KEYGEN],[le.LABEL,b.LABEL],[le.LI,b.LI],[le.LINK,b.LINK],[le.LISTING,b.LISTING],[le.MAIN,b.MAIN],[le.MALIGNMARK,b.MALIGNMARK],[le.MARQUEE,b.MARQUEE],[le.MATH,b.MATH],[le.MENU,b.MENU],[le.META,b.META],[le.MGLYPH,b.MGLYPH],[le.MI,b.MI],[le.MO,b.MO],[le.MN,b.MN],[le.MS,b.MS],[le.MTEXT,b.MTEXT],[le.NAV,b.NAV],[le.NOBR,b.NOBR],[le.NOFRAMES,b.NOFRAMES],[le.NOEMBED,b.NOEMBED],[le.NOSCRIPT,b.NOSCRIPT],[le.OBJECT,b.OBJECT],[le.OL,b.OL],[le.OPTGROUP,b.OPTGROUP],[le.OPTION,b.OPTION],[le.P,b.P],[le.PARAM,b.PARAM],[le.PLAINTEXT,b.PLAINTEXT],[le.PRE,b.PRE],[le.RB,b.RB],[le.RP,b.RP],[le.RT,b.RT],[le.RTC,b.RTC],[le.RUBY,b.RUBY],[le.S,b.S],[le.SCRIPT,b.SCRIPT],[le.SECTION,b.SECTION],[le.SELECT,b.SELECT],[le.SOURCE,b.SOURCE],[le.SMALL,b.SMALL],[le.SPAN,b.SPAN],[le.STRIKE,b.STRIKE],[le.STRONG,b.STRONG],[le.STYLE,b.STYLE],[le.SUB,b.SUB],[le.SUMMARY,b.SUMMARY],[le.SUP,b.SUP],[le.TABLE,b.TABLE],[le.TBODY,b.TBODY],[le.TEMPLATE,b.TEMPLATE],[le.TEXTAREA,b.TEXTAREA],[le.TFOOT,b.TFOOT],[le.TD,b.TD],[le.TH,b.TH],[le.THEAD,b.THEAD],[le.TITLE,b.TITLE],[le.TR,b.TR],[le.TRACK,b.TRACK],[le.TT,b.TT],[le.U,b.U],[le.UL,b.UL],[le.SVG,b.SVG],[le.VAR,b.VAR],[le.WBR,b.WBR],[le.XMP,b.XMP]]);function tg(e){var t;return(t=p5e.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const Oe=b,m5e={[we.HTML]:new Set([Oe.ADDRESS,Oe.APPLET,Oe.AREA,Oe.ARTICLE,Oe.ASIDE,Oe.BASE,Oe.BASEFONT,Oe.BGSOUND,Oe.BLOCKQUOTE,Oe.BODY,Oe.BR,Oe.BUTTON,Oe.CAPTION,Oe.CENTER,Oe.COL,Oe.COLGROUP,Oe.DD,Oe.DETAILS,Oe.DIR,Oe.DIV,Oe.DL,Oe.DT,Oe.EMBED,Oe.FIELDSET,Oe.FIGCAPTION,Oe.FIGURE,Oe.FOOTER,Oe.FORM,Oe.FRAME,Oe.FRAMESET,Oe.H1,Oe.H2,Oe.H3,Oe.H4,Oe.H5,Oe.H6,Oe.HEAD,Oe.HEADER,Oe.HGROUP,Oe.HR,Oe.HTML,Oe.IFRAME,Oe.IMG,Oe.INPUT,Oe.LI,Oe.LINK,Oe.LISTING,Oe.MAIN,Oe.MARQUEE,Oe.MENU,Oe.META,Oe.NAV,Oe.NOEMBED,Oe.NOFRAMES,Oe.NOSCRIPT,Oe.OBJECT,Oe.OL,Oe.P,Oe.PARAM,Oe.PLAINTEXT,Oe.PRE,Oe.SCRIPT,Oe.SECTION,Oe.SELECT,Oe.SOURCE,Oe.STYLE,Oe.SUMMARY,Oe.TABLE,Oe.TBODY,Oe.TD,Oe.TEMPLATE,Oe.TEXTAREA,Oe.TFOOT,Oe.TH,Oe.THEAD,Oe.TITLE,Oe.TR,Oe.TRACK,Oe.UL,Oe.WBR,Oe.XMP]),[we.MATHML]:new Set([Oe.MI,Oe.MO,Oe.MN,Oe.MS,Oe.MTEXT,Oe.ANNOTATION_XML]),[we.SVG]:new Set([Oe.TITLE,Oe.FOREIGN_OBJECT,Oe.DESC]),[we.XLINK]:new Set,[we.XML]:new Set,[we.XMLNS]:new Set};function Ate(e){return e===Oe.H1||e===Oe.H2||e===Oe.H3||e===Oe.H4||e===Oe.H5||e===Oe.H6}le.STYLE,le.SCRIPT,le.XMP,le.IFRAME,le.NOEMBED,le.NOFRAMES,le.PLAINTEXT;const g5e=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var j;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(j||(j={}));const $r={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function ey(e){return e>=F.DIGIT_0&&e<=F.DIGIT_9}function _0(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_Z}function y5e(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_Z}function _c(e){return y5e(e)||_0(e)}function xR(e){return _c(e)||ey(e)}function Cte(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_F}function Ote(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_F}function _5e(e){return ey(e)||Cte(e)||Ote(e)}function R1(e){return e+32}function Pte(e){return e===F.SPACE||e===F.LINE_FEED||e===F.TABULATION||e===F.FORM_FEED}function v5e(e){return e===F.EQUALS_SIGN||xR(e)}function AU(e){return Pte(e)||e===F.SOLIDUS||e===F.GREATER_THAN_SIGN}class b5e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new i5e(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ht.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ht.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ht.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ht.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Ste(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ve.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=tg(t.tagName),t.type===Ht.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ve.endTagWithAttributes),t.selfClosing&&this._err(ve.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ht.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ht.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ht.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ht.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Pte(t)?Ht.WHITESPACE_CHARACTER:t===F.NULL?Ht.NULL_CHARACTER:Ht.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ht.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=yc[0];s>=0&&(s=Ite(yc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=yc[s];const a=o&_u.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==F.SEMICOLON&&this._isCharacterReferenceInAttribute()&&v5e(this.preprocessor.peek(1))?(n=[F.AMPERSAND],s+=u):(n=u===0?[yc[s]&~_u.VALUE_LENGTH]:u===1?[yc[++s]]:[yc[++s],yc[++s]],r=0,i=t!==F.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(ve.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case j.DATA:{this._stateData(t);break}case j.RCDATA:{this._stateRcdata(t);break}case j.RAWTEXT:{this._stateRawtext(t);break}case j.SCRIPT_DATA:{this._stateScriptData(t);break}case j.PLAINTEXT:{this._statePlaintext(t);break}case j.TAG_OPEN:{this._stateTagOpen(t);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case j.TAG_NAME:{this._stateTagName(t);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case j.BOGUS_COMMENT:{this._stateBogusComment(t);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case j.COMMENT_START:{this._stateCommentStart(t);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case j.COMMENT:{this._stateComment(t);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case j.COMMENT_END:{this._stateCommentEnd(t);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case j.DOCTYPE:{this._stateDoctype(t);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case j.CDATA_SECTION:{this._stateCdataSection(t);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case j.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case j.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case j.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case j.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case j.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case j.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case F.AMPERSAND:{this.returnState=j.DATA,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitCodePoint(t);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case F.AMPERSAND:{this.returnState=j.RCDATA,this.state=j.CHARACTER_REFERENCE;break}case F.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(_c(t))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(t);else switch(t){case F.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case F.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case F.QUESTION_MARK:{this._err(ve.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t);break}case F.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(_c(t))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(t);else switch(t){case F.GREATER_THAN_SIGN:{this._err(ve.missingEndTagName),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.tagName+=ar;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(_0(t)?R1(t):t)}}_stateRcdataLessThanSign(t){t===F.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){_c(t)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case F.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case F.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===F.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){_c(t)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case F.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case F.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){_c(t)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===F.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===F.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===F.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:_c(t)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){_c(t)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ss.SCRIPT,!1)&&AU(this.preprocessor.peek(Ss.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ss.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===F.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ss.SCRIPT,!1)&&AU(this.preprocessor.peek(Ss.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ss.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._err(ve.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:{this._err(ve.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.name+=ar;break}default:this.currentAttr.name+=String.fromCodePoint(_0(t)?R1(t):t)}}_stateAfterAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case F.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=ar;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case F.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=ar;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_UNQUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=ar;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:case F.EQUALS_SIGN:case F.GRAVE_ACCENT:{this._err(ve.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case F.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=ar;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ss.DASH_DASH,!0)?(this._createCommentToken(Ss.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(Ss.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ss.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(Ss.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(ve.cdataInHtmlContent),this._createCommentToken(Ss.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ve.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=j.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=j.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case F.LESS_THAN_SIGN:{n.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=ar;break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case F.EXCLAMATION_MARK:{n.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case F.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=j.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===F.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===F.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==F.GREATER_THAN_SIGN&&t!==F.EOF&&this._err(ve.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case F.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case F.HYPHEN_MINUS:{n.data+="-";break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=j.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{n.data+="--!",this.state=j.COMMENT_END_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ve.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=j.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case F.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(_0(t))this._createDoctypeToken(String.fromCharCode(R1(t))),this.state=j.DOCTYPE_NAME;else switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.NULL:{this._err(ve.unexpectedNullCharacter),this._createDoctypeToken(ar),this.state=j.DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.name+=ar;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(_0(t)?R1(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ss.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ss.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ve.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=ar;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=ar;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=ar;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=ar;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.NULL:{this._err(ve.unexpectedNullCharacter);break}case F.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case F.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case F.EOF:{this._err(ve.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===F.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA;break}case F.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===F.NUMBER_SIGN?this.state=j.NUMERIC_CHARACTER_REFERENCE:xR(t)?(this.state=j.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this.state=j.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){xR(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===F.SEMICOLON&&this._err(ve.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===F.LATIN_SMALL_X||t===F.LATIN_CAPITAL_X?this.state=j.HEXADEMICAL_CHARACTER_REFERENCE_START:ey(t)?(this.state=j.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(F.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){_5e(t)?(this.state=j.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(F.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Cte(t)?this.charRefCode=this.charRefCode*16+t-55:Ote(t)?this.charRefCode=this.charRefCode*16+t-87:ey(t)?this.charRefCode=this.charRefCode*16+t-48:t===F.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){ey(t)?this.charRefCode=this.charRefCode*10+t-48:t===F.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===F.NULL)this._err(ve.nullCharacterReference),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ve.characterReferenceOutsideUnicodeRange),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(wte(this.charRefCode))this._err(ve.surrogateCharacterReference),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(Tte(this.charRefCode))this._err(ve.noncharacterCharacterReference);else if(Ete(this.charRefCode)||this.charRefCode===F.CARRIAGE_RETURN){this._err(ve.controlCharacterReference);const n=g5e.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const Rte=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),CU=new Set([...Rte,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),N1=new Map([[b.APPLET,we.HTML],[b.CAPTION,we.HTML],[b.HTML,we.HTML],[b.MARQUEE,we.HTML],[b.OBJECT,we.HTML],[b.TABLE,we.HTML],[b.TD,we.HTML],[b.TEMPLATE,we.HTML],[b.TH,we.HTML],[b.ANNOTATION_XML,we.MATHML],[b.MI,we.MATHML],[b.MN,we.MATHML],[b.MO,we.MATHML],[b.MS,we.MATHML],[b.MTEXT,we.MATHML],[b.DESC,we.SVG],[b.FOREIGN_OBJECT,we.SVG],[b.TITLE,we.SVG]]),w5e=[b.H1,b.H2,b.H3,b.H4,b.H5,b.H6],E5e=[b.TR,b.TEMPLATE,b.HTML],T5e=[b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML],S5e=[b.TABLE,b.TEMPLATE,b.HTML],x5e=[b.TD,b.TH];class I5e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===we.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==we.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(w5e,we.HTML)}popUntilTableCellPopped(){this.popUntilPopped(x5e,we.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(S5e,we.HTML)}clearBackToTableBodyContext(){this.clearBackTo(T5e,we.HTML)}clearBackToTableRowContext(){this.clearBackTo(E5e,we.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if(N1.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(Ate(n)&&r===we.HTML)return!0;if(N1.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if((r===b.UL||r===b.OL)&&i===we.HTML||N1.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if(r===b.BUTTON&&i===we.HTML||N1.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===we.HTML){if(r===t)return!0;if(r===b.TABLE||r===b.TEMPLATE||r===b.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===we.HTML){if(n===b.TBODY||n===b.THEAD||n===b.TFOOT)return!0;if(n===b.TABLE||n===b.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===we.HTML){if(r===t)return!0;if(r!==b.OPTION&&r!==b.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Rte.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;CU.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&CU.has(this.currentTagId);)this.pop()}}const yO=3;var Ta;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ta=Ta||(Ta={}));const OU={type:Ta.Marker};class A5e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Ta.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<yO)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<yO)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=yO&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(OU)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ta.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ta.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(OU);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ta.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ta.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ta.Element&&n.element===t)}}function PU(e){return{nodeName:"#text",value:e,parentNode:null}}const Wh={createDocument(){return{nodeName:"#document",mode:ao.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Wh.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Wh.isTextNode(n)){n.value+=t;return}}Wh.appendChild(e,PU(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Wh.isTextNode(r)?r.value+=t:Wh.insertBefore(e,PU(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Nte="html",C5e="about:legacy-compat",O5e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",kte=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],P5e=[...kte,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],R5e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Dte=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],N5e=[...Dte,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function RU(e,t){return t.some(n=>e.startsWith(n))}function k5e(e){return e.name===Nte&&e.publicId===null&&(e.systemId===null||e.systemId===C5e)}function D5e(e){if(e.name!==Nte)return ao.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===O5e)return ao.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),R5e.has(n))return ao.QUIRKS;let r=t===null?P5e:kte;if(RU(n,r))return ao.QUIRKS;if(r=t===null?Dte:N5e,RU(n,r))return ao.LIMITED_QUIRKS}return ao.NO_QUIRKS}const NU={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},$5e="definitionurl",L5e="definitionURL",M5e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),F5e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:we.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:we.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:we.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:we.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:we.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:we.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:we.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:we.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:we.XML}],["xml:space",{prefix:"xml",name:"space",namespace:we.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:we.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:we.XMLNS}]]),B5e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),j5e=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function U5e(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===nf.COLOR||r===nf.SIZE||r===nf.FACE)||j5e.has(t)}function $te(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===$5e){e.attrs[t].name=L5e;break}}function Lte(e){for(let t=0;t<e.attrs.length;t++){const n=M5e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function t3(e){for(let t=0;t<e.attrs.length;t++){const n=F5e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function V5e(e){const t=B5e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=tg(e.tagName))}function z5e(e,t){return t===we.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function H5e(e,t,n){if(t===we.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===nf.ENCODING){const i=n[r].value.toLowerCase();return i===NU.TEXT_HTML||i===NU.APPLICATION_XML}}return t===we.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function q5e(e,t,n,r){return(!r||r===we.HTML)&&H5e(e,t,n)||(!r||r===we.MATHML)&&z5e(e,t)}const W5e="hidden",Y5e=8,G5e=3;var G;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(G||(G={}));const K5e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Mte=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),kU={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Wh,onParseError:null};let DU=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=G.INITIAL,this.originalInsertionMode=G.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...kU,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new b5e(this.options,this),this.activeFormattingElements=new A5e(this.treeAdapter),this.fragmentContextID=r?tg(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new I5e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...kU,...n};t??(t=r.treeAdapter.createElement(le.TEMPLATE,we.HTML,[]));const i=r.treeAdapter.createElement("documentmock",we.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===b.TEMPLATE&&s.tmplInsertionModeStack.unshift(G.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:K5e,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===we.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,we.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=G.TEXT}switchToPlaintextParsing(){this.insertionMode=G.TEXT,this.originalInsertionMode=G.IN_BODY,this.tokenizer.state=$r.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===le.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==we.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=$r.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=$r.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=$r.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=$r.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,we.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,we.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(le.HTML,we.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Ht.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===le.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===we.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&!this._isIntegrationPoint(r,n,we.HTML)}_processToken(t){switch(t.type){case Ht.CHARACTER:{this.onCharacter(t);break}case Ht.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ht.COMMENT:{this.onComment(t);break}case Ht.DOCTYPE:{this.onDoctype(t);break}case Ht.START_TAG:{this._processStartTag(t);break}case Ht.END_TAG:{this.onEndTag(t);break}case Ht.EOF:{this.onEof(t);break}case Ht.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return q5e(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ta.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=G.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=G.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=G.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=G.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=G.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=G.IN_TABLE;return}case b.BODY:{this.insertionMode=G.IN_BODY;return}case b.FRAMESET:{this.insertionMode=G.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?G.AFTER_HEAD:G.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=G.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=G.IN_HEAD;return}break}}this.insertionMode=G.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=G.IN_SELECT_IN_TABLE;return}}this.insertionMode=G.IN_SELECT}_isElementCausesFosterParenting(t){return Mte.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===we.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return m5e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){x8e(this,t);return}switch(this.insertionMode){case G.INITIAL:{Gg(this,t);break}case G.BEFORE_HTML:{ty(this,t);break}case G.BEFORE_HEAD:{ny(this,t);break}case G.IN_HEAD:{ry(this,t);break}case G.IN_HEAD_NO_SCRIPT:{iy(this,t);break}case G.AFTER_HEAD:{sy(this,t);break}case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:{Bte(this,t);break}case G.TEXT:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{_O(this,t);break}case G.IN_TABLE_TEXT:{qte(this,t);break}case G.IN_COLUMN_GROUP:{DT(this,t);break}case G.AFTER_BODY:{$T(this,t);break}case G.AFTER_AFTER_BODY:{Lb(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){S8e(this,t);return}switch(this.insertionMode){case G.INITIAL:{Gg(this,t);break}case G.BEFORE_HTML:{ty(this,t);break}case G.BEFORE_HEAD:{ny(this,t);break}case G.IN_HEAD:{ry(this,t);break}case G.IN_HEAD_NO_SCRIPT:{iy(this,t);break}case G.AFTER_HEAD:{sy(this,t);break}case G.TEXT:{this._insertCharacters(t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{_O(this,t);break}case G.IN_COLUMN_GROUP:{DT(this,t);break}case G.AFTER_BODY:{$T(this,t);break}case G.AFTER_AFTER_BODY:{Lb(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){IR(this,t);return}switch(this.insertionMode){case G.INITIAL:case G.BEFORE_HTML:case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_TEMPLATE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:{IR(this,t);break}case G.IN_TABLE_TEXT:{Kg(this,t);break}case G.AFTER_BODY:{nFe(this,t);break}case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{rFe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case G.INITIAL:{iFe(this,t);break}case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:{this._err(t,ve.misplacedDoctype);break}case G.IN_TABLE_TEXT:{Kg(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ve.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?I8e(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case G.INITIAL:{Gg(this,t);break}case G.BEFORE_HTML:{sFe(this,t);break}case G.BEFORE_HEAD:{aFe(this,t);break}case G.IN_HEAD:{za(this,t);break}case G.IN_HEAD_NO_SCRIPT:{cFe(this,t);break}case G.AFTER_HEAD:{dFe(this,t);break}case G.IN_BODY:{as(this,t);break}case G.IN_TABLE:{dm(this,t);break}case G.IN_TABLE_TEXT:{Kg(this,t);break}case G.IN_CAPTION:{u8e(this,t);break}case G.IN_COLUMN_GROUP:{i3(this,t);break}case G.IN_TABLE_BODY:{vI(this,t);break}case G.IN_ROW:{bI(this,t);break}case G.IN_CELL:{f8e(this,t);break}case G.IN_SELECT:{Gte(this,t);break}case G.IN_SELECT_IN_TABLE:{h8e(this,t);break}case G.IN_TEMPLATE:{m8e(this,t);break}case G.AFTER_BODY:{y8e(this,t);break}case G.IN_FRAMESET:{_8e(this,t);break}case G.AFTER_FRAMESET:{b8e(this,t);break}case G.AFTER_AFTER_BODY:{E8e(this,t);break}case G.AFTER_AFTER_FRAMESET:{T8e(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?A8e(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case G.INITIAL:{Gg(this,t);break}case G.BEFORE_HTML:{oFe(this,t);break}case G.BEFORE_HEAD:{uFe(this,t);break}case G.IN_HEAD:{lFe(this,t);break}case G.IN_HEAD_NO_SCRIPT:{fFe(this,t);break}case G.AFTER_HEAD:{hFe(this,t);break}case G.IN_BODY:{_I(this,t);break}case G.TEXT:{JFe(this,t);break}case G.IN_TABLE:{Wy(this,t);break}case G.IN_TABLE_TEXT:{Kg(this,t);break}case G.IN_CAPTION:{l8e(this,t);break}case G.IN_COLUMN_GROUP:{c8e(this,t);break}case G.IN_TABLE_BODY:{AR(this,t);break}case G.IN_ROW:{Yte(this,t);break}case G.IN_CELL:{d8e(this,t);break}case G.IN_SELECT:{Kte(this,t);break}case G.IN_SELECT_IN_TABLE:{p8e(this,t);break}case G.IN_TEMPLATE:{g8e(this,t);break}case G.AFTER_BODY:{Xte(this,t);break}case G.IN_FRAMESET:{v8e(this,t);break}case G.AFTER_FRAMESET:{w8e(this,t);break}case G.AFTER_AFTER_BODY:{Lb(this,t);break}}}onEof(t){switch(this.insertionMode){case G.INITIAL:{Gg(this,t);break}case G.BEFORE_HTML:{ty(this,t);break}case G.BEFORE_HEAD:{ny(this,t);break}case G.IN_HEAD:{ry(this,t);break}case G.IN_HEAD_NO_SCRIPT:{iy(this,t);break}case G.AFTER_HEAD:{sy(this,t);break}case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:{zte(this,t);break}case G.TEXT:{ZFe(this,t);break}case G.IN_TABLE_TEXT:{Kg(this,t);break}case G.IN_TEMPLATE:{Qte(this,t);break}case G.AFTER_BODY:case G.IN_FRAMESET:case G.AFTER_FRAMESET:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{r3(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===F.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.TEXT:case G.IN_COLUMN_GROUP:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:{this._insertCharacters(t);break}case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:case G.AFTER_BODY:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{Fte(this,t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{_O(this,t);break}case G.IN_TABLE_TEXT:{Hte(this,t);break}}}};function Q5e(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Vte(e,t),n}function X5e(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function J5e(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=G5e;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=Z5e(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function Z5e(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function eFe(e,t,n){const r=e.treeAdapter.getTagName(t),i=tg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===b.TEMPLATE&&s===we.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function tFe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function n3(e,t){for(let n=0;n<Y5e;n++){const r=Q5e(e,t);if(!r)break;const i=X5e(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=J5e(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&eFe(e,o,s),tFe(e,i,r)}}function IR(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function nFe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function rFe(e,t){e._appendCommentNode(t,e.document)}function r3(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function iFe(e,t){e._setDocumentType(t);const n=t.forceQuirks?ao.QUIRKS:D5e(t);k5e(t)||e._err(t,ve.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=G.BEFORE_HTML}function Gg(e,t){e._err(t,ve.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ao.QUIRKS),e.insertionMode=G.BEFORE_HTML,e._processToken(t)}function sFe(e,t){t.tagID===b.HTML?(e._insertElement(t,we.HTML),e.insertionMode=G.BEFORE_HEAD):ty(e,t)}function oFe(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&ty(e,t)}function ty(e,t){e._insertFakeRootElement(),e.insertionMode=G.BEFORE_HEAD,e._processToken(t)}function aFe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.HEAD:{e._insertElement(t,we.HTML),e.headElement=e.openElements.current,e.insertionMode=G.IN_HEAD;break}default:ny(e,t)}}function uFe(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?ny(e,t):e._err(t,ve.endTagWithoutMatchingOpenElement)}function ny(e,t){e._insertFakeElement(le.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=G.IN_HEAD,e._processToken(t)}function za(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,$r.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,$r.RAWTEXT):(e._insertElement(t,we.HTML),e.insertionMode=G.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,$r.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,$r.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=G.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(G.IN_TEMPLATE);break}case b.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:ry(e,t)}}function lFe(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=G.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{ry(e,t);break}case b.TEMPLATE:{yh(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function yh(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,ve.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ve.endTagWithoutMatchingOpenElement)}function ry(e,t){e.openElements.pop(),e.insertionMode=G.AFTER_HEAD,e._processToken(t)}function cFe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{za(e,t);break}case b.NOSCRIPT:{e._err(t,ve.nestedNoscriptInHead);break}default:iy(e,t)}}function fFe(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=G.IN_HEAD;break}case b.BR:{iy(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function iy(e,t){const n=t.type===Ht.EOF?ve.openElementsLeftAfterEof:ve.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=G.IN_HEAD,e._processToken(t)}function dFe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BODY:{e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=G.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,we.HTML),e.insertionMode=G.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,ve.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),za(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:sy(e,t)}}function hFe(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{sy(e,t);break}case b.TEMPLATE:{yh(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function sy(e,t){e._insertFakeElement(le.BODY,b.BODY),e.insertionMode=G.IN_BODY,yI(e,t)}function yI(e,t){switch(t.type){case Ht.CHARACTER:{Bte(e,t);break}case Ht.WHITESPACE_CHARACTER:{Fte(e,t);break}case Ht.COMMENT:{IR(e,t);break}case Ht.START_TAG:{as(e,t);break}case Ht.END_TAG:{_I(e,t);break}case Ht.EOF:{zte(e,t);break}}}function Fte(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Bte(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function pFe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function mFe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function gFe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_FRAMESET)}function yFe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML)}function _Fe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),Ate(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,we.HTML)}function vFe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function bFe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),n||(e.formElement=e.openElements.current))}function wFe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===b.LI&&i===b.LI||(n===b.DD||n===b.DT)&&(i===b.DD||i===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==b.ADDRESS&&i!==b.DIV&&i!==b.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML)}function EFe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.tokenizer.state=$r.PLAINTEXT}function TFe(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.framesetOk=!1}function SFe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(le.A);n&&(n3(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function xFe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function IFe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(n3(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function AFe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function CFe(e,t){e.treeAdapter.getDocumentMode(e.document)!==ao.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=G.IN_TABLE}function jte(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,we.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ute(e){const t=Ste(e,nf.TYPE);return t!=null&&t.toLowerCase()===W5e}function OFe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,we.HTML),Ute(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function PFe(e,t){e._appendElement(t,we.HTML),t.ackSelfClosing=!0}function RFe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,we.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function NFe(e,t){t.tagName=le.IMG,t.tagID=b.IMG,jte(e,t)}function kFe(e,t){e._insertElement(t,we.HTML),e.skipNextNewLine=!0,e.tokenizer.state=$r.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=G.TEXT}function DFe(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,$r.RAWTEXT)}function $Fe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,$r.RAWTEXT)}function $U(e,t){e._switchToTextParsing(t,$r.RAWTEXT)}function LFe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===G.IN_TABLE||e.insertionMode===G.IN_CAPTION||e.insertionMode===G.IN_TABLE_BODY||e.insertionMode===G.IN_ROW||e.insertionMode===G.IN_CELL?G.IN_SELECT_IN_TABLE:G.IN_SELECT}function MFe(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML)}function FFe(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,we.HTML)}function BFe(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,we.HTML)}function jFe(e,t){e._reconstructActiveFormattingElements(),$te(t),t3(t),t.selfClosing?e._appendElement(t,we.MATHML):e._insertElement(t,we.MATHML),t.ackSelfClosing=!0}function UFe(e,t){e._reconstructActiveFormattingElements(),Lte(t),t3(t),t.selfClosing?e._appendElement(t,we.SVG):e._insertElement(t,we.SVG),t.ackSelfClosing=!0}function LU(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML)}function as(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{xFe(e,t);break}case b.A:{SFe(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{_Fe(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{yFe(e,t);break}case b.LI:case b.DD:case b.DT:{wFe(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{jte(e,t);break}case b.HR:{RFe(e,t);break}case b.RB:case b.RTC:{FFe(e,t);break}case b.RT:case b.RP:{BFe(e,t);break}case b.PRE:case b.LISTING:{vFe(e,t);break}case b.XMP:{DFe(e,t);break}case b.SVG:{UFe(e,t);break}case b.HTML:{pFe(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{za(e,t);break}case b.BODY:{mFe(e,t);break}case b.FORM:{bFe(e,t);break}case b.NOBR:{IFe(e,t);break}case b.MATH:{jFe(e,t);break}case b.TABLE:{CFe(e,t);break}case b.INPUT:{OFe(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{PFe(e,t);break}case b.IMAGE:{NFe(e,t);break}case b.BUTTON:{TFe(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{AFe(e,t);break}case b.IFRAME:{$Fe(e,t);break}case b.SELECT:{LFe(e,t);break}case b.OPTION:case b.OPTGROUP:{MFe(e,t);break}case b.NOEMBED:{$U(e,t);break}case b.FRAMESET:{gFe(e,t);break}case b.TEXTAREA:{kFe(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?$U(e,t):LU(e,t);break}case b.PLAINTEXT:{EFe(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:LU(e,t)}}function VFe(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=G.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function zFe(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=G.AFTER_BODY,Xte(e,t))}function HFe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function qFe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function WFe(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(le.P,b.P),e._closePElement()}function YFe(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function GFe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function KFe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function QFe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function XFe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(le.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function Vte(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function _I(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{n3(e,t);break}case b.P:{WFe(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{HFe(e,t);break}case b.LI:{YFe(e);break}case b.DD:case b.DT:{GFe(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{KFe(e);break}case b.BR:{XFe(e);break}case b.BODY:{VFe(e,t);break}case b.HTML:{zFe(e,t);break}case b.FORM:{qFe(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{QFe(e,t);break}case b.TEMPLATE:{yh(e,t);break}default:Vte(e,t)}}function zte(e,t){e.tmplInsertionModeStack.length>0?Qte(e,t):r3(e,t)}function JFe(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function ZFe(e,t){e._err(t,ve.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function _O(e,t){if(Mte.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=G.IN_TABLE_TEXT,t.type){case Ht.CHARACTER:{qte(e,t);break}case Ht.WHITESPACE_CHARACTER:{Hte(e,t);break}}else av(e,t)}function e8e(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_CAPTION}function t8e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_COLUMN_GROUP}function n8e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(le.COLGROUP,b.COLGROUP),e.insertionMode=G.IN_COLUMN_GROUP,i3(e,t)}function r8e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_TABLE_BODY}function i8e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(le.TBODY,b.TBODY),e.insertionMode=G.IN_TABLE_BODY,vI(e,t)}function s8e(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function o8e(e,t){Ute(t)?e._appendElement(t,we.HTML):av(e,t),t.ackSelfClosing=!0}function a8e(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,we.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function dm(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{i8e(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{za(e,t);break}case b.COL:{n8e(e,t);break}case b.FORM:{a8e(e,t);break}case b.TABLE:{s8e(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{r8e(e,t);break}case b.INPUT:{o8e(e,t);break}case b.CAPTION:{e8e(e,t);break}case b.COLGROUP:{t8e(e,t);break}default:av(e,t)}}function Wy(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{yh(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:av(e,t)}}function av(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,yI(e,t),e.fosterParentingEnabled=n}function Hte(e,t){e.pendingCharacterTokens.push(t)}function qte(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Kg(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)av(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Wte=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function u8e(e,t){const n=t.tagID;Wte.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_TABLE,dm(e,t)):as(e,t)}function l8e(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_TABLE,n===b.TABLE&&Wy(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:_I(e,t)}}function i3(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.COL:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{za(e,t);break}default:DT(e,t)}}function c8e(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=G.IN_TABLE);break}case b.TEMPLATE:{yh(e,t);break}case b.COL:break;default:DT(e,t)}}function DT(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=G.IN_TABLE,e._processToken(t))}function vI(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(le.TR,b.TR),e.insertionMode=G.IN_ROW,bI(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE,dm(e,t));break}default:dm(e,t)}}function AR(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE,Wy(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:Wy(e,t)}}function bI(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,vI(e,t));break}default:dm(e,t)}}function Yte(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,AR(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,AR(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:Wy(e,t)}}function f8e(e,t){const n=t.tagID;Wte.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),bI(e,t)):as(e,t)}function d8e(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Yte(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:_I(e,t)}}function Gte(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,we.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,we.HTML);break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{za(e,t);break}}}function Kte(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{yh(e,t);break}}}function h8e(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Gte(e,t)}function p8e(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Kte(e,t)}function m8e(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{za(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=G.IN_TABLE,e.insertionMode=G.IN_TABLE,dm(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=G.IN_COLUMN_GROUP,e.insertionMode=G.IN_COLUMN_GROUP,i3(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=G.IN_TABLE_BODY,e.insertionMode=G.IN_TABLE_BODY,vI(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=G.IN_ROW,e.insertionMode=G.IN_ROW,bI(e,t);break}default:e.tmplInsertionModeStack[0]=G.IN_BODY,e.insertionMode=G.IN_BODY,as(e,t)}}function g8e(e,t){t.tagID===b.TEMPLATE&&yh(e,t)}function Qte(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):r3(e,t)}function y8e(e,t){t.tagID===b.HTML?as(e,t):$T(e,t)}function Xte(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=G.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else $T(e,t)}function $T(e,t){e.insertionMode=G.IN_BODY,yI(e,t)}function _8e(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.FRAMESET:{e._insertElement(t,we.HTML);break}case b.FRAME:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{za(e,t);break}}}function v8e(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=G.AFTER_FRAMESET))}function b8e(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.NOFRAMES:{za(e,t);break}}}function w8e(e,t){t.tagID===b.HTML&&(e.insertionMode=G.AFTER_AFTER_FRAMESET)}function E8e(e,t){t.tagID===b.HTML?as(e,t):Lb(e,t)}function Lb(e,t){e.insertionMode=G.IN_BODY,yI(e,t)}function T8e(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.NOFRAMES:{za(e,t);break}}}function S8e(e,t){t.chars=ar,e._insertCharacters(t)}function x8e(e,t){e._insertCharacters(t),e.framesetOk=!1}function Jte(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==we.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function I8e(e,t){if(U5e(t))Jte(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===we.MATHML?$te(t):r===we.SVG&&(V5e(t),Lte(t)),t3(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function A8e(e,t){if(t.tagID===b.P||t.tagID===b.BR){Jte(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===we.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}le.AREA,le.BASE,le.BASEFONT,le.BGSOUND,le.BR,le.COL,le.EMBED,le.FRAME,le.HR,le.IMG,le.INPUT,le.KEYGEN,le.LINK,le.META,le.PARAM,le.SOURCE,le.TRACK,le.WBR;const Zte=ene("end"),_h=ene("start");function ene(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const tne=function(e){if(e==null)return R8e;if(typeof e=="function")return wI(e);if(typeof e=="object")return Array.isArray(e)?C8e(e):O8e(e);if(typeof e=="string")return P8e(e);throw new Error("Expected function, string, or object as test")};function C8e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=tne(e[n]);return wI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function O8e(e){const t=e;return wI(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function P8e(e){return wI(t);function t(n){return n&&n.type===e}}function wI(e){return t;function t(n,r,i){return!!(N8e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function R8e(){return!0}function N8e(e){return e!==null&&typeof e=="object"&&"type"in e}const nne=[],k8e=!0,MU=!1,D8e="skip";function $8e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=tne(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=nne,p,g,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=L8e(n(u,c)),h[0]===MU))return h;if("children"in u&&u.children){const m=u;if(m.children&&h[0]!==D8e)for(g=(r?m.children.length:-1)+o,y=c.concat(m);g>-1&&g<m.children.length;){const _=m.children[g];if(p=a(_,g,y)(),p[0]===MU)return p;g=typeof p[1]=="number"?p[1]:g+o}}return h}}}function L8e(e){return Array.isArray(e)?e:typeof e=="number"?[k8e,e]:e==null?nne:[e]}function M8e(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),$8e(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const F8e=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),FU={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function rne(e,t){const n=G8e(e),r=vte("type",{handlers:{root:B8e,element:j8e,text:U8e,comment:sne,doctype:V8e,raw:H8e},unknown:q8e}),i={parser:n?new DU(FU):DU.getFragmentParser(void 0,FU),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),ng(i,_h());const s=n?i.parser.document:i.parser.getFragment(),o=j4e(s,{file:i.options.file});return i.stitches&&M8e(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function ine(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function B8e(e,t){ine(e.children,t)}function j8e(e,t){W8e(e,t),ine(e.children,t),Y8e(e,t)}function U8e(e,t){const n={type:Ht.CHARACTER,chars:e.value,location:uv(e)};ng(t,_h(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function V8e(e,t){const n={type:Ht.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:uv(e)};ng(t,_h(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function z8e(e,t){t.stitches=!0;const n=K8e(e);if("children"in e&&"children"in n){const r=rne({type:"root",children:e.children},t.options);n.children=r.children}sne({type:"comment",value:{stitch:n}},t)}function sne(e,t){const n=e.value,r={type:Ht.COMMENT,data:n,location:uv(e)};ng(t,_h(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function H8e(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,one(t,_h(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function q8e(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))z8e(n,t);else{let r="";throw F8e.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function ng(e,t){one(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=$r.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function one(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function W8e(e,t){if(t.parser.tokenizer.state===$r.PLAINTEXT)return;ng(t,_h(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:gd.html;r===gd.html&&e.tagName==="svg"&&(r=gd.svg);const i=q4e({...e,children:[]},{space:r===gd.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Ht.START_TAG,tagName:e.tagName,tagID:tg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:uv(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function Y8e(e,t){if(!t.parser.tokenizer.inForeignNode&&Z4e.includes(e.tagName)||t.parser.tokenizer.state===$r.PLAINTEXT)return;ng(t,Zte(e));const n={type:Ht.END_TAG,tagName:e.tagName,tagID:tg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:uv(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===$r.RCDATA||t.parser.tokenizer.state===$r.RAWTEXT||t.parser.tokenizer.state===$r.SCRIPT_DATA)&&(t.parser.tokenizer.state=$r.DATA)}function G8e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function uv(e){const t=_h(e)||{line:void 0,column:void 0,offset:void 0},n=Zte(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function K8e(e){return"children"in e?EU({...e,children:[]}):EU(e)}function Q8e(e){return function(t,n){return rne(t,{...e,file:n})}}function Ks({text:e}){const t={img:({node:n,...r})=>O.jsx(Y_,{...r}),p:({node:n,...r})=>O.jsx(_t,{...r,pb:8}),h1:({node:n,...r})=>O.jsx(Tc,{order:1,...r,pb:12}),h2:({node:n,...r})=>O.jsx(Tc,{order:2,...r,pb:12}),h3:({node:n,...r})=>O.jsx(Tc,{order:3,...r,pb:12}),h4:({node:n,...r})=>O.jsx(Tc,{order:4,...r,pb:12}),h5:({node:n,...r})=>O.jsx(Tc,{order:5,...r,pb:12}),h6:({node:n,...r})=>O.jsx(Tc,{order:6,...r,pb:12}),a:({node:n,...r})=>O.jsx(FG,{...r}),ul:({node:n,...r})=>O.jsx(um,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>O.jsx(um,{type:"ordered",withPadding:!0,...r,pb:8})};return O.jsx("div",{style:{display:"inherit"},children:O.jsx(dte,{components:t,rehypePlugins:[Q8e],children:e})})}function X8e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return O.jsx(NE.Group,{label:O.jsx(Ks,{text:r}),withAsterisk:i,...n,error:mh(e,n,s),size:"md",children:O.jsx(Ma,{mt:"md",children:s.map(o=>O.jsx(NE,{disabled:t,value:o.value,label:o.label},o.value))})})}function J8e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return O.jsx(VJ,{disabled:t,label:O.jsx(Ks,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:mh(e,n,o)})}function Z8e({response:e,answer:t}){const{prompt:n}=e;return O.jsxs(O.Fragment,{children:[O.jsx(_t,{fz:"md",fw:500,children:O.jsx(Ks,{text:n})}),O.jsx(um,{children:Array.isArray(t.value)&&t.value.map(r=>O.jsx(um.Item,{children:r},r))})]})}function ane({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return O.jsxs(aT.Group,{name:`radioInput${e.id}`,label:O.jsx(Ks,{text:r}),withAsterisk:i,size:"md",...n,error:mh(e,n,s),children:[o?O.jsx(_t,{children:o}):null,O.jsx(Ma,{mt:"xs",children:s.map(u=>O.jsx(aT,{disabled:t,value:u.value,label:u.label},u.label))}),O.jsx(_t,{children:a})]},e.id)}function e9e({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return O.jsx(ane,{disabled:t,response:s,answer:n})}function t9e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return O.jsx(gJ,{disabled:t,placeholder:a,label:O.jsx(Ks,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:mh(e,n)})}function n9e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e,o=mh(e,n);return O.jsx(Ws.Wrapper,{withAsterisk:i,label:O.jsx(Ks,{text:r}),error:o,size:"md",children:O.jsx(jD,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:s,...n,styles:a=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:a.colors.blue[6]},markLabel:{fontSize:a.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:a.white,borderWidth:1,boxShadow:a.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})})})}function r9e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return O.jsx(MD,{disabled:t,placeholder:r,label:O.jsx(Ks,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:mh(e,n)})}function i9e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return O.jsx(EX,{disabled:t,placeholder:r,label:O.jsx(Ks,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:mh(e,n)})}function s9e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=iD(),o=E.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return O.jsxs(ut,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&O.jsx(t9e,{response:e,disabled:o,answer:r}),e.type==="shortText"&&O.jsx(r9e,{response:e,disabled:o,answer:r}),e.type==="longText"&&O.jsx(i9e,{response:e,disabled:o,answer:r}),e.type==="likert"&&O.jsx(e9e,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&O.jsx(J8e,{response:e,disabled:o,answer:r}),e.type==="slider"&&O.jsx(n9e,{response:e,disabled:o,answer:r}),e.type==="radio"&&O.jsx(ane,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&O.jsx(X8e,{response:e,disabled:o,answer:r}),e.type==="iframe"&&O.jsx(Z8e,{response:e,answer:r})]})}function LT({config:e,location:t,status:n,style:r}){var y,m;const i=sa(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(_=>_.location?_.location===t:t==="belowStimulus"))||[],u=ic(),{updateResponseBlockValidation:l}=rc(),c=y3e(a,i,s||{}),[f,d]=E.useState(!1),{iframeAnswers:h}=Gu(_=>_),p=(((m=o==null?void 0:o.correctAnswer)==null?void 0:m.length)||0)>0,g=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return E.useEffect(()=>{const _=a.find(v=>v.type==="iframe");if(_){const v=_.id;c.setValues({...c.values,[v]:h})}},[h]),E.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:nv(c.values)}))},[c.values,i,t]),O.jsxs("div",{style:r,children:[a.map(_=>{var v,T;return O.jsx(N.Fragment,{children:_.hidden?"":O.jsxs(O.Fragment,{children:[O.jsx(s9e,{storedAnswer:s?s[_.id]:void 0,answer:{...c.getInputProps(_.id,{type:_.type==="checkbox"?"checkbox":"input"})},response:_}),p&&f&&O.jsx(_t,{children:`The correct answer is: ${(T=(v=o.correctAnswer)==null?void 0:v.find(S=>S.id===_.id))==null?void 0:T.answer}`})]})},`${_.id}-${i}`)}),O.jsxs(Ma,{position:"right",spacing:"xs",mt:"xl",children:[p&&g&&O.jsx(Ko,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),g&&O.jsx(z$e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const k1="@REVISIT_COMMS",o9e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function a9e({currentConfig:e}){const{setIframeAnswers:t}=rc(),n=ic(),r=fZ(),i=E.useRef(null),s=E.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=sa(),a=qm(),u=E.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${k1}/${l}`,iframeId:s,message:c},"*")},[i,s]);return E.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${k1}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${k1}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${k1}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),O.jsx("div",{children:O.jsx("iframe",{ref:i,src:`${Wu}${e.path}?trialid=${o}&id=${s}`,style:o9e})})}const u9e={maxWidth:"100%"};function l9e({currentConfig:e}){const t={...u9e,...e.style};return O.jsx(Y_,{mx:"auto",src:`${Wu}${e.path}`,style:t})}function Mb(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function c9e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s3(e){let t,n,r;e.length!==2?(t=Mb,n=(a,u)=>Mb(e(a),u),r=(a,u)=>e(a)-u):(t=e===Mb||e===c9e?e:f9e,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function f9e(){return 0}function d9e(e){return e===null?NaN:+e}const h9e=s3(Mb),p9e=h9e.right;s3(d9e).center;const m9e=p9e;function BU(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class jU extends Map{constructor(t,n=_9e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(UU(this,t))}has(t){return super.has(UU(this,t))}set(t,n){return super.set(g9e(this,t),n)}delete(t){return super.delete(y9e(this,t))}}function UU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function g9e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function y9e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function _9e(e){return e!==null&&typeof e=="object"?e.valueOf():e}const v9e=Math.sqrt(50),b9e=Math.sqrt(10),w9e=Math.sqrt(2);function MT(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=v9e?10:s>=b9e?5:s>=w9e?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?MT(e,t,n*2):[a,u,l]}function E9e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?MT(t,e,n):MT(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function CR(e,t,n){return t=+t,e=+e,n=+n,MT(e,t,n)[2]}function OR(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?CR(t,e,n):CR(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function T9e(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function S9e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var x9e={value:()=>{}};function o3(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fb(n)}function Fb(e){this._=e}function I9e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fb.prototype=o3.prototype={constructor:Fb,on:function(e,t){var n=this._,r=I9e(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=A9e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=VU(n[i],e.name,t);else if(t==null)for(i in n)n[i]=VU(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fb(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function A9e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function VU(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=x9e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var PR="http://www.w3.org/1999/xhtml";const zU={svg:"http://www.w3.org/2000/svg",xhtml:PR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function EI(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),zU.hasOwnProperty(t)?{space:zU[t],local:e}:e}function C9e(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===PR&&t.documentElement.namespaceURI===PR?t.createElement(e):t.createElementNS(n,e)}}function O9e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function une(e){var t=EI(e);return(t.local?O9e:C9e)(t)}function P9e(){}function a3(e){return e==null?P9e:function(){return this.querySelector(e)}}function R9e(e){typeof e!="function"&&(e=a3(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new ms(r,this._parents)}function lne(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function N9e(){return[]}function cne(e){return e==null?N9e:function(){return this.querySelectorAll(e)}}function k9e(e){return function(){return lne(e.apply(this,arguments))}}function D9e(e){typeof e=="function"?e=k9e(e):e=cne(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new ms(r,i)}function fne(e){return function(){return this.matches(e)}}function dne(e){return function(t){return t.matches(e)}}var $9e=Array.prototype.find;function L9e(e){return function(){return $9e.call(this.children,e)}}function M9e(){return this.firstElementChild}function F9e(e){return this.select(e==null?M9e:L9e(typeof e=="function"?e:dne(e)))}var B9e=Array.prototype.filter;function j9e(){return Array.from(this.children)}function U9e(e){return function(){return B9e.call(this.children,e)}}function V9e(e){return this.selectAll(e==null?j9e:U9e(typeof e=="function"?e:dne(e)))}function z9e(e){typeof e!="function"&&(e=fne(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new ms(r,this._parents)}function hne(e){return new Array(e.length)}function H9e(){return new ms(this._enter||this._groups.map(hne),this._parents)}function FT(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}FT.prototype={constructor:FT,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function q9e(e){return function(){return e}}function W9e(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new FT(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function Y9e(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new FT(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function G9e(e){return e.__data__}function K9e(e,t){if(!arguments.length)return Array.from(this,G9e);var n=t?Y9e:W9e,r=this._parents,i=this._groups;typeof e!="function"&&(e=q9e(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=Q9e(e.call(c,c&&c.__data__,l,r)),p=h.length,g=a[l]=new Array(p),y=o[l]=new Array(p),m=u[l]=new Array(d);n(c,f,g,y,m,h,t);for(var _=0,v=0,T,S;_<p;++_)if(T=g[_]){for(_>=v&&(v=_+1);!(S=y[v])&&++v<p;);T._next=S||null}}return o=new ms(o,r),o._enter=a,o._exit=u,o}function Q9e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X9e(){return new ms(this._exit||this._groups.map(hne),this._parents)}function J9e(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Z9e(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new ms(a,this._parents)}function eBe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function tBe(e){e||(e=nBe);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new ms(i,this._parents).order()}function nBe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rBe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function iBe(){return Array.from(this)}function sBe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function oBe(){let e=0;for(const t of this)++e;return e}function aBe(){return!this.node()}function uBe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function lBe(e){return function(){this.removeAttribute(e)}}function cBe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fBe(e,t){return function(){this.setAttribute(e,t)}}function dBe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hBe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function pBe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mBe(e,t){var n=EI(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?cBe:lBe:typeof t=="function"?n.local?pBe:hBe:n.local?dBe:fBe)(n,t))}function pne(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gBe(e){return function(){this.style.removeProperty(e)}}function yBe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function _Be(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function vBe(e,t,n){return arguments.length>1?this.each((t==null?gBe:typeof t=="function"?_Be:yBe)(e,t,n??"")):hm(this.node(),e)}function hm(e,t){return e.style.getPropertyValue(t)||pne(e).getComputedStyle(e,null).getPropertyValue(t)}function bBe(e){return function(){delete this[e]}}function wBe(e,t){return function(){this[e]=t}}function EBe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function TBe(e,t){return arguments.length>1?this.each((t==null?bBe:typeof t=="function"?EBe:wBe)(e,t)):this.node()[e]}function mne(e){return e.trim().split(/^|\s+/)}function u3(e){return e.classList||new gne(e)}function gne(e){this._node=e,this._names=mne(e.getAttribute("class")||"")}gne.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yne(e,t){for(var n=u3(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function _ne(e,t){for(var n=u3(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function SBe(e){return function(){yne(this,e)}}function xBe(e){return function(){_ne(this,e)}}function IBe(e,t){return function(){(t.apply(this,arguments)?yne:_ne)(this,e)}}function ABe(e,t){var n=mne(e+"");if(arguments.length<2){for(var r=u3(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?IBe:t?SBe:xBe)(n,t))}function CBe(){this.textContent=""}function OBe(e){return function(){this.textContent=e}}function PBe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function RBe(e){return arguments.length?this.each(e==null?CBe:(typeof e=="function"?PBe:OBe)(e)):this.node().textContent}function NBe(){this.innerHTML=""}function kBe(e){return function(){this.innerHTML=e}}function DBe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function $Be(e){return arguments.length?this.each(e==null?NBe:(typeof e=="function"?DBe:kBe)(e)):this.node().innerHTML}function LBe(){this.nextSibling&&this.parentNode.appendChild(this)}function MBe(){return this.each(LBe)}function FBe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function BBe(){return this.each(FBe)}function jBe(e){var t=typeof e=="function"?e:une(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function UBe(){return null}function VBe(e,t){var n=typeof e=="function"?e:une(e),r=t==null?UBe:typeof t=="function"?t:a3(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zBe(){var e=this.parentNode;e&&e.removeChild(this)}function HBe(){return this.each(zBe)}function qBe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function WBe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function YBe(e){return this.select(e?WBe:qBe)}function GBe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function KBe(e){return function(t){e.call(this,t,this.__data__)}}function QBe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function XBe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function JBe(e,t,n){return function(){var r=this.__on,i,s=KBe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ZBe(e,t,n){var r=QBe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?JBe:XBe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function vne(e,t,n){var r=pne(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function eje(e,t){return function(){return vne(this,e,t)}}function tje(e,t){return function(){return vne(this,e,t.apply(this,arguments))}}function nje(e,t){return this.each((typeof t=="function"?tje:eje)(e,t))}function*rje(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var l3=[null];function ms(e,t){this._groups=e,this._parents=t}function lv(){return new ms([[document.documentElement]],l3)}function ije(){return this}ms.prototype=lv.prototype={constructor:ms,select:R9e,selectAll:D9e,selectChild:F9e,selectChildren:V9e,filter:z9e,data:K9e,enter:H9e,exit:X9e,join:J9e,merge:Z9e,selection:ije,order:eBe,sort:tBe,call:rBe,nodes:iBe,node:sBe,size:oBe,empty:aBe,each:uBe,attr:mBe,style:vBe,property:TBe,classed:ABe,text:RBe,html:$Be,raise:MBe,lower:BBe,append:jBe,insert:VBe,remove:HBe,clone:YBe,datum:GBe,on:ZBe,dispatch:nje,[Symbol.iterator]:rje};function jr(e){return typeof e=="string"?new ms([[document.querySelector(e)]],[document.documentElement]):new ms([[e]],l3)}function sje(e){let t;for(;t=e.sourceEvent;)e=t;return e}function RR(e,t){if(e=sje(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function oje(e){return typeof e=="string"?new ms([document.querySelectorAll(e)],[document.documentElement]):new ms([lne(e)],l3)}const NR={capture:!0,passive:!1};function kR(e){e.preventDefault(),e.stopImmediatePropagation()}function aje(e){var t=e.document.documentElement,n=jr(e).on("dragstart.drag",kR,NR);"onselectstart"in t?n.on("selectstart.drag",kR,NR):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function uje(e,t){var n=e.document.documentElement,r=jr(e).on("dragstart.drag",null);t&&(r.on("click.drag",kR,NR),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function c3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bne(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cv(){}var Yy=.7,BT=1/Yy,jp="\\s*([+-]?\\d+)\\s*",Gy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lje=/^#([0-9a-f]{3,8})$/,cje=new RegExp(`^rgb\\(${jp},${jp},${jp}\\)$`),fje=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),dje=new RegExp(`^rgba\\(${jp},${jp},${jp},${Gy}\\)$`),hje=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${Gy}\\)$`),pje=new RegExp(`^hsl\\(${Gy},${Cu},${Cu}\\)$`),mje=new RegExp(`^hsla\\(${Gy},${Cu},${Cu},${Gy}\\)$`),HU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c3(cv,Kd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qU,formatHex:qU,formatHex8:gje,formatHsl:yje,formatRgb:WU,toString:WU});function qU(){return this.rgb().formatHex()}function gje(){return this.rgb().formatHex8()}function yje(){return wne(this).formatHsl()}function WU(){return this.rgb().formatRgb()}function Kd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lje.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?YU(t):n===3?new js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?D1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?D1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cje.exec(e))?new js(t[1],t[2],t[3],1):(t=fje.exec(e))?new js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dje.exec(e))?D1(t[1],t[2],t[3],t[4]):(t=hje.exec(e))?D1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pje.exec(e))?QU(t[1],t[2]/100,t[3]/100,1):(t=mje.exec(e))?QU(t[1],t[2]/100,t[3]/100,t[4]):HU.hasOwnProperty(e)?YU(HU[e]):e==="transparent"?new js(NaN,NaN,NaN,0):null}function YU(e){return new js(e>>16&255,e>>8&255,e&255,1)}function D1(e,t,n,r){return r<=0&&(e=t=n=NaN),new js(e,t,n,r)}function _je(e){return e instanceof cv||(e=Kd(e)),e?(e=e.rgb(),new js(e.r,e.g,e.b,e.opacity)):new js}function DR(e,t,n,r){return arguments.length===1?_je(e):new js(e,t,n,r??1)}function js(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}c3(js,DR,bne(cv,{brighter(e){return e=e==null?BT:Math.pow(BT,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yy:Math.pow(Yy,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new js(Nd(this.r),Nd(this.g),Nd(this.b),jT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GU,formatHex:GU,formatHex8:vje,formatRgb:KU,toString:KU}));function GU(){return`#${yd(this.r)}${yd(this.g)}${yd(this.b)}`}function vje(){return`#${yd(this.r)}${yd(this.g)}${yd(this.b)}${yd((isNaN(this.opacity)?1:this.opacity)*255)}`}function KU(){const e=jT(this.opacity);return`${e===1?"rgb(":"rgba("}${Nd(this.r)}, ${Nd(this.g)}, ${Nd(this.b)}${e===1?")":`, ${e})`}`}function jT(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yd(e){return e=Nd(e),(e<16?"0":"")+e.toString(16)}function QU(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Aa(e,t,n,r)}function wne(e){if(e instanceof Aa)return new Aa(e.h,e.s,e.l,e.opacity);if(e instanceof cv||(e=Kd(e)),!e)return new Aa;if(e instanceof Aa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Aa(o,a,u,e.opacity)}function bje(e,t,n,r){return arguments.length===1?wne(e):new Aa(e,t,n,r??1)}function Aa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}c3(Aa,bje,bne(cv,{brighter(e){return e=e==null?BT:Math.pow(BT,e),new Aa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yy:Math.pow(Yy,e),new Aa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new js(vO(e>=240?e-240:e+120,i,r),vO(e,i,r),vO(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Aa(XU(this.h),$1(this.s),$1(this.l),jT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jT(this.opacity);return`${e===1?"hsl(":"hsla("}${XU(this.h)}, ${$1(this.s)*100}%, ${$1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XU(e){return e=(e||0)%360,e<0?e+360:e}function $1(e){return Math.max(0,Math.min(1,e||0))}function vO(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const f3=e=>()=>e;function wje(e,t){return function(n){return e+n*t}}function Eje(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Tje(e){return(e=+e)==1?Ene:function(t,n){return n-t?Eje(t,n,e):f3(isNaN(t)?n:t)}}function Ene(e,t){var n=t-e;return n?wje(e,n):f3(isNaN(e)?t:e)}const UT=function e(t){var n=Tje(t);function r(i,s){var o=n((i=DR(i)).r,(s=DR(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=Ene(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function Sje(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function xje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ije(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=TI(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Aje(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cje(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=TI(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var $R=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bO=new RegExp($R.source,"g");function Oje(e){return function(){return e}}function Pje(e){return function(t){return e(t)+""}}function Tne(e,t){var n=$R.lastIndex=bO.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=$R.exec(e))&&(i=bO.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Sa(r,i)})),n=bO.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?Pje(u[0].x):Oje(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function TI(e,t){var n=typeof t,r;return t==null||n==="boolean"?f3(t):(n==="number"?Sa:n==="string"?(r=Kd(t))?(t=r,UT):Tne:t instanceof Kd?UT:t instanceof Date?Aje:xje(t)?Sje:Array.isArray(t)?Ije:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cje:Sa)(e,t)}function Rje(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var JU=180/Math.PI,LR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sne(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*JU,skewX:Math.atan(u)*JU,scaleX:o,scaleY:a}}var L1;function Nje(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?LR:Sne(t.a,t.b,t.c,t.d,t.e,t.f)}function kje(e){return e==null||(L1||(L1=document.createElementNS("http://www.w3.org/2000/svg","g")),L1.setAttribute("transform",e),!(e=L1.transform.baseVal.consolidate()))?LR:(e=e.matrix,Sne(e.a,e.b,e.c,e.d,e.e,e.f))}function xne(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Sa(l,f)},{i:g-2,x:Sa(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Sa(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Sa(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Sa(l,f)},{i:g-2,x:Sa(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,g=d.length,y;++p<g;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var Dje=xne(Nje,"px, ","px)","deg)"),$je=xne(kje,", ",")",")"),pm=0,v0=0,Qg=0,Ine=1e3,VT,b0,zT=0,Qd=0,SI=0,Ky=typeof performance=="object"&&performance.now?performance:Date,Ane=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d3(){return Qd||(Ane(Lje),Qd=Ky.now()+SI)}function Lje(){Qd=0}function HT(){this._call=this._time=this._next=null}HT.prototype=Cne.prototype={constructor:HT,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?d3():+n)+(t==null?0:+t),!this._next&&b0!==this&&(b0?b0._next=this:VT=this,b0=this),this._call=e,this._time=n,MR()},stop:function(){this._call&&(this._call=null,this._time=1/0,MR())}};function Cne(e,t,n){var r=new HT;return r.restart(e,t,n),r}function Mje(){d3(),++pm;for(var e=VT,t;e;)(t=Qd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pm}function ZU(){Qd=(zT=Ky.now())+SI,pm=v0=0;try{Mje()}finally{pm=0,Bje(),Qd=0}}function Fje(){var e=Ky.now(),t=e-zT;t>Ine&&(SI-=t,zT=e)}function Bje(){for(var e,t=VT,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:VT=n);b0=e,MR(r)}function MR(e){if(!pm){v0&&(v0=clearTimeout(v0));var t=e-Qd;t>24?(e<1/0&&(v0=setTimeout(ZU,e-Ky.now()-SI)),Qg&&(Qg=clearInterval(Qg))):(Qg||(zT=Ky.now(),Qg=setInterval(Fje,Ine)),pm=1,Ane(ZU))}}function eV(e,t,n){var r=new HT;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var jje=o3("start","end","cancel","interrupt"),Uje=[],One=0,tV=1,FR=2,Bb=3,nV=4,BR=5,jb=6;function xI(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Vje(e,n,{name:t,index:r,group:i,on:jje,tween:Uje,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:One})}function h3(e,t){var n=Ha(e,t);if(n.state>One)throw new Error("too late; already scheduled");return n}function Ku(e,t){var n=Ha(e,t);if(n.state>Bb)throw new Error("too late; already running");return n}function Ha(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Vje(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Cne(s,0,n.time);function s(l){n.state=tV,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==tV)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Bb)return eV(o);h.state===nV?(h.state=jb,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=jb,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(eV(function(){n.state===Bb&&(n.state=nV,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=FR,n.on.call("start",e,e.__data__,n.index,n.group),n.state===FR){for(n.state=Bb,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=BR,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===BR&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=jb,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function jR(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>FR&&r.state<BR,r.state=jb,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function zje(e){return this.each(function(){jR(this,e)})}function Hje(e,t){var n,r;return function(){var i=Ku(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function qje(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ku(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function Wje(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ha(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Hje:qje)(n,e,t))}function p3(e,t,n){var r=e._id;return e.each(function(){var i=Ku(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ha(i,r).value[t]}}function Pne(e,t){var n;return(typeof t=="number"?Sa:t instanceof Kd?UT:(n=Kd(t))?(t=n,UT):Tne)(e,t)}function Yje(e){return function(){this.removeAttribute(e)}}function Gje(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kje(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function Qje(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function Xje(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function Jje(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function Zje(e,t){var n=EI(e),r=n==="transform"?$je:Pne;return this.attrTween(e,typeof t=="function"?(n.local?Jje:Xje)(n,r,p3(this,"attr."+e,t)):t==null?(n.local?Gje:Yje)(n):(n.local?Qje:Kje)(n,r,t))}function eUe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tUe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nUe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&tUe(e,s)),n}return i._value=t,i}function rUe(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&eUe(e,s)),n}return i._value=t,i}function iUe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=EI(e);return this.tween(n,(r.local?nUe:rUe)(r,t))}function sUe(e,t){return function(){h3(this,e).delay=+t.apply(this,arguments)}}function oUe(e,t){return t=+t,function(){h3(this,e).delay=t}}function aUe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sUe:oUe)(t,e)):Ha(this.node(),t).delay}function uUe(e,t){return function(){Ku(this,e).duration=+t.apply(this,arguments)}}function lUe(e,t){return t=+t,function(){Ku(this,e).duration=t}}function cUe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uUe:lUe)(t,e)):Ha(this.node(),t).duration}function fUe(e,t){if(typeof t!="function")throw new Error;return function(){Ku(this,e).ease=t}}function dUe(e){var t=this._id;return arguments.length?this.each(fUe(t,e)):Ha(this.node(),t).ease}function hUe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ku(this,e).ease=n}}function pUe(e){if(typeof e!="function")throw new Error;return this.each(hUe(this._id,e))}function mUe(e){typeof e!="function"&&(e=fne(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Bl(r,this._parents,this._name,this._id)}function gUe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new Bl(o,this._parents,this._name,this._id)}function yUe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function _Ue(e,t,n){var r,i,s=yUe(t)?h3:Ku;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function vUe(e,t){var n=this._id;return arguments.length<2?Ha(this.node(),n).on.on(e):this.each(_Ue(n,e,t))}function bUe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function wUe(){return this.on("end.remove",bUe(this._id))}function EUe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=a3(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,xI(l[d],t,n,d,l,Ha(c,n)));return new Bl(s,this._parents,t,n)}function TUe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=cne(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=Ha(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&xI(h,t,n,g,d,p);s.push(d),o.push(c)}return new Bl(s,o,t,n)}var SUe=lv.prototype.constructor;function xUe(){return new SUe(this._groups,this._parents)}function IUe(e,t){var n,r,i;return function(){var s=hm(this,e),o=(this.style.removeProperty(e),hm(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function Rne(e){return function(){this.style.removeProperty(e)}}function AUe(e,t,n){var r,i=n+"",s;return function(){var o=hm(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function CUe(e,t,n){var r,i,s;return function(){var o=hm(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),hm(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function OUe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Ku(this,e),l=u.on,c=u.value[s]==null?a||(a=Rne(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function PUe(e,t,n){var r=(e+="")=="transform"?Dje:Pne;return t==null?this.styleTween(e,IUe(e,r)).on("end.style."+e,Rne(e)):typeof t=="function"?this.styleTween(e,CUe(e,r,p3(this,"style."+e,t))).each(OUe(this._id,e)):this.styleTween(e,AUe(e,r,t),n).on("end.style."+e,null)}function RUe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function NUe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&RUe(e,o,n)),r}return s._value=t,s}function kUe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,NUe(e,t,n??""))}function DUe(e){return function(){this.textContent=e}}function $Ue(e){return function(){var t=e(this);this.textContent=t??""}}function LUe(e){return this.tween("text",typeof e=="function"?$Ue(p3(this,"text",e)):DUe(e==null?"":e+""))}function MUe(e){return function(t){this.textContent=e.call(this,t)}}function FUe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&MUe(i)),t}return r._value=e,r}function BUe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,FUe(e))}function jUe(){for(var e=this._name,t=this._id,n=Nne(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=Ha(u,t);xI(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Bl(r,this._parents,e,n)}function UUe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Ku(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var VUe=0;function Bl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Nne(){return++VUe}var el=lv.prototype;Bl.prototype={constructor:Bl,select:EUe,selectAll:TUe,selectChild:el.selectChild,selectChildren:el.selectChildren,filter:mUe,merge:gUe,selection:xUe,transition:jUe,call:el.call,nodes:el.nodes,node:el.node,size:el.size,empty:el.empty,each:el.each,on:vUe,attr:Zje,attrTween:iUe,style:PUe,styleTween:kUe,text:LUe,textTween:BUe,remove:wUe,tween:Wje,delay:aUe,duration:cUe,ease:dUe,easeVarying:pUe,end:UUe,[Symbol.iterator]:el[Symbol.iterator]};const zUe=e=>+e;function HUe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qUe={time:null,delay:0,duration:250,ease:HUe};function WUe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function YUe(e){var t,n;e instanceof Bl?(t=e._id,e=e._name):(t=Nne(),(n=qUe).time=d3(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&xI(u,e,t,l,o,n||WUe(u,t));return new Bl(r,this._parents,e,t)}lv.prototype.interrupt=zje;lv.prototype.transition=YUe;const wO=e=>()=>e;function GUe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function KUe(e){e.stopImmediatePropagation()}function EO(e){e.preventDefault(),e.stopImmediatePropagation()}var rV={name:"drag"},TO={name:"space"},Bh={name:"handle"},jh={name:"center"};const{abs:iV,max:Hi,min:qi}=Math;function sV(e){return[+e[0],+e[1]]}function UR(e){return[sV(e[0]),sV(e[1])]}var Ub={name:"x",handles:["w","e"].map(Qy),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Vb={name:"y",handles:["n","s"].map(Qy),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},QUe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Qy),input:function(e){return e==null?null:UR(e)},output:function(e){return e}},tl={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},oV={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},aV={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},XUe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},JUe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Qy(e){return{type:e}}function ZUe(e){return!e.ctrlKey&&!e.button}function eVe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function tVe(){return navigator.maxTouchPoints||"ontouchstart"in this}function SO(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function nVe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function rVe(){return m3(Ub)}function iVe(){return m3(Vb)}function sVe(){return m3(QUe)}function m3(e){var t=eVe,n=ZUe,r=tVe,i=!0,s=o3("start","brush","end"),o=6,a;function u(y){var m=y.property("__brush",g).selectAll(".overlay").data([Qy("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",tl.overlay).merge(m).each(function(){var v=SO(this).extent;jr(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),y.selectAll(".selection").data([Qy("selection")]).enter().append("rect").attr("class","selection").attr("cursor",tl.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=y.selectAll(".handle").data(e.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return tl[v.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,m,_){y.tween?y.on("start.brush",function(v){c(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){c(this,arguments).end(v)}).tween("brush",function(){var v=this,T=v.__brush,S=c(v,arguments),w=T.selection,x=e.input(typeof m=="function"?m.apply(this,arguments):m,T.extent),A=TI(w,x);function M(D){T.selection=D===1&&x===null?null:A(D),l.call(v),S.brush()}return w!==null&&x!==null?M:M(1)}):y.each(function(){var v=this,T=arguments,S=v.__brush,w=e.input(typeof m=="function"?m.apply(v,T):m,S.extent),x=c(v,T).beforestart();jR(v),S.selection=w===null?null:w,l.call(v),x.start(_).brush(_).end(_)})},u.clear=function(y,m){u.move(y,null,m)};function l(){var y=jr(this),m=SO(this).selection;m?(y.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?m[1][0]-o/2:m[0][0]-o/2}).attr("y",function(_){return _.type[0]==="s"?m[1][1]-o/2:m[0][1]-o/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?m[1][0]-m[0][0]+o:o}).attr("height",function(_){return _.type==="e"||_.type==="w"?m[1][1]-m[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,m,_){var v=y.__brush.emitter;return v&&(!_||!v.clean)?v:new f(y,m,_)}function f(y,m,_){this.that=y,this.args=m,this.state=y.__brush,this.active=0,this.clean=_}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,m){return this.starting?(this.starting=!1,this.emit("start",y,m)):this.emit("brush",y),this},brush:function(y,m){return this.emit("brush",y,m),this},end:function(y,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,m)),this},emit:function(y,m,_){var v=jr(this.that).datum();s.call(y,this.that,new GUe(y,{sourceEvent:m,target:u,selection:e.output(this.state.selection),mode:_,dispatch:s}),v)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var m=this,_=y.target.__data__.type,v=(i&&y.metaKey?_="overlay":_)==="selection"?rV:i&&y.altKey?jh:Bh,T=e===Vb?null:XUe[_],S=e===Ub?null:JUe[_],w=SO(m),x=w.extent,A=w.selection,M=x[0][0],D,$,q=x[0][1],W,V,de=x[1][0],ae,pe,ee=x[1][1],ie,K,I=0,C=0,z,R=T&&S&&i&&y.shiftKey,P,Y,se=Array.from(y.touches||[y],Ae=>{const Ve=Ae.identifier;return Ae=RR(Ae,m),Ae.point0=Ae.slice(),Ae.identifier=Ve,Ae});jR(m);var ue=c(m,arguments,!0).beforestart();if(_==="overlay"){A&&(z=!0);const Ae=[se[0],se[1]||se[0]];w.selection=A=[[D=e===Vb?M:qi(Ae[0][0],Ae[1][0]),W=e===Ub?q:qi(Ae[0][1],Ae[1][1])],[ae=e===Vb?de:Hi(Ae[0][0],Ae[1][0]),ie=e===Ub?ee:Hi(Ae[0][1],Ae[1][1])]],se.length>1&&Je(y)}else D=A[0][0],W=A[0][1],ae=A[1][0],ie=A[1][1];$=D,V=W,pe=ae,K=ie;var he=jr(m).attr("pointer-events","none"),fe=he.selectAll(".overlay").attr("cursor",tl[_]);if(y.touches)ue.moved=me,ue.ended=Ge;else{var Se=jr(y.view).on("mousemove.brush",me,!0).on("mouseup.brush",Ge,!0);i&&Se.on("keydown.brush",qe,!0).on("keyup.brush",Le,!0),aje(y.view)}l.call(m),ue.start(y,v.name);function me(Ae){for(const Ve of Ae.changedTouches||[Ae])for(const Zt of se)Zt.identifier===Ve.identifier&&(Zt.cur=RR(Ve,m));if(R&&!P&&!Y&&se.length===1){const Ve=se[0];iV(Ve.cur[0]-Ve[0])>iV(Ve.cur[1]-Ve[1])?Y=!0:P=!0}for(const Ve of se)Ve.cur&&(Ve[0]=Ve.cur[0],Ve[1]=Ve.cur[1]);z=!0,EO(Ae),Je(Ae)}function Je(Ae){const Ve=se[0],Zt=Ve.point0;var Me;switch(I=Ve[0]-Zt[0],C=Ve[1]-Zt[1],v){case TO:case rV:{T&&(I=Hi(M-D,qi(de-ae,I)),$=D+I,pe=ae+I),S&&(C=Hi(q-W,qi(ee-ie,C)),V=W+C,K=ie+C);break}case Bh:{se[1]?(T&&($=Hi(M,qi(de,se[0][0])),pe=Hi(M,qi(de,se[1][0])),T=1),S&&(V=Hi(q,qi(ee,se[0][1])),K=Hi(q,qi(ee,se[1][1])),S=1)):(T<0?(I=Hi(M-D,qi(de-D,I)),$=D+I,pe=ae):T>0&&(I=Hi(M-ae,qi(de-ae,I)),$=D,pe=ae+I),S<0?(C=Hi(q-W,qi(ee-W,C)),V=W+C,K=ie):S>0&&(C=Hi(q-ie,qi(ee-ie,C)),V=W,K=ie+C));break}case jh:{T&&($=Hi(M,qi(de,D-I*T)),pe=Hi(M,qi(de,ae+I*T))),S&&(V=Hi(q,qi(ee,W-C*S)),K=Hi(q,qi(ee,ie+C*S)));break}}pe<$&&(T*=-1,Me=D,D=ae,ae=Me,Me=$,$=pe,pe=Me,_ in oV&&fe.attr("cursor",tl[_=oV[_]])),K<V&&(S*=-1,Me=W,W=ie,ie=Me,Me=V,V=K,K=Me,_ in aV&&fe.attr("cursor",tl[_=aV[_]])),w.selection&&(A=w.selection),P&&($=A[0][0],pe=A[1][0]),Y&&(V=A[0][1],K=A[1][1]),(A[0][0]!==$||A[0][1]!==V||A[1][0]!==pe||A[1][1]!==K)&&(w.selection=[[$,V],[pe,K]],l.call(m),ue.brush(Ae,v.name))}function Ge(Ae){if(KUe(Ae),Ae.touches){if(Ae.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else uje(Ae.view,z),Se.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);he.attr("pointer-events","all"),fe.attr("cursor",tl.overlay),w.selection&&(A=w.selection),nVe(A)&&(w.selection=null,l.call(m)),ue.end(Ae,v.name)}function qe(Ae){switch(Ae.keyCode){case 16:{R=T&&S;break}case 18:{v===Bh&&(T&&(ae=pe-I*T,D=$+I*T),S&&(ie=K-C*S,W=V+C*S),v=jh,Je(Ae));break}case 32:{(v===Bh||v===jh)&&(T<0?ae=pe-I:T>0&&(D=$-I),S<0?ie=K-C:S>0&&(W=V-C),v=TO,fe.attr("cursor",tl.selection),Je(Ae));break}default:return}EO(Ae)}function Le(Ae){switch(Ae.keyCode){case 16:{R&&(P=Y=R=!1,Je(Ae));break}case 18:{v===jh&&(T<0?ae=pe:T>0&&(D=$),S<0?ie=K:S>0&&(W=V),v=Bh,Je(Ae));break}case 32:{v===TO&&(Ae.altKey?(T&&(ae=pe-I*T,D=$+I*T),S&&(ie=K-C*S,W=V+C*S),v=jh):(T<0?ae=pe:T>0&&(D=$),S<0?ie=K:S>0&&(W=V),v=Bh),fe.attr("cursor",tl[_]),Je(Ae));break}default:return}EO(Ae)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function g(){var y=this.__brush||{selection:null};return y.extent=UR(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:wO(UR(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:wO(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:wO(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const VR=Math.PI,zR=2*VR,Zf=1e-6,oVe=zR-Zf;function kne(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function aVe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kne;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class uVe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kne:aVe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Zf)if(!(Math.abs(f*u-l*c)>Zf)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,g=u*u+l*l,y=h*h+p*p,m=Math.sqrt(g),_=Math.sqrt(d),v=s*Math.tan((VR-Math.acos((g+d-y)/(2*m*_)))/2),T=v/_,S=v/m;Math.abs(T-1)>Zf&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+S*u},${this._y1=n+S*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Zf||Math.abs(this._y1-c)>Zf)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%zR+zR),d>oVe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Zf&&this._append`A${r},${r},0,${+(d>=VR)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var uV={},xO={},IO=34,Xg=10,AO=13;function Dne(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function lVe(e,t){var n=Dne(e);return function(r,i){return t(n(r),i,e)}}function lV(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Cs(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function cVe(e){return e<0?"-"+Cs(-e,6):e>9999?"+"+Cs(e,6):Cs(e,4)}function fVe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":cVe(e.getUTCFullYear())+"-"+Cs(e.getUTCMonth()+1,2)+"-"+Cs(e.getUTCDate(),2)+(i?"T"+Cs(t,2)+":"+Cs(n,2)+":"+Cs(r,2)+"."+Cs(i,3)+"Z":r?"T"+Cs(t,2)+":"+Cs(n,2)+":"+Cs(r,2)+"Z":n||t?"T"+Cs(t,2)+":"+Cs(n,2)+"Z":"")}function dVe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(y,m){if(h)return h(y,m-1);p=y,h=d?lVe(y,d):Dne(y)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,y=0,m,_=p<=0,v=!1;f.charCodeAt(p-1)===Xg&&--p,f.charCodeAt(p-1)===AO&&--p;function T(){if(_)return xO;if(v)return v=!1,uV;var w,x=g,A;if(f.charCodeAt(x)===IO){for(;g++<p&&f.charCodeAt(g)!==IO||f.charCodeAt(++g)===IO;);return(w=g)>=p?_=!0:(A=f.charCodeAt(g++))===Xg?v=!0:A===AO&&(v=!0,f.charCodeAt(g)===Xg&&++g),f.slice(x+1,w-1).replace(/""/g,'"')}for(;g<p;){if((A=f.charCodeAt(w=g++))===Xg)v=!0;else if(A===AO)v=!0,f.charCodeAt(g)===Xg&&++g;else if(A!==n)continue;return f.slice(x,w)}return _=!0,f.slice(x,p)}for(;(m=T())!==xO;){for(var S=[];m!==uV&&m!==xO;)S.push(m),m=T();d&&(S=d(S,y++))==null||h.push(S)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=lV(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=lV(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?fVe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var hVe=dVe(","),pVe=hVe.parse;function mVe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function gVe(e,t){return fetch(e,t).then(mVe)}function yVe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),gVe(t,n).then(function(i){return e(i,r)})}}var _Ve=yVe(pVe);function vVe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function mm(e){return e=qT(Math.abs(e)),e?e[1]:NaN}function bVe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function wVe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var EVe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function WT(e){if(!(t=EVe.exec(e)))throw new Error("invalid format: "+e);var t;return new g3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}WT.prototype=g3.prototype;function g3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}g3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TVe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var $ne;function SVe(e,t){var n=qT(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-($ne=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+qT(e,Math.max(0,t+s-1))[0]}function cV(e,t){var n=qT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vVe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cV(e*100,t),r:cV,s:SVe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dV(e){return e}var hV=Array.prototype.map,pV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xVe(e){var t=e.grouping===void 0||e.thousands===void 0?dV:bVe(hV.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?dV:wVe(hV.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=WT(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,m=f.width,_=f.comma,v=f.precision,T=f.trim,S=f.type;S==="n"?(_=!0,S="g"):fV[S]||(v===void 0&&(v=12),T=!0,S="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",x=g==="$"?r:/[%p]/.test(S)?o:"",A=fV[S],M=/[defgprs%]/.test(S);v=v===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function D($){var q=w,W=x,V,de,ae;if(S==="c")W=A($)+W,$="";else{$=+$;var pe=$<0||1/$<0;if($=isNaN($)?u:A(Math.abs($),v),T&&($=TVe($)),pe&&+$==0&&p!=="+"&&(pe=!1),q=(pe?p==="("?p:a:p==="-"||p==="("?"":p)+q,W=(S==="s"?pV[8+$ne/3]:"")+W+(pe&&p==="("?")":""),M){for(V=-1,de=$.length;++V<de;)if(ae=$.charCodeAt(V),48>ae||ae>57){W=(ae===46?i+$.slice(V+1):$.slice(V))+W,$=$.slice(0,V);break}}}_&&!y&&($=t($,1/0));var ee=q.length+$.length+W.length,ie=ee<m?new Array(m-ee+1).join(d):"";switch(_&&y&&($=t(ie+$,ie.length?m-W.length:1/0),ie=""),h){case"<":$=q+$+W+ie;break;case"=":$=q+ie+$+W;break;case"^":$=ie.slice(0,ee=ie.length>>1)+q+$+W+ie.slice(ee);break;default:$=ie+q+$+W;break}return s($)}return D.toString=function(){return f+""},D}function c(f,d){var h=l((f=WT(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(mm(d)/3)))*3,g=Math.pow(10,-p),y=pV[8+p/3];return function(m){return h(g*m)+y}}return{format:l,formatPrefix:c}}var M1,II,Lne;IVe({thousands:",",grouping:[3],currency:["$",""]});function IVe(e){return M1=xVe(e),II=M1.format,Lne=M1.formatPrefix,M1}function AVe(e){return Math.max(0,-mm(Math.abs(e)))}function CVe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mm(t)/3)))*3-mm(Math.abs(e)))}function OVe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mm(t)-mm(e))+1}function PVe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function RVe(){return this.eachAfter(PVe)}function NVe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function kVe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function DVe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function $Ve(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function LVe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function MVe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function FVe(e){for(var t=this,n=BVe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function BVe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function jVe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function UVe(){return Array.from(this)}function VVe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function zVe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*HVe(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function y3(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=YVe)):t===void 0&&(t=WVe);for(var n=new YT(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new YT(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(KVe)}function qVe(){return y3(this).eachBefore(GVe)}function WVe(e){return e.children}function YVe(e){return Array.isArray(e)?e[1]:null}function GVe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function KVe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function YT(e){this.data=e,this.depth=this.height=0,this.parent=null}YT.prototype=y3.prototype={constructor:YT,count:RVe,each:NVe,eachAfter:DVe,eachBefore:kVe,find:$Ve,sum:LVe,sort:MVe,path:FVe,ancestors:jVe,descendants:UVe,leaves:VVe,links:zVe,copy:qVe,[Symbol.iterator]:HVe};function QVe(e){return e==null?null:XVe(e)}function XVe(e){if(typeof e!="function")throw new Error;return e}function mV(){return 0}function JVe(e){return function(){return e}}const ZVe=1664525,e7e=1013904223,gV=4294967296;function t7e(){let e=1;return()=>(e=(ZVe*e+e7e)%gV)/gV}function n7e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function r7e(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function i7e(e,t){for(var n=0,r=(e=r7e(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&Mne(o,s)?++n:(o=o7e(i=s7e(i,s)),n=0);return o}function s7e(e,t){var n,r;if(CO(t,e))return[t];for(n=0;n<e.length;++n)if(F1(t,e[n])&&CO(w0(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(F1(w0(e[n],e[r]),t)&&F1(w0(e[n],t),e[r])&&F1(w0(e[r],t),e[n])&&CO(Fne(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function F1(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Mne(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function CO(e,t){for(var n=0;n<t.length;++n)if(!Mne(e,t[n]))return!1;return!0}function o7e(e){switch(e.length){case 1:return a7e(e[0]);case 2:return w0(e[0],e[1]);case 3:return Fne(e[0],e[1],e[2])}}function a7e(e){return{x:e.x,y:e.y,r:e.r}}function w0(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function Fne(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,g=i-c,y=u-s,m=f-s,_=r*r+i*i-s*s,v=_-o*o-a*a+u*u,T=_-l*l-c*c+f*f,S=h*p-d*g,w=(p*T-g*v)/(S*2)-r,x=(g*y-p*m)/S,A=(h*v-d*T)/(S*2)-i,M=(d*m-h*y)/S,D=x*x+M*M-1,$=2*(s+w*x+A*M),q=w*w+A*A-s*s,W=-(Math.abs(D)>1e-6?($+Math.sqrt($*$-4*D*q))/(2*D):q/$);return{x:r+w+x*W,y:i+A+M*W,r:W}}function yV(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function _V(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function vV(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function B1(e){this._=e,this.next=null,this.previous=null}function u7e(e,t){if(!(s=(e=n7e(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;yV(r,n,i=e[2]),n=new B1(n),r=new B1(r),i=new B1(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){yV(n._,r._,i=e[u]),i=new B1(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(_V(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(_V(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=vV(n);(i=i.next)!==r;)(a=vV(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=i7e(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function l7e(e){return Math.sqrt(e.value)}function c7e(){var e=null,t=1,n=1,r=mV;function i(s){const o=t7e();return s.x=t/2,s.y=n/2,e?s.eachBefore(bV(e)).eachAfter(OO(r,.5,o)).eachBefore(wV(1)):s.eachBefore(bV(l7e)).eachAfter(OO(mV,1,o)).eachAfter(OO(r,s.r/Math.min(t,n),o)).eachBefore(wV(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=QVe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:JVe(+s),i):r},i}function bV(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function OO(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=u7e(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function wV(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function AI(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const EV=Symbol("implicit");function CI(){var e=new jU,t=[],n=[],r=EV;function i(s){let o=e.get(s);if(o===void 0){if(r!==EV)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new jU;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return CI(t,n).unknown(r)},AI.apply(i,arguments),i}function fv(){var e=CI().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;s=(g-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(g-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=S9e(d).map(function(m){return p+s*m});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return fv(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},AI.apply(f(),arguments)}function f7e(e){return function(){return e}}function d7e(e){return+e}var TV=[0,1];function pp(e){return e}function HR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:f7e(isNaN(t)?NaN:.5)}function h7e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function p7e(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=HR(i,r),s=n(o,s)):(r=HR(r,i),s=n(s,o)),function(a){return s(r(a))}}function m7e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=HR(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=m9e(e,a,1,r)-1;return s[u](i[u](a))}}function Bne(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function g7e(){var e=TV,t=TV,n=TI,r,i,s,o=pp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==pp&&(o=h7e(e[0],e[d-1])),a=d>2?m7e:p7e,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Sa)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,d7e),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=Rje,c()},f.clamp=function(d){return arguments.length?(o=d?!0:pp,c()):o!==pp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function jne(){return g7e()(pp,pp)}function y7e(e,t,n,r){var i=OR(e,t,n),s;switch(r=WT(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=CVe(i,o))&&(r.precision=s),Lne(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=OVe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=AVe(i))&&(r.precision=s-(r.type==="%")*2);break}}return II(r)}function _7e(e){var t=e.domain;return e.ticks=function(n){var r=t();return E9e(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return y7e(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=CR(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function mf(){var e=jne();return e.copy=function(){return Bne(e,mf())},AI.apply(e,arguments),_7e(e)}function v7e(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const PO=new Date,RO=new Date;function si(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>si(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(PO.setTime(+s),RO.setTime(+o),e(PO),e(RO),Math.floor(n(PO,RO))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const GT=si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);GT.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?si(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):GT);GT.range;const _l=1e3,Wo=_l*60,vl=Wo*60,jl=vl*24,_3=jl*7,SV=jl*30,NO=jl*365,mp=si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_l)},(e,t)=>(t-e)/_l,e=>e.getUTCSeconds());mp.range;const v3=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_l)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getMinutes());v3.range;const b7e=si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getUTCMinutes());b7e.range;const b3=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_l-e.getMinutes()*Wo)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getHours());b3.range;const w7e=si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getUTCHours());w7e.range;const dv=si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wo)/jl,e=>e.getDate()-1);dv.range;const w3=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jl,e=>e.getUTCDate()-1);w3.range;const E7e=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jl,e=>Math.floor(e/jl));E7e.range;function vh(e){return si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wo)/_3)}const OI=vh(0),KT=vh(1),T7e=vh(2),S7e=vh(3),gm=vh(4),x7e=vh(5),I7e=vh(6);OI.range;KT.range;T7e.range;S7e.range;gm.range;x7e.range;I7e.range;function bh(e){return si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/_3)}const Une=bh(0),QT=bh(1),A7e=bh(2),C7e=bh(3),ym=bh(4),O7e=bh(5),P7e=bh(6);Une.range;QT.range;A7e.range;C7e.range;ym.range;O7e.range;P7e.range;const E3=si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());E3.range;const R7e=si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());R7e.range;const Ul=si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ul.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ul.range;const Xd=si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Xd.range;function N7e(e,t,n,r,i,s){const o=[[mp,1,_l],[mp,5,5*_l],[mp,15,15*_l],[mp,30,30*_l],[s,1,Wo],[s,5,5*Wo],[s,15,15*Wo],[s,30,30*Wo],[i,1,vl],[i,3,3*vl],[i,6,6*vl],[i,12,12*vl],[r,1,jl],[r,2,2*jl],[n,1,_3],[t,1,SV],[t,3,3*SV],[e,1,NO]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=s3(([,,y])=>y).right(o,d);if(h===o.length)return e.every(OR(l/NO,c/NO,f));if(h===0)return GT.every(Math.max(OR(l,c,f),1));const[p,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(g)}return[a,u]}const[k7e,D7e]=N7e(Ul,E3,OI,dv,b3,v3);function kO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function DO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function $7e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=Zg(i),c=e0(i),f=Zg(s),d=e0(s),h=Zg(o),p=e0(o),g=Zg(a),y=e0(a),m=Zg(u),_=e0(u),v={a:pe,A:ee,b:ie,B:K,c:null,d:PV,e:PV,f:ize,g:pze,G:gze,H:tze,I:nze,j:rze,L:Vne,m:sze,M:oze,p:I,q:C,Q:kV,s:DV,S:aze,u:uze,U:lze,V:cze,w:fze,W:dze,x:null,X:null,y:hze,Y:mze,Z:yze,"%":NV},T={a:z,A:R,b:P,B:Y,c:null,d:RV,e:RV,f:wze,g:Rze,G:kze,H:_ze,I:vze,j:bze,L:Hne,m:Eze,M:Tze,p:se,q:ue,Q:kV,s:DV,S:Sze,u:xze,U:Ize,V:Aze,w:Cze,W:Oze,x:null,X:null,y:Pze,Y:Nze,Z:Dze,"%":NV},S={a:D,A:$,b:q,B:W,c:V,d:CV,e:CV,f:X7e,g:AV,G:IV,H:OV,I:OV,j:Y7e,L:Q7e,m:W7e,M:G7e,p:M,q:q7e,Q:Z7e,s:eze,S:K7e,u:j7e,U:U7e,V:V7e,w:B7e,W:z7e,x:de,X:ae,y:AV,Y:IV,Z:H7e,"%":J7e};v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),T.x=w(n,T),T.X=w(r,T),T.c=w(t,T);function w(he,fe){return function(Se){var me=[],Je=-1,Ge=0,qe=he.length,Le,Ae,Ve;for(Se instanceof Date||(Se=new Date(+Se));++Je<qe;)he.charCodeAt(Je)===37&&(me.push(he.slice(Ge,Je)),(Ae=xV[Le=he.charAt(++Je)])!=null?Le=he.charAt(++Je):Ae=Le==="e"?" ":"0",(Ve=fe[Le])&&(Le=Ve(Se,Ae)),me.push(Le),Ge=Je+1);return me.push(he.slice(Ge,Je)),me.join("")}}function x(he,fe){return function(Se){var me=Jg(1900,void 0,1),Je=A(me,he,Se+="",0),Ge,qe;if(Je!=Se.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(fe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ge=DO(Jg(me.y,0,1)),qe=Ge.getUTCDay(),Ge=qe>4||qe===0?QT.ceil(Ge):QT(Ge),Ge=w3.offset(Ge,(me.V-1)*7),me.y=Ge.getUTCFullYear(),me.m=Ge.getUTCMonth(),me.d=Ge.getUTCDate()+(me.w+6)%7):(Ge=kO(Jg(me.y,0,1)),qe=Ge.getDay(),Ge=qe>4||qe===0?KT.ceil(Ge):KT(Ge),Ge=dv.offset(Ge,(me.V-1)*7),me.y=Ge.getFullYear(),me.m=Ge.getMonth(),me.d=Ge.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),qe="Z"in me?DO(Jg(me.y,0,1)).getUTCDay():kO(Jg(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(qe+5)%7:me.w+me.U*7-(qe+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,DO(me)):kO(me)}}function A(he,fe,Se,me){for(var Je=0,Ge=fe.length,qe=Se.length,Le,Ae;Je<Ge;){if(me>=qe)return-1;if(Le=fe.charCodeAt(Je++),Le===37){if(Le=fe.charAt(Je++),Ae=S[Le in xV?fe.charAt(Je++):Le],!Ae||(me=Ae(he,Se,me))<0)return-1}else if(Le!=Se.charCodeAt(me++))return-1}return me}function M(he,fe,Se){var me=l.exec(fe.slice(Se));return me?(he.p=c.get(me[0].toLowerCase()),Se+me[0].length):-1}function D(he,fe,Se){var me=h.exec(fe.slice(Se));return me?(he.w=p.get(me[0].toLowerCase()),Se+me[0].length):-1}function $(he,fe,Se){var me=f.exec(fe.slice(Se));return me?(he.w=d.get(me[0].toLowerCase()),Se+me[0].length):-1}function q(he,fe,Se){var me=m.exec(fe.slice(Se));return me?(he.m=_.get(me[0].toLowerCase()),Se+me[0].length):-1}function W(he,fe,Se){var me=g.exec(fe.slice(Se));return me?(he.m=y.get(me[0].toLowerCase()),Se+me[0].length):-1}function V(he,fe,Se){return A(he,t,fe,Se)}function de(he,fe,Se){return A(he,n,fe,Se)}function ae(he,fe,Se){return A(he,r,fe,Se)}function pe(he){return o[he.getDay()]}function ee(he){return s[he.getDay()]}function ie(he){return u[he.getMonth()]}function K(he){return a[he.getMonth()]}function I(he){return i[+(he.getHours()>=12)]}function C(he){return 1+~~(he.getMonth()/3)}function z(he){return o[he.getUTCDay()]}function R(he){return s[he.getUTCDay()]}function P(he){return u[he.getUTCMonth()]}function Y(he){return a[he.getUTCMonth()]}function se(he){return i[+(he.getUTCHours()>=12)]}function ue(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var fe=w(he+="",v);return fe.toString=function(){return he},fe},parse:function(he){var fe=x(he+="",!1);return fe.toString=function(){return he},fe},utcFormat:function(he){var fe=w(he+="",T);return fe.toString=function(){return he},fe},utcParse:function(he){var fe=x(he+="",!0);return fe.toString=function(){return he},fe}}}var xV={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,L7e=/^%/,M7e=/[\\^$*+?|[\]().{}]/g;function bn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function F7e(e){return e.replace(M7e,"\\$&")}function Zg(e){return new RegExp("^(?:"+e.map(F7e).join("|")+")","i")}function e0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function B7e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function j7e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function U7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function V7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function z7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function IV(e,t,n){var r=yi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function AV(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function H7e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function q7e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function W7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function CV(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Y7e(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function OV(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function G7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function K7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Q7e(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function X7e(e,t,n){var r=yi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function J7e(e,t,n){var r=L7e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Z7e(e,t,n){var r=yi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function eze(e,t,n){var r=yi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function PV(e,t){return bn(e.getDate(),t,2)}function tze(e,t){return bn(e.getHours(),t,2)}function nze(e,t){return bn(e.getHours()%12||12,t,2)}function rze(e,t){return bn(1+dv.count(Ul(e),e),t,3)}function Vne(e,t){return bn(e.getMilliseconds(),t,3)}function ize(e,t){return Vne(e,t)+"000"}function sze(e,t){return bn(e.getMonth()+1,t,2)}function oze(e,t){return bn(e.getMinutes(),t,2)}function aze(e,t){return bn(e.getSeconds(),t,2)}function uze(e){var t=e.getDay();return t===0?7:t}function lze(e,t){return bn(OI.count(Ul(e)-1,e),t,2)}function zne(e){var t=e.getDay();return t>=4||t===0?gm(e):gm.ceil(e)}function cze(e,t){return e=zne(e),bn(gm.count(Ul(e),e)+(Ul(e).getDay()===4),t,2)}function fze(e){return e.getDay()}function dze(e,t){return bn(KT.count(Ul(e)-1,e),t,2)}function hze(e,t){return bn(e.getFullYear()%100,t,2)}function pze(e,t){return e=zne(e),bn(e.getFullYear()%100,t,2)}function mze(e,t){return bn(e.getFullYear()%1e4,t,4)}function gze(e,t){var n=e.getDay();return e=n>=4||n===0?gm(e):gm.ceil(e),bn(e.getFullYear()%1e4,t,4)}function yze(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bn(t/60|0,"0",2)+bn(t%60,"0",2)}function RV(e,t){return bn(e.getUTCDate(),t,2)}function _ze(e,t){return bn(e.getUTCHours(),t,2)}function vze(e,t){return bn(e.getUTCHours()%12||12,t,2)}function bze(e,t){return bn(1+w3.count(Xd(e),e),t,3)}function Hne(e,t){return bn(e.getUTCMilliseconds(),t,3)}function wze(e,t){return Hne(e,t)+"000"}function Eze(e,t){return bn(e.getUTCMonth()+1,t,2)}function Tze(e,t){return bn(e.getUTCMinutes(),t,2)}function Sze(e,t){return bn(e.getUTCSeconds(),t,2)}function xze(e){var t=e.getUTCDay();return t===0?7:t}function Ize(e,t){return bn(Une.count(Xd(e)-1,e),t,2)}function qne(e){var t=e.getUTCDay();return t>=4||t===0?ym(e):ym.ceil(e)}function Aze(e,t){return e=qne(e),bn(ym.count(Xd(e),e)+(Xd(e).getUTCDay()===4),t,2)}function Cze(e){return e.getUTCDay()}function Oze(e,t){return bn(QT.count(Xd(e)-1,e),t,2)}function Pze(e,t){return bn(e.getUTCFullYear()%100,t,2)}function Rze(e,t){return e=qne(e),bn(e.getUTCFullYear()%100,t,2)}function Nze(e,t){return bn(e.getUTCFullYear()%1e4,t,4)}function kze(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ym(e):ym.ceil(e),bn(e.getUTCFullYear()%1e4,t,4)}function Dze(){return"+0000"}function NV(){return"%"}function kV(e){return+e}function DV(e){return Math.floor(+e/1e3)}var Uh,Wne,Yne;$ze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $ze(e){return Uh=$7e(e),Wne=Uh.format,Uh.parse,Yne=Uh.utcFormat,Uh.utcParse,Uh}function Lze(e){return new Date(e)}function Mze(e){return e instanceof Date?+e:+new Date(+e)}function Gne(e,t,n,r,i,s,o,a,u,l){var c=jne(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),y=l("%I %p"),m=l("%a %d"),_=l("%b %d"),v=l("%B"),T=l("%Y");function S(w){return(u(w)<w?h:a(w)<w?p:o(w)<w?g:s(w)<w?y:r(w)<w?i(w)<w?m:_:n(w)<w?v:T)(w)}return c.invert=function(w){return new Date(f(w))},c.domain=function(w){return arguments.length?d(Array.from(w,Mze)):d().map(Lze)},c.ticks=function(w){var x=d();return e(x[0],x[x.length-1],w??10)},c.tickFormat=function(w,x){return x==null?S:l(x)},c.nice=function(w){var x=d();return(!w||typeof w.range!="function")&&(w=t(x[0],x[x.length-1],w??10)),w?d(v7e(x,w)):c},c.copy=function(){return Bne(c,Gne(e,t,n,r,i,s,o,a,u,l))},c}function Fze(){return AI.apply(Gne(k7e,D7e,Ul,E3,OI,dv,b3,v3,mp,Wne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bze(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Kne=Bze("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Xr(e){return function(){return e}}const $V=Math.abs,Wi=Math.atan2,Kf=Math.cos,jze=Math.max,$O=Math.min,Ya=Math.sin,gp=Math.sqrt,As=1e-12,Xy=Math.PI,XT=Xy/2,zb=2*Xy;function Uze(e){return e>1?0:e<-1?Xy:Math.acos(e)}function LV(e){return e>=1?XT:e<=-1?-XT:Math.asin(e)}function Vze(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uVe(t)}function zze(e){return e.innerRadius}function Hze(e){return e.outerRadius}function qze(e){return e.startAngle}function Wze(e){return e.endAngle}function Yze(e){return e&&e.padAngle}function Gze(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<As))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function j1(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/gp(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,g=r+f,y=(d+p)/2,m=(h+g)/2,_=p-d,v=g-h,T=_*_+v*v,S=i-s,w=d*g-p*h,x=(v<0?-1:1)*gp(jze(0,S*S*T-w*w)),A=(w*v-_*x)/T,M=(-w*_-v*x)/T,D=(w*v+_*x)/T,$=(-w*_+v*x)/T,q=A-y,W=M-m,V=D-y,de=$-m;return q*q+W*W>V*V+de*de&&(A=D,M=$),{cx:A,cy:M,x01:-c,y01:-f,x11:A*(i/S-1),y11:M*(i/S-1)}}function MV(){var e=zze,t=Hze,n=Xr(0),r=null,i=qze,s=Wze,o=Yze,a=null,u=Vze(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-XT,g=s.apply(this,arguments)-XT,y=$V(g-p),m=g>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>As))a.moveTo(0,0);else if(y>zb-As)a.moveTo(h*Kf(p),h*Ya(p)),a.arc(0,0,h,p,g,!m),d>As&&(a.moveTo(d*Kf(g),d*Ya(g)),a.arc(0,0,d,g,p,m));else{var _=p,v=g,T=p,S=g,w=y,x=y,A=o.apply(this,arguments)/2,M=A>As&&(r?+r.apply(this,arguments):gp(d*d+h*h)),D=$O($V(h-d)/2,+n.apply(this,arguments)),$=D,q=D,W,V;if(M>As){var de=LV(M/d*Ya(A)),ae=LV(M/h*Ya(A));(w-=de*2)>As?(de*=m?1:-1,T+=de,S-=de):(w=0,T=S=(p+g)/2),(x-=ae*2)>As?(ae*=m?1:-1,_+=ae,v-=ae):(x=0,_=v=(p+g)/2)}var pe=h*Kf(_),ee=h*Ya(_),ie=d*Kf(S),K=d*Ya(S);if(D>As){var I=h*Kf(v),C=h*Ya(v),z=d*Kf(T),R=d*Ya(T),P;if(y<Xy)if(P=Gze(pe,ee,z,R,I,C,ie,K)){var Y=pe-P[0],se=ee-P[1],ue=I-P[0],he=C-P[1],fe=1/Ya(Uze((Y*ue+se*he)/(gp(Y*Y+se*se)*gp(ue*ue+he*he)))/2),Se=gp(P[0]*P[0]+P[1]*P[1]);$=$O(D,(d-Se)/(fe-1)),q=$O(D,(h-Se)/(fe+1))}else $=q=0}x>As?q>As?(W=j1(z,R,pe,ee,h,q,m),V=j1(I,C,ie,K,h,q,m),a.moveTo(W.cx+W.x01,W.cy+W.y01),q<D?a.arc(W.cx,W.cy,q,Wi(W.y01,W.x01),Wi(V.y01,V.x01),!m):(a.arc(W.cx,W.cy,q,Wi(W.y01,W.x01),Wi(W.y11,W.x11),!m),a.arc(0,0,h,Wi(W.cy+W.y11,W.cx+W.x11),Wi(V.cy+V.y11,V.cx+V.x11),!m),a.arc(V.cx,V.cy,q,Wi(V.y11,V.x11),Wi(V.y01,V.x01),!m))):(a.moveTo(pe,ee),a.arc(0,0,h,_,v,!m)):a.moveTo(pe,ee),!(d>As)||!(w>As)?a.lineTo(ie,K):$>As?(W=j1(ie,K,I,C,d,-$,m),V=j1(pe,ee,z,R,d,-$,m),a.lineTo(W.cx+W.x01,W.cy+W.y01),$<D?a.arc(W.cx,W.cy,$,Wi(W.y01,W.x01),Wi(V.y01,V.x01),!m):(a.arc(W.cx,W.cy,$,Wi(W.y01,W.x01),Wi(W.y11,W.x11),!m),a.arc(0,0,d,Wi(W.cy+W.y11,W.cx+W.x11),Wi(V.cy+V.y11,V.cx+V.x11),m),a.arc(V.cx,V.cy,$,Wi(V.y11,V.x11),Wi(V.y01,V.x01),!m))):a.arc(0,0,d,S,T,m)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Xy/2;return[Kf(f)*c,Ya(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Xr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Xr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Xr(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Xr(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Xr(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Xr(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Xr(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function Qne(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kze(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Qze(e){return e}function Xze(){var e=Qze,t=Kze,n=null,r=Xr(0),i=Xr(zb),s=Xr(0);function o(a){var u,l=(a=Qne(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),g=+r.apply(this,arguments),y=Math.min(zb,Math.max(-zb,i.apply(this,arguments)-g)),m,_=Math.min(Math.abs(y)/l,s.apply(this,arguments)),v=_*(y<0?-1:1),T;for(u=0;u<l;++u)(T=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=T);for(t!=null?h.sort(function(S,w){return t(p[S],p[w])}):n!=null&&h.sort(function(S,w){return n(a[S],a[w])}),u=0,f=d?(y-l*v)/d:0;u<l;++u,g=m)c=h[u],T=p[c],m=g+(T>0?T*f:0)+v,p[c]={data:a[c],index:u,value:T,startAngle:g,endAngle:m,padAngle:_};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:Xr(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Xr(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Xr(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:Xr(+a),o):s},o}function FV(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function BV(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Jze(e,t){return e[t]}function Zze(e){const t=[];return t.key=e,t}function eHe(){var e=Xr([]),t=BV,n=FV,r=Jze;function i(s){var o=Array.from(e.apply(this,arguments),Zze),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=Qne(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Xr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Xr(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?BV:typeof s=="function"?s:Xr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??FV,i):n},i}function E0(e,t,n){this.k=e,this.x=t,this.y=n}E0.prototype={constructor:E0,scale:function(e){return e===1?this:new E0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new E0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};E0.prototype;function T3({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1}){const u=E.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),l=E.useCallback(c=>(s?Yne("%B"):II(".2s"))(c),[s]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:O.jsx(qd,{children:O.jsx(Ma,{spacing:3,children:O.jsx(_t,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?O.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:f})=>O.jsxs("g",{transform:`translate(${f}, ${n})`,children:[O.jsx("line",{y2:"6",stroke:"currentColor"}),o?O.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,O.jsx("foreignObject",{x:0-u/2,y:10,width:u,height:20,children:O.jsx(qd,{children:O.jsx(IJ,{withinPortal:!0,label:c,children:O.jsx(_t,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:l(s?new Date(c):c)})})})})]},c))]})}const tHe=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:T3},Symbol.toStringTag,{value:"Module"}));function Xne({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=E.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>10?60:u*6},[i]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:O.jsx(qd,{children:O.jsx(Ma,{spacing:3,children:O.jsx(_t,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?O.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>O.jsxs("g",{transform:`translate(${n}, ${l})`,children:[O.jsx("line",{x2:"-6",stroke:"currentColor"}),s?O.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,O.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:O.jsx("foreignObject",{width:a,height:20,children:O.jsx(Ma,{style:{width:"100%",height:"100%"},position:"right",children:O.jsx(_t,{sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const nHe=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:Xne},Symbol.toStringTag,{value:"Module"})),Po={top:15,left:100,right:50,bottom:50};function qR({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=V0(),o=E.useMemo(()=>s-Po.left-Po.right,[s]),a=E.useMemo(()=>i-Po.top-Po.bottom,[i]),u=E.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return CI(Kne).domain(d)},[n,t.category]),l=E.useMemo(()=>e?mf([Po.left,o+Po.left]).domain([0,T9e(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=E.useMemo(()=>e?fv([Po.top,a+Po.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=E.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:O.jsxs("g",{children:[O.jsx("rect",{x:Po.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-Po.left},h),O.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]},h)),[e,u,t.category,l,c]);return c&&l?O.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[O.jsx(T3,{xScale:l,yRange:c.range(),vertPosition:a+Po.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?O.jsx(Xne,{yScale:c,horizontalPosition:Po.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):O.jsx(dh,{})}const rHe=Object.freeze(Object.defineProperty({__proto__:null,Bar:qR,default:qR},Symbol.toStringTag,{value:"Module"})),_n=Array.isArray;function Qs(e){return e!=null?_n(e)?e:[e]:[]}function iHe(e=0,t=1/0){return`${jV(e)} < row_number() && row_number() <= ${jV(t)}`}function jV(e){return e<0?`count() + ${e}`:e}class Jne{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(iHe(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,Qs(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function jt(e){throw Error(e)}function gs(e){return typeof e=="number"}function tr(e){return typeof e=="function"}function PI(e,t){const n=Array(e);if(tr(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let sHe=class extends Jne{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){jt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){jt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){jt("Not implemented")}getter(t){jt("Not implemented")}objects(t){jt("Not implemented")}object(t){jt("Not implemented")}[Symbol.iterator](){jt("Not implemented")}print(t={}){gs(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=PI(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},oHe=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},aHe=function(e){return e&&tr(e.get)?e:new oHe(e)};function Vl(e){return e instanceof Date}function rs(e){return e===Object(e)}function JT(e){return e instanceof RegExp}function Bi(e){return typeof e=="string"}function uHe(e,t){const n=r=>jt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?UV(e.entries(),t):Vl(e)?n("Date"):JT(e)?n("RegExp"):Bi(e)?n():_n(e)?lHe(e,t):tr(e[Symbol.iterator])?cHe(e,t):rs(e)?UV(Object.entries(e),t):n()}function UV(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function lHe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function cHe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:fHe}=Object.prototype;function Fa(e,t){return fHe.call(e,t)}function Co(e){return e?new VV({...e.data()},e.columnNames()):new VV}class VV{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Fa(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const hn=void 0,dHe=Object.getPrototypeOf(Int8Array);function hv(e){return e instanceof dHe}function _d(e){return _n(e)||hv(e)}function Oa(e){return e!=null&&e===e}const t0=e=>_d(e)||Bi(e),hHe={compact:e=>_d(e)?e.filter(t=>Oa(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>t0(e)?e.includes(t,n):!1,indexof:(e,t)=>t0(e)?e.indexOf(t):-1,join:(e,t)=>_d(e)?e.join(t):hn,lastindexof:(e,t)=>t0(e)?e.lastIndexOf(t):-1,length:e=>t0(e)?e.length:0,pluck:(e,t)=>_d(e)?e.map(n=>Oa(n)?n[t]:hn):hn,reverse:e=>_d(e)?e.slice().reverse():Bi(e)?e.split("").reverse().join(""):hn,slice:(e,t,n)=>t0(e)?e.slice(t,n):hn};function pHe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function Hb(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const Ga=e=>(e<10?"0":"")+e,mHe=e=>e<0?"-"+Hb(-e,6):e>9999?"+"+Hb(e,6):Hb(e,4);function Zne(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return mHe(e)+"-"+Ga(t+1)+"-"+Ga(n)+(!u||o?"T"+Ga(r)+":"+Ga(i)+":"+Ga(s)+"."+Hb(o,3)+l:s?"T"+Ga(r)+":"+Ga(i)+":"+Ga(s)+l:i||r||!a?"T"+Ga(r)+":"+Ga(i)+l:"")}function ere(e,t){return isNaN(e)?"Invalid Date":Zne(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function RI(e,t){return isNaN(e)?"Invalid Date":Zne(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const gHe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function yHe(e){return e.match(gHe)}function _He(e,t=Date.parse){return yHe(e)?t(e):e}const tre=6e4,nre=864e5,rre=6048e5,xr=new Date,Ir=new Date,Nr=e=>(xr.setTime(typeof e=="string"?_He(e):e),xr);function vHe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function bHe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function wHe(e){Ir.setTime(+e),Ir.setHours(0,0,0,0),xr.setTime(+Ir),xr.setMonth(0),xr.setDate(1);const t=(Ir.getTimezoneOffset()-xr.getTimezoneOffset())*tre;return Math.floor(1+(Ir-xr-t)/nre)}function EHe(e){Ir.setTime(+e),Ir.setUTCHours(0,0,0,0);const t=Date.UTC(Ir.getUTCFullYear(),0,1);return Math.floor(1+(Ir-t)/nre)}function THe(e,t){const n=t||0;Ir.setTime(+e),Ir.setDate(Ir.getDate()-(Ir.getDay()+7-n)%7),Ir.setHours(0,0,0,0),xr.setTime(+e),xr.setMonth(0),xr.setDate(1),xr.setDate(1-(xr.getDay()+7-n)%7),xr.setHours(0,0,0,0);const r=(Ir.getTimezoneOffset()-xr.getTimezoneOffset())*tre;return Math.floor((1+(Ir-xr)-r)/rre)}function SHe(e,t){const n=t||0;return Ir.setTime(+e),Ir.setUTCDate(Ir.getUTCDate()-(Ir.getUTCDay()+7-n)%7),Ir.setUTCHours(0,0,0,0),xr.setTime(+e),xr.setUTCMonth(0),xr.setUTCDate(1),xr.setUTCDate(1-(xr.getUTCDay()+7-n)%7),xr.setUTCHours(0,0,0,0),Math.floor((1+(Ir-xr))/rre)}const xHe={format_date:(e,t)=>ere(Nr(e),!t),format_utcdate:(e,t)=>RI(Nr(e),!t),timestamp:e=>+Nr(e),year:e=>Nr(e).getFullYear(),quarter:e=>Math.floor(Nr(e).getMonth()/3),month:e=>Nr(e).getMonth(),date:e=>Nr(e).getDate(),dayofweek:e=>Nr(e).getDay(),hours:e=>Nr(e).getHours(),minutes:e=>Nr(e).getMinutes(),seconds:e=>Nr(e).getSeconds(),milliseconds:e=>Nr(e).getMilliseconds(),utcyear:e=>Nr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Nr(e).getUTCMonth()/3),utcmonth:e=>Nr(e).getUTCMonth(),utcdate:e=>Nr(e).getUTCDate(),utcdayofweek:e=>Nr(e).getUTCDay(),utchours:e=>Nr(e).getUTCHours(),utcminutes:e=>Nr(e).getUTCMinutes(),utcseconds:e=>Nr(e).getUTCSeconds(),utcmilliseconds:e=>Nr(e).getUTCMilliseconds(),datetime:vHe,dayofyear:wHe,week:THe,utcdatetime:bHe,utcdayofyear:EHe,utcweek:SHe,now:Date.now};function S3(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Vl(e)||Vl(t)?+e==+t:JT(e)&&JT(t)?e+""==t+"":rs(e)&&rs(t)?IHe(e,t):!1}function IHe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return zV(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!zV(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!S3(e[o],t[o]))return!1}return!0}function zV(e,t,n=S3){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const AHe={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let CHe=Math.random;function rg(){return CHe()}const OHe={random:rg,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function x3(e){return e instanceof Map}function PHe(e){return e instanceof Set}function qb(e){return x3(e)||PHe(e)}function LO(e){return Array.from(e)}const RHe={has:(e,t)=>qb(e)?e.has(t):e!=null?Fa(e,t):!1,keys:e=>x3(e)?LO(e.keys()):e!=null?Object.keys(e):[],values:e=>qb(e)?LO(e.values()):e!=null?Object.values(e):[],entries:e=>qb(e)?LO(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):hn};function NHe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Fa(t,e))return t[e];return n!==void 0?n:e}function kHe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const DHe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},yp={bin:pHe,equal:S3,recode:NHe,sequence:kHe,...hHe,...xHe,...AHe,...OHe,...RHe,...DHe};function Jy(e){return typeof e=="bigint"}function Mu(e){return e===void 0?e+"":Jy(e)?e+"n":JSON.stringify(e)}function Mt(e,t=[],n=[]){return new $He(e,Qs(t),Qs(n))}let $He=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${Mu(n)}]`),...this.params.map(Mu)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const ire=e=>Mt("any",e),sre=()=>Mt("count"),ore=e=>Mt("array_agg",e),are=e=>Mt("array_agg_distinct",e),ure=(e,t)=>Mt("map_agg",[e,t]),lre=(e,t)=>Mt("object_agg",[e,t]),cre=(e,t)=>Mt("entries_agg",[e,t]);({...yp});function LHe(e,t){e=qb(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function MHe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function FHe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,g)=>p+g,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function BHe(e,t,n,r){const i=r==="map"||r===!0?ure:r==="entries"?cre:r==="object"?lre:jt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=LHe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:ore(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const jHe="ArrayPattern",UHe="ArrowFunctionExpression",VHe="FunctionExpression",rf="Identifier",ig="Literal",fre="MemberExpression",zHe="ObjectExpression",dre="ObjectPattern",hre="Property",pv="Column",HHe="Constant",qHe="Dictionary",WHe="Function",YHe="Parameter",pre="Op",qn=(e,t)=>{const n=GHe[e.type];return n?n(e,t):jt(`Unsupported expression construct: ${e.type}`)},MO=(e,t)=>"("+qn(e.left,t)+" "+e.operator+" "+qn(e.right,t)+")",FO=(e,t)=>"("+tu(e.params,t)+")=>"+qn(e.body,t),HV=(e,t)=>qn(e.callee,t)+"("+tu(e.arguments,t)+")",tu=(e,t,n=",")=>e.map(r=>qn(r,t)).join(n),mre=e=>e.computed?`[${Mu(e.name)}]`:`.${e.name}`,qV=(e,t,n)=>{const r=e.table||"";return`data${r}${mre(e)}.${n}(${t.index}${r})`},GHe={Constant:e=>e.raw,Column:(e,t)=>qV(e,t,"get"),Dictionary:(e,t)=>qV(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${mre(e)}`,Op:(e,t)=>`op(${Mu(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+qn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=qn(e.object,t),i=qn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:HV,NewExpression:(e,t)=>"new "+HV(e,t),ArrayExpression:(e,t)=>"["+tu(e.elements,t)+"]",AssignmentExpression:MO,BinaryExpression:MO,LogicalExpression:MO,UnaryExpression:(e,t)=>"("+e.operator+qn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+qn(e.test,t)+"?"+qn(e.consequent,t)+":"+qn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+tu(e.properties,t)+"})",Property:(e,t)=>{const n=qn(e.key,t);return(e.computed?`[${n}]`:n)+":"+qn(e.value,t)},ArrowFunctionExpression:FO,FunctionExpression:FO,FunctionDeclaration:FO,ArrayPattern:(e,t)=>"["+tu(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+tu(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+tu(e.declarations,t,","),VariableDeclarator:(e,t)=>qn(e.id,t)+"="+qn(e.init,t),SpreadElement:(e,t)=>"..."+qn(e.argument,t),BlockStatement:(e,t)=>"{"+tu(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>qn(e.expression,t),IfStatement:(e,t)=>"if ("+qn(e.test,t)+")"+qn(e.consequent,t)+(e.alternate?" else "+qn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+qn(e.discriminant,t)+") {"+tu(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+qn(e.test,t):"default")+": "+tu(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+qn(e.argument,t),Program:(e,t)=>qn(e.body[0],t)};function ZT(e,t={index:"row"}){return qn(e,t)}function KHe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function _m(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Vl(e)?+e:_n(e)||hv(e)?`[${e.map(_m)}]`:JT(e)?e+"":QHe(e)}function QHe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${_m(e[r])}`;return t+="}",t}function eS(e,t){const n=e.length;return n===1?(r,i)=>_m(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=_m(a)}return s}}function XHe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=_m(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=_m(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function al(){}function JHe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Kr(e){return e.init=e.init||al,e.add=e.add||al,e.rem=e.rem||al,e}function WV(e,t){return e.product_v=!1,e.product=t}const gre={count:{create:()=>Kr({value:e=>e.count}),param:[]},array_agg:{create:()=>Kr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Kr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Kr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Kr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Kr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:hn}),param:[1]},valid:{create:()=>Kr({value:e=>e.valid}),param:[1]},invalid:{create:()=>Kr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=XHe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Kr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Kr({value:e=>{let t=hn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:hn,add:(e,t)=>Jy(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>WV(e,1),value:e=>e.valid?e.product_v?WV(e,JHe(e.list.values())):e.product:void 0,add:(e,t)=>Jy(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:hn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Kr({value:e=>e.valid?e.mean:hn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):hn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Kr({value:e=>e.valid>1?e.dev/e.valid:hn}),param:[1],req:["variance"]},stdev:{create:()=>Kr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):hn}),param:[1],req:["variance"]},stdevp:{create:()=>Kr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):hn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=hn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===hn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=hn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===hn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Kr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Kr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):hn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>Kr({value:e=>e.valid>1?e.cov/e.valid:hn}),param:[2],req:["covariance"]},corr:{create:()=>Kr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):hn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Kr({value:i=>KHe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},YV={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},GV={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},yre={row_number:{create(){return{init:al,value:e=>e.index+1}},param:[]},rank:YV,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=YV.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:GV,ntile:{create(e){e=+e,e>0||jt("ntile num must be greater than zero.");const{init:t,value:n}=GV.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=hn){return e=+e||1,{init:al,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=hn){return e=+e||1,{init:al,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:al,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:al,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||jt("nth_value nth must be greater than zero."),{init:al,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):hn}}},param:[1,1]},fill_down:{create(e=hn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Oa(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=hn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=ZHe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function ZHe(e,t,n){for(const r=e.size;n<r;++n)if(Oa(e.value(n,t)))return n;return-1}function I3(e){return Fa(gre,e)}function A3(e){return Fa(yre,e)}function _re(e){return Fa(yp,e)||e==="row_object"}function vre(e){return I3(e)&&gre[e]}function bre(e){return A3(e)&&yre[e]}function n0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const C3={escape:(e,t,n)=>n0(e,t,n),expr:(e,t)=>n0(`(row,data,op)=>${e}`,yp,t),expr2:(e,t)=>n0(`(row0,data0,row,data)=>${e}`,yp,t),join:(e,t)=>n0(`(row1,data1,row2,data2)=>${e}`,yp,t),param:(e,t)=>n0(e,yp,t)},eqe={"==":1,"!=":1,"===":1,"!==":1};function wre(e,t,n=0,r,i){if(e.type=pv,e.name=t,e.table=n,i&&r&&tr(r.keyFor)){const s=eqe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===ig&&tqe(i,e,s,r.keyFor(s.value))}return e}function tqe(e,t,n,r){return r<0?(e.type=ig,e.value=!1,e.raw="false"):(t.type=qHe,n.value=r,n.raw=r+""),!0}function NI(e){return _n(e)?e:x3(e)?e.entries():e?Object.entries(e):[]}const Ere="row_object";function Tre(e,t){e.type=zHe;const n=e.properties=[];for(const r of NI(t)){const[i,s]=_n(r)?r:[r,r];n.push({type:hre,key:{type:ig,raw:Mu(s)},value:wre({computed:!0},i)})}return e}function Sre(e){return ZT(Tre({},e))}function xre(e){return C3.expr(Sre(e))}function O3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ll(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function KV(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sn(e){return this instanceof sn?(this.v=e,this):new sn(e)}function vd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof sn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function BO(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:sn(e[i](o)),done:!1}:s?s(o):o}:s}}function oy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof KV=="function"?KV(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const nqe=new TextDecoder("utf-8"),WR=e=>nqe.decode(e),rqe=new TextEncoder,P3=e=>rqe.encode(e),[Bct,Ire]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[wh,jct]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[Eh,Uct]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),iqe=e=>typeof e=="boolean",Ns=e=>typeof e=="function",Mf=e=>e!=null&&Object(e)===e,kI=e=>Mf(e)&&Ns(e.then),R3=e=>Mf(e)&&Ns(e[Symbol.iterator]),DI=e=>Mf(e)&&Ns(e[Symbol.asyncIterator]),sqe=e=>Mf(e)&&"done"in e&&"value"in e,Are=e=>"_getDOMStream"in e&&"_getNodeStream"in e,oqe=e=>Mf(e)&&Ns(e.abort)&&Ns(e.getWriter)&&!Are(e),aqe=e=>Mf(e)&&Ns(e.end)&&Ns(e.write)&&iqe(e.writable)&&!Are(e),uqe=e=>Mf(e)&&Ns(e.clear)&&Ns(e.bytes)&&Ns(e.position)&&Ns(e.setPosition)&&Ns(e.capacity)&&Ns(e.getBufferIdentifier)&&Ns(e.createLong),N3=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function lqe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function tS(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function Fu(e,t){const n=lqe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?tS(o,s,a):o=s;break}tS(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function Ii(e,t){let n=sqe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=P3(n)),n instanceof ArrayBuffer?new e(n):n instanceof N3?new e(n):uqe(n)?Ii(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const r0=e=>Ii(Int32Array,e),Pn=e=>Ii(Uint8Array,e),YR=e=>(e.next(),e);function*cqe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof N3?n(t):R3(t)?t:n(t);return yield*YR(function*(i){let s=null;do s=i.next(yield Ii(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const fqe=e=>cqe(Uint8Array,e);function Cre(e,t){return vd(this,arguments,function*(){if(kI(t))return yield sn(yield sn(yield*BO(oy(Cre(e,yield sn(t))))));const r=function(o){return vd(this,arguments,function*(){yield yield sn(yield sn(o))})},i=function(o){return vd(this,arguments,function*(){yield sn(yield*BO(oy(YR(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof N3?r(t):R3(t)?i(t):DI(t)?t:r(t);return yield sn(yield*BO(oy(YR(function(o){return vd(this,arguments,function*(){let a=null;do a=yield sn(o.next(yield yield sn(Ii(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield sn(new e)})}const dqe=e=>Cre(Uint8Array,e);function k3(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function hqe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const QV={fromIterable(e){return U1(pqe(e))},fromAsyncIterable(e){return U1(mqe(e))},fromDOMStream(e){return U1(gqe(e))},fromNodeStream(e){return U1(_qe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},U1=e=>(e.next(),e);function*pqe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?Fu(r,o)[0]:([i,r,a]=Fu(r,o),i)}({cmd:s,size:o}=yield null);const l=fqe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function mqe(e){return vd(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Fu(i,a)[0]:([s,i,u]=Fu(i,a),s)}({cmd:o,size:a}=yield yield sn(null));const c=dqe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield sn(c.next()):yield sn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield sn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield sn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield sn(c.return(new Uint8Array(0))))}return yield sn(null)})}function gqe(e){return vd(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Fu(i,a)[0]:([s,i,u]=Fu(i,a),s)}({cmd:o,size:a}=yield yield sn(null));const c=new yqe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield sn(c.read()):yield sn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Pn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield sn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield sn(c.cancel(f)))}finally{r===!1?yield sn(c.cancel()):e.locked&&c.releaseLock()}return yield sn(null)})}class yqe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return ll(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return ll(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Pn(n)),n})}}const jO=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function _qe(e){return vd(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?Fu(l,a)[0]:([c,l,u]=Fu(l,a),c)}if({cmd:o,size:a}=yield yield sn(null),e.isTTY)return yield yield sn(new Uint8Array(0)),yield sn(null);try{n[0]=jO(e,"end"),n[1]=jO(e,"error");do{if(n[2]=jO(e,"readable"),[r,s]=yield sn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Pn(e.read(a-u)),c.byteLength<a-u&&(c=Pn(e.read()))):c=Pn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield sn(f()));while(a<u)}while(!i)}finally{yield sn(d(n,r==="error"?s:null))}return yield sn(null);function d(h,p){return c=l=null,new Promise((g,y)=>{for(const[m,_]of h)e.off(m,_);try{const m=e.destroy;m&&m.call(e,p),p=void 0}catch(m){p=m||p}finally{p!=null?y(p):g()}})}})}var co;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(co||(co={}));var ea;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ea||(ea={}));var ki;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(ki||(ki={}));var Bu;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Bu||(Bu={}));var on;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(on||(on={}));var ju;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(ju||(ju={}));var di;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(di||(di={}));var J;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(J||(J={}));var il;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(il||(il={}));const vqe=void 0;function sf(e){if(e===null)return"null";if(e===vqe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof wh||e instanceof Eh?`[${[...e].map(t=>sf(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const bqe=Symbol.for("isArrowBigNum");function qa(e,...t){return t.length===0?Object.setPrototypeOf(Ii(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}qa.prototype[bqe]=!0;qa.prototype.toJSON=function(){return`"${kd(this)}"`};qa.prototype.valueOf=function(){return Ore(this)};qa.prototype.toString=function(){return kd(this)};qa.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Ore(this);case"string":return kd(this);case"default":return GR(this)}return kd(this)};function Up(...e){return qa.apply(this,e)}function Vp(...e){return qa.apply(this,e)}function Zy(...e){return qa.apply(this,e)}Object.setPrototypeOf(Up.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Vp.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Zy.prototype,Object.create(Uint32Array.prototype));Object.assign(Up.prototype,qa.prototype,{constructor:Up,signed:!0,TypedArray:Int32Array,BigIntArray:wh});Object.assign(Vp.prototype,qa.prototype,{constructor:Vp,signed:!1,TypedArray:Uint32Array,BigIntArray:Eh});Object.assign(Zy.prototype,qa.prototype,{constructor:Zy,signed:!0,TypedArray:Uint32Array,BigIntArray:Eh});function Ore(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new Eh(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}let kd,GR;Ire?(GR=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:UO(e),kd=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:UO(e)):(kd=UO,GR=kd);function UO(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class D3{static new(t,n){switch(n){case!0:return new Up(t);case!1:return new Vp(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case wh:return new Up(t)}return t.byteLength===16?new Zy(t):new Vp(t)}static signed(t){return new Up(t)}static unsigned(t){return new Vp(t)}static decimal(t){return new Zy(t)}constructor(t,n){return D3.new(t,n)}}var Pre,Rre,Nre,kre,Dre,$re,Lre,Mre,Fre,Bre,jre,Ure,Vre,zre,Hre,qre,Wre,Yre,Gre;class Qt{static isNull(t){return(t==null?void 0:t.typeId)===J.Null}static isInt(t){return(t==null?void 0:t.typeId)===J.Int}static isFloat(t){return(t==null?void 0:t.typeId)===J.Float}static isBinary(t){return(t==null?void 0:t.typeId)===J.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===J.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===J.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===J.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===J.Date}static isTime(t){return(t==null?void 0:t.typeId)===J.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===J.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===J.Interval}static isList(t){return(t==null?void 0:t.typeId)===J.List}static isStruct(t){return(t==null?void 0:t.typeId)===J.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===J.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===J.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===J.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===J.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===J.Dictionary}static isDenseUnion(t){return Qt.isUnion(t)&&t.mode===ea.Dense}static isSparseUnion(t){return Qt.isUnion(t)&&t.mode===ea.Sparse}get typeId(){return J.NONE}}Pre=Symbol.toStringTag;Qt[Pre]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Qt.prototype);let zl=class extends Qt{toString(){return"Null"}get typeId(){return J.Null}};Rre=Symbol.toStringTag;zl[Rre]=(e=>e[Symbol.toStringTag]="Null")(zl.prototype);class ys extends Qt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return J.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?wh:Eh}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Nre=Symbol.toStringTag;ys[Nre]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(ys.prototype);class $3 extends ys{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class L3 extends ys{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class gf extends ys{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class M3 extends ys{constructor(){super(!0,64)}get ArrayType(){return wh}}class F3 extends ys{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class B3 extends ys{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class j3 extends ys{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class U3 extends ys{constructor(){super(!1,64)}get ArrayType(){return Eh}}Object.defineProperty($3.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(L3.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(gf.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(M3.prototype,"ArrayType",{value:wh});Object.defineProperty(F3.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(B3.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(j3.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(U3.prototype,"ArrayType",{value:Eh});class yf extends Qt{constructor(t){super(),this.precision=t}get typeId(){return J.Float}get ArrayType(){switch(this.precision){case ki.HALF:return Uint16Array;case ki.SINGLE:return Float32Array;case ki.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}kre=Symbol.toStringTag;yf[kre]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(yf.prototype);class Kre extends yf{constructor(){super(ki.HALF)}}class V3 extends yf{constructor(){super(ki.SINGLE)}}class z3 extends yf{constructor(){super(ki.DOUBLE)}}Object.defineProperty(Kre.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(V3.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(z3.prototype,"ArrayType",{value:Float64Array});let e_=class extends Qt{constructor(){super()}get typeId(){return J.Binary}toString(){return"Binary"}};Dre=Symbol.toStringTag;e_[Dre]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(e_.prototype);let vm=class extends Qt{constructor(){super()}get typeId(){return J.Utf8}toString(){return"Utf8"}};$re=Symbol.toStringTag;vm[$re]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(vm.prototype);let t_=class extends Qt{constructor(){super()}get typeId(){return J.Bool}toString(){return"Bool"}};Lre=Symbol.toStringTag;t_[Lre]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(t_.prototype);let nS=class extends Qt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return J.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Mre=Symbol.toStringTag;nS[Mre]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(nS.prototype);class bm extends Qt{constructor(t){super(),this.unit=t}get typeId(){return J.Date}toString(){return`Date${(this.unit+1)*32}<${Bu[this.unit]}>`}}Fre=Symbol.toStringTag;bm[Fre]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(bm.prototype);class wqe extends bm{constructor(){super(Bu.DAY)}}class Eqe extends bm{constructor(){super(Bu.MILLISECOND)}}class Hl extends Qt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return J.Time}toString(){return`Time${this.bitWidth}<${on[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return wh}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Bre=Symbol.toStringTag;Hl[Bre]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Hl.prototype);class Tqe extends Hl{constructor(){super(on.SECOND,32)}}class Sqe extends Hl{constructor(){super(on.MILLISECOND,32)}}class xqe extends Hl{constructor(){super(on.MICROSECOND,64)}}class Iqe extends Hl{constructor(){super(on.NANOSECOND,64)}}class rS extends Qt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return J.Timestamp}toString(){return`Timestamp<${on[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}jre=Symbol.toStringTag;rS[jre]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(rS.prototype);class wm extends Qt{constructor(t){super(),this.unit=t}get typeId(){return J.Interval}toString(){return`Interval<${ju[this.unit]}>`}}Ure=Symbol.toStringTag;wm[Ure]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(wm.prototype);class Aqe extends wm{constructor(){super(ju.DAY_TIME)}}class Cqe extends wm{constructor(){super(ju.YEAR_MONTH)}}let Em=class extends Qt{constructor(t){super(),this.children=[t]}get typeId(){return J.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Vre=Symbol.toStringTag;Em[Vre]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(Em.prototype);class Zi extends Qt{constructor(t){super(),this.children=t}get typeId(){return J.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}zre=Symbol.toStringTag;Zi[zre]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Zi.prototype);class n_ extends Qt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return J.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Hre=Symbol.toStringTag;n_[Hre]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(n_.prototype);let iS=class extends Qt{constructor(t){super(),this.byteWidth=t}get typeId(){return J.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};qre=Symbol.toStringTag;iS[qre]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(iS.prototype);let Tm=class extends Qt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return J.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Wre=Symbol.toStringTag;Tm[Wre]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(Tm.prototype);class r_ extends Qt{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return J.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Yre=Symbol.toStringTag;r_[Yre]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(r_.prototype);const Oqe=(e=>()=>++e)(-1);class _f extends Qt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?Oqe():typeof r=="number"?r:r.low}get typeId(){return J.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Gre=Symbol.toStringTag;_f[Gre]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(_f.prototype);function iu(e){const t=e;switch(e.typeId){case J.Decimal:return e.bitWidth/32;case J.Timestamp:return 2;case J.Date:return 1+t.unit;case J.Interval:return 1+t.unit;case J.FixedSizeList:return t.listSize;case J.FixedSizeBinary:return t.byteWidth;default:return 1}}class an{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return Pqe(this,t,n)}getVisitFnByTypeId(t,n=!0){return Yh(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function Pqe(e,t,n=!0){return typeof t=="number"?Yh(e,t,n):typeof t=="string"&&t in J?Yh(e,J[t],n):t&&t instanceof Qt?Yh(e,XV(t),n):t!=null&&t.type&&t.type instanceof Qt?Yh(e,XV(t.type),n):Yh(e,J.NONE,n)}function Yh(e,t,n=!0){let r=null;switch(t){case J.Null:r=e.visitNull;break;case J.Bool:r=e.visitBool;break;case J.Int:r=e.visitInt;break;case J.Int8:r=e.visitInt8||e.visitInt;break;case J.Int16:r=e.visitInt16||e.visitInt;break;case J.Int32:r=e.visitInt32||e.visitInt;break;case J.Int64:r=e.visitInt64||e.visitInt;break;case J.Uint8:r=e.visitUint8||e.visitInt;break;case J.Uint16:r=e.visitUint16||e.visitInt;break;case J.Uint32:r=e.visitUint32||e.visitInt;break;case J.Uint64:r=e.visitUint64||e.visitInt;break;case J.Float:r=e.visitFloat;break;case J.Float16:r=e.visitFloat16||e.visitFloat;break;case J.Float32:r=e.visitFloat32||e.visitFloat;break;case J.Float64:r=e.visitFloat64||e.visitFloat;break;case J.Utf8:r=e.visitUtf8;break;case J.Binary:r=e.visitBinary;break;case J.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case J.Date:r=e.visitDate;break;case J.DateDay:r=e.visitDateDay||e.visitDate;break;case J.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case J.Timestamp:r=e.visitTimestamp;break;case J.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case J.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case J.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case J.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case J.Time:r=e.visitTime;break;case J.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case J.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case J.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case J.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case J.Decimal:r=e.visitDecimal;break;case J.List:r=e.visitList;break;case J.Struct:r=e.visitStruct;break;case J.Union:r=e.visitUnion;break;case J.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case J.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case J.Dictionary:r=e.visitDictionary;break;case J.Interval:r=e.visitInterval;break;case J.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case J.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case J.FixedSizeList:r=e.visitFixedSizeList;break;case J.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${J[t]}'`)}function XV(e){switch(e.typeId){case J.Null:return J.Null;case J.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?J.Int8:J.Uint8;case 16:return n?J.Int16:J.Uint16;case 32:return n?J.Int32:J.Uint32;case 64:return n?J.Int64:J.Uint64}return J.Int}case J.Float:switch(e.precision){case ki.HALF:return J.Float16;case ki.SINGLE:return J.Float32;case ki.DOUBLE:return J.Float64}return J.Float;case J.Binary:return J.Binary;case J.Utf8:return J.Utf8;case J.Bool:return J.Bool;case J.Decimal:return J.Decimal;case J.Time:switch(e.unit){case on.SECOND:return J.TimeSecond;case on.MILLISECOND:return J.TimeMillisecond;case on.MICROSECOND:return J.TimeMicrosecond;case on.NANOSECOND:return J.TimeNanosecond}return J.Time;case J.Timestamp:switch(e.unit){case on.SECOND:return J.TimestampSecond;case on.MILLISECOND:return J.TimestampMillisecond;case on.MICROSECOND:return J.TimestampMicrosecond;case on.NANOSECOND:return J.TimestampNanosecond}return J.Timestamp;case J.Date:switch(e.unit){case Bu.DAY:return J.DateDay;case Bu.MILLISECOND:return J.DateMillisecond}return J.Date;case J.Interval:switch(e.unit){case ju.DAY_TIME:return J.IntervalDayTime;case ju.YEAR_MONTH:return J.IntervalYearMonth}return J.Interval;case J.Map:return J.Map;case J.List:return J.List;case J.Struct:return J.Struct;case J.Union:switch(e.mode){case ea.Dense:return J.DenseUnion;case ea.Sparse:return J.SparseUnion}return J.Union;case J.FixedSizeBinary:return J.FixedSizeBinary;case J.FixedSizeList:return J.FixedSizeList;case J.Dictionary:return J.Dictionary}throw new Error(`Unrecognized type '${J[e.typeId]}'`)}an.prototype.visitInt8=null;an.prototype.visitInt16=null;an.prototype.visitInt32=null;an.prototype.visitInt64=null;an.prototype.visitUint8=null;an.prototype.visitUint16=null;an.prototype.visitUint32=null;an.prototype.visitUint64=null;an.prototype.visitFloat16=null;an.prototype.visitFloat32=null;an.prototype.visitFloat64=null;an.prototype.visitDateDay=null;an.prototype.visitDateMillisecond=null;an.prototype.visitTimestampSecond=null;an.prototype.visitTimestampMillisecond=null;an.prototype.visitTimestampMicrosecond=null;an.prototype.visitTimestampNanosecond=null;an.prototype.visitTimeSecond=null;an.prototype.visitTimeMillisecond=null;an.prototype.visitTimeMicrosecond=null;an.prototype.visitTimeNanosecond=null;an.prototype.visitDenseUnion=null;an.prototype.visitSparseUnion=null;an.prototype.visitIntervalDayTime=null;an.prototype.visitIntervalYearMonth=null;const Qre=new Float64Array(1),Vh=new Uint32Array(Qre.buffer);function Xre(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function Jre(e){if(e!==e)return 32256;Qre[0]=e;const t=(Vh[1]&2147483648)>>16&65535;let n=Vh[1]&2146435072,r=0;return n>=1089470464?Vh[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Vh[1]&1048575)>>10):n<=1056964608?(r=1048576+(Vh[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Vh[1]&1048575)+512>>10),t|n|r&65535}class kt extends an{}function Ft(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const Rqe=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},H3=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},Nqe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},kqe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Zre=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},Dqe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},sc=({values:e},t,n)=>{e[t]=n},q3=({values:e},t,n)=>{e[t]=n},eie=({values:e},t,n)=>{e[t]=Jre(n)},$qe=(e,t,n)=>{switch(e.type.precision){case ki.HALF:return eie(e,t,n);case ki.SINGLE:case ki.DOUBLE:return q3(e,t,n)}},W3=({values:e},t,n)=>{Rqe(e,t,n.valueOf())},Y3=({values:e},t,n)=>{H3(e,t*2,n.valueOf())},tie=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},Lqe=({values:e,valueOffsets:t},n,r)=>Zre(e,t,n,r),Mqe=({values:e,valueOffsets:t},n,r)=>{Zre(e,t,n,P3(r))},nie=(e,t,n)=>{e.type.unit===Bu.DAY?W3(e,t,n):Y3(e,t,n)},G3=({values:e},t,n)=>H3(e,t*2,n/1e3),K3=({values:e},t,n)=>H3(e,t*2,n),Q3=({values:e},t,n)=>Nqe(e,t*2,n),X3=({values:e},t,n)=>kqe(e,t*2,n),rie=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return G3(e,t,n);case on.MILLISECOND:return K3(e,t,n);case on.MICROSECOND:return Q3(e,t,n);case on.NANOSECOND:return X3(e,t,n)}},J3=({values:e},t,n)=>{e[t]=n},Z3=({values:e},t,n)=>{e[t]=n},e6=({values:e},t,n)=>{e[t]=n},t6=({values:e},t,n)=>{e[t]=n},iie=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return J3(e,t,n);case on.MILLISECOND:return Z3(e,t,n);case on.MICROSECOND:return e6(e,t,n);case on.NANOSECOND:return t6(e,t,n)}},sie=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},Fqe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=ta.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},Bqe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=ta.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},jqe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),Uqe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),Vqe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),zqe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),Hqe=(e,t,n)=>{const r=e.type.children.map(s=>ta.getVisitFn(s.type)),i=n instanceof Map?Vqe(t,n):n instanceof vn?Uqe(t,n):Array.isArray(n)?jqe(t,n):zqe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},qqe=(e,t,n)=>{e.type.mode===ea.Dense?oie(e,t,n):aie(e,t,n)},oie=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ta.visit(i,e.valueOffsets[t],n)},aie=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ta.visit(i,t,n)},Wqe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},uie=(e,t,n)=>{e.type.unit===ju.DAY_TIME?n6(e,t,n):r6(e,t,n)},n6=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},r6=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},Yqe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=ta.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};kt.prototype.visitBool=Ft(Dqe);kt.prototype.visitInt=Ft(sc);kt.prototype.visitInt8=Ft(sc);kt.prototype.visitInt16=Ft(sc);kt.prototype.visitInt32=Ft(sc);kt.prototype.visitInt64=Ft(sc);kt.prototype.visitUint8=Ft(sc);kt.prototype.visitUint16=Ft(sc);kt.prototype.visitUint32=Ft(sc);kt.prototype.visitUint64=Ft(sc);kt.prototype.visitFloat=Ft($qe);kt.prototype.visitFloat16=Ft(eie);kt.prototype.visitFloat32=Ft(q3);kt.prototype.visitFloat64=Ft(q3);kt.prototype.visitUtf8=Ft(Mqe);kt.prototype.visitBinary=Ft(Lqe);kt.prototype.visitFixedSizeBinary=Ft(tie);kt.prototype.visitDate=Ft(nie);kt.prototype.visitDateDay=Ft(W3);kt.prototype.visitDateMillisecond=Ft(Y3);kt.prototype.visitTimestamp=Ft(rie);kt.prototype.visitTimestampSecond=Ft(G3);kt.prototype.visitTimestampMillisecond=Ft(K3);kt.prototype.visitTimestampMicrosecond=Ft(Q3);kt.prototype.visitTimestampNanosecond=Ft(X3);kt.prototype.visitTime=Ft(iie);kt.prototype.visitTimeSecond=Ft(J3);kt.prototype.visitTimeMillisecond=Ft(Z3);kt.prototype.visitTimeMicrosecond=Ft(e6);kt.prototype.visitTimeNanosecond=Ft(t6);kt.prototype.visitDecimal=Ft(sie);kt.prototype.visitList=Ft(Fqe);kt.prototype.visitStruct=Ft(Hqe);kt.prototype.visitUnion=Ft(qqe);kt.prototype.visitDenseUnion=Ft(oie);kt.prototype.visitSparseUnion=Ft(aie);kt.prototype.visitDictionary=Ft(Wqe);kt.prototype.visitInterval=Ft(uie);kt.prototype.visitIntervalDayTime=Ft(n6);kt.prototype.visitIntervalYearMonth=Ft(r6);kt.prototype.visitFixedSizeList=Ft(Yqe);kt.prototype.visitMap=Ft(Bqe);const ta=new kt,wa=Symbol.for("parent"),zp=Symbol.for("rowIndex");class i6{constructor(t,n){return this[wa]=t,this[zp]=n,new Proxy(this,new Kqe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[zp],n=this[wa],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Xs.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${sf(t)}: ${sf(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Gqe(this[wa],this[zp])}}class Gqe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Xs.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(i6.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[wa]:{writable:!0,enumerable:!1,configurable:!1,value:null},[zp]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Kqe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[wa].type.children.map(n=>n.name)}has(t,n){return t[wa].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[wa].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[wa].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Xs.visit(t[wa].children[r],t[zp]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[wa].type.children.findIndex(s=>s.name===n);return i!==-1?(ta.visit(t[wa].children[i],t[zp],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class Ct extends an{}function Dt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const Qqe=(e,t)=>864e5*e[t],s6=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),Xqe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,Jqe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,lie=e=>new Date(e),Zqe=(e,t)=>lie(Qqe(e,t)),eWe=(e,t)=>lie(s6(e,t)),tWe=(e,t)=>null,cie=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},nWe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},fie=({values:e},t)=>Zqe(e,t),die=({values:e},t)=>eWe(e,t*2),Ff=({stride:e,values:t},n)=>t[e*n],rWe=({stride:e,values:t},n)=>Xre(t[e*n]),hie=({values:e},t)=>e[t],iWe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),sWe=({values:e,valueOffsets:t},n)=>cie(e,t,n),oWe=({values:e,valueOffsets:t},n)=>{const r=cie(e,t,n);return r!==null?WR(r):null},aWe=({values:e},t)=>e[t],uWe=({type:e,values:t},n)=>e.precision!==ki.HALF?t[n]:Xre(t[n]),lWe=(e,t)=>e.type.unit===Bu.DAY?fie(e,t):die(e,t),pie=({values:e},t)=>1e3*s6(e,t*2),mie=({values:e},t)=>s6(e,t*2),gie=({values:e},t)=>Xqe(e,t*2),yie=({values:e},t)=>Jqe(e,t*2),cWe=(e,t)=>{switch(e.type.unit){case on.SECOND:return pie(e,t);case on.MILLISECOND:return mie(e,t);case on.MICROSECOND:return gie(e,t);case on.NANOSECOND:return yie(e,t)}},_ie=({values:e},t)=>e[t],vie=({values:e},t)=>e[t],bie=({values:e},t)=>e[t],wie=({values:e},t)=>e[t],fWe=(e,t)=>{switch(e.type.unit){case on.SECOND:return _ie(e,t);case on.MILLISECOND:return vie(e,t);case on.MICROSECOND:return bie(e,t);case on.NANOSECOND:return wie(e,t)}},dWe=({values:e,stride:t},n)=>D3.decimal(e.subarray(t*n,t*(n+1))),hWe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new vn([u])},pWe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new $I(o.slice(i,s-i))},mWe=(e,t)=>new i6(e,t),gWe=(e,t)=>e.type.mode===ea.Dense?Eie(e,t):Tie(e,t),Eie=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Xs.visit(r,e.valueOffsets[t])},Tie=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Xs.visit(r,t)},yWe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},_We=(e,t)=>e.type.unit===ju.DAY_TIME?Sie(e,t):xie(e,t),Sie=({values:e},t)=>e.subarray(2*t,2*(t+1)),xie=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},vWe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new vn([s])};Ct.prototype.visitNull=Dt(tWe);Ct.prototype.visitBool=Dt(nWe);Ct.prototype.visitInt=Dt(aWe);Ct.prototype.visitInt8=Dt(Ff);Ct.prototype.visitInt16=Dt(Ff);Ct.prototype.visitInt32=Dt(Ff);Ct.prototype.visitInt64=Dt(hie);Ct.prototype.visitUint8=Dt(Ff);Ct.prototype.visitUint16=Dt(Ff);Ct.prototype.visitUint32=Dt(Ff);Ct.prototype.visitUint64=Dt(hie);Ct.prototype.visitFloat=Dt(uWe);Ct.prototype.visitFloat16=Dt(rWe);Ct.prototype.visitFloat32=Dt(Ff);Ct.prototype.visitFloat64=Dt(Ff);Ct.prototype.visitUtf8=Dt(oWe);Ct.prototype.visitBinary=Dt(sWe);Ct.prototype.visitFixedSizeBinary=Dt(iWe);Ct.prototype.visitDate=Dt(lWe);Ct.prototype.visitDateDay=Dt(fie);Ct.prototype.visitDateMillisecond=Dt(die);Ct.prototype.visitTimestamp=Dt(cWe);Ct.prototype.visitTimestampSecond=Dt(pie);Ct.prototype.visitTimestampMillisecond=Dt(mie);Ct.prototype.visitTimestampMicrosecond=Dt(gie);Ct.prototype.visitTimestampNanosecond=Dt(yie);Ct.prototype.visitTime=Dt(fWe);Ct.prototype.visitTimeSecond=Dt(_ie);Ct.prototype.visitTimeMillisecond=Dt(vie);Ct.prototype.visitTimeMicrosecond=Dt(bie);Ct.prototype.visitTimeNanosecond=Dt(wie);Ct.prototype.visitDecimal=Dt(dWe);Ct.prototype.visitList=Dt(hWe);Ct.prototype.visitStruct=Dt(mWe);Ct.prototype.visitUnion=Dt(gWe);Ct.prototype.visitDenseUnion=Dt(Eie);Ct.prototype.visitSparseUnion=Dt(Tie);Ct.prototype.visitDictionary=Dt(yWe);Ct.prototype.visitInterval=Dt(_We);Ct.prototype.visitIntervalDayTime=Dt(Sie);Ct.prototype.visitIntervalYearMonth=Dt(xie);Ct.prototype.visitFixedSizeList=Dt(vWe);Ct.prototype.visitMap=Dt(pWe);const Xs=new Ct,Ca=Symbol.for("keys"),Hp=Symbol.for("vals");class $I{constructor(t){return this[Ca]=new vn([t.children[0]]).memoize(),this[Hp]=t.children[1],new Proxy(this,new wWe)}[Symbol.iterator](){return new bWe(this[Ca],this[Hp])}get size(){return this[Ca].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ca],n=this[Hp],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Xs.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${sf(t)}: ${sf(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class bWe{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Xs.visit(this.vals,t)]})}}class wWe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ca].toArray().map(String)}has(t,n){return t[Ca].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Ca].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Ca].indexOf(n);if(r!==-1){const i=Xs.visit(Reflect.get(t,Hp),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Ca].indexOf(n);return i!==-1?(ta.visit(Reflect.get(t,Hp),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties($I.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ca]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Hp]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let JV;function Iie(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(JV=s,s=o,o=JV),o>i&&(o=i),r?r(e,s,o):[s,o]}const ZV=e=>e!==e;function sg(e){if(typeof e!=="object"||e===null)return ZV(e)?ZV:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?hqe(e,n):!1:e instanceof Map?TWe(e):Array.isArray(e)?EWe(e):e instanceof vn?SWe(e):xWe(e,!0)}function EWe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=sg(e[n]);return LI(t)}function TWe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=sg(r);return LI(n)}function SWe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=sg(e.get(n));return LI(t)}function xWe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=sg(e[n[i]]);return LI(r,n)}function LI(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return IWe(e,n);case Map:return e7(e,n,n.keys());case $I:case i6:case Object:case void 0:return e7(e,n,t||Object.keys(n))}return n instanceof vn?AWe(e,n):!1}}function IWe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function AWe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function e7(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function Aie(e,t,n,r){return(n&1<<r)!==0}function CWe(e,t,n,r){return(n&1<<r)>>r}function o6(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):Cie(new a6(n,e,t,null,Aie)).subarray(0,r)),i}return n}function Cie(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class a6{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function KR(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new a6(e,t,n-t,e,CWe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return KR(e,t,i)+KR(e,r,n)+OWe(e,i>>3,r-i>>3)}function OWe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=VO(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=VO(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=VO(s.getUint8(i)),i+=1;return r}function VO(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const PWe=-1;class Mn{constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Mn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=iu(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=PWe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-KR(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:u}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:u,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Mn(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===J.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(o6(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[il.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[il.TYPE])&&(o[il.TYPE]=s.subarray(t,t+n)),(s=o[il.OFFSET])&&(o[il.OFFSET]=s.subarray(t,t+n+1))||(s=o[il.DATA])&&(o[il.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Mn.prototype.children=Object.freeze([]);class ay extends an{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Mn(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.data),s=Pn(t.nullBitmap),o=r0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.data),s=Pn(t.nullBitmap),o=r0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Pn(t.nullBitmap),o=r0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Pn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Pn(t.nullBitmap),o=Ii(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;if(Qt.isSparseUnion(n))return new Mn(n,r,a,u,[void 0,void 0,s,o],i);const l=r0(t.valueOffsets);return new Mn(n,r,a,u,[l,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.indices.ArrayType,t.data),{["dictionary"]:o=new vn([new ay().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new ay().visit({type:n.valueType})}=t,s=Pn(t.nullBitmap),{["length"]:o=i.length/iu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new ay().visit({type:n.childType})}=t,s=Pn(t.nullBitmap),o=r0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}}function Qi(e){return new ay().visit(e)}class t7{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Oie(e){return e.reduce((t,n)=>t+n.nullCount,0)}function Pie(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function Rie(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function u6(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function l6(e,t){return e.getValid(t)}function qp(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return u6(r,this._offsets,n,t)}}function Nie(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=u6(s,this._offsets,r,n);return t=void 0,o}}function kie(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):u6(s,this._offsets,i,n);return t=void 0,o}}class Ot extends an{}function RWe(e,t){return t===null&&e.length>0?0:-1}function NWe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new a6(n,e.offset+(t||0),e.length,n,Aie)){if(!i)return r;++r}return-1}function Vt(e,t,n){if(t===void 0)return-1;if(t===null)return NWe(e,n);const r=Xs.getVisitFn(e),i=sg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Die(e,t,n){const r=Xs.getVisitFn(e),i=sg(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Ot.prototype.visitNull=RWe;Ot.prototype.visitBool=Vt;Ot.prototype.visitInt=Vt;Ot.prototype.visitInt8=Vt;Ot.prototype.visitInt16=Vt;Ot.prototype.visitInt32=Vt;Ot.prototype.visitInt64=Vt;Ot.prototype.visitUint8=Vt;Ot.prototype.visitUint16=Vt;Ot.prototype.visitUint32=Vt;Ot.prototype.visitUint64=Vt;Ot.prototype.visitFloat=Vt;Ot.prototype.visitFloat16=Vt;Ot.prototype.visitFloat32=Vt;Ot.prototype.visitFloat64=Vt;Ot.prototype.visitUtf8=Vt;Ot.prototype.visitBinary=Vt;Ot.prototype.visitFixedSizeBinary=Vt;Ot.prototype.visitDate=Vt;Ot.prototype.visitDateDay=Vt;Ot.prototype.visitDateMillisecond=Vt;Ot.prototype.visitTimestamp=Vt;Ot.prototype.visitTimestampSecond=Vt;Ot.prototype.visitTimestampMillisecond=Vt;Ot.prototype.visitTimestampMicrosecond=Vt;Ot.prototype.visitTimestampNanosecond=Vt;Ot.prototype.visitTime=Vt;Ot.prototype.visitTimeSecond=Vt;Ot.prototype.visitTimeMillisecond=Vt;Ot.prototype.visitTimeMicrosecond=Vt;Ot.prototype.visitTimeNanosecond=Vt;Ot.prototype.visitDecimal=Vt;Ot.prototype.visitList=Vt;Ot.prototype.visitStruct=Vt;Ot.prototype.visitUnion=Vt;Ot.prototype.visitDenseUnion=Die;Ot.prototype.visitSparseUnion=Die;Ot.prototype.visitDictionary=Vt;Ot.prototype.visitInterval=Vt;Ot.prototype.visitIntervalDayTime=Vt;Ot.prototype.visitIntervalYearMonth=Vt;Ot.prototype.visitFixedSizeList=Vt;Ot.prototype.visitMap=Vt;const sS=new Ot;class Pt extends an{}function $t(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===J.Timestamp||t instanceof ys&&t.bitWidth!==64||t instanceof Hl&&t.bitWidth!==64||t instanceof yf&&t.precision!==ki.HALF))return new t7(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new t7(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new kWe(o)})}class kWe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Pt.prototype.visitNull=$t;Pt.prototype.visitBool=$t;Pt.prototype.visitInt=$t;Pt.prototype.visitInt8=$t;Pt.prototype.visitInt16=$t;Pt.prototype.visitInt32=$t;Pt.prototype.visitInt64=$t;Pt.prototype.visitUint8=$t;Pt.prototype.visitUint16=$t;Pt.prototype.visitUint32=$t;Pt.prototype.visitUint64=$t;Pt.prototype.visitFloat=$t;Pt.prototype.visitFloat16=$t;Pt.prototype.visitFloat32=$t;Pt.prototype.visitFloat64=$t;Pt.prototype.visitUtf8=$t;Pt.prototype.visitBinary=$t;Pt.prototype.visitFixedSizeBinary=$t;Pt.prototype.visitDate=$t;Pt.prototype.visitDateDay=$t;Pt.prototype.visitDateMillisecond=$t;Pt.prototype.visitTimestamp=$t;Pt.prototype.visitTimestampSecond=$t;Pt.prototype.visitTimestampMillisecond=$t;Pt.prototype.visitTimestampMicrosecond=$t;Pt.prototype.visitTimestampNanosecond=$t;Pt.prototype.visitTime=$t;Pt.prototype.visitTimeSecond=$t;Pt.prototype.visitTimeMillisecond=$t;Pt.prototype.visitTimeMicrosecond=$t;Pt.prototype.visitTimeNanosecond=$t;Pt.prototype.visitDecimal=$t;Pt.prototype.visitList=$t;Pt.prototype.visitStruct=$t;Pt.prototype.visitUnion=$t;Pt.prototype.visitDenseUnion=$t;Pt.prototype.visitSparseUnion=$t;Pt.prototype.visitDictionary=$t;Pt.prototype.visitInterval=$t;Pt.prototype.visitIntervalDayTime=$t;Pt.prototype.visitIntervalYearMonth=$t;Pt.prototype.visitFixedSizeList=$t;Pt.prototype.visitMap=$t;const c6=new Pt,DWe=(e,t)=>e+t;class Bf extends an{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===on.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+Uu.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+Uu.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const $We=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),LWe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),MWe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=Uu.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},FWe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=Uu.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},BWe=(e,t)=>e.type.mode===ea.Dense?$ie(e,t):Lie(e,t),$ie=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+Uu.visit(t[s],r[i])},Lie=({children:e},t)=>4+Uu.visitMany(e,e.map(()=>t)).reduce(DWe,0);Bf.prototype.visitUtf8=$We;Bf.prototype.visitBinary=LWe;Bf.prototype.visitList=MWe;Bf.prototype.visitFixedSizeList=FWe;Bf.prototype.visitUnion=BWe;Bf.prototype.visitDenseUnion=$ie;Bf.prototype.visitSparseUnion=Lie;const Uu=new Bf;var Mie;const Fie={},Bie={};class vn{constructor(t){var n,r,i;const s=t[0]instanceof vn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Mn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Fie[o.typeId],f=s[0];this.isValid=d=>l6(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,Bie[o.typeId]),this._offsets=Pie(s);break}this.data=s,this.type=o,this.stride=iu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=Oie(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${J[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return c6.visit(this)}concat(...t){return new vn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new vn(Iie(this,t,n,({data:r,_offsets:i},s,o)=>Rie(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case J.Int:case J.Float:case J.Decimal:case J.Time:case J.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new vn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Qt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Qt.isDictionary(this.type)){const t=new oS(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new vn(n)}return new oS(this)}unmemoize(){if(Qt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new vn(n)}return this}}Mie=Symbol.toStringTag;vn[Mie]=(e=>{e.type=Qt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(J).map(n=>J[n]).filter(n=>typeof n=="number"&&n!==J.NONE);for(const n of t){const r=Xs.getVisitFnByTypeId(n),i=ta.getVisitFnByTypeId(n),s=sS.getVisitFnByTypeId(n),o=Uu.getVisitFnByTypeId(n);Fie[n]={get:r,set:i,indexOf:s,byteLength:o},Bie[n]=Object.create(e,{isValid:{value:qp(l6)},get:{value:qp(Xs.getVisitFnByTypeId(n))},set:{value:Nie(ta.getVisitFnByTypeId(n))},indexOf:{value:kie(sS.getVisitFnByTypeId(n))},getByteLength:{value:qp(Uu.getVisitFnByTypeId(n))}})}return"Vector"})(vn.prototype);class oS extends vn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new oS(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new vn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function jWe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${UWe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function UWe(e){return typeof e!="bigint"?sf(e):Ire?`${sf(e)}n`:`"${sf(e)}"`}const zO=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,VWe=(e,t=0)=>e.length>=t?e.subarray(0,t):tS(new e.constructor(t),e,0);class MI{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?zO(r*1,this.BYTES_PER_ELEMENT):zO(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=zO(t*this.stride,this.BYTES_PER_ELEMENT);const n=VWe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=tS(new this.ArrayType(t),this.buffer)}}MI.prototype.offset=0;class mv extends MI{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class jie extends mv{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Uie extends mv{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Zs=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=iu(t),this._nulls=new jie,n&&n.length>0&&(this._isValid=jWe(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new vn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),Qi({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};Zs.prototype.length=1;Zs.prototype.stride=1;Zs.prototype.children=null;Zs.prototype.finished=!1;Zs.prototype.nullValues=null;Zs.prototype._isValid=()=>!0;class jf extends Zs{constructor(t){super(t),this._values=new mv(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class FI extends Zs{constructor(t){super(t),this._pendingLength=0,this._offsets=new Uie}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof $I?n[Ca].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class QR{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const HO=2,cu=4,cl=4,zn=4,Sc=new Int32Array(2),n7=new Float32Array(Sc.buffer),r7=new Float64Array(Sc.buffer),V1=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Ol=class XR{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?XR.ZERO:new XR(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};Ol.ZERO=new Ol(0,0);var JR;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(JR||(JR={}));let aS=class Vie{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Vie(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Ol(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Ol(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Sc[0]=this.readInt32(t),n7[0]}readFloat64(t){return Sc[V1?0:1]=this.readInt32(t),Sc[V1?1:0]=this.readInt32(t+4),r7[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){n7[0]=n,this.writeInt32(t,Sc[0])}writeFloat64(t,n){r7[0]=n,this.writeInt32(t,Sc[V1?0:1]),this.writeInt32(t+4,Sc[V1?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+cu+cl)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<cl;n++)t+=String.fromCharCode(this.readInt8(this.position_+cu+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=cu,n===JR.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const u=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|u&63;else{const l=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(u&63)<<6|l&63;else{const c=this.readUint8(t+s++);o=(a&7)<<18|(u&63)<<12|(l&63)<<6|c&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+cu}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=cl)throw new Error("FlatBuffers: file identifier must be length "+cl);for(let n=0;n<cl;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+cu+n))return!1;return!0}createLong(t,n){return Ol.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},zie=class Hie{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=aS.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Hie.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=aS.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(cu,0),this.writeInt32(this.offset()-t+cu)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*HO;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=HO;l<s;l+=HO)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?zn:0;if(n){const s=n;if(this.prep(this.minalign,cu+cl+i),s.length!=cl)throw new Error("FlatBuffers: file identifier must be length "+cl);for(let o=cl-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,cu+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(cu,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return Ol.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+zn),(n||new Jr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Jr.startKeyValue(t),Jr.addKey(t,n),Jr.addValue(t,r),Jr.endKeyValue(t)}}var Sm;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Sm||(Sm={}));var xm;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(xm||(xm={}));var uS;(function(e){e[e.DenseArray=0]="DenseArray"})(uS||(uS={}));class uo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new uo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+zn),(n||new uo).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return uo.startInt(t),uo.addBitWidth(t,n),uo.addIsSigned(t,r),uo.endInt(t)}}class fl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new fl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+zn),(n||new fl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new uo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):uS.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,uS.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class bd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new bd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+zn),(n||new bd).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return bd.startBinary(t),bd.endBinary(t)}}class wd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new wd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+zn),(n||new wd).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return wd.startBool(t),wd.endBool(t)}}var lS;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(lS||(lS={}));let Wb=class Gh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Gh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+zn),(n||new Gh).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):lS.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,lS.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Gh.startDate(t),Gh.addUnit(t,n),Gh.endDate(t)}};class ks{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new ks).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+zn),(n||new ks).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return ks.startDecimal(t),ks.addPrecision(t,n),ks.addScale(t,r),ks.addBitWidth(t,i),ks.endDecimal(t)}}var Im;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Im||(Im={}));class fu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new fu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+zn),(n||new fu).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return fu.startFixedSizeBinary(t),fu.addByteWidth(t,n),fu.endFixedSizeBinary(t)}}class du{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new du).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+zn),(n||new du).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return du.startFixedSizeList(t),du.addListSize(t,n),du.endFixedSizeList(t)}}var cS;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(cS||(cS={}));class hu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new hu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+zn),(n||new hu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):cS.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,cS.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return hu.startFloatingPoint(t),hu.addPrecision(t,n),hu.endFloatingPoint(t)}}var fS;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(fS||(fS={}));class pu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new pu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+zn),(n||new pu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):fS.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,fS.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return pu.startInterval(t),pu.addUnit(t,n),pu.endInterval(t)}}class Ed{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Ed).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+zn),(n||new Ed).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Ed.startList(t),Ed.endList(t)}}let Yb=class Kh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Kh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+zn),(n||new Kh).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Kh.startMap(t),Kh.addKeysSorted(t,n),Kh.endMap(t)}};class Td{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Td).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+zn),(n||new Td).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Td.startNull(t),Td.endNull(t)}}class Sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+zn),(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Sd.startStruct_(t),Sd.endStruct_(t)}}class jo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new jo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+zn),(n||new jo).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Im.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Im.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return jo.startTime(t),jo.addUnit(t,n),jo.addBitWidth(t,r),jo.endTime(t)}}let T0=class ed{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+zn),(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Im.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Im.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return ed.startTimestamp(t),ed.addUnit(t,n),ed.addTimezone(t,r),ed.endTimestamp(t)}};var dS;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(dS||(dS={}));class $s{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new $s).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+zn),(n||new $s).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):dS.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,dS.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return $s.startUnion(t),$s.addMode(t,n),$s.addTypeIds(t,r),$s.endUnion(t)}}class xd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new xd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+zn),(n||new xd).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return xd.startUtf8(t),xd.endUtf8(t)}}var mr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(mr||(mr={}));let ko=class Gb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Gb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+zn),(n||new Gb).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):mr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new fl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Gb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Jr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,mr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},nu=class nl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new nl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+zn),(n||new nl).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xm.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new ko).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Jr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,xm.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return nl.startSchema(t),nl.addEndianness(t,n),nl.addFields(t,r),nl.addCustomMetadata(t,i),nl.addFeatures(t,s),nl.endSchema(t)}};class so{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new so).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+zn),(n||new so).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sm.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new nu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new QR).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new QR).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Jr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Sm.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class On{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=ZR(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new On(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new On(n,this.metadata)}assign(...t){const n=t[0]instanceof On?t[0]:Array.isArray(t[0])?new On(t[0]):new On(t),r=[...this.fields],i=z1(z1(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:z1(z1(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=ZR(s,new Map);return new On([...r,...s],i,new Map([...this.dictionaries,...o]))}}On.prototype.fields=null;On.prototype.metadata=null;On.prototype.dictionaries=null;class In{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new In(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],In.new(n,r,i,s)}}In.prototype.type=null;In.prototype.name=null;In.prototype.nullable=null;In.prototype.metadata=null;function z1(e,t){return new Map([...e||new Map,...t||new Map])}function ZR(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Qt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&ZR(s.children,t)}return t}var i7=Ol,zWe=zie,HWe=aS;class eN{constructor(t,n=co.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new HWe(Pn(t));const n=so.getRootAsFooter(t),r=On.decode(n.schema());return new qWe(r,n)}static encode(t){const n=new zWe,r=On.encode(n,t.schema);so.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())vf.encode(n,o);const i=n.endVector();so.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())vf.encode(n,o);const s=n.endVector();return so.startFooter(n),so.addSchema(n,r),so.addVersion(n,co.V4),so.addRecordBatches(n,i),so.addDictionaries(n,s),so.finishFooterBuffer(n,so.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class qWe extends eN{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return vf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return vf.decode(n)}return null}}class vf{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new vf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new i7(n.offset,0),s=new i7(n.bodyLength,0);return QR.createBlock(t,i,r,s)}}const H1=Object.freeze({done:!0,value:void 0});class qie{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class WWe extends qie{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return ll(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(H1);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return QV.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return QV.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return ll(this,void 0,void 0,function*(){return yield this.abort(t),H1})}return(t){return ll(this,void 0,void 0,function*(){return yield this.close(),H1})}read(t){return ll(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return ll(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(H1)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class qO extends WWe{write(t){if((t=Pn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?WR(this.toUint8Array(!0)):this.toUint8Array(!1).then(WR)}toUint8Array(t=!1){return t?Fu(this._values)[0]:ll(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=oy(this),a;a=yield o.next(),!a.done;){const u=a.value;i.push(u),s+=u.byteLength}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return Fu(i,s)[0]})}}class Wie extends FI{constructor(t){super(t),this._values=new MI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Pn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class YWe extends Zs{constructor(t){super(t),this._values=new jie}setValue(t,n){this._values.set(t,+n)}}class BI extends jf{}BI.prototype._setValue=nie;class Yie extends BI{}Yie.prototype._setValue=W3;class Gie extends BI{}Gie.prototype._setValue=Y3;class Kie extends jf{}Kie.prototype._setValue=sie;class GWe extends Zs{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new _f(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=hS({type:this.type.indices,nullValues:n}),this.dictionary=hS({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class Qie extends jf{}Qie.prototype._setValue=tie;class KWe extends Zs{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new Tm(this.type.listSize,new In(n,t.type,!0)),r}}class jI extends jf{setValue(t,n){this._values.set(t,n)}}class QWe extends jI{setValue(t,n){super.setValue(t,Jre(n))}}class XWe extends jI{}class JWe extends jI{}class UI extends jf{}UI.prototype._setValue=uie;class Xie extends UI{}Xie.prototype._setValue=n6;class Jie extends UI{}Jie.prototype._setValue=r6;class oc extends jf{setValue(t,n){this._values.set(t,n)}}class ZWe extends oc{}class eYe extends oc{}class tYe extends oc{}class nYe extends oc{}class rYe extends oc{}class iYe extends oc{}class sYe extends oc{}class oYe extends oc{}class aYe extends FI{constructor(t){super(t),this._offsets=new Uie}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new Em(new In(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s.length,a=n.set(i,o).buffer[i];for(let u=-1;++u<o;)r.set(a+u,s[u])}}}class uYe extends FI{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new r_(new In(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class lYe extends Zs{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class cYe extends Zs{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Zi([...this.type.children,new In(n,t.type,!0)]),r}}class og extends jf{}og.prototype._setValue=rie;class Zie extends og{}Zie.prototype._setValue=G3;class ese extends og{}ese.prototype._setValue=K3;class tse extends og{}tse.prototype._setValue=Q3;class nse extends og{}nse.prototype._setValue=X3;class ag extends jf{}ag.prototype._setValue=iie;class rse extends ag{}rse.prototype._setValue=J3;class ise extends ag{}ise.prototype._setValue=Z3;class sse extends ag{}sse.prototype._setValue=e6;class ose extends ag{}ose.prototype._setValue=t6;class f6 extends Zs{constructor(t){super(t),this._typeIds=new mv(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new In(n,t.type)];return this.type=new n_(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class fYe extends f6{}class dYe extends f6{constructor(t){super(t),this._offsets=new mv(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class ase extends FI{constructor(t){super(t),this._values=new MI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,P3(n))}_flushPending(t,n){}}ase.prototype._flushPending=Wie.prototype._flushPending;class hYe extends an{visitNull(){return lYe}visitBool(){return YWe}visitInt(){return oc}visitInt8(){return ZWe}visitInt16(){return eYe}visitInt32(){return tYe}visitInt64(){return nYe}visitUint8(){return rYe}visitUint16(){return iYe}visitUint32(){return sYe}visitUint64(){return oYe}visitFloat(){return jI}visitFloat16(){return QWe}visitFloat32(){return XWe}visitFloat64(){return JWe}visitUtf8(){return ase}visitBinary(){return Wie}visitFixedSizeBinary(){return Qie}visitDate(){return BI}visitDateDay(){return Yie}visitDateMillisecond(){return Gie}visitTimestamp(){return og}visitTimestampSecond(){return Zie}visitTimestampMillisecond(){return ese}visitTimestampMicrosecond(){return tse}visitTimestampNanosecond(){return nse}visitTime(){return ag}visitTimeSecond(){return rse}visitTimeMillisecond(){return ise}visitTimeMicrosecond(){return sse}visitTimeNanosecond(){return ose}visitDecimal(){return Kie}visitList(){return aYe}visitStruct(){return cYe}visitUnion(){return f6}visitDenseUnion(){return dYe}visitSparseUnion(){return fYe}visitDictionary(){return GWe}visitInterval(){return UI}visitIntervalDayTime(){return Xie}visitIntervalYearMonth(){return Jie}visitFixedSizeList(){return KWe}visitMap(){return uYe}}const pYe=new hYe;class Rt extends an{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function eo(e,t){return t instanceof e.constructor}function gv(e,t){return e===t||eo(e,t)}function ac(e,t){return e===t||eo(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function VI(e,t){return e===t||eo(e,t)&&e.precision===t.precision}function mYe(e,t){return e===t||eo(e,t)&&e.byteWidth===t.byteWidth}function d6(e,t){return e===t||eo(e,t)&&e.unit===t.unit}function yv(e,t){return e===t||eo(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function _v(e,t){return e===t||eo(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function gYe(e,t){return e===t||eo(e,t)&&e.children.length===t.children.length&&bf.compareManyFields(e.children,t.children)}function yYe(e,t){return e===t||eo(e,t)&&e.children.length===t.children.length&&bf.compareManyFields(e.children,t.children)}function h6(e,t){return e===t||eo(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&bf.compareManyFields(e.children,t.children)}function _Ye(e,t){return e===t||eo(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&bf.visit(e.indices,t.indices)&&bf.visit(e.dictionary,t.dictionary)}function p6(e,t){return e===t||eo(e,t)&&e.unit===t.unit}function vYe(e,t){return e===t||eo(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&bf.compareManyFields(e.children,t.children)}function bYe(e,t){return e===t||eo(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&bf.compareManyFields(e.children,t.children)}Rt.prototype.visitNull=gv;Rt.prototype.visitBool=gv;Rt.prototype.visitInt=ac;Rt.prototype.visitInt8=ac;Rt.prototype.visitInt16=ac;Rt.prototype.visitInt32=ac;Rt.prototype.visitInt64=ac;Rt.prototype.visitUint8=ac;Rt.prototype.visitUint16=ac;Rt.prototype.visitUint32=ac;Rt.prototype.visitUint64=ac;Rt.prototype.visitFloat=VI;Rt.prototype.visitFloat16=VI;Rt.prototype.visitFloat32=VI;Rt.prototype.visitFloat64=VI;Rt.prototype.visitUtf8=gv;Rt.prototype.visitBinary=gv;Rt.prototype.visitFixedSizeBinary=mYe;Rt.prototype.visitDate=d6;Rt.prototype.visitDateDay=d6;Rt.prototype.visitDateMillisecond=d6;Rt.prototype.visitTimestamp=yv;Rt.prototype.visitTimestampSecond=yv;Rt.prototype.visitTimestampMillisecond=yv;Rt.prototype.visitTimestampMicrosecond=yv;Rt.prototype.visitTimestampNanosecond=yv;Rt.prototype.visitTime=_v;Rt.prototype.visitTimeSecond=_v;Rt.prototype.visitTimeMillisecond=_v;Rt.prototype.visitTimeMicrosecond=_v;Rt.prototype.visitTimeNanosecond=_v;Rt.prototype.visitDecimal=gv;Rt.prototype.visitList=gYe;Rt.prototype.visitStruct=yYe;Rt.prototype.visitUnion=h6;Rt.prototype.visitDenseUnion=h6;Rt.prototype.visitSparseUnion=h6;Rt.prototype.visitDictionary=_Ye;Rt.prototype.visitInterval=p6;Rt.prototype.visitIntervalDayTime=p6;Rt.prototype.visitIntervalYearMonth=p6;Rt.prototype.visitFixedSizeList=vYe;Rt.prototype.visitMap=bYe;const bf=new Rt;function tN(e,t){return bf.compareSchemas(e,t)}function hS(e){const t=e.type,n=new(pYe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(hS(Object.assign(Object.assign({},l),{type:u})))}}return n}function WO(e,t){return wYe(e,t.map(n=>n.data.concat()))}function wYe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=EYe(n,o,c,t,i),o>0&&(r[s++]=Qi({type:new Zi(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new lo(e,f))]}function EYe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Qi({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var use;class Ls{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new On([]),this._offsets=[0],this;let i,s;t[0]instanceof On&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof lo)return[u];if(u instanceof Ls)return u.batches;if(u instanceof Mn){if(u.type instanceof Zi)return[new lo(new On(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new vn([u[h]])),f=new On(l.map((h,p)=>new In(String(h),c[p].type))),[,d]=WO(f,c);return d.length===0?[new lo(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new On([]),!(i instanceof On))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof lo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!tN(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Pie(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Oie(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?c6.visit(new vn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Ls(n,r.map(i=>new lo(n,i)))}slice(t,n){const r=this.schema;[t,n]=Iie({length:this.numRows},t,n);const i=Rie(this.data,this._offsets,t,n);return new Ls(r,i.map(s=>new lo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Qi({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new vn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new vn([Qi({type:new zl,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=WO(r,a)}return new Ls(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Ls(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Ls(...WO(s,o))}}use=Symbol.toStringTag;Ls[use]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=qp(l6),e.get=qp(Xs.getVisitFn(J.Struct)),e.set=Nie(ta.getVisitFn(J.Struct)),e.indexOf=kie(sS.getVisitFn(J.Struct)),e.getByteLength=qp(Uu.getVisitFn(J.Struct)),"Table"))(Ls.prototype);var lse;let lo=class S0{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof On))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Qi({nullCount:0,type:new Zi(this.schema.fields),children:this.schema.fields.map(n=>Qi({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Mn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=s7(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=In.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new On(r),a=Qi({type:new Zi(r),length:s,children:i,nullCount:0});[this.schema,this.data]=s7(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=cse(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Xs.visit(this.data,t)}set(t,n){return ta.visit(this.data,t,n)}indexOf(t,n){return sS.visit(this.data,t,n)}getByteLength(t){return Uu.visit(this.data,t)}[Symbol.iterator](){return c6.visit(new vn([this.data]))}toArray(){return[...this]}concat(...t){return new Ls(this.schema,[this,...t])}slice(t,n){const[r]=new vn([this.data]).slice(t,n).data;return new S0(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new vn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new vn([Qi({type:new zl,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new On(s,new Map(this.schema.metadata)),i=Qi({type:new Zi(s),children:o})}return new S0(r,i)}select(t){const n=this.schema.select(t),r=new Zi(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new S0(n,Qi({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Qi({type:new Zi(n.fields),length:this.numRows,children:r});return new S0(n,i)}};lse=Symbol.toStringTag;lo[lse]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(lo.prototype);function s7(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Qi({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Qi({type:new Zi(i),length:n,children:s})]}function cse(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,a=t[r];if(Qt.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&cse(o.children,a.children,n)}return n}class TYe extends lo{constructor(t){const n=t.fields.map(i=>Qi({type:i.type})),r=Qi({type:new Zi(t.fields),nullCount:0,children:n});super(t,r)}}var pS;(function(e){e[e.BUFFER=0]="BUFFER"})(pS||(pS={}));var mS;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(mS||(mS={}));class xc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new xc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+zn),(n||new xc).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):mS.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):pS.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,mS.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,pS.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return xc.startBodyCompression(t),xc.addCodec(t,n),xc.addMethod(t,r),xc.endBodyCompression(t)}}class fse{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let dse=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},sl=class nN{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new nN).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+zn),(n||new nN).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new dse).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new fse).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new xc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Qh=class rN{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new rN).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+zn),(n||new rN).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new sl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var gS;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(gS||(gS={}));let mc=class Qa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new Qa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+zn),(n||new Qa).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sm.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):gS.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Jr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Sm.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,gS.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return Qa.startMessage(t),Qa.addVersion(t,n),Qa.addHeaderType(t,r),Qa.addHeader(t,i),Qa.addBodyLength(t,s),Qa.addCustomMetadata(t,o),Qa.endMessage(t)}};var SYe=Ol;class xYe extends an{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Td.startNull(n),Td.endNull(n)}visitInt(t,n){return uo.startInt(n),uo.addBitWidth(n,t.bitWidth),uo.addIsSigned(n,t.isSigned),uo.endInt(n)}visitFloat(t,n){return hu.startFloatingPoint(n),hu.addPrecision(n,t.precision),hu.endFloatingPoint(n)}visitBinary(t,n){return bd.startBinary(n),bd.endBinary(n)}visitBool(t,n){return wd.startBool(n),wd.endBool(n)}visitUtf8(t,n){return xd.startUtf8(n),xd.endUtf8(n)}visitDecimal(t,n){return ks.startDecimal(n),ks.addScale(n,t.scale),ks.addPrecision(n,t.precision),ks.addBitWidth(n,t.bitWidth),ks.endDecimal(n)}visitDate(t,n){return Wb.startDate(n),Wb.addUnit(n,t.unit),Wb.endDate(n)}visitTime(t,n){return jo.startTime(n),jo.addUnit(n,t.unit),jo.addBitWidth(n,t.bitWidth),jo.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return T0.startTimestamp(n),T0.addUnit(n,t.unit),r!==void 0&&T0.addTimezone(n,r),T0.endTimestamp(n)}visitInterval(t,n){return pu.startInterval(n),pu.addUnit(n,t.unit),pu.endInterval(n)}visitList(t,n){return Ed.startList(n),Ed.endList(n)}visitStruct(t,n){return Sd.startStruct_(n),Sd.endStruct_(n)}visitUnion(t,n){$s.startTypeIdsVector(n,t.typeIds.length);const r=$s.createTypeIdsVector(n,t.typeIds);return $s.startUnion(n),$s.addMode(n,t.mode),$s.addTypeIds(n,r),$s.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return fl.startDictionaryEncoding(n),fl.addId(n,new SYe(t.id,0)),fl.addIsOrdered(n,t.isOrdered),r!==void 0&&fl.addIndexType(n,r),fl.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return fu.startFixedSizeBinary(n),fu.addByteWidth(n,t.byteWidth),fu.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return du.startFixedSizeList(n),du.addListSize(n,t.listSize),du.endFixedSizeList(n)}visitMap(t,n){return Yb.startMap(n),Yb.addKeysSorted(n,t.keysSorted),Yb.endMap(n)}}const YO=new xYe;function IYe(e,t=new Map){return new On(CYe(e,t),Kb(e.customMetadata),t)}function hse(e){return new bo(e.count,pse(e.columns),mse(e.columns))}function AYe(e){return new Vu(hse(e.data),e.id,e.isDelta)}function CYe(e,t){return(e.fields||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function o7(e,t){return(e.children||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function pse(e){return(e||[]).reduce((t,n)=>[...t,new Th(n.count,OYe(n.VALIDITY)),...pse(n.children)],[])}function mse(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new vu(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new vu(t.length,i.TYPE.length)),i.OFFSET&&t.push(new vu(t.length,i.OFFSET.length)),i.DATA&&t.push(new vu(t.length,i.DATA.length)),t=mse(i.children,t)}return t}function OYe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function PYe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=u7(e,o7(e,t)),i=new In(e.name,o,e.nullable,Kb(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?a7(r):new gf,a=new _f(t.get(n),r,n,s.isOrdered),i=new In(e.name,a,e.nullable,Kb(e.customMetadata))):(r=(r=s.indexType)?a7(r):new gf,t.set(n,o=u7(e,o7(e,t))),a=new _f(o,r,n,s.isOrdered),i=new In(e.name,a,e.nullable,Kb(e.customMetadata))),i||null}function Kb(e){return new Map(Object.entries(e||{}))}function a7(e){return new ys(e.isSigned,e.bitWidth)}function u7(e,t){const n=e.type.name;switch(n){case"NONE":return new zl;case"null":return new zl;case"binary":return new e_;case"utf8":return new vm;case"bool":return new t_;case"list":return new Em((t||[])[0]);case"struct":return new Zi(t||[]);case"struct_":return new Zi(t||[])}switch(n){case"int":{const r=e.type;return new ys(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new yf(ki[r.precision])}case"decimal":{const r=e.type;return new nS(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new bm(Bu[r.unit])}case"time":{const r=e.type;return new Hl(on[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new rS(on[r.unit],r.timezone)}case"interval":{const r=e.type;return new wm(ju[r.unit])}case"union":{const r=e.type;return new n_(ea[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new iS(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new Tm(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new r_((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Jd=Ol,RYe=zie,NYe=aS;class mu{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new mu(0,co.V4,n);return r._createHeader=kYe(t,n),r}static decode(t){t=new NYe(Pn(t));const n=mc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new mu(r,i,s);return o._createHeader=DYe(n,s),o}static encode(t){const n=new RYe;let r=-1;return t.isSchema()?r=On.encode(n,t.header()):t.isRecordBatch()?r=bo.encode(n,t.header()):t.isDictionaryBatch()&&(r=Vu.encode(n,t.header())),mc.startMessage(n),mc.addVersion(n,co.V4),mc.addHeader(n,r),mc.addHeaderType(n,t.headerType),mc.addBodyLength(n,new Jd(t.bodyLength,0)),mc.finishMessageBuffer(n,mc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof On)return new mu(0,co.V4,di.Schema,t);if(t instanceof bo)return new mu(n,co.V4,di.RecordBatch,t);if(t instanceof Vu)return new mu(n,co.V4,di.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===di.Schema}isRecordBatch(){return this.headerType===di.RecordBatch}isDictionaryBatch(){return this.headerType===di.DictionaryBatch}}class bo{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Vu{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class vu{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class Th{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function kYe(e,t){return()=>{switch(t){case di.Schema:return On.fromJSON(e);case di.RecordBatch:return bo.fromJSON(e);case di.DictionaryBatch:return Vu.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${di[t]}, type: ${t} }`)}}function DYe(e,t){return()=>{switch(t){case di.Schema:return On.decode(e.header(new nu));case di.RecordBatch:return bo.decode(e.header(new sl),e.version());case di.DictionaryBatch:return Vu.decode(e.header(new Qh),e.version())}throw new Error(`Unrecognized Message type: { name: ${di[t]}, type: ${t} }`)}}In.encode=qYe;In.decode=zYe;In.fromJSON=PYe;On.encode=HYe;On.decode=$Ye;On.fromJSON=IYe;bo.encode=WYe;bo.decode=LYe;bo.fromJSON=hse;Vu.encode=YYe;Vu.decode=MYe;Vu.fromJSON=AYe;Th.encode=GYe;Th.decode=BYe;vu.encode=KYe;vu.decode=FYe;function $Ye(e,t=new Map){const n=VYe(e,t);return new On(n,Qb(e),t)}function LYe(e,t=co.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new bo(e.length(),jYe(e),UYe(e,t))}function MYe(e,t=co.V4){return new Vu(bo.decode(e.data(),t),e.id(),e.isDelta())}function FYe(e){return new vu(e.offset(),e.length())}function BYe(e){return new Th(e.length(),e.nullCount())}function jYe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=Th.decode(n));return t}function UYe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<co.V4&&(r.bb_pos+=8*(i+1)),n[++s]=vu.decode(r));return n}function VYe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=In.decode(r,t));return n}function l7(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=In.decode(r,t));return n}function zYe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=f7(e,l7(e,t)),r=new In(e.name(),i,e.nullable(),Qb(e))):t.has(n=a.id().low)?(s=(s=a.indexType())?c7(s):new gf,o=new _f(t.get(n),s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),Qb(e))):(s=(s=a.indexType())?c7(s):new gf,t.set(n,i=f7(e,l7(e,t))),o=new _f(i,s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),Qb(e))),r||null}function Qb(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function c7(e){return new ys(e.isSigned(),e.bitWidth())}function f7(e,t){const n=e.typeType();switch(n){case mr.NONE:return new zl;case mr.Null:return new zl;case mr.Binary:return new e_;case mr.Utf8:return new vm;case mr.Bool:return new t_;case mr.List:return new Em((t||[])[0]);case mr.Struct_:return new Zi(t||[])}switch(n){case mr.Int:{const r=e.type(new uo);return new ys(r.isSigned(),r.bitWidth())}case mr.FloatingPoint:{const r=e.type(new hu);return new yf(r.precision())}case mr.Decimal:{const r=e.type(new ks);return new nS(r.scale(),r.precision(),r.bitWidth())}case mr.Date:{const r=e.type(new Wb);return new bm(r.unit())}case mr.Time:{const r=e.type(new jo);return new Hl(r.unit(),r.bitWidth())}case mr.Timestamp:{const r=e.type(new T0);return new rS(r.unit(),r.timezone())}case mr.Interval:{const r=e.type(new pu);return new wm(r.unit())}case mr.Union:{const r=e.type(new $s);return new n_(r.mode(),r.typeIdsArray()||[],t||[])}case mr.FixedSizeBinary:{const r=e.type(new fu);return new iS(r.byteWidth())}case mr.FixedSizeList:{const r=e.type(new du);return new Tm(r.listSize(),(t||[])[0])}case mr.Map:{const r=e.type(new Yb);return new r_((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${mr[n]}" (${n})`)}function HYe(e,t){const n=t.fields.map(s=>In.encode(e,s));nu.startFieldsVector(e,n.length);const r=nu.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?nu.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return Jr.startKeyValue(e),Jr.addKey(e,a),Jr.addValue(e,u),Jr.endKeyValue(e)})):-1;return nu.startSchema(e),nu.addFields(e,r),nu.addEndianness(e,QYe?xm.Little:xm.Big),i!==-1&&nu.addCustomMetadata(e,i),nu.endSchema(e)}function qYe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Qt.isDictionary(s)?(o=s.dictionary.typeId,i=YO.visit(s,e),r=YO.visit(s.dictionary,e)):r=YO.visit(s,e);const a=(s.children||[]).map(c=>In.encode(e,c)),u=ko.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?ko.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Jr.startKeyValue(e),Jr.addKey(e,d),Jr.addValue(e,h),Jr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),ko.startField(e),ko.addType(e,r),ko.addTypeType(e,o),ko.addChildren(e,u),ko.addNullable(e,!!t.nullable),n!==-1&&ko.addName(e,n),i!==-1&&ko.addDictionary(e,i),l!==-1&&ko.addCustomMetadata(e,l),ko.endField(e)}function WYe(e,t){const n=t.nodes||[],r=t.buffers||[];sl.startNodesVector(e,n.length);for(const o of n.slice().reverse())Th.encode(e,o);const i=e.endVector();sl.startBuffersVector(e,r.length);for(const o of r.slice().reverse())vu.encode(e,o);const s=e.endVector();return sl.startRecordBatch(e),sl.addLength(e,new Jd(t.length,0)),sl.addNodes(e,i),sl.addBuffers(e,s),sl.endRecordBatch(e)}function YYe(e,t){const n=bo.encode(e,t.data);return Qh.startDictionaryBatch(e),Qh.addId(e,new Jd(t.id,0)),Qh.addIsDelta(e,t.isDelta),Qh.addData(e,n),Qh.endDictionaryBatch(e)}function GYe(e,t){return dse.createFieldNode(e,new Jd(t.length,0),new Jd(t.nullCount,0))}function KYe(e,t){return fse.createBuffer(e,new Jd(t.offset,0),new Jd(t.length,0))}const QYe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),iN="ARROW1",m6=new Uint8Array(iN.length);for(let e=0;e<iN.length;e+=1)m6[e]=iN.codePointAt(e);m6.length;class Yr extends an{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof lo?s.data.children:s.data),r=new Yr;return r.visitMany(n(t)),r}visit(t){if(t instanceof vn)return this.visitMany(t.data),this;const{type:n}=t;if(!Qt.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Qt.isNull(n)||Da.call(this,i<=0?new Uint8Array(0):o6(t.offset,r,t.nullBitmap)),this.nodes.push(new Th(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Da(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new vu(this._byteLength,t)),this._byteLength+=t,this}function XYe(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(Da.call(this,r),t.mode===ea.Sparse)return sN.call(this,e);if(t.mode===ea.Dense){if(e.offset<=0)return Da.call(this,i),sN.call(this,e);{const s=r.reduce((c,f)=>Math.max(c,f),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(n),l=k3(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=l[c]),u[d]=l[d]-f,++o[c];Da.call(this,u);for(let c,f=-1,d=t.children.length;++f<d;)if(c=e.children[f]){const h=t.typeIds[f],p=Math.min(n,o[h]);this.visit(c.slice(a[h],p))}}}return this}function JYe(e){let t;return e.nullCount>=e.length?Da.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Da.call(this,o6(e.offset,e.length,t)):Da.call(this,Cie(e.values))}function Uf(e){return Da.call(this,e.values.subarray(0,e.length*e.stride))}function gse(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return Da.call(this,k3(-r[0],t,r)),Da.call(this,n.subarray(i,i+o)),this}function g6(e){const{length:t,valueOffsets:n}=e;return n&&Da.call(this,k3(n[0],t,n)),this.visit(e.children[0])}function sN(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Yr.prototype.visitBool=JYe;Yr.prototype.visitInt=Uf;Yr.prototype.visitFloat=Uf;Yr.prototype.visitUtf8=gse;Yr.prototype.visitBinary=gse;Yr.prototype.visitFixedSizeBinary=Uf;Yr.prototype.visitDate=Uf;Yr.prototype.visitTimestamp=Uf;Yr.prototype.visitTime=Uf;Yr.prototype.visitDecimal=Uf;Yr.prototype.visitList=g6;Yr.prototype.visitStruct=sN;Yr.prototype.visitUnion=XYe;Yr.prototype.visitInterval=Uf;Yr.prototype.visitFixedSizeList=g6;Yr.prototype.visitMap=g6;class yse extends qie{constructor(t){super(),this._position=0,this._started=!1,this._sink=new qO,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Mf(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return kI(t)?t.then(n=>this.writeAll(n)):DI(t)?b6(this,t):v6(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof qO?this._sink=t:(this._sink=new qO,t&&oqe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&aqe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!tN(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ls&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof lo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!tN(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof lo?t instanceof TYe||this._writeRecordBatch(t):t instanceof Ls?this.writeAll(t.batches):R3(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=mu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===di.RecordBatch?this._recordBatchBlocks.push(new vf(a,t.bodyLength,this._position)):t.headerType===di.DictionaryBatch&&this._dictionaryBlocks.push(new vf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Pn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(mu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(m6)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Yr.assemble(t),o=new bo(t.numRows,r,i),a=mu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Yr.assemble(new vn([t])),u=new bo(t.length,s,o),l=new Vu(u,n,r),c=mu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class y6 extends yse{static writeAll(t,n){const r=new y6(n);return kI(t)?t.then(i=>r.writeAll(i)):DI(t)?b6(r,t):v6(r,t)}}class _6 extends yse{static writeAll(t){const n=new _6;return kI(t)?t.then(r=>n.writeAll(r)):DI(t)?b6(n,t):v6(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=eN.encode(new eN(t,co.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function v6(e,t){let n=t;t instanceof Ls&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function b6(e,t){var n,r,i,s;return ll(this,void 0,void 0,function*(){try{for(n=oy(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function ZYe(e,t="stream"){return(t==="stream"?y6:_6).writeAll(e).toUint8Array(!0)}function w6(e,t=1){return(e*t+63&-64||64)/t}function wf(e,t,n=e.BYTES_PER_ELEMENT){return new e(w6(t,n))}function E6(e){return e instanceof Mn?e:new Mn(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function eGe(e){return new vn([E6(e)])}const T6=new TextEncoder;function tGe(e,t,n){const r=T6.encode(n);return e.set(r,t),r.length}function nGe(e,t,n){return T6.encodeInto(n,e.subarray(t)).written}const rGe=T6.encodeInto?nGe:tGe;function d7(e,t){const n=wf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function iGe(e,t){const n=wf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function sGe(e,t){const n=wf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function oGe(e,t){const n=wf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function aGe(e){const t=hS({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function uGe(e,t,n){const r=wf(Int32Array,t+1),i=wf(Uint8Array,3*n);let s=0;return{set(o,a){s+=rGe(i,s,o),r[a+1]=s},data:()=>{const o=w6(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function lGe(e,t){const n=[],r=wf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:cGe(e.dictionary,n,o)})}}function cGe(e,t,n){const r=uGe(e,t.length,n);return t.forEach(r.set),eGe(r.data())}function fGe(e,t){const n=wf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function dGe(e,t,n=!0){let r;switch(e.typeId){case J.Int:r=e.bitWidth<64?d7:null;break;case J.Float:r=e.precision>0?d7:null;break;case J.Dictionary:r=e.dictionary.typeId===J.Utf8&&e.indices.typeId===J.Int&&e.indices.bitWidth<64?lGe:null;break;case J.Bool:r=iGe;break;case J.Date:r=e.unit?oGe:sGe;break}return r==null?aGe(e):n?fGe(r(e,t),t):r(e,t)}function hGe(e,t){const n=e.length,r=w6(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),E6({type:t,length:n,buffers:[null,i]})}function _se(e,t,n,r,i=!0){const s=dGe(r,e,i);return t(n,s.set),E6(s.data())}function S6(e){if(e instanceof Qt||e==null)return e;switch(e){case J.Binary:return new e_;case J.Bool:return new t_;case J.DateDay:return new wqe;case J.DateMillisecond:case J.Date:return new Eqe;case J.Dictionary:return new _f(new vm,new gf);case J.Float16:return new Kre;case J.Float32:return new V3;case J.Float64:case J.Float:return new z3;case J.Int8:return new $3;case J.Int16:return new L3;case J.Int32:case J.Int:return new gf;case J.Int64:return new M3;case J.IntervalDayTime:return new Aqe;case J.Interval:case J.IntervalYearMonth:return new Cqe;case J.Null:return new zl;case J.TimeMicrosecond:return new xqe;case J.TimeMillisecond:case J.Time:return new Sqe;case J.TimeNanosecond:return new Iqe;case J.TimeSecond:return new Tqe;case J.Uint8:return new F3;case J.Uint16:return new B3;case J.Uint32:return new j3;case J.Uint64:return new U3;case J.Utf8:return new vm;default:jt(`Unsupported type code: ${Mu(e)}. Use a data type constructor instead?`)}}function pGe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function vse(e,t){const n=oN();return e(t,n.add),n}function oN(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Vl(t))++e.dates,pGe(t)&&++e.utcdays;else if(_d(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=oN());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=oN())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return S6(mGe(e))}};return e}function mGe(e){const t=e.count-e.nulls;if(t===0)return J.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?J.Float64:n<128?J.Int8:n<32768?J.Int16:J.Int32:n>=2**32?J.Float64:n<256?J.Uint8:n<65536?J.Uint16:J.Uint32}else{if(e.nums===t)return J.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?J.Int64:jt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?J.Uint64:jt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return J.Bool;if(e.utcdays===t)return J.DateDay;if(e.dates===t)return J.DateMillisecond;if(e.arrays===t){const n=In.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new Tm(e.minlen,n):new Em(n)}else if(e.structs===t){const n=e.struct_prof;return new Zi(Object.keys(n).map(r=>In.new(r,n[r].type(),!0)))}else{if(e.strings>0)return J.Dictionary;jt("Type inference failure")}}}}function gGe(e,t,n,r,i,s=!0){if(i=S6(i),!i){const o=vse(r,t);s=o.nulls>0,i=o.type()}return _se(n,r,t,i,s)}function yGe(e,t,n,r,i,s=!0){i=S6(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=_Ge(o);if(u&&a&&h7(u.type,i))return u;const l=o.data;if(hv(l)){const c=vGe(l);if(a&&c&&h7(c,i))return hGe(l,c);i=i||c,s=!1}if(!i){const c=vse(r,o);s=c.nulls>0,i=c.type()}return _se(n,r,o,i,s)}function _Ge(e){return e instanceof vn?e:e.vector instanceof vn?e.vector:null}function vGe(e){const n={Float32Array:V3,Float64Array:z3,Int8Array:$3,Int16Array:L3,Int32Array:gf,Uint8Array:F3,Uint16Array:B3,Uint32Array:j3,BigInt64Array:M3,BigUint64Array:U3}[e.constructor.name];return n?new n:null}function h7(e,t){return!e||!t?!0:e.compareTo(t)}function bGe(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function wGe(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&_d(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const EGe=()=>jt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function TGe(){try{return Ls}catch{EGe()}}function bse(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=SGe(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&jt("Column length mismatch"),a[l]=c});const u=TGe();return new u(a)}function SGe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=tr(n)?n(e):_n(n)?n:null;if(_n(e))return{dataFrom:gGe,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:bGe(e,r,i)};if(xGe(e))return{dataFrom:yGe,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:wGe(e,r,i)};jt("Unsupported input data type")}function xGe(e){return e&&tr(e.reify)}function IGe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return ZYe(bse(e,r),n)}function AGe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function CGe(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&Vl(u))++i,AGe(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function zI(e,t){return tr(t)?t(e):t||e.columnNames()}function wse(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=CGe(OGe(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function OGe(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function x6(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function PGe(e,t={}){const n=zI(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":Vl(l)?RI(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return x6(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function Ese(e,t={}){if(tr(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Vl(e))return t.utc?RI(e):ere(e);{const r=JSON.stringify(e,(s,o)=>hv(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function HI(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function RGe(e,t={}){const n=zI(e,t.columns),{align:r,format:i}=wse(e,n,t),s=NGe(t),o=t.null,a=g=>g==="c"?"center":g==="r"?"right":"left",u=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(g,y)=>u(Ese(g,y)),c=o?(g,y)=>g==null?o(g):l(g,y):l;let f=-1,d=-1;const h=(g,y,m)=>{const _=m?a(r[y]):"",v=s[g]&&s[g](y,d,f)||"",T=(_?`text-align: ${_};`+(v?" ":""):"")+v;return`<${g}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(g=>`${h("th",g,1)}${g}</th>`).join("")+"</tr></thead>"+h("tbody");return x6(e,n,t.limit,t.offset,{row(g){f=g,p+=(++d?"</tr>":"")+h("tr")},cell(g,y){p+=h("td",y,1)+c(g,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function NGe(e){return HI(e.style,t=>tr(t)?t:()=>t)}function kGe(e,t=!0,n=!1){return e===void 0||e?t:n}const DGe=e=>Vl(e)?RI(e,!0):e;function $Ge(e,t={}){const n=kGe(t.schema),r=t.format||{},i=zI(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||DGe;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function LGe(e,t={}){const n=zI(e,t.columns),{align:r,format:i}=wse(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return x6(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(Ese(u,i[l]))+"|"}}),a+`
`}function Tse(e,t){for(const[n,r]of NI(t))e.set(n,r);return e}function MGe(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function ql(e,t,n=new Map){return t=gs(t)?e.columnName(t):t,Bi(t)?n.set(t,t):_n(t)?t.forEach(r=>ql(e,r,n)):tr(t)?ql(e,t(e),n):rs(t)?Tse(n,t):jt(`Invalid column selection: ${Mu(t)}`),n}function qI(e,t){return e.toObject=t,e}function Sse(e){return _n(e)?e.map(Sse):e&&e.toObject?e.toObject():e}function Am(){return qI(e=>e.columnNames(),()=>({all:[]}))}function xse(...e){return e=e.flat(),qI(t=>{const n=ql(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:Sse(e)}))}function FGe(e,t){return qI(n=>{let r=gs(e)?e:n.columnIndex(e),i=gs(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function BGe(e){return Bi(e)&&(e=RegExp(MGe(e))),qI(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function jGe(e){return hv(e.data)?e.data.constructor:Array}class dl extends sHe{static from(t,n){return new dl(uHe(t,n),n)}static new(t,n){if(t instanceof dl)return t;const r={},i=[];for(const[s,o]of NI(t))r[s]=o,i.push(s);return new dl(r,n||i)}constructor(t,n,r,i,s,o){HI(t,aHe,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new dl(t||this._data,n||(t?null:this._names),o,i!==void 0?i:MHe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Co(r).groupby(r.groups());return t.forEach(s=>{s=dl.new(s),s.numRows()!==n&&jt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):jt(`Unrecognized column: ${t}`)}object(t=0){return p7(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=ql(this,t.columns||Am()),o=xre(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),BHe(this,u,a,n)}return a}*[Symbol.iterator](){const t=p7(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(jGe(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=FHe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return bse(this,t)}toArrowBuffer(t){return IGe(this,t)}toCSV(t){return PGe(this,t)}toHTML(t){return RGe(this,t)}toJSON(t){return $Ge(this,t)}toMarkdown(t){return LGe(this,t)}}function p7(e){let t=e._builder;if(!t){const n=xre(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class UGe{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function fn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=VGe[e.type];s&&s(e,t,n)}const q1=(e,t,n)=>{fn(e.argument,t,n,e)},GO=(e,t,n)=>{fn(e.left,t,n,e),fn(e.right,t,n,e)},m7=(e,t,n)=>{fn(e.test,t,n,e),fn(e.consequent,t,n,e),e.alternate&&fn(e.alternate,t,n,e)},KO=(e,t,n)=>{ru(e.params,t,n,e),fn(e.body,t,n,e)},g7=(e,t,n)=>{fn(e.callee,t,n,e),ru(e.arguments,t,n,e)},ru=(e,t,n,r)=>{e.forEach(i=>fn(i,t,n,r))},VGe={TemplateLiteral:(e,t,n)=>{ru(e.expressions,t,n,e),ru(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{fn(e.object,t,n,e),fn(e.property,t,n,e)},CallExpression:g7,NewExpression:g7,ArrayExpression:(e,t,n)=>{ru(e.elements,t,n,e)},AssignmentExpression:GO,AwaitExpression:q1,BinaryExpression:GO,LogicalExpression:GO,UnaryExpression:q1,UpdateExpression:q1,ConditionalExpression:m7,ObjectExpression:(e,t,n)=>{ru(e.properties,t,n,e)},Property:(e,t,n)=>{fn(e.key,t,n,e),fn(e.value,t,n,e)},ArrowFunctionExpression:KO,FunctionExpression:KO,FunctionDeclaration:KO,VariableDeclaration:(e,t,n)=>{ru(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{fn(e.id,t,n,e),fn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{fn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{ru(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{fn(e.expression,t,n,e)},IfStatement:m7,ForStatement:(e,t,n)=>{fn(e.init,t,n,e),fn(e.test,t,n,e),fn(e.update,t,n,e),fn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{fn(e.test,t,n,e),fn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{fn(e.body,t,n,e),fn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{fn(e.discriminant,t,n,e),ru(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&fn(e.test,t,n,e),ru(e.consequent,t,n,e)},ReturnStatement:q1,Program:(e,t,n)=>{fn(e.body[0],t,n,e)}};function Ise(e){delete e.start,delete e.end,delete e.optional}function y7(e){Ise(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function zGe(e){return fn(e,null,{Column:y7,Constant:y7,Default:Ise}),e}function Zr(e,t){return t&&t.type===e}function HGe(e){return Zr(VHe,e)||Zr(UHe,e)}function qGe(e){return tr(e)?e:()=>e}const WGe="Escaped functions are not valid as rollup or pivot values.";function YGe(e,t,n){e.aggronly&&jt(WGe);const r="(row,data)=>fn("+Sre(e.table.columnNames())+",$)";return{escape:C3.escape(r,qGe(t.expr),n)}}var GGe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Ase=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],KGe="-----------------------------------------------------------------------------------------------------------------------------------------------------",Cse="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",QO={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},XO="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",QGe={5:XO,"5module":XO+" export import",6:XO+" const class extends export import super"},XGe=/^in(stanceof)?$/,JGe=new RegExp("["+Cse+"]"),ZGe=new RegExp("["+Cse+KGe+"]");function aN(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Wl(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&JGe.test(String.fromCharCode(e)):t===!1?!1:aN(e,Ase)}function Cm(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&ZGe.test(String.fromCharCode(e)):t===!1?!1:aN(e,Ase)||aN(e,GGe)}var dn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Ro(e,t){return new dn(e,{beforeExpr:!0,binop:t})}var No={beforeExpr:!0},xs={startsExpr:!0},I6={};function nn(e,t){return t===void 0&&(t={}),t.keyword=e,I6[e]=new dn(e,t)}var L={num:new dn("num",xs),regexp:new dn("regexp",xs),string:new dn("string",xs),name:new dn("name",xs),privateId:new dn("privateId",xs),eof:new dn("eof"),bracketL:new dn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new dn("]"),braceL:new dn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new dn("}"),parenL:new dn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new dn(")"),comma:new dn(",",No),semi:new dn(";",No),colon:new dn(":",No),dot:new dn("."),question:new dn("?",No),questionDot:new dn("?."),arrow:new dn("=>",No),template:new dn("template"),invalidTemplate:new dn("invalidTemplate"),ellipsis:new dn("...",No),backQuote:new dn("`",xs),dollarBraceL:new dn("${",{beforeExpr:!0,startsExpr:!0}),eq:new dn("=",{beforeExpr:!0,isAssign:!0}),assign:new dn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new dn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new dn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Ro("||",1),logicalAND:Ro("&&",2),bitwiseOR:Ro("|",3),bitwiseXOR:Ro("^",4),bitwiseAND:Ro("&",5),equality:Ro("==/!=/===/!==",6),relational:Ro("</>/<=/>=",7),bitShift:Ro("<</>>/>>>",8),plusMin:new dn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Ro("%",10),star:Ro("*",10),slash:Ro("/",10),starstar:new dn("**",{beforeExpr:!0}),coalesce:Ro("??",1),_break:nn("break"),_case:nn("case",No),_catch:nn("catch"),_continue:nn("continue"),_debugger:nn("debugger"),_default:nn("default",No),_do:nn("do",{isLoop:!0,beforeExpr:!0}),_else:nn("else",No),_finally:nn("finally"),_for:nn("for",{isLoop:!0}),_function:nn("function",xs),_if:nn("if"),_return:nn("return",No),_switch:nn("switch"),_throw:nn("throw",No),_try:nn("try"),_var:nn("var"),_const:nn("const"),_while:nn("while",{isLoop:!0}),_with:nn("with"),_new:nn("new",{beforeExpr:!0,startsExpr:!0}),_this:nn("this",xs),_super:nn("super",xs),_class:nn("class",xs),_extends:nn("extends",No),_export:nn("export"),_import:nn("import",xs),_null:nn("null",xs),_true:nn("true",xs),_false:nn("false",xs),_in:nn("in",{beforeExpr:!0,binop:7}),_instanceof:nn("instanceof",{beforeExpr:!0,binop:7}),_typeof:nn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:nn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:nn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ca=/\r\n?|\n|\u2028|\u2029/,eKe=new RegExp(ca.source,"g");function ug(e){return e===10||e===13||e===8232||e===8233}function Ose(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(ug(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Pse=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Uo=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Rse=Object.prototype,tKe=Rse.hasOwnProperty,nKe=Rse.toString,vv=Object.hasOwn||function(e,t){return tKe.call(e,t)},_7=Array.isArray||function(e){return nKe.call(e)==="[object Array]"},v7=Object.create(null);function jc(e){return v7[e]||(v7[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Ef(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var rKe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,i_=function(t,n){this.line=t,this.column=n};i_.prototype.offset=function(t){return new i_(this.line,this.column+t)};var WI=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function Nse(e,t){for(var n=1,r=0;;){var i=Ose(e,r,t);if(i<0)return new i_(n,t-r);++n,r=i}}var uN={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},b7=!1;function iKe(e){var t={};for(var n in uN)t[n]=e&&vv(e,n)?e[n]:uN[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!b7&&typeof console=="object"&&console.warn&&(b7=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),_7(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return _7(t.onComment)&&(t.onComment=sKe(t,t.onComment)),t}function sKe(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new WI(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var s_=1,lg=2,A6=4,kse=8,Dse=16,$se=32,C6=64,Lse=128,bv=256,O6=s_|lg|bv;function P6(e,t){return lg|(e?A6:0)|(t?kse:0)}var yS=0,R6=1,uc=2,Mse=3,Fse=4,Bse=5,ii=function(t,n,r){this.options=t=iKe(t),this.sourceFile=t.sourceFile,this.keywords=jc(QGe[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=QO[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=jc(i);var s=(i?i+" ":"")+QO.strict;this.reservedWordsStrict=jc(s),this.reservedWordsStrictBind=jc(s+" "+QO.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ca).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=L.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(s_),this.regexpState=null,this.privateNameStack=[]},Qu={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ii.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Qu.inFunction.get=function(){return(this.currentVarScope().flags&lg)>0};Qu.inGenerator.get=function(){return(this.currentVarScope().flags&kse)>0&&!this.currentVarScope().inClassFieldInit};Qu.inAsync.get=function(){return(this.currentVarScope().flags&A6)>0&&!this.currentVarScope().inClassFieldInit};Qu.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&bv)return!1;if(t.flags&lg)return(t.flags&A6)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Qu.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&C6)>0||n||this.options.allowSuperOutsideMethod};Qu.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Lse)>0};Qu.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Qu.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(lg|bv))>0||n};Qu.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&bv)>0};ii.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ii.parse=function(t,n){return new this(n,t).parse()};ii.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ii.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ii.prototype,Qu);var bs=ii.prototype,oKe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;bs.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Uo.lastIndex=e,e+=Uo.exec(this.input)[0].length;var t=oKe.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Uo.lastIndex=e+t[0].length;var n=Uo.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ca.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Uo.lastIndex=e,e+=Uo.exec(this.input)[0].length,this.input[e]===";"&&e++}};bs.eat=function(e){return this.type===e?(this.next(),!0):!1};bs.isContextual=function(e){return this.type===L.name&&this.value===e&&!this.containsEsc};bs.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};bs.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};bs.canInsertSemicolon=function(){return this.type===L.eof||this.type===L.braceR||ca.test(this.input.slice(this.lastTokEnd,this.start))};bs.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};bs.semicolon=function(){!this.eat(L.semi)&&!this.insertSemicolon()&&this.unexpected()};bs.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};bs.expect=function(e){this.eat(e)||this.unexpected()};bs.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var YI=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};bs.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};bs.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};bs.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};bs.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var st=ii.prototype;st.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==L.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var N6={kind:"loop"},aKe={kind:"switch"};st.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Uo.lastIndex=this.pos;var t=Uo.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Wl(r,!0)){for(var i=n+1;Cm(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!XGe.test(s))return!0}return!1};st.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Uo.lastIndex=this.pos;var e=Uo.exec(this.input),t=this.pos+e[0].length,n;return!ca.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Cm(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};st.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=L._var,s="let"),r){case L._break:case L._continue:return this.parseBreakContinueStatement(i,r.keyword);case L._debugger:return this.parseDebuggerStatement(i);case L._do:return this.parseDoStatement(i);case L._for:return this.parseForStatement(i);case L._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case L._class:return e&&this.unexpected(),this.parseClass(i,!0);case L._if:return this.parseIfStatement(i);case L._return:return this.parseReturnStatement(i);case L._switch:return this.parseSwitchStatement(i);case L._throw:return this.parseThrowStatement(i);case L._try:return this.parseTryStatement(i);case L._const:case L._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case L._while:return this.parseWhileStatement(i);case L._with:return this.parseWithStatement(i);case L.braceL:return this.parseBlock(!0,i);case L.semi:return this.parseEmptyStatement(i);case L._export:case L._import:if(this.options.ecmaVersion>10&&r===L._import){Uo.lastIndex=this.pos;var o=Uo.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===L._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===L.name&&c.type==="Identifier"&&this.eat(L.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};st.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(L.semi)||this.insertSemicolon()?e.label=null:this.type!==L.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};st.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};st.parseDoStatement=function(e){return this.next(),this.labels.push(N6),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(L._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(L.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};st.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(N6),this.enterScope(0),this.expect(L.parenL),this.type===L.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===L._var||this.type===L._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===L._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===L._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new YI,u=this.parseExpression(t>-1?"await":!0,a);return this.type===L._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===L._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};st.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,uy|(n?0:lN),!1,t)};st.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(L._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};st.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(L.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};st.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(L.braceL),this.labels.push(aKe),this.enterScope(0);for(var t,n=!1;this.type!==L.braceR;)if(this.type===L._case||this.type===L._default){var r=this.type===L._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(L.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};st.parseThrowStatement=function(e){return this.next(),ca.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var uKe=[];st.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?$se:0),this.checkLValPattern(e,t?Fse:uc),this.expect(L.parenR),e};st.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===L._catch){var t=this.startNode();this.next(),this.eat(L.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(L._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};st.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};st.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(N6),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};st.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};st.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};st.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===L._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};st.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};st.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(L.braceL),e&&this.enterScope(0);this.type!==L.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};st.parseFor=function(e,t){return e.init=t,this.expect(L.semi),e.test=this.type===L.semi?null:this.parseExpression(),this.expect(L.semi),e.update=this.type===L.parenR?null:this.parseExpression(),this.expect(L.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};st.parseForIn=function(e,t){var n=this.type===L._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(L.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};st.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(L.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===L._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===L._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(L.comma))break}return e};st.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?R6:uc,!1)};var uy=1,lN=2,jse=4;st.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===L.star&&t&lN&&this.unexpected(),e.generator=this.eat(L.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&uy&&(e.id=t&jse&&this.type!==L.name?null:this.parseIdent(),e.id&&!(t&lN)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?R6:uc:Mse));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(P6(e.async,e.generator)),t&uy||(e.id=this.type===L.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&uy?"FunctionDeclaration":"FunctionExpression")};st.parseFunctionParams=function(e){this.expect(L.parenL),e.params=this.parseBindingList(L.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};st.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(L.braceL);this.type!==L.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&lKe(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};st.parseClassElement=function(e){if(this.eat(L.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(L.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===L.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===L.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(L.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===L.parenL||o!=="method"||i||s){var l=!n.static&&_S(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};st.isClassElementNameStart=function(){return this.type===L.name||this.type===L.privateId||this.type===L.num||this.type===L.string||this.type===L.bracketL||this.type.keyword};st.parseClassElementName=function(e){this.type===L.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};st.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&_S(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};st.parseClassField=function(e){if(_S(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&_S(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(L.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};st.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(bv|C6);this.type!==L.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};st.parseClassId=function(e,t){this.type===L.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,uc,!1)):(t===!0&&this.unexpected(),e.id=null)};st.parseClassSuper=function(e){e.superClass=this.eat(L._extends)?this.parseExprSubscripts(null,!1):null};st.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};st.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];vv(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function lKe(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function _S(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}st.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==L.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};st.parseExport=function(e,t){if(this.next(),this.eat(L.star))return this.parseExportAllDeclaration(e,t);if(this.eat(L._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==L.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};st.parseExportDeclaration=function(e){return this.parseStatement(null)};st.parseExportDefaultDeclaration=function(){var e;if(this.type===L._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,uy|jse,!1,e)}else if(this.type===L._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};st.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),vv(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};st.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};st.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};st.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};st.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};st.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(L.braceL);!this.eat(L.braceR);){if(n)n=!1;else if(this.expect(L.comma),this.afterTrailingComma(L.braceR))break;t.push(this.parseExportSpecifier(e))}return t};st.parseImport=function(e){return this.next(),this.type===L.string?(e.specifiers=uKe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===L.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};st.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,uc),this.finishNode(e,"ImportSpecifier")};st.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,uc),this.finishNode(e,"ImportDefaultSpecifier")};st.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,uc),this.finishNode(e,"ImportNamespaceSpecifier")};st.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===L.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(L.comma)))return e;if(this.type===L.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(L.braceL);!this.eat(L.braceR);){if(t)t=!1;else if(this.expect(L.comma),this.afterTrailingComma(L.braceR))break;e.push(this.parseImportSpecifier())}return e};st.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===L.string){var e=this.parseLiteral(this.value);return rKe.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};st.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};st.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var fa=ii.prototype;fa.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};fa.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};fa.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};fa.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==L.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};fa.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case L.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(L.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case L.braceL:return this.parseObj(!0)}return this.parseIdent()};fa.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(L.comma),t&&this.type===L.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===L.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};fa.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};fa.parseBindingListItem=function(e){return e};fa.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(L.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};fa.checkLValSimple=function(e,t,n){t===void 0&&(t=yS);var r=t!==yS;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===uc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(vv(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Bse&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};fa.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=yS),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};fa.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=yS),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var ya=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},cr={b_stat:new ya("{",!1),b_expr:new ya("{",!0),b_tmpl:new ya("${",!1),p_stat:new ya("(",!1),p_expr:new ya("(",!0),q_tmpl:new ya("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ya("function",!1),f_expr:new ya("function",!0),f_expr_gen:new ya("function",!0,!1,null,!0),f_gen:new ya("function",!1,!1,null,!0)},cg=ii.prototype;cg.initialContext=function(){return[cr.b_stat]};cg.curContext=function(){return this.context[this.context.length-1]};cg.braceIsBlock=function(e){var t=this.curContext();return t===cr.f_expr||t===cr.f_stat?!0:e===L.colon&&(t===cr.b_stat||t===cr.b_expr)?!t.isExpr:e===L._return||e===L.name&&this.exprAllowed?ca.test(this.input.slice(this.lastTokEnd,this.start)):e===L._else||e===L.semi||e===L.eof||e===L.parenR||e===L.arrow?!0:e===L.braceL?t===cr.b_stat:e===L._var||e===L._const||e===L.name?!1:!this.exprAllowed};cg.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};cg.updateContext=function(e){var t,n=this.type;n.keyword&&e===L.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};cg.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};L.parenR.updateContext=L.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===cr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};L.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?cr.b_stat:cr.b_expr),this.exprAllowed=!0};L.dollarBraceL.updateContext=function(){this.context.push(cr.b_tmpl),this.exprAllowed=!0};L.parenL.updateContext=function(e){var t=e===L._if||e===L._for||e===L._with||e===L._while;this.context.push(t?cr.p_stat:cr.p_expr),this.exprAllowed=!0};L.incDec.updateContext=function(){};L._function.updateContext=L._class.updateContext=function(e){e.beforeExpr&&e!==L._else&&!(e===L.semi&&this.curContext()!==cr.p_stat)&&!(e===L._return&&ca.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===L.colon||e===L.braceL)&&this.curContext()===cr.b_stat)?this.context.push(cr.f_expr):this.context.push(cr.f_stat),this.exprAllowed=!1};L.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};L.backQuote.updateContext=function(){this.curContext()===cr.q_tmpl?this.context.pop():this.context.push(cr.q_tmpl),this.exprAllowed=!1};L.star.updateContext=function(e){if(e===L._function){var t=this.context.length-1;this.context[t]===cr.f_expr?this.context[t]=cr.f_expr_gen:this.context[t]=cr.f_gen}this.exprAllowed=!0};L.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==L.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var bt=ii.prototype;bt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};bt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===L.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(L.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};bt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new YI,r=!0);var a=this.start,u=this.startLoc;(this.type===L.parenL||this.type===L.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===L.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===L.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};bt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(L.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(L.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};bt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};bt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==L._in)&&s>r){var o=this.type===L.logicalOR||this.type===L.logicalAND,a=this.type===L.coalesce;a&&(s=L.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===L.coalesce||a&&(this.type===L.logicalOR||this.type===L.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};bt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};bt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===L.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&Use(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===L.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==L._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(L.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function Use(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Use(e.expression)}bt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};bt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};bt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(L.arrow)};bt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};bt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(L.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(L.bracketL);if(l||u&&this.type!==L.parenL&&this.type!==L.backQuote||this.eat(L.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(L.bracketR)):this.type===L.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(L.parenL)){var f=new YI,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(L.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,g,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=g,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===L.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e};bt.parseExprAtom=function(e,t,n){this.type===L.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case L._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===L.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==L.dot&&this.type!==L.bracketL&&this.type!==L.parenL&&this.unexpected(),this.finishNode(r,"Super");case L._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case L.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(L._function))return this.overrideContext(cr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(L.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===L.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(L.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case L.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case L.num:case L.string:return this.parseLiteral(this.value);case L._null:case L._true:case L._false:return r=this.startNode(),r.value=this.type===L._null?null:this.type===L._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case L.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case L.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(L.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case L.braceL:return this.overrideContext(cr.b_expr),this.parseObj(!1,e);case L._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case L._class:return this.parseClass(this.startNode(),!1);case L._new:return this.parseNew();case L.backQuote:return this.parseTemplate();case L._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};bt.parseExprAtomDefault=function(){this.unexpected()};bt.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===L.parenL&&!e)return this.parseDynamicImport(t);if(this.type===L.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};bt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(L.parenR)){var t=this.start;this.eat(L.comma)&&this.eat(L.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};bt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};bt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};bt.parseParenExpression=function(){this.expect(L.parenL);var e=this.parseExpression();return this.expect(L.parenR),e};bt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};bt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new YI,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==L.parenR;)if(l?l=!1:this.expect(L.comma),s&&this.afterTrailingComma(L.parenR,!0)){c=!0;break}else if(this.type===L.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(L.parenR),e&&this.shouldParseArrow(u)&&this.eat(L.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",g,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=i,this.finishNode(m,"ParenthesizedExpression")}else return i};bt.parseParenItem=function(e){return e};bt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var cKe=[];bt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===L.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(L.parenL)?e.arguments=this.parseExprList(L.parenR,this.options.ecmaVersion>=8,!1):e.arguments=cKe,this.finishNode(e,"NewExpression")};bt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===L.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===L.backQuote,this.finishNode(n,"TemplateElement")};bt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===L.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(L.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(L.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};bt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===L.name||this.type===L.num||this.type===L.string||this.type===L.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===L.star)&&!ca.test(this.input.slice(this.lastTokEnd,this.start))};bt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(L.braceR);){if(r)r=!1;else if(this.expect(L.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(L.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};bt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(L.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===L.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(L.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(L.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};bt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};bt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===L.colon&&this.unexpected(),this.eat(L.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===L.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==L.comma&&this.type!==L.braceR&&this.type!==L.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===L.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};bt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(L.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(L.bracketR),e.key;e.computed=!1}return e.key=this.type===L.num||this.type===L.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};bt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};bt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(P6(t,r.generator)|C6|(n?Lse:0)),this.expect(L.parenL),r.params=this.parseBindingList(L.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};bt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(P6(n,!1)|Dse),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};bt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==L.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Bse),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};bt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};bt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,R6,t?null:n)}};bt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(L.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===L.comma?o=null:this.type===L.ellipsis?(o=this.parseSpread(r),r&&this.type===L.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};bt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};bt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};bt.parseIdentNode=function(){var e=this.startNode();return this.type===L.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=L.name):this.unexpected(),e};bt.parsePrivateIdent=function(){var e=this.startNode();return this.type===L.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};bt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===L.semi||this.canInsertSemicolon()||this.type!==L.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(L.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};bt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var vS=ii.prototype;vS.raise=function(e,t){var n=Nse(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};vS.raiseRecoverable=vS.raise;vS.curPosition=function(){if(this.options.locations)return new i_(this.curLine,this.pos-this.lineStart)};var Vf=ii.prototype,fKe=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Vf.enterScope=function(e){this.scopeStack.push(new fKe(e))};Vf.exitScope=function(){this.scopeStack.pop()};Vf.treatFunctionsAsVarInScope=function(e){return e.flags&lg||!this.inModule&&e.flags&s_};Vf.declareName=function(e,t,n){var r=!1;if(t===uc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&s_&&delete this.undefinedExports[e]}else if(t===Fse){var s=this.currentScope();s.lexical.push(e)}else if(t===Mse){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&$se&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&s_&&delete this.undefinedExports[e],u.flags&O6)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};Vf.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Vf.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Vf.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&O6)return t}};Vf.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&O6&&!(t.flags&Dse))return t}};var GI=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new WI(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},wv=ii.prototype;wv.startNode=function(){return new GI(this,this.start,this.startLoc)};wv.startNodeAt=function(e,t){return new GI(this,e,t)};function Vse(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}wv.finishNode=function(e,t){return Vse.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};wv.finishNodeAt=function(e,t,n,r){return Vse.call(this,e,t,n,r)};wv.copyNode=function(e){var t=new GI(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var zse="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Hse=zse+" Extended_Pictographic",qse=Hse,Wse=qse+" EBase EComp EMod EPres ExtPict",Yse=Wse,dKe=Yse,hKe={9:zse,10:Hse,11:qse,12:Wse,13:Yse,14:dKe},pKe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",mKe={9:"",10:"",11:"",12:"",13:"",14:pKe},w7="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Gse="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Kse=Gse+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Qse=Kse+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Xse=Qse+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Jse=Xse+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",gKe=Jse+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",yKe={9:Gse,10:Kse,11:Qse,12:Xse,13:Jse,14:gKe},Zse={};function _Ke(e){var t=Zse[e]={binary:jc(hKe[e]+" "+w7),binaryOfStrings:jc(mKe[e]),nonBinary:{General_Category:jc(w7),Script:jc(yKe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var JO=0,E7=[9,10,11,12,13,14];JO<E7.length;JO+=1){var vKe=E7[JO];_Ke(vKe)}var Ze=ii.prototype,Xu=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Zse[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Xu.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Xu.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Xu.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Xu.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Xu.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Xu.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Xu.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Xu.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Xu.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Ze.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Ze.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Ze.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Ze.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Ze.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Ze.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Ze.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Ze.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Ze.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Ze.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Ze.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Ze.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Ze.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Ze.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Ze.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Ze.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Ze.regexp_eatSyntaxCharacter=function(e){var t=e.current();return eoe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function eoe(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Ze.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!eoe(n);)e.advance();return e.pos!==t};Ze.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Ze.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Ze.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Ze.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Ef(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Ef(e.lastIntValue);return!0}return!1};Ze.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),bKe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function bKe(e){return Wl(e,!0)||e===36||e===95}Ze.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),wKe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function wKe(e){return Cm(e,!0)||e===36||e===95||e===8204||e===8205}Ze.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Ze.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Ze.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Ze.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Ze.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Ze.regexp_eatZero=function(e){return e.current()===48&&!KI(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Ze.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Ze.regexp_eatControlLetter=function(e){var t=e.current();return toe(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function toe(e){return e>=65&&e<=90||e>=97&&e<=122}Ze.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&EKe(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function EKe(e){return e>=0&&e<=1114111}Ze.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Ze.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var noe=0,Yl=1,Vo=2;Ze.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(TKe(t))return e.lastIntValue=-1,e.advance(),Yl;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===Vo&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return noe};function TKe(e){return e===100||e===68||e===115||e===83||e===119||e===87}Ze.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Yl}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return noe};Ze.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){vv(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Ze.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Yl;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Vo;e.raise("Invalid property name")};Ze.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";roe(t=e.current());)e.lastStringValue+=Ef(t),e.advance();return e.lastStringValue!==""};function roe(e){return toe(e)||e===95}Ze.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";SKe(t=e.current());)e.lastStringValue+=Ef(t),e.advance();return e.lastStringValue!==""};function SKe(e){return roe(e)||KI(e)}Ze.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Ze.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Vo&&e.raise("Negated character class may contain strings"),!0}return!1};Ze.regexp_classContents=function(e){return e.current()===93?Yl:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Yl)};Ze.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Ze.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||ooe(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Ze.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Ze.regexp_classSetExpression=function(e){var t=Yl,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Vo&&(t=Vo);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Vo&&(t=Yl);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Vo&&(t=Vo)}};Ze.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Ze.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Yl:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Ze.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===Vo&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Ze.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Ze.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Vo&&(t=Vo);return t};Ze.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Yl:Vo};Ze.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&xKe(n)||IKe(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function xKe(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function IKe(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Ze.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return AKe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function AKe(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Ze.regexp_eatClassControlLetter=function(e){var t=e.current();return KI(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Ze.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Ze.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;KI(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function KI(e){return e>=48&&e<=57}Ze.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;ioe(n=e.current());)e.lastIntValue=16*e.lastIntValue+soe(n),e.advance();return e.pos!==t};function ioe(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function soe(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Ze.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Ze.regexp_eatOctalDigit=function(e){var t=e.current();return ooe(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function ooe(e){return e>=48&&e<=55}Ze.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!ioe(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+soe(i),e.advance()}return!0};var k6=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new WI(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Jt=ii.prototype;Jt.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new k6(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Jt.getToken=function(){return this.next(),new k6(this)};typeof Symbol<"u"&&(Jt[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===L.eof,value:t}}}});Jt.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(L.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Jt.readToken=function(e){return Wl(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Jt.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Jt.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=Ose(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Jt.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!ug(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Jt.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Pse.test(String.fromCharCode(e)))++this.pos;else break e}}};Jt.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Jt.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(L.ellipsis)):(++this.pos,this.finishToken(L.dot))};Jt.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(L.assign,2):this.finishOp(L.slash,1)};Jt.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?L.star:L.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=L.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(L.assign,n+1):this.finishOp(r,n)};Jt.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(L.assign,3)}return this.finishOp(e===124?L.logicalOR:L.logicalAND,2)}return t===61?this.finishOp(L.assign,2):this.finishOp(e===124?L.bitwiseOR:L.bitwiseAND,1)};Jt.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(L.assign,2):this.finishOp(L.bitwiseXOR,1)};Jt.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ca.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(L.incDec,2):t===61?this.finishOp(L.assign,2):this.finishOp(L.plusMin,1)};Jt.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(L.assign,n+1):this.finishOp(L.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(L.relational,n))};Jt.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(L.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(L.arrow)):this.finishOp(e===61?L.eq:L.prefix,1)};Jt.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(L.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(L.assign,3)}return this.finishOp(L.coalesce,2)}}return this.finishOp(L.question,1)};Jt.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Wl(t,!0)||t===92))return this.finishToken(L.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ef(t)+"'")};Jt.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(L.parenL);case 41:return++this.pos,this.finishToken(L.parenR);case 59:return++this.pos,this.finishToken(L.semi);case 44:return++this.pos,this.finishToken(L.comma);case 91:return++this.pos,this.finishToken(L.bracketL);case 93:return++this.pos,this.finishToken(L.bracketR);case 123:return++this.pos,this.finishToken(L.braceL);case 125:return++this.pos,this.finishToken(L.braceR);case 58:return++this.pos,this.finishToken(L.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(L.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(L.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ef(e)+"'")};Jt.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Jt.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ca.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Xu(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(L.regexp,{pattern:i,flags:o,value:u})};Jt.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function CKe(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function aoe(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Jt.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=aoe(this.input.slice(t,this.pos)),++this.pos):Wl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(L.num,n)};Jt.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=aoe(this.input.slice(t,this.pos));return++this.pos,Wl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(L.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Wl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=CKe(this.input.slice(t,this.pos),n);return this.finishToken(L.num,s)};Jt.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Jt.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ug(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(L.string,t)};var uoe={};Jt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===uoe)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Jt.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw uoe;this.raise(e,t)};Jt.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===L.template||this.type===L.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(L.dollarBraceL)):(++this.pos,this.finishToken(L.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(L.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(ug(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Jt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(L.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Jt.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ef(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return ug(t)?"":String.fromCharCode(t)}};Jt.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Jt.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(Cm(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Wl:Cm)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Ef(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Jt.readWord=function(){var e=this.readWord1(),t=L.name;return this.keywords.test(e)&&(t=I6[e]),this.finishToken(t,e)};var OKe="8.11.2";ii.acorn={Parser:ii,version:OKe,defaultOptions:uN,Position:i_,SourceLocation:WI,getLineInfo:Nse,Node:GI,TokenType:dn,tokTypes:L,keywordTypes:I6,TokContext:ya,tokContexts:cr,isIdentifierChar:Cm,isIdentifierStart:Wl,Token:k6,isNewLine:ug,lineBreak:ca,lineBreakG:eKe,nonASCIIwhitespace:Pse};function PKe(e,t){return ii.parse(e,t)}const D6={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},RKe={ecmaVersion:11},T7="$",NKe="d",kKe="d1",DKe="d2",xi=e=>(t,n)=>n.error(t,e+" not allowed"),$Ke=xi("Aggregate function"),LKe=xi("Window function"),MKe="Invalid argument",$6="Invalid column reference",FKe=$6+" (must be input to an aggregate function)",loe="Invalid function call",BKe="Invalid member expression",jKe="Invalid operator parameter",UKe="Invalid param reference",VKe="Invalid variable reference",zKe="Variable not accessible in operator call",HKe="Unsupported variable declaration",qKe="Unsupported destructuring pattern",coe="Table expressions do not support closures",foe="Use aq.escape(fn) to use a function as-is (including closures)",WKe="use table.params({ name: value }) to define dynamic parameters",YKe="use aq.addFunction(name, fn) to add new op functions",GKe=`
Note: ${coe}. ${foe}, or ${WKe}.`,doe=`
Note: ${coe}. ${foe}, or ${YKe}.`,KKe=`The ${Ere} method is not valid in multi-table expressions.`;function QKe(e,t){const n=XKe(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,HGe(r)?(ZKe(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=kKe),e.scope.add(e.tuple2=DKe),e.scope.add(e.$param=T7)):(e.scope.add(e.tuple=NKe),e.scope.add(e.$param=T7)),fn(r,e,L6),e.root}function XKe(e){try{const t=e.field?JKe(e):_n(e)?Mu(e):e;return PKe(`expr=(${t})`,RKe).body[0].expression.right}catch{jt(`Expression parse error: ${e+""}`)}}function JKe(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const L6={FunctionDeclaration:xi("Function definitions"),ForStatement:xi("For loops"),ForOfStatement:xi("For-of loops"),ForInStatement:xi("For-in loops"),WhileStatement:xi("While loops"),DoWhileStatement:xi("Do-while loops"),AwaitExpression:xi("Await expressions"),ArrowFunctionExpression:xi("Function definitions"),AssignmentExpression:xi("Assignments"),FunctionExpression:xi("Function definitions"),NewExpression:xi('Use of "new"'),UpdateExpression:xi("Update expressions"),VariableDeclarator(e,t){dN(e.id,t)},Identifier(e,t,n){moe(e,t,n)&&!t.scope.has(e.name)&&t.error(e,VKe,GKe)},CallExpression(e,t){const n=hoe(e.callee),r=vre(n)||bre(n);if(r){if((t.join||t.aggregate===!1)&&I3(n)&&$Ke(e,t),(t.join||t.window===!1)&&A3(n)&&LKe(e,t),t.$op=1,t.ast)fN(e,n,t),e.arguments.forEach(i=>fn(i,t,cN));else{const i=t.op(eQe(t,r,n,e.arguments));Object.assign(e,{type:pre,name:i.id})}return t.$op=0,!1}else _re(n)?fN(e,n,t):t.error(e,loe,doe)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Zr(rf,r))return;const{name:s}=r;if(poe(e)&&Zr(rf,i)&&Fa(D6,i.name)){_oe(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return S7(e,o,t,goe,n);if(s===t.$param)return S7(e,o,t,nQe);t.paramsRef.has(s)?o_(e,t.paramsRef.get(s)):t.columnRef.has(s)?yoe(r,s,t,e):Fa(t.params,s)&&o_(r,s)}};function S7(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(Zr(ig,s))a=s.value;else try{fn(s,n,L6,e),a=n.param(s)}catch{n.error(e,BKe)}return r(e,a,t,n,i),!1}const cN={...L6,VariableDeclarator:xi("Variable declaration in operator call"),Identifier(e,t,n){moe(e,t,n)&&t.error(e,zKe)},CallExpression(e,t){const n=hoe(e.callee);_re(n)?fN(e,n,t):t.error(e,loe,doe)}};function ZKe(e,t){e.generator&&xi("Generator functions")(e,t),e.async&&xi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(i0(t,n[0],"tuple1",i(1)),r>1&&i0(t,n[1],"tuple2",i(2)),r>2&&i0(t,n[2],"$param",s)):(i0(t,n[0],"tuple",i(0)),r>1&&i0(t,n[1],"$param",s))),t.root=e.body}function i0(e,t,n,r){Zr(rf,t)?(e.scope.add(t.name),e[n]=t.name):Zr(dre,t)&&t.properties.forEach(i=>{const s=Zr(rf,i.key)?i.key.name:Zr(ig,i.key)?i.key.value:e.error(i,MKe);Zr(rf,i.value)||e.error(i.value,qKe),r(i.value.name,s)})}function eQe(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(fn(u,e,cN),i.push(e.field(u))):l<a?(fn(u,e,cN),s.push(e.param(u))):e.error(u,jKe)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function hoe(e){return Zr(rf,e)?e.name:Zr(fre,e)?poe(e)?tQe(e.property.name):e.property.name:null}function poe(e){return Zr(rf,e.object)&&e.object.name==="Math"}function tQe(e){return e==="max"?"greatest":e==="min"?"least":e}function moe(e,t,n){const{name:r}=e;if(!(Zr(fre,n)&&n.property===e)){if(!(Zr(hre,n)&&n.key===e))if(t.paramsRef.has(r))o_(e,t.paramsRef.get(r));else if(t.columnRef.has(r))yoe(e,r,t,n);else if(Fa(t.params,r))o_(e,r);else if(Fa(D6,r))_oe(e,r);else return!0}}function goe(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,$6),r.aggronly&&!r.$op&&r.error(e,FKe),wre(e,t,n,o,i)}function yoe(e,t,n,r){const[i,s]=n.columnRef.get(t);goe(e,i,s,n,r)}function nQe(e,t,n,r){r.params&&!Fa(r.params,t)&&r.error(e,UKe),o_(e,t)}function o_(e,t){e.type=YHe,e.name=t}function _oe(e,t){e.type=HHe,e.name=t,e.raw=D6[t]}function fN(e,t,n){if(t===Ere){const r=n.table;r||n.error(e,KKe),Tre(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=gs(s)?r.columnName(s):s;return r.column(o)||n.error(i,$6),o}):r.columnNames())}else e.callee={type:WHe,name:t}}function dN(e,t){Zr(rf,e)?t.scope.add(e.name):Zr(jHe,e)?e.elements.forEach(n=>dN(n,t)):Zr(dre,e)?e.properties.forEach(n=>dN(n.value,t)):t.error(e.id,HKe)}const rQe={[pv]:1,[pre]:1};function Js(e,t={}){const n=t.generate||ZT,r=t.compiler||C3,i=sQe(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(g){const y=iQe(g);return o[y]||(g.id=++c,o[y]=g)},field(g){const y=n(g);return s[y]||(s[y]=++l)},param(g){return Zr(ig,g)?g.value:r.param(n(g),i)},value(g,y){a.push(g);const m=y.escape||(t.ast?zGe(y):f(n(y),i));u.push(m),rQe[y.type]&&m!==y&&rs(m)&&(m.field=y.name)},error(g,y,m=""){const _=g.start-6,v=g.end-6,T=String(d.spec).slice(_,v);jt(`${y}: "${T}"${m}`)}};Object.assign(d,t,{params:i});for(const[g,y]of NI(e))d.value(g+"",y.escape?YGe(d,y,i):QKe(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const g in s)h[s[g]]=r.expr(g,i);const p=Object.values(o);return p.forEach(g=>g.fields=g.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function iQe(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function sQe(e){return(e.table?ZO(e.table):e.join?{...ZO(e.join[1]),...ZO(e.join[0])}:{})||{}}function ZO(e){return e&&tr(e.params)?e.params():{}}const voe="Expr",_a="ExprList",boe="ExprNumber",x0="ExprObject",_p="JoinKeys",bS="JoinValues",Do="Options",M6="OrderKeys",vc="SelectionList",fd="TableRef",vp="TableRefList",oQe="Descending",aQe="Query",uQe="Selection",lQe="Verb",cQe="Window";function QI(e,t){return e&&e.expr?new x7({...e,...t}):new x7(t,e)}class x7{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...tr(this.expr)?{func:!0}:{}}}}function fQe(e){return QI(e,{desc:!0})}function Zd(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return QI(e,t?{expr:t,...r}:r)}function dQe(e,t,n){return QI(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function hQe(e){const t=n=>n;return t.toString=()=>e,t}function I7(e,t){return t=t&&tr(t.query)?t.query():t,t&&tr(t.evaluate)?t.evaluate(null,e):e(t)}function woe(e){return rs(e)&&(_n(e.all)||_n(e.matches)||_n(e.not)||_n(e.range))}function a_(e){return e&&tr(e.toObject)?e.toObject():tr(e)?{expr:String(e),func:!0}:_n(e)?e.map(a_):rs(e)?HI(e,t=>a_(t)):e}function F6(e){return _n(e)?e.map(F6):rs(e)?_n(e.verbs)?j6.from(e):_n(e.all)?Am():_n(e.range)?FGe(...e.range):_n(e.match)?BGe(RegExp(...e.match)):_n(e.not)?xse(e.not.map(a_)):pQe(e):e}function pQe(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Zd(n):e.func===!0&&(t=n=hQe(n)),rs(e.window)){const{frame:r,peers:i}=e.window;t=n=dQe(n,r,i)}e.desc===!0&&(t=fQe(n))}return e===t?HI(e,r=>F6(r)):t}function mQe(e){return _n(e)?e.map(gQe):e}function gQe(e){const t=[];return Qs(e).forEach(n=>{gs(n)?t.push(n):Bi(n)?t.push(Zd(n,null)):rs(n)&&n.expr||tr(n)?t.push(n):jt(`Invalid key value: ${n+""}`)}),t}function yQe(e){return _n(e)?e.map(_Qe):e}function _Qe(e,t){return t<2?Qs(e):e}function vQe(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(rs(r)&&!tr(r))for(const i in r)t.push(r[i]);else n=gs(r)?r:Bi(r)?Zd(n):tr(r)?n:jt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const bQe={[voe]:xoe,[_a]:Om,[boe]:IQe,[x0]:Tf,[_p]:AQe,[bS]:CQe,[M6]:Om,[vc]:SQe};function wQe(e,t,n){return t===fd?A7(e):t===vp?e.map(A7):Eoe(a_(e),t,n)}function Eoe(e,t,n){return t===Do?e&&EQe(e,n):bQe[t](e)}function EQe(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?Eoe(i,t[r]):i}return n}function TQe(e,t){return Js({expr:e},{...t,ast:!0}).exprs[0]}function B6(e){return{type:pv,name:e}}function Toe(e){return{type:pv,index:e}}function Tf(e,t){if(Bi(e))return TQe(e,t);if(e.expr){let n;if(e.field===!0?n=B6(e.expr):e.func===!0&&(n=Tf(e.expr,t)),n)return e.desc&&(n={type:oQe,expr:n}),e.window&&(n={type:cQe,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...Tf(e[n],t),as:n}))}function Soe(e){const t=uQe;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:Om(e.not)}:e.range?{type:t,operator:"range",arguments:Om(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:jt("Invalid input")}function SQe(e){return Qs(e).map(xQe).flat()}function xQe(e){return woe(e)?Soe(e):gs(e)?Toe(e):Bi(e)?B6(e):rs(e)?Object.keys(e).map(t=>({type:pv,name:t,as:e[t]})):jt("Invalid input")}function xoe(e){return woe(e)?Soe(e):gs(e)?Toe(e):Bi(e)?B6(e):rs(e)?Tf(e):jt("Invalid input")}function Om(e){return Qs(e).map(xoe).flat()}function IQe(e){return gs(e)?e:Tf(e)}function AQe(e){return _n(e)?e.map(Om):Tf(e,{join:!0})}function CQe(e){return _n(e)?e.map((t,n)=>n<2?Om(t):Tf(t,{join:!0})):Tf(e,{join:!0})}function A7(e){return e&&tr(e.toAST)?e.toAST():e}class Ioe{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===_p?mQe(a):o===bS?yQe(a):o===M6?vQe(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=hN[t.verb],r=(n.schema||[]).map(({name:i})=>F6(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===fd?I7(n,o):s===vp?o.map(a=>I7(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=a_(this[n])}),t}toAST(){const t={type:lQe,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=wQe(this[n],r,i)}),t}}function Ln(e,t){return Object.assign((...n)=>new Ioe(e,t,n),{schema:t})}const hN={count:Ln("count",[{name:"options",type:Do}]),derive:Ln("derive",[{name:"values",type:x0},{name:"options",type:Do,props:{before:vc,after:vc}}]),filter:Ln("filter",[{name:"criteria",type:x0}]),groupby:Ln("groupby",[{name:"keys",type:_a}]),orderby:Ln("orderby",[{name:"keys",type:M6}]),relocate:Ln("relocate",[{name:"columns",type:vc},{name:"options",type:Do,props:{before:vc,after:vc}}]),rename:Ln("rename",[{name:"columns",type:vc}]),rollup:Ln("rollup",[{name:"values",type:x0}]),sample:Ln("sample",[{name:"size",type:boe},{name:"options",type:Do,props:{weight:voe}}]),select:Ln("select",[{name:"columns",type:vc}]),ungroup:Ln("ungroup"),unorder:Ln("unorder"),reify:Ln("reify"),dedupe:Ln("dedupe",[{name:"keys",type:_a,default:[]}]),impute:Ln("impute",[{name:"values",type:x0},{name:"options",type:Do,props:{expand:_a}}]),fold:Ln("fold",[{name:"values",type:_a},{name:"options",type:Do}]),pivot:Ln("pivot",[{name:"keys",type:_a},{name:"values",type:_a},{name:"options",type:Do}]),spread:Ln("spread",[{name:"values",type:_a},{name:"options",type:Do}]),unroll:Ln("unroll",[{name:"values",type:_a},{name:"options",type:Do,props:{drop:_a}}]),lookup:Ln("lookup",[{name:"table",type:fd},{name:"on",type:_p},{name:"values",type:_a}]),join:Ln("join",[{name:"table",type:fd},{name:"on",type:_p},{name:"values",type:bS},{name:"options",type:Do}]),cross:Ln("cross",[{name:"table",type:fd},{name:"values",type:bS},{name:"options",type:Do}]),semijoin:Ln("semijoin",[{name:"table",type:fd},{name:"on",type:_p}]),antijoin:Ln("antijoin",[{name:"table",type:fd},{name:"on",type:_p}]),concat:Ln("concat",[{name:"tables",type:vp}]),union:Ln("union",[{name:"tables",type:vp}]),intersect:Ln("intersect",[{name:"tables",type:vp}]),except:Ln("except",[{name:"tables",type:vp}])};let j6=class Aoe extends Jne{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new Aoe(t.map(Ioe.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return C7(this,"toObject")}toJSON(){return this.toObject()}toAST(){return C7(this,"toAST",{type:aQe})}};function C7(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function OQe(e,t){return new j6(e._verbs.concat(t),e._params,e._table)}for(const e in hN){const t=hN[e];j6.prototype["__"+e]=function(n,...r){return OQe(n,t(...r))}}function fg(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function PQe(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function U6(e,t){const n=Co();return t.forEach((r,i)=>{const s=Bi(r)?r:i;if(s){const o=e.column(i)||jt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function Coe(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||jt("relocate requires a before or after option."),i&&s&&jt("relocate accepts only one of the before or after options."),t=ql(e,t);const o=[...ql(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),U6(e,u)}function Ev(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function V6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RQe(e,t=0,n=e.length){let r=n?e[t++]:hn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function NQe(e,t=0,n=e.length){let r=n?e[t++]:hn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function W1(e){return Jy(e)?e:+e}function kQe(e,t){const n=e.length;if(!n)return hn;if((t=+t)<=0||n<2)return W1(e[0]);if(t>=1)return W1(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=W1(e[i]);return Jy(s)?s:s+(W1(e[i+1])-s)*(r-i)}class DQe{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:RQe(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:NQe(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(V6)),kQe(this._sorted,t)}}const wS=(e,t,n)=>fg(t,"{"+Ev(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function $Qe(e,t){const{ops:n,output:r}=LQe(e,t),i=e[0].fields,s=i.length,o=s===0?z6:s===1?MQe:s===2?FQe:jt("Unsupported field count: "+s);return new o(i,n,r,t)}function LQe(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=vre(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class z6 extends UGe{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new DQe),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class MQe extends z6{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=wS(n,s,"add"),this._rem=wS(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Oa(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Oa(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class FQe extends z6{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=wS(n,s,"add"),this._rem=wS(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Oa(i)&&Oa(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Oa(i)&&Oa(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function Sh(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=dg(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function dg(e,t,n){if(!t.length)return n;const r=Ooe(t),i=e.groups(),s=i?i.size:1;return n=n||PI(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=Roe(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Poe(e,o);o.write(a,n,0)}),n}function Ooe(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push($Qe(r[i],t));return n}function Poe(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function Roe(e,t,n){const{keys:r,size:i}=n,s=PI(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function Noe(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function koe(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const O7=koe(V6);function BQe(e,t,n,r,i){let s,o,a,u,l;const c=g=>o[g-1]===o[g],f=r.length,d=i.length,h=r.length?fg(["w","r","k"],"{"+Ev(r,(g,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(g,y,m,_){p.index=p.i0=p.i1=0,p.size=y.length,s=g,o=y,u=m,l=_,a=i?i.map(v=>v.init()):null;for(let v=0;v<f;++v)r[v].init();return p},value(g,y){return y(s[g],e)},step(g){const[y,m]=t,_=p.size,v=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,g-Math.abs(y)):0,p.i1=m!=null?Math.min(_,g+Math.abs(m)+1):_,p.index=g,n&&(p.i0>0&&c(p.i0)&&(p.i0=O7.left(o,o[p.i0])),p.i1<_&&c(p.i1)&&(p.i1=O7.right(o,o[p.i1-1])));for(let S=0;S<d;++S){const w=i[S],x=a[S];for(let A=v;A<p.i0;++A)w.rem(x,s[A],e);for(let A=T;A<p.i1;++A)w.add(x,s[A],e);w.write(x,u,l)}return h(p,u,l),u}};return p}const jQe=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),UQe=e=>!!e.peers;function VQe(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=bre(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function zQe(e,t,n,r={},i){const s=e.data(),o=HQe(i,s),a=o.length,u=fg(["r","d","op"],"{"+Ev(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=qQe(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let g=0;g<a;++g)o[g].step(p);u(l[p],s,h)}})}function HQe(e,t){const n={};return e.forEach(r=>{const i=jQe(r),s=UQe(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});I3(r.name)?a.push(r):u.push(VQe(r))}),Object.values(n).map(r=>BQe(t,r.frame,r.peers,r.winOps,Ooe(r.aggOps,r.frame[0]!=null?-1:1)))}function qQe(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function WQe(e){return A3(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function H6(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Co(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=YQe(r),c=e.isGrouped()?e.groups().size:1,f=dg(e,u,PI(r.length,()=>Array(c)));return l.length?zQe(e,a,n,f,l):GQe(e,a,n,f),e.create(o)}function YQe(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(WQe(s)?n:t).push(s)}return[t,n]}function GQe(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function KQe(e,t,n={}){const r=H6(e,Js(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Coe(r,Object.keys(t).filter(i=>!e.column(i)),n)}function QQe(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const Y1=2147483648,XQe=4294967295;class Doe{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&Y1>>>t}set(t){this._bits[t>>5]|=Y1>>>t}clear(t){this._bits[t>>5]&=~(Y1>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&XQe>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=Y1>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function JQe(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Doe(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function ZQe(e,t){const n=Js({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=H6(e,n,{drop:!0}).column("p");r=s=>i[s]}return JQe(e,r)}function $oe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=Sh(e,r,n),l=Co(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const S=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(S))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let g=0;const y=f.length,m=h.length,_=(T,S)=>{for(let w=0;w<y;++w)d[w].length=g+S,d[w].fill(f[w].get(T),g,g+S)},v=p?(T,S)=>{for(let w=0;w<S;++w)p[T+w]=w}:()=>{};if(m===1){const T=u[0],S=h[0];e.scan((w,x)=>{const A=Qs(T(w,x)),M=Math.min(A.length,s);_(w,M);for(let D=0;D<M;++D)S[g+D]=A[D];v(g,M),g+=M})}else e.scan((T,S)=>{let w=0;const x=u.map(A=>{const M=Qs(A(T,S));return w=Math.min(Math.max(w,M.length),s),M});_(T,w);for(let A=0;A<m;++A){const M=h[A],D=x[A];for(let $=0;$<w;++$)M[g+$]=D[$]}v(g,w),g+=w});return e.create(l.new())}function eXe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=Sh(e,r,n);return $oe(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Ba(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=gs(o)?t.columnName(o):o,Bi(o)?i.set(o,Zd(o)):tr(o)?ql(t,o).forEach(s):rs(o)?Tse(i,o):jt(`Invalid ${e} value: ${o+""}`)};return Qs(n).forEach(s),r.preparse&&r.preparse(i),Js(i,{table:t,...r})}function tXe(e,t,n){return eXe(e,Ba("fold",e,t),n)}function P7(e,t,n,r){const i=n&&n.length;return nXe(i?rXe(e,n,r):e,t,i)}function nXe(e,{names:t,exprs:n,ops:r},i){const s=Sh(e,r,n),o=i?null:Co(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Oa(p)?p:d(h)})}),i?e:e.create(o)}function rXe(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=eS(o);e.scan((p,g)=>a.add(u(p,g)));const l=e.columnNames(),c=Co(),f=l.map(p=>c.add(p,[]));l.forEach((p,g)=>{const y=i[p],m=f[g];e.scan(_=>m.push(y.get(_)))});const d=eS(o.map((p,g)=>y=>y[g])),h=fg("v","{"+f.map((p,g)=>`_${g}.push(v[$${g}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const g=n.reduce((m,_)=>m*_.length,r.size),y=new Uint32Array(g+(p-a.size));y.set(r.keys),R7(r,n,(m,_)=>{a.has(d(m))||(h(m),y[p++]=_[0])}),c.groupby({...r,keys:y})}else R7(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function R7(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const g=f[p];for(let y=0;y<r;++y)h[y]=c[y](g)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function q6(e,{names:t,exprs:n,ops:r}){const i=Co(),s=e.groups();return s&&Noe(i,s),iXe(t,n,s,dg(e,r),i),e.create(i.new())}function iXe(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function sXe(e,t,n={}){if(t=Js(t,{table:e}),t.names.forEach(r=>e.column(r)?0:jt(`Invalid impute column ${Mu(r)}`)),n.expand){const r={preparse:oXe,aggronly:!0},i=Ba("impute",e,n.expand,r),s=q6(e.ungroup(),i);return P7(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return P7(e,t)}function oXe(e){e.forEach((t,n)=>t.field?e.set(n,are(t+"")):0)}function aXe(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Loe(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function uXe(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function lXe(e,t){const n=["i","a","j","b"];return fg(n,"{"+Ev(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function cXe(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,g=Co(),y=Array(p),m=Array(p);for(let T=0;T<r.length;++T)y[T]=g.add(r[T],[]),m[T]=i[T];const _=lXe(y,m);if((_n(n)?dXe:fXe)(_,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||_(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||_(-1,o,f[T],c);return e.create(g.new())}function fXe(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function dXe(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,g,y,m,_,v=e;l>=c?(f=r,d=t,h=a,p=s,g=i,y=n,m=u,_=o):(f=i,d=n,h=u,p=o,g=r,y=t,m=a,_=s,v=(w,x,A,M)=>e(A,M,w,x));const T=uXe(_,g,y),S=p.length;for(let w=0;w<S;++w){const x=p[w],A=T.get(d(x,f));if(A){const M=A.length;for(let D=0;D<M;++D){const $=A[D];v(x,f,_[$],g),m[$]=1}h[w]=1}}}function ES(e,t,n){const r=new Map;Qs(n).forEach((s,o)=>{s=gs(s)?t.columnName(s):s,Bi(s)?r.set(o,Zd(s)):tr(s)||rs(s)&&s.expr?r.set(o,s):jt(`Invalid ${e} key value: ${s+""}`)});const i=Js(r,{table:t,aggregate:!1,window:!1});return eS(i.exprs,!0)}function hXe(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function W6(e,t,n){if(n)Bi(n)?n=[n,n]:_n(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=hXe(e.columnNames(),t.columnNames());r.length||jt("Natural join requires shared column names."),n=[r,r]}return n}function Moe(e,t,n,r){return n.length!==r.length&&jt("Mismatched number of join keys"),[ES("join",e,n),ES("join",t,r)]}const pXe={aggregate:!1,window:!1},mXe={...pXe,index:1};function N7(e,t,n,r,i={}){n=W6(e,t,n);const s={join:[e,t]};let o;if(_n(n)){const[a,u]=n.map(Qs);o=Moe(e,t,a,u),r||(r=gXe(e,a,u,i))}else o=Js({on:n},s).exprs[0],r||(r=[Am(),Am()]);return cXe(e,t,o,yXe(e,t,r,s,i&&i.suffix),i)}function gXe(e,t,n,r){const i=[];t.forEach((o,a)=>Bi(o)&&o===n[a]?i.push(o):0);const s=xse(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${Mu(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,Am()]:[Am(),s]}function yXe(e,t,n,r,i=[]){if(_n(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Ba("join",e,n[0],r)),u--&&(o=Ba("join",t,n[1],mXe)),u--&&(a=Js(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(k7(s.names,l,i[0]||"_1"),k7(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Js(n,r)}function k7(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function _Xe(e,t,n,r={}){const i=new Doe(e.totalRows());return(_n(n)?vXe:bXe)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function vXe(e,t,n,[r,i]){const s=Loe(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function bXe(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function D7(e,t,n,r){n=W6(e,t,n);const i=_n(n)?Moe(e,t,...n.map(Qs)):Js({on:n},{join:[e,t]}).exprs[0];return _Xe(e,t,i,r)}function wXe(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Co(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(hn)));const l=Loe(t,r),c=fg(["lr","rr","data"],"{"+Ev(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),Sh(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function EXe(e,t,n,r){return n=W6(e,t,n),wXe(e,t,[ES("lookup",e,n[0]),ES("lookup",t,n[1])],Ba("lookup",t,r))}const pN=(e,t)=>e??t;function TXe(e,t,n,r={}){const{keys:i,keyColumn:s}=SXe(e,t,r),o=pN(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>dg(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,g)=>l===s[p]?d(p,g):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(xXe(n,a,e.groups(),u))}function SXe(e,t,n){const r=n.limit>0?+n.limit:1/0,i=pN(n.sort,!0),s=pN(n.keySeparator,"_"),o=Sh(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=dg(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function xXe({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Co(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&Noe(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let g=0;g<s;++g)p[g]=d(g,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function IXe(e,t,n,r){return TXe(e,Ba("fold",e,t),Ba("fold",e,n,{preparse:AXe,aggronly:!0}),r)}function AXe(e){e.forEach((t,n)=>t.field?e.set(n,ire(t+"")):0)}function CXe(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),U6(e,ql(e,t,n))}function $7(e,t){return q6(e,Js(t,{table:e,aggronly:!0,window:!1}))}function OXe(e,t,n,r){return(t?r?RXe:PXe:r?kXe:NXe)(e.length,e,n,r)}function PXe(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*rg()|0];return t}function RXe(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=koe(V6).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*rg())];return t}function NXe(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*rg();s<e&&(t[s|0]=n[i])}return t}function kXe(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(rg())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function DXe(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=rg()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function $Xe(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):OXe(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&DXe(u),e.reify(u)}function LXe(e,t,n={}){return $Xe(e,MXe(e,t),FXe(e,n.weight),n)}const Foe=e=>t=>e.get(t)||0;function MXe(e,t){return gs(t)?()=>t:Foe(q6(e,Js({size:t},{table:e,window:!1})).column("size"))}function FXe(e,t){return t==null?null:(t=gs(t)?e.columnName(t):t,Foe(Bi(t)?e.column(t):H6(e,Js({w:t},{table:e}),{drop:!0}).column("w")))}function BXe(e,t){return U6(e,ql(e,t))}function jXe(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=Sh(e,r,n),l=Co(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=UXe(e,u[d],a),g=p.length;for(let y=0;y<g;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function UXe(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=Qs(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(hn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function VXe(e,t,n){return jXe(e,Ba("spread",e,t),n)}function zXe(e,t){return e.concat(t).dedupe()}function HXe(e,t,n){return $oe(e,Ba("unroll",e,t),n&&n.drop?{...n,drop:Ba("unroll",e,n.drop).names}:n)}function qXe(e,t){return e.create({groups:WXe(e,t)})}function WXe(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=Sh(e,r,n);const o=eS(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function YXe(e,t){return qXe(e,Ba("groupby",e,t))}function GXe(e,t){return e.create({order:t})}const KXe=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function QXe(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=Js(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const g=y=>`fn[${i.length}](${y}, data)`;r.push([g("a"),g("b")]),i.push(p.escape)}else r.push([ZT(p,{index:"a",op:o}),ZT(p,{index:"b",op:a})])},window:!1}),l=dg(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[g,y]=r[h];d+=KXe(g,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function XXe(e,t){return GXe(e,JXe(e,t))}function JXe(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(rs(o)&&!tr(o))for(const a in o)i(o[a]);else i(gs(o)?Zd(s,e.columnName(o)):Bi(o)?Zd(s):tr(o)?s:jt(`Invalid orderby field: ${s+""}`))}),QXe(e,r)}function ZXe(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Co();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>hn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function eJe(e,t){const n=Co(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?Roe(e,t,r):[Poe(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const g=n.data[h]=Array(f),y=i[p];for(let m=0,_=0;m<a;++m)g.fill(y(o[m],d),_,_+=u[m+1])})}return e.create(n.new())}function tJe(e){return e.isGrouped()?e.create({groups:null}):e}function nJe(e){return e.isOrdered()?e.create({order:null}):e}const rJe={__antijoin:(e,t,n)=>D7(e,t,n,{anti:!0}),__count:(e,t={})=>$7(e,{[t.as||"count"]:sre()}),__cross:(e,t,n,r)=>N7(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:ZXe,__dedupe:PQe,__derive:KQe,__except:QQe,__filter:ZQe,__fold:tXe,__impute:sXe,__intersect:aXe,__join:N7,__lookup:EXe,__pivot:IXe,__relocate:Coe,__rename:CXe,__rollup:$7,__sample:LXe,__select:BXe,__semijoin:D7,__spread:VXe,__union:zXe,__unroll:HXe,__groupby:YXe,__orderby:XXe,__ungroup:tJe,__unorder:nJe,__reduce:eJe};Object.assign(dl.prototype,rJe);function iJe(e,t){return dl.from(e,t)}function eP(e){return QI(e,{escape:!0,toString(){jt("Escaped values can not be serialized.")}})}dl.prototype;function sJe(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let G1;const oJe=new Uint8Array(16);function aJe(){if(!G1&&(G1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!G1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return G1(oJe)}const wi=[];for(let e=0;e<256;++e)wi.push((e+256).toString(16).slice(1));function uJe(e,t=0){return(wi[e[t+0]]+wi[e[t+1]]+wi[e[t+2]]+wi[e[t+3]]+"-"+wi[e[t+4]]+wi[e[t+5]]+"-"+wi[e[t+6]]+wi[e[t+7]]+"-"+wi[e[t+8]]+wi[e[t+9]]+"-"+wi[e[t+10]]+wi[e[t+11]]+wi[e[t+12]]+wi[e[t+13]]+wi[e[t+14]]+wi[e[t+15]]).toLowerCase()}const lJe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),L7={randomUUID:lJe};function M7(e,t,n){if(L7.randomUUID&&!t&&!e)return L7.randomUUID();e=e||{};const r=e.random||(e.rng||aJe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return uJe(r)}let Ou=class{static get(){let t=M7();for(;this.ids.has(t);)t=M7();return this.ids.set(t,!0),t}};Ou.ids=new Map;function Pu(e){return"parent"in e}function cJe(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:Ou.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:Ou.get(),createdOn:Date.now(),val:r}]:[];return{id:Ou.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function fJe({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:Ou.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:Ou.get(),createdOn:Date.now(),val:s}]:[];return{id:Ou.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Ar(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=bJe[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function eh(e){return!!e&&!!e[wo]}function Sf(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===wJe}(e)||Array.isArray(e)||!!e[ly]||!!(!((t=e.constructor)===null||t===void 0)&&t[ly])||XI(e)||JI(e))}function Pm(e,t,n){n===void 0&&(n=!1),xf(e)===0?(n?Object.keys:J6)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function xf(e){var t=e[wo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:XI(e)?2:JI(e)?3:0}function u_(e,t){return xf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Xb(e,t){return xf(e)===2?e.get(t):e[t]}function Boe(e,t,n){var r=xf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function dJe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function XI(e){return _Je&&e instanceof Map}function JI(e){return vJe&&e instanceof Set}function td(e){return e.o||e.t}function Y6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=EJe(e);delete t[wo];for(var n=J6(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function G6(e,t){return t===void 0&&(t=!1),K6(e)||eh(e)||!Sf(e)||(xf(e)>1&&(e.set=e.add=e.clear=e.delete=hJe),Object.freeze(e),t&&Pm(e,function(n,r){return G6(r,!0)},!0)),e}function hJe(){Ar(2)}function K6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ru(e){var t=_N[e];return t||Ar(18,e),t}function pJe(e,t){_N[e]||(_N[e]=t)}function F7(){return{}.NODE_ENV==="production"||Rm||Ar(0),Rm}function tP(e,t){t&&(Ru("Patches"),e.u=[],e.s=[],e.v=t)}function TS(e){mN(e),e.p.forEach(mJe),e.p=null}function mN(e){e===Rm&&(Rm=e.l)}function B7(e){return Rm={p:[],l:Rm,h:e,m:!0,_:0}}function mJe(e){var t=e[wo];t.i===0||t.i===1?t.j():t.O=!0}function nP(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Ru("ES5").S(t,e,r),r?(n[wo].P&&(TS(t),Ar(4)),Sf(e)&&(e=SS(t,e),t.l||xS(t,e)),t.u&&Ru("Patches").M(n[wo].t,e,t.u,t.s)):e=SS(t,n,[]),TS(t),t.u&&t.v(t.u,t.s),e!==X6?e:void 0}function SS(e,t,n){if(K6(t))return t;var r=t[wo];if(!r)return Pm(t,function(s,o){return j7(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return xS(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Y6(r.k):r.o;Pm(r.i===3?new Set(i):i,function(s,o){return j7(e,r,i,s,o,n)}),xS(e,i,!1),n&&e.u&&Ru("Patches").R(r,n,e.u,e.s)}return r.o}function j7(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Ar(5),eh(i)){var o=SS(e,i,s&&t&&t.i!==3&&!u_(t.D,r)?s.concat(r):void 0);if(Boe(n,r,o),!eh(o))return;e.m=!1}if(Sf(i)&&!K6(i)){if(!e.h.F&&e._<1)return;SS(e,i),t&&t.A.l||xS(e,i)}}function xS(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&G6(t,n)}function rP(e,t){var n=e[wo];return(n?td(n):e)[t]}function U7(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function gN(e){e.P||(e.P=!0,e.l&&gN(e.l))}function iP(e){e.o||(e.o=Y6(e.t))}function yN(e,t,n){var r=XI(t)?Ru("MapSet").N(t,n):JI(t)?Ru("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:F7(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=vN;o&&(u=[a],l=I0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Ru("ES5").J(t,n);return(n?n.A:F7()).p.push(r),r}function gJe(e){return eh(e)||Ar(22,e),function t(n){if(!Sf(n))return n;var r,i=n[wo],s=xf(n);if(i){if(!i.P&&(i.i<4||!Ru("ES5").K(i)))return i.t;i.I=!0,r=V7(n,s),i.I=!1}else r=V7(n,s);return Pm(r,function(o,a){i&&Xb(i.t,o)===a||Boe(r,o,t(a))}),s===3?new Set(r):r}(e)}function V7(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Y6(e)}function yJe(){function e(r){if(!Sf(r))return r;if(Array.isArray(r))return r.map(e);if(XI(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(JI(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return u_(r,ly)&&(i[ly]=r[ly]),i}function t(r){return eh(r)?e(r):r}var n="add";pJe("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=xf(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Ar(24),typeof u=="function"&&f==="prototype"&&Ar(24),typeof(u=Xb(u,f))!="object"&&Ar(15,o.join("/"))}var d=xf(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Ar(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Ar(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;Pm(a.D,function(h,p){var g=Xb(f,h),y=Xb(d,h),m=p?u_(f,h)?"replace":n:"remove";if(g!==y||m!=="replace"){var _=u.concat(h);l.push(m==="remove"?{op:m,path:_}:{op:m,path:_,value:y}),c.push(m===n?{op:"remove",path:_}:m==="remove"?{op:n,path:_,value:t(g)}:{op:"replace",path:_,value:t(g)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var g=[c,l];l=g[0],c=g[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var m=u.concat([y]);l.push({op:"replace",path:m,value:t(h[y])}),c.push({op:"replace",path:m,value:t(f[y])})}for(var _=f.length;_<h.length;_++){var v=u.concat([_]);l.push({op:n,path:v,value:t(h[_])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var g=u.concat([h]);l.push({op:"remove",path:g,value:p}),c.unshift({op:n,path:g,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var g=u.concat([h]);l.push({op:n,path:g,value:p}),c.unshift({op:"remove",path:g,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===X6?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var z7,Rm,Q6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",_Je=typeof Map<"u",vJe=typeof Set<"u",H7=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",X6=Q6?Symbol.for("immer-nothing"):((z7={})["immer-nothing"]=!0,z7),ly=Q6?Symbol.for("immer-draftable"):"__$immer_draftable",wo=Q6?Symbol.for("immer-state"):"__$immer_state",bJe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},wJe=""+Object.prototype.constructor,J6=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,EJe=Object.getOwnPropertyDescriptors||function(e){var t={};return J6(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},_N={},vN={get:function(e,t){if(t===wo)return e;var n=td(e);if(!u_(n,t))return function(i,s,o){var a,u=U7(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Sf(r)?r:r===rP(e.t,t)?(iP(e),e.o[t]=yN(e.A.h,r,e)):r},has:function(e,t){return t in td(e)},ownKeys:function(e){return Reflect.ownKeys(td(e))},set:function(e,t,n){var r=U7(td(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=rP(td(e),t),s=i==null?void 0:i[wo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(dJe(n,i)&&(n!==void 0||u_(e.t,t)))return!0;iP(e),gN(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return rP(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,iP(e),gN(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=td(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ar(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ar(12)}},I0={};Pm(vN,function(e,t){I0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),I0.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Ar(13),I0.set.call(this,e,t,void 0)},I0.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Ar(14),vN.set.call(this,e[0],t,n,e[0])};var TJe=function(){function e(n){var r=this;this.g=H7,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,_=Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];return u.produce(g,function(T){var S;return(S=s).call.apply(S,[y,T].concat(_))})}}var l;if(typeof s!="function"&&Ar(6),o!==void 0&&typeof o!="function"&&Ar(7),Sf(i)){var c=B7(r),f=yN(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?TS(c):mN(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return tP(c,o),nP(g,c)},function(g){throw TS(c),g}):(tP(c,o),nP(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===X6&&(l=void 0),r.F&&G6(l,!0),o){var h=[],p=[];Ru("Patches").M(i,l,h,p),o(h,p)}return l}Ar(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Sf(n)||Ar(8),eh(n)&&(n=gJe(n));var r=B7(this),i=yN(this,n,void 0);return i[wo].C=!0,mN(r),i},t.finishDraft=function(n,r){var i=n&&n[wo];({}).NODE_ENV!=="production"&&(i&&i.C||Ar(9),i.I&&Ar(10));var s=i.A;return tP(s,r),nP(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!H7&&Ar(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ru("Patches").$;return eh(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),Eo=new TJe,SJe=Eo.produce;Eo.produceWithPatches.bind(Eo);Eo.setAutoFreeze.bind(Eo);Eo.setUseProxies.bind(Eo);Eo.applyPatches.bind(Eo);Eo.createDraft.bind(Eo);Eo.finishDraft.bind(Eo);function xJe(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=cJe({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return lee({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:Ou.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:Ou.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function IJe(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=xJe(e),s=F$e();s.startListening({matcher:fj(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=fj(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=aee({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:Ou.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var AJe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),CJe=Object.prototype.hasOwnProperty;function bN(e,t){return CJe.call(e,t)}function wN(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)bN(e,i)&&r.push(i);return r}function Us(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function EN(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function nd(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function joe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function TN(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(TN(e[t]))return!0}else if(typeof e=="object"){for(var r=wN(e),i=r.length,s=0;s<i;s++)if(TN(e[r[s]]))return!0}}return!1}function q7(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Uoe=function(e){AJe(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,q7(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=q7(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),Tr=Uoe,OJe=Us,bp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=IS(n,this.path);r&&(r=Us(r));var i=Dd(n,{op:"remove",path:this.from}).removed;return Dd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=IS(n,this.from);return Dd(n,{op:"add",path:this.path,value:Us(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:l_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},PJe={add:function(e,t,n){return EN(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:bp.move,copy:bp.copy,test:bp.test,_get:bp._get};function IS(e,t){if(t=="")return e;var n={op:"_get",path:t};return Dd(e,n),n.value}function Dd(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):AS(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=IS(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=l_(e,t.value),o.test===!1)throw new Tr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Tr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Us(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=AS;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=joe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!EN(h))throw new Tr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);EN(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Tr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=PJe[t.op].call(t,l,h,e);if(o.test===!1)throw new Tr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=bp[t.op].call(t,l,h,e);if(o.test===!1)throw new Tr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Tr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function ZI(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Tr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Us(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=Dd(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function RJe(e,t,n){var r=Dd(e,t);if(r.test===!1)throw new Tr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function AS(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Tr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(bp[e.op]){if(typeof e.path!="string")throw new Tr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Tr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Tr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Tr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&TN(e.value))throw new Tr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Tr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Tr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=Voe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Tr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Tr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function Voe(e,t,n){try{if(!Array.isArray(e))throw new Tr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)ZI(Us(t),Us(e),n||!0);else{n=n||AS;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Tr)return i;throw i}}function l_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!l_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!l_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const NJe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Tr,_areEquals:l_,applyOperation:Dd,applyPatch:ZI,applyReducer:RJe,deepClone:OJe,getValueByPointer:IS,validate:Voe,validator:AS},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Z6=new WeakMap,kJe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),DJe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function $Je(e){return Z6.get(e)}function LJe(e,t){return e.observers.get(t)}function MJe(e,t){e.observers.delete(t.callback)}function FJe(e,t){t.unobserve()}function BJe(e,t){var n=[],r,i=$Je(e);if(!i)i=new kJe(e),Z6.set(e,i);else{var s=LJe(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Us(e),t){r.callback=t,r.next=null;var o=function(){SN(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){SN(r),clearTimeout(r.next),MJe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new DJe(t,r)),r}function SN(e,t){t===void 0&&(t=!1);var n=Z6.get(e.object);eL(n.value,e.object,e.patches,"",t),e.patches.length&&ZI(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function eL(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=wN(t),o=wN(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(bN(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?eL(c,f,n,r+"/"+nd(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+nd(l),value:Us(c)}),n.push({op:"replace",path:r+"/"+nd(l),value:Us(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+nd(l),value:Us(c)}),n.push({op:"remove",path:r+"/"+nd(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!bN(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+nd(l),value:Us(t[l])})}}}function zoe(e,t,n){n===void 0&&(n=!1);var r=[];return eL(e,t,r,"",n),r}const jJe=Object.freeze(Object.defineProperty({__proto__:null,compare:zoe,generate:SN,observe:BJe,unobserve:FJe},Symbol.toStringTag,{value:"Module"}));Object.assign({},NJe,jJe,{JsonPatchError:Uoe,deepClone:Us,escapePathComponent:nd,unescapePathComponent:joe});var A0=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(A0||{});function Jb(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=qoe(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=Jb(i,t);return ZI(a,Us(o),!0,!1).newDocument}function UJe(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function Hoe({registry:e,initialState:t}){let n=!1;const r=sJe(),i=IJe(t);function s(c){return i.backend.nodes[c]}r.listen(A0.TRAVERSAL_START,()=>{n=!0}),r.listen(A0.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const g=f[p].at(-1);return g&&(h[p]=g),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return Jb(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let g=null,y=null;const m=Jb(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const _=zoe(m,f);if(UJe(f,_)==="checkpoint")y={type:"checkpoint",val:f};else{const v=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:_,checkpointRef:v}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(g=fJe({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!g)throw new Error("State Node creation failed!");i.update(i.addNode(g))},async apply(c,f){const d=e.get(f.type),h=Jb(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:g}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[g]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(A0.TRAVERSAL_START);const f=qoe(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),g=s(f[h+1]);zJe(p,g)?Pu(p)&&d.push(...p.sideEffects.undo):Pu(g)&&d.push(...g.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(A0.TRAVERSAL_END)},undo(){const{current:c}=i;return Pu(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return Woe(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function VJe(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;Pu(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Pu(r)&&(r=n[r.parent]),Pu(i)&&(i=n[i.parent]);return r.id}function qoe(e,t,n){const r=VJe(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),Pu(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),Pu(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function zJe(e,t){if(Pu(e)&&e.parent===t.id)return!0;if(Pu(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Woe(e,t){return{...e,children:e.children.map(n=>Woe(t[n],t)),name:`${e.label}`}}yJe();function HJe(e){return e.length===2?SJe(e):e}class eA{static create(){return new eA}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:HJe(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Au(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var qJe="Expected a function",W7=NaN,WJe="[object Symbol]",YJe=/^\s+|\s+$/g,GJe=/^[-+]0x[0-9a-f]+$/i,KJe=/^0b[01]+$/i,QJe=/^0o[0-7]+$/i,XJe=parseInt,JJe=typeof fo=="object"&&fo&&fo.Object===Object&&fo,ZJe=typeof self=="object"&&self&&self.Object===Object&&self,eZe=JJe||ZJe||Function("return this")(),tZe=Object.prototype,nZe=tZe.toString,rZe=Math.max,iZe=Math.min,sP=function(){return eZe.Date.now()};function sZe(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(qJe);t=Y7(t)||0,xN(n)&&(c=!!n.leading,f="maxWait"in n,s=f?rZe(Y7(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(w){var x=r,A=i;return r=i=void 0,l=w,o=e.apply(A,x),o}function p(w){return l=w,a=setTimeout(m,t),c?h(w):o}function g(w){var x=w-u,A=w-l,M=t-x;return f?iZe(M,s-A):M}function y(w){var x=w-u,A=w-l;return u===void 0||x>=t||x<0||f&&A>=s}function m(){var w=sP();if(y(w))return _(w);a=setTimeout(m,g(w))}function _(w){return a=void 0,d&&r?h(w):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:_(sP())}function S(){var w=sP(),x=y(w);if(r=arguments,i=this,u=w,x){if(a===void 0)return p(u);if(f)return a=setTimeout(m,t),h(u)}return a===void 0&&(a=setTimeout(m,t)),o}return S.cancel=v,S.flush=T,S}function xN(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function oZe(e){return!!e&&typeof e=="object"}function aZe(e){return typeof e=="symbol"||oZe(e)&&nZe.call(e)==WJe}function Y7(e){if(typeof e=="number")return e;if(aZe(e))return W7;if(xN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(YJe,"");var n=KJe.test(e);return n||QJe.test(e)?XJe(e.slice(2),n?2:8):GJe.test(e)?W7:+e}var uZe=sZe;const Xa=Va(uZe);function Yoe({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=E.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=E.useMemo(()=>II(".2s"),[]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:O.jsx(qd,{children:O.jsx(Ma,{spacing:3,children:O.jsx(_t,{size:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),O.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>O.jsxs("g",{transform:`translate(${n}, ${a})`,children:[O.jsx("line",{x2:"-6",stroke:"currentColor"}),O.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),O.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const lZe=Object.freeze(Object.defineProperty({__proto__:null,YAxis:Yoe},Symbol.toStringTag,{value:"Module"})),oP=15;function Goe({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0}){const[a,u]=E.useState([0,0]),[l,c]=E.useState(!1);return E.useEffect(()=>{const f=jr("#scatterSvgBrushStudy");if(f){const d=f.node().getBoundingClientRect();f.on("mousemove",h=>{const p=[h.clientX-d.x,h.clientY-d.y];if(u(p),l){const g=i.filter(y=>Math.abs(e(y[r.x])-p[0])<oP&&Math.abs(t(y[r.y])-p[1])<oP);if(h.ctrlKey||h.metaKey||!o){const y=new Set(s.ids);g.forEach(_=>{y.has(_[r.ids])&&y.delete(_[r.ids])});const m=Array.from(y);n([[a[0],a[1]],[a[0],a[1]]],e,t,m.length===0?"clear":"drag",m)}else{const y=Array.from(new Set([...s.ids,...g.map(m=>m[r.ids])]));y.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",y)}}}),f.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),f.on("mouseup",()=>{c(!1)})}},[s.ids,i,l,o,r,e,t]),O.jsx("circle",{style:{cursor:l?"pointer":"default"},r:oP,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const cZe=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Goe},Symbol.toStringTag,{value:"Module"})),or={top:15,left:100,right:15,bottom:70};function IN({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:s,brushedPoints:o}){const[a,{height:u,width:l}]=V0(),[c]=V0(),[f]=V0(),[d,h]=E.useState(!0),p=E.useMemo(()=>l-or.left-or.right,[l]),g=E.useMemo(()=>u-or.top-or.bottom,[u]),y=E.useMemo(()=>{const D=Array.from(new Set(s.map($=>$[i.category])));return CI(Kne).domain(D)},[s,i.category]),{xMin:m,yMin:_,xMax:v,yMax:T}=E.useMemo(()=>{const D=s.map(ae=>+ae[i.x]).filter(ae=>ae!==null),[$,q]=BU(D),W=s.map(ae=>+ae[i.y]).filter(ae=>ae!==null),[V,de]=BU(W);return{xMin:$,xMax:q,yMin:V,yMax:de}},[s,i.x,i.y]),S=E.useMemo(()=>{const D=v-m;return p<=0?null:i.dataType==="date"?Fze([or.left,p+or.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):mf([or.left,p+or.left]).domain([m-D/10,v+D/10]).nice()},[i.dataType,p,v,m]),w=E.useMemo(()=>{const D=T-_;return g<=0?null:mf([g+or.top,or.top]).domain([_-D/10,T+D/10]).nice()},[g,T,_]),x=E.useMemo(()=>{if(!S||!w)return()=>null;if(r==="Axis Selection"){const D=rVe().extent([[or.left,or.top+g-5],[or.left+p,or.top+g+5]]).on("brush end",q=>{q.sourceEvent!==void 0&&n([[q.selection[0],null],[q.selection[1],null]],S,w,q.mode)}),$=iVe().extent([[or.left-5,or.top],[or.left+5,or.top+g]]).on("brush end",q=>{q.sourceEvent!==void 0&&n([[null,q.selection[0]],[null,q.selection[1]]],S,w,q.mode)});return c.current&&f.current&&(jr(f.current).call($),jr(c.current).call(D),t.hasBrush||(jr(f.current).call($.move,[w(T),w(_)]),jr(c.current).call(D.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),w(T)],[S(new Date("2015-12-31")),w(_)]],S,w,"drag"))),()=>{jr(f.current).call($.move,[w(T),w(_)]),jr(c.current).call(D.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),w(T)],[S(new Date("2015-12-31")),w(_)]],S,w,"clear")}}if(r==="Rectangular Selection"){const D=sVe().extent([[or.left,or.top],[or.left+p,or.top+g]]).on("brush",$=>{$.sourceEvent!==void 0&&n([[$.selection[0][0],$.selection[0][1]],[$.selection[1][0],$.selection[1][1]]],S,w,$.mode)}).on("end",$=>{$.selection===null&&$.sourceEvent!==void 0&&(jr(a.current).call(D.move,null),e(null))});return jr(a.current).call(D),()=>{jr(a.current).call(D.move,null),n([[null,null],[null,null]],S,w,"clear")}}return r==="Slider Selection"?()=>n([[S(m),w(T)],[S(v),w(_)]],S,w,"clear"):r==="Paintbrush Selection"?()=>n([[S(m),w(T)],[S(v),w(_)]],S,w,"clear",[]):()=>null},[t,r,c,f,g,a,n,p,v,m,S,T,_,w]);E.useEffect(()=>{r==="Slider Selection"&&S&&w&&n([[S(m),w(T)],[S(v),w(_)]],S,w,null)},[r,v,m,S,T,_,w]);const A=E.useMemo(()=>o.length===0?null:new Set(o),[o]),M=E.useMemo(()=>!S||!w?null:s.map((D,$)=>{if(D[i.x]===null||D[i.y]===null)return null;const q=i.dataType==="date"?S(new Date(D[i.x])):S(D[i.x]);return O.jsx("circle",{opacity:A&&!A.has(D[i.ids])?.3:1,r:3,fill:A&&!A.has(D[i.ids])?"lightgray":y(D[i.category]),cx:q,cy:w(D[i.y])},$)}),[A,y,s,i.category,i.ids,i.x,i.y,S,w]);return E.useEffect(()=>{r==="Axis Selection"&&oje(".handle").style("fill","darkgrey")},[t,r]),O.jsxs(Fc,{children:[O.jsxs(Ma,{children:[O.jsx(Ko,{ml:60,compact:!0,style:{width:"130px"},disabled:o.length===0,onClick:()=>{e(null),x==null||x()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?O.jsx(BJ,{defaultChecked:!0,value:d?"Select":"De-Select",onChange:D=>h(D==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:o.length===0}]}):null]}),O.jsxs(Ma,{style:{width:"100%",height:"100%"},noWrap:!0,children:[O.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[S&&w?O.jsxs("g",{children:[O.jsx(Yoe,{yScale:w,label:i.y,horizontalPosition:or.left,xRange:S.range()}),O.jsx(T3,{xScale:S,yRange:w.range(),isDate:i.dataType==="date",vertPosition:g+or.top,label:i.x,ticks:S.ticks(i.brushType==="Axis Selection"?12:5).map(D=>({value:D.toString(),offset:S(D)}))})]}):null,M,O.jsx("g",{id:"brushXRef",ref:c}),O.jsx("g",{id:"brushYRef",ref:f}),S&&w&&r==="Paintbrush Selection"?O.jsx(Goe,{brushState:t,setBrushedSpace:n,params:i,data:s,isSelect:d,xScale:S,yScale:w}):null]}),r==="Slider Selection"&&S&&w?O.jsxs(Fc,{style:{flexGrow:1},spacing:50,children:[O.jsxs(Fc,{spacing:0,children:[O.jsx(_t,{children:i.x}),O.jsx(q2,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],labelAlwaysOn:!1,onChange:D=>{n([[S(D[0]),t.y1],[S(D[1]),t.y2]],S,w,"drag")},style:{width:"300px"},marks:S.ticks(5).map(D=>({value:D,label:D})),value:[S.invert(t.x1),S.invert(t.x2)]})]}),O.jsxs(Fc,{spacing:0,children:[O.jsx(_t,{children:i.y}),O.jsx(q2,{minRange:1,label:null,min:w.domain()[0],max:w.domain()[1],onChange:D=>{n([[t.x1,w(D[1])],[t.x2,w(D[0])]],S,w,"drag")},style:{width:"300px"},marks:w.ticks(5).map(D=>({value:D,label:D})),value:[w.invert(t.y2),w.invert(t.y1)]})]})]}):null]})]})}const fZe=Object.freeze(Object.defineProperty({__proto__:null,Scatter:IN,default:IN},Symbol.toStringTag,{value:"Module"}));function G7({parameters:e,setAnswer:t}){const[n,r]=E.useState(null),[i,s]=E.useState({hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]}),[o,a]=E.useState(null);E.useEffect(()=>{_Ve(`./data/${e.dataset}.csv`).then(y=>{a(y)})},[e]);const u=E.useMemo(()=>o?iJe(o):null,[o]),{actions:l,trrack:c}=E.useMemo(()=>{const y=eA.create(),m=y.register("brush",(w,x)=>(w.all={brush:x},w)),_=y.register("brushMove",(w,x)=>(w.all={brush:x},w)),v=y.register("brushResize",(w,x)=>(w.all={brush:x},w)),T=y.register("brushClear",(w,x)=>(w.all={brush:x},w)),S=Hoe({registry:y,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:m,brushMove:_,brushResize:v,clearBrush:T},trrack:S}},[]),f=E.useCallback((y,m)=>{y==="drag"?c.apply("Move Brush",l.brushMove(m)):y==="handle"&&c.apply("Brush",l.brush(m))},[l,c]),d=E.useMemo(()=>Xa(f,100,{maxWait:100}),[f]),h=E.useCallback((y,m,_,v,T)=>{if(!m||!_)return;const S=m.invert(y[0][0]||i.x1),w=m.invert(y[1][0]||i.x2),x=_.invert(y[1][1]||i.y2),A=_.invert(y[0][1]||i.y1);let M=null;if(v==="clear")M=u;else if(T){const $=new Set(T);M=u.filter(eP(q=>$.has(q[e.ids])))}else e.brushType==="Axis Selection"?M=u.filter(eP($=>new Date($[e.x])>=new Date(S)&&new Date($[e.x])<=new Date(w)&&$[e.y]>=x&&$[e.y]<=A)):M=u.filter(eP($=>$[e.x]>=S&&$[e.x]<=w&&$[e.y]>=x&&$[e.y]<=A));const D={x1:y[0][0]||(i==null?void 0:i.x1)||0,x2:y[1][0]||(i==null?void 0:i.x2)||0,y1:y[0][1]||(i==null?void 0:i.y1)||0,y2:y[1][1]||(i==null?void 0:i.y2)||0,hasBrush:v!=="clear",ids:v!=="clear"?M==null?void 0:M.array("id"):[]};s(D),v==="drag"||v==="handle"?d(v,D):v==="clear"&&c.apply("Clear Brush",l.clearBrush(D)),r(M),t({status:!0,provenanceGraph:c.graph.backend,answers:{}})},[i,u,e,c,t,d,l]),p=E.useMemo(()=>n?n==null?void 0:n.groupby(e.category).count():u?u==null?void 0:u.groupby(e.category).count():null,[n,u,e.category]),g=E.useCallback(y=>{r(y)},[]);return o?O.jsxs(Fc,{spacing:"xs",children:[O.jsx(IN,{brushedPoints:i==null?void 0:i.ids,data:o,params:e,brushType:e.brushType,setBrushedSpace:h,brushState:i,setFilteredTable:g}),O.jsx(qR,{data:o,parameters:e,barsTable:p})]}):O.jsx(dh,{})}const dZe=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:G7,default:G7},Symbol.toStringTag,{value:"Module"})),hZe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),K7=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},hg=e=>{const t=E.useRef(null),n=K7(e),[r,i]=E.useState(0),[s,o]=E.useState(0);E.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}return()=>null},[s,r]);const a=K7({...n,width:n.width||r,height:n.height||s});return[t,a]},pZe=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:hg},Symbol.toStringTag,{value:"Module"}));function Koe({data:e,xScale:t,yScale:n,height:r}){return O.jsx("g",{children:e.map((i,s)=>O.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))})}const mZe=Object.freeze(Object.defineProperty({__proto__:null,Bars:Koe},Symbol.toStringTag,{value:"Module"}));function tL({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=E.useMemo(()=>{const o=mf().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsxs("g",{transform:`translate(0,${a})`,children:[O.jsx("line",{x2:`${r}`,stroke:"currentColor"}),O.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})}const gZe=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:tL},Symbol.toStringTag,{value:"Module"}));function Qoe({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=E.useMemo(()=>{const o=fv().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsx("g",{transform:`translate(${a}, 10)`,children:O.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})}const yZe=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:Qoe},Symbol.toStringTag,{value:"Module"})),_Ze={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400};function vZe({parameters:e}){const[n,r]=hg(_Ze),i=fv().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=mf().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return O.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:O.jsx("svg",{width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[O.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:O.jsx(Qoe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),O.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:O.jsx(tL,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),O.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:O.jsx(Koe,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})}const bZe=Object.freeze(Object.defineProperty({__proto__:null,default:vZe},Symbol.toStringTag,{value:"Module"}));function Xoe({data:e}){return O.jsx("g",{children:e.map(({bubble:t},n)=>O.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))})}const wZe=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Xoe},Symbol.toStringTag,{value:"Module"}));function nL({positions:e}){return O.jsx("g",{children:e.map((t,n)=>O.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))})}const EZe=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:nL},Symbol.toStringTag,{value:"Module"})),TZe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},SZe=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=c7e().size([t-10,n-10]).padding(1.5),o=y3(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},xZe=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y}));function IZe({parameters:e}){const[t,n]=hg(TZe),r=SZe(e,n.width,n.height),i=xZe(r,e.selectedIndices);return O.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:O.jsx("svg",{width:n.width,height:n.height,children:O.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[O.jsx(Xoe,{data:r}),O.jsx(nL,{positions:i})]})})})}const AZe=Object.freeze(Object.defineProperty({__proto__:null,default:IZe},Symbol.toStringTag,{value:"Module"}));function Joe({arcs:e}){return O.jsx("g",{children:e.map((t,n)=>O.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))})}const CZe=Object.freeze(Object.defineProperty({__proto__:null,Slices:Joe},Symbol.toStringTag,{value:"Module"}));function Zoe({positions:e}){return O.jsx("g",{children:e.map((t,n)=>O.jsx("g",{transform:`translate(${t.centroid()})`,children:O.jsx("circle",{r:2,cx:0,cy:0},n)},n))})}const OZe=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:Zoe},Symbol.toStringTag,{value:"Module"})),PZe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},RZe=Xze().value(e=>e.value),s0=150;function NZe({parameters:e}){const[t,n]=hg(PZe),r=RZe(e.data),i=r.map(o=>MV().innerRadius(0).outerRadius(s0).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>MV().outerRadius(s0+10).innerRadius(s0+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return O.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:O.jsx("svg",{width:n.width,height:n.height,children:O.jsxs("g",{transform:`translate(${[n.marginLeft+s0,n.marginTop+s0].join(",")})`,children:[O.jsx(Joe,{arcs:i}),O.jsx(Zoe,{positions:s})]})})})}const kZe=Object.freeze(Object.defineProperty({__proto__:null,default:NZe},Symbol.toStringTag,{value:"Module"}));function eae({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s}){const s=E.useMemo(()=>{const o=mf().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsxs("g",{transform:`translate(${a}, 0)`,children:[O.jsx("line",{y2:`${r}`,stroke:"currentColor"}),O.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})}const DZe=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:eae},Symbol.toStringTag,{value:"Module"}));function tae({data:e,barWidth:t,yScale:n}){return O.jsx("g",{children:e.map((r,i)=>O.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))})}const $Ze=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:tae},Symbol.toStringTag,{value:"Module"})),LZe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400};function MZe({parameters:e}){const[n,r]=hg(LZe),i=fv().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=mf().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,g)=>g===0||g===h.length-1),a=h=>h.filter((p,g)=>e.selectedIndices.includes(g)),u=h=>{const p=h.map(v=>+v.value),y=p.reduce((v,T)=>Number(v)+Number(T))/100,m={};p.forEach((v,T)=>{m[String.fromCharCode(T+65)]=v/y});const _=[m];return eHe().keys(e.data.map(v=>v.name))(_)},l=(h,p,g)=>h.filter((m,_)=>p.includes(_)).map(m=>({x:g,y:s(m[0][1])+.5*(s(m[0][0])-s(m[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return O.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:O.jsx("svg",{width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[O.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:O.jsx(eae,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),O.jsx("g",{transform:"translate(0, 0)",children:O.jsx(tL,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),O.jsxs("g",{transform:"translate(0, 0)",children:[O.jsx(tae,{data:c,barWidth:f,yScale:s}),O.jsx(nL,{positions:d})]})]})})})}const FZe=Object.freeze(Object.defineProperty({__proto__:null,default:MZe},Symbol.toStringTag,{value:"Module"})),BZe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850};function jZe({parameters:e,setAnswer:t}){const[n,r]=hg(BZe),[i,s]=E.useState(100),[o,a]=E.useState(100),[u,l]=E.useState(300),{taskid:c}=e,{actions:f,trrack:d}=E.useMemo(()=>{const p=eA.create(),g=p.register("click",(m,_)=>(m.clickX=_.clickX,m.clickY=_.clickY,m.distance=_.distance,m)),y=Hoe({registry:p,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{clickAction:g},trrack:y}},[]),h=E.useCallback(p=>{const g=jr("#movingCircle"),y=jr("#clickAccuracySvg"),m=RR(p,y.node()),_=[+g.attr("cx"),+g.attr("cy")],v=`${Math.round(Math.sqrt((m[0]-_[0])**2+(m[1]-_[1])**2))}px`;d.apply("Clicked",f.clickAction({distance:+v,clickX:m[0],clickY:m[1]})),t({status:!0,provenanceGraph:d.graph.backend,answers:{[c]:v}})},[f,t,c,d]);return E.useEffect(()=>{const p=Math.random()*800,g=Math.random()*600,m=Math.sqrt((p-i)**2+(g-o)**2)/u*1e3;jr(n.current).select("circle").transition().duration(m).ease(zUe).attr("cx",p).attr("cy",g).on("end",()=>{s(p),a(g)})},[n,u,i,o]),O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"Chart__wrapper",ref:n,onClick:h,style:{height:"650px"},children:O.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[O.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),O.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),O.jsxs(ut,{children:["Adjust speed (px/s):",O.jsx(jD,{w:800,min:10,max:1e3,value:u,onChange:l})]})]})}const UZe=Object.freeze(Object.defineProperty({__proto__:null,default:jZe},Symbol.toStringTag,{value:"Module"}));var VZe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},zZe=Object.defineProperty,HZe=Object.defineProperties,qZe=Object.getOwnPropertyDescriptors,CS=Object.getOwnPropertySymbols,nae=Object.prototype.hasOwnProperty,rae=Object.prototype.propertyIsEnumerable,Q7=(e,t,n)=>t in e?zZe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X7=(e,t)=>{for(var n in t||(t={}))nae.call(t,n)&&Q7(e,n,t[n]);if(CS)for(var n of CS(t))rae.call(t,n)&&Q7(e,n,t[n]);return e},WZe=(e,t)=>HZe(e,qZe(t)),YZe=(e,t)=>{var n={};for(var r in e)nae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CS)for(var r of CS(e))t.indexOf(r)<0&&rae.call(e,r)&&(n[r]=e[r]);return n},lc=(e,t,n)=>{const r=E.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=YZe(o,["color","size","stroke","children"]);return E.createElement("svg",X7(WZe(X7({ref:s},VZe),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>E.createElement(d,h)),...c||[]])});return r.propTypes={color:ht.string,size:ht.oneOfType([ht.string,ht.number]),stroke:ht.oneOfType([ht.string,ht.number])},r.displayName=`${t}`,r},GZe=lc("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),KZe=lc("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),J7=lc("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),QZe=lc("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),XZe=lc("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),JZe=lc("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),ZZe=lc("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),Z7=lc("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),iae=lc("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);function ez({rankings:e}){return O.jsx("div",{style:{fontFamily:"sans-serif"},children:O.jsx("div",{children:e.map((t,n)=>O.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})})}function eet({parameters:e,setAnswer:t}){const n=sa(),[r,i]=E.useState(""),{goToNextStep:s,isNextDisabled:o}=Eee(),a=E.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=E.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=E.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a==="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a==="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=E.useCallback(()=>{o||s()},[o,s]);E.useEffect(()=>{const h=m0e([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),O.jsxs("div",{children:[O.jsxs(gl,{children:[O.jsxs(gl.Col,{span:2,children:[O.jsx(ez,{rankings:a==="r1"?e.data.r1:e.data.r2}),O.jsx(Ko,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?O.jsx(J7,{}):"Select this ranking"}),l&&r&&O.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),O.jsxs(gl.Col,{span:2,children:[O.jsx(ez,{rankings:a==="r1"?e.data.r2:e.data.r1}),O.jsx(Ko,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?O.jsx(J7,{}):"Select this ranking"}),l&&r&&O.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&O.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})}const tet=Object.freeze(Object.defineProperty({__proto__:null,default:eet},Symbol.toStringTag,{value:"Module"})),net=Object.assign({"../public/brush-interactions/Bar.tsx":rHe,"../public/brush-interactions/BrushPlot.tsx":dZe,"../public/brush-interactions/Paintbrush.tsx":cZe,"../public/brush-interactions/Scatter.tsx":fZe,"../public/brush-interactions/XAxisBar.tsx":tHe,"../public/brush-interactions/YAxis.tsx":lZe,"../public/brush-interactions/YAxisBar.tsx":nHe,"../public/brush-interactions/types.ts":hZe,"../public/cleveland/BarChart.tsx":bZe,"../public/cleveland/BubbleChart.tsx":AZe,"../public/cleveland/PieChart.tsx":kZe,"../public/cleveland/StackedBarChart.tsx":FZe,"../public/cleveland/chartcomponents/Bars.tsx":mZe,"../public/cleveland/chartcomponents/Bubbles.tsx":wZe,"../public/cleveland/chartcomponents/DotMarks.tsx":EZe,"../public/cleveland/chartcomponents/NumericAxisH.tsx":DZe,"../public/cleveland/chartcomponents/NumericAxisV.tsx":gZe,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":yZe,"../public/cleveland/chartcomponents/Slices.tsx":CZe,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":OZe,"../public/cleveland/chartcomponents/StackedBars.tsx":$Ze,"../public/cleveland/hooks/useChartDimensions.tsx":pZe,"../public/click-accuracy-test/ClickAccuracyTest.tsx":UZe,"../public/fairness-jnd/FairnessJND.tsx":tet});function ret({currentConfig:e}){const t=sa(),n=`../public/${e.path}`,r=net[n].default,i=ic(),{updateResponseBlockValidation:s,setIframeAnswers:o}=rc();function a({status:u,provenanceGraph:l,answers:c}){i(s({location:"sidebar",currentStep:t,status:u,values:c,provenanceGraph:l})),i(o(Object.values(c).map(f=>f)))}return O.jsx(E.Suspense,{fallback:O.jsx("div",{children:"Loading..."}),children:O.jsx(r,{parameters:e.parameters,setAnswer:a})})}function iet({currentConfig:e}){const[t,n]=E.useState(null);return E.useEffect(()=>{fetch(`${Wu}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:O.jsx(Ks,{text:t})}function th(){return Gu(e=>e.config)}function sae(){const e=sa(),{setAlertModal:t}=rc(),n=ic();E.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function set(){var f;const e=th(),t=sa(),n=e.components[t],r=B$(),i=eI(n)&&e.baseComponents?F$({},(f=e.baseComponents)==null?void 0:f[n.baseComponent],n):n,s=i.instruction||"",{instructionLocation:o}=i,a=e.uiConfig.sidebar&&(o==="sidebar"||o===void 0);sae();const{storageEngine:u}=kf(),l=ic(),{setAlertModal:c}=rc();return E.useEffect(()=>{(u==null?void 0:u.getEngine())!=="firebase"&&l(c({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[c,u,l]),O.jsxs(O.Fragment,{children:[o==="aboveStimulus"&&O.jsx(Ks,{text:s}),O.jsx(LT,{status:r,config:i,location:"aboveStimulus"},`${t}-above-response-block`),O.jsxs(E.Suspense,{fallback:O.jsx("div",{children:"Loading..."}),children:[i.type==="markdown"&&O.jsx(iet,{currentConfig:i}),i.type==="website"&&O.jsx(a9e,{currentConfig:i}),i.type==="image"&&O.jsx(l9e,{currentConfig:i}),i.type==="react-component"&&O.jsx(ret,{currentConfig:i})]},`${t}-stimulus`),(o==="belowStimulus"||o===void 0&&!a)&&O.jsx(Ks,{text:s}),O.jsx(LT,{status:r,config:i,location:"belowStimulus"},`${t}-below-response-block`)]})}function oet(e){const[t]=iD();return O.jsx(Tpe,{...e,to:{pathname:e.to,search:t.toString()}})}const AN=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],Zb=["participantId","trialId","responseId"];function ew(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function aet(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=eI(i)&&i.baseComponent&&t.baseComponents?F$({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function uet(e,t,n,r=[...Zb,...AN]){const s=(await t.getAllParticipantsData()).map(l=>aet(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);ew(u,e)}function cet({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=v0e([...Zb,...AN]),o=E.useCallback(l=>{Zb.every(c=>l.includes(c))&&s(l)},[s]),a=E.useMemo(()=>[...Zb,...AN],[]),{storageEngine:u}=kf();return u?O.jsxs(Lx,{opened:e,size:"lg",onClose:t,title:O.jsx(_t,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[O.jsx(ut,{children:O.jsx(oJ,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:O.jsx(_t,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),O.jsxs(By,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[O.jsx(Ko,{leftIcon:O.jsx(iae,{}),onClick:()=>uet(n,u,r,i),children:"Download"}),O.jsx(Ko,{onClick:t,color:"red",children:"Close"})]})]}):null}function fet({studyConfig:e}){const{storageEngine:t}=kf(),[n,{open:r,close:i}]=XY(!1),[s,o]=E.useState(),[a,u]=E.useState(""),l=e.studyMetadata.title.replace(" ","_");E.useEffect(()=>{async function g(){if(t){const y=await t.getCurrentParticipantId(),m=await t.getParticipantData();u(y),o(m)}}g()},[t]);const c=E.useCallback(async()=>{ew(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=E.useState(Math.floor(d/1e3));return E.useEffect(()=>{const g=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(g),()=>clearInterval(g)):()=>clearInterval(g)},[h]),O.jsxs(Fc,{children:[O.jsx(Ko,{leftIcon:O.jsx(QZe,{}),onClick:()=>ew(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),O.jsx(Ko,{disabled:!(t!=null&&t.isConnected()),leftIcon:O.jsx(XZe,{}),onClick:async()=>{if(!t)return;const g=await t.getAllParticipantsData();ew(JSON.stringify(g,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),O.jsx(Ko,{disabled:!(t!=null&&t.isConnected()),leftIcon:O.jsx(iae,{}),onClick:r,display:"block",children:"Download All (Tidy)"}),f&&O.jsxs(_t,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),O.jsx(cet,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function tA(e){return e.components.flatMap(t=>typeof t=="string"?t:tA(t))}function tz(e,t){return tA(t).find(i=>e.indexOf(i)!==-1)}function det(e,t){return tA(t).filter(i=>e.indexOf(i)!==-1)}function het({step:e,currentStep:t,sequence:n,task:r,studyId:i}){const s=qm(),[o,{close:a,open:u}]=XY(!1);return O.jsxs(Go,{position:"left",withArrow:!0,arrowSize:10,shadow:"md",opened:o,offset:20,children:[O.jsx(Go.Target,{children:O.jsx("div",{onMouseEnter:u,onMouseLeave:a,children:O.jsx(cJ,{active:e===t,style:{lineHeight:"32px",height:"32px"},label:O.jsx("div",{style:{opacity:n.indexOf(e)===-1?".3":1},children:e===t?O.jsx("strong",{children:e}):e}),onClick:()=>s(`/${i}/${e}`),disabled:n.indexOf(e)===-1})})}),r&&(r.description||r.meta)&&fh.createPortal(O.jsx(Go.Dropdown,{onMouseLeave:a,children:O.jsx(_t,{size:"sm",children:O.jsxs("div",{children:[r.description&&O.jsxs("div",{children:[O.jsx(_t,{fw:900,display:"inline-block",mr:2,children:"Description:"}),O.jsx(_t,{fw:400,component:"span",children:r.description})]}),r.meta&&O.jsxs(_t,{children:[O.jsx(_t,{fw:"900",component:"span",children:"Task Meta: "}),O.jsx("pre",{style:{margin:0,padding:0},children:`${JSON.stringify(r.meta,null,2)}`})]})]})})}),document.body)]})}function oae({sequence:e,order:t,depth:n=0}){const{studyId:r=null}=cY(),i=sa(),s=th(),o=E.useMemo(()=>{const a=nv(t);return a.components.sort((u,l)=>{const c=typeof u=="string"?u:tz(e,u),f=typeof l=="string"?l:tz(e,l),d=c?e.indexOf(c):1e4,h=f?e.indexOf(f):1e4;return(d===-1?1e4:d)-(h===-1?1e4:h)}),a},[t,e]);return O.jsx("div",{children:o.components.map((a,u)=>{if(typeof a=="string"){const f=a in s.components&&s.components[a];return O.jsx(het,{currentStep:i,sequence:e,step:a,studyId:r,task:f},u)}const l=tA(a),c=det(e,a);return O.jsx(cJ,{label:O.jsxs("div",{style:{opacity:c.length?1:.5},children:["Group:",O.jsxs(pEe,{ml:5,children:[c.length,"/",l.length]}),O.jsx(_t,{c:"dimmed",display:"inline",mr:5,ml:5,children:a.order}),a.order==="random"||a.order==="latinSquare"?O.jsx(KZe,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}}):null]}),defaultOpened:!0,childrenOffset:32,style:{lineHeight:"32px",height:"32px",position:"sticky",top:`${32*n}px`,backgroundColor:"#fff"},children:O.jsx("div",{style:{borderLeft:"1px solid #e9ecef"},children:O.jsx(oae,{order:a,sequence:e,depth:n+1})})},u)})})}function pet(){const{showAdmin:e,sequence:t}=Gu(s=>s),n=sa(),r=th(),i=E.useMemo(()=>{const s=nv(r.sequence);return s.components.push("end"),s},[r.sequence]);return e||n==="end"&&r.uiConfig.autoDownloadStudy?O.jsx(yD,{p:"0",width:{base:300},style:{zIndex:0},children:O.jsxs(wK,{p:"0",children:[n==="end"&&O.jsxs("div",{style:{padding:10,paddingBottom:15,borderBottom:"1px solid #e9ecef"},children:[O.jsx(_t,{size:"md",p:10,weight:"bold",children:"Download"}),O.jsx(fet,{studyConfig:r})]}),O.jsx(_t,{size:"md",p:10,weight:"bold",children:"Study Sequence"}),O.jsx(oae,{order:i,sequence:t})]})}):null}function met(){const{config:e,sequence:t}=Gu(v=>v),n=ic(),{toggleShowHelpText:r,toggleShowAdmin:i}=rc(),{storageEngine:s}=kf(),o=sa(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=E.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=E.useState(new URLSearchParams(window.location.search)),g=p.get("admin")||"f",y=bee(),m=fpe(`/${y}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=m}).catch(v=>{console.error(v)})}return O.jsx(QG,{height:"70",p:"md",children:O.jsxs(gl,{mt:-7,align:"center",children:[O.jsx(gl.Col,{span:4,children:O.jsxs(By,{align:"center",children:[O.jsx(Y_,{maw:40,src:`${Wu}${d}`,alt:"Study Logo"}),O.jsx(yT,{w:"md"}),O.jsx(Tc,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),O.jsx(gl.Col,{span:4,children:h&&O.jsx(PJ,{radius:"md",size:"lg",value:l})}),O.jsx(gl.Col,{span:4,children:O.jsxs(By,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&O.jsx(Ko,{variant:"outline",onClick:()=>n(r()),children:"Help"}),O.jsx(yT,{w:"md"}),g==="t"&&O.jsxs(Fo,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[O.jsx(Fo.Target,{children:O.jsx(wG,{size:"lg",children:O.jsx(JZe,{})})}),O.jsxs(Fo.Dropdown,{children:[O.jsx(Fo.Item,{icon:O.jsx(Z7,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),O.jsx(Fo.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:O.jsx(ZZe,{size:14}),children:"Contact"}),O.jsx(Fo.Item,{icon:O.jsx(Z7,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function get(){var u;const e=(u=th())==null?void 0:u.uiConfig.sidebar,t=th(),n=sa(),r=t.components[n],i=E.useMemo(()=>{var l;return r?eI(r)&&t.baseComponents?F$({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=B$(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?O.jsxs(z0,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&O.jsx(z0.Section,{bg:"gray.3",p:"xl",children:O.jsxs(_t,{c:"gray.9",children:[O.jsx(_t,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),O.jsx(Ks,{text:o})]})}),O.jsx(z0.Section,{p:"xl",children:O.jsx(LT,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):O.jsx(LT,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function yet(){const{showHelpText:e,config:t}=Gu(o=>o),n=ic(),{toggleShowHelpText:r}=rc(),[i,s]=E.useState("");return E.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Wu}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),O.jsx(Lx,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:O.jsx(Ks,{text:i})})}function _et(){const{alertModal:e}=Gu(o=>o),{setAlertModal:t}=rc(),n=ic(),[r,i]=E.useState(e.show),s=E.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return E.useEffect(()=>i(e.show),[e.show]),O.jsx(Lx,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:O.jsxs(RG,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:O.jsx(GZe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[O.jsx(_t,{my:"md",children:e.message}),O.jsx(ut,{style:{float:"right"},color:"red",children:O.jsx(Ko,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function vet(){const e=E.useRef([]),n=th().uiConfig.windowEventDebounceTime??100;return E.useEffect(()=>{const r=Xa(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=Xa(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=Xa(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=Xa(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=Xa(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=Xa(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=Xa(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=Xa(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=Xa(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),O.jsx(wee.Provider,{value:e,children:O.jsxs(ZG,{navbar:O.jsx(get,{}),aside:O.jsx(pet,{}),header:O.jsx(met,{}),children:[O.jsx(yet,{}),O.jsx(_et,{}),O.jsx(Spe,{})]})})}function bet(){const e=th(),{storageEngine:t}=kf(),{answers:n}=Gu(s=>s),[r,i]=E.useState(!1);return E.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),sae(),O.jsx(qd,{style:{height:"100%"},children:O.jsx(By,{direction:"column",children:r?O.jsx(_t,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?O.jsx(Ks,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):O.jsxs(O.Fragment,{children:[O.jsx(_t,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),O.jsx(yT,{h:"lg"}),O.jsx(qd,{children:O.jsx(dh,{color:"blue"})})]})})})}function wet(e,t=!1){return typeof e=="number"?nz(e,t):nz(e.length,t).map(r=>r.map(i=>e[i]))}function nz(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function aae(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=aae(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function Eet(e,t){const n=nv(e);return aae(n,t,"root"),n.components.slice(0,n.numSamples?n.numSamples:void 0).flat()}function uae(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&uae(s,t,i,o)})}function Tet(e){const t=[];return uae(e,t,"",0),t}function rz(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return wet(i.sort(()=>.5-Math.random()),!0)}function xet(e){const n=Tet(e.sequence).map(s=>({[s]:rz(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=Eet(e.sequence,n);s.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=rz(e,o))})}),i}async function Iet(e,t){const n=await(await fetch(`${Wu}${e}`)).text();return JZ(n,t)}function Aet(e,t,n){const r=[];if(e&&t&&n){const i=[];i.push({path:"/",element:O.jsx(oet,{to:`${n[0]}`,replace:!0})}),n.forEach(o=>{o==="end"?i.push({path:"/end",element:O.jsx(bet,{})}):i.push({path:`/${o}`,element:O.jsx(set,{})})});const s={element:O.jsx(vet,{}),children:i};r.push(s)}return r}function Cet({globalConfig:e}){const{studyId:t}=cY();if(!t||!e.configsList.find(f=>W2(f)))throw new Error("Study id invalid");const[n,r]=E.useState(null);E.useEffect(()=>{const f=e.configsList.find(d=>W2(d)===t);if(f){const d=e.configs[f];Iet(`${d.path}`,f).then(h=>{r(h)})}},[e,t]);const[i,s]=E.useState([]),[o,a]=E.useState(null),{storageEngine:u}=kf(),[l]=iD();E.useEffect(()=>{async function f(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await xet(n));const h=n.uiConfig.urlParticipantIdParam&&l.get(n.uiConfig.urlParticipantIdParam)||void 0,p=Object.fromEntries(l.entries()),g=await u.initializeParticipantSession(p,n,h),y=await B$e(t,n,g.sequence,g.answers);a(y),s(Aet(t,n,g.sequence))}f()},[u,n,t,l]);const c=fY(i);return!c||!o?O.jsx(ut,{style:{height:"100vh"},children:O.jsx(qd,{style:{height:"100%"},children:O.jsx(dh,{style:{height:"100%"},size:60})})}):O.jsx(vee.Provider,{value:o,children:O.jsx(d2e,{store:o.store,children:c})})}async function Oet(){const t=await(await fetch(`${Wu}configs/global.json`)).text();return LDe(t)}async function Pet(e){const t={},n=e.configsList.map(i=>`${Wu}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>JZ(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function Ret(){const[e,t]=E.useState(null),[n,r]=E.useState({});return E.useEffect(()=>{async function i(){e&&r(await Pet(e))}i()},[e]),E.useEffect(()=>{e||Oet().then(i=>{t(i)})},[e]),e?O.jsx(Cpe,{basename:Wu,children:O.jsxs(Ipe,{children:[O.jsx(x2,{path:"/",element:O.jsx(NPe,{globalConfig:e,studyConfigs:n})}),O.jsx(x2,{path:"/:studyId/*",element:O.jsx(Cet,{globalConfig:e})})]})}):null}function K1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lae={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof K1=="function"&&K1;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var g=r[l][1][p];return o(g||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof K1=="function"&&K1,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,m,_=h.length;_;){for(m=h,h=[],y=-1;++y<_;)m[y]();_=h.length}d=!1}r.exports=g;function g(y){h.push(y)===1&&!d&&a()}}).call(this,typeof fo<"u"?fo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,S!==o&&g(this,S)}f.prototype.catch=function(S){return this.then(null,S)},f.prototype.then=function(S,w){if(typeof S!="function"&&this.state===l||typeof w!="function"&&this.state===u)return this;var x=new this.constructor(o);if(this.state!==c){var A=this.state===l?S:w;h(x,A,this.outcome)}else this.queue.push(new d(x,S,w));return x};function d(S,w,x){this.promise=S,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},d.prototype.otherCallFulfilled=function(S){h(this.promise,this.onFulfilled,S)},d.prototype.callRejected=function(S){a.reject(this.promise,S)},d.prototype.otherCallRejected=function(S){h(this.promise,this.onRejected,S)};function h(S,w,x){s(function(){var A;try{A=w(x)}catch(M){return a.reject(S,M)}A===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,A)})}a.resolve=function(S,w){var x=y(p,w);if(x.status==="error")return a.reject(S,x.value);var A=x.value;if(A)g(S,A);else{S.state=l,S.outcome=w;for(var M=-1,D=S.queue.length;++M<D;)S.queue[M].callFulfilled(w)}return S},a.reject=function(S,w){S.state=u,S.outcome=w;for(var x=-1,A=S.queue.length;++x<A;)S.queue[x].callRejected(w);return S};function p(S){var w=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof w=="function")return function(){w.apply(S,arguments)}}function g(S,w){var x=!1;function A(q){x||(x=!0,a.reject(S,q))}function M(q){x||(x=!0,a.resolve(S,q))}function D(){w(M,A)}var $=y(D);$.status==="error"&&A($.value)}function y(S,w){var x={};try{x.value=S(w),x.status="success"}catch(A){x.status="error",x.value=A}return x}f.resolve=m;function m(S){return S instanceof this?S:a.resolve(new this(o),S)}f.reject=_;function _(S){var w=new this(o);return a.reject(w,S)}f.all=v;function v(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,A=!1;if(!x)return this.resolve([]);for(var M=new Array(x),D=0,$=-1,q=new this(o);++$<x;)W(S[$],$);return q;function W(V,de){w.resolve(V).then(ae,function(pe){A||(A=!0,a.reject(q,pe))});function ae(pe){M[de]=pe,++D===x&&!A&&(A=!0,a.resolve(q,M))}}}f.race=T;function T(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,A=!1;if(!x)return this.resolve([]);for(var M=-1,D=new this(o);++M<x;)$(S[M]);return D;function $(q){w.resolve(q).then(function(W){A||(A=!0,a.resolve(D,W))},function(W){A||(A=!0,a.reject(D,W))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof fo<"u"?fo:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,Q){if(!(k instanceof Q))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Q=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||Q)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(k,Q){k=k||[],Q=Q||{};try{return new Blob(k,Q)}catch(te){if(te.name!=="TypeError")throw te;for(var B=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new B,oe=0;oe<k.length;oe+=1)ne.append(k[oe]);return ne.getBlob(Q.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(k,Q){Q&&k.then(function(B){Q(null,B)},function(B){Q(B)})}function h(k,Q,B){typeof Q=="function"&&k.then(Q),typeof B=="function"&&k.catch(B)}function p(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",m=void 0,_={},v=Object.prototype.toString,T="readonly",S="readwrite";function w(k){for(var Q=k.length,B=new ArrayBuffer(Q),ne=new Uint8Array(B),oe=0;oe<Q;oe++)ne[oe]=k.charCodeAt(oe);return B}function x(k){return new f(function(Q){var B=k.transaction(y,S),ne=c([""]);B.objectStore(y).put(ne,"key"),B.onabort=function(oe){oe.preventDefault(),oe.stopPropagation(),Q(!1)},B.oncomplete=function(){var oe=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Q(te||!oe||parseInt(oe[1],10)>=43)}}).catch(function(){return!1})}function A(k){return typeof m=="boolean"?f.resolve(m):x(k).then(function(Q){return m=Q,m})}function M(k){var Q=_[k.name],B={};B.promise=new f(function(ne,oe){B.resolve=ne,B.reject=oe}),Q.deferredOperations.push(B),Q.dbReady?Q.dbReady=Q.dbReady.then(function(){return B.promise}):Q.dbReady=B.promise}function D(k){var Q=_[k.name],B=Q.deferredOperations.pop();if(B)return B.resolve(),B.promise}function $(k,Q){var B=_[k.name],ne=B.deferredOperations.pop();if(ne)return ne.reject(Q),ne.promise}function q(k,Q){return new f(function(B,ne){if(_[k.name]=_[k.name]||C(),k.db)if(Q)M(k),k.db.close();else return B(k.db);var oe=[k.name];Q&&oe.push(k.version);var te=u.open.apply(u,oe);Q&&(te.onupgradeneeded=function(be){var Ie=te.result;try{Ie.createObjectStore(k.storeName),be.oldVersion<=1&&Ie.createObjectStore(y)}catch(Pe){if(Pe.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw Pe}}),te.onerror=function(be){be.preventDefault(),ne(te.error)},te.onsuccess=function(){var be=te.result;be.onversionchange=function(Ie){Ie.target.close()},B(be),D(k)}})}function W(k){return q(k,!1)}function V(k){return q(k,!0)}function de(k,Q){if(!k.db)return!0;var B=!k.db.objectStoreNames.contains(k.storeName),ne=k.version<k.db.version,oe=k.version>k.db.version;if(ne&&(k.version!==Q&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),oe||B){if(B){var te=k.db.version+1;te>k.version&&(k.version=te)}return!0}return!1}function ae(k){return new f(function(Q,B){var ne=new FileReader;ne.onerror=B,ne.onloadend=function(oe){var te=btoa(oe.target.result||"");Q({__local_forage_encoded_blob:!0,data:te,type:k.type})},ne.readAsBinaryString(k)})}function pe(k){var Q=w(atob(k.data));return c([Q],{type:k.type})}function ee(k){return k&&k.__local_forage_encoded_blob}function ie(k){var Q=this,B=Q._initReady().then(function(){var ne=_[Q._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return h(B,k,k),B}function K(k){M(k);for(var Q=_[k.name],B=Q.forages,ne=0;ne<B.length;ne++){var oe=B[ne];oe._dbInfo.db&&(oe._dbInfo.db.close(),oe._dbInfo.db=null)}return k.db=null,W(k).then(function(te){return k.db=te,de(k)?V(k):te}).then(function(te){k.db=Q.db=te;for(var be=0;be<B.length;be++)B[be]._dbInfo.db=te}).catch(function(te){throw $(k,te),te})}function I(k,Q,B,ne){ne===void 0&&(ne=1);try{var oe=k.db.transaction(k.storeName,Q);B(null,oe)}catch(te){if(ne>0&&(!k.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return f.resolve().then(function(){if(!k.db||te.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),V(k)}).then(function(){return K(k).then(function(){I(k,Q,B,ne-1)})}).catch(B);B(te)}}function C(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function z(k){var Q=this,B={db:null};if(k)for(var ne in k)B[ne]=k[ne];var oe=_[B.name];oe||(oe=C(),_[B.name]=oe),oe.forages.push(Q),Q._initReady||(Q._initReady=Q.ready,Q.ready=ie);var te=[];function be(){return f.resolve()}for(var Ie=0;Ie<oe.forages.length;Ie++){var Pe=oe.forages[Ie];Pe!==Q&&te.push(Pe._initReady().catch(be))}var Re=oe.forages.slice(0);return f.all(te).then(function(){return B.db=oe.db,W(B)}).then(function(De){return B.db=De,de(B,Q._defaultConfig.version)?V(B):De}).then(function(De){B.db=oe.db=De,Q._dbInfo=B;for(var et=0;et<Re.length;et++){var Bt=Re[et];Bt!==Q&&(Bt._dbInfo.db=B.db,Bt._dbInfo.version=B.version)}})}function R(k,Q){var B=this;k=p(k);var ne=new f(function(oe,te){B.ready().then(function(){I(B._dbInfo,T,function(be,Ie){if(be)return te(be);try{var Pe=Ie.objectStore(B._dbInfo.storeName),Re=Pe.get(k);Re.onsuccess=function(){var De=Re.result;De===void 0&&(De=null),ee(De)&&(De=pe(De)),oe(De)},Re.onerror=function(){te(Re.error)}}catch(De){te(De)}})}).catch(te)});return d(ne,Q),ne}function P(k,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){I(B._dbInfo,T,function(be,Ie){if(be)return te(be);try{var Pe=Ie.objectStore(B._dbInfo.storeName),Re=Pe.openCursor(),De=1;Re.onsuccess=function(){var et=Re.result;if(et){var Bt=et.value;ee(Bt)&&(Bt=pe(Bt));var yn=k(Bt,et.key,De++);yn!==void 0?oe(yn):et.continue()}else oe()},Re.onerror=function(){te(Re.error)}}catch(et){te(et)}})}).catch(te)});return d(ne,Q),ne}function Y(k,Q,B){var ne=this;k=p(k);var oe=new f(function(te,be){var Ie;ne.ready().then(function(){return Ie=ne._dbInfo,v.call(Q)==="[object Blob]"?A(Ie.db).then(function(Pe){return Pe?Q:ae(Q)}):Q}).then(function(Pe){I(ne._dbInfo,S,function(Re,De){if(Re)return be(Re);try{var et=De.objectStore(ne._dbInfo.storeName);Pe===null&&(Pe=void 0);var Bt=et.put(Pe,k);De.oncomplete=function(){Pe===void 0&&(Pe=null),te(Pe)},De.onabort=De.onerror=function(){var yn=Bt.error?Bt.error:Bt.transaction.error;be(yn)}}catch(yn){be(yn)}})}).catch(be)});return d(oe,B),oe}function se(k,Q){var B=this;k=p(k);var ne=new f(function(oe,te){B.ready().then(function(){I(B._dbInfo,S,function(be,Ie){if(be)return te(be);try{var Pe=Ie.objectStore(B._dbInfo.storeName),Re=Pe.delete(k);Ie.oncomplete=function(){oe()},Ie.onerror=function(){te(Re.error)},Ie.onabort=function(){var De=Re.error?Re.error:Re.transaction.error;te(De)}}catch(De){te(De)}})}).catch(te)});return d(ne,Q),ne}function ue(k){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){I(Q._dbInfo,S,function(te,be){if(te)return oe(te);try{var Ie=be.objectStore(Q._dbInfo.storeName),Pe=Ie.clear();be.oncomplete=function(){ne()},be.onabort=be.onerror=function(){var Re=Pe.error?Pe.error:Pe.transaction.error;oe(Re)}}catch(Re){oe(Re)}})}).catch(oe)});return d(B,k),B}function he(k){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){I(Q._dbInfo,T,function(te,be){if(te)return oe(te);try{var Ie=be.objectStore(Q._dbInfo.storeName),Pe=Ie.count();Pe.onsuccess=function(){ne(Pe.result)},Pe.onerror=function(){oe(Pe.error)}}catch(Re){oe(Re)}})}).catch(oe)});return d(B,k),B}function fe(k,Q){var B=this,ne=new f(function(oe,te){if(k<0){oe(null);return}B.ready().then(function(){I(B._dbInfo,T,function(be,Ie){if(be)return te(be);try{var Pe=Ie.objectStore(B._dbInfo.storeName),Re=!1,De=Pe.openKeyCursor();De.onsuccess=function(){var et=De.result;if(!et){oe(null);return}k===0||Re?oe(et.key):(Re=!0,et.advance(k))},De.onerror=function(){te(De.error)}}catch(et){te(et)}})}).catch(te)});return d(ne,Q),ne}function Se(k){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){I(Q._dbInfo,T,function(te,be){if(te)return oe(te);try{var Ie=be.objectStore(Q._dbInfo.storeName),Pe=Ie.openKeyCursor(),Re=[];Pe.onsuccess=function(){var De=Pe.result;if(!De){ne(Re);return}Re.push(De.key),De.continue()},Pe.onerror=function(){oe(Pe.error)}}catch(De){oe(De)}})}).catch(oe)});return d(B,k),B}function me(k,Q){Q=g.apply(this,arguments);var B=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||B.name,k.storeName=k.storeName||B.storeName);var ne=this,oe;if(!k.name)oe=f.reject("Invalid arguments");else{var te=k.name===B.name&&ne._dbInfo.db,be=te?f.resolve(ne._dbInfo.db):W(k).then(function(Ie){var Pe=_[k.name],Re=Pe.forages;Pe.db=Ie;for(var De=0;De<Re.length;De++)Re[De]._dbInfo.db=Ie;return Ie});k.storeName?oe=be.then(function(Ie){if(Ie.objectStoreNames.contains(k.storeName)){var Pe=Ie.version+1;M(k);var Re=_[k.name],De=Re.forages;Ie.close();for(var et=0;et<De.length;et++){var Bt=De[et];Bt._dbInfo.db=null,Bt._dbInfo.version=Pe}var yn=new f(function(Tn,Er){var rr=u.open(k.name,Pe);rr.onerror=function(Ts){var qf=rr.result;qf.close(),Er(Ts)},rr.onupgradeneeded=function(){var Ts=rr.result;Ts.deleteObjectStore(k.storeName)},rr.onsuccess=function(){var Ts=rr.result;Ts.close(),Tn(Ts)}});return yn.then(function(Tn){Re.db=Tn;for(var Er=0;Er<De.length;Er++){var rr=De[Er];rr._dbInfo.db=Tn,D(rr._dbInfo)}}).catch(function(Tn){throw($(k,Tn)||f.resolve()).catch(function(){}),Tn})}}):oe=be.then(function(Ie){M(k);var Pe=_[k.name],Re=Pe.forages;Ie.close();for(var De=0;De<Re.length;De++){var et=Re[De];et._dbInfo.db=null}var Bt=new f(function(yn,Tn){var Er=u.deleteDatabase(k.name);Er.onerror=function(){var rr=Er.result;rr&&rr.close(),Tn(Er.error)},Er.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},Er.onsuccess=function(){var rr=Er.result;rr&&rr.close(),yn(rr)}});return Bt.then(function(yn){Pe.db=yn;for(var Tn=0;Tn<Re.length;Tn++){var Er=Re[Tn];D(Er._dbInfo)}}).catch(function(yn){throw($(k,yn)||f.resolve()).catch(function(){}),yn})})}return d(oe,Q),oe}var Je={_driver:"asyncStorage",_initStorage:z,_support:l(),iterate:P,getItem:R,setItem:Y,removeItem:se,clear:ue,length:he,key:fe,keys:Se,dropInstance:me};function Ge(){return typeof openDatabase=="function"}var qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,Ve="__lfsc__:",Zt=Ve.length,Me="arbf",Ue="blob",wt="si08",ze="ui08",gt="uic8",Gt="si16",un="si32",Gn="ur16",ce="ui32",Ee="fl32",Fe="fl64",ot=Zt+Me.length,$e=Object.prototype.toString;function at(k){var Q=k.length*.75,B=k.length,ne,oe=0,te,be,Ie,Pe;k[k.length-1]==="="&&(Q--,k[k.length-2]==="="&&Q--);var Re=new ArrayBuffer(Q),De=new Uint8Array(Re);for(ne=0;ne<B;ne+=4)te=qe.indexOf(k[ne]),be=qe.indexOf(k[ne+1]),Ie=qe.indexOf(k[ne+2]),Pe=qe.indexOf(k[ne+3]),De[oe++]=te<<2|be>>4,De[oe++]=(be&15)<<4|Ie>>2,De[oe++]=(Ie&3)<<6|Pe&63;return Re}function Be(k){var Q=new Uint8Array(k),B="",ne;for(ne=0;ne<Q.length;ne+=3)B+=qe[Q[ne]>>2],B+=qe[(Q[ne]&3)<<4|Q[ne+1]>>4],B+=qe[(Q[ne+1]&15)<<2|Q[ne+2]>>6],B+=qe[Q[ne+2]&63];return Q.length%3===2?B=B.substring(0,B.length-1)+"=":Q.length%3===1&&(B=B.substring(0,B.length-2)+"=="),B}function rt(k,Q){var B="";if(k&&(B=$e.call(k)),k&&(B==="[object ArrayBuffer]"||k.buffer&&$e.call(k.buffer)==="[object ArrayBuffer]")){var ne,oe=Ve;k instanceof ArrayBuffer?(ne=k,oe+=Me):(ne=k.buffer,B==="[object Int8Array]"?oe+=wt:B==="[object Uint8Array]"?oe+=ze:B==="[object Uint8ClampedArray]"?oe+=gt:B==="[object Int16Array]"?oe+=Gt:B==="[object Uint16Array]"?oe+=Gn:B==="[object Int32Array]"?oe+=un:B==="[object Uint32Array]"?oe+=ce:B==="[object Float32Array]"?oe+=Ee:B==="[object Float64Array]"?oe+=Fe:Q(new Error("Failed to get type for BinaryArray"))),Q(oe+Be(ne))}else if(B==="[object Blob]"){var te=new FileReader;te.onload=function(){var be=Le+k.type+"~"+Be(this.result);Q(Ve+Ue+be)},te.readAsArrayBuffer(k)}else try{Q(JSON.stringify(k))}catch(be){console.error("Couldn't convert value into a JSON string: ",k),Q(null,be)}}function wn(k){if(k.substring(0,Zt)!==Ve)return JSON.parse(k);var Q=k.substring(ot),B=k.substring(Zt,ot),ne;if(B===Ue&&Ae.test(Q)){var oe=Q.match(Ae);ne=oe[1],Q=Q.substring(oe[0].length)}var te=at(Q);switch(B){case Me:return te;case Ue:return c([te],{type:ne});case wt:return new Int8Array(te);case ze:return new Uint8Array(te);case gt:return new Uint8ClampedArray(te);case Gt:return new Int16Array(te);case Gn:return new Uint16Array(te);case un:return new Int32Array(te);case ce:return new Uint32Array(te);case Ee:return new Float32Array(te);case Fe:return new Float64Array(te);default:throw new Error("Unkown type: "+B)}}var qt={serialize:rt,deserialize:wn,stringToBuffer:at,bufferToString:Be};function xt(k,Q,B,ne){k.executeSql("CREATE TABLE IF NOT EXISTS "+Q.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],B,ne)}function Bn(k){var Q=this,B={db:null};if(k)for(var ne in k)B[ne]=typeof k[ne]!="string"?k[ne].toString():k[ne];var oe=new f(function(te,be){try{B.db=openDatabase(B.name,String(B.version),B.description,B.size)}catch(Ie){return be(Ie)}B.db.transaction(function(Ie){xt(Ie,B,function(){Q._dbInfo=B,te()},function(Pe,Re){be(Re)})},be)});return B.serializer=qt,oe}function En(k,Q,B,ne,oe,te){k.executeSql(B,ne,oe,function(be,Ie){Ie.code===Ie.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Q.storeName],function(Pe,Re){Re.rows.length?te(Pe,Ie):xt(Pe,Q,function(){Pe.executeSql(B,ne,oe,te)},te)},te):te(be,Ie)},te)}function da(k,Q){var B=this;k=p(k);var ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[k],function(Pe,Re){var De=Re.rows.length?Re.rows.item(0).value:null;De&&(De=be.serializer.deserialize(De)),oe(De)},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function dr(k,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT * FROM "+be.storeName,[],function(Pe,Re){for(var De=Re.rows,et=De.length,Bt=0;Bt<et;Bt++){var yn=De.item(Bt),Tn=yn.value;if(Tn&&(Tn=be.serializer.deserialize(Tn)),Tn=k(Tn,yn.key,Bt+1),Tn!==void 0){oe(Tn);return}}oe()},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function ji(k,Q,B,ne){var oe=this;k=p(k);var te=new f(function(be,Ie){oe.ready().then(function(){Q===void 0&&(Q=null);var Pe=Q,Re=oe._dbInfo;Re.serializer.serialize(Q,function(De,et){et?Ie(et):Re.db.transaction(function(Bt){En(Bt,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[k,De],function(){be(Pe)},function(yn,Tn){Ie(Tn)})},function(Bt){if(Bt.code===Bt.QUOTA_ERR){if(ne>0){be(ji.apply(oe,[k,Pe,B,ne-1]));return}Ie(Bt)}})})}).catch(Ie)});return d(te,B),te}function br(k,Q,B){return ji.apply(this,[k,Q,B,1])}function Lr(k,Q){var B=this;k=p(k);var ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[k],function(){oe()},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function hr(k){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){En(be,te,"DELETE FROM "+te.storeName,[],function(){ne()},function(Ie,Pe){oe(Pe)})})}).catch(oe)});return d(B,k),B}function jn(k){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){En(be,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(Ie,Pe){var Re=Pe.rows.item(0).c;ne(Re)},function(Ie,Pe){oe(Pe)})})}).catch(oe)});return d(B,k),B}function en(k,Q){var B=this,ne=new f(function(oe,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[k+1],function(Pe,Re){var De=Re.rows.length?Re.rows.item(0).key:null;oe(De)},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function oi(k){var Q=this,B=new f(function(ne,oe){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){En(be,te,"SELECT key FROM "+te.storeName,[],function(Ie,Pe){for(var Re=[],De=0;De<Pe.rows.length;De++)Re.push(Pe.rows.item(De).key);ne(Re)},function(Ie,Pe){oe(Pe)})})}).catch(oe)});return d(B,k),B}function wr(k){return new f(function(Q,B){k.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(oe,te){for(var be=[],Ie=0;Ie<te.rows.length;Ie++)be.push(te.rows.item(Ie).name);Q({db:k,storeNames:be})},function(oe,te){B(te)})},function(ne){B(ne)})})}function Mr(k,Q){Q=g.apply(this,arguments);var B=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||B.name,k.storeName=k.storeName||B.storeName);var ne=this,oe;return k.name?oe=new f(function(te){var be;k.name===B.name?be=ne._dbInfo.db:be=openDatabase(k.name,"","",0),k.storeName?te({db:be,storeNames:[k.storeName]}):te(wr(be))}).then(function(te){return new f(function(be,Ie){te.db.transaction(function(Pe){function Re(yn){return new f(function(Tn,Er){Pe.executeSql("DROP TABLE IF EXISTS "+yn,[],function(){Tn()},function(rr,Ts){Er(Ts)})})}for(var De=[],et=0,Bt=te.storeNames.length;et<Bt;et++)De.push(Re(te.storeNames[et]));f.all(De).then(function(){be()}).catch(function(yn){Ie(yn)})},function(Pe){Ie(Pe)})})}):oe=f.reject("Invalid arguments"),d(oe,Q),oe}var vi={_driver:"webSQLStorage",_initStorage:Bn,_support:Ge(),iterate:dr,getItem:da,setItem:br,removeItem:Lr,clear:hr,length:jn,key:en,keys:oi,dropInstance:Mr};function ws(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function X(k,Q){var B=k.name+"/";return k.storeName!==Q.storeName&&(B+=k.storeName+"/"),B}function U(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function Z(){return!U()||localStorage.length>0}function ye(k){var Q=this,B={};if(k)for(var ne in k)B[ne]=k[ne];return B.keyPrefix=X(k,Q._defaultConfig),Z()?(Q._dbInfo=B,B.serializer=qt,f.resolve()):f.reject()}function ge(k){var Q=this,B=Q.ready().then(function(){for(var ne=Q._dbInfo.keyPrefix,oe=localStorage.length-1;oe>=0;oe--){var te=localStorage.key(oe);te.indexOf(ne)===0&&localStorage.removeItem(te)}});return d(B,k),B}function Ke(k,Q){var B=this;k=p(k);var ne=B.ready().then(function(){var oe=B._dbInfo,te=localStorage.getItem(oe.keyPrefix+k);return te&&(te=oe.serializer.deserialize(te)),te});return d(ne,Q),ne}function Te(k,Q){var B=this,ne=B.ready().then(function(){for(var oe=B._dbInfo,te=oe.keyPrefix,be=te.length,Ie=localStorage.length,Pe=1,Re=0;Re<Ie;Re++){var De=localStorage.key(Re);if(De.indexOf(te)===0){var et=localStorage.getItem(De);if(et&&(et=oe.serializer.deserialize(et)),et=k(et,De.substring(be),Pe++),et!==void 0)return et}}});return d(ne,Q),ne}function We(k,Q){var B=this,ne=B.ready().then(function(){var oe=B._dbInfo,te;try{te=localStorage.key(k)}catch{te=null}return te&&(te=te.substring(oe.keyPrefix.length)),te});return d(ne,Q),ne}function dt(k){var Q=this,B=Q.ready().then(function(){for(var ne=Q._dbInfo,oe=localStorage.length,te=[],be=0;be<oe;be++){var Ie=localStorage.key(be);Ie.indexOf(ne.keyPrefix)===0&&te.push(Ie.substring(ne.keyPrefix.length))}return te});return d(B,k),B}function nt(k){var Q=this,B=Q.keys().then(function(ne){return ne.length});return d(B,k),B}function mt(k,Q){var B=this;k=p(k);var ne=B.ready().then(function(){var oe=B._dbInfo;localStorage.removeItem(oe.keyPrefix+k)});return d(ne,Q),ne}function Lt(k,Q,B){var ne=this;k=p(k);var oe=ne.ready().then(function(){Q===void 0&&(Q=null);var te=Q;return new f(function(be,Ie){var Pe=ne._dbInfo;Pe.serializer.serialize(Q,function(Re,De){if(De)Ie(De);else try{localStorage.setItem(Pe.keyPrefix+k,Re),be(te)}catch(et){(et.name==="QuotaExceededError"||et.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(et),Ie(et)}})})});return d(oe,B),oe}function $n(k,Q){if(Q=g.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var B=this.config();k.name=k.name||B.name,k.storeName=k.storeName||B.storeName}var ne=this,oe;return k.name?oe=new f(function(te){k.storeName?te(X(k,ne._defaultConfig)):te(k.name+"/")}).then(function(te){for(var be=localStorage.length-1;be>=0;be--){var Ie=localStorage.key(be);Ie.indexOf(te)===0&&localStorage.removeItem(Ie)}}):oe=f.reject("Invalid arguments"),d(oe,Q),oe}var pt={_driver:"localStorageWrapper",_initStorage:ye,_support:ws(),iterate:Te,getItem:Ke,setItem:Lt,removeItem:mt,clear:ge,length:nt,key:We,keys:dt,dropInstance:$n},An=function(Q,B){return Q===B||typeof Q=="number"&&typeof B=="number"&&isNaN(Q)&&isNaN(B)},Et=function(Q,B){for(var ne=Q.length,oe=0;oe<ne;){if(An(Q[oe],B))return!0;oe++}return!1},gn=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},nr={},Gr={},Rr={INDEXEDDB:Je,WEBSQL:vi,LOCALSTORAGE:pt},us=[Rr.INDEXEDDB._driver,Rr.WEBSQL._driver,Rr.LOCALSTORAGE._driver],bi=["dropInstance"],pr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bi),Xe={description:"",driver:us.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zt(k,Q){k[Q]=function(){var B=arguments;return k.ready().then(function(){return k[Q].apply(k,B)})}}function Hn(){for(var k=1;k<arguments.length;k++){var Q=arguments[k];if(Q)for(var B in Q)Q.hasOwnProperty(B)&&(gn(Q[B])?arguments[0][B]=Q[B].slice():arguments[0][B]=Q[B])}return arguments[0]}var ai=function(){function k(Q){o(this,k);for(var B in Rr)if(Rr.hasOwnProperty(B)){var ne=Rr[B],oe=ne._driver;this[B]=oe,nr[oe]||this.defineDriver(ne)}this._defaultConfig=Hn({},Xe),this._config=Hn({},this._defaultConfig,Q),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(B){if((typeof B>"u"?"undefined":s(B))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in B){if(ne==="storeName"&&(B[ne]=B[ne].replace(/\W/g,"_")),ne==="version"&&typeof B[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=B[ne]}return"driver"in B&&B.driver?this.setDriver(this._config.driver):!0}else return typeof B=="string"?this._config[B]:this._config},k.prototype.defineDriver=function(B,ne,oe){var te=new f(function(be,Ie){try{var Pe=B._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!B._driver){Ie(Re);return}for(var De=pr.concat("_initStorage"),et=0,Bt=De.length;et<Bt;et++){var yn=De[et],Tn=!Et(bi,yn);if((Tn||B[yn])&&typeof B[yn]!="function"){Ie(Re);return}}var Er=function(){for(var qf=function($A){return function(){var Ph=new Error("Method "+$A+" is not implemented by the current driver"),Rh=f.reject(Ph);return d(Rh,arguments[arguments.length-1]),Rh}},Sg=0,xg=bi.length;Sg<xg;Sg++){var Ig=bi[Sg];B[Ig]||(B[Ig]=qf(Ig))}};Er();var rr=function(qf){nr[Pe]&&console.info("Redefining LocalForage driver: "+Pe),nr[Pe]=B,Gr[Pe]=qf,be()};"_support"in B?B._support&&typeof B._support=="function"?B._support().then(rr,Ie):rr(!!B._support):rr(!0)}catch(Ts){Ie(Ts)}});return h(te,ne,oe),te},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(B,ne,oe){var te=nr[B]?f.resolve(nr[B]):f.reject(new Error("Driver not found."));return h(te,ne,oe),te},k.prototype.getSerializer=function(B){var ne=f.resolve(qt);return h(ne,B),ne},k.prototype.ready=function(B){var ne=this,oe=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return h(oe,B,B),oe},k.prototype.setDriver=function(B,ne,oe){var te=this;gn(B)||(B=[B]);var be=this._getSupportedDrivers(B);function Ie(){te._config.driver=te.driver()}function Pe(et){return te._extend(et),Ie(),te._ready=te._initStorage(te._config),te._ready}function Re(et){return function(){var Bt=0;function yn(){for(;Bt<et.length;){var Tn=et[Bt];return Bt++,te._dbInfo=null,te._ready=null,te.getDriver(Tn).then(Pe).catch(yn)}Ie();var Er=new Error("No available storage method found.");return te._driverSet=f.reject(Er),te._driverSet}return yn()}}var De=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=De.then(function(){var et=be[0];return te._dbInfo=null,te._ready=null,te.getDriver(et).then(function(Bt){te._driver=Bt._driver,Ie(),te._wrapLibraryMethodsWithReady(),te._initDriver=Re(be)})}).catch(function(){Ie();var et=new Error("No available storage method found.");return te._driverSet=f.reject(et),te._driverSet}),h(this._driverSet,ne,oe),this._driverSet},k.prototype.supports=function(B){return!!Gr[B]},k.prototype._extend=function(B){Hn(this,B)},k.prototype._getSupportedDrivers=function(B){for(var ne=[],oe=0,te=B.length;oe<te;oe++){var be=B[oe];this.supports(be)&&ne.push(be)}return ne},k.prototype._wrapLibraryMethodsWithReady=function(){for(var B=0,ne=pr.length;B<ne;B++)zt(this,pr[B])},k.prototype.createInstance=function(B){return new k(B)},k}(),Es=new ai;r.exports=Es},{3:3}]},{},[4])(4)})})(lae);var Net=lae.exports;const cae=Va(Net);let Q1;const ket=new Uint8Array(16);function Det(){if(!Q1&&(Q1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q1(ket)}const Ei=[];for(let e=0;e<256;++e)Ei.push((e+256).toString(16).slice(1));function $et(e,t=0){return Ei[e[t+0]]+Ei[e[t+1]]+Ei[e[t+2]]+Ei[e[t+3]]+"-"+Ei[e[t+4]]+Ei[e[t+5]]+"-"+Ei[e[t+6]]+Ei[e[t+7]]+"-"+Ei[e[t+8]]+Ei[e[t+9]]+"-"+Ei[e[t+10]]+Ei[e[t+11]]+Ei[e[t+12]]+Ei[e[t+13]]+Ei[e[t+14]]+Ei[e[t+15]]}const Let=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iz={randomUUID:Let};function sz(e,t,n){if(iz.randomUUID&&!t&&!e)return iz.randomUUID();e=e||{};const r=e.random||(e.rng||Det)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return $et(r)}class fae{constructor(t){no(this,"engine");no(this,"connected",!1);no(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function Wp(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class Met extends fae{constructor(){super("localStorage");no(this,"studyDatabase")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await cae.createInstance({name:n});const i=await Wp(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await Wp(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=sz();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=sz();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await Wp(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var oz={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Fet=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},rL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dae(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Fet(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new Bet;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bet extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jet=function(e){const t=dae(e);return rL.encodeByteArray(t,!0)},OS=function(e){return jet(e).replace(/\./g,"")},hae=function(e){try{return rL.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uet=()=>pae().__FIREBASE_DEFAULTS__,Vet=()=>{if(typeof process>"u"||typeof oz>"u")return;const e=oz.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},zet=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hae(e[1]);return t&&JSON.parse(t)},iL=()=>{try{return Uet()||Vet()||zet()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},mae=e=>{var t,n;return(n=(t=iL())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Het=e=>{const t=mae(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},gae=()=>{var e;return(e=iL())===null||e===void 0?void 0:e.config},yae=e=>{var t;return(t=iL())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qet(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[OS(JSON.stringify(n)),OS(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wet(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(is())}function Yet(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Get(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ket(){const e=is();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function sL(){try{return typeof indexedDB=="object"}catch{return!1}}function Qet(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xet="FirebaseError";class Ju extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Xet,Object.setPrototypeOf(this,Ju.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pg.prototype.create)}}class pg{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Jet(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ju(i,a,r)}}function Jet(e,t){return e.replace(Zet,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Zet=/\{\$([^}]+)}/g;function ett(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function f_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(az(s)&&az(o)){if(!f_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function az(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ttt(e,t){const n=new ntt(e,t);return n.subscribe.bind(n)}class ntt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rtt(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=aP),i.error===void 0&&(i.error=aP),i.complete===void 0&&(i.complete=aP);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rtt(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function aP(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const itt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stt=1e3,ott=2,att=4*60*60*1e3,utt=.5;function ltt(e,t=stt,n=ott){const r=t*Math.pow(n,e),i=Math.round(utt*r*(Math.random()-.5)*2);return Math.min(att,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e){return e&&e._delegate?e._delegate:e}class zu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ctt{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new c_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dtt(t))try{this.getOrInitializeService({instanceIdentifier:rd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=rd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rd){return this.instances.has(t)}getOptions(t=rd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ftt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=rd){return this.component?this.component.multipleInstances?t:rd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ftt(e){return e===rd?void 0:e}function dtt(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class htt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ctt(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rn||(rn={}));const ptt={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},mtt=rn.INFO,gtt={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},ytt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=gtt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nA{constructor(t){this.name=t,this._logLevel=mtt,this._logHandler=ytt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ptt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...t),this._logHandler(this,rn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...t),this._logHandler(this,rn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...t),this._logHandler(this,rn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...t),this._logHandler(this,rn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...t),this._logHandler(this,rn.ERROR,...t)}}const _tt=(e,t)=>t.some(n=>e instanceof n);let uz,lz;function vtt(){return uz||(uz=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function btt(){return lz||(lz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _ae=new WeakMap,CN=new WeakMap,vae=new WeakMap,uP=new WeakMap,oL=new WeakMap;function wtt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(of(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&_ae.set(n,e)}).catch(()=>{}),oL.set(t,e),t}function Ett(e){if(CN.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});CN.set(e,t)}let ON={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return CN.get(e);if(t==="objectStoreNames")return e.objectStoreNames||vae.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return of(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ttt(e){ON=e(ON)}function Stt(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(lP(this),t,...n);return vae.set(r,t.sort?t.sort():[t]),of(r)}:btt().includes(e)?function(...t){return e.apply(lP(this),t),of(_ae.get(this))}:function(...t){return of(e.apply(lP(this),t))}}function xtt(e){return typeof e=="function"?Stt(e):(e instanceof IDBTransaction&&Ett(e),_tt(e,vtt())?new Proxy(e,ON):e)}function of(e){if(e instanceof IDBRequest)return wtt(e);if(uP.has(e))return uP.get(e);const t=xtt(e);return t!==e&&(uP.set(e,t),oL.set(t,e)),t}const lP=e=>oL.get(e);function Itt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=of(o);return r&&o.addEventListener("upgradeneeded",u=>{r(of(o.result),u.oldVersion,u.newVersion,of(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Att=["get","getKey","getAll","getAllKeys","count"],Ctt=["put","add","delete","clear"],cP=new Map;function cz(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(cP.get(t))return cP.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ctt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Att.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return cP.set(t,s),s}Ttt(e=>({...e,get:(t,n,r)=>cz(t,n)||e.get(t,n,r),has:(t,n)=>!!cz(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ott{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ptt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ptt(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const PN="@firebase/app",fz="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new nA("@firebase/app"),Rtt="@firebase/app-compat",Ntt="@firebase/analytics-compat",ktt="@firebase/analytics",Dtt="@firebase/app-check-compat",$tt="@firebase/app-check",Ltt="@firebase/auth",Mtt="@firebase/auth-compat",Ftt="@firebase/database",Btt="@firebase/database-compat",jtt="@firebase/functions",Utt="@firebase/functions-compat",Vtt="@firebase/installations",ztt="@firebase/installations-compat",Htt="@firebase/messaging",qtt="@firebase/messaging-compat",Wtt="@firebase/performance",Ytt="@firebase/performance-compat",Gtt="@firebase/remote-config",Ktt="@firebase/remote-config-compat",Qtt="@firebase/storage",Xtt="@firebase/storage-compat",Jtt="@firebase/firestore",Ztt="@firebase/firestore-compat",ent="firebase",tnt="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="[DEFAULT]",nnt={[PN]:"fire-core",[Rtt]:"fire-core-compat",[ktt]:"fire-analytics",[Ntt]:"fire-analytics-compat",[$tt]:"fire-app-check",[Dtt]:"fire-app-check-compat",[Ltt]:"fire-auth",[Mtt]:"fire-auth-compat",[Ftt]:"fire-rtdb",[Btt]:"fire-rtdb-compat",[jtt]:"fire-fn",[Utt]:"fire-fn-compat",[Vtt]:"fire-iid",[ztt]:"fire-iid-compat",[Htt]:"fire-fcm",[qtt]:"fire-fcm-compat",[Wtt]:"fire-perf",[Ytt]:"fire-perf-compat",[Gtt]:"fire-rc",[Ktt]:"fire-rc-compat",[Qtt]:"fire-gcs",[Xtt]:"fire-gcs-compat",[Jtt]:"fire-fst",[Ztt]:"fire-fst-compat","fire-js":"fire-js",[ent]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map,NN=new Map;function rnt(e,t){try{e.container.addComponent(t)}catch(n){nh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gl(e){const t=e.name;if(NN.has(t))return nh.debug(`There were multiple attempts to register component ${t}.`),!1;NN.set(t,e);for(const n of PS.values())rnt(n,e);return!0}function mg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const int={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},af=new pg("app","Firebase",int);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class snt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw af.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=tnt;function bae(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:RN,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw af.create("bad-app-name",{appName:String(i)});if(n||(n=gae()),!n)throw af.create("no-options");const s=PS.get(i);if(s){if(f_(n,s.options)&&f_(r,s.config))return s;throw af.create("duplicate-app",{appName:i})}const o=new htt(i);for(const u of NN.values())o.addComponent(u);const a=new snt(n,r,o);return PS.set(i,a),a}function aL(e=RN){const t=PS.get(e);if(!t&&e===RN&&gae())return bae();if(!t)throw af.create("no-app",{appName:e});return t}function $a(e,t,n){var r;let i=(r=nnt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nh.warn(a.join(" "));return}Gl(new zu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ont="firebase-heartbeat-database",ant=1,d_="firebase-heartbeat-store";let fP=null;function wae(){return fP||(fP=Itt(ont,ant,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(d_)}}}).catch(e=>{throw af.create("idb-open",{originalErrorMessage:e.message})})),fP}async function unt(e){try{return await(await wae()).transaction(d_).objectStore(d_).get(Eae(e))}catch(t){if(t instanceof Ju)nh.warn(t.message);else{const n=af.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});nh.warn(n.message)}}}async function dz(e,t){try{const r=(await wae()).transaction(d_,"readwrite");await r.objectStore(d_).put(t,Eae(e)),await r.done}catch(n){if(n instanceof Ju)nh.warn(n.message);else{const r=af.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nh.warn(r.message)}}}function Eae(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lnt=1024,cnt=30*24*60*60*1e3;class fnt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hnt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hz();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=cnt}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hz(),{heartbeatsToSend:r,unsentEntries:i}=dnt(this._heartbeatsCache.heartbeats),s=OS(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function hz(){return new Date().toISOString().substring(0,10)}function dnt(e,t=lnt){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pz(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pz(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hnt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sL()?Qet().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await unt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dz(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dz(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function pz(e){return OS(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pnt(e){Gl(new zu("platform-logger",t=>new Ott(t),"PRIVATE")),Gl(new zu("heartbeat",t=>new fnt(t),"PRIVATE")),$a(PN,fz,e),$a(PN,fz,"esm2017"),$a("fire-js","")}pnt("");var mnt="firebase",gnt="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$a(mnt,gnt,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tae="firebasestorage.googleapis.com",Sae="storageBucket",ynt=2*60*1e3,_nt=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ju{constructor(t,n,r=0){super(dP(t),`Firebase Storage: ${n} (${dP(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cr||(Cr={}));function dP(e){return"storage/"+e}function uL(){const e="An unknown error occurred, please check the error payload for server response.";return new Pr(Cr.UNKNOWN,e)}function vnt(e){return new Pr(Cr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function bnt(e){return new Pr(Cr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wnt(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pr(Cr.UNAUTHENTICATED,e)}function Ent(){return new Pr(Cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Tnt(e){return new Pr(Cr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Snt(){return new Pr(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xnt(){return new Pr(Cr.CANCELED,"User canceled the upload/download.")}function Int(e){return new Pr(Cr.INVALID_URL,"Invalid URL '"+e+"'.")}function Ant(e){return new Pr(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Cnt(){return new Pr(Cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Sae+"' property when initializing the app?")}function Ont(){return new Pr(Cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Pnt(){return new Pr(Cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Rnt(e){return new Pr(Cr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kN(e){return new Pr(Cr.INVALID_ARGUMENT,e)}function xae(){return new Pr(Cr.APP_DELETED,"The Firebase app was deleted.")}function Nnt(e){return new Pr(Cr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cy(e,t){return new Pr(Cr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function o0(e){throw new Pr(Cr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=mo.makeFromUrl(t,n)}catch{return new mo(t,"")}if(r.path==="")return r;throw Ant(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===Tae?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${y}`,"i"),v=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<v.length;T++){const S=v[T],w=S.regex.exec(t);if(w){const x=w[S.indices.bucket];let A=w[S.indices.path];A||(A=""),r=new mo(x,A),S.postModify(r);break}}if(r==null)throw Int(t);return r}}class knt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dnt(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...m){if(l){d();return}if(y){d(),c.call(null,y,...m);return}if(u()||o){d(),c.call(null,y,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,f(v)}let p=!1;function g(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function $nt(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lnt(e){return e!==void 0}function Mnt(e){return typeof e=="object"&&!Array.isArray(e)}function lL(e){return typeof e=="string"||e instanceof String}function mz(e){return cL()&&e instanceof Blob}function cL(){return typeof Blob<"u"}function gz(e,t,n,r){if(r<t)throw kN(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw kN(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Iae(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $d;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})($d||($d={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fnt(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bnt{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new X1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$d.NO_ERROR,u=s.getStatus();if(!a||Fnt(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===$d.ABORT;r(!1,new X1(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new X1(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Lnt(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=uL();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?xae():xnt();o(u)}else{const u=Snt();o(u)}};this.canceled_?n(!1,new X1(!1,null,!0)):this.backoffId_=Dnt(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&$nt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class X1{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function jnt(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Unt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Vnt(e,t){t&&(e["X-Firebase-GMPID"]=t)}function znt(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Hnt(e,t,n,r,i,s,o=!0){const a=Iae(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return Vnt(l,t),jnt(l,n),Unt(l,s),znt(l,r),new Bnt(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qnt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wnt(...e){const t=qnt();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(cL())return new Blob(e);throw new Pr(Cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ynt(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gnt(e){if(typeof atob>"u")throw Rnt("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hP{constructor(t,n){this.data=t,this.contentType=n||null}}function Knt(e,t){switch(e){case bu.RAW:return new hP(Aae(t));case bu.BASE64:case bu.BASE64URL:return new hP(Cae(e,t));case bu.DATA_URL:return new hP(Xnt(t),Jnt(t))}throw uL()}function Aae(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Qnt(e){let t;try{t=decodeURIComponent(e)}catch{throw cy(bu.DATA_URL,"Malformed data URL.")}return Aae(t)}function Cae(e,t){switch(e){case bu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw cy(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw cy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gnt(t)}catch(i){throw i.message.includes("polyfill")?i:cy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Oae{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw cy(bu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Znt(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function Xnt(e){const t=new Oae(e);return t.base64?Cae(bu.BASE64,t.rest):Qnt(t.rest)}function Jnt(e){return new Oae(e).contentType}function Znt(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n){let r=0,i="";mz(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(mz(this.data_)){const r=this.data_,i=Ynt(r,t,n);return i===null?null:new Pc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Pc(r,!0)}}static getBlob(...t){if(cL()){const n=t.map(r=>r instanceof Pc?r.data_:r);return new Pc(Wnt.apply(null,n))}else{const n=t.map(o=>lL(o)?Knt(bu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Pc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(e){let t;try{t=JSON.parse(e)}catch{return null}return Mnt(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ert(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function trt(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Rae(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nrt(e,t){return t}class ls{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||nrt}}let J1=null;function rrt(e){return!lL(e)||e.length<2?e:Rae(e)}function Nae(){if(J1)return J1;const e=[];e.push(new ls("bucket")),e.push(new ls("generation")),e.push(new ls("metageneration")),e.push(new ls("name","fullPath",!0));function t(s,o){return rrt(o)}const n=new ls("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ls("size");return i.xform=r,e.push(i),e.push(new ls("timeCreated")),e.push(new ls("updated")),e.push(new ls("md5Hash",null,!0)),e.push(new ls("cacheControl",null,!0)),e.push(new ls("contentDisposition",null,!0)),e.push(new ls("contentEncoding",null,!0)),e.push(new ls("contentLanguage",null,!0)),e.push(new ls("contentType",null,!0)),e.push(new ls("metadata","customMetadata",!0)),J1=e,J1}function irt(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new mo(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function srt(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return irt(r,e),r}function kae(e,t,n){const r=Pae(t);return r===null?null:srt(e,r,n)}function ort(e,t,n,r){const i=Pae(t);if(i===null||!lL(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=fL(d,n,r),p=Iae({alt:"media",token:l});return h+p})[0]}function art(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Dae{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(e){if(!e)throw uL()}function urt(e,t){function n(r,i){const s=kae(e,i,t);return $ae(s!==null),s}return n}function lrt(e,t){function n(r,i){const s=kae(e,i,t);return $ae(s!==null),ort(s,i,e.host,e._protocol)}return n}function Lae(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ent():i=wnt():n.getStatus()===402?i=bnt(e.bucket):n.getStatus()===403?i=Tnt(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function crt(e){const t=Lae(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=vnt(e.path)),s.serverResponse=i.serverResponse,s}return n}function frt(e,t,n){const r=t.fullServerUrl(),i=fL(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Dae(i,s,lrt(e,n),o);return a.errorHandler=crt(t),a}function drt(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function hrt(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=drt(null,t)),r}function prt(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let T=0;T<2;T++)v=v+Math.random().toString().slice(2);return v}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=hrt(t,r,i),c=art(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=Pc.getBlob(f,r,d);if(h===null)throw Ont();const p={name:l.fullPath},g=fL(s,e.host,e._protocol),y="POST",m=e.maxUploadRetryTime,_=new Dae(g,y,urt(e,n),m);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=Lae(t),_}class mrt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$d.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$d.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$d.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw o0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw o0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw o0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw o0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw o0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class grt extends mrt{initXhr(){this.xhr_.responseType="text"}}function Mae(){return new grt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this._service=t,n instanceof mo?this._location=n:this._location=mo.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new rh(t,n)}get root(){const t=new mo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Rae(this._location.path)}get storage(){return this._service}get parent(){const t=ert(this._location.path);if(t===null)return null;const n=new mo(this._location.bucket,t);return new rh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Nnt(t)}}function yrt(e,t,n){e._throwIfRoot("uploadBytes");const r=prt(e.storage,e._location,Nae(),new Pc(t,!0),n);return e.storage.makeRequestWithTokens(r,Mae).then(i=>({metadata:i,ref:e}))}function _rt(e){e._throwIfRoot("getDownloadURL");const t=frt(e.storage,e._location,Nae());return e.storage.makeRequestWithTokens(t,Mae).then(n=>{if(n===null)throw Pnt();return n})}function vrt(e,t){const n=trt(e._location.path,t),r=new mo(e._location.bucket,n);return new rh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function brt(e){return/^[A-Za-z]+:\/\//.test(e)}function wrt(e,t){return new rh(e,t)}function Fae(e,t){if(e instanceof dL){const n=e;if(n._bucket==null)throw Cnt();const r=new rh(n,n._bucket);return t!=null?Fae(r,t):r}else return t!==void 0?vrt(e,t):e}function Ert(e,t){if(t&&brt(t)){if(e instanceof dL)return wrt(e,t);throw kN("To use ref(service, url), the first argument must be a Storage instance.")}else return Fae(e,t)}function yz(e,t){const n=t==null?void 0:t[Sae];return n==null?null:mo.makeFromBucketSpec(n,e)}function Trt(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:qet(i,e.app.options.projectId))}class dL{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Tae,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ynt,this._maxUploadRetryTime=_nt,this._requests=new Set,i!=null?this._bucket=mo.makeFromBucketSpec(i,this._host):this._bucket=yz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=mo.makeFromBucketSpec(this._url,t):this._bucket=yz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){gz("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){gz("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new rh(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new knt(xae());{const o=Hnt(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const _z="@firebase/storage",vz="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bae="storage";function Srt(e,t,n){return e=Mi(e),yrt(e,t,n)}function xrt(e){return e=Mi(e),_rt(e)}function bz(e,t){return e=Mi(e),Ert(e,t)}function wz(e=aL(),t){e=Mi(e);const r=mg(e,Bae).getImmediate({identifier:t}),i=Het("storage");return i&&Irt(r,...i),r}function Irt(e,t,n,r={}){Trt(e,t,n,r)}function Art(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new dL(n,r,i,t,xh)}function Crt(){Gl(new zu(Bae,Art,"PUBLIC").setMultipleInstances(!0)),$a(_z,vz,""),$a(_z,vz,"esm2017")}Crt();var Ort=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,hL=hL||{},St=Ort||self;function rA(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Sv(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Prt(e){return Object.prototype.hasOwnProperty.call(e,pP)&&e[pP]||(e[pP]=++Rrt)}var pP="closure_uid_"+(1e9*Math.random()>>>0),Rrt=0;function Nrt(e,t,n){return e.call.apply(e.bind,arguments)}function krt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function es(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?es=Nrt:es=krt,es.apply(null,arguments)}function Z1(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function _i(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function zf(){this.s=this.s,this.o=this.o}var Drt=0;zf.prototype.s=!1;zf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Drt!=0)&&Prt(this)};zf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jae=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pL(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ez(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(rA(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ts(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ts.prototype.h=function(){this.defaultPrevented=!0};var $rt=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};St.addEventListener("test",n,t),St.removeEventListener("test",n,t)}catch{}return e}();function h_(e){return/^[\s\xa0]*$/.test(e)}function iA(){var e=St.navigator;return e&&(e=e.userAgent)?e:""}function gu(e){return iA().indexOf(e)!=-1}function mL(e){return mL[" "](e),e}mL[" "]=function(){};function Lrt(e,t){var n=Cit;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Mrt=gu("Opera"),Nm=gu("Trident")||gu("MSIE"),Uae=gu("Edge"),DN=Uae||Nm,Vae=gu("Gecko")&&!(iA().toLowerCase().indexOf("webkit")!=-1&&!gu("Edge"))&&!(gu("Trident")||gu("MSIE"))&&!gu("Edge"),Frt=iA().toLowerCase().indexOf("webkit")!=-1&&!gu("Edge");function zae(){var e=St.document;return e?e.documentMode:void 0}var $N;e:{var mP="",gP=function(){var e=iA();if(Vae)return/rv:([^\);]+)(\)|;)/.exec(e);if(Uae)return/Edge\/([\d\.]+)/.exec(e);if(Nm)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Frt)return/WebKit\/(\S+)/.exec(e);if(Mrt)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(gP&&(mP=gP?gP[1]:""),Nm){var yP=zae();if(yP!=null&&yP>parseFloat(mP)){$N=String(yP);break e}}$N=mP}var LN;if(St.document&&Nm){var Tz=zae();LN=Tz||parseInt($N,10)||void 0}else LN=void 0;var Brt=LN;function p_(e,t){if(ts.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vae){e:{try{mL(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:jrt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&p_.$.h.call(this)}}_i(p_,ts);var jrt={2:"touch",3:"pen",4:"mouse"};p_.prototype.h=function(){p_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xv="closure_listenable_"+(1e6*Math.random()|0),Urt=0;function Vrt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Urt,this.fa=this.ia=!1}function sA(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function gL(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function zrt(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Hae(e){const t={};for(const n in e)t[n]=e[n];return t}const Sz="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qae(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Sz.length;s++)n=Sz[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oA(e){this.src=e,this.g={},this.h=0}oA.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=FN(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Vrt(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function MN(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=jae(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sA(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function FN(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var yL="closure_lm_"+(1e6*Math.random()|0),_P={};function Wae(e,t,n,r,i){if(r&&r.once)return Gae(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Wae(e,t[s],n,r,i);return null}return n=bL(n),e&&e[xv]?e.O(t,n,Sv(r)?!!r.capture:!!r,i):Yae(e,t,n,!1,r,i)}function Yae(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Sv(i)?!!i.capture:!!i,a=vL(e);if(a||(e[yL]=a=new oA(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Hrt(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$rt||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qae(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Hrt(){function e(n){return t.call(e.src,e.listener,n)}const t=qrt;return e}function Gae(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Gae(e,t[s],n,r,i);return null}return n=bL(n),e&&e[xv]?e.P(t,n,Sv(r)?!!r.capture:!!r,i):Yae(e,t,n,!0,r,i)}function Kae(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Kae(e,t[s],n,r,i);else r=Sv(r)?!!r.capture:!!r,n=bL(n),e&&e[xv]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=FN(s,n,r,i),-1<n&&(sA(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=vL(e))&&(t=e.g[t.toString()],e=-1,t&&(e=FN(t,n,r,i)),(n=-1<e?t[e]:null)&&_L(n))}function _L(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[xv])MN(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vL(t))?(MN(n,e),n.h==0&&(n.src=null,t[yL]=null)):sA(e)}}}function Qae(e){return e in _P?_P[e]:_P[e]="on"+e}function qrt(e,t){if(e.fa)e=!0;else{t=new p_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&_L(e),e=n.call(r,t)}return e}function vL(e){return e=e[yL],e instanceof oA?e:null}var vP="__closure_events_fn_"+(1e9*Math.random()>>>0);function bL(e){return typeof e=="function"?e:(e[vP]||(e[vP]=function(t){return e.handleEvent(t)}),e[vP])}function mi(){zf.call(this),this.i=new oA(this),this.S=this,this.J=null}_i(mi,zf);mi.prototype[xv]=!0;mi.prototype.removeEventListener=function(e,t,n,r){Kae(this,e,t,n,r)};function Di(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ts(t,e);else if(t instanceof ts)t.target=t.target||e;else{var i=t;t=new ts(r,e),qae(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=eb(o,r,!0,t)&&i}if(o=t.g=e,i=eb(o,r,!0,t)&&i,i=eb(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=eb(o,r,!1,t)&&i}mi.prototype.N=function(){if(mi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)sA(n[r]);delete e.g[t],e.h--}}this.J=null};mi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};mi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function eb(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&MN(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var wL=St.JSON.stringify;class Wrt{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Yrt(){var e=EL;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Grt{constructor(){this.h=this.g=null}add(t,n){const r=Xae.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Xae=new Wrt(()=>new Krt,e=>e.reset());class Krt{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Qrt(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Xrt(e){St.setTimeout(()=>{throw e},0)}let m_,g_=!1,EL=new Grt,Jae=()=>{const e=St.Promise.resolve(void 0);m_=()=>{e.then(Jrt)}};var Jrt=()=>{for(var e;e=Yrt();){try{e.h.call(e.g)}catch(n){Xrt(n)}var t=Xae;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}g_=!1};function aA(e,t){mi.call(this),this.h=e||1,this.g=t||St,this.j=es(this.qb,this),this.l=Date.now()}_i(aA,mi);je=aA.prototype;je.ga=!1;je.T=null;je.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Di(this,"tick"),this.ga&&(TL(this),this.start()))}};je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function TL(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}je.N=function(){aA.$.N.call(this),TL(this),delete this.g};function SL(e,t,n){if(typeof e=="function")n&&(e=es(e,n));else if(e&&typeof e.handleEvent=="function")e=es(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:St.setTimeout(e,t||0)}function Zae(e){e.g=SL(()=>{e.g=null,e.i&&(e.i=!1,Zae(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class Zrt extends zf{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Zae(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function y_(e){zf.call(this),this.h=e,this.g={}}_i(y_,zf);var xz=[];function eue(e,t,n,r){Array.isArray(n)||(n&&(xz[0]=n.toString()),n=xz);for(var i=0;i<n.length;i++){var s=Wae(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function tue(e){gL(e.g,function(t,n){this.g.hasOwnProperty(n)&&_L(t)},e),e.g={}}y_.prototype.N=function(){y_.$.N.call(this),tue(this)};y_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function uA(){this.g=!0}uA.prototype.Ea=function(){this.g=!1};function eit(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function tit(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function wp(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+rit(e,n)+(r?" "+r:"")})}function nit(e,t){e.info(function(){return"TIMEOUT: "+t})}uA.prototype.info=function(){};function rit(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return wL(n)}catch{return t}}var Ih={},Iz=null;function lA(){return Iz=Iz||new mi}Ih.Ta="serverreachability";function nue(e){ts.call(this,Ih.Ta,e)}_i(nue,ts);function __(e){const t=lA();Di(t,new nue(t))}Ih.STAT_EVENT="statevent";function rue(e,t){ts.call(this,Ih.STAT_EVENT,e),this.stat=t}_i(rue,ts);function ds(e){const t=lA();Di(t,new rue(t,e))}Ih.Ua="timingevent";function iue(e,t){ts.call(this,Ih.Ua,e),this.size=t}_i(iue,ts);function Iv(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){e()},t)}var cA={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sue={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xL(){}xL.prototype.h=null;function Az(e){return e.h||(e.h=e.i())}function oue(){}var Av={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function IL(){ts.call(this,"d")}_i(IL,ts);function AL(){ts.call(this,"c")}_i(AL,ts);var BN;function fA(){}_i(fA,xL);fA.prototype.g=function(){return new XMLHttpRequest};fA.prototype.i=function(){return{}};BN=new fA;function Cv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new y_(this),this.P=iit,e=DN?125:void 0,this.V=new aA(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aue}function aue(){this.i=null,this.g="",this.h=!1}var iit=45e3,uue={},jN={};je=Cv.prototype;je.setTimeout=function(e){this.P=e};function UN(e,t,n){e.L=1,e.A=hA(Kl(t)),e.u=n,e.S=!0,lue(e,null)}function lue(e,t){e.G=Date.now(),Ov(e),e.B=Kl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),yue(n.i,"t",r),e.o=0,n=e.l.J,e.h=new aue,e.g=Fue(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Zrt(es(e.Pa,e,e.g),e.O)),eue(e.U,e.g,"readystatechange",e.nb),t=e.I?Hae(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),__(),eit(e.j,e.v,e.B,e.m,e.W,e.u)}je.nb=function(e){e=e.target;const t=this.M;t&&wu(e)==3?t.l():this.Pa(e)};je.Pa=function(e){try{if(e==this.g)e:{const c=wu(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||DN||this.g&&(this.h.h||this.g.ja()||Rz(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?__(3):__(2)),dA(this);var n=this.g.da();this.ca=n;t:if(cue(this)){var r=Rz(this.g);e="";var i=r.length,s=wu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Id(this),fy(this);var o="";break t}this.h.i=new St.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,tit(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!h_(a)){var l=a;break t}}l=null}if(n=l)wp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,VN(this,n);else{this.i=!1,this.s=3,ds(12),Id(this),fy(this);break e}}this.S?(fue(this,c,o),DN&&this.i&&c==3&&(eue(this.U,this.V,"tick",this.mb),this.V.start())):(wp(this.j,this.m,o,null),VN(this,o)),c==4&&Id(this),this.i&&!this.J&&(c==4?Due(this.l,this):(this.i=!1,Ov(this)))}else xit(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ds(12)):(this.s=0,ds(13)),Id(this),fy(this)}}}catch{}finally{}};function cue(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function fue(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=sit(e,n),i==jN){t==4&&(e.s=4,ds(14),r=!1),wp(e.j,e.m,null,"[Incomplete Response]");break}else if(i==uue){e.s=4,ds(15),wp(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else wp(e.j,e.m,i,null),VN(e,i);cue(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ds(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kL(t),t.M=!0,ds(11))):(wp(e.j,e.m,n,"[Invalid Chunked Response]"),Id(e),fy(e))}je.mb=function(){if(this.g){var e=wu(this.g),t=this.g.ja();this.o<t.length&&(dA(this),fue(this,e,t),this.i&&e!=4&&Ov(this))}};function sit(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?jN:(n=Number(t.substring(n,r)),isNaN(n)?uue:(r+=1,r+n>t.length?jN:(t=t.slice(r,r+n),e.o=r+n,t)))}je.cancel=function(){this.J=!0,Id(this)};function Ov(e){e.Y=Date.now()+e.P,due(e,e.P)}function due(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Iv(es(e.lb,e),t)}function dA(e){e.C&&(St.clearTimeout(e.C),e.C=null)}je.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(nit(this.j,this.B),this.L!=2&&(__(),ds(17)),Id(this),this.s=2,fy(this)):due(this,this.Y-e)};function fy(e){e.l.H==0||e.J||Due(e.l,e)}function Id(e){dA(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,TL(e.V),tue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function VN(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||zN(n.i,e))){if(!e.K&&zN(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)kS(n),yA(n);else break e;NL(n),ds(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Iv(es(n.ib,n),6e3));if(1>=bue(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ad(n,11)}else if((e.K||n.g==e)&&kS(n),!h_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(CL(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Jn(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=Mue(r,r.J?r.pa:null,r.Y),o.K){wue(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(dA(a),Ov(a)),r.g=o}else Nue(r);0<n.j.length&&_A(n)}else l[0]!="stop"&&l[0]!="close"||Ad(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Ad(n,7):RL(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}__(4)}catch{}}function oit(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(rA(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ait(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(rA(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function hue(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(rA(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=ait(e),r=oit(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var pue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uit(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ld(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ld){this.h=e.h,RS(this,e.j),this.s=e.s,this.g=e.g,NS(this,e.m),this.l=e.l;var t=e.i,n=new v_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Cz(this,n),this.o=e.o}else e&&(t=String(e).match(pue))?(this.h=!1,RS(this,t[1]||"",!0),this.s=C0(t[2]||""),this.g=C0(t[3]||"",!0),NS(this,t[4]),this.l=C0(t[5]||"",!0),Cz(this,t[6]||"",!0),this.o=C0(t[7]||"")):(this.h=!1,this.i=new v_(null,this.h))}Ld.prototype.toString=function(){var e=[],t=this.j;t&&e.push(O0(t,Oz,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(O0(t,Oz,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(O0(n,n.charAt(0)=="/"?fit:cit,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",O0(n,hit)),e.join("")};function Kl(e){return new Ld(e)}function RS(e,t,n){e.j=n?C0(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function NS(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Cz(e,t,n){t instanceof v_?(e.i=t,pit(e.i,e.h)):(n||(t=O0(t,dit)),e.i=new v_(t,e.h))}function Jn(e,t,n){e.i.set(t,n)}function hA(e){return Jn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function C0(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function O0(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,lit),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lit(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Oz=/[#\/\?@]/g,cit=/[#\?:]/g,fit=/[#\?]/g,dit=/[#\?@]/g,hit=/#/g;function v_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hf(e){e.g||(e.g=new Map,e.h=0,e.i&&uit(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}je=v_.prototype;je.add=function(e,t){Hf(this),this.i=null,e=gg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function mue(e,t){Hf(e),t=gg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function gue(e,t){return Hf(e),t=gg(e,t),e.g.has(t)}je.forEach=function(e,t){Hf(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};je.ta=function(){Hf(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};je.Z=function(e){Hf(this);let t=[];if(typeof e=="string")gue(this,e)&&(t=t.concat(this.g.get(gg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};je.set=function(e,t){return Hf(this),this.i=null,e=gg(this,e),gue(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};je.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function yue(e,t,n){mue(e,t),0<n.length&&(e.i=null,e.g.set(gg(e,t),pL(n)),e.h+=n.length)}je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function gg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function pit(e,t){t&&!e.j&&(Hf(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(mue(this,r),yue(this,i,n))},e)),e.j=t}var mit=class{constructor(e,t){this.g=e,this.map=t}};function _ue(e){this.l=e||git,St.PerformanceNavigationTiming?(e=St.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var git=10;function vue(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function bue(e){return e.h?1:e.g?e.g.size:0}function zN(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function CL(e,t){e.g?e.g.add(t):e.h=t}function wue(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}_ue.prototype.cancel=function(){if(this.i=Eue(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Eue(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return pL(e.i)}var yit=class{stringify(e){return St.JSON.stringify(e,void 0)}parse(e){return St.JSON.parse(e,void 0)}};function _it(){this.g=new yit}function vit(e,t,n){const r=n||"";try{hue(e,function(i,s){let o=i;Sv(i)&&(o=wL(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bit(e,t){const n=new uA;if(St.Image){const r=new Image;r.onload=Z1(tb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Z1(tb,n,r,"TestLoadImage: error",!1,t),r.onabort=Z1(tb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Z1(tb,n,r,"TestLoadImage: timeout",!1,t),St.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function tb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function pA(e){this.l=e.ec||null,this.j=e.ob||!1}_i(pA,xL);pA.prototype.g=function(){return new mA(this.l,this.j)};pA.prototype.i=function(e){return function(){return e}}({});function mA(e,t){mi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=OL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_i(mA,mi);var OL=0;je=mA.prototype;je.open=function(e,t){if(this.readyState!=OL)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,b_(this)};je.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||St).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pv(this)),this.readyState=OL};je.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,b_(this)),this.g&&(this.readyState=3,b_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tue(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Tue(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}je.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pv(this):b_(this),this.readyState==3&&Tue(this)}};je.Za=function(e){this.g&&(this.response=this.responseText=e,Pv(this))};je.Ya=function(e){this.g&&(this.response=e,Pv(this))};je.ka=function(){this.g&&Pv(this)};function Pv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,b_(e)}je.setRequestHeader=function(e,t){this.v.append(e,t)};je.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};je.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function b_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(mA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var wit=St.JSON.parse;function Or(e){mi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sue,this.L=this.M=!1}_i(Or,mi);var Sue="",Eit=/^https?$/i,Tit=["POST","PUT"];je=Or.prototype;je.Oa=function(e){this.M=e};je.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():BN.g(),this.C=this.u?Az(this.u):Az(BN),this.g.onreadystatechange=es(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Pz(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=St.FormData&&e instanceof St.FormData,!(0<=jae(Tit,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Aue(this),0<this.B&&((this.L=Sit(this.g))?(this.g.timeout=this.B,this.g.ontimeout=es(this.ua,this)):this.A=SL(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Pz(this,s)}};function Sit(e){return Nm&&typeof e.timeout=="number"&&e.ontimeout!==void 0}je.ua=function(){typeof hL<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Di(this,"timeout"),this.abort(8))};function Pz(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xue(e),gA(e)}function xue(e){e.F||(e.F=!0,Di(e,"complete"),Di(e,"error"))}je.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Di(this,"complete"),Di(this,"abort"),gA(this))};je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gA(this,!0)),Or.$.N.call(this)};je.La=function(){this.s||(this.G||this.v||this.l?Iue(this):this.kb())};je.kb=function(){Iue(this)};function Iue(e){if(e.h&&typeof hL<"u"&&(!e.C[1]||wu(e)!=4||e.da()!=2)){if(e.v&&wu(e)==4)SL(e.La,0,e);else if(Di(e,"readystatechange"),wu(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(pue)[1]||null;!i&&St.self&&St.self.location&&(i=St.self.location.protocol.slice(0,-1)),r=!Eit.test(i?i.toLowerCase():"")}n=r}if(n)Di(e,"complete"),Di(e,"success");else{e.m=6;try{var s=2<wu(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",xue(e)}}finally{gA(e)}}}}function gA(e,t){if(e.g){Aue(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Di(e,"ready");try{n.onreadystatechange=r}catch{}}}function Aue(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(St.clearTimeout(e.A),e.A=null)}je.isActive=function(){return!!this.g};function wu(e){return e.g?e.g.readyState:0}je.da=function(){try{return 2<wu(this)?this.g.status:-1}catch{return-1}};je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};je.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),wit(t)}};function Rz(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Sue:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function xit(e){const t={};e=(e.g&&2<=wu(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(h_(e[r]))continue;var n=Qrt(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}zrt(t,function(r){return r.join(", ")})}je.Ia=function(){return this.m};je.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Cue(e){let t="";return gL(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function PL(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Cue(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Jn(e,t,n))}function a0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Oue(e){this.Ga=0,this.j=[],this.l=new uA,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=a0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=a0("baseRetryDelayMs",5e3,e),this.hb=a0("retryDelaySeedMs",1e4,e),this.eb=a0("forwardChannelMaxRetries",2,e),this.xa=a0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new _ue(e&&e.concurrentRequestLimit),this.Ja=new _it,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}je=Oue.prototype;je.ra=8;je.H=1;function RL(e){if(Pue(e),e.H==3){var t=e.W++,n=Kl(e.I);if(Jn(n,"SID",e.K),Jn(n,"RID",t),Jn(n,"TYPE","terminate"),Rv(e,n),t=new Cv(e,e.l,t),t.L=2,t.A=hA(Kl(n)),n=!1,St.navigator&&St.navigator.sendBeacon)try{n=St.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&St.Image&&(new Image().src=t.A,n=!0),n||(t.g=Fue(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ov(t)}Lue(e)}function yA(e){e.g&&(kL(e),e.g.cancel(),e.g=null)}function Pue(e){yA(e),e.u&&(St.clearTimeout(e.u),e.u=null),kS(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&St.clearTimeout(e.m),e.m=null)}function _A(e){if(!vue(e.i)&&!e.m){e.m=!0;var t=e.Na;m_||Jae(),g_||(m_(),g_=!0),EL.add(t,e),e.C=0}}function Iit(e,t){return bue(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Iv(es(e.Na,e,t),$ue(e,e.C)),e.C++,!0)}je.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Cv(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Hae(s),qae(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Rue(this,i,t),n=Kl(this.I),Jn(n,"RID",e),Jn(n,"CVER",22),this.F&&Jn(n,"X-HTTP-Session-Id",this.F),Rv(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Cue(s)))+"&"+t:this.o&&PL(n,this.o,s)),CL(this.i,i),this.bb&&Jn(n,"TYPE","init"),this.P?(Jn(n,"$req",t),Jn(n,"SID","null"),i.aa=!0,UN(i,n,null)):UN(i,n,t),this.H=2}}else this.H==3&&(e?Nz(this,e):this.j.length==0||vue(this.i)||Nz(this))};function Nz(e,t){var n;t?n=t.m:n=e.W++;const r=Kl(e.I);Jn(r,"SID",e.K),Jn(r,"RID",n),Jn(r,"AID",e.V),Rv(e,r),e.o&&e.s&&PL(r,e.o,e.s),n=new Cv(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Rue(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),CL(e.i,n),UN(n,r,t)}function Rv(e,t){e.na&&gL(e.na,function(n,r){Jn(t,r,n)}),e.h&&hue({},function(n,r){Jn(t,r,n)})}function Rue(e,t,n){n=Math.min(e.j.length,n);var r=e.h?es(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{vit(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Nue(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;m_||Jae(),g_||(m_(),g_=!0),EL.add(t,e),e.A=0}}function NL(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Iv(es(e.Ma,e),$ue(e,e.A)),e.A++,!0)}je.Ma=function(){if(this.u=null,kue(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Iv(es(this.jb,this),e)}};je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ds(10),yA(this),kue(this))};function kL(e){e.B!=null&&(St.clearTimeout(e.B),e.B=null)}function kue(e){e.g=new Cv(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Kl(e.wa);Jn(t,"RID","rpc"),Jn(t,"SID",e.K),Jn(t,"AID",e.V),Jn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Jn(t,"TO",e.qa),Jn(t,"TYPE","xmlhttp"),Rv(e,t),e.o&&e.s&&PL(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=hA(Kl(t)),n.u=null,n.S=!0,lue(n,e)}je.ib=function(){this.v!=null&&(this.v=null,yA(this),NL(this),ds(19))};function kS(e){e.v!=null&&(St.clearTimeout(e.v),e.v=null)}function Due(e,t){var n=null;if(e.g==t){kS(e),kL(e),e.g=null;var r=2}else if(zN(e.i,t))n=t.F,wue(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=lA(),Di(r,new iue(r,n)),_A(e)}else Nue(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&Iit(e,t)||r==2&&NL(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ad(e,5);break;case 4:Ad(e,10);break;case 3:Ad(e,6);break;default:Ad(e,2)}}}function $ue(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ad(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=es(e.pb,e);n||(n=new Ld("//www.google.com/images/cleardot.gif"),St.location&&St.location.protocol=="http"||RS(n,"https"),hA(n)),bit(n.toString(),r)}else ds(2);e.H=0,e.h&&e.h.za(t),Lue(e),Pue(e)}je.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ds(2)):(this.l.info("Failed to ping google.com"),ds(1))};function Lue(e){if(e.H=0,e.ma=[],e.h){const t=Eue(e.i);(t.length!=0||e.j.length!=0)&&(Ez(e.ma,t),Ez(e.ma,e.j),e.i.i.length=0,pL(e.j),e.j.length=0),e.h.ya()}}function Mue(e,t,n){var r=n instanceof Ld?Kl(n):new Ld(n);if(r.g!="")t&&(r.g=t+"."+r.g),NS(r,r.m);else{var i=St.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ld(null);r&&RS(s,r),t&&(s.g=t),i&&NS(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Jn(r,n,t),Jn(r,"VER",e.ra),Rv(e,r),r}function Fue(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Or(new pA({ob:n})):new Or(e.va),t.Oa(e.J),t}je.isActive=function(){return!!this.h&&this.h.isActive(this)};function Bue(){}je=Bue.prototype;je.Ba=function(){};je.Aa=function(){};je.za=function(){};je.ya=function(){};je.isActive=function(){return!0};je.Va=function(){};function DS(){if(Nm&&!(10<=Number(Brt)))throw Error("Environmental error: no available transport.")}DS.prototype.g=function(e,t){return new To(e,t)};function To(e,t){mi.call(this),this.g=new Oue(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!h_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!h_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new yg(this)}_i(To,mi);To.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ds(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Mue(e,null,e.Y),_A(e)};To.prototype.close=function(){RL(this.g)};To.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=wL(e),e=n);t.j.push(new mit(t.fb++,e)),t.H==3&&_A(t)};To.prototype.N=function(){this.g.h=null,delete this.j,RL(this.g),delete this.g,To.$.N.call(this)};function jue(e){IL.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}_i(jue,IL);function Uue(){AL.call(this),this.status=1}_i(Uue,AL);function yg(e){this.g=e}_i(yg,Bue);yg.prototype.Ba=function(){Di(this.g,"a")};yg.prototype.Aa=function(e){Di(this.g,new jue(e))};yg.prototype.za=function(e){Di(this.g,new Uue)};yg.prototype.ya=function(){Di(this.g,"b")};function Ait(){this.blockSize=-1}function ja(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_i(ja,Ait);ja.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bP(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}ja.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)bP(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){bP(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){bP(this,r),i=0;break}}this.h=i,this.i+=t};ja.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Nn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Cit={};function DL(e){return-128<=e&&128>e?Lrt(e,function(t){return new Nn([t|0],0>t?-1:0)}):new Nn([e|0],0>e?-1:0)}function Eu(e){if(isNaN(e)||!isFinite(e))return Yp;if(0>e)return Pi(Eu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=HN;return new Nn(t,0)}function Vue(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Pi(Vue(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Eu(Math.pow(t,8)),r=Yp,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Eu(Math.pow(t,s)),r=r.R(s).add(Eu(o))):(r=r.R(n),r=r.add(Eu(o)))}return r}var HN=4294967296,Yp=DL(0),qN=DL(1),kz=DL(16777216);je=Nn.prototype;je.ea=function(){if(zo(this))return-Pi(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:HN+r)*t,t*=HN}return e};je.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(bl(this))return"0";if(zo(this))return"-"+Pi(this).toString(e);for(var t=Eu(Math.pow(e,6)),n=this,r="";;){var i=LS(n,t).g;n=$S(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,bl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};je.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function bl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function zo(e){return e.h==-1}je.X=function(e){return e=$S(this,e),zo(e)?-1:bl(e)?0:1};function Pi(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nn(n,~e.h).add(qN)}je.abs=function(){return zo(this)?Pi(this):this};je.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Nn(n,n[n.length-1]&-2147483648?-1:0)};function $S(e,t){return e.add(Pi(t))}je.R=function(e){if(bl(this)||bl(e))return Yp;if(zo(this))return zo(e)?Pi(this).R(Pi(e)):Pi(Pi(this).R(e));if(zo(e))return Pi(this.R(Pi(e)));if(0>this.X(kz)&&0>e.X(kz))return Eu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,nb(n,2*r+2*i),n[2*r+2*i+1]+=s*u,nb(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,nb(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,nb(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nn(n,0)};function nb(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function u0(e,t){this.g=e,this.h=t}function LS(e,t){if(bl(t))throw Error("division by zero");if(bl(e))return new u0(Yp,Yp);if(zo(e))return t=LS(Pi(e),t),new u0(Pi(t.g),Pi(t.h));if(zo(t))return t=LS(e,Pi(t)),new u0(Pi(t.g),t.h);if(30<e.g.length){if(zo(e)||zo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=qN,r=t;0>=r.X(e);)n=Dz(n),r=Dz(r);var i=zh(n,1),s=zh(r,1);for(r=zh(r,2),n=zh(n,2);!bl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=zh(r,1),n=zh(n,1)}return t=$S(e,i.R(t)),new u0(i,t)}for(i=Yp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Eu(n),o=s.R(t);zo(o)||0<o.X(e);)n-=r,s=Eu(n),o=s.R(t);bl(s)&&(s=qN),i=i.add(s),e=$S(e,o)}return new u0(i,e)}je.gb=function(e){return LS(this,e).h};je.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nn(n,this.h&e.h)};je.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nn(n,this.h|e.h)};je.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nn(n,this.h^e.h)};function Dz(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nn(n,e.h)}function zh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nn(i,e.h)}DS.prototype.createWebChannel=DS.prototype.g;To.prototype.send=To.prototype.u;To.prototype.open=To.prototype.m;To.prototype.close=To.prototype.close;cA.NO_ERROR=0;cA.TIMEOUT=8;cA.HTTP_ERROR=6;sue.COMPLETE="complete";oue.EventType=Av;Av.OPEN="a";Av.CLOSE="b";Av.ERROR="c";Av.MESSAGE="d";mi.prototype.listen=mi.prototype.O;Or.prototype.listenOnce=Or.prototype.P;Or.prototype.getLastError=Or.prototype.Sa;Or.prototype.getLastErrorCode=Or.prototype.Ia;Or.prototype.getStatus=Or.prototype.da;Or.prototype.getResponseJson=Or.prototype.Wa;Or.prototype.getResponseText=Or.prototype.ja;Or.prototype.send=Or.prototype.ha;Or.prototype.setWithCredentials=Or.prototype.Oa;ja.prototype.digest=ja.prototype.l;ja.prototype.reset=ja.prototype.reset;ja.prototype.update=ja.prototype.j;Nn.prototype.add=Nn.prototype.add;Nn.prototype.multiply=Nn.prototype.R;Nn.prototype.modulo=Nn.prototype.gb;Nn.prototype.compare=Nn.prototype.X;Nn.prototype.toNumber=Nn.prototype.ea;Nn.prototype.toString=Nn.prototype.toString;Nn.prototype.getBits=Nn.prototype.D;Nn.fromNumber=Eu;Nn.fromString=Vue;var Oit=function(){return new DS},Pit=function(){return lA()},wP=cA,Rit=sue,Nit=Ih,$z={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rb=oue,kit=Or,Dit=ja,Gp=Nn;const Lz="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new nA("@firebase/firestore");function l0(){return ih.logLevel}function tt(e,...t){if(ih.logLevel<=rn.DEBUG){const n=t.map($L);ih.debug(`Firestore (${_g}): ${e}`,...n)}}function Ql(e,...t){if(ih.logLevel<=rn.ERROR){const n=t.map($L);ih.error(`Firestore (${_g}): ${e}`,...n)}}function w_(e,...t){if(ih.logLevel<=rn.WARN){const n=t.map($L);ih.warn(`Firestore (${_g}): ${e}`,...n)}}function $L(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(e="Unexpected state"){const t=`FIRESTORE (${_g}) INTERNAL ASSERTION FAILED: `+e;throw Ql(t),new Error(t)}function Yn(e,t){e||vt()}function Nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Ju{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $it{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Lit{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ps.UNAUTHENTICATED))}shutdown(){}}class Mit{constructor(t){this.t=t,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Pl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pl,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pl)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yn(typeof r.accessToken=="string"),new $it(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Yn(t===null||typeof t=="string"),new Ps(t)}}class Fit{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Bit{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fit(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jit{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uit{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yn(typeof n.token=="string"),this.R=n.token,new jit(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vit(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Vit(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function xn(e,t){return e<t?-1:e>t?1:0}function km(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new He(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ni.fromMillis(Date.now())}static fromDate(t){return ni.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ni(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?xn(this.nanoseconds,t.nanoseconds):xn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new ni(0,0))}static max(){return new It(new ni(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(t,n,r){n===void 0?n=0:n>t.length&&vt(),r===void 0?r=t.length-n:r>t.length-n&&vt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return E_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof E_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Zn extends E_{construct(t,n,r){return new Zn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new He(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Zn(n)}static emptyPath(){return new Zn([])}}const zit=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends E_{construct(t,n,r){return new Ri(t,n,r)}static isValidIdentifier(t){return zit.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ri(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new He(xe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new He(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new He(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new He(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ri(n)}static emptyPath(){return new Ri([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Zn.fromString(t))}static fromName(t){return new ct(Zn.fromString(t).popFirst(5))}static empty(){return new ct(Zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Zn(t.slice()))}}function Hit(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new ni(n+1,0):new ni(n,r));return new If(i,ct.empty(),t)}function qit(e){return new If(e.readTime,e.key,-1)}class If{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new If(It.min(),ct.empty(),-1)}static max(){return new If(It.max(),ct.empty(),-1)}}function Wit(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(e.documentKey,t.documentKey),n!==0?n:xn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yit="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Git{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nv(e){if(e.code!==xe.FAILED_PRECONDITION||e.message!==Yit)throw e;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.reject(n)}static resolve(t){return new Ce((n,r)=>{n(t)})}static reject(t){return new Ce((n,r)=>{r(t)})}static waitFor(t){return new Ce((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Ce.resolve(!1);for(const r of t)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Ce((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Ce((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function kv(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}LL._e=-1;function vA(e){return e==null}function MS(e){return e===0&&1/e==-1/0}function Kit(e){return typeof e=="number"&&Number.isInteger(e)&&!MS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,n){this.comparator=t,this.root=n||Ai.EMPTY}insert(t,n){return new vr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(t){return new vr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ib(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ib(this.root,t,this.comparator,!1)}getReverseIterator(){return new ib(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ib(this.root,t,this.comparator,!0)}}class ib{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ai{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ai.RED,this.left=i??Ai.EMPTY,this.right=s??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ai(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1;Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ai(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.comparator=t,this.data=new vr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fz(this.data.getIterator())}getIteratorFrom(t){return new Fz(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof $i)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new $i(this.comparator);return n.data=t,n}}class Fz{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.fields=t,t.sort(Ri.comparator)}static empty(){return new Pa([])}unionWith(t){let n=new $i(Ri.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Pa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return km(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new que("Invalid base64 string: "+s):s}}(t);return new ss(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new ss(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const Qit=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Af(e){if(Yn(!!e),typeof e=="string"){let t=0;const n=Qit.exec(e);if(Yn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ur(e.seconds),nanos:Ur(e.nanos)}}function Ur(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function sh(e){return typeof e=="string"?ss.fromBase64String(e):ss.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FL(e){const t=e.mapValue.fields.__previous_value__;return ML(t)?FL(t):t}function T_(e){const t=Af(e.mapValue.fields.__local_write_time__.timestampValue);return new ni(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xit{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class S_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new S_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof S_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ML(e)?4:Jit(e)?9007199254740991:10:vt()}function Hu(e,t){if(e===t)return!0;const n=oh(e);if(n!==oh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return T_(e).isEqual(T_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Af(i.timestampValue),a=Af(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return sh(i.bytesValue).isEqual(sh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Ur(i.geoPointValue.latitude)===Ur(s.geoPointValue.latitude)&&Ur(i.geoPointValue.longitude)===Ur(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ur(i.integerValue)===Ur(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ur(i.doubleValue),a=Ur(s.doubleValue);return o===a?MS(o)===MS(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return km(e.arrayValue.values||[],t.arrayValue.values||[],Hu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Mz(o)!==Mz(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Hu(o[u],a[u])))return!1;return!0}(e,t);default:return vt()}}function x_(e,t){return(e.values||[]).find(n=>Hu(n,t))!==void 0}function Dm(e,t){if(e===t)return 0;const n=oh(e),r=oh(t);if(n!==r)return xn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Ur(s.integerValue||s.doubleValue),u=Ur(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return Bz(e.timestampValue,t.timestampValue);case 4:return Bz(T_(e),T_(t));case 5:return xn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=sh(s),u=sh(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=xn(a[l],u[l]);if(c!==0)return c}return xn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=xn(Ur(s.latitude),Ur(o.latitude));return a!==0?a:xn(Ur(s.longitude),Ur(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Dm(a[l],u[l]);if(c)return c}return xn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===sb.mapValue&&o===sb.mapValue)return 0;if(s===sb.mapValue)return 1;if(o===sb.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=xn(u[f],c[f]);if(d!==0)return d;const h=Dm(a[u[f]],l[c[f]]);if(h!==0)return h}return xn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw vt()}}function Bz(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xn(e,t);const n=Af(e),r=Af(t),i=xn(n.seconds,r.seconds);return i!==0?i:xn(n.nanos,r.nanos)}function $m(e){return WN(e)}function WN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Af(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return sh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ct.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=WN(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${WN(n.fields[o])}`;return i+"}"}(e.mapValue):vt()}function jz(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function YN(e){return!!e&&"integerValue"in e}function BL(e){return!!e&&"arrayValue"in e}function Uz(e){return!!e&&"nullValue"in e}function Vz(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tw(e){return!!e&&"mapValue"in e}function dy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vg(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=dy(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Jit(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t){this.value=t}static empty(){return new Ho({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!tw(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dy(n)}setAll(t){let n=Ri.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dy(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());tw(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hu(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];tw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){vg(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ho(dy(this.value))}}function Wue(e){const t=[];return vg(e.fields,(n,r)=>{const i=new Ri([n]);if(tw(r)){const s=Wue(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Pa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ji(t,0,It.min(),It.min(),It.min(),Ho.empty(),0)}static newFoundDocument(t,n,r,i){return new Ji(t,1,n,It.min(),r,i,0)}static newNoDocument(t,n){return new Ji(t,2,n,It.min(),It.min(),Ho.empty(),0)}static newUnknownDocument(t,n){return new Ji(t,3,n,It.min(),It.min(),Ho.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ho.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ho.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ji&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n){this.position=t,this.inclusive=n}}function zz(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ct.comparator(ct.fromName(o.referenceValue),n.key):r=Dm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hz(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hu(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(t,n="asc"){this.field=t,this.dir=n}}function Zit(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{}class qr extends Yue{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new tst(t,n,r):n==="array-contains"?new ist(t,r):n==="in"?new sst(t,r):n==="not-in"?new ost(t,r):n==="array-contains-any"?new ast(t,r):new qr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new nst(t,r):new rst(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Dm(n,this.value)):n!==null&&oh(this.value)===oh(n)&&this.matchesComparison(Dm(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ua extends Yue{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Ua(t,n)}matches(t){return Gue(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Gue(e){return e.op==="and"}function Kue(e){return est(e)&&Gue(e)}function est(e){for(const t of e.filters)if(t instanceof Ua)return!1;return!0}function GN(e){if(e instanceof qr)return e.field.canonicalString()+e.op.toString()+$m(e.value);if(Kue(e))return e.filters.map(t=>GN(t)).join(",");{const t=e.filters.map(n=>GN(n)).join(",");return`${e.op}(${t})`}}function Que(e,t){return e instanceof qr?function(r,i){return i instanceof qr&&r.op===i.op&&r.field.isEqual(i.field)&&Hu(r.value,i.value)}(e,t):e instanceof Ua?function(r,i){return i instanceof Ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Que(o,i.filters[a]),!0):!1}(e,t):void vt()}function Xue(e){return e instanceof qr?function(n){return`${n.field.canonicalString()} ${n.op} ${$m(n.value)}`}(e):e instanceof Ua?function(n){return n.op.toString()+" {"+n.getFilters().map(Xue).join(" ,")+"}"}(e):"Filter"}class tst extends qr{constructor(t,n,r){super(t,n,r),this.key=ct.fromName(r.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class nst extends qr{constructor(t,n){super(t,"in",n),this.keys=Jue("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class rst extends qr{constructor(t,n){super(t,"not-in",n),this.keys=Jue("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Jue(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ct.fromName(r.referenceValue))}class ist extends qr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return BL(n)&&x_(n.arrayValue,this.value)}}class sst extends qr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&x_(this.value.arrayValue,n)}}class ost extends qr{constructor(t,n){super(t,"not-in",n)}matches(t){if(x_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!x_(this.value.arrayValue,n)}}class ast extends qr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!BL(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>x_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ust{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function qz(e,t=null,n=[],r=[],i=null,s=null,o=null){return new ust(e,t,n,r,i,s,o)}function jL(e){const t=Nt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>GN(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>$m(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>$m(r)).join(",")),t.ce=n}return t.ce}function UL(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Zit(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Que(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hz(e.startAt,t.startAt)&&Hz(e.endAt,t.endAt)}function KN(e){return ct.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function lst(e,t,n,r,i,s,o,a){return new bg(e,t,n,r,i,s,o,a)}function VL(e){return new bg(e)}function Wz(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Zue(e){return e.collectionGroup!==null}function hy(e){const t=Nt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $i(Ri.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new I_(s,r))}),n.has(Ri.keyField().canonicalString())||t.le.push(new I_(Ri.keyField(),r))}return t.le}function Nu(e){const t=Nt(e);return t.he||(t.he=cst(t,hy(e))),t.he}function cst(e,t){if(e.limitType==="F")return qz(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new I_(i.field,s)});const n=e.endAt?new FS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new FS(e.startAt.position,e.startAt.inclusive):null;return qz(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function QN(e,t){const n=e.filters.concat([t]);return new bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function XN(e,t,n){return new bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bA(e,t){return UL(Nu(e),Nu(t))&&e.limitType===t.limitType}function ele(e){return`${jL(Nu(e))}|lt:${e.limitType}`}function Xh(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Xue(i)).join(", ")}]`),vA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$m(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$m(i)).join(",")),`Target(${r})`}(Nu(e))}; limitType=${e.limitType})`}function wA(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of hy(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=zz(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,hy(r),i)||r.endAt&&!function(o,a,u){const l=zz(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,hy(r),i))}(e,t)}function fst(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tle(e){return(t,n)=>{let r=!1;for(const i of hy(e)){const s=dst(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dst(e,t,n){const r=e.field.isKeyField()?ct.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Dm(u,l):vt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){vg(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Hue(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hst=new vr(ct.comparator);function Xl(){return hst}const nle=new vr(ct.comparator);function P0(...e){let t=nle;for(const n of e)t=t.insert(n.key,n);return t}function rle(e){let t=nle;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Cd(){return py()}function ile(){return py()}function py(){return new wg(e=>e.toString(),(e,t)=>e.isEqual(t))}const pst=new vr(ct.comparator),mst=new $i(ct.comparator);function Kt(...e){let t=mst;for(const n of e)t=t.add(n);return t}const gst=new $i(xn);function yst(){return gst}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sle(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:MS(t)?"-0":t}}function ole(e){return{integerValue:""+e}}function _st(e,t){return Kit(t)?ole(t):sle(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this._=void 0}}function vst(e,t,n){return e instanceof A_?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ML(s)&&(s=FL(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof C_?ule(e,t):e instanceof O_?lle(e,t):function(i,s){const o=ale(i,s),a=Yz(o)+Yz(i.Ie);return YN(o)&&YN(i.Ie)?ole(a):sle(i.serializer,a)}(e,t)}function bst(e,t,n){return e instanceof C_?ule(e,t):e instanceof O_?lle(e,t):n}function ale(e,t){return e instanceof BS?function(r){return YN(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class A_ extends EA{}class C_ extends EA{constructor(t){super(),this.elements=t}}function ule(e,t){const n=cle(t);for(const r of e.elements)n.some(i=>Hu(i,r))||n.push(r);return{arrayValue:{values:n}}}class O_ extends EA{constructor(t){super(),this.elements=t}}function lle(e,t){let n=cle(t);for(const r of e.elements)n=n.filter(i=>!Hu(i,r));return{arrayValue:{values:n}}}class BS extends EA{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Yz(e){return Ur(e.integerValue||e.doubleValue)}function cle(e){return BL(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wst{constructor(t,n){this.field=t,this.transform=n}}function Est(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof C_&&i instanceof C_||r instanceof O_&&i instanceof O_?km(r.elements,i.elements,Hu):r instanceof BS&&i instanceof BS?Hu(r.Ie,i.Ie):r instanceof A_&&i instanceof A_}(e.transform,t.transform)}class Tst{constructor(t,n){this.version=t,this.transformResults=n}}class Rl{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Rl}static exists(t){return new Rl(void 0,t)}static updateTime(t){return new Rl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nw(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class TA{}function fle(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hle(e.key,Rl.none()):new Dv(e.key,e.data,Rl.none());{const n=e.data,r=Ho.empty();let i=new $i(Ri.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ah(e.key,r,new Pa(i.toArray()),Rl.none())}}function Sst(e,t,n){e instanceof Dv?function(i,s,o){const a=i.value.clone(),u=Kz(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ah?function(i,s,o){if(!nw(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Kz(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(dle(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function my(e,t,n,r){return e instanceof Dv?function(s,o,a,u){if(!nw(s.precondition,o))return a;const l=s.value.clone(),c=Qz(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ah?function(s,o,a,u){if(!nw(s.precondition,o))return a;const l=Qz(s.fieldTransforms,u,o),c=o.data;return c.setAll(dle(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return nw(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function xst(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=ale(r.transform,i||null);s!=null&&(n===null&&(n=Ho.empty()),n.set(r.field,s))}return n||null}function Gz(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&km(r,i,(s,o)=>Est(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dv extends TA{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ah extends TA{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dle(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Kz(e,t,n){const r=new Map;Yn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,bst(o,a,n[i]))}return r}function Qz(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vst(s,o,t))}return r}class hle extends TA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ist extends TA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ast{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Sst(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=my(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=my(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ile();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=fle(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Kt())}isEqual(t){return this.batchId===t.batchId&&km(this.mutations,t.mutations,(n,r)=>Gz(n,r))&&km(this.baseMutations,t.baseMutations,(n,r)=>Gz(n,r))}}class zL{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Yn(t.mutations.length===r.length);let i=function(){return pst}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zL(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cst{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ost{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr,cn;function Pst(e){switch(e){default:return vt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function ple(e){if(e===void 0)return Ql("GRPC error has no .code"),xe.UNKNOWN;switch(e){case Fr.OK:return xe.OK;case Fr.CANCELLED:return xe.CANCELLED;case Fr.UNKNOWN:return xe.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return xe.INTERNAL;case Fr.UNAVAILABLE:return xe.UNAVAILABLE;case Fr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Fr.NOT_FOUND:return xe.NOT_FOUND;case Fr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Fr.ABORTED:return xe.ABORTED;case Fr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Fr.DATA_LOSS:return xe.DATA_LOSS;default:return vt()}}(cn=Fr||(Fr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rst(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nst=new Gp([4294967295,4294967295],0);function Xz(e){const t=Rst().encode(e),n=new Dit;return n.update(t),new Uint8Array(n.digest())}function Jz(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Gp([n,r],0),new Gp([i,s],0)]}class HL{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new R0(`Invalid padding: ${n}`);if(r<0)throw new R0(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new R0(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new R0(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Gp.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Gp.fromNumber(r)));return i.compare(Nst)===1&&(i=new Gp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Xz(t),[r,i]=Jz(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new HL(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Xz(t),[r,i]=Jz(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class R0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,$v.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new SA(It.min(),i,new vr(xn),Xl(),Kt())}}class $v{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new $v(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class mle{constructor(t,n){this.targetId=t,this.fe=n}}class gle{constructor(t,n,r=ss.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zz{constructor(){this.ge=0,this.pe=tH(),this.ye=ss.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Kt(),n=Kt(),r=Kt();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:vt()}}),new $v(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=tH()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Yn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class kst{constructor(t){this.Le=t,this.ke=new Map,this.qe=Xl(),this.Qe=eH(),this.Ke=new vr(xn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:vt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(KN(s))if(r===0){const o=new ct(s.path);this.We(n,o,Ji.newNoDocument(o,It.min()))}else Yn(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=sh(r).toUint8Array()}catch(u){if(u instanceof que)return w_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new HL(o,i,s)}catch(u){return w_(u instanceof R0?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&KN(a.target)){const u=new ct(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,Ji.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Kt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new SA(t,n,this.Ke,this.qe,r);return this.qe=Xl(),this.Qe=eH(),this.Ke=new vr(xn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Zz,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new $i(xn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Zz),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function eH(){return new vr(ct.comparator)}function tH(){return new vr(ct.comparator)}const Dst={asc:"ASCENDING",desc:"DESCENDING"},$st={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lst={and:"AND",or:"OR"};class Mst{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function JN(e,t){return e.useProto3Json||vA(t)?t:{value:t}}function jS(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yle(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fst(e,t){return jS(e,t.toTimestamp())}function ku(e){return Yn(!!e),It.fromTimestamp(function(n){const r=Af(n);return new ni(r.seconds,r.nanos)}(e))}function qL(e,t){return function(r){return new Zn(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function _le(e){const t=Zn.fromString(e);return Yn(Ele(t)),t}function ZN(e,t){return qL(e.databaseId,t.path)}function EP(e,t){const n=_le(t);if(n.get(1)!==e.databaseId.projectId)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new He(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ct(vle(n))}function ek(e,t){return qL(e.databaseId,t)}function Bst(e){const t=_le(e);return t.length===4?Zn.emptyPath():vle(t)}function tk(e){return new Zn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vle(e){return Yn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function nH(e,t,n){return{name:ZN(e,t),fields:n.value.mapValue.fields}}function jst(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:vt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Yn(c===void 0||typeof c=="string"),ss.fromBase64String(c||"")):(Yn(c===void 0||c instanceof Uint8Array),ss.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?xe.UNKNOWN:ple(l.code);return new He(c,l.message||"")}(o);n=new gle(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=EP(e,r.document.name),s=ku(r.document.updateTime),o=r.document.createTime?ku(r.document.createTime):It.min(),a=new Ho({mapValue:{fields:r.document.fields}}),u=Ji.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new rw(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=EP(e,r.document),s=r.readTime?ku(r.readTime):It.min(),o=Ji.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rw([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=EP(e,r.document),s=r.removedTargetIds||[];n=new rw([],s,i,null)}else{if(!("filter"in t))return vt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Ost(i,s),a=r.targetId;n=new mle(a,o)}}return n}function Ust(e,t){let n;if(t instanceof Dv)n={update:nH(e,t.key,t.value)};else if(t instanceof hle)n={delete:ZN(e,t.key)};else if(t instanceof Ah)n={update:nH(e,t.key,t.data),updateMask:Qst(t.fieldMask)};else{if(!(t instanceof Ist))return vt();n={verify:ZN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof A_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof C_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof O_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof BS)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw vt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Fst(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:vt()}(e,t.precondition)),n}function Vst(e,t){return e&&e.length>0?(Yn(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?ku(i.updateTime):ku(s);return o.isEqual(It.min())&&(o=ku(s)),new Tst(o,i.transformResults||[])}(n,t))):[]}function zst(e,t){return{documents:[ek(e,t.path)]}}function Hst(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ek(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ek(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return wle(Ua.create(u,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(f){return{field:Jh(f.field),direction:Yst(f.dir)}}(l))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=JN(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function qst(e){let t=Bst(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=ble(f);return d instanceof Ua&&Kue(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new I_(Zh(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,vA(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new FS(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new FS(h,d)}(n.endAt)),lst(t,i,o,s,a,"F",u,l)}function Wst(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ble(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zh(n.unaryFilter.field);return qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zh(n.unaryFilter.field);return qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zh(n.unaryFilter.field);return qr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zh(n.unaryFilter.field);return qr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(e):e.fieldFilter!==void 0?function(n){return qr.create(Zh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ua.create(n.compositeFilter.filters.map(r=>ble(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return vt()}}(n.compositeFilter.op))}(e):vt()}function Yst(e){return Dst[e]}function Gst(e){return $st[e]}function Kst(e){return Lst[e]}function Jh(e){return{fieldPath:e.canonicalString()}}function Zh(e){return Ri.fromServerFormat(e.fieldPath)}function wle(e){return e instanceof qr?function(n){if(n.op==="=="){if(Vz(n.value))return{unaryFilter:{field:Jh(n.field),op:"IS_NAN"}};if(Uz(n.value))return{unaryFilter:{field:Jh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vz(n.value))return{unaryFilter:{field:Jh(n.field),op:"IS_NOT_NAN"}};if(Uz(n.value))return{unaryFilter:{field:Jh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jh(n.field),op:Gst(n.op),value:n.value}}}(e):e instanceof Ua?function(n){const r=n.getFilters().map(i=>wle(i));return r.length===1?r[0]:{compositeFilter:{op:Kst(n.op),filters:r}}}(e):vt()}function Qst(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ele(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n,r,i,s=It.min(),o=It.min(),a=ss.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Uc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xst{constructor(t){this.ut=t}}function Jst(e){const t=qst({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?XN(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zst{constructor(){this.on=new eot}addToCollectionParentIndex(t,n){return this.on.add(n),Ce.resolve()}getCollectionParents(t,n){return Ce.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return Ce.resolve()}deleteFieldIndex(t,n){return Ce.resolve()}deleteAllFieldIndexes(t){return Ce.resolve()}createTargetIndexes(t,n){return Ce.resolve()}getDocumentsMatchingTarget(t,n){return Ce.resolve(null)}getIndexType(t,n){return Ce.resolve(0)}getFieldIndexes(t,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,n){return Ce.resolve(If.min())}getMinOffsetFromCollectionGroup(t,n){return Ce.resolve(If.min())}updateCollectionGroup(t,n,r){return Ce.resolve()}updateIndexEntries(t,n){return Ce.resolve()}}class eot{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new $i(Zn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new $i(Zn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Lm(0)}static Nn(){return new Lm(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tot{constructor(){this.changes=new wg(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ji.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class not{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rot{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&my(r.mutation,i,Pa.empty(),ni.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Kt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Kt()){const i=Cd();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=P0();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Cd();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Kt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Xl();const o=py(),a=function(){return py()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Ah)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),my(c.mutation,l,c.mutation.getFieldMask(),ni.now())):o.set(l.key,Pa.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new not(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=py();let i=new vr((o,a)=>o-a),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Pa.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Kt()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=ile();c.forEach(d=>{if(!s.has(d)){const h=fle(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Zue(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Ce.resolve(Cd());let a=-1,u=s;return o.next(l=>Ce.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Kt())).next(c=>({batchId:a,changes:rle(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next(r=>{let i=P0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=P0();return this.indexManager.getCollectionParents(t,s).next(a=>Ce.forEach(a,u=>{const l=function(f,d){return new bg(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Ji.newInvalidDocument(c)))});let a=P0();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&my(c.mutation,l,Pa.empty(),ni.now()),wA(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iot{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return Ce.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ku(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(t,n){return Ce.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Jst(i.bundledQuery),readTime:ku(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sot{constructor(){this.overlays=new vr(ct.comparator),this.lr=new Map}getOverlay(t,n){return Ce.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Cd();return Ce.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),Ce.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Ce.resolve()}getOverlaysForCollection(t,n,r){const i=Cd(),s=n.length+1,o=new ct(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ce.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new vr((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Cd(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Cd(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Ce.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Cst(n,r));let s=this.lr.get(n);s===void 0&&(s=Kt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.hr=new $i(ci.Pr),this.Ir=new $i(ci.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new ci(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new ci(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new ct(new Zn([])),r=new ci(n,t),i=new ci(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new ct(new Zn([])),r=new ci(n,t),i=new ci(n,t+1);let s=Kt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ci(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ci{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return ct.comparator(t.key,n.key)||xn(t.gr,n.gr)}static Tr(t,n){return xn(t.gr,n.gr)||ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oot{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new $i(ci.Pr)}checkEmpty(t){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ast(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ci(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(t,n){return Ce.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ci(n,0),i=new ci(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new $i(xn);return n.forEach(i=>{const s=new ci(i,0),o=new ci(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Ce.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ct.isDocumentKey(s)||(s=s.child(""));const o=new ci(new ct(s),0);let a=new $i(xn);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),Ce.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Yn(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Ce.forEach(n.mutations,i=>{const s=new ci(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new ci(n,0),i=this.yr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ce.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aot{constructor(t){this.Cr=t,this.docs=function(){return new vr(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():Ji.newInvalidDocument(n))}getEntries(t,n){let r=Xl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ji.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Xl();const o=n.path,a=new ct(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Wit(qit(c),r)<=0||(i.has(c.key)||wA(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(t,n,r,i){vt()}vr(t,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new uot(this)}getSize(t){return Ce.resolve(this.size)}}class uot extends tot{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),Ce.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lot{constructor(t){this.persistence=t,this.Fr=new wg(n=>jL(n),UL),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Mr=0,this.Or=new WL,this.targetCount=0,this.Nr=Lm.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Ce.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Lm(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(t,n){return this.kn(n),Ce.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),Ce.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),Ce.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return Ce.resolve(r)}containsKey(t,n){return Ce.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cot{constructor(t,n){this.Br={},this.overlays={},this.Lr=new LL(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new lot(this),this.indexManager=new Zst,this.remoteDocumentCache=function(i){return new aot(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Xst(n),this.Kr=new iot(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new sot,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new oot(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){tt("MemoryPersistence","Starting transaction:",t);const i=new fot(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return Ce.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class fot extends Git{constructor(t){super(),this.currentSequenceNumber=t}}class YL{constructor(t){this.persistence=t,this.Gr=new WL,this.zr=null}static jr(t){return new YL(t)}get Hr(){if(this.zr)return this.zr;throw vt()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Ce.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),Ce.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Hr,r=>{const i=ct.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,It.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return Ce.or([()=>Ce.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=Kt(),i=Kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new GL(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dot{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hot{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dot;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(l0()<=rn.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",Xh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ce.resolve()):(l0()<=rn.DEBUG&&tt("QueryEngine","Query:",Xh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(l0()<=rn.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",Xh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Nu(n))):Ce.resolve())}zi(t,n){if(Wz(n))return Ce.resolve(null);let r=Nu(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=XN(n,null,"F"),r=Nu(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Kt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(t,XN(n,null,"F")):this.Xi(t,l,n,u)}))})))}ji(t,n,r,i){return Wz(n)||i.isEqual(It.min())?Ce.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?Ce.resolve(null):(l0()<=rn.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xh(n)),this.Xi(t,o,n,Hit(i,-1)).next(a=>a))})}Yi(t,n){let r=new $i(tle(t));return n.forEach((i,s)=>{wA(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return l0()<=rn.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Xh(n)),this.Gi.getDocumentsMatchingQuery(t,n,If.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pot{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new vr(xn),this.ns=new wg(s=>jL(s),UL),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rot(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function mot(e,t,n,r){return new pot(e,t,n,r)}async function Tle(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Kt();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function got(e,t){const n=Nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Ce.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(g=>{const y=l.docVersions.get(p);Yn(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Kt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sle(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function yot(e,t){const n=Nt(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(ss.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(g,y,m){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(s,h))});let u=Xl(),l=Kt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(_ot(s,o,t.documentUpdates).next(c=>{u=c.us,l=c.cs})),!r.isEqual(It.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}function _ot(e,t,n){let r=Kt(),i=Kt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Xl();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(It.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):tt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function vot(e,t){const n=Nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function bot(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,Ce.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Uc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function nk(e,t,n){const r=Nt(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!kv(o))throw o;tt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function rH(e,t,n){const r=Nt(e);let i=It.min(),s=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Nt(u),d=f.ns.get(c);return d!==void 0?Ce.resolve(f.ts.get(d)):f.qr.getTargetData(l,c)}(r,o,Nu(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:It.min(),n?s:Kt())).next(a=>(wot(r,fst(t),a),{documents:a,ls:s})))}function wot(e,t,n){let r=e.rs.get(t)||It.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class iH{constructor(){this.activeTargetIds=yst()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Eot{constructor(){this.eo=new iH,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new iH,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tot{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ob=null;function TP(){return ob===null?ob=function(){return 268435456+Math.round(2147483648*Math.random())}():ob++,"0x"+ob.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sot={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xot{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="WebChannelConnection";class Iot extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=TP(),u=this.So(n,r);tt("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(c=>(tt("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw w_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_g}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=Sot[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=TP();return new Promise((o,a)=>{const u=new kit;u.setWithCredentials(!0),u.listenOnce(Rit.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wP.NO_ERROR:const c=u.getResponseJson();tt(Yi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case wP.TIMEOUT:tt(Yi,`RPC '${t}' ${s} timed out`),a(new He(xe.DEADLINE_EXCEEDED,"Request time out"));break;case wP.HTTP_ERROR:const f=u.getStatus();if(tt(Yi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(m)>=0?m:xe.UNKNOWN}(h.status);a(new He(p,h.message))}else a(new He(xe.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new He(xe.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{tt(Yi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);tt(Yi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(t,n,r){const i=TP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Oit(),a=Pit(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");tt(Yi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new xot({co:y=>{h?tt(Yi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(tt(Yi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),tt(Yi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},lo:()=>f.close()}),g=(y,m,_)=>{y.listen(m,v=>{try{_(v)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,rb.EventType.OPEN,()=>{h||tt(Yi,`RPC '${t}' stream ${i} transport opened.`)}),g(f,rb.EventType.CLOSE,()=>{h||(h=!0,tt(Yi,`RPC '${t}' stream ${i} transport closed`),p.Ro())}),g(f,rb.EventType.ERROR,y=>{h||(h=!0,w_(Yi,`RPC '${t}' stream ${i} transport errored:`,y),p.Ro(new He(xe.UNAVAILABLE,"The operation could not be completed")))}),g(f,rb.EventType.MESSAGE,y=>{var m;if(!h){const _=y.data[0];Yn(!!_);const v=_,T=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(T){tt(Yi,`RPC '${t}' stream ${i} received error:`,T);const S=T.status;let w=function(M){const D=Fr[M];if(D!==void 0)return ple(D)}(S),x=T.message;w===void 0&&(w=xe.INTERNAL,x="Unknown error status: "+S+" with message "+T.message),h=!0,p.Ro(new He(w,x)),f.close()}else tt(Yi,`RPC '${t}' stream ${i} received:`,_),p.Vo(_)}}),g(a,Nit.STAT_EVENT,y=>{y.stat===$z.PROXY?tt(Yi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===$z.NOPROXY&&tt(Yi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function SP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(e){return new Mst(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ile{constructor(t,n,r,i,s,o,a,u){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new xle(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Ql(n.toString()),Ql("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new He(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return tt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Aot extends Ile{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=jst(this.serializer,t),r=function(s){if(!("targetChange"in s))return It.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?ku(o.readTime):It.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=tk(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=KN(u)?{documents:zst(s,u)}:{query:Hst(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yle(s,o.resumeToken);const l=JN(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(It.min())>0){a.readTime=jS(s,o.snapshotVersion.toTimestamp());const l=JN(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Wst(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=tk(this.serializer),n.removeTarget=t,this.e_(n)}}class Cot extends Ile{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Yn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=Vst(t.writeResults,t.commitTime),r=ku(t.commitTime);return this.listener.I_(r,n)}return Yn(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=tk(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Ust(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oot extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new He(xe.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(xe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Pot{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ql(n),this.f_=!1):tt("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rot{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Ch(this)&&(tt("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Nt(u);l.C_.add(4),await Mv(l),l.M_.set("Unknown"),l.C_.delete(4),await Lv(l)}(this))})}),this.M_=new Pot(r,i)}}async function Lv(e){if(Ch(e))for(const t of e.v_)await t(!0)}async function Mv(e){for(const t of e.v_)await t(!1)}function Ale(e,t){const n=Nt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),XL(n)?QL(n):Eg(n).Ho()&&KL(n,t))}function Cle(e,t){const n=Nt(e),r=Eg(n);n.D_.delete(t),r.Ho()&&Ole(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Ch(n)&&n.M_.set("Unknown"))}function KL(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Eg(e).u_(t)}function Ole(e,t){e.x_.Oe(t),Eg(e).c_(t)}function QL(e){e.x_=new kst({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Eg(e).start(),e.M_.g_()}function XL(e){return Ch(e)&&!Eg(e).jo()&&e.D_.size>0}function Ch(e){return Nt(e).C_.size===0}function Ple(e){e.x_=void 0}async function Not(e){e.D_.forEach((t,n)=>{KL(e,t)})}async function kot(e,t){Ple(e),XL(e)?(e.M_.w_(t),QL(e)):e.M_.set("Unknown")}async function Dot(e,t,n){if(e.M_.set("Online"),t instanceof gle&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){tt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await US(e,r)}else if(t instanceof rw?e.x_.$e(t):t instanceof mle?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(It.min()))try{const r=await Sle(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.D_.get(l);c&&s.D_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.D_.get(u);if(!c)return;s.D_.set(u,c.withResumeToken(ss.EMPTY_BYTE_STRING,c.snapshotVersion)),Ole(s,u);const f=new Uc(c.target,u,l,c.sequenceNumber);KL(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){tt("RemoteStore","Failed to raise snapshot:",r),await US(e,r)}}async function US(e,t,n){if(!kv(t))throw t;e.C_.add(1),await Mv(e),e.M_.set("Offline"),n||(n=()=>Sle(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{tt("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Lv(e)})}function Rle(e,t){return t().catch(n=>US(e,n,t))}async function IA(e){const t=Nt(e),n=Cf(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;$ot(t);)try{const i=await vot(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,Lot(t,i)}catch(i){await US(t,i)}Nle(t)&&kle(t)}function $ot(e){return Ch(e)&&e.b_.length<10}function Lot(e,t){e.b_.push(t);const n=Cf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Nle(e){return Ch(e)&&!Cf(e).jo()&&e.b_.length>0}function kle(e){Cf(e).start()}async function Mot(e){Cf(e).E_()}async function Fot(e){const t=Cf(e);for(const n of e.b_)t.P_(n.mutations)}async function Bot(e,t,n){const r=e.b_.shift(),i=zL.from(r,t,n);await Rle(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await IA(e)}async function jot(e,t){t&&Cf(e).h_&&await async function(r,i){if(function(o){return Pst(o)&&o!==xe.ABORTED}(i.code)){const s=r.b_.shift();Cf(r).Yo(),await Rle(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await IA(r)}}(e,t),Nle(e)&&kle(e)}async function oH(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const r=Ch(n);n.C_.add(3),await Mv(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Lv(n)}async function Uot(e,t){const n=Nt(e);t?(n.C_.delete(2),await Lv(n)):t||(n.C_.add(2),await Mv(n),n.M_.set("Unknown"))}function Eg(e){return e.O_||(e.O_=function(n,r,i){const s=Nt(n);return s.A_(),new Aot(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:Not.bind(null,e),Io:kot.bind(null,e),a_:Dot.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),XL(e)?QL(e):e.M_.set("Unknown")):(await e.O_.stop(),Ple(e))})),e.O_}function Cf(e){return e.N_||(e.N_=function(n,r,i){const s=Nt(n);return s.A_(),new Cot(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:Mot.bind(null,e),Io:jot.bind(null,e),T_:Fot.bind(null,e),I_:Bot.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await IA(e)):(await e.N_.stop(),e.b_.length>0&&(tt("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new JL(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(xe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZL(e,t){if(Ql("AsyncQueue",`${t}: ${e}`),kv(e))return new He(xe.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=P0(),this.sortedSet=new vr(this.comparator)}static emptySet(t){return new Kp(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Kp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Kp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(){this.B_=new vr(ct.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):vt():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Mm{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mm(t,n,Kp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bA(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vot{constructor(){this.k_=void 0,this.listeners=[]}}class zot{constructor(){this.queries=new wg(t=>ele(t),bA),this.onlineState="Unknown",this.q_=new Set}}async function Dle(e,t){const n=Nt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Vot),i)try{s.k_=await n.onListen(r)}catch(o){const a=ZL(o,`Initialization of query '${Xh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&eM(n)}async function $le(e,t){const n=Nt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Hot(e,t){const n=Nt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&eM(n)}function qot(e,t,n){const r=Nt(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function eM(e){e.q_.forEach(t=>{t.next()})}class Lle{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Mm(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Mm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mle{constructor(t){this.key=t}}class Fle{constructor(t){this.key=t}}class Wot{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Kt(),this.mutatedKeys=Kt(),this._a=tle(t),this.aa=new Kp(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new aH,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=wA(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this._a(h,u)>0||l&&this._a(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(h,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return g(h)-g(p)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,l=u!==this.sa;return this.sa=u,o.length!==0||l?{snapshot:new Mm(this.query,t.aa,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new aH,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Kt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new Fle(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new Mle(r))}),n}da(t){this.ia=t.ls,this.oa=Kt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Mm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Yot{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Got{constructor(t){this.key=t,this.Ra=!1}}class Kot{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new wg(a=>ele(a),bA),this.fa=new Map,this.ga=new Set,this.pa=new vr(ct.comparator),this.ya=new Map,this.wa=new WL,this.Sa={},this.ba=new Map,this.Da=Lm.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Qot(e,t){const n=oat(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await bot(n.localStore,Nu(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Xot(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Ale(n.remoteStore,o)}return i}async function Xot(e,t,n,r,i){e.va=(f,d,h)=>async function(g,y,m,_){let v=y.view.ca(m);v.Zi&&(v=await rH(g.localStore,y.query,!1).then(({documents:x})=>y.view.ca(x,v)));const T=_&&_.targetChanges.get(y.targetId),S=_&&_.targetMismatches.get(y.targetId)!=null,w=y.view.applyChanges(v,g.isPrimaryClient,T,S);return lH(g,y.targetId,w.Ta),w.snapshot}(e,f,d,h);const s=await rH(e.localStore,t,!0),o=new Wot(t,s.ls),a=o.ca(s.documents),u=$v.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);lH(e,n,l.Ta);const c=new Yot(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function Jot(e,t){const n=Nt(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!bA(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await nk(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cle(n.remoteStore,r.targetId),rk(n,r.targetId)}).catch(Nv)):(rk(n,r.targetId),await nk(n.localStore,r.targetId,!0))}async function Zot(e,t,n){const r=aat(e);try{const i=await function(o,a){const u=Nt(o),l=ni.now(),c=a.reduce((h,p)=>h.add(p.key),Kt());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Xl(),g=Kt();return u.ss.getEntries(h,c).next(y=>{p=y,p.forEach((m,_)=>{_.isValidDocument()||(g=g.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const m=[];for(const _ of a){const v=xst(_,f.get(_.key).overlayedDocument);v!=null&&m.push(new Ah(_.key,v,Wue(v.value.mapValue),Rl.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,m,a)}).next(y=>{d=y;const m=y.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(h,y.batchId,m)})}).then(()=>({batchId:d.batchId,changes:rle(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new vr(xn)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await Fv(r,i.changes),await IA(r.remoteStore)}catch(i){const s=ZL(i,"Failed to persist write");n.reject(s)}}async function Ble(e,t){const n=Nt(e);try{const r=await yot(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Yn(o.Ra):i.removedDocuments.size>0&&(Yn(o.Ra),o.Ra=!1))}),await Fv(n,r,t)}catch(r){await Nv(r)}}function uH(e,t,n){const r=Nt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Nt(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(l=!0)}),l&&eM(u)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function eat(e,t,n){const r=Nt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new vr(ct.comparator);o=o.insert(s,Ji.newNoDocument(s,It.min()));const a=Kt().add(s),u=new SA(It.min(),new Map,new vr(xn),o,a);await Ble(r,u),r.pa=r.pa.remove(s),r.ya.delete(t),tM(r)}else await nk(r.localStore,t,!1).then(()=>rk(r,t,n)).catch(Nv)}async function tat(e,t){const n=Nt(e),r=t.batch.batchId;try{const i=await got(n.localStore,t);Ule(n,r,null),jle(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fv(n,i)}catch(i){await Nv(i)}}async function nat(e,t,n){const r=Nt(e);try{const i=await function(o,a){const u=Nt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(Yn(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Ule(r,t,n),jle(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Fv(r,i)}catch(i){await Nv(i)}}function jle(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function Ule(e,t,n){const r=Nt(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function rk(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Vle(e,r)})}function Vle(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(Cle(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),tM(e))}function lH(e,t,n){for(const r of n)r instanceof Mle?(e.wa.addReference(r.key,t),rat(e,r)):r instanceof Fle?(tt("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Vle(e,r.key)):vt()}function rat(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(tt("SyncEngine","New document in limbo: "+n),e.ga.add(r),tM(e))}function tM(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new ct(Zn.fromString(t)),r=e.Da.next();e.ya.set(r,new Got(n)),e.pa=e.pa.insert(n,r),Ale(e.remoteStore,new Uc(Nu(VL(n.path)),r,"TargetPurposeLimboResolution",LL._e))}}async function Fv(e,t,n){const r=Nt(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=GL.Qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const c=Nt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(l,d=>Ce.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ce.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!kv(f))throw f;tt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,g)}}}(r.localStore,s))}async function iat(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){tt("SyncEngine","User change. New user:",t.toKey());const r=await Tle(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new He(xe.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fv(n,r._s)}}function sat(e,t){const n=Nt(e),r=n.ya.get(t);if(r&&r.Ra)return Kt().add(r.key);{let i=Kt();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function oat(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ble.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sat.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eat.bind(null,t),t.Va.a_=Hot.bind(null,t.eventManager),t.Va.Fa=qot.bind(null,t.eventManager),t}function aat(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tat.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nat.bind(null,t),t}class cH{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=xA(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return mot(this.persistence,new hot,t.initialUser,this.serializer)}createPersistence(t){return new cot(YL.jr,this.serializer)}createSharedClientState(t){return new Eot}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uat{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iat.bind(null,this.syncEngine),await Uot(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new zot}()}createDatastore(t){const n=xA(t.databaseInfo.databaseId),r=function(s){return new Iot(s)}(t.databaseInfo);return function(s,o,a,u){return new Oot(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new Rot(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>uH(this.syncEngine,n,0),function(){return sH.D()?new sH:new Tot}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new Kot(i,s,o,a,u,l);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Nt(n);tt("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Mv(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zle{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Ql("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lat{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ps.UNAUTHENTICATED,this.clientId=zue.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{tt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(tt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ZL(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function xP(e,t){e.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Tle(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function fH(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hle(e);tt("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>oH(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>oH(t.remoteStore,s)),e._onlineComponents=t}function cat(e){return e.name==="FirebaseError"?e.code===xe.FAILED_PRECONDITION||e.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Hle(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{await xP(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!cat(n))throw n;w_("Error using user provided cache. Falling back to memory cache: "+n),await xP(e,new cH)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),await xP(e,new cH);return e._offlineComponents}async function nM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),await fH(e,e._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),await fH(e,new uat))),e._onlineComponents}function fat(e){return Hle(e).then(t=>t.persistence)}function dat(e){return nM(e).then(t=>t.remoteStore)}function hat(e){return nM(e).then(t=>t.syncEngine)}async function qle(e){const t=await nM(e),n=t.eventManager;return n.onListen=Qot.bind(null,t.syncEngine),n.onUnlisten=Jot.bind(null,t.syncEngine),n}function pat(e){return e.asyncQueue.enqueue(async()=>{const t=await fat(e),n=await dat(e);return t.setNetworkEnabled(!0),function(i){const s=Nt(i);return s.C_.delete(0),Lv(s)}(n)})}function mat(e,t,n={}){const r=new Pl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new zle({next:d=>{o.enqueueAndForget(()=>$le(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new He(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new He(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Lle(VL(a.path),c,{includeMetadataChanges:!0,J_:!0});return Dle(s,f)}(await qle(e),e.asyncQueue,t,n,r)),r.promise}function gat(e,t,n={}){const r=new Pl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new zle({next:d=>{o.enqueueAndForget(()=>$le(s,f)),d.fromCache&&u.source==="server"?l.reject(new He(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Lle(a,c,{includeMetadataChanges:!0,J_:!0});return Dle(s,f)}(await qle(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yle(e,t,n){if(!n)throw new He(xe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function yat(e,t,n,r){if(t===!0&&r===!0)throw new He(xe.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function hH(e){if(!ct.isDocumentKey(e))throw new He(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function pH(e){if(ct.isDocumentKey(e))throw new He(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function AA(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":vt()}function ah(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new He(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=AA(e);throw new He(xe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new He(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new He(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yat("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wle((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new He(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rM{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new He(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mH(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Lit;switch(r.type){case"firstParty":return new Bit(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dH.get(n);r&&(tt("ComponentProvider","Removing Datastore"),dH.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Oh(this.firestore,t,this._query)}}class Ys{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ys(this.firestore,t,this._key)}}class uf extends Oh{constructor(t,n,r){super(t,n,VL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ys(this.firestore,null,new ct(t))}withConverter(t){return new uf(this.firestore,t,this._path)}}function IP(e,t,...n){if(e=Mi(e),Yle("collection","path",t),e instanceof rM){const r=Zn.fromString(t,...n);return pH(r),new uf(e,null,r)}{if(!(e instanceof Ys||e instanceof uf))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Zn.fromString(t,...n));return pH(r),new uf(e.firestore,null,r)}}function Ka(e,t,...n){if(e=Mi(e),arguments.length===1&&(t=zue.newId()),Yle("doc","path",t),e instanceof rM){const r=Zn.fromString(t,...n);return hH(r),new Ys(e,null,new ct(r))}{if(!(e instanceof Ys||e instanceof uf))throw new He(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Zn.fromString(t,...n));return hH(r),new Ys(e.firestore,e instanceof uf?e.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _at{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new xle(this,"async_queue_retry"),this.iu=()=>{const n=SP();n&&tt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=SP();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=SP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Pl;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!kv(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ql("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=JL.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&vt()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Bv extends rM{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new _at}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gle(this),this._firestoreClient.terminate()}}function vat(e,t,n){n||(n="(default)");const r=mg(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(f_(s,t))return i;throw new He(xe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new He(xe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new He(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function CA(e){return e._firestoreClient||Gle(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Gle(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new Xit(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Wle(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new lat(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function bat(e){return pat(CA(e=ah(e,Bv)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fm(ss.fromBase64String(t))}catch(n){throw new He(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fm(ss.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new He(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new He(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new He(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xn(this._lat,t._lat)||xn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wat=/^__.*__$/;class Eat{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ah(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dv(t,this.data,n,this.fieldTransforms)}}function Kle(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class aM{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new aM(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return VS(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(Kle(this.Iu)&&wat.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Tat{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||xA(t)}pu(t,n,r,i=!1){return new aM({Iu:t,methodName:n,gu:r,path:Ri.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qle(e){const t=e._freezeSettings(),n=xA(e._databaseId);return new Tat(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sat(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);Zle("Data must be an object, but it was:",o,r);const a=Xle(r,o);let u,l;if(s.merge)u=new Pa(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=Iat(t,f,n);if(!o.contains(d))throw new He(xe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Cat(c,d)||c.push(d)}u=new Pa(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new Eat(new Ho(a),u,l)}class uM extends sM{_toFieldTransform(t){return new wst(t.path,new A_)}isEqual(t){return t instanceof uM}}function xat(e,t,n,r=!1){return lM(n,e.pu(r?4:3,t))}function lM(e,t){if(Jle(e=Mi(e)))return Zle("Unsupported field value:",t,e),Xle(e,t);if(e instanceof sM)return function(r,i){if(!Kle(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=lM(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Mi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _st(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ni.fromDate(r);return{timestampValue:jS(i.serializer,s)}}if(r instanceof ni){const s=new ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jS(i.serializer,s)}}if(r instanceof oM)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fm)return{bytesValue:yle(i.serializer,r._byteString)};if(r instanceof Ys){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qL(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${AA(r)}`)}(e,t)}function Xle(e,t){const n={};return Hue(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vg(e,(r,i)=>{const s=lM(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Jle(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ni||e instanceof oM||e instanceof Fm||e instanceof Ys||e instanceof sM)}function Zle(e,t,n){if(!Jle(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=AA(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Iat(e,t,n){if((t=Mi(t))instanceof iM)return t._internalPath;if(typeof t=="string")return ece(e,t);throw VS("Field path arguments must be of type string or ",e,!1,void 0,n)}const Aat=new RegExp("[~\\*/\\[\\]]");function ece(e,t,n){if(t.search(Aat)>=0)throw VS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new iM(...t.split("."))._internalPath}catch{throw VS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function VS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new He(xe.INVALID_ARGUMENT,a+e+u)}function Cat(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tce{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ys(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Oat(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cM("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Oat extends tce{data(){return super.data()}}function cM(e,t){return typeof t=="string"?ece(e,t):t instanceof iM?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pat(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new He(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fM{}class nce extends fM{}function Rat(e,t,...n){let r=[];t instanceof fM&&r.push(t),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof hM).length,a=s.filter(u=>u instanceof dM).length;if(o>1||o>0&&a>0)throw new He(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class dM extends nce{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new dM(t,n,r)}_apply(t){const n=this._parse(t);return rce(t._query,n),new Oh(t.firestore,t.converter,QN(t._query,n))}_parse(t){const n=Qle(t.firestore);return function(s,o,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new He(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){yH(f,c);const h=[];for(const p of f)h.push(gH(u,s,p));d={arrayValue:{values:h}}}else d=gH(u,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||yH(f,c),d=xat(a,o,f,c==="in"||c==="not-in");return qr.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class hM extends fM{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new hM(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ua.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)rce(o,u),o=QN(o,u)}(t._query,n),new Oh(t.firestore,t.converter,QN(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pM extends nce{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new pM(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new He(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new He(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new I_(s,o)}(t._query,this._field,this._direction);return new Oh(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new bg(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Nat(e,t="asc"){const n=t,r=cM("orderBy",e);return pM._create(r,n)}function gH(e,t,n){if(typeof(n=Mi(n))=="string"){if(n==="")throw new He(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zue(t)&&n.indexOf("/")!==-1)throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Zn.fromString(n));if(!ct.isDocumentKey(r))throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jz(e,new ct(r))}if(n instanceof Ys)return jz(e,n._key);throw new He(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AA(n)}.`)}function yH(e,t){if(!Array.isArray(e)||e.length===0)throw new He(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rce(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new He(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new He(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class kat{convertValue(t,n="none"){switch(oh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ur(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(sh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw vt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return vg(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new oM(Ur(t.latitude),Ur(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=FL(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(T_(t));default:return null}}convertTimestamp(t){const n=Af(t);return new ni(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Zn.fromString(t);Yn(Ele(r));const i=new S_(r.get(1),r.get(3)),s=new ct(r.popFirst(5));return i.isEqual(n)||Ql(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dat(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ice extends tce{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new iw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(cM("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class iw extends ice{data(t={}){return super.data(t)}}class $at{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new N0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new iw(this._firestore,this._userDataWriter,r.key,r,new N0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new iw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new N0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new iw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new N0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Lat(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lat(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e){e=ah(e,Ys);const t=ah(e.firestore,Bv);return mat(CA(t),e._key).then(n=>Fat(t,e,n))}class sce extends kat{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fm(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ys(this.firestore,null,n)}}function _H(e){e=ah(e,Oh);const t=ah(e.firestore,Bv),n=CA(t),r=new sce(t);return Pat(e._query),gat(n,e._query).then(i=>new $at(t,r,e,i))}function c0(e,t,n){e=ah(e,Ys);const r=ah(e.firestore,Bv),i=Dat(e.converter,t,n);return Mat(r,[Sat(Qle(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Rl.none())])}function Mat(e,t){return function(r,i){const s=new Pl;return r.asyncQueue.enqueueAndForget(async()=>Zot(await hat(r),i,s)),s.promise}(CA(e),t)}function Fat(e,t,n){const r=n.docs.get(t._key),i=new sce(e);return new ice(e,i,t._key,r,new N0(n.hasPendingWrites,n.fromCache),t.converter)}function Bat(){return new uM("serverTimestamp")}(function(t,n=!0){(function(i){_g=i})(xh),Gl(new zu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bv(new Mit(r.getProvider("auth-internal")),new Uit(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new He(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new S_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$a(Lz,"4.4.0",t),$a(Lz,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new Map,oce={activated:!1,tokenObservers:[]},jat={initialized:!1,enabled:!1};function ri(e){return ik.get(e)||Object.assign({},oce)}function Uat(e,t){return ik.set(e,t),ik.get(e)}function OA(){return jat}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace="https://content-firebaseappcheck.googleapis.com/v1",Vat="exchangeRecaptchaV3Token",zat="exchangeDebugToken",vH={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Hat=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qat{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new c_,await Wat(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new c_,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Wat(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yat={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Vs=new pg("appCheck","AppCheck",Yat);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function mM(e){if(!ri(e).activated)throw Vs.create("use-before-activation",{appName:e.name})}function uce(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=ub(n)+"d:"),r&&(o+=ub(r)+"h:"),o+=ub(i)+"m:"+ub(s)+"s",o}function ub(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw Vs.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw Vs.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw Vs.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function Gat(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${ace}/projects/${n}/apps/${r}:${Vat}?key=${i}`,body:{recaptcha_v3_token:t}}}function lce(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${ace}/projects/${n}/apps/${r}:${zat}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kat="firebase-app-check-database",Qat=1,P_="firebase-app-check-store",cce="debug-token";let lb=null;function fce(){return lb||(lb=new Promise((e,t)=>{try{const n=indexedDB.open(Kat,Qat);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Vs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(P_,{keyPath:"compositeKey"})}}}catch(n){t(Vs.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),lb)}function Xat(e){return hce(pce(e))}function Jat(e,t){return dce(pce(e),t)}function Zat(e){return dce(cce,e)}function eut(){return hce(cce)}async function dce(e,t){const r=(await fce()).transaction(P_,"readwrite"),s=r.objectStore(P_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Vs.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function hce(e){const n=(await fce()).transaction(P_,"readonly"),i=n.objectStore(P_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(Vs.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function pce(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new nA("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tut(e){if(sL()){let t;try{t=await Xat(e)}catch(n){R_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function AP(e,t){return sL()?Jat(e,t).catch(n=>{R_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function nut(){let e;try{e=await eut()}catch{}if(e)return e;{const t=itt();return Zat(t).catch(n=>R_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return OA().enabled}async function _M(){const e=OA();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function rut(){const e=pae(),t=OA();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new c_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(nut())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iut={error:"UNKNOWN_ERROR"};function sut(e){return rL.encodeString(JSON.stringify(e),!1)}async function sk(e,t=!1){const n=e.app;mM(n);const r=ri(n);let i=r.token,s;if(i&&!Ep(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(Ep(u)?i=u:await AP(n,void 0))}if(!t&&i&&Ep(i))return{token:i.token};let o=!1;if(yM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gM(lce(n,await _M()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await AP(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ri(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?R_.warn(u.message):R_.error(u),s=u}let a;return i?s?Ep(i)?a={token:i.token,internalError:s}:a=EH(s):(a={token:i.token},r.token=i,await AP(n,i)):a=EH(s),o&&yce(n,a),a}async function out(e){const t=e.app;mM(t);const{provider:n}=ri(t);if(yM()){const r=await _M(),{token:i}=await gM(lce(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function mce(e,t,n,r){const{app:i}=e,s=ri(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Ep(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),wH(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>wH(e))}function gce(e,t){const n=ri(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wH(e){const{app:t}=e,n=ri(t);let r=n.tokenRefresher;r||(r=aut(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function aut(e){const{app:t}=e;return new qat(async()=>{const n=ri(t);let r;if(n.token?r=await sk(e,!0):r=await sk(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ri(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vH.RETRIAL_MIN_WAIT,vH.RETRIAL_MAX_WAIT)}function yce(e,t){const n=ri(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Ep(e){return e.expireTimeMillis-Date.now()>0}function EH(e){return{token:sut(iut),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uut{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=ri(this.app);for(const n of t)gce(this.app,n.next);return Promise.resolve()}}function lut(e,t){return new uut(e,t)}function cut(e){return{getToken:t=>sk(e,t),getLimitedUseToken:()=>out(e),addTokenListener:t=>mce(e,"INTERNAL",t),removeTokenListener:t=>gce(e.app,t)}}const fut="@firebase/app-check",dut="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hut="https://www.google.com/recaptcha/api.js";function put(e,t){const n=new c_,r=ri(e);r.reCAPTCHAState={initialized:n};const i=mut(e),s=bH(!1);return s?TH(e,t,s,i,n):_ut(()=>{const o=bH(!1);if(!o)throw new Error("no recaptcha");TH(e,t,o,i,n)}),n.promise}function TH(e,t,n,r,i){n.ready(()=>{yut(e,t,n,r),i.resolve(n)})}function mut(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function gut(e){mM(e);const n=await ri(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ri(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function yut(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{ri(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ri(e).reCAPTCHAState.succeeded=!1}}),s=ri(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function _ut(e){const t=document.createElement("script");t.src=hut,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;but(this._throttleData);const i=await gut(this._app).catch(o=>{throw Vs.create("recaptcha-error")});if(!(!((t=ri(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Vs.create("recaptcha-error");let s;try{s=await gM(Gat(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=vut(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Vs.create("throttled",{time:uce(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=mg(t,"heartbeat"),put(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof vM?this._siteKey===t._siteKey:!1}}function vut(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Hat,httpStatus:e};{const n=t?t.backoffCount:0,r=ltt(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function but(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Vs.create("throttled",{time:uce(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wut(e=aL(),t){e=Mi(e);const n=mg(e,"app-check");if(OA().initialized||rut(),yM()&&_M().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Vs.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return Eut(e,t.provider,t.isTokenAutoRefreshEnabled),ri(e).isTokenAutoRefreshEnabled&&mce(r,"INTERNAL",()=>{}),r}function Eut(e,t,n){const r=Uat(e,Object.assign({},oce));r.activated=!0,r.provider=t,r.cachedTokenPromise=tut(e).then(i=>(i&&Ep(i)&&(r.token=i,yce(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const Tut="app-check",SH="app-check-internal";function Sut(){Gl(new zu(Tut,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return lut(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(SH).initialize()})),Gl(new zu(SH,e=>{const t=e.getProvider("app-check").getImmediate();return cut(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),$a(fut,dut)}Sut();function _ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xut=_ce,vce=new pg("auth","Firebase",_ce());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new nA("@firebase/auth");function Iut(e,...t){zS.logLevel<=rn.WARN&&zS.warn(`Auth (${xh}): ${e}`,...t)}function sw(e,...t){zS.logLevel<=rn.ERROR&&zS.error(`Auth (${xh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(e,...t){throw bM(e,...t)}function Du(e,...t){return bM(e,...t)}function Aut(e,t,n){const r=Object.assign(Object.assign({},xut()),{[t]:n});return new pg("auth","Firebase",r).create(t,{appName:e.name})}function bM(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return vce.create(e,...t)}function At(e,t,...n){if(!e)throw bM(t,...n)}function wl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sw(t),new Error(t)}function Zl(e,t){e||wl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Cut(){return xH()==="http:"||xH()==="https:"}function xH(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Out(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cut()||Yet()||"connection"in navigator)?navigator.onLine:!0}function Put(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zl(n>t,"Short delay should be less than long delay!"),this.isMobile=Wet()||Get()}get(){return Out()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(e,t){Zl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bce{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nut=new jv(3e4,6e4);function PA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Tg(e,t,n,r,i={}){return wce(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Tv(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),bce.fetch()(Tce(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function wce(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Rut),t);try{const i=new kut(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cb(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cb(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw cb(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw cb(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Aut(e,c,l);Jl(e,c)}}catch(i){if(i instanceof Ju)throw i;Jl(e,"network-request-failed",{message:String(i)})}}async function Ece(e,t,n,r,i={}){const s=await Tg(e,t,n,r,i);return"mfaPendingCredential"in s&&Jl(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Tce(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?wM(e.config,i):`${e.config.apiScheme}://${i}`}class kut{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Du(this.auth,"network-request-failed")),Nut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cb(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Du(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dut(e,t){return Tg(e,"POST","/v1/accounts:delete",t)}async function $ut(e,t){return Tg(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Lut(e,t=!1){const n=Mi(e),r=await n.getIdToken(t),i=EM(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gy(CP(i.auth_time)),issuedAtTime:gy(CP(i.iat)),expirationTime:gy(CP(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function CP(e){return Number(e)*1e3}function EM(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return sw("JWT malformed, contained fewer than 3 sections"),null;try{const i=hae(n);return i?JSON.parse(i):(sw("Failed to decode base64 JWT payload"),null)}catch(i){return sw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Mut(e){const t=EM(e);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ju&&Fut(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Fut({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class But{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sce{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gy(this.lastLoginAt),this.creationTime=gy(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(e){var t;const n=e.auth,r=await e.getIdToken(),i=await N_(e,$ut(n,{idToken:r}));At(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Vut(s.providerUserInfo):[],a=Uut(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sce(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function jut(e){const t=Mi(e);await HS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Uut(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Vut(e){return e.map(t=>{var{providerId:n}=t,r=O3(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zut(e,t){const n=await wce(e,{},async()=>{const r=Tv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Tce(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bce.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hut(e,t){return Tg(e,"POST","/v2/accounts:revokeToken",PA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Mut(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return At(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await zut(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new k_;return r&&(At(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(At(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(At(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new k_,this.toJSON())}_performRefresh(){return wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(e,t){At(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Md{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=O3(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new But(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sce(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await N_(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Lut(this,t)}reload(){return jut(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Md(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await HS(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await N_(this,Dut(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:w,stsTokenManager:x}=n;At(v&&x,t,"internal-error");const A=k_.fromJSON(this.name,x);At(typeof v=="string",t,"internal-error"),gc(f,t.name),gc(d,t.name),At(typeof T=="boolean",t,"internal-error"),At(typeof S=="boolean",t,"internal-error"),gc(h,t.name),gc(p,t.name),gc(g,t.name),gc(y,t.name),gc(m,t.name),gc(_,t.name);const M=new Md({uid:v,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:S,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:A,createdAt:m,lastLoginAt:_});return w&&Array.isArray(w)&&(M.providerData=w.map(D=>Object.assign({},D))),y&&(M._redirectEventId=y),M}static async _fromIdTokenResponse(t,n,r=!1){const i=new k_;i.updateFromServerResponse(n);const s=new Md({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await HS(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new Map;function El(e){Zl(e instanceof Function,"Expected a class definition");let t=IH.get(e);return t?(Zl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,IH.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}xce.type="NONE";const AH=xce;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(e,t,n){return`firebase:${e}:${t}:${n}`}class Qp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ow(this.userKey,i.apiKey,s),this.fullPersistenceKey=ow("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Md._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Qp(El(AH),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||El(AH);const o=ow(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=Md._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Qp(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Qp(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cce(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ice(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pce(t))return"Blackberry";if(Rce(t))return"Webos";if(TM(t))return"Safari";if((t.includes("chrome/")||Ace(t))&&!t.includes("edge/"))return"Chrome";if(Oce(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ice(e=is()){return/firefox\//i.test(e)}function TM(e=is()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ace(e=is()){return/crios\//i.test(e)}function Cce(e=is()){return/iemobile/i.test(e)}function Oce(e=is()){return/android/i.test(e)}function Pce(e=is()){return/blackberry/i.test(e)}function Rce(e=is()){return/webos/i.test(e)}function RA(e=is()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qut(e=is()){var t;return RA(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Wut(){return Ket()&&document.documentMode===10}function Nce(e=is()){return RA(e)||Oce(e)||Rce(e)||Pce(e)||/windows phone/i.test(e)||Cce(e)}function Yut(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kce(e,t=[]){let n;switch(e){case"Browser":n=CH(is());break;case"Worker":n=`${CH(is())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gut{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kut(e,t={}){return Tg(e,"GET","/v2/passwordPolicy",PA(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qut=6;class Xut{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Qut,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jut{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OH(this),this.idTokenSubscription=new OH(this),this.beforeStateQueue=new Gut(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vce,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=El(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qp.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await HS(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Put()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Mi(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(El(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Kut(this),n=new Xut(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new pg("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hut(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&El(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Qp.create(this,[El(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Iut(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function NA(e){return Mi(e)}class OH{constructor(t){this.auth=t,this.observer=null,this.addObserver=ttt(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zut(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function elt(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Du("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Zut().appendChild(r)})}function tlt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nlt(e,t){const n=mg(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(f_(s,t??{}))return i;Jl(i,"already-initialized")}return n.initialize({options:t})}function rlt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(El);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function ilt(e,t,n){const r=NA(e);At(r._canInitEmulator,r,"emulator-config-failed"),At(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Dce(t),{host:o,port:a}=slt(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||olt()}function Dce(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function slt(e){const t=Dce(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:PH(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:PH(o)}}}function PH(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function olt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ce{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return wl("not implemented")}_getIdTokenResponse(t){return wl("not implemented")}_linkToIdToken(t,n){return wl("not implemented")}_getReauthenticationResolver(t){return wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(e,t){return Ece(e,"POST","/v1/accounts:signInWithIdp",PA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const alt="http://localhost";class uh extends $ce{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new uh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Jl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=O3(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new uh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Xp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Xp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Xp(t,n)}buildRequest(){const t={requestUri:alt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tv(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lce{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends Lce{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Uv{constructor(){super("facebook.com")}static credential(t){return uh._fromParams({providerId:Rc.PROVIDER_ID,signInMethod:Rc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rc.credentialFromTaggedObject(t)}static credentialFromError(t){return Rc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rc.credential(t.oauthAccessToken)}catch{return null}}}Rc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Uv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return uh._fromParams({providerId:Nc.PROVIDER_ID,signInMethod:Nc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Nc.credentialFromTaggedObject(t)}static credentialFromError(t){return Nc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Nc.credential(n,r)}catch{return null}}}Nc.GOOGLE_SIGN_IN_METHOD="google.com";Nc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Uv{constructor(){super("github.com")}static credential(t){return uh._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kc.credentialFromTaggedObject(t)}static credentialFromError(t){return kc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kc.credential(t.oauthAccessToken)}catch{return null}}}kc.GITHUB_SIGN_IN_METHOD="github.com";kc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Uv{constructor(){super("twitter.com")}static credential(t,n){return uh._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Dc.credentialFromTaggedObject(t)}static credentialFromError(t){return Dc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Dc.credential(n,r)}catch{return null}}}Dc.TWITTER_SIGN_IN_METHOD="twitter.com";Dc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ult(e,t){return Ece(e,"POST","/v1/accounts:signUp",PA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Md._fromIdTokenResponse(t,r,i),o=RH(r);return new Of({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=RH(r);return new Of({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function RH(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function llt(e){var t;const n=NA(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Of({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ult(n,{returnSecureToken:!0}),i=await Of._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends Ju{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qS.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new qS(t,n,r,i)}}function Mce(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qS._fromErrorAndOperation(e,s,t,r):s})}async function clt(e,t,n=!1){const r=await N_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Of._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function flt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await N_(e,Mce(r,i,t,e),n);At(s.idToken,r,"internal-error");const o=EM(s.idToken);At(o,r,"internal-error");const{sub:a}=o;return At(e.uid===a,r,"user-mismatch"),Of._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dlt(e,t,n=!1){const r="signIn",i=await Mce(e,r,t),s=await Of._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function hlt(e,t,n,r){return Mi(e).onIdTokenChanged(t,n,r)}function plt(e,t,n){return Mi(e).beforeAuthStateChanged(t,n)}const WS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fce{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(WS,"1"),this.storage.removeItem(WS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mlt(){const e=is();return TM(e)||RA(e)}const glt=1e3,ylt=10;class Bce extends Fce{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=mlt()&&Yut(),this.fallbackToPolling=Nce(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Wut()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,ylt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},glt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Bce.type="LOCAL";const _lt=Bce;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jce extends Fce{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}jce.type="SESSION";const Uce=jce;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vlt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new kA(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await vlt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class blt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=SM("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(){return window}function wlt(e){$u().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vce(){return typeof $u().WorkerGlobalScope<"u"&&typeof $u().importScripts=="function"}async function Elt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tlt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Slt(){return Vce()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce="firebaseLocalStorageDb",xlt=1,YS="firebaseLocalStorage",Hce="fbase_key";class Vv{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function DA(e,t){return e.transaction([YS],t?"readwrite":"readonly").objectStore(YS)}function Ilt(){const e=indexedDB.deleteDatabase(zce);return new Vv(e).toPromise()}function ak(){const e=indexedDB.open(zce,xlt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(YS,{keyPath:Hce})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(YS)?t(r):(r.close(),await Ilt(),t(await ak()))})})}async function NH(e,t,n){const r=DA(e,!0).put({[Hce]:t,value:n});return new Vv(r).toPromise()}async function Alt(e,t){const n=DA(e,!1).get(t),r=await new Vv(n).toPromise();return r===void 0?null:r.value}function kH(e,t){const n=DA(e,!0).delete(t);return new Vv(n).toPromise()}const Clt=800,Olt=3;class qce{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ak(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Olt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vce()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kA._getInstance(Slt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Elt(),!this.activeServiceWorker)return;this.sender=new blt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Tlt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ak();return await NH(t,WS,"1"),await kH(t,WS),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NH(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Alt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kH(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=DA(i,!1).getAll();return new Vv(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Clt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qce.type="LOCAL";const Plt=qce;new jv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rlt(e,t){return t?El(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM extends $ce{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Xp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Xp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Nlt(e){return dlt(e.auth,new xM(e),e.bypassAuthState)}function klt(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),flt(n,new xM(e),e.bypassAuthState)}async function Dlt(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),clt(n,new xM(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wce{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Nlt;case"linkViaPopup":case"linkViaRedirect":return Dlt;case"reauthViaPopup":case"reauthViaRedirect":return klt;default:Jl(this.auth,"internal-error")}}resolve(t){Zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $lt=new jv(2e3,1e4);class Tp extends Wce{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Tp.currentPopupAction&&Tp.currentPopupAction.cancel(),Tp.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){Zl(this.filter.length===1,"Popup operations only handle one event");const t=SM();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Du(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Du(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tp.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Du(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$lt.get())};t()}}Tp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Llt="pendingRedirect",aw=new Map;class Mlt extends Wce{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=aw.get(this.auth._key());if(!t){try{const r=await Flt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}aw.set(this.auth._key(),t)}return this.bypassAuthState||aw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Flt(e,t){const n=Ult(t),r=jlt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Blt(e,t){aw.set(e._key(),t)}function jlt(e){return El(e._redirectPersistence)}function Ult(e){return ow(Llt,e.config.apiKey,e.name)}async function Vlt(e,t,n=!1){const r=NA(e),i=Rlt(r,t),o=await new Mlt(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zlt=10*60*1e3;class Hlt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qlt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Yce(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Du(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zlt&&this.cachedEventUids.clear(),this.cachedEventUids.has(DH(t))}saveEventToCache(t){this.cachedEventUids.add(DH(t)),this.lastProcessedEventTime=Date.now()}}function DH(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Yce({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function qlt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yce(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wlt(e,t={}){return Tg(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ylt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Glt=/^https?/;async function Klt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Wlt(e);for(const n of t)try{if(Qlt(n))return}catch{}Jl(e,"unauthorized-domain")}function Qlt(e){const t=ok(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Glt.test(n))return!1;if(Ylt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xlt=new jv(3e4,6e4);function $H(){const e=$u().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Jlt(e){return new Promise((t,n)=>{var r,i,s;function o(){$H(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$H(),n(Du(e,"network-request-failed"))},timeout:Xlt.get()})}if(!((i=(r=$u().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=$u().gapi)===null||s===void 0)&&s.load)o();else{const a=tlt("iframefcb");return $u()[a]=()=>{gapi.load?o():n(Du(e,"network-request-failed"))},elt(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw uw=null,t})}let uw=null;function Zlt(e){return uw=uw||Jlt(e),uw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ect=new jv(5e3,15e3),tct="__/auth/iframe",nct="emulator/auth/iframe",rct={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ict=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sct(e){const t=e.config;At(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?wM(t,nct):`https://${e.config.authDomain}/${tct}`,r={apiKey:t.apiKey,appName:e.name,v:xh},i=ict.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tv(r).slice(1)}`}async function oct(e){const t=await Zlt(e),n=$u().gapi;return At(n,e,"internal-error"),t.open({where:document.body,url:sct(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rct,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Du(e,"network-request-failed"),a=$u().setTimeout(()=>{s(o)},ect.get());function u(){$u().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const act={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uct=500,lct=600,cct="_blank",fct="http://localhost";class LH{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dct(e,t,n,r=uct,i=lct){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},act),{width:r.toString(),height:i.toString(),top:s,left:o}),l=is().toLowerCase();n&&(a=Ace(l)?cct:n),Ice(l)&&(t=t||fct,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(qut(l)&&a!=="_self")return hct(t||"",a),new LH(null);const f=window.open(t||"",a,c);At(f,e,"popup-blocked");try{f.focus()}catch{}return new LH(f)}function hct(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pct="__/auth/handler",mct="emulator/auth/handler",gct=encodeURIComponent("fac");async function MH(e,t,n,r,i,s){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xh,eventId:i};if(t instanceof Lce){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ett(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof Uv){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${gct}=${encodeURIComponent(u)}`:"";return`${yct(e)}?${Tv(a).slice(1)}${l}`}function yct({config:e}){return e.emulator?wM(e,mct):`https://${e.authDomain}/${pct}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="webStorageSupport";class _ct{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uce,this._completeRedirectFn=Vlt,this._overrideRedirectResult=Blt}async _openPopup(t,n,r,i){var s;Zl((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await MH(t,n,r,ok(),i);return dct(t,o,SM())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await MH(t,n,r,ok(),i);return wlt(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await oct(t),r=new Hlt(t);return n.register("authEvent",i=>(At(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(OP,{type:OP},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[OP];o!==void 0&&n(!!o),Jl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Klt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nce()||TM()||RA()}}const vct=_ct;var FH="@firebase/auth",BH="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bct{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wct(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Ect(e){Gl(new zu("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;At(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kce(e)},l=new Jut(r,i,s,u);return rlt(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Gl(new zu("auth-internal",t=>{const n=NA(t.getProvider("auth").getImmediate());return(r=>new bct(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$a(FH,BH,wct(e)),$a(FH,BH,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tct=5*60,Sct=yae("authIdTokenMaxAge")||Tct;let jH=null;const xct=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Sct)return;const i=n==null?void 0:n.token;jH!==i&&(jH=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ict(e=aL()){const t=mg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=nlt(e,{popupRedirectResolver:vct,persistence:[Plt,_lt,Uce]}),r=yae("authTokenSyncURL");if(r){const s=xct(r);plt(n,s,()=>s(n.currentUser)),hlt(n,o=>s(o))}const i=mae("auth");return i&&ilt(n,`http://${i}`),n}Ect("Browser");class Act extends fae{constructor(){super("firebase");no(this,"RECAPTCHAV3TOKEN","6LdjOd0lAAAAAASvFfDZFWgtbzFSS9Y3so8rHJth");no(this,"firestore");no(this,"collectionPrefix","prod-");no(this,"studyCollection");no(this,"studyId","");no(this,"localForage",cae.createInstance({name:"currentParticipantId"}));no(this,"localProvenanceCopy",{});no(this,"localWindowEvents",{});const n=HD.parse(`
{
  apiKey: "AIzaSyAm9QtUgx1lYPDeE0vKLN-lK17WfUGVkLo",
  authDomain: "revisit-utah.firebaseapp.com",
  projectId: "revisit-utah",
  storageBucket: "revisit-utah.appspot.com",
  messagingSenderId: "811568460432",
  appId: "1:811568460432:web:995f6b4f1fc8042b5dde15"
}
`),r=bae(n);this.firestore=vat(r,{});try{wut(r,{provider:new vM(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=Ict();if(await llt(n),!n.currentUser)throw new Error("Login failed with firebase");await bat(this.firestore);const r=await Ka(this.firestore,".info/connected");await ab(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await Wp(JSON.stringify(r));this.studyCollection=IP(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=Ka(this.studyCollection,"configs"),o=IP(s,"configs"),a=Ka(o,i);return await c0(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=Ka(this.studyCollection,this.currentParticipantId),o=(await ab(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o!==null&&(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await Wp(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await c0(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=Ka(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=Ka(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await c0(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage(this.currentParticipantId,"provenance",this.localProvenanceCopy)),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage(this.currentParticipantId,"windowEvents",this.localWindowEvents)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");this._pushToFirebaseStorage("","sequenceArray",{sequenceArray:n})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return(await this._getFromFirebaseStorage("","sequenceArray")).sequenceArray}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=Ka(this.studyCollection,"sequenceAssignment"),i=IP(r,"sequenceAssignment"),s=Ka(i,this.currentParticipantId);await c0(s,{participantId:this.currentParticipantId,timestamp:Bat()});const o=Rat(i,Nat("timestamp","asc")),l=(await _H(o)).docs.map(f=>f.data()).findIndex(f=>f.participantId===this.currentParticipantId),c=n[l%n.length];if(!c)throw new Error("Latin square is empty");return c}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await _H(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let n=null;if(this.currentParticipantId!==null){const r=Ka(this.studyCollection,this.currentParticipantId);if(n=(await ab(r)).data(),n!==null){const i=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),s=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents");Object.entries(n.answers).forEach(([o,a])=>{a!==void 0&&(a.provenanceGraph=i[o],a.windowEvents=s[o])})}}return n}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Ka(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await ab(r)).data()),!s){const o=await Wp(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await c0(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=wz(),s=bz(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await xrt(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n,r,i={}){if(Object.keys(i).length>0){const s=wz(),o=bz(s,`${this.studyId}/${n}_${r}`),a=new Blob([JSON.stringify(i)],{type:"application/json"});await Srt(o,a)}}}async function Cct(){let e,t=!1;{const n=new Act;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Met;await n.connect(),e=n}return e}function Oct(){const{storageEngine:e,setStorageEngine:t}=kf();return E.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await Cct();t(r)}n()},[t,e]),O.jsx(Ret,{})}PP.createRoot(document.getElementById("root")).render(O.jsx(N.StrictMode,{children:O.jsx(Che,{children:O.jsx(Oct,{})})}));
